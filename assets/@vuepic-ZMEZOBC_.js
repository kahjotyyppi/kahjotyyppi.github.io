import"./vue-BjVh0Y9t.js";import{r as Xa,a as W,d as Ye,u as Ca,t as Ua,o as He,n as Ze,b as ut,w as ta,c as U,e as A,f as V,g as la,h as ze,i as Me,j as ge,k as ue,l as Be,m as qe,p as s,q as Le,s as Qt,v as Ae,T as La,x as K,y as st,z as Fl,A as ke,B as ye,F as _e,C as aa,D as ja,E as Ve,G as Vl,H as Wt,I as va,J as zl,K as lt,L as nt,M as Hl,N as Ul,O as jl}from"./@vue-DDeinw2Q.js";import{g as pe,a as be,b as Kl,e as dl,d as Jl,f as sa,s as Se,c as ql,i as Ka,h as Ra,j as Oa,k as rt,l as Xl,m as pa,n as _a,o as Na,p as ua,q as ot,r as cl,t as Sa,u as Lt,v as vl,w as Gt,x as Ql,y as pl,z as Wl,A as Zt,B as Nt,C as Ja,D as el,E as Gl,F as Zl,G as ml,H as yl,I as en,J as an,K as tn,L as $a,M as ln,N as fl,O as hl,P as nn,Q as rn}from"./date-fns-C7_rVUPb.js";function Ya(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),ye("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ye("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ye("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ya.compatConfig={MODE:3};function gl(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),ye("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}gl.compatConfig={MODE:3};function Yt(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Yt.compatConfig={MODE:3};function Et(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Et.compatConfig={MODE:3};function Ft(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),ye("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Ft.compatConfig={MODE:3};function Vt(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Vt.compatConfig={MODE:3};function zt(){return A(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}zt.compatConfig={MODE:3};const Ge=(e,a)=>a?new Date(e.toLocaleString("en-US",{timeZone:a})):new Date(e),Ht=(e,a,n)=>It(e,a,n)||F(),on=(e,a,n)=>{const l=a.dateInTz?Ge(new Date(e),a.dateInTz):F(e);return n?Ke(l,!0):l},It=(e,a,n)=>{if(!e)return null;const l=n?Ke(F(e),!0):F(e);return a?a.exactMatch?on(e,a,n):Ge(l,a.timezone):l},un=e=>{if(!e)return 0;const a=new Date,n=new Date(a.toLocaleString("en-US",{timeZone:"UTC"})),l=new Date(a.toLocaleString("en-US",{timeZone:e})),t=l.getTimezoneOffset()/60;return(+n-+l)/(1e3*60*60)-t};var na=(e=>(e.month="month",e.year="year",e))(na||{}),Aa=(e=>(e.top="top",e.bottom="bottom",e))(Aa||{}),Ta=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Ta||{}),Fe=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Fe||{});const sn=["timestamp","date","iso"];var je=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(je||{}),Ce=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(Ce||{});function al(e){return a=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${a}T00:00:00+00:00`)).slice(0,2)}function dn(e){return a=>sa(new Date(`2017-01-0${a}T00:00:00+00:00`),"EEEEEE",{locale:e})}const cn=(e,a,n)=>{const l=[1,2,3,4,5,6,7];let t;if(e!==null)try{t=l.map(dn(e))}catch{t=l.map(al(a))}else t=l.map(al(a));const v=t.slice(0,n),p=t.slice(n+1,t.length);return[t[n]].concat(...p).concat(...v)},Ut=(e,a,n)=>{const l=[];for(let t=+e[0];t<=+e[1];t++)l.push({value:+t,text:wl(t,a)});return n?l.reverse():l},bl=(e,a,n)=>{const l=[1,2,3,4,5,6,7,8,9,10,11,12].map(v=>{const p=v<10?`0${v}`:v;return new Date(`2017-${p}-01T00:00:00+00:00`)});if(e!==null)try{const v=n==="long"?"LLLL":"LLL";return l.map((p,b)=>{const c=sa(Ge(p,"UTC"),v,{locale:e});return{text:c.charAt(0).toUpperCase()+c.substring(1),value:b}})}catch{}const t=new Intl.DateTimeFormat(a,{month:n,timeZone:"UTC"});return l.map((v,p)=>{const b=t.format(v);return{text:b.charAt(0).toUpperCase()+b.substring(1),value:p}})},vn=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Ne=e=>{const a=s(e);return a!=null&&a.$el?a==null?void 0:a.$el:a},pn=e=>({type:"dot",...e??{}}),_l=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,jt={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ie=e=>e,tl=e=>e===0?e:!e||isNaN(+e)?null:+e,ll=e=>e===null,kl=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},mn=e=>{const a=[],n=l=>l.filter(t=>t);for(let l=0;l<e.length;l+=3){const t=[e[l],e[l+1],e[l+2]];a.push(n(t))}return a},qa=(e,a,n)=>{const l=n!=null,t=a!=null;if(!l&&!t)return!1;const v=+n,p=+a;return l&&t?+e>v||+e<p:l?+e>v:t?+e<p:!1},Ia=(e,a)=>mn(e).map(n=>n.map(l=>{const{active:t,disabled:v,isBetween:p,highlighted:b}=a(l);return{...l,active:t,disabled:v,className:{dp__overlay_cell_active:t,dp__overlay_cell:!t,dp__overlay_cell_disabled:v,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:v&&t,dp__cell_in_between:p,"dp--highlighted":b}}})),ga=(e,a,n=!1)=>{e&&a.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},yn=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function fn(e,a){let n=[...document.querySelectorAll(yn())];n=n.filter(t=>!e.contains(t)||t.hasAttribute("data-datepicker-instance"));const l=n.indexOf(e);if(l>=0&&(a?l-1>=0:l+1<=n.length))return n[l+(a?-1:1)]}const hn=(e,a)=>e==null?void 0:e.querySelector(`[data-dp-element="${a}"]`),wl=(e,a)=>new Intl.NumberFormat(a,{useGrouping:!1,style:"decimal"}).format(e),Kt=e=>sa(e,"dd-MM-yyyy"),Dt=e=>Array.isArray(e),it=(e,a)=>a.get(Kt(e)),gn=(e,a)=>e?a?a instanceof Map?!!it(e,a):a(F(e)):!1:!0,Xe=(e,a,n=!1)=>{if(e.key===Ce.enter||e.key===Ce.space)return n&&e.preventDefault(),a()},nl=(e,a,n,l,t,v)=>{const p=Nt(e,a.slice(0,e.length),new Date,{locale:v});return rt(p)&&ln(p)?l||t?p:Se(p,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},bn=(e,a,n,l,t,v)=>{const p=Array.isArray(n)?n[0]:n;if(typeof a=="string")return nl(e,a,p,l,t,v);if(Array.isArray(a)){let b=null;for(const c of a)if(b=nl(e,c,p,l,t,v),b)break;return b}return typeof a=="function"?a(e):null},F=e=>e?new Date(e):new Date,_n=(e,a,n)=>{if(a){const t=(e.getMonth()+1).toString().padStart(2,"0"),v=e.getDate().toString().padStart(2,"0"),p=e.getHours().toString().padStart(2,"0"),b=e.getMinutes().toString().padStart(2,"0"),c=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${t}-${v}T${p}:${b}:${c}.000Z`}const l=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(l).toISOString()},Ke=(e,a)=>{const n=F(JSON.parse(JSON.stringify(e))),l=Se(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return a?ql(l):l},ba=(e,a,n,l)=>{let t=e?F(e):F();return(a||a===0)&&(t=Gl(t,+a)),(n||n===0)&&(t=Zl(t,+n)),(l||l===0)&&(t=ml(t,+l)),yl(t,0)},Pe=(e,a)=>!e||!a?!1:Ka(Ke(e),Ke(a)),De=(e,a)=>!e||!a?!1:Ra(Ke(e),Ke(a)),Oe=(e,a)=>!e||!a?!1:Oa(Ke(e),Ke(a)),dt=(e,a,n)=>e!=null&&e[0]&&e!=null&&e[1]?Oe(n,e[0])&&Pe(n,e[1]):e!=null&&e[0]&&a?Oe(n,e[0])&&Pe(n,a)||Pe(n,e[0])&&Oe(n,a):!1,ra=e=>{const a=Se(new Date(e),{date:1});return Ke(a)},At=(e,a,n)=>a&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(l=>l===a?[l,n]:[l,isNaN(+e[l])?void 0:+e[l]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},Ma=e=>({hours:pa(e),minutes:_a(e),seconds:Na(e)}),Dl=(e,a)=>{if(a){const n=pe(F(a));if(n>e)return 12;if(n===e)return be(F(a))}},Al=(e,a)=>{if(a){const n=pe(F(a));return n<e?-1:n===e?be(F(a)):void 0}},Ba=e=>{if(e)return pe(F(e))},$l=(e,a)=>{const n=Oe(e,a)?a:e,l=Oe(a,e)?a:e;return dl({start:n,end:l})},kn=e=>{const a=Sa(e,1);return{month:be(a),year:pe(a)}},da=(e,a)=>{const n=Lt(e,{weekStartsOn:+a}),l=vl(e,{weekStartsOn:+a});return[n,l]},Sl=(e,a)=>{const n={hours:pa(F()),minutes:_a(F()),seconds:a?Na(F()):0};return Object.assign(n,e)},ha=(e,a,n)=>[Se(F(e),{date:1}),Se(F(),{month:a,year:n,date:1})],ca=(e,a,n)=>{let l=e?F(e):F();return(a||a===0)&&(l=en(l,a)),n&&(l=ua(l,n)),l},Tl=(e,a,n,l,t)=>{if(!l||t&&!a||!t&&!n)return!1;const v=t?Sa(e,1):Ja(e,1),p=[be(v),pe(v)];return t?!Dn(...p,a):!wn(...p,n)},wn=(e,a,n)=>Pe(...ha(n,e,a))||De(...ha(n,e,a)),Dn=(e,a,n)=>Oe(...ha(n,e,a))||De(...ha(n,e,a)),Ml=(e,a,n,l,t,v,p)=>{if(typeof a=="function"&&!p)return a(e);const b=n?{locale:n}:void 0;return Array.isArray(e)?`${sa(e[0],v,b)}${t&&!e[1]?"":l}${e[1]?sa(e[1],v,b):""}`:sa(e,v,b)},xa=e=>{if(e)return null;throw new Error(jt.prop("partial-range"))},at=(e,a)=>{if(a)return e();throw new Error(jt.prop("range"))},Bt=e=>Array.isArray(e)?rt(e[0])&&(e[1]?rt(e[1]):!0):e?rt(e):!1,An=(e,a)=>Se(a??F(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),$t=(e,a,n,l)=>{if(!e)return!0;if(l){const t=n==="max"?Ka(e,a):Oa(e,a),v={seconds:0,milliseconds:0};return t||Ra(Se(e,v),Se(a,v))}return n==="max"?e.getTime()<=a.getTime():e.getTime()>=a.getTime()},St=(e,a,n)=>e?An(e,a):F(n??a),rl=(e,a,n,l,t)=>{if(Array.isArray(l)){const p=St(e,l[0],a),b=St(e,l[1],a);return $t(l[0],p,n,!!a)&&$t(l[1],b,n,!!a)&&t}const v=St(e,l,a);return $t(l,v,n,!!a)&&t},Tt=e=>Se(F(),Ma(e)),$n=(e,a)=>e instanceof Map?Array.from(e.values()).filter(n=>pe(F(n))===a).map(n=>be(n)):[],Cl=(e,a,n)=>typeof e=="function"?e({month:a,year:n}):!!e.months.find(l=>l.month===a&&l.year===n),Jt=(e,a)=>typeof e=="function"?e(a):e.years.includes(a),xl=e=>sa(e,"yyyy-MM-dd"),za=Xa({menuFocused:!1,shiftKeyInMenu:!1}),Pl=()=>{const e=n=>{za.menuFocused=n},a=n=>{za.shiftKeyInMenu!==n&&(za.shiftKeyInMenu=n)};return{control:U(()=>({shiftKeyInMenu:za.shiftKeyInMenu,menuFocused:za.menuFocused})),setMenuFocused:e,setShiftKey:a}},Te=Xa({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Mt=W(null),tt=W(!1),Ct=W(!1),xt=W(!1),Pt=W(!1),Ee=W(0),Re=W(0),ka=()=>{const e=U(()=>tt.value?[...Te.selectionGrid,Te.actionRow].filter(h=>h.length):Ct.value?[...Te.timePicker[0],...Te.timePicker[1],Pt.value?[]:[Mt.value],Te.actionRow].filter(h=>h.length):xt.value?[...Te.monthPicker,Te.actionRow]:[Te.monthYear,...Te.calendar,Te.time,Te.actionRow].filter(h=>h.length)),a=h=>{Ee.value=h?Ee.value+1:Ee.value-1;let f=null;e.value[Re.value]&&(f=e.value[Re.value][Ee.value]),!f&&e.value[Re.value+(h?1:-1)]?(Re.value=Re.value+(h?1:-1),Ee.value=h?0:e.value[Re.value].length-1):f||(Ee.value=h?Ee.value-1:Ee.value+1)},n=h=>{Re.value===0&&!h||Re.value===e.value.length&&h||(Re.value=h?Re.value+1:Re.value-1,e.value[Re.value]?e.value[Re.value]&&!e.value[Re.value][Ee.value]&&Ee.value!==0&&(Ee.value=e.value[Re.value].length-1):Re.value=h?Re.value-1:Re.value+1)},l=h=>{let f=null;e.value[Re.value]&&(f=e.value[Re.value][Ee.value]),f?f.focus({preventScroll:!tt.value}):Ee.value=h?Ee.value-1:Ee.value+1},t=()=>{a(!0),l(!0)},v=()=>{a(!1),l(!1)},p=()=>{n(!1),l(!0)},b=()=>{n(!0),l(!0)},c=(h,f)=>{Te[f]=h},Y=(h,f)=>{Te[f]=h},y=()=>{Ee.value=0,Re.value=0};return{buildMatrix:c,buildMultiLevelMatrix:Y,setTimePickerBackRef:h=>{Mt.value=h},setSelectionGrid:h=>{tt.value=h,y(),h||(Te.selectionGrid=[])},setTimePicker:(h,f=!1)=>{Ct.value=h,Pt.value=f,y(),h||(Te.timePicker[0]=[],Te.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{Te.timePicker[f]=h},arrowRight:t,arrowLeft:v,arrowUp:p,arrowDown:b,clearArrowNav:()=>{Te.monthYear=[],Te.calendar=[],Te.time=[],Te.actionRow=[],Te.selectionGrid=[],Te.timePicker[0]=[],Te.timePicker[1]=[],tt.value=!1,Ct.value=!1,Pt.value=!1,xt.value=!1,y(),Mt.value=null},setMonthPicker:h=>{xt.value=h,y()},refSets:Te}},ol=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),Sn=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...e??{}}),il=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,Tn=e=>{const a=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:il(!1)};const l=a?e:{},t=a?l.count??!0:e,v=il(t);return Object.assign(n,l,{count:v})},Mn=(e,a,n)=>e||(typeof n=="string"?n:a),Cn=e=>typeof e=="boolean"?e?ol({}):!1:ol(e),xn=e=>{const a={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof e=="object"?{...a,...e??{},enabled:!0}:{...a,enabled:e}},Pn=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),Rn=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),On=e=>{const a={input:!1};return typeof e=="object"?{...a,...e??{},enabled:!0}:{enabled:e,...a}},Nn=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...e??{}}),In=e=>{const a={dates:Array.isArray(e)?e.map(n=>F(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...a,...e??{}}},Bn=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},Ln=(e,a)=>typeof e=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...e}:{enabled:e,noDisabledRange:a.noDisabledRange,showLastInRange:a.showLastInRange,minMaxRawRange:a.minMaxRawRange,partialRange:a.partialRange,disableTimeRangeValidation:a.disableTimeRangeValidation,maxRange:a.maxRange,minRange:a.minRange,autoRange:a.autoRange,fixedStart:a.fixedStart,fixedEnd:a.fixedEnd},Yn=(e,a)=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:a,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:a??e.emitTimezone,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:a},Rt=(e,a,n)=>new Map(e.map(l=>{const t=Ht(l,a,n);return[Kt(t),t]})),En=(e,a)=>e.length?new Map(e.map(n=>{const l=Ht(n.date,a);return[Kt(l),n]})):null,Fn=e=>{var a;return{minDate:It(e.minDate,e.timezone,e.isSpecific),maxDate:It(e.maxDate,e.timezone,e.isSpecific),disabledDates:Dt(e.disabledDates)?Rt(e.disabledDates,e.timezone,e.isSpecific):e.disabledDates,allowedDates:Dt(e.allowedDates)?Rt(e.allowedDates,e.timezone,e.isSpecific):null,highlight:typeof e.highlight=="object"&&Dt((a=e.highlight)==null?void 0:a.dates)?Rt(e.highlight.dates,e.timezone):e.highlight,markers:En(e.markers,e.timezone)}},Vn=(e,a)=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:+a}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},zn=e=>({...Object.fromEntries(Object.keys(e).map(a=>{const n=a,l=e[n],t=typeof e[n]=="string"?{[l]:!0}:Object.fromEntries(l.map(v=>[v,!0]));return[a,t]}))}),xe=e=>{const a=()=>{const R=e.enableSeconds?":ss":"",C=e.enableMinutes?":mm":"";return e.is24?`HH${C}${R}`:`hh${C}${R} aa`},n=()=>{var R;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?a():e.weekPicker?`${((R=I.value)==null?void 0:R.type)==="iso"?"RR":"ww"}-yyyy`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${a()}`:"MM/dd/yyyy"},l=R=>Sl(R,e.enableSeconds),t=()=>H.value.enabled?e.startTime&&Array.isArray(e.startTime)?[l(e.startTime[0]),l(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?l(e.startTime):null,v=U(()=>Tn(e.multiCalendars)),p=U(()=>t()),b=U(()=>Sn(e.ariaLabels)),c=U(()=>Pn(e.filters)),Y=U(()=>Cn(e.transitions)),y=U(()=>Rn(e.actionRow)),h=U(()=>Mn(e.previewFormat,e.format,n())),f=U(()=>xn(e.textInput)),D=U(()=>On(e.inline)),P=U(()=>Nn(e.config)),k=U(()=>In(e.highlight)),I=U(()=>Bn(e.weekNumbers)),j=U(()=>Yn(e.timezone,e.emitTimezone)),Z=U(()=>Vn(e.multiDates,e.multiDatesLimit)),T=U(()=>Fn({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:k.value,markers:e.markers,timezone:j.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker})),H=U(()=>Ln(e.range,{minMaxRawRange:!1,maxRange:e.maxRange,minRange:e.minRange,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd})),G=U(()=>zn(e.ui));return{defaultedTransitions:Y,defaultedMultiCalendars:v,defaultedStartTime:p,defaultedAriaLabels:b,defaultedFilters:c,defaultedActionRow:y,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:D,defaultedConfig:P,defaultedHighlight:k,defaultedWeekNumbers:I,defaultedRange:H,propDates:T,defaultedTz:j,defaultedMultiDates:Z,defaultedUI:G,getDefaultPattern:n,getDefaultStartTime:t}},Hn=(e,a,n)=>{const l=W(),{defaultedTextInput:t,defaultedRange:v,defaultedTz:p,defaultedMultiDates:b,getDefaultPattern:c}=xe(a),Y=W(""),y=Ua(a,"format"),h=Ua(a,"formatLocale");ta(l,()=>{typeof a.onInternalModelChange=="function"&&e("internal-model-change",l.value,le(!0))},{deep:!0}),ta(v,(d,re)=>{d.enabled!==re.enabled&&(l.value=null)}),ta(y,()=>{E()});const f=d=>p.value.timezone&&p.value.convertModel?Ge(d,p.value.timezone):d,D=d=>{if(p.value.timezone&&p.value.convertModel){const re=un(p.value.timezone);return Xl(d,re)}return d},P=(d,re,fe=!1)=>Ml(d,a.format,a.formatLocale,t.value.rangeSeparator,a.modelAuto,re??c(),fe),k=d=>d?a.modelType?ie(d):{hours:pa(d),minutes:_a(d),seconds:a.enableSeconds?Na(d):0}:null,I=d=>a.modelType?ie(d):{month:be(d),year:pe(d)},j=d=>Array.isArray(d)?b.value.enabled?d.map(re=>Z(re,ua(F(),re))):at(()=>[ua(F(),d[0]),d[1]?ua(F(),d[1]):xa(v.value.partialRange)],v.value.enabled):ua(F(),+d),Z=(d,re)=>(typeof d=="string"||typeof d=="number")&&a.modelType?ae(d):re,T=d=>Array.isArray(d)?[Z(d[0],ba(null,+d[0].hours,+d[0].minutes,d[0].seconds)),Z(d[1],ba(null,+d[1].hours,+d[1].minutes,d[1].seconds))]:Z(d,ba(null,d.hours,d.minutes,d.seconds)),H=d=>{const re=Se(F(),{date:1});return Array.isArray(d)?b.value.enabled?d.map(fe=>Z(fe,ca(re,+fe.month,+fe.year))):at(()=>[Z(d[0],ca(re,+d[0].month,+d[0].year)),Z(d[1],d[1]?ca(re,+d[1].month,+d[1].year):xa(v.value.partialRange))],v.value.enabled):Z(d,ca(re,+d.month,+d.year))},G=d=>{if(Array.isArray(d))return d.map(re=>ae(re));throw new Error(jt.dateArr("multi-dates"))},R=d=>{if(Array.isArray(d)&&v.value.enabled){const re=d[0],fe=d[1];return[F(Array.isArray(re)?re[0]:null),F(Array.isArray(fe)?fe[0]:null)]}return F(d[0])},C=d=>a.modelAuto?Array.isArray(d)?[ae(d[0]),ae(d[1])]:a.autoApply?[ae(d)]:[ae(d),null]:Array.isArray(d)?at(()=>d[1]?[ae(d[0]),d[1]?ae(d[1]):xa(v.value.partialRange)]:[ae(d[0])],v.value.enabled):ae(d),ne=()=>{Array.isArray(l.value)&&v.value.enabled&&l.value.length===1&&l.value.push(xa(v.value.partialRange))},J=()=>{const d=l.value;return[ie(d[0]),d[1]?ie(d[1]):xa(v.value.partialRange)]},O=()=>l.value[1]?J():ie(Ie(l.value[0])),te=()=>(l.value||[]).map(d=>ie(d)),se=(d=!1)=>(d||ne(),a.modelAuto?O():b.value.enabled?te():Array.isArray(l.value)?at(()=>J(),v.value.enabled):ie(Ie(l.value))),ce=d=>!d||Array.isArray(d)&&!d.length?null:a.timePicker?T(Ie(d)):a.monthPicker?H(Ie(d)):a.yearPicker?j(Ie(d)):b.value.enabled?G(Ie(d)):a.weekPicker?R(Ie(d)):C(Ie(d)),M=d=>{const re=ce(d);Bt(Ie(re))?(l.value=Ie(re),E()):(l.value=null,Y.value="")},u=()=>{const d=re=>sa(re,t.value.format);return`${d(l.value[0])} ${t.value.rangeSeparator} ${l.value[1]?d(l.value[1]):""}`},w=()=>n.value&&l.value?Array.isArray(l.value)?u():sa(l.value,t.value.format):P(l.value),o=()=>l.value?b.value.enabled?l.value.map(d=>P(d)).join("; "):t.value.enabled&&typeof t.value.format=="string"?w():P(l.value):"",E=()=>{!a.format||typeof a.format=="string"||t.value.enabled&&typeof t.value.format=="string"?Y.value=o():Y.value=a.format(l.value)},ae=d=>{if(a.utc){const re=new Date(d);return a.utc==="preserve"?new Date(re.getTime()+re.getTimezoneOffset()*6e4):re}return a.modelType?sn.includes(a.modelType)?f(new Date(d)):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?f(Nt(d,c(),new Date,{locale:h.value})):f(Nt(d,a.modelType,new Date,{locale:h.value})):f(new Date(d))},ie=d=>d?a.utc?_n(d,a.utc==="preserve",a.enableSeconds):a.modelType?a.modelType==="timestamp"?+D(d):a.modelType==="iso"?D(d).toISOString():a.modelType==="format"&&(typeof a.format=="string"||!a.format)?P(D(d)):P(D(d),a.modelType,!0):D(d):"",ve=(d,re=!1,fe=!1)=>{if(fe)return d;if(e("update:model-value",d),p.value.emitTimezone&&re){const x=Array.isArray(d)?d.map(me=>Ge(Ie(me),p.value.emitTimezone)):Ge(Ie(d),p.value.emitTimezone);e("update:model-timezone-value",x)}},m=d=>Array.isArray(l.value)?b.value.enabled?l.value.map(re=>d(re)):[d(l.value[0]),l.value[1]?d(l.value[1]):xa(v.value.partialRange)]:d(Ie(l.value)),B=()=>{if(Array.isArray(l.value)){const d=da(l.value[0],a.weekStart),re=l.value[1]?da(l.value[1],a.weekStart):[];return[d.map(fe=>F(fe)),re.map(fe=>F(fe))]}return da(l.value,a.weekStart).map(d=>F(d))},r=(d,re)=>ve(Ie(m(d)),!1,re),S=d=>{const re=B();return d?re:e("update:model-value",B())},le=(d=!1)=>(d||E(),a.monthPicker?r(I,d):a.timePicker?r(k,d):a.yearPicker?r(pe,d):a.weekPicker?S(d):ve(se(d),!0,d));return{inputValue:Y,internalModelValue:l,checkBeforeEmit:()=>l.value?v.value.enabled?v.value.partialRange?l.value.length>=1:l.value.length===2:!!l.value:!1,parseExternalModelValue:M,formatInputValue:E,emitModelValue:le}},Un=(e,a)=>{const{defaultedFilters:n,propDates:l}=xe(e),{validateMonthYearInRange:t}=wa(e),v=(y,h)=>{let f=y;return n.value.months.includes(be(f))?(f=h?Sa(y,1):Ja(y,1),v(f,h)):f},p=(y,h)=>{let f=y;return n.value.years.includes(pe(f))?(f=h?fl(y,1):hl(y,1),p(f,h)):f},b=(y,h=!1)=>{const f=Se(F(),{month:e.month,year:e.year});let D=y?Sa(f,1):Ja(f,1);e.disableYearSelect&&(D=ua(D,e.year));let P=be(D),k=pe(D);n.value.months.includes(P)&&(D=v(D,y),P=be(D),k=pe(D)),n.value.years.includes(k)&&(D=p(D,y),k=pe(D)),t(P,k,y,e.preventMinMaxNavigation)&&c(P,k,h)},c=(y,h,f)=>{a("update-month-year",{month:y,year:h,fromNav:f})},Y=U(()=>y=>Tl(Se(F(),{month:e.month,year:e.year}),l.value.maxDate,l.value.minDate,e.preventMinMaxNavigation,y));return{handleMonthYearChange:b,isDisabled:Y,updateMonthYear:c}},ct={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},oa={...ct,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},jn=["title"],Kn=["disabled"],Jn=Ye({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...oa},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:a}){const n=a,l=e,{defaultedActionRow:t,defaultedPreviewFormat:v,defaultedMultiCalendars:p,defaultedTextInput:b,defaultedInline:c,defaultedRange:Y,defaultedMultiDates:y,getDefaultPattern:h}=xe(l),{isTimeValid:f,isMonthValid:D}=wa(l),{buildMatrix:P}=ka(),k=W(null),I=W(null),j=W(!1),Z=W({}),T=W(null),H=W(null);He(()=>{l.arrowNavigation&&P([Ne(k),Ne(I)],"actionRow"),G(),window.addEventListener("resize",G)}),ut(()=>{window.removeEventListener("resize",G)});const G=()=>{j.value=!1,setTimeout(()=>{var u,w;const o=(u=T.value)==null?void 0:u.getBoundingClientRect(),E=(w=H.value)==null?void 0:w.getBoundingClientRect();o&&E&&(Z.value.maxWidth=`${E.width-o.width-20}px`),j.value=!0},0)},R=U(()=>Y.value.enabled&&!Y.value.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),C=U(()=>!f.value(l.internalModelValue)||!D.value(l.internalModelValue)||!R.value),ne=()=>{const u=v.value;return l.timePicker||l.monthPicker,u(Ie(l.internalModelValue))},J=()=>{const u=l.internalModelValue;return p.value.count>0?`${O(u[0])} - ${O(u[1])}`:[O(u[0]),O(u[1])]},O=u=>Ml(u,v.value,l.formatLocale,b.value.rangeSeparator,l.modelAuto,h()),te=U(()=>!l.internalModelValue||!l.menuMount?"":typeof v.value=="string"?Array.isArray(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?J():y.value.enabled?l.internalModelValue.map(u=>`${O(u)}`):l.modelAuto?`${O(l.internalModelValue[0])}`:`${O(l.internalModelValue[0])} -`:O(l.internalModelValue):ne()),se=()=>y.value.enabled?"; ":" - ",ce=U(()=>Array.isArray(te.value)?te.value.join(se()):te.value),M=()=>{f.value(l.internalModelValue)&&D.value(l.internalModelValue)&&R.value?n("select-date"):n("invalid-select")};return(u,w)=>(A(),V("div",{ref_key:"actionRowRef",ref:H,class:"dp__action_row"},[u.$slots["action-row"]?ue(u.$slots,"action-row",Be(Le({key:0},{internalModelValue:u.internalModelValue,disabled:C.value,selectDate:()=>u.$emit("select-date"),closePicker:()=>u.$emit("close-picker")}))):(A(),V(_e,{key:1},[s(t).showPreview?(A(),V("div",{key:0,class:"dp__selection_preview",title:ce.value,style:aa(Z.value)},[u.$slots["action-preview"]&&j.value?ue(u.$slots,"action-preview",{key:0,value:u.internalModelValue}):K("",!0),!u.$slots["action-preview"]&&j.value?(A(),V(_e,{key:1},[va(Ve(ce.value),1)],64)):K("",!0)],12,jn)):K("",!0),ye("div",{ref_key:"actionBtnContainer",ref:T,class:"dp__action_buttons","data-dp-element":"action-row"},[u.$slots["action-buttons"]?ue(u.$slots,"action-buttons",{key:0,value:u.internalModelValue}):K("",!0),u.$slots["action-buttons"]?K("",!0):(A(),V(_e,{key:1},[!s(c).enabled&&s(t).showCancel?(A(),V("button",{key:0,ref_key:"cancelButtonRef",ref:k,type:"button",class:"dp__action_button dp__action_cancel",onClick:w[0]||(w[0]=o=>u.$emit("close-picker")),onKeydown:w[1]||(w[1]=o=>s(Xe)(o,()=>u.$emit("close-picker")))},Ve(u.cancelText),545)):K("",!0),s(t).showNow?(A(),V("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:w[2]||(w[2]=o=>u.$emit("select-now")),onKeydown:w[3]||(w[3]=o=>s(Xe)(o,()=>u.$emit("select-now")))},Ve(u.nowButtonLabel),33)):K("",!0),s(t).showSelect?(A(),V("button",{key:2,ref_key:"selectButtonRef",ref:I,type:"button",class:"dp__action_button dp__action_select",disabled:C.value,"data-test":"select-button",onKeydown:w[4]||(w[4]=o=>s(Xe)(o,()=>M())),onClick:M},Ve(u.selectText),41,Kn)):K("",!0)],64))],512)],64))],512))}}),qn={class:"dp__selection_grid_header"},Xn=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Qn=["aria-label"],Qa=Ye({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:a,emit:n}){const{setSelectionGrid:l,buildMultiLevelMatrix:t,setMonthPicker:v}=ka(),p=n,b=e,{defaultedAriaLabels:c,defaultedTextInput:Y,defaultedConfig:y}=xe(b),{hideNavigationButtons:h}=mt(),f=W(!1),D=W(null),P=W(null),k=W([]),I=W(),j=W(null),Z=W(0),T=W(null);zl(()=>{D.value=null}),He(()=>{Ze().then(()=>te()),b.noOverlayFocus||G(),H(!0)}),ut(()=>H(!1));const H=m=>{var B;b.arrowNavigation&&((B=b.headerRefs)!=null&&B.length?v(m):l(m))},G=()=>{var m;const B=Ne(P);B&&(Y.value.enabled||(D.value?(m=D.value)==null||m.focus({preventScroll:!0}):B.focus({preventScroll:!0})),f.value=B.clientHeight<B.scrollHeight)},R=U(()=>({dp__overlay:!0,"dp--overlay-absolute":!b.useRelative,"dp--overlay-relative":b.useRelative})),C=U(()=>b.useRelative?{height:`${b.height}px`,width:"260px"}:void 0),ne=U(()=>({dp__overlay_col:!0})),J=U(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:b.isLast})),O=U(()=>{var m,B;return{dp__overlay_container:!0,dp__container_flex:((m=b.items)==null?void 0:m.length)<=6,dp__container_block:((B=b.items)==null?void 0:B.length)>6}});ta(()=>b.items,()=>te(!1),{deep:!0});const te=(m=!0)=>{Ze().then(()=>{const B=Ne(D),r=Ne(P),S=Ne(j),le=Ne(T),d=S?S.getBoundingClientRect().height:0;r&&(r.getBoundingClientRect().height?Z.value=r.getBoundingClientRect().height-d:Z.value=y.value.modeHeight-d),B&&le&&m&&(le.scrollTop=B.offsetTop-le.offsetTop-(Z.value/2-B.getBoundingClientRect().height)-d)})},se=m=>{m.disabled||p("selected",m.value)},ce=()=>{p("toggle"),p("reset-flow")},M=()=>{b.escClose&&ce()},u=(m,B,r,S)=>{m&&((B.active||B.value===b.focusValue)&&(D.value=m),b.arrowNavigation&&(Array.isArray(k.value[r])?k.value[r][S]=m:k.value[r]=[m],w()))},w=()=>{var m,B;const r=(m=b.headerRefs)!=null&&m.length?[b.headerRefs].concat(k.value):k.value.concat([b.skipButtonRef?[]:[j.value]]);t(Ie(r),(B=b.headerRefs)!=null&&B.length?"monthPicker":"selectionGrid")},o=m=>{b.arrowNavigation||ga(m,y.value,!0)},E=m=>{I.value=m,p("hover-value",m)},ae=()=>{if(ce(),!b.isLast){const m=hn(b.menuWrapRef??null,"action-row");if(m){const B=kl(m);B==null||B.focus()}}},ie=m=>{switch(m.key){case Ce.esc:return M();case Ce.arrowLeft:return o(m);case Ce.arrowRight:return o(m);case Ce.arrowUp:return o(m);case Ce.arrowDown:return o(m);default:return}},ve=m=>{if(m.key===Ce.enter)return ce();if(m.key===Ce.tab)return ae()};return a({focusGrid:G}),(m,B)=>{var r;return A(),V("div",{ref_key:"gridWrapRef",ref:P,class:ke(R.value),style:aa(C.value),role:"dialog",tabindex:"0",onKeydown:ie,onClick:B[0]||(B[0]=ja(()=>{},["prevent"]))},[ye("div",{ref_key:"containerRef",ref:T,class:ke(O.value),role:"grid",style:aa({"--dp-overlay-height":`${Z.value}px`})},[ye("div",qn,[ue(m.$slots,"header")]),m.$slots.overlay?ue(m.$slots,"overlay",{key:0}):(A(!0),V(_e,{key:1},Me(m.items,(S,le)=>(A(),V("div",{key:le,class:ke(["dp__overlay_row",{dp__flex_row:m.items.length>=3}]),role:"row"},[(A(!0),V(_e,null,Me(S,(d,re)=>(A(),V("div",{key:d.value,ref_for:!0,ref:fe=>u(fe,d,le,re),role:"gridcell",class:ke(ne.value),"aria-selected":d.active||void 0,"aria-disabled":d.disabled||void 0,tabindex:"0","data-test":d.text,onClick:ja(fe=>se(d),["prevent"]),onKeydown:fe=>s(Xe)(fe,()=>se(d),!0),onMouseover:fe=>E(d.value)},[ye("div",{class:ke(d.className)},[m.$slots.item?ue(m.$slots,"item",{key:0,item:d}):K("",!0),m.$slots.item?K("",!0):(A(),V(_e,{key:1},[va(Ve(d.text),1)],64))],2)],42,Xn))),128))],2))),128))],6),m.$slots["button-icon"]?lt((A(),V("button",{key:0,ref_key:"toggleButton",ref:j,type:"button","aria-label":(r=s(c))==null?void 0:r.toggleOverlay,class:ke(J.value),tabindex:"0",onClick:ce,onKeydown:ve},[ue(m.$slots,"button-icon")],42,Qn)),[[nt,!s(h)(m.hideNavigation,m.type)]]):K("",!0)],38)}}}),vt=Ye({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const a=e,n=U(()=>a.multiCalendars>0?[...Array(a.multiCalendars).keys()]:[0]),l=U(()=>({dp__instance_calendar:a.multiCalendars>0}));return(t,v)=>(A(),V("div",{class:ke({dp__menu_inner:!t.stretch,"dp--menu--inner-stretched":t.stretch,dp__flex_display:t.multiCalendars>0,"dp--flex-display-collapsed":t.collapse})},[(A(!0),V(_e,null,Me(n.value,(p,b)=>(A(),V("div",{key:p,class:ke(l.value)},[ue(t.$slots,"default",{instance:p,index:b})],2))),128))],2))}}),Wn=["aria-label","aria-disabled"],Ha=Ye({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:a}){const n=a,l=W(null);return He(()=>n("set-ref",l)),(t,v)=>(A(),V("button",{ref_key:"elRef",ref:l,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":t.ariaLabel,"aria-disabled":t.disabled||void 0,onClick:v[0]||(v[0]=p=>t.$emit("activate")),onKeydown:v[1]||(v[1]=p=>s(Xe)(p,()=>t.$emit("activate"),!0))},[ye("span",{class:ke(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[ue(t.$slots,"default")],2)],40,Wn))}}),Gn={class:"dp--year-mode-picker"},Zn=["aria-label","data-test"],Rl=Ye({__name:"YearModePicker",props:{...oa,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:a}){const n=a,l=e,{showRightIcon:t,showLeftIcon:v}=mt(),{defaultedConfig:p,defaultedMultiCalendars:b,defaultedAriaLabels:c,defaultedTransitions:Y,defaultedUI:y}=xe(l),{showTransition:h,transitionName:f}=Wa(Y),D=(I=!1,j)=>{n("toggle-year-picker",{flow:I,show:j})},P=I=>{n("year-select",I)},k=(I=!1)=>{n("handle-year",I)};return(I,j)=>{var Z,T,H,G,R;return A(),V("div",Gn,[s(v)(s(b),e.instance)?(A(),Ae(Ha,{key:0,ref:"mpPrevIconRef","aria-label":(Z=s(c))==null?void 0:Z.prevYear,disabled:e.isDisabled(!1),class:ke((T=s(y))==null?void 0:T.navBtnPrev),onActivate:j[0]||(j[0]=C=>k(!1))},{default:ge(()=>[I.$slots["arrow-left"]?ue(I.$slots,"arrow-left",{key:0}):K("",!0),I.$slots["arrow-left"]?K("",!0):(A(),Ae(s(Yt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):K("",!0),ye("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(H=s(c))==null?void 0:H.openYearsOverlay,"data-test":`year-mode-btn-${e.instance}`,onClick:j[1]||(j[1]=()=>D(!1)),onKeydown:j[2]||(j[2]=Hl(()=>D(!1),["enter"]))},[I.$slots.year?ue(I.$slots,"year",{key:0,year:e.year}):K("",!0),I.$slots.year?K("",!0):(A(),V(_e,{key:1},[va(Ve(e.year),1)],64))],40,Zn),s(t)(s(b),e.instance)?(A(),Ae(Ha,{key:1,ref:"mpNextIconRef","aria-label":(G=s(c))==null?void 0:G.nextYear,disabled:e.isDisabled(!0),class:ke((R=s(y))==null?void 0:R.navBtnNext),onActivate:j[3]||(j[3]=C=>k(!0))},{default:ge(()=>[I.$slots["arrow-right"]?ue(I.$slots,"arrow-right",{key:0}):K("",!0),I.$slots["arrow-right"]?K("",!0):(A(),Ae(s(Et),{key:1}))]),_:3},8,["aria-label","disabled","class"])):K("",!0),la(La,{name:s(f)(e.showYearPicker),css:s(h)},{default:ge(()=>[e.showYearPicker?(A(),Ae(Qa,{key:0,items:e.items,"text-input":I.textInput,"esc-close":I.escClose,config:I.config,"is-last":I.autoApply&&!s(p).keepActionRow,"hide-navigation":I.hideNavigation,"aria-labels":I.ariaLabels,type:"year",onToggle:D,onSelected:j[4]||(j[4]=C=>P(C))},ze({"button-icon":ge(()=>[I.$slots["calendar-icon"]?ue(I.$slots,"calendar-icon",{key:0}):K("",!0),I.$slots["calendar-icon"]?K("",!0):(A(),Ae(s(Ya),{key:1}))]),_:2},[I.$slots["year-overlay-value"]?{name:"item",fn:ge(({item:C})=>[ue(I.$slots,"year-overlay-value",{text:C.text,value:C.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):K("",!0)]),_:3},8,["name","css"])])}}}),qt=(e,a,n)=>{if(a.value&&Array.isArray(a.value))if(a.value.some(l=>De(e,l))){const l=a.value.filter(t=>!De(t,e));a.value=l.length?l:null}else(n&&+n>a.value.length||!n)&&a.value.push(e);else a.value=[e]},Xt=(e,a,n)=>{let l=e.value?e.value.slice():[];return l.length===2&&l[1]!==null&&(l=[]),l.length?Pe(a,l[0])?(l.unshift(a),n("range-start",l[0]),n("range-start",l[1])):(l[1]=a,n("range-end",a)):(l=[a],n("range-start",a)),l},pt=(e,a,n,l)=>{e&&(e[0]&&e[1]&&n&&a("auto-apply"),e[0]&&!e[1]&&l&&n&&a("auto-apply"))},Ol=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(a=>Ge(F(a),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=Ge(F(e.value),e.timezone))},Nl=(e,a,n,l)=>Array.isArray(a.value)&&(a.value.length===2||a.value.length===1&&l.value.partialRange)?l.value.fixedStart&&(Oe(e,a.value[0])||De(e,a.value[0]))?[a.value[0],e]:l.value.fixedEnd&&(Pe(e,a.value[1])||De(e,a.value[1]))?[e,a.value[1]]:(n("invalid-fixed-range",e),a.value):[],Il=({multiCalendars:e,range:a,highlight:n,propDates:l,calendars:t,modelValue:v,props:p,filters:b,year:c,month:Y,emit:y})=>{const h=U(()=>Ut(p.yearRange,p.locale,p.reverseYears)),f=W([!1]),D=U(()=>(O,te)=>{const se=Se(ra(new Date),{month:Y.value(O),year:c.value(O)}),ce=te?pl(se):ot(se);return Tl(ce,l.value.maxDate,l.value.minDate,p.preventMinMaxNavigation,te)}),P=()=>Array.isArray(v.value)&&e.value.solo&&v.value[1],k=()=>{for(let O=0;O<e.value.count;O++)if(O===0)t.value[O]=t.value[0];else if(O===e.value.count-1&&P())t.value[O]={month:be(v.value[1]),year:pe(v.value[1])};else{const te=Se(F(),t.value[O-1]);t.value[O]={month:be(te),year:pe(fl(te,1))}}},I=O=>{if(!O)return k();const te=Se(F(),t.value[O]);return t.value[0].year=pe(hl(te,e.value.count-1)),k()},j=(O,te)=>{const se=rn(te,O);return a.value.showLastInRange&&se>1?te:O},Z=O=>p.focusStartDate||e.value.solo?O[0]:O[1]?j(O[0],O[1]):O[0],T=()=>{if(v.value){const O=Array.isArray(v.value)?Z(v.value):v.value;t.value[0]={month:be(O),year:pe(O)}}},H=()=>{T(),e.value.count&&k()};ta(v,(O,te)=>{p.isTextInputDate&&JSON.stringify(O??{})!==JSON.stringify(te??{})&&H()}),He(()=>{H()});const G=(O,te)=>{t.value[te].year=O,y("update-month-year",{instance:te,year:O,month:t.value[te].month}),e.value.count&&!e.value.solo&&I(te)},R=U(()=>O=>Ia(h.value,te=>{var se;const ce=c.value(O)===te.value,M=qa(te.value,Ba(l.value.minDate),Ba(l.value.maxDate))||((se=b.value.years)==null?void 0:se.includes(c.value(O))),u=Jt(n.value,te.value);return{active:ce,disabled:M,highlighted:u}})),C=(O,te)=>{G(O,te),J(te)},ne=(O,te=!1)=>{if(!D.value(O,te)){const se=te?c.value(O)+1:c.value(O)-1;G(se,O)}},J=(O,te=!1,se)=>{te||y("reset-flow"),se!==void 0?f.value[O]=se:f.value[O]=!f.value[O],f.value[O]?y("overlay-toggle",{open:!0,overlay:Fe.year}):(y("overlay-closed"),y("overlay-toggle",{open:!1,overlay:Fe.year}))};return{isDisabled:D,groupedYears:R,showYearPicker:f,selectYear:G,toggleYearPicker:J,handleYearSelect:C,handleYear:ne}},er=(e,a)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:v,defaultedRange:p,defaultedHighlight:b,propDates:c,defaultedTz:Y,defaultedFilters:y,defaultedMultiDates:h}=xe(e),f=()=>{e.isTextInputDate&&H(pe(F(e.startDate)),0)},{modelValue:D,year:P,month:k,calendars:I}=Ga(e,a,f),j=U(()=>bl(e.formatLocale,e.locale,e.monthNameFormat)),Z=W(null),{checkMinMaxRange:T}=wa(e),{selectYear:H,groupedYears:G,showYearPicker:R,toggleYearPicker:C,handleYearSelect:ne,handleYear:J,isDisabled:O}=Il({modelValue:D,multiCalendars:n,range:p,highlight:b,calendars:I,year:P,propDates:c,month:k,filters:y,props:e,emit:a});He(()=>{e.startDate&&(D.value&&e.focusStartDate||!D.value)&&H(pe(F(e.startDate)),0)});const te=r=>r?{month:be(r),year:pe(r)}:{month:null,year:null},se=()=>D.value?Array.isArray(D.value)?D.value.map(r=>te(r)):te(D.value):te(),ce=(r,S)=>{const le=I.value[r],d=se();return Array.isArray(d)?d.some(re=>re.year===(le==null?void 0:le.year)&&re.month===S):(le==null?void 0:le.year)===d.year&&S===d.month},M=(r,S,le)=>{var d,re;const fe=se();return Array.isArray(fe)?P.value(S)===((d=fe[le])==null?void 0:d.year)&&r===((re=fe[le])==null?void 0:re.month):!1},u=(r,S)=>{if(p.value.enabled){const le=se();if(Array.isArray(D.value)&&Array.isArray(le)){const d=M(r,S,0)||M(r,S,1),re=ca(ra(F()),r,P.value(S));return dt(D.value,Z.value,re)&&!d}return!1}return!1},w=U(()=>r=>Ia(j.value,S=>{var le;const d=ce(r,S.value),re=qa(S.value,Dl(P.value(r),c.value.minDate),Al(P.value(r),c.value.maxDate))||$n(c.value.disabledDates,P.value(r)).includes(S.value)||((le=y.value.months)==null?void 0:le.includes(S.value)),fe=u(S.value,r),x=Cl(b.value,S.value,P.value(r));return{active:d,disabled:re,isBetween:fe,highlighted:x}})),o=(r,S)=>ca(ra(F()),r,P.value(S)),E=(r,S)=>{const le=D.value?D.value:ra(new Date);D.value=ca(le,r,P.value(S)),a("auto-apply"),a("update-flow-step")},ae=(r,S)=>{const le=o(r,S);p.value.fixedEnd||p.value.fixedStart?D.value=Nl(le,D,a,p):D.value?T(le,D.value)&&(D.value=Xt(D,o(r,S),a)):D.value=[o(r,S)],Ze().then(()=>{pt(D.value,a,e.autoApply,e.modelAuto)})},ie=(r,S)=>{qt(o(r,S),D,h.value.limit),a("auto-apply",!0)},ve=(r,S)=>(I.value[S].month=r,B(S,I.value[S].year,r),h.value.enabled?ie(r,S):p.value.enabled?ae(r,S):E(r,S)),m=(r,S)=>{H(r,S),B(S,r,null)},B=(r,S,le)=>{let d=le;if(!d&&d!==0){const re=se();d=Array.isArray(re)?re[r].month:re.month}a("update-month-year",{instance:r,year:S,month:d})};return{groupedMonths:w,groupedYears:G,year:P,isDisabled:O,defaultedMultiCalendars:n,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:v,showYearPicker:R,modelValue:D,presetDate:(r,S)=>{Ol({value:r,modelValue:D,range:p.value.enabled,timezone:S?void 0:Y.value.timezone}),a("auto-apply")},setHoverDate:(r,S)=>{Z.value=o(r,S)},selectMonth:ve,selectYear:m,toggleYearPicker:C,handleYearSelect:ne,handleYear:J,getModelMonthYear:se}},ar=Ye({compatConfig:{MODE:3},__name:"MonthPicker",props:{...oa},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=Ca(),v=We(t,"yearMode"),p=e;He(()=>{p.shadow||l("mount",null)});const{groupedMonths:b,groupedYears:c,year:Y,isDisabled:y,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:D,modelValue:P,presetDate:k,setHoverDate:I,selectMonth:j,selectYear:Z,toggleYearPicker:T,handleYearSelect:H,handleYear:G,getModelMonthYear:R}=er(p,l);return a({getSidebarProps:()=>({modelValue:P,year:Y,getModelMonthYear:R,selectMonth:j,selectYear:Z,handleYear:G}),presetDate:k,toggleYearPicker:C=>T(0,C)}),(C,ne)=>(A(),Ae(vt,{"multi-calendars":s(h).count,collapse:C.collapse,stretch:""},{default:ge(({instance:J})=>[C.$slots["top-extra"]?ue(C.$slots,"top-extra",{key:0,value:C.internalModelValue}):K("",!0),C.$slots["month-year"]?ue(C.$slots,"month-year",Be(Le({key:1},{year:s(Y),months:s(b)(J),years:s(c)(J),selectMonth:s(j),selectYear:s(Z),instance:J}))):(A(),Ae(Qa,{key:2,items:s(b)(J),"arrow-navigation":C.arrowNavigation,"is-last":C.autoApply&&!s(f).keepActionRow,"esc-close":C.escClose,height:s(f).modeHeight,config:C.config,"no-overlay-focus":!!(C.noOverlayFocus||C.textInput),"use-relative":"",type:"month",onSelected:O=>s(j)(O,J),onHoverValue:O=>s(I)(O,J)},ze({header:ge(()=>[la(Rl,Le(C.$props,{items:s(c)(J),instance:J,"show-year-picker":s(D)[J],year:s(Y)(J),"is-disabled":O=>s(y)(J,O),onHandleYear:O=>s(G)(J,O),onYearSelect:O=>s(H)(O,J),onToggleYearPicker:O=>s(T)(J,O==null?void 0:O.flow,O==null?void 0:O.show)}),ze({_:2},[Me(s(v),(O,te)=>({name:O,fn:ge(se=>[ue(C.$slots,O,Be(qe(se)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[C.$slots["month-overlay-value"]?{name:"item",fn:ge(({item:O})=>[ue(C.$slots,"month-overlay-value",{text:O.text,value:O.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),tr=(e,a)=>{const n=()=>{e.isTextInputDate&&(y.value=pe(F(e.startDate)))},{modelValue:l}=Ga(e,a,n),t=W(null),{defaultedHighlight:v,defaultedMultiDates:p,defaultedFilters:b,defaultedRange:c,propDates:Y}=xe(e),y=W();He(()=>{e.startDate&&(l.value&&e.focusStartDate||!l.value)&&(y.value=pe(F(e.startDate)))});const h=k=>Array.isArray(l.value)?l.value.some(I=>pe(I)===k):l.value?pe(l.value)===k:!1,f=k=>c.value.enabled&&Array.isArray(l.value)?dt(l.value,t.value,P(k)):!1,D=U(()=>Ia(Ut(e.yearRange,e.locale,e.reverseYears),k=>{const I=h(k.value),j=qa(k.value,Ba(Y.value.minDate),Ba(Y.value.maxDate))||b.value.years.includes(k.value),Z=f(k.value)&&!I,T=Jt(v.value,k.value);return{active:I,disabled:j,isBetween:Z,highlighted:T}})),P=k=>ua(ra(ot(new Date)),k);return{groupedYears:D,modelValue:l,focusYear:y,setHoverValue:k=>{t.value=ua(ra(new Date),k)},selectYear:k=>{var I;if(a("update-month-year",{instance:0,year:k}),p.value.enabled)return l.value?Array.isArray(l.value)&&(((I=l.value)==null?void 0:I.map(j=>pe(j))).includes(k)?l.value=l.value.filter(j=>pe(j)!==k):l.value.push(ua(Ke(F()),k))):l.value=[ua(Ke(ot(F())),k)],a("auto-apply",!0);c.value.enabled?(l.value=Xt(l,P(k),a),Ze().then(()=>{pt(l.value,a,e.autoApply,e.modelAuto)})):(l.value=P(k),a("auto-apply"))}}},lr=Ye({compatConfig:{MODE:3},__name:"YearPicker",props:{...oa},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:a,emit:n}){const l=n,t=e,{groupedYears:v,modelValue:p,focusYear:b,selectYear:c,setHoverValue:Y}=tr(t,l),{defaultedConfig:y}=xe(t);return a({getSidebarProps:()=>({modelValue:p,selectYear:c})}),(h,f)=>(A(),V("div",null,[h.$slots["top-extra"]?ue(h.$slots,"top-extra",{key:0,value:h.internalModelValue}):K("",!0),h.$slots["month-year"]?ue(h.$slots,"month-year",Be(Le({key:1},{years:s(v),selectYear:s(c)}))):(A(),Ae(Qa,{key:2,items:s(v),"is-last":h.autoApply&&!s(y).keepActionRow,height:s(y).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":s(b),type:"year","use-relative":"",onSelected:s(c),onHoverValue:s(Y)},ze({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:ge(({item:D})=>[ue(h.$slots,"year-overlay-value",{text:D.text,value:D.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),nr={key:0,class:"dp__time_input"},rr=["data-test","aria-label","onKeydown","onClick","onMousedown"],or=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ir=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ur=["aria-label","disabled","data-test","onKeydown","onClick"],sr=["data-test","aria-label","onKeydown","onClick","onMousedown"],dr=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),cr=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),vr={key:0},pr=["aria-label"],mr=Ye({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...oa},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:a,emit:n}){const l=n,t=e,{setTimePickerElements:v,setTimePickerBackRef:p}=ka(),{defaultedAriaLabels:b,defaultedTransitions:c,defaultedFilters:Y,defaultedConfig:y,defaultedRange:h}=xe(t),{transitionName:f,showTransition:D}=Wa(c),P=Xa({hours:!1,minutes:!1,seconds:!1}),k=W("AM"),I=W(null),j=W([]),Z=W();He(()=>{l("mounted")});const T=i=>Se(new Date,{hours:i.hours,minutes:i.minutes,seconds:t.enableSeconds?i.seconds:0,milliseconds:0}),H=U(()=>i=>w(i,t[i])||R(i,t[i])),G=U(()=>({hours:t.hours,minutes:t.minutes,seconds:t.seconds})),R=(i,N)=>h.value.enabled&&!h.value.disableTimeRangeValidation?!t.validateTime(i,N):!1,C=(i,N)=>{if(h.value.enabled&&!h.value.disableTimeRangeValidation){const q=N?+t[`${i}Increment`]:-+t[`${i}Increment`],z=t[i]+q;return!t.validateTime(i,z)}return!1},ne=U(()=>i=>!ve(+t[i]+ +t[`${i}Increment`],i)||C(i,!0)),J=U(()=>i=>!ve(+t[i]-+t[`${i}Increment`],i)||C(i,!1)),O=(i,N)=>cl(Se(F(),i),N),te=(i,N)=>nn(Se(F(),i),N),se=U(()=>({dp__time_col:!0,dp__time_col_block:!t.timePickerInline,dp__time_col_reg_block:!t.enableSeconds&&t.is24&&!t.timePickerInline,dp__time_col_reg_inline:!t.enableSeconds&&t.is24&&t.timePickerInline,dp__time_col_reg_with_button:!t.enableSeconds&&!t.is24,dp__time_col_sec:t.enableSeconds&&t.is24,dp__time_col_sec_with_button:t.enableSeconds&&!t.is24})),ce=U(()=>{const i=[{type:"hours"}];return t.enableMinutes&&i.push({type:"",separator:!0},{type:"minutes"}),t.enableSeconds&&i.push({type:"",separator:!0},{type:"seconds"}),i}),M=U(()=>ce.value.filter(i=>!i.separator)),u=U(()=>i=>{if(i==="hours"){const N=d(+t.hours);return{text:N<10?`0${N}`:`${N}`,value:N}}return{text:t[i]<10?`0${t[i]}`:`${t[i]}`,value:t[i]}}),w=(i,N)=>{var q;if(!t.disabledTimesConfig)return!1;const z=t.disabledTimesConfig(t.order,i==="hours"?N:void 0);return z[i]?!!((q=z[i])!=null&&q.includes(N)):!0},o=(i,N)=>N!=="hours"||k.value==="AM"?i:i+12,E=i=>{const N=t.is24?24:12,q=i==="hours"?N:60,z=+t[`${i}GridIncrement`],L=i==="hours"&&!t.is24?z:0,we=[];for(let _=L;_<q;_+=z)we.push({value:t.is24?_:o(_,i),text:_<10?`0${_}`:`${_}`});return i==="hours"&&!t.is24&&we.unshift({value:k.value==="PM"?12:0,text:"12"}),Ia(we,_=>({active:!1,disabled:Y.value.times[i].includes(_.value)||!ve(_.value,i)||w(i,_.value)||R(i,_.value)}))},ae=i=>i>=0?i:59,ie=i=>i>=0?i:23,ve=(i,N)=>{const q=t.minTime?T(At(t.minTime)):null,z=t.maxTime?T(At(t.maxTime)):null,L=T(At(G.value,N,N==="minutes"||N==="seconds"?ae(i):ie(i)));return q&&z?(Ka(L,z)||Ra(L,z))&&(Oa(L,q)||Ra(L,q)):q?Oa(L,q)||Ra(L,q):z?Ka(L,z)||Ra(L,z):!0},m=i=>t[`no${i[0].toUpperCase()+i.slice(1)}Overlay`],B=i=>{m(i)||(P[i]=!P[i],P[i]?l("overlay-opened",i):l("overlay-closed",i))},r=i=>i==="hours"?pa:i==="minutes"?_a:Na,S=()=>{Z.value&&clearTimeout(Z.value)},le=(i,N=!0,q)=>{const z=N?O:te,L=N?+t[`${i}Increment`]:-+t[`${i}Increment`];ve(+t[i]+L,i)&&l(`update:${i}`,r(i)(z({[i]:+t[i]},{[i]:+t[`${i}Increment`]}))),!(q!=null&&q.keyboard)&&y.value.timeArrowHoldThreshold&&(Z.value=setTimeout(()=>{le(i,N)},y.value.timeArrowHoldThreshold))},d=i=>t.is24?i:(i>=12?k.value="PM":k.value="AM",vn(i)),re=()=>{k.value==="PM"?(k.value="AM",l("update:hours",t.hours-12)):(k.value="PM",l("update:hours",t.hours+12)),l("am-pm-change",k.value)},fe=i=>{P[i]=!0},x=(i,N,q)=>{if(i&&t.arrowNavigation){Array.isArray(j.value[N])?j.value[N][q]=i:j.value[N]=[i];const z=j.value.reduce((L,we)=>we.map((_,ee)=>[...L[ee]||[],we[ee]]),[]);p(t.closeTimePickerBtn),I.value&&(z[1]=z[1].concat(I.value)),v(z,t.order)}},me=(i,N)=>(B(i),l(`update:${i}`,N));return a({openChildCmp:fe}),(i,N)=>{var q;return i.disabled?K("",!0):(A(),V("div",nr,[(A(!0),V(_e,null,Me(ce.value,(z,L)=>{var we,_,ee;return A(),V("div",{key:L,class:ke(se.value)},[z.separator?(A(),V(_e,{key:0},[va(" : ")],64)):(A(),V(_e,{key:1},[ye("button",{ref_for:!0,ref:he=>x(he,L,0),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_top:i.timePickerInline,dp__inc_dec_button_disabled:ne.value(z.type)}),"data-test":`${z.type}-time-inc-btn-${t.order}`,"aria-label":(we=s(b))==null?void 0:we.incrementValue(z.type),tabindex:"0",onKeydown:he=>s(Xe)(he,()=>le(z.type,!0,{keyboard:!0}),!0),onClick:he=>s(y).timeArrowHoldThreshold?void 0:le(z.type,!0),onMousedown:he=>s(y).timeArrowHoldThreshold?le(z.type,!0):void 0,onMouseup:S},[t.timePickerInline?(A(),V(_e,{key:1},[i.$slots["tp-inline-arrow-up"]?ue(i.$slots,"tp-inline-arrow-up",{key:0}):(A(),V(_e,{key:1},[or,ir],64))],64)):(A(),V(_e,{key:0},[i.$slots["arrow-up"]?ue(i.$slots,"arrow-up",{key:0}):K("",!0),i.$slots["arrow-up"]?K("",!0):(A(),Ae(s(Vt),{key:1}))],64))],42,rr),ye("button",{ref_for:!0,ref:he=>x(he,L,1),type:"button","aria-label":(_=s(b))==null?void 0:_.openTpOverlay(z.type),class:ke({dp__time_display:!0,dp__time_display_block:!i.timePickerInline,dp__time_display_inline:i.timePickerInline,"dp--time-invalid":H.value(z.type),"dp--time-overlay-btn":!H.value(z.type)}),disabled:m(z.type),tabindex:"0","data-test":`${z.type}-toggle-overlay-btn-${t.order}`,onKeydown:he=>s(Xe)(he,()=>B(z.type),!0),onClick:he=>B(z.type)},[i.$slots[z.type]?ue(i.$slots,z.type,{key:0,text:u.value(z.type).text,value:u.value(z.type).value}):K("",!0),i.$slots[z.type]?K("",!0):(A(),V(_e,{key:1},[va(Ve(u.value(z.type).text),1)],64))],42,ur),ye("button",{ref_for:!0,ref:he=>x(he,L,2),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_bottom:i.timePickerInline,dp__inc_dec_button_disabled:J.value(z.type)}),"data-test":`${z.type}-time-dec-btn-${t.order}`,"aria-label":(ee=s(b))==null?void 0:ee.decrementValue(z.type),tabindex:"0",onKeydown:he=>s(Xe)(he,()=>le(z.type,!1,{keyboard:!0}),!0),onClick:he=>s(y).timeArrowHoldThreshold?void 0:le(z.type,!1),onMousedown:he=>s(y).timeArrowHoldThreshold?le(z.type,!1):void 0,onMouseup:S},[t.timePickerInline?(A(),V(_e,{key:1},[i.$slots["tp-inline-arrow-down"]?ue(i.$slots,"tp-inline-arrow-down",{key:0}):(A(),V(_e,{key:1},[dr,cr],64))],64)):(A(),V(_e,{key:0},[i.$slots["arrow-down"]?ue(i.$slots,"arrow-down",{key:0}):K("",!0),i.$slots["arrow-down"]?K("",!0):(A(),Ae(s(zt),{key:1}))],64))],42,sr)],64))],2)}),128)),i.is24?K("",!0):(A(),V("div",vr,[i.$slots["am-pm-button"]?ue(i.$slots,"am-pm-button",{key:0,toggle:re,value:k.value}):K("",!0),i.$slots["am-pm-button"]?K("",!0):(A(),V("button",{key:1,ref_key:"amPmButton",ref:I,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(q=s(b))==null?void 0:q.amPmButton,tabindex:"0",onClick:re,onKeydown:N[0]||(N[0]=z=>s(Xe)(z,()=>re(),!0))},Ve(k.value),41,pr))])),(A(!0),V(_e,null,Me(M.value,(z,L)=>(A(),Ae(La,{key:L,name:s(f)(P[z.type]),css:s(D)},{default:ge(()=>[P[z.type]?(A(),Ae(Qa,{key:0,items:E(z.type),"is-last":i.autoApply&&!s(y).keepActionRow,"esc-close":i.escClose,type:z.type,"text-input":i.textInput,config:i.config,"arrow-navigation":i.arrowNavigation,"aria-labels":i.ariaLabels,onSelected:we=>me(z.type,we),onToggle:we=>B(z.type),onResetFlow:N[1]||(N[1]=we=>i.$emit("reset-flow"))},ze({"button-icon":ge(()=>[i.$slots["clock-icon"]?ue(i.$slots,"clock-icon",{key:0}):K("",!0),i.$slots["clock-icon"]?K("",!0):(A(),Ae(st(i.timePickerInline?s(Ya):s(Ft)),{key:1}))]),_:2},[i.$slots[`${z.type}-overlay-value`]?{name:"item",fn:ge(({item:we})=>[ue(i.$slots,`${z.type}-overlay-value`,{text:we.text,value:we.value})]),key:"0"}:void 0,i.$slots[`${z.type}-overlay-header`]?{name:"header",fn:ge(()=>[ue(i.$slots,`${z.type}-overlay-header`,{toggle:()=>B(z.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):K("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),yr={class:"dp--tp-wrap"},fr=["aria-label","tabindex"],hr=["tabindex"],gr=["aria-label"],Bl=Ye({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...oa},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:a,emit:n}){const l=n,t=e,{buildMatrix:v,setTimePicker:p}=ka(),b=Ca(),{defaultedTransitions:c,defaultedAriaLabels:Y,defaultedTextInput:y,defaultedConfig:h,defaultedRange:f}=xe(t),{transitionName:D,showTransition:P}=Wa(c),{hideNavigationButtons:k}=mt(),I=W(null),j=W(null),Z=W([]),T=W(null);He(()=>{l("mount"),!t.timePicker&&t.arrowNavigation?v([Ne(I.value)],"time"):p(!0,t.timePicker)});const H=U(()=>f.value.enabled&&t.modelAuto?_l(t.internalModelValue):!0),G=W(!1),R=o=>({hours:Array.isArray(t.hours)?t.hours[o]:t.hours,minutes:Array.isArray(t.minutes)?t.minutes[o]:t.minutes,seconds:Array.isArray(t.seconds)?t.seconds[o]:t.seconds}),C=U(()=>{const o=[];if(f.value.enabled)for(let E=0;E<2;E++)o.push(R(E));else o.push(R(0));return o}),ne=(o,E=!1,ae="")=>{E||l("reset-flow"),G.value=o,l(o?"overlay-opened":"overlay-closed",Fe.time),t.arrowNavigation&&p(o),Ze(()=>{ae!==""&&Z.value[0]&&Z.value[0].openChildCmp(ae)})},J=U(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:t.autoApply&&!h.value.keepActionRow})),O=We(b,"timePicker"),te=(o,E,ae)=>f.value.enabled?E===0?[o,C.value[1][ae]]:[C.value[0][ae],o]:o,se=o=>{l("update:hours",o)},ce=o=>{l("update:minutes",o)},M=o=>{l("update:seconds",o)},u=()=>{if(T.value&&!y.value.enabled&&!t.noOverlayFocus){const o=kl(T.value);o&&o.focus({preventScroll:!0})}},w=o=>{l("overlay-closed",o)};return a({toggleTimePicker:ne}),(o,E)=>{var ae;return A(),V("div",yr,[!o.timePicker&&!o.timePickerInline?lt((A(),V("button",{key:0,ref_key:"openTimePickerBtn",ref:I,type:"button",class:ke(J.value),"aria-label":(ae=s(Y))==null?void 0:ae.openTimePicker,tabindex:o.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:E[0]||(E[0]=ie=>s(Xe)(ie,()=>ne(!0))),onClick:E[1]||(E[1]=ie=>ne(!0))},[o.$slots["clock-icon"]?ue(o.$slots,"clock-icon",{key:0}):K("",!0),o.$slots["clock-icon"]?K("",!0):(A(),Ae(s(Ft),{key:1}))],42,fr)),[[nt,!s(k)(o.hideNavigation,"time")]]):K("",!0),la(La,{name:s(D)(G.value),css:s(P)&&!o.timePickerInline},{default:ge(()=>{var ie;return[G.value||o.timePicker||o.timePickerInline?(A(),V("div",{key:0,ref_key:"overlayRef",ref:T,class:ke({dp__overlay:!o.timePickerInline,"dp--overlay-absolute":!t.timePicker&&!o.timePickerInline,"dp--overlay-relative":t.timePicker}),style:aa(o.timePicker?{height:`${s(h).modeHeight}px`}:void 0),tabindex:o.timePickerInline?void 0:0},[ye("div",{class:ke(o.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[o.$slots["time-picker-overlay"]?ue(o.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:se,setMinutes:ce,setSeconds:M}):K("",!0),o.$slots["time-picker-overlay"]?K("",!0):(A(),V("div",{key:1,class:ke(o.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(A(!0),V(_e,null,Me(C.value,(ve,m)=>lt((A(),Ae(mr,Le({key:m,ref_for:!0},{...o.$props,order:m,hours:ve.hours,minutes:ve.minutes,seconds:ve.seconds,closeTimePickerBtn:j.value,disabledTimesConfig:e.disabledTimesConfig,disabled:m===0?o.fixedStart:o.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:Z,"validate-time":(B,r)=>e.validateTime(B,te(r,m,B)),"onUpdate:hours":B=>se(te(B,m,"hours")),"onUpdate:minutes":B=>ce(te(B,m,"minutes")),"onUpdate:seconds":B=>M(te(B,m,"seconds")),onMounted:u,onOverlayClosed:w,onOverlayOpened:E[2]||(E[2]=B=>o.$emit("overlay-opened",B)),onAmPmChange:E[3]||(E[3]=B=>o.$emit("am-pm-change",B))}),ze({_:2},[Me(s(O),(B,r)=>({name:B,fn:ge(S=>[ue(o.$slots,B,Le({ref_for:!0},S))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[nt,m===0?!0:H.value]])),128))],2)),!o.timePicker&&!o.timePickerInline?lt((A(),V("button",{key:2,ref_key:"closeTimePickerBtn",ref:j,type:"button",class:ke(J.value),"aria-label":(ie=s(Y))==null?void 0:ie.closeTimePicker,tabindex:"0",onKeydown:E[4]||(E[4]=ve=>s(Xe)(ve,()=>ne(!1))),onClick:E[5]||(E[5]=ve=>ne(!1))},[o.$slots["calendar-icon"]?ue(o.$slots,"calendar-icon",{key:0}):K("",!0),o.$slots["calendar-icon"]?K("",!0):(A(),Ae(s(Ya),{key:1}))],42,gr)),[[nt,!s(k)(o.hideNavigation,"time")]]):K("",!0)],2)],14,hr)):K("",!0)]}),_:3},8,["name","css"])])}}}),Ll=(e,a,n,l)=>{const{defaultedRange:t}=xe(e),v=(T,H)=>Array.isArray(a[T])?a[T][H]:a[T],p=T=>e.enableSeconds?Array.isArray(a.seconds)?a.seconds[T]:a.seconds:0,b=(T,H)=>T?H!==void 0?ba(T,v("hours",H),v("minutes",H),p(H)):ba(T,a.hours,a.minutes,p()):ml(F(),p(H)),c=(T,H)=>{a[T]=H},Y=U(()=>e.modelAuto&&t.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:t.value.enabled),y=(T,H)=>{const G=Object.fromEntries(Object.keys(a).map(R=>R===T?[R,H]:[R,a[R]].slice()));if(Y.value&&!t.value.disableTimeRangeValidation){const R=ne=>n.value?ba(n.value[ne],G.hours[ne],G.minutes[ne],G.seconds[ne]):null,C=ne=>yl(n.value[ne],0);return!(De(R(0),R(1))&&(Oa(R(0),C(1))||Ka(R(1),C(0))))}return!0},h=(T,H)=>{y(T,H)&&(c(T,H),l&&l())},f=T=>{h("hours",T)},D=T=>{h("minutes",T)},P=T=>{h("seconds",T)},k=(T,H,G,R)=>{H&&f(T),!H&&!G&&D(T),G&&P(T),n.value&&R(n.value)},I=T=>{if(T){const H=Array.isArray(T),G=H?[+T[0].hours,+T[1].hours]:+T.hours,R=H?[+T[0].minutes,+T[1].minutes]:+T.minutes,C=H?[+T[0].seconds,+T[1].seconds]:+T.seconds;c("hours",G),c("minutes",R),e.enableSeconds&&c("seconds",C)}},j=(T,H)=>{const G={hours:Array.isArray(a.hours)?a.hours[T]:a.hours,disabledArr:[]};return(H||H===0)&&(G.hours=H),Array.isArray(e.disabledTimes)&&(G.disabledArr=t.value.enabled&&Array.isArray(e.disabledTimes[T])?e.disabledTimes[T]:e.disabledTimes),G},Z=U(()=>(T,H)=>{var G;if(Array.isArray(e.disabledTimes)){const{disabledArr:R,hours:C}=j(T,H),ne=R.filter(J=>+J.hours===C);return((G=ne[0])==null?void 0:G.minutes)==="*"?{hours:[C],minutes:void 0,seconds:void 0}:{hours:[],minutes:(ne==null?void 0:ne.map(J=>+J.minutes))??[],seconds:(ne==null?void 0:ne.map(J=>J.seconds?+J.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:c,updateHours:f,updateMinutes:D,updateSeconds:P,getSetDateTime:b,updateTimeValues:k,getSecondsValue:p,assignStartTime:I,validateTime:y,disabledTimesConfig:Z}},br=(e,a)=>{const n=()=>{e.isTextInputDate&&H()},{modelValue:l,time:t}=Ga(e,a,n),{defaultedStartTime:v,defaultedRange:p,defaultedTz:b}=xe(e),{updateTimeValues:c,getSetDateTime:Y,setTime:y,assignStartTime:h,disabledTimesConfig:f,validateTime:D}=Ll(e,t,l,P);function P(){a("update-flow-step")}const k=R=>{const{hours:C,minutes:ne,seconds:J}=R;return{hours:+C,minutes:+ne,seconds:J?+J:0}},I=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const C=k(e.startTime[0]),ne=k(e.startTime[1]);return[Se(F(),C),Se(F(),ne)]}const R=k(e.startTime);return Se(F(),R)}return p.value.enabled?[null,null]:null},j=()=>{if(p.value.enabled){const[R,C]=I();l.value=[Ge(Y(R,0),b.value.timezone),Ge(Y(C,1),b.value.timezone)]}else l.value=Ge(Y(I()),b.value.timezone)},Z=R=>Array.isArray(R)?[Ma(F(R[0])),Ma(F(R[1]))]:[Ma(R??F())],T=(R,C,ne)=>{y("hours",R),y("minutes",C),y("seconds",e.enableSeconds?ne:0)},H=()=>{const[R,C]=Z(l.value);return p.value.enabled?T([R.hours,C.hours],[R.minutes,C.minutes],[R.seconds,C.seconds]):T(R.hours,R.minutes,R.seconds)};He(()=>{if(!e.shadow)return h(v.value),l.value?H():j()});const G=()=>{Array.isArray(l.value)?l.value=l.value.map((R,C)=>R&&Y(R,C)):l.value=Y(l.value),a("time-update")};return{modelValue:l,time:t,disabledTimesConfig:f,updateTime:(R,C=!0,ne=!1)=>{c(R,C,ne,G)},validateTime:D}},_r=Ye({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...oa},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,v=Ca(),p=We(v,"timePicker"),b=W(null),{time:c,modelValue:Y,disabledTimesConfig:y,updateTime:h,validateTime:f}=br(t,l);return He(()=>{t.shadow||l("mount",null)}),a({getSidebarProps:()=>({modelValue:Y,time:c,updateTime:h}),toggleTimePicker:(D,P=!1,k="")=>{var I;(I=b.value)==null||I.toggleTimePicker(D,P,k)}}),(D,P)=>(A(),Ae(vt,{"multi-calendars":0,stretch:""},{default:ge(()=>[la(Bl,Le({ref_key:"tpRef",ref:b},D.$props,{hours:s(c).hours,minutes:s(c).minutes,seconds:s(c).seconds,"internal-model-value":D.internalModelValue,"disabled-times-config":s(y),"validate-time":s(f),"onUpdate:hours":P[0]||(P[0]=k=>s(h)(k)),"onUpdate:minutes":P[1]||(P[1]=k=>s(h)(k,!1)),"onUpdate:seconds":P[2]||(P[2]=k=>s(h)(k,!1,!0)),onAmPmChange:P[3]||(P[3]=k=>D.$emit("am-pm-change",k)),onResetFlow:P[4]||(P[4]=k=>D.$emit("reset-flow")),onOverlayClosed:P[5]||(P[5]=k=>D.$emit("overlay-toggle",{open:!1,overlay:k})),onOverlayOpened:P[6]||(P[6]=k=>D.$emit("overlay-toggle",{open:!0,overlay:k}))}),ze({_:2},[Me(s(p),(k,I)=>({name:k,fn:ge(j=>[ue(D.$slots,k,Be(qe(j)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),kr={class:"dp--header-wrap"},wr={key:0,class:"dp__month_year_wrap"},Dr={key:0},Ar={class:"dp__month_year_wrap"},$r=["aria-label","data-test","onClick","onKeydown"],Sr=Ye({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...oa},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:a,emit:n}){const l=n,t=e,{defaultedTransitions:v,defaultedAriaLabels:p,defaultedMultiCalendars:b,defaultedFilters:c,defaultedConfig:Y,defaultedHighlight:y,propDates:h,defaultedUI:f}=xe(t),{transitionName:D,showTransition:P}=Wa(v),{buildMatrix:k}=ka(),{handleMonthYearChange:I,isDisabled:j,updateMonthYear:Z}=Un(t,l),{showLeftIcon:T,showRightIcon:H}=mt(),G=W(!1),R=W(!1),C=W([null,null,null,null]);He(()=>{l("mount")});const ne=m=>({get:()=>t[m],set:B=>{const r=m===na.month?na.year:na.month;l("update-month-year",{[m]:B,[r]:t[r]}),m===na.month?w(!0):o(!0)}}),J=U(ne(na.month)),O=U(ne(na.year)),te=U(()=>m=>({month:t.month,year:t.year,items:m===na.month?t.months:t.years,instance:t.instance,updateMonthYear:Z,toggle:m===na.month?w:o})),se=U(()=>t.months.find(B=>B.value===t.month)||{text:"",value:0}),ce=U(()=>Ia(t.months,m=>{const B=t.month===m.value,r=qa(m.value,Dl(t.year,h.value.minDate),Al(t.year,h.value.maxDate))||c.value.months.includes(m.value),S=Cl(y.value,m.value,t.year);return{active:B,disabled:r,highlighted:S}})),M=U(()=>Ia(t.years,m=>{const B=t.year===m.value,r=qa(m.value,Ba(h.value.minDate),Ba(h.value.maxDate))||c.value.years.includes(m.value),S=Jt(y.value,m.value);return{active:B,disabled:r,highlighted:S}})),u=(m,B,r)=>{r!==void 0?m.value=r:m.value=!m.value,m.value?l("overlay-opened",B):l("overlay-closed",B)},w=(m=!1,B)=>{E(m),u(G,Fe.month,B)},o=(m=!1,B)=>{E(m),u(R,Fe.year,B)},E=m=>{m||l("reset-flow")},ae=(m,B)=>{t.arrowNavigation&&(C.value[B]=Ne(m),k(C.value,"monthYear"))},ie=U(()=>{var m,B;return[{type:na.month,index:1,toggle:w,modelValue:J.value,updateModelValue:r=>J.value=r,text:se.value.text,showSelectionGrid:G.value,items:ce.value,ariaLabel:(m=p.value)==null?void 0:m.openMonthsOverlay},{type:na.year,index:2,toggle:o,modelValue:O.value,updateModelValue:r=>O.value=r,text:wl(t.year,t.locale),showSelectionGrid:R.value,items:M.value,ariaLabel:(B=p.value)==null?void 0:B.openYearsOverlay}]}),ve=U(()=>t.disableYearSelect?[ie.value[0]]:t.yearFirst?[...ie.value].reverse():ie.value);return a({toggleMonthPicker:w,toggleYearPicker:o,handleMonthYearChange:I}),(m,B)=>{var r,S,le,d,re,fe;return A(),V("div",kr,[m.$slots["month-year"]?(A(),V("div",wr,[ue(m.$slots,"month-year",Be(qe({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:s(Z),handleMonthYearChange:s(I),instance:e.instance})))])):(A(),V(_e,{key:1},[m.$slots["top-extra"]?(A(),V("div",Dr,[ue(m.$slots,"top-extra",{value:m.internalModelValue})])):K("",!0),ye("div",Ar,[s(T)(s(b),e.instance)&&!m.vertical?(A(),Ae(Ha,{key:0,"aria-label":(r=s(p))==null?void 0:r.prevMonth,disabled:s(j)(!1),class:ke((S=s(f))==null?void 0:S.navBtnPrev),onActivate:B[0]||(B[0]=x=>s(I)(!1,!0)),onSetRef:B[1]||(B[1]=x=>ae(x,0))},{default:ge(()=>[m.$slots["arrow-left"]?ue(m.$slots,"arrow-left",{key:0}):K("",!0),m.$slots["arrow-left"]?K("",!0):(A(),Ae(s(Yt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):K("",!0),ye("div",{class:ke(["dp__month_year_wrap",{dp__year_disable_select:m.disableYearSelect}])},[(A(!0),V(_e,null,Me(ve.value,(x,me)=>(A(),V(_e,{key:x.type},[ye("button",{ref_for:!0,ref:i=>ae(i,me+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":x.ariaLabel,"data-test":`${x.type}-toggle-overlay-${e.instance}`,onClick:x.toggle,onKeydown:i=>s(Xe)(i,()=>x.toggle(),!0)},[m.$slots[x.type]?ue(m.$slots,x.type,{key:0,text:x.text,value:t[x.type]}):K("",!0),m.$slots[x.type]?K("",!0):(A(),V(_e,{key:1},[va(Ve(x.text),1)],64))],40,$r),la(La,{name:s(D)(x.showSelectionGrid),css:s(P)},{default:ge(()=>[x.showSelectionGrid?(A(),Ae(Qa,{key:0,items:x.items,"arrow-navigation":m.arrowNavigation,"hide-navigation":m.hideNavigation,"is-last":m.autoApply&&!s(Y).keepActionRow,"skip-button-ref":!1,config:m.config,type:x.type,"header-refs":[],"esc-close":m.escClose,"menu-wrap-ref":m.menuWrapRef,"text-input":m.textInput,"aria-labels":m.ariaLabels,onSelected:x.updateModelValue,onToggle:x.toggle},ze({"button-icon":ge(()=>[m.$slots["calendar-icon"]?ue(m.$slots,"calendar-icon",{key:0}):K("",!0),m.$slots["calendar-icon"]?K("",!0):(A(),Ae(s(Ya),{key:1}))]),_:2},[m.$slots[`${x.type}-overlay-value`]?{name:"item",fn:ge(({item:i})=>[ue(m.$slots,`${x.type}-overlay-value`,{text:i.text,value:i.value})]),key:"0"}:void 0,m.$slots[`${x.type}-overlay`]?{name:"overlay",fn:ge(()=>[ue(m.$slots,`${x.type}-overlay`,Le({ref_for:!0},te.value(x.type)))]),key:"1"}:void 0,m.$slots[`${x.type}-overlay-header`]?{name:"header",fn:ge(()=>[ue(m.$slots,`${x.type}-overlay-header`,{toggle:x.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):K("",!0)]),_:2},1032,["name","css"])],64))),128))],2),s(T)(s(b),e.instance)&&m.vertical?(A(),Ae(Ha,{key:1,"aria-label":(le=s(p))==null?void 0:le.prevMonth,disabled:s(j)(!1),class:ke((d=s(f))==null?void 0:d.navBtnPrev),onActivate:B[2]||(B[2]=x=>s(I)(!1,!0))},{default:ge(()=>[m.$slots["arrow-up"]?ue(m.$slots,"arrow-up",{key:0}):K("",!0),m.$slots["arrow-up"]?K("",!0):(A(),Ae(s(Vt),{key:1}))]),_:3},8,["aria-label","disabled","class"])):K("",!0),s(H)(s(b),e.instance)?(A(),Ae(Ha,{key:2,ref:"rightIcon",disabled:s(j)(!0),"aria-label":(re=s(p))==null?void 0:re.nextMonth,class:ke((fe=s(f))==null?void 0:fe.navBtnNext),onActivate:B[3]||(B[3]=x=>s(I)(!0,!0)),onSetRef:B[4]||(B[4]=x=>ae(x,m.disableYearSelect?2:3))},{default:ge(()=>[m.$slots[m.vertical?"arrow-down":"arrow-right"]?ue(m.$slots,m.vertical?"arrow-down":"arrow-right",{key:0}):K("",!0),m.$slots[m.vertical?"arrow-down":"arrow-right"]?K("",!0):(A(),Ae(st(m.vertical?s(zt):s(Et)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):K("",!0)])],64))])}}}),Tr=["aria-label"],Mr={class:"dp__calendar_header",role:"row"},Cr={key:0,class:"dp__calendar_header_item",role:"gridcell"},xr=["aria-label"],Pr=ye("div",{class:"dp__calendar_header_separator"},null,-1),Rr=["aria-label"],Or={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Nr={class:"dp__cell_inner"},Ir=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],Br=Ye({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...oa},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:a,emit:n}){const l=n,t=e,{buildMultiLevelMatrix:v}=ka(),{defaultedTransitions:p,defaultedConfig:b,defaultedAriaLabels:c,defaultedMultiCalendars:Y,defaultedWeekNumbers:y,defaultedMultiDates:h,defaultedUI:f}=xe(t),D=W(null),P=W({bottom:"",left:"",transform:""}),k=W([]),I=W(null),j=W(!0),Z=W(""),T=W({startX:0,endX:0,startY:0,endY:0}),H=W([]),G=W({left:"50%"}),R=W(!1),C=U(()=>t.calendar?t.calendar(t.mappedDates):t.mappedDates),ne=U(()=>t.dayNames?Array.isArray(t.dayNames)?t.dayNames:t.dayNames(t.locale,+t.weekStart):cn(t.formatLocale,t.locale,+t.weekStart));He(()=>{l("mount",{cmp:"calendar",refs:k}),b.value.noSwipe||I.value&&(I.value.addEventListener("touchstart",ae,{passive:!1}),I.value.addEventListener("touchend",ie,{passive:!1}),I.value.addEventListener("touchmove",ve,{passive:!1})),t.monthChangeOnScroll&&I.value&&I.value.addEventListener("wheel",r,{passive:!1})});const J=x=>x?t.vertical?"vNext":"next":t.vertical?"vPrevious":"previous",O=(x,me)=>{if(t.transitions){const i=Ke(ca(F(),t.month,t.year));Z.value=Oe(Ke(ca(F(),x,me)),i)?p.value[J(!0)]:p.value[J(!1)],j.value=!1,Ze(()=>{j.value=!0})}},te=U(()=>({[t.calendarClassName]:!!t.calendarClassName,...f.value.calendar??{}})),se=U(()=>x=>{const me=pn(x);return{dp__marker_dot:me.type==="dot",dp__marker_line:me.type==="line"}}),ce=U(()=>x=>De(x,D.value)),M=U(()=>({dp__calendar:!0,dp__calendar_next:Y.value.count>0&&t.instance!==0})),u=U(()=>x=>t.hideOffsetDates?x.current:!0),w=async(x,me,i)=>{const N=Ne(k.value[me][i]);if(N){const{width:q,height:z}=N.getBoundingClientRect();D.value=x.value;let L={left:`${q/2}px`},we=-50;if(await Ze(),H.value[0]){const{left:_,width:ee}=H.value[0].getBoundingClientRect();_<0&&(L={left:"0"},we=0,G.value.left=`${q/2}px`),window.innerWidth<_+ee&&(L={right:"0"},we=0,G.value.left=`${ee-q/2}px`)}P.value={bottom:`${z}px`,...L,transform:`translateX(${we}%)`},l("tooltip-open",x.marker)}},o=async(x,me,i)=>{var N,q;if(R.value&&h.value.enabled&&h.value.dragSelect)return l("select-date",x);l("set-hover-date",x),(q=(N=x.marker)==null?void 0:N.tooltip)!=null&&q.length&&await w(x,me,i)},E=x=>{D.value&&(D.value=null,P.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),l("tooltip-close",x.marker))},ae=x=>{T.value.startX=x.changedTouches[0].screenX,T.value.startY=x.changedTouches[0].screenY},ie=x=>{T.value.endX=x.changedTouches[0].screenX,T.value.endY=x.changedTouches[0].screenY,m()},ve=x=>{t.vertical&&!t.inline&&x.preventDefault()},m=()=>{const x=t.vertical?"Y":"X";Math.abs(T.value[`start${x}`]-T.value[`end${x}`])>10&&l("handle-swipe",T.value[`start${x}`]>T.value[`end${x}`]?"right":"left")},B=(x,me,i)=>{x&&(Array.isArray(k.value[me])?k.value[me][i]=x:k.value[me]=[x]),t.arrowNavigation&&v(k.value,"calendar")},r=x=>{t.monthChangeOnScroll&&(x.preventDefault(),l("handle-scroll",x))},S=x=>y.value.type==="local"?an(x.value,{weekStartsOn:+t.weekStart}):y.value.type==="iso"?tn(x.value):typeof y.value.type=="function"?y.value.type(x.value):"",le=x=>{const me=x[0];return y.value.hideOnOffsetDates?x.some(i=>i.current)?S(me):"":S(me)},d=(x,me)=>{h.value.enabled||(ga(x,b.value),l("select-date",me))},re=x=>{ga(x,b.value)},fe=x=>{h.value.enabled&&h.value.dragSelect?(R.value=!0,l("select-date",x)):h.value.enabled&&l("select-date",x)};return a({triggerTransition:O}),(x,me)=>{var i;return A(),V("div",{class:ke(M.value)},[ye("div",{ref_key:"calendarWrapRef",ref:I,role:"grid",class:ke(te.value),"aria-label":(i=s(c))==null?void 0:i.calendarWrap},[ye("div",Mr,[x.weekNumbers?(A(),V("div",Cr,Ve(x.weekNumName),1)):K("",!0),(A(!0),V(_e,null,Me(ne.value,(N,q)=>{var z,L;return A(),V("div",{key:q,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(L=(z=s(c))==null?void 0:z.weekDay)==null?void 0:L.call(z,q)},[x.$slots["calendar-header"]?ue(x.$slots,"calendar-header",{key:0,day:N,index:q}):K("",!0),x.$slots["calendar-header"]?K("",!0):(A(),V(_e,{key:1},[va(Ve(N),1)],64))],8,xr)}),128))]),Pr,la(La,{name:Z.value,css:!!x.transitions},{default:ge(()=>{var N;return[j.value?(A(),V("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((N=s(c))==null?void 0:N.calendarDays)||void 0,onMouseleave:me[1]||(me[1]=q=>R.value=!1)},[(A(!0),V(_e,null,Me(C.value,(q,z)=>(A(),V("div",{key:z,class:"dp__calendar_row",role:"row"},[x.weekNumbers?(A(),V("div",Or,[ye("div",Nr,Ve(le(q.days)),1)])):K("",!0),(A(!0),V(_e,null,Me(q.days,(L,we)=>{var _,ee,he;return A(),V("div",{id:s(xl)(L.value),ref_for:!0,ref:$e=>B($e,z,we),key:we+z,role:"gridcell",class:"dp__calendar_item","aria-selected":(L.classData.dp__active_date||L.classData.dp__range_start||L.classData.dp__range_start)??void 0,"aria-disabled":L.classData.dp__cell_disabled||void 0,"aria-label":(ee=(_=s(c))==null?void 0:_.day)==null?void 0:ee.call(_,L),tabindex:"0","data-test":L.value,onClick:ja($e=>d($e,L),["prevent"]),onKeydown:$e=>s(Xe)($e,()=>x.$emit("select-date",L)),onMouseenter:$e=>o(L,z,we),onMouseleave:$e=>E(L),onMousedown:$e=>fe(L),onMouseup:me[0]||(me[0]=$e=>R.value=!1)},[ye("div",{class:ke(["dp__cell_inner",L.classData])},[x.$slots.day&&u.value(L)?ue(x.$slots,"day",{key:0,day:+L.text,date:L.value}):K("",!0),x.$slots.day?K("",!0):(A(),V(_e,{key:1},[va(Ve(L.text),1)],64)),L.marker&&u.value(L)?(A(),V(_e,{key:2},[x.$slots.marker?ue(x.$slots,"marker",{key:0,marker:L.marker,day:+L.text,date:L.value}):(A(),V("div",{key:1,class:ke(se.value(L.marker)),style:aa(L.marker.color?{backgroundColor:L.marker.color}:{})},null,6))],64)):K("",!0),ce.value(L.value)?(A(),V("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:H,class:"dp__marker_tooltip",style:aa(P.value)},[(he=L.marker)!=null&&he.tooltip?(A(),V("div",{key:0,class:"dp__tooltip_content",onClick:re},[(A(!0),V(_e,null,Me(L.marker.tooltip,($e,Je)=>(A(),V("div",{key:Je,class:"dp__tooltip_text"},[x.$slots["marker-tooltip"]?ue(x.$slots,"marker-tooltip",{key:0,tooltip:$e,day:L.value}):K("",!0),x.$slots["marker-tooltip"]?K("",!0):(A(),V(_e,{key:1},[ye("div",{class:"dp__tooltip_mark",style:aa($e.color?{backgroundColor:$e.color}:{})},null,4),ye("div",null,Ve($e.text),1)],64))]))),128)),ye("div",{class:"dp__arrow_bottom_tp",style:aa(G.value)},null,4)])):K("",!0)],4)):K("",!0)],2)],40,Ir)}),128))]))),128))],40,Rr)):K("",!0)]}),_:3},8,["name","css"])],10,Tr)],2)}}}),ul=e=>Array.isArray(e),Lr=(e,a,n,l)=>{const t=W([]),v=W(new Date),p=W(),b=()=>ie(e.isTextInputDate),{modelValue:c,calendars:Y,time:y,today:h}=Ga(e,a,b),{defaultedMultiCalendars:f,defaultedStartTime:D,defaultedRange:P,defaultedConfig:k,defaultedTz:I,propDates:j,defaultedMultiDates:Z}=xe(e),{validateMonthYearInRange:T,isDisabled:H,isDateRangeAllowed:G,checkMinMaxRange:R}=wa(e),{updateTimeValues:C,getSetDateTime:ne,setTime:J,assignStartTime:O,validateTime:te,disabledTimesConfig:se}=Ll(e,y,c,l),ce=U(()=>g=>Y.value[g]?Y.value[g].month:0),M=U(()=>g=>Y.value[g]?Y.value[g].year:0),u=g=>!k.value.keepViewOnOffsetClick||g?!0:!p.value,w=(g,X,$,Q=!1)=>{var oe,Ue;u(Q)&&(Y.value[g]||(Y.value[g]={month:0,year:0}),Y.value[g].month=ll(X)?(oe=Y.value[g])==null?void 0:oe.month:X,Y.value[g].year=ll($)?(Ue=Y.value[g])==null?void 0:Ue.year:$)},o=()=>{e.autoApply&&a("select-date")};He(()=>{e.shadow||(c.value||(me(),D.value&&O(D.value)),ie(!0),e.focusStartDate&&e.startDate&&me())});const E=U(()=>{var g;return(g=e.flow)!=null&&g.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),ae=()=>{e.autoApply&&E.value&&a("auto-apply")},ie=(g=!1)=>{if(c.value)return Array.isArray(c.value)?(t.value=c.value,d(g)):B(c.value,g);if(f.value.count&&g&&!e.startDate)return m(F(),g)},ve=()=>Array.isArray(c.value)&&P.value.enabled?be(c.value[0])===be(c.value[1]??c.value[0]):!1,m=(g=new Date,X=!1)=>{if((!f.value.count||!f.value.static||X)&&w(0,be(g),pe(g)),f.value.count&&(!f.value.solo||!c.value||ve()))for(let $=1;$<f.value.count;$++){const Q=Se(F(),{month:ce.value($-1),year:M.value($-1)}),oe=cl(Q,{months:1});Y.value[$]={month:be(oe),year:pe(oe)}}},B=(g,X)=>{m(g),J("hours",pa(g)),J("minutes",_a(g)),J("seconds",Na(g)),f.value.count&&X&&x()},r=g=>{if(f.value.count){if(f.value.solo)return 0;const X=be(g[0]),$=be(g[1]);return Math.abs($-X)<f.value.count?0:1}return 1},S=(g,X)=>{g[1]&&P.value.showLastInRange?m(g[r(g)],X):m(g[0],X);const $=(Q,oe)=>[Q(g[0]),g[1]?Q(g[1]):y[oe][1]];J("hours",$(pa,"hours")),J("minutes",$(_a,"minutes")),J("seconds",$(Na,"seconds"))},le=(g,X)=>{if((P.value.enabled||e.weekPicker)&&!Z.value.enabled)return S(g,X);if(Z.value.enabled&&X){const $=g[g.length-1];return B($,X)}},d=g=>{const X=c.value;le(X,g),f.value.count&&f.value.solo&&x()},re=(g,X)=>{const $=Se(F(),{month:ce.value(X),year:M.value(X)}),Q=g<0?Sa($,1):Ja($,1);T(be(Q),pe(Q),g<0,e.preventMinMaxNavigation)&&(w(X,be(Q),pe(Q)),a("update-month-year",{instance:X,month:be(Q),year:pe(Q)}),f.value.count&&!f.value.solo&&fe(X),n())},fe=g=>{for(let X=g-1;X>=0;X--){const $=Ja(Se(F(),{month:ce.value(X+1),year:M.value(X+1)}),1);w(X,be($),pe($))}for(let X=g+1;X<=f.value.count-1;X++){const $=Sa(Se(F(),{month:ce.value(X-1),year:M.value(X-1)}),1);w(X,be($),pe($))}},x=()=>{if(Array.isArray(c.value)&&c.value.length===2){const g=F(F(c.value[1]?c.value[1]:Sa(c.value[0],1))),[X,$]=[be(c.value[0]),pe(c.value[0])],[Q,oe]=[be(c.value[1]),pe(c.value[1])];(X!==Q||X===Q&&$!==oe)&&f.value.solo&&w(1,be(g),pe(g))}else c.value&&!Array.isArray(c.value)&&(w(0,be(c.value),pe(c.value)),m(F()))},me=()=>{e.startDate&&(w(0,be(F(e.startDate)),pe(F(e.startDate))),f.value.count&&fe(0))},i=(g,X)=>{if(e.monthChangeOnScroll){const $=new Date().getTime()-v.value.getTime(),Q=Math.abs(g.deltaY);let oe=500;Q>1&&(oe=100),Q>100&&(oe=0),$>oe&&(v.value=new Date,re(e.monthChangeOnScroll!=="inverse"?-g.deltaY:g.deltaY,X))}},N=(g,X,$=!1)=>{e.monthChangeOnArrows&&e.vertical===$&&q(g,X)},q=(g,X)=>{re(g==="right"?-1:1,X)},z=g=>{if(j.value.markers)return it(g.value,j.value.markers)},L=(g,X)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[g==0,!0];case"fair":return[g==0||X>g,!0];case"append":return[!1,!1];default:return[!1,!1]}},we=(g,X,$,Q)=>{if(e.sixWeeks&&g.length<6){const oe=6-g.length,Ue=(X.getDay()+7-Q)%7,ea=6-($.getDay()+7-Q)%7,[Da,et]=L(Ue,ea);for(let Va=1;Va<=oe;Va++)if(et?!!(Va%2)==Da:Da){const ya=g[0].days[0],wt=_($a(ya.value,-7),be(X));g.unshift({days:wt})}else{const ya=g[g.length-1],wt=ya.days[ya.days.length-1],El=_($a(wt.value,1),be(X));g.push({days:El})}}return g},_=(g,X)=>{const $=F(g),Q=[];for(let oe=0;oe<7;oe++){const Ue=$a($,oe),ea=be(Ue)!==X;Q.push({text:e.hideOffsetDates&&ea?"":Ue.getDate(),value:Ue,current:!ea,classData:{}})}return Q},ee=(g,X)=>{const $=[],Q=new Date(X,g),oe=new Date(X,g+1,0),Ue=e.weekStart,ea=Lt(Q,{weekStartsOn:Ue}),Da=et=>{const Va=_(et,g);if($.push({days:Va}),!$[$.length-1].days.some(ya=>De(Ke(ya.value),Ke(oe)))){const ya=$a(et,7);Da(ya)}};return Da(ea),we($,Q,oe,Ue)},he=g=>{const X=ba(F(g.value),y.hours,y.minutes,Qe());a("date-update",X),Z.value.enabled?qt(X,c,Z.value.limit):c.value=X,l(),Ze().then(()=>{ae()})},$e=g=>P.value.noDisabledRange?$l(t.value[0],g).some(X=>H(X)):!1,Je=()=>{t.value=c.value?c.value.slice():[],t.value.length===2&&!(P.value.fixedStart||P.value.fixedEnd)&&(t.value=[])},de=(g,X)=>{const $=[F(g.value),$a(F(g.value),+P.value.autoRange)];G($)?(X&&ma(g.value),t.value=$):a("invalid-date",g.value)},ma=g=>{const X=be(F(g)),$=pe(F(g));if(w(0,X,$),f.value.count>0)for(let Q=1;Q<f.value.count;Q++){const oe=kn(Se(F(g),{year:ce.value(Q-1),month:M.value(Q-1)}));w(Q,oe.month,oe.year)}},ia=g=>{if($e(g.value)||!R(g.value,c.value,P.value.fixedStart?0:1))return a("invalid-date",g.value);t.value=Nl(F(g.value),c,a,P)},Ea=(g,X)=>{if(Je(),P.value.autoRange)return de(g,X);if(P.value.fixedStart||P.value.fixedEnd)return ia(g);t.value[0]?R(F(g.value),c.value)&&!$e(g.value)?Pe(F(g.value),F(t.value[0]))?(t.value.unshift(F(g.value)),a("range-end",t.value[0])):(t.value[1]=F(g.value),a("range-end",t.value[1])):(e.autoApply&&a("auto-apply-invalid",g.value),a("invalid-date",g.value)):(t.value[0]=F(g.value),a("range-start",t.value[0]))},Qe=(g=!0)=>e.enableSeconds?Array.isArray(y.seconds)?g?y.seconds[0]:y.seconds[1]:y.seconds:0,Fa=g=>{t.value[g]=ba(t.value[g],y.hours[g],y.minutes[g],Qe(g!==1))},yt=()=>{var g,X;t.value[0]&&t.value[1]&&+((g=t.value)==null?void 0:g[0])>+((X=t.value)==null?void 0:X[1])&&(t.value.reverse(),a("range-start",t.value[0]),a("range-end",t.value[1]))},Za=()=>{t.value.length&&(t.value[0]&&!t.value[1]?Fa(0):(Fa(0),Fa(1),l()),yt(),c.value=t.value.slice(),pt(t.value,a,e.autoApply,e.modelAuto))},ft=(g,X=!1)=>{if(H(g.value)||!g.current&&e.hideOffsetDates)return a("invalid-date",g.value);if(p.value=JSON.parse(JSON.stringify(g)),!P.value.enabled)return he(g);ul(y.hours)&&ul(y.minutes)&&!Z.value.enabled&&(Ea(g,X),Za())},ht=(g,X)=>{var $;w(g,X.month,X.year,!0),f.value.count&&!f.value.solo&&fe(g),a("update-month-year",{instance:g,month:X.month,year:X.year}),n(f.value.solo?g:void 0);const Q=($=e.flow)!=null&&$.length?e.flow[e.flowStep]:void 0;!X.fromNav&&(Q===Fe.month||Q===Fe.year)&&l()},gt=(g,X)=>{Ol({value:g,modelValue:c,range:P.value.enabled,timezone:X?void 0:I.value.timezone}),o(),e.multiCalendars&&Ze().then(()=>ie(!0))},bt=()=>{const g=Ht(F(),I.value);P.value.enabled?c.value&&Array.isArray(c.value)&&c.value[0]?c.value=Pe(g,c.value[0])?[g,c.value[0]]:[c.value[0],g]:c.value=[g]:c.value=g,o()},_t=()=>{if(Array.isArray(c.value))if(Z.value.enabled){const g=kt();c.value[c.value.length-1]=ne(g)}else c.value=c.value.map((g,X)=>g&&ne(g,X));else c.value=ne(c.value);a("time-update")},kt=()=>Array.isArray(c.value)&&c.value.length?c.value[c.value.length-1]:null;return{calendars:Y,modelValue:c,month:ce,year:M,time:y,disabledTimesConfig:se,today:h,validateTime:te,getCalendarDays:ee,getMarker:z,handleScroll:i,handleSwipe:q,handleArrow:N,selectDate:ft,updateMonthYear:ht,presetDate:gt,selectCurrentDate:bt,updateTime:(g,X=!0,$=!1)=>{C(g,X,$,_t)},assignMonthAndYear:m}},Yr={key:0},Er=Ye({__name:"DatePicker",props:{...oa},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,{calendars:v,month:p,year:b,modelValue:c,time:Y,disabledTimesConfig:y,today:h,validateTime:f,getCalendarDays:D,getMarker:P,handleArrow:k,handleScroll:I,handleSwipe:j,selectDate:Z,updateMonthYear:T,presetDate:H,selectCurrentDate:G,updateTime:R,assignMonthAndYear:C}=Lr(t,l,ve,m),ne=Ca(),{setHoverDate:J,getDayClassData:O,clearHoverDate:te}=ao(c,t),{defaultedMultiCalendars:se}=xe(t),ce=W([]),M=W([]),u=W(null),w=We(ne,"calendar"),o=We(ne,"monthYear"),E=We(ne,"timePicker"),ae=i=>{t.shadow||l("mount",i)};ta(v,()=>{t.shadow||setTimeout(()=>{l("recalculate-position")},0)},{deep:!0}),ta(se,(i,N)=>{i.count-N.count>0&&C()},{deep:!0});const ie=U(()=>i=>D(p.value(i),b.value(i)).map(N=>({...N,days:N.days.map(q=>(q.marker=P(q),q.classData=O(q),q))})));function ve(i){var N;i||i===0?(N=M.value[i])==null||N.triggerTransition(p.value(i),b.value(i)):M.value.forEach((q,z)=>q.triggerTransition(p.value(z),b.value(z)))}function m(){l("update-flow-step")}const B=(i,N=!1)=>{Z(i,N),t.spaceConfirm&&l("select-date")},r=(i,N,q=0)=>{var z;(z=ce.value[q])==null||z.toggleMonthPicker(i,N)},S=(i,N,q=0)=>{var z;(z=ce.value[q])==null||z.toggleYearPicker(i,N)},le=(i,N,q)=>{var z;(z=u.value)==null||z.toggleTimePicker(i,N,q)},d=(i,N)=>{var q;if(!t.range){const z=c.value?c.value:h,L=N?new Date(N):z,we=i?Lt(L,{weekStartsOn:1}):vl(L,{weekStartsOn:1});Z({value:we,current:be(L)===p.value(0),text:"",classData:{}}),(q=document.getElementById(xl(we)))==null||q.focus()}},re=i=>{var N;(N=ce.value[0])==null||N.handleMonthYearChange(i,!0)},fe=i=>{T(0,{month:p.value(0),year:b.value(0)+(i?1:-1),fromNav:!0})},x=(i,N)=>{i===Fe.time&&l(`time-picker-${N?"open":"close"}`),l("overlay-toggle",{open:N,overlay:i})},me=i=>{l("overlay-toggle",{open:!1,overlay:i}),l("focus-menu")};return a({clearHoverDate:te,presetDate:H,selectCurrentDate:G,toggleMonthPicker:r,toggleYearPicker:S,toggleTimePicker:le,handleArrow:k,updateMonthYear:T,getSidebarProps:()=>({modelValue:c,month:p,year:b,time:Y,updateTime:R,updateMonthYear:T,selectDate:Z,presetDate:H}),changeMonth:re,changeYear:fe,selectWeekDate:d}),(i,N)=>(A(),V(_e,null,[la(vt,{"multi-calendars":s(se).count,collapse:i.collapse},{default:ge(({instance:q,index:z})=>[i.disableMonthYearSelect?K("",!0):(A(),Ae(Sr,Le({key:0,ref:L=>{L&&(ce.value[z]=L)},months:s(bl)(i.formatLocale,i.locale,i.monthNameFormat),years:s(Ut)(i.yearRange,i.locale,i.reverseYears),month:s(p)(q),year:s(b)(q),instance:q},i.$props,{onMount:N[0]||(N[0]=L=>ae(s(Ta).header)),onResetFlow:N[1]||(N[1]=L=>i.$emit("reset-flow")),onUpdateMonthYear:L=>s(T)(q,L),onOverlayClosed:me,onOverlayOpened:N[2]||(N[2]=L=>i.$emit("overlay-toggle",{open:!0,overlay:L}))}),ze({_:2},[Me(s(o),(L,we)=>({name:L,fn:ge(_=>[ue(i.$slots,L,Be(qe(_)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),la(Br,Le({ref:L=>{L&&(M.value[z]=L)},"mapped-dates":ie.value(q),month:s(p)(q),year:s(b)(q),instance:q},i.$props,{onSelectDate:L=>s(Z)(L,q!==1),onHandleSpace:L=>B(L,q!==1),onSetHoverDate:N[3]||(N[3]=L=>s(J)(L)),onHandleScroll:L=>s(I)(L,q),onHandleSwipe:L=>s(j)(L,q),onMount:N[4]||(N[4]=L=>ae(s(Ta).calendar)),onResetFlow:N[5]||(N[5]=L=>i.$emit("reset-flow")),onTooltipOpen:N[6]||(N[6]=L=>i.$emit("tooltip-open",L)),onTooltipClose:N[7]||(N[7]=L=>i.$emit("tooltip-close",L))}),ze({_:2},[Me(s(w),(L,we)=>({name:L,fn:ge(_=>[ue(i.$slots,L,Be(qe({..._})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),i.enableTimePicker?(A(),V("div",Yr,[i.$slots["time-picker"]?ue(i.$slots,"time-picker",Be(Le({key:0},{time:s(Y),updateTime:s(R)}))):(A(),Ae(Bl,Le({key:1,ref_key:"timePickerRef",ref:u},i.$props,{hours:s(Y).hours,minutes:s(Y).minutes,seconds:s(Y).seconds,"internal-model-value":i.internalModelValue,"disabled-times-config":s(y),"validate-time":s(f),onMount:N[8]||(N[8]=q=>ae(s(Ta).timePicker)),"onUpdate:hours":N[9]||(N[9]=q=>s(R)(q)),"onUpdate:minutes":N[10]||(N[10]=q=>s(R)(q,!1)),"onUpdate:seconds":N[11]||(N[11]=q=>s(R)(q,!1,!0)),onResetFlow:N[12]||(N[12]=q=>i.$emit("reset-flow")),onOverlayClosed:N[13]||(N[13]=q=>x(q,!1)),onOverlayOpened:N[14]||(N[14]=q=>x(q,!0)),onAmPmChange:N[15]||(N[15]=q=>i.$emit("am-pm-change",q))}),ze({_:2},[Me(s(E),(q,z)=>({name:q,fn:ge(L=>[ue(i.$slots,q,Be(qe(L)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):K("",!0)],64))}}),Fr=(e,a)=>{const n=W(),{defaultedMultiCalendars:l,defaultedConfig:t,defaultedHighlight:v,defaultedRange:p,propDates:b,defaultedFilters:c,defaultedMultiDates:Y}=xe(e),{modelValue:y,year:h,month:f,calendars:D}=Ga(e,a),{isDisabled:P}=wa(e),{selectYear:k,groupedYears:I,showYearPicker:j,isDisabled:Z,toggleYearPicker:T,handleYearSelect:H,handleYear:G}=Il({modelValue:y,multiCalendars:l,range:p,highlight:v,calendars:D,propDates:b,month:f,year:h,filters:c,props:e,emit:a}),R=(u,w)=>[u,w].map(o=>sa(o,"MMMM",{locale:e.formatLocale})).join("-"),C=U(()=>u=>y.value?Array.isArray(y.value)?y.value.some(w=>Gt(u,w)):Gt(y.value,u):!1),ne=u=>{if(p.value.enabled){if(Array.isArray(y.value)){const w=De(u,y.value[0])||De(u,y.value[1]);return dt(y.value,n.value,u)&&!w}return!1}return!1},J=(u,w)=>u.quarter===el(w)&&u.year===pe(w),O=u=>typeof v.value=="function"?v.value({quarter:el(u),year:pe(u)}):!!v.value.quarters.find(w=>J(w,u)),te=U(()=>u=>{const w=Se(new Date,{year:h.value(u)});return Ql({start:ot(w),end:pl(w)}).map(o=>{const E=Wl(o),ae=Zt(o),ie=P(o),ve=ne(E),m=O(E);return{text:R(E,ae),value:E,active:C.value(E),highlighted:m,disabled:ie,isBetween:ve}})}),se=u=>{qt(u,y,Y.value.limit),a("auto-apply",!0)},ce=u=>{y.value=Xt(y,u,a),pt(y.value,a,e.autoApply,e.modelAuto)},M=u=>{y.value=u,a("auto-apply")};return{defaultedConfig:t,defaultedMultiCalendars:l,groupedYears:I,year:h,isDisabled:Z,quarters:te,showYearPicker:j,modelValue:y,setHoverDate:u=>{n.value=u},selectYear:k,selectQuarter:(u,w,o)=>{if(!o)return D.value[w].month=be(Zt(u)),Y.value.enabled?se(u):p.value.enabled?ce(u):M(u)},toggleYearPicker:T,handleYearSelect:H,handleYear:G}},Vr={class:"dp--quarter-items"},zr=["data-test","disabled","onClick","onMouseover"],Hr=Ye({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...oa},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:a,emit:n}){const l=n,t=e,v=Ca(),p=We(v,"yearMode"),{defaultedMultiCalendars:b,defaultedConfig:c,groupedYears:Y,year:y,isDisabled:h,quarters:f,modelValue:D,showYearPicker:P,setHoverDate:k,selectQuarter:I,toggleYearPicker:j,handleYearSelect:Z,handleYear:T}=Fr(t,l);return a({getSidebarProps:()=>({modelValue:D,year:y,selectQuarter:I,handleYearSelect:Z,handleYear:T})}),(H,G)=>(A(),Ae(vt,{"multi-calendars":s(b).count,collapse:H.collapse,stretch:""},{default:ge(({instance:R})=>[ye("div",{class:"dp-quarter-picker-wrap",style:aa({minHeight:`${s(c).modeHeight}px`})},[H.$slots["top-extra"]?ue(H.$slots,"top-extra",{key:0,value:H.internalModelValue}):K("",!0),ye("div",null,[la(Rl,Le(H.$props,{items:s(Y)(R),instance:R,"show-year-picker":s(P)[R],year:s(y)(R),"is-disabled":C=>s(h)(R,C),onHandleYear:C=>s(T)(R,C),onYearSelect:C=>s(Z)(C,R),onToggleYearPicker:C=>s(j)(R,C==null?void 0:C.flow,C==null?void 0:C.show)}),ze({_:2},[Me(s(p),(C,ne)=>({name:C,fn:ge(J=>[ue(H.$slots,C,Be(qe(J)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),ye("div",Vr,[(A(!0),V(_e,null,Me(s(f)(R),(C,ne)=>(A(),V("div",{key:ne},[ye("button",{type:"button",class:ke(["dp--qr-btn",{"dp--qr-btn-active":C.active,"dp--qr-btn-between":C.isBetween,"dp--qr-btn-disabled":C.disabled,"dp--highlighted":C.highlighted}]),"data-test":C.value,disabled:C.disabled,onClick:J=>s(I)(C.value,R,C.disabled),onMouseover:J=>s(k)(C.value)},[H.$slots.quarter?ue(H.$slots,"quarter",{key:0,value:C.value,text:C.text}):(A(),V(_e,{key:1},[va(Ve(C.text),1)],64))],42,zr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),Ur=["id","aria-label"],jr={key:0,class:"dp--menu-load-container"},Kr=ye("span",{class:"dp--menu-loader"},null,-1),Jr=[Kr],qr={key:0,class:"dp__sidebar_left"},Xr=["data-test","onClick","onKeydown"],Qr={key:2,class:"dp__sidebar_right"},Wr={key:3,class:"dp__action_extra"},sl=Ye({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...ct,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,v=W(null),p=U(()=>{const{openOnTop:_,...ee}=t;return{...ee,flowStep:J.value,collapse:t.collapse,noOverlayFocus:t.noOverlayFocus,menuWrapRef:v.value}}),{setMenuFocused:b,setShiftKey:c,control:Y}=Pl(),y=Ca(),{defaultedTextInput:h,defaultedInline:f,defaultedConfig:D,defaultedUI:P}=xe(t),k=W(null),I=W(0),j=W(null),Z=W(!1),T=W(null);He(()=>{if(!t.shadow){Z.value=!0,H(),window.addEventListener("resize",H);const _=Ne(v);if(_&&!h.value.enabled&&!f.value.enabled&&(b(!0),w()),_){const ee=he=>{D.value.allowPreventDefault&&he.preventDefault(),ga(he,D.value,!0)};_.addEventListener("pointerdown",ee),_.addEventListener("mousedown",ee)}}}),ut(()=>{window.removeEventListener("resize",H)});const H=()=>{const _=Ne(j);_&&(I.value=_.getBoundingClientRect().width)},{arrowRight:G,arrowLeft:R,arrowDown:C,arrowUp:ne}=ka(),{flowStep:J,updateFlowStep:O,childMount:te,resetFlow:se,handleFlow:ce}=to(t,l,T),M=U(()=>t.monthPicker?ar:t.yearPicker?lr:t.timePicker?_r:t.quarterPicker?Hr:Er),u=U(()=>{var _;if(D.value.arrowLeft)return D.value.arrowLeft;const ee=(_=v.value)==null?void 0:_.getBoundingClientRect(),he=t.getInputRect();return he.width<I.value&&he.left<=((ee==null?void 0:ee.left)??0)?`${he.width/2}px`:"50%"}),w=()=>{const _=Ne(v);_&&_.focus({preventScroll:!0})},o=U(()=>{var _;return((_=T.value)==null?void 0:_.getSidebarProps())||{}}),E=()=>{t.openOnTop&&l("recalculate-position")},ae=We(y,"action"),ie=U(()=>t.monthPicker||t.yearPicker?We(y,"monthYear"):t.timePicker?We(y,"timePicker"):We(y,"shared")),ve=U(()=>t.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),m=U(()=>({dp__menu_disabled:t.disabled,dp__menu_readonly:t.readonly,"dp-menu-loading":t.loading})),B=U(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,[t.menuClassName]:!!t.menuClassName,...P.value.menu??{}})),r=_=>{ga(_,D.value,!0)},S=()=>{t.escClose&&l("close-picker")},le=_=>{if(t.arrowNavigation){if(_===je.up)return ne();if(_===je.down)return C();if(_===je.left)return R();if(_===je.right)return G()}else _===je.left||_===je.up?me("handleArrow",je.left,0,_===je.up):me("handleArrow",je.right,0,_===je.down)},d=_=>{c(_.shiftKey),!t.disableMonthYearSelect&&_.code===Ce.tab&&_.target.classList.contains("dp__menu")&&Y.value.shiftKeyInMenu&&(_.preventDefault(),ga(_,D.value,!0),l("close-picker"))},re=()=>{w(),l("time-picker-close")},fe=_=>{var ee,he,$e;(ee=T.value)==null||ee.toggleTimePicker(!1,!1),(he=T.value)==null||he.toggleMonthPicker(!1,!1,_),($e=T.value)==null||$e.toggleYearPicker(!1,!1,_)},x=(_,ee=0)=>{var he,$e,Je;return _==="month"?(he=T.value)==null?void 0:he.toggleMonthPicker(!1,!0,ee):_==="year"?($e=T.value)==null?void 0:$e.toggleYearPicker(!1,!0,ee):_==="time"?(Je=T.value)==null?void 0:Je.toggleTimePicker(!0,!1):fe(ee)},me=(_,...ee)=>{var he,$e;(he=T.value)!=null&&he[_]&&(($e=T.value)==null||$e[_](...ee))},i=()=>{me("selectCurrentDate")},N=(_,ee)=>{me("presetDate",_,ee)},q=()=>{me("clearHoverDate")},z=(_,ee)=>{me("updateMonthYear",_,ee)},L=(_,ee)=>{_.preventDefault(),le(ee)},we=_=>{var ee;if(d(_),_.key===Ce.home||_.key===Ce.end)return me("selectWeekDate",_.key===Ce.home,_.target.getAttribute("id"));switch((_.key===Ce.pageUp||_.key===Ce.pageDown)&&(_.shiftKey?me("changeYear",_.key===Ce.pageUp):me("changeMonth",_.key===Ce.pageUp),_.target.getAttribute("id")&&((ee=v.value)==null||ee.focus({preventScroll:!0}))),_.key){case Ce.esc:return S();case Ce.arrowLeft:return L(_,je.left);case Ce.arrowRight:return L(_,je.right);case Ce.arrowUp:return L(_,je.up);case Ce.arrowDown:return L(_,je.down);default:return}};return a({updateMonthYear:z,switchView:x,handleFlow:ce}),(_,ee)=>{var he,$e,Je;return A(),V("div",{id:_.uid?`dp-menu-${_.uid}`:void 0,ref_key:"dpMenuRef",ref:v,tabindex:"0",role:"dialog","aria-label":(he=_.ariaLabels)==null?void 0:he.menu,class:ke(B.value),style:aa({"--dp-arrow-left":u.value}),onMouseleave:q,onClick:r,onKeydown:we},[(_.disabled||_.readonly)&&s(f).enabled||_.loading?(A(),V("div",{key:0,class:ke(m.value)},[_.loading?(A(),V("div",jr,Jr)):K("",!0)],2)):K("",!0),!s(f).enabled&&!_.teleportCenter?(A(),V("div",{key:1,class:ke(ve.value)},null,2)):K("",!0),ye("div",{ref_key:"innerMenuRef",ref:j,class:ke({dp__menu_content_wrapper:(($e=_.presetDates)==null?void 0:$e.length)||!!_.$slots["left-sidebar"]||!!_.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((Je=_.presetDates)==null?void 0:Je.length)||!!_.$slots["left-sidebar"]||!!_.$slots["right-sidebar"])}),style:aa({"--dp-menu-width":`${I.value}px`})},[_.$slots["left-sidebar"]?(A(),V("div",qr,[ue(_.$slots,"left-sidebar",Be(qe(o.value)))])):K("",!0),_.presetDates.length?(A(),V("div",{key:1,class:ke({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0})},[(A(!0),V(_e,null,Me(_.presetDates,(de,ma)=>(A(),V(_e,{key:ma},[de.slot?ue(_.$slots,de.slot,{key:0,presetDate:N,label:de.label,value:de.value}):(A(),V("button",{key:1,type:"button",style:aa(de.style||{}),class:ke(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test":de.testId??void 0,onClick:ja(ia=>N(de.value,de.noTz),["prevent"]),onKeydown:ia=>s(Xe)(ia,()=>N(de.value,de.noTz),!0)},Ve(de.label),47,Xr))],64))),128))],2)):K("",!0),ye("div",{ref_key:"calendarWrapperRef",ref:k,class:"dp__instance_calendar",role:"document"},[(A(),Ae(st(M.value),Le({ref_key:"dynCmpRef",ref:T},p.value,{"flow-step":s(J),onMount:s(te),onUpdateFlowStep:s(O),onResetFlow:s(se),onFocusMenu:w,onSelectDate:ee[0]||(ee[0]=de=>_.$emit("select-date")),onDateUpdate:ee[1]||(ee[1]=de=>_.$emit("date-update",de)),onTooltipOpen:ee[2]||(ee[2]=de=>_.$emit("tooltip-open",de)),onTooltipClose:ee[3]||(ee[3]=de=>_.$emit("tooltip-close",de)),onAutoApply:ee[4]||(ee[4]=de=>_.$emit("auto-apply",de)),onRangeStart:ee[5]||(ee[5]=de=>_.$emit("range-start",de)),onRangeEnd:ee[6]||(ee[6]=de=>_.$emit("range-end",de)),onInvalidFixedRange:ee[7]||(ee[7]=de=>_.$emit("invalid-fixed-range",de)),onTimeUpdate:ee[8]||(ee[8]=de=>_.$emit("time-update")),onAmPmChange:ee[9]||(ee[9]=de=>_.$emit("am-pm-change",de)),onTimePickerOpen:ee[10]||(ee[10]=de=>_.$emit("time-picker-open",de)),onTimePickerClose:re,onRecalculatePosition:E,onUpdateMonthYear:ee[11]||(ee[11]=de=>_.$emit("update-month-year",de)),onAutoApplyInvalid:ee[12]||(ee[12]=de=>_.$emit("auto-apply-invalid",de)),onInvalidDate:ee[13]||(ee[13]=de=>_.$emit("invalid-date",de)),onOverlayToggle:ee[14]||(ee[14]=de=>_.$emit("overlay-toggle",de)),"onUpdate:internalModelValue":ee[15]||(ee[15]=de=>_.$emit("update:internal-model-value",de))}),ze({_:2},[Me(ie.value,(de,ma)=>({name:de,fn:ge(ia=>[ue(_.$slots,de,Be(qe({...ia})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),_.$slots["right-sidebar"]?(A(),V("div",Qr,[ue(_.$slots,"right-sidebar",Be(qe(o.value)))])):K("",!0),_.$slots["action-extra"]?(A(),V("div",Wr,[_.$slots["action-extra"]?ue(_.$slots,"action-extra",{key:0,selectCurrentDate:i}):K("",!0)])):K("",!0)],6),!_.autoApply||s(D).keepActionRow?(A(),Ae(Jn,Le({key:2,"menu-mount":Z.value},p.value,{"calendar-width":I.value,onClosePicker:ee[16]||(ee[16]=de=>_.$emit("close-picker")),onSelectDate:ee[17]||(ee[17]=de=>_.$emit("select-date")),onInvalidSelect:ee[18]||(ee[18]=de=>_.$emit("invalid-select")),onSelectNow:i}),ze({_:2},[Me(s(ae),(de,ma)=>({name:de,fn:ge(ia=>[ue(_.$slots,de,Be(qe({...ia})))])}))]),1040,["menu-mount","calendar-width"])):K("",!0)],46,Ur)}}});var Pa=(e=>(e.center="center",e.left="left",e.right="right",e))(Pa||{});const Gr=({menuRef:e,menuRefInner:a,inputRef:n,pickerWrapperRef:l,inline:t,emit:v,props:p,slots:b})=>{const c=W({}),Y=W(!1),y=W({top:"0",left:"0"}),h=W(!1),f=Ua(p,"teleportCenter");ta(f,()=>{y.value=JSON.parse(JSON.stringify({})),H()});const D=u=>{if(p.teleport){const w=u.getBoundingClientRect();return{left:w.left+window.scrollX,top:w.top+window.scrollY}}return{top:0,left:0}},P=(u,w)=>{y.value.left=`${u+w-c.value.width}px`},k=u=>{y.value.left=`${u}px`},I=(u,w)=>{p.position===Pa.left&&k(u),p.position===Pa.right&&P(u,w),p.position===Pa.center&&(y.value.left=`${u+w/2-c.value.width/2}px`)},j=u=>{const{width:w,height:o}=u.getBoundingClientRect(),{top:E,left:ae}=p.altPosition?p.altPosition(u):D(u);return{top:+E,left:+ae,width:w,height:o}},Z=()=>{y.value.left="50%",y.value.top="50%",y.value.transform="translate(-50%, -50%)",y.value.position="fixed",delete y.value.opacity},T=()=>{const u=Ne(n),{top:w,left:o,transform:E}=p.altPosition(u);y.value={top:`${w}px`,left:`${o}px`,transform:E??""}},H=(u=!0)=>{var w;if(!t.value.enabled){if(f.value)return Z();if(p.altPosition!==null)return T();if(u){const o=p.teleport?(w=a.value)==null?void 0:w.$el:e.value;o&&(c.value=o.getBoundingClientRect()),v("recalculate-position")}return te()}},G=({inputEl:u,left:w,width:o})=>{window.screen.width>768&&!Y.value&&I(w,o),ne(u)},R=u=>{const{top:w,left:o,height:E,width:ae}=j(u);y.value.top=`${E+w+ +p.offset}px`,h.value=!1,Y.value||(y.value.left=`${o+ae/2-c.value.width/2}px`),G({inputEl:u,left:o,width:ae})},C=u=>{const{top:w,left:o,width:E}=j(u);y.value.top=`${w-+p.offset-c.value.height}px`,h.value=!0,G({inputEl:u,left:o,width:E})},ne=u=>{if(p.autoPosition){const{left:w,width:o}=j(u),{left:E,right:ae}=c.value;if(!Y.value){if(Math.abs(E)!==Math.abs(ae)){if(E<=0)return Y.value=!0,k(w);if(ae>=document.documentElement.clientWidth)return Y.value=!0,P(w,o)}return I(w,o)}}},J=()=>{const u=Ne(n);if(u){const{height:w}=c.value,{top:o,height:E}=u.getBoundingClientRect(),ae=window.innerHeight-o-E,ie=o;return w<=ae?Aa.bottom:w>ae&&w<=ie?Aa.top:ae>=ie?Aa.bottom:Aa.top}return Aa.bottom},O=u=>J()===Aa.bottom?R(u):C(u),te=()=>{const u=Ne(n);if(u)return p.autoPosition?O(u):R(u)},se=function(u){if(u){const w=u.scrollHeight>u.clientHeight,o=window.getComputedStyle(u).overflowY.indexOf("hidden")!==-1;return w&&!o}return!0},ce=function(u){return!u||u===document.body||u.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:se(u)?u:ce(u.assignedSlot?u.assignedSlot.parentNode:u.parentNode)},M=u=>{if(u)switch(p.position){case Pa.left:return{left:0,transform:"translateX(0)"};case Pa.right:return{left:`${u.width}px`,transform:"translateX(-100%)"};default:return{left:`${u.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:y,xCorrect:Y,setMenuPosition:H,getScrollableParent:ce,shadowRender:(u,w)=>{var o,E,ae;const ie=document.createElement("div"),ve=(o=Ne(n))==null?void 0:o.getBoundingClientRect();ie.setAttribute("id","dp--temp-container");const m=(E=l.value)!=null&&E.clientWidth?l.value:document.body;m.append(ie);const B=M(ve),r=Vl(u,{...w,shadow:!0,style:{opacity:0,position:"absolute",...B}},Object.fromEntries(Object.keys(b).filter(S=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(S)).map(S=>[S,b[S]])));Wt(r,ie),c.value=(ae=r.el)==null?void 0:ae.getBoundingClientRect(),Wt(null,ie),m.removeChild(ie)}}},fa=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]}],Zr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],eo={all:()=>fa,monthYear:()=>fa.filter(e=>e.use.includes("month-year")),input:()=>Zr,timePicker:()=>fa.filter(e=>e.use.includes("time")),action:()=>fa.filter(e=>e.use.includes("action")),calendar:()=>fa.filter(e=>e.use.includes("calendar")),menu:()=>fa.filter(e=>e.use.includes("menu")),shared:()=>fa.filter(e=>e.use.includes("shared")),yearMode:()=>fa.filter(e=>e.use.includes("year-mode"))},We=(e,a,n)=>{const l=[];return eo[a]().forEach(t=>{e[t.name]&&l.push(t.name)}),n!=null&&n.length&&n.forEach(t=>{t.slot&&l.push(t.slot)}),l},Wa=e=>{const a=U(()=>l=>e.value?l?e.value.open:e.value.close:""),n=U(()=>l=>e.value?l?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:a,showTransition:!!e.value,menuTransition:n}},Ga=(e,a,n)=>{const{defaultedRange:l,defaultedTz:t}=xe(e),v=F(Ge(F(),t.value.timezone)),p=W([{month:be(v),year:pe(v)}]),b=f=>{const D={hours:pa(v),minutes:_a(v),seconds:0};return l.value.enabled?[D[f],D[f]]:D[f]},c=Xa({hours:b("hours"),minutes:b("minutes"),seconds:b("seconds")});ta(l,(f,D)=>{f.enabled!==D.enabled&&(c.hours=b("hours"),c.minutes=b("minutes"),c.seconds=b("seconds"))},{deep:!0});const Y=U({get:()=>e.internalModelValue,set:f=>{!e.readonly&&!e.disabled&&a("update:internal-model-value",f)}}),y=U(()=>f=>p.value[f]?p.value[f].month:0),h=U(()=>f=>p.value[f]?p.value[f].year:0);return ta(Y,(f,D)=>{n&&JSON.stringify(f??{})!==JSON.stringify(D??{})&&n()},{deep:!0}),{calendars:p,time:c,modelValue:Y,month:y,year:h,today:v}},ao=(e,a)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:l,defaultedUI:t,defaultedHighlight:v,defaultedTz:p,propDates:b,defaultedRange:c}=xe(a),{isDisabled:Y}=wa(a),y=W(null),h=W(Ge(new Date,p.value.timezone)),f=r=>{!r.current&&a.hideOffsetDates||(y.value=r.value)},D=()=>{y.value=null},P=r=>Array.isArray(e.value)&&c.value.enabled&&e.value[0]&&y.value?r?Oe(y.value,e.value[0]):Pe(y.value,e.value[0]):!0,k=(r,S)=>{const le=()=>e.value?S?e.value[0]||null:e.value[1]:null,d=e.value&&Array.isArray(e.value)?le():null;return De(F(r.value),d)},I=r=>{const S=Array.isArray(e.value)?e.value[0]:null;return r?!Pe(y.value??null,S):!0},j=(r,S=!0)=>(c.value.enabled||a.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?a.hideOffsetDates&&!r.current?!1:De(F(r.value),e.value[S?0:1]):c.value.enabled?k(r,S)&&I(S)||De(r.value,Array.isArray(e.value)?e.value[0]:null)&&P(S):!1,Z=(r,S)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const le=De(r.value,y.value);return S?Oe(e.value[0],r.value)&&le:Pe(e.value[0],r.value)&&le}return!1},T=r=>!e.value||a.hideOffsetDates&&!r.current?!1:c.value.enabled?a.modelAuto&&Array.isArray(e.value)?De(r.value,e.value[0]?e.value[0]:h.value):!1:l.value.enabled&&Array.isArray(e.value)?e.value.some(S=>De(S,r.value)):De(r.value,e.value?e.value:h.value),H=r=>{if(c.value.autoRange||a.weekPicker){if(y.value){if(a.hideOffsetDates&&!r.current)return!1;const S=$a(y.value,+c.value.autoRange),le=da(F(y.value),a.weekStart);return a.weekPicker?De(le[1],F(r.value)):De(S,F(r.value))}return!1}return!1},G=r=>{if(c.value.autoRange||a.weekPicker){if(y.value){const S=$a(y.value,+c.value.autoRange);if(a.hideOffsetDates&&!r.current)return!1;const le=da(F(y.value),a.weekStart);return a.weekPicker?Oe(r.value,le[0])&&Pe(r.value,le[1]):Oe(r.value,y.value)&&Pe(r.value,S)}return!1}return!1},R=r=>{if(c.value.autoRange||a.weekPicker){if(y.value){if(a.hideOffsetDates&&!r.current)return!1;const S=da(F(y.value),a.weekStart);return a.weekPicker?De(S[0],r.value):De(y.value,r.value)}return!1}return!1},C=r=>dt(e.value,y.value,r.value),ne=()=>a.modelAuto&&Array.isArray(a.internalModelValue)?!!a.internalModelValue[0]:!1,J=()=>a.modelAuto?_l(a.internalModelValue):!0,O=r=>{if(a.weekPicker)return!1;const S=c.value.enabled?!j(r)&&!j(r,!1):!0;return!Y(r.value)&&!T(r)&&!(!r.current&&a.hideOffsetDates)&&S},te=r=>c.value.enabled?a.modelAuto?ne()&&T(r):!1:T(r),se=r=>v.value?gn(r.value,b.value.highlight):!1,ce=r=>{const S=Y(r.value);return S&&(typeof v.value=="function"?!v.value(r.value,S):!v.value.options.highlightDisabled)},M=r=>{var S;return typeof v.value=="function"?v.value(r.value):(S=v.value.weekdays)==null?void 0:S.includes(r.value.getDay())},u=r=>(c.value.enabled||a.weekPicker)&&(!(n.value.count>0)||r.current)&&J()&&!(!r.current&&a.hideOffsetDates)&&!T(r)?C(r):!1,w=r=>{const{isRangeStart:S,isRangeEnd:le}=ie(r),d=c.value.enabled?S||le:!1;return{dp__cell_offset:!r.current,dp__pointer:!a.disabled&&!(!r.current&&a.hideOffsetDates)&&!Y(r.value),dp__cell_disabled:Y(r.value),dp__cell_highlight:!ce(r)&&(se(r)||M(r))&&!te(r)&&!d&&!R(r)&&!(u(r)&&a.weekPicker)&&!le,dp__cell_highlight_active:!ce(r)&&(se(r)||M(r))&&te(r),dp__today:!a.noToday&&De(r.value,h.value)&&r.current,"dp--past":Pe(r.value,h.value),"dp--future":Oe(r.value,h.value)}},o=r=>({dp__active_date:te(r),dp__date_hover:O(r)}),E=r=>{if(e.value&&!Array.isArray(e.value)){const S=da(e.value,a.weekStart);return{...m(r),dp__range_start:De(S[0],r.value),dp__range_end:De(S[1],r.value),dp__range_between_week:Oe(r.value,S[0])&&Pe(r.value,S[1])}}return{...m(r)}},ae=r=>{if(e.value&&Array.isArray(e.value)){const S=da(e.value[0],a.weekStart),le=e.value[1]?da(e.value[1],a.weekStart):[];return{...m(r),dp__range_start:De(S[0],r.value)||De(le[0],r.value),dp__range_end:De(S[1],r.value)||De(le[1],r.value),dp__range_between_week:Oe(r.value,S[0])&&Pe(r.value,S[1])||Oe(r.value,le[0])&&Pe(r.value,le[1]),dp__range_between:Oe(r.value,S[1])&&Pe(r.value,le[0])}}return{...m(r)}},ie=r=>{const S=n.value.count>0?r.current&&j(r)&&J():j(r)&&J(),le=n.value.count>0?r.current&&j(r,!1)&&J():j(r,!1)&&J();return{isRangeStart:S,isRangeEnd:le}},ve=r=>{const{isRangeStart:S,isRangeEnd:le}=ie(r);return{dp__range_start:S,dp__range_end:le,dp__range_between:u(r),dp__date_hover:De(r.value,y.value)&&!S&&!le&&!a.weekPicker,dp__date_hover_start:Z(r,!0),dp__date_hover_end:Z(r,!1)}},m=r=>({...ve(r),dp__cell_auto_range:G(r),dp__cell_auto_range_start:R(r),dp__cell_auto_range_end:H(r)}),B=r=>c.value.enabled?c.value.autoRange?m(r):a.modelAuto?{...o(r),...ve(r)}:a.weekPicker?ae(r):ve(r):a.weekPicker?E(r):o(r);return{setHoverDate:f,clearHoverDate:D,getDayClassData:r=>a.hideOffsetDates&&!r.current?{}:{...w(r),...B(r),[a.dayClass?a.dayClass(r.value,a.internalModelValue):""]:!0,[a.calendarCellClassName]:!!a.calendarCellClassName,...t.value.calendarCell??{}}}},wa=e=>{const{defaultedFilters:a,defaultedRange:n,propDates:l,defaultedMultiDates:t}=xe(e),v=M=>l.value.disabledDates?typeof l.value.disabledDates=="function"?l.value.disabledDates(F(M)):!!it(M,l.value.disabledDates):!1,p=M=>l.value.maxDate?e.yearPicker?pe(M)>pe(l.value.maxDate):Oe(M,l.value.maxDate):!1,b=M=>l.value.minDate?e.yearPicker?pe(M)<pe(l.value.minDate):Pe(M,l.value.minDate):!1,c=M=>{const u=p(M),w=b(M),o=v(M),E=a.value.months.map(B=>+B).includes(be(M)),ae=e.disabledWeekDays.length?e.disabledWeekDays.some(B=>+B===Kl(M)):!1,ie=D(M),ve=pe(M),m=ve<+e.yearRange[0]||ve>+e.yearRange[1];return!(u||w||o||E||m||ae||ie)},Y=(M,u)=>Pe(...ha(l.value.minDate,M,u))||De(...ha(l.value.minDate,M,u)),y=(M,u)=>Oe(...ha(l.value.maxDate,M,u))||De(...ha(l.value.maxDate,M,u)),h=(M,u,w)=>{let o=!1;return l.value.maxDate&&w&&y(M,u)&&(o=!0),l.value.minDate&&!w&&Y(M,u)&&(o=!0),o},f=(M,u,w,o)=>{let E=!1;return o?l.value.minDate&&l.value.maxDate?E=h(M,u,w):(l.value.minDate&&Y(M,u)||l.value.maxDate&&y(M,u))&&(E=!0):E=!0,E},D=M=>Array.isArray(l.value.allowedDates)&&!l.value.allowedDates.length?!0:l.value.allowedDates?!it(M,l.value.allowedDates):!1,P=M=>!c(M),k=M=>n.value.noDisabledRange?!dl({start:M[0],end:M[1]}).some(u=>P(u)):!0,I=M=>{if(M){const u=pe(M);return u>=+e.yearRange[0]&&u<=e.yearRange[1]}return!0},j=(M,u)=>!!(Array.isArray(M)&&M[u]&&(n.value.maxRange||n.value.minRange)&&I(M[u])),Z=(M,u,w=0)=>{if(j(u,w)&&I(M)){const o=Jl(M,u[w]),E=$l(u[w],M),ae=E.length===1?0:E.filter(ve=>P(ve)).length,ie=Math.abs(o)-(n.value.minMaxRawRange?0:ae);if(n.value.minRange&&n.value.maxRange)return ie>=+n.value.minRange&&ie<=+n.value.maxRange;if(n.value.minRange)return ie>=+n.value.minRange;if(n.value.maxRange)return ie<=+n.value.maxRange}return!0},T=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,H=M=>Array.isArray(M)?[M[0]?Tt(M[0]):null,M[1]?Tt(M[1]):null]:Tt(M),G=(M,u,w)=>M.find(o=>+o.hours===pa(u)&&o.minutes==="*"?!0:+o.minutes===_a(u)&&+o.hours===pa(u))&&w,R=(M,u,w)=>{const[o,E]=M,[ae,ie]=u;return!G(o,ae,w)&&!G(E,ie,w)&&w},C=(M,u)=>{const w=Array.isArray(u)?u:[u];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?R(e.disabledTimes,w,M):!w.some(o=>G(e.disabledTimes,o,M)):M},ne=(M,u)=>{const w=Array.isArray(u)?[Ma(u[0]),u[1]?Ma(u[1]):void 0]:Ma(u),o=!e.disabledTimes(w);return M&&o},J=(M,u)=>e.disabledTimes?Array.isArray(e.disabledTimes)?C(u,M):ne(u,M):u,O=M=>{let u=!0;if(!M||T())return!0;const w=!l.value.minDate&&!l.value.maxDate?H(M):M;return(e.maxTime||l.value.maxDate)&&(u=rl(e.maxTime,l.value.maxDate,"max",Ie(w),u)),(e.minTime||l.value.minDate)&&(u=rl(e.minTime,l.value.minDate,"min",Ie(w),u)),J(M,u)},te=M=>{if(!e.monthPicker)return!0;let u=!0;const w=F(ra(M));if(l.value.minDate&&l.value.maxDate){const o=F(ra(l.value.minDate)),E=F(ra(l.value.maxDate));return Oe(w,o)&&Pe(w,E)||De(w,o)||De(w,E)}if(l.value.minDate){const o=F(ra(l.value.minDate));u=Oe(w,o)||De(w,o)}if(l.value.maxDate){const o=F(ra(l.value.maxDate));u=Pe(w,o)||De(w,o)}return u},se=U(()=>M=>!e.enableTimePicker||e.ignoreTimeValidation?!0:O(M)),ce=U(()=>M=>e.monthPicker?Array.isArray(M)&&(n.value.enabled||t.value.enabled)?!M.filter(u=>!te(u)).length:te(M):!0);return{isDisabled:P,validateDate:c,validateMonthYearInRange:f,isDateRangeAllowed:k,checkMinMaxRange:Z,isValidTime:O,isTimeValid:se,isMonthValid:ce}},mt=()=>{const e=U(()=>(l,t)=>l==null?void 0:l.includes(t)),a=U(()=>(l,t)=>l.count?l.solo?!0:t===0:!0),n=U(()=>(l,t)=>l.count?l.solo?!0:t===l.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:a,showRightIcon:n}},to=(e,a,n)=>{const l=W(0),t=Xa({[Ta.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Ta.calendar]:!1,[Ta.header]:!1}),v=U(()=>e.monthPicker||e.timePicker),p=h=>{var f;if((f=e.flow)!=null&&f.length){if(!h&&v.value)return y();t[h]=!0,Object.keys(t).filter(D=>!t[D]).length||y()}},b=()=>{var h,f;(h=e.flow)!=null&&h.length&&l.value!==-1&&(l.value+=1,a("flow-step",l.value),y()),((f=e.flow)==null?void 0:f.length)===l.value&&Ze().then(()=>c())},c=()=>{l.value=-1},Y=(h,f,...D)=>{var P,k;e.flow[l.value]===h&&n.value&&((k=(P=n.value)[f])==null||k.call(P,...D))},y=(h=0)=>{h&&(l.value+=h),Y(Fe.month,"toggleMonthPicker",!0),Y(Fe.year,"toggleYearPicker",!0),Y(Fe.calendar,"toggleTimePicker",!1,!0),Y(Fe.time,"toggleTimePicker",!0,!0);const f=e.flow[l.value];(f===Fe.hours||f===Fe.minutes||f===Fe.seconds)&&Y(f,"toggleTimePicker",!0,!0,f)};return{childMount:p,updateFlowStep:b,resetFlow:c,handleFlow:y,flowStep:l}},lo={key:1,class:"dp__input_wrap"},no=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],ro={key:2,class:"dp__clear_icon"},oo=Ye({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...ct},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:a,emit:n}){const l=n,t=e,{defaultedTextInput:v,defaultedAriaLabels:p,defaultedInline:b,defaultedConfig:c,defaultedRange:Y,defaultedMultiDates:y,defaultedUI:h,getDefaultPattern:f,getDefaultStartTime:D}=xe(t),{checkMinMaxRange:P}=wa(t),k=W(),I=W(null),j=W(!1),Z=W(!1),T=U(()=>({dp__pointer:!t.disabled&&!t.readonly&&!v.value.enabled,dp__disabled:t.disabled,dp__input_readonly:!v.value.enabled,dp__input:!0,dp__input_icon_pad:!t.hideInputIcon,dp__input_valid:!!t.state,dp__input_invalid:t.state===!1,dp__input_focus:j.value||t.isMenuOpen,dp__input_reg:!v.value.enabled,[t.inputClassName]:!!t.inputClassName,...h.value.input??{}})),H=()=>{l("set-input-date",null),t.clearable&&t.autoApply&&(l("set-empty-date"),k.value=null)},G=o=>{const E=D();return bn(o,v.value.format??f(),E??Sl({},t.enableSeconds),t.inputValue,Z.value,t.formatLocale)},R=o=>{const{rangeSeparator:E}=v.value,[ae,ie]=o.split(`${E}`);if(ae){const ve=G(ae.trim()),m=ie?G(ie.trim()):null;if(Oa(ve,m))return;const B=ve&&m?[ve,m]:[ve];P(m,B,0)&&(k.value=ve?B:null)}},C=()=>{Z.value=!0},ne=o=>{if(Y.value.enabled)R(o);else if(y.value.enabled){const E=o.split(";");k.value=E.map(ae=>G(ae.trim())).filter(ae=>ae)}else k.value=G(o)},J=o=>{var E;const ae=typeof o=="string"?o:(E=o.target)==null?void 0:E.value;ae!==""?(v.value.openMenu&&!t.isMenuOpen&&l("open"),ne(ae),l("set-input-date",k.value)):H(),Z.value=!1,l("update:input-value",ae)},O=o=>{v.value.enabled?(ne(o.target.value),v.value.enterSubmit&&Bt(k.value)&&t.inputValue!==""?(l("set-input-date",k.value,!0),k.value=null):v.value.enterSubmit&&t.inputValue===""&&(k.value=null,l("clear"))):ce(o)},te=o=>{v.value.enabled&&v.value.tabSubmit&&ne(o.target.value),v.value.tabSubmit&&Bt(k.value)&&t.inputValue!==""?(l("set-input-date",k.value,!0,!0),k.value=null):v.value.tabSubmit&&t.inputValue===""&&(k.value=null,l("clear",!0))},se=()=>{j.value=!0,l("focus"),Ze().then(()=>{var o;v.value.enabled&&v.value.selectOnFocus&&((o=I.value)==null||o.select())})},ce=o=>{o.preventDefault(),ga(o,c.value,!0),v.value.enabled&&v.value.openMenu&&!b.value.input&&!t.isMenuOpen?l("open"):v.value.enabled||l("toggle")},M=()=>{l("real-blur"),j.value=!1,(!t.isMenuOpen||b.value.enabled&&b.value.input)&&l("blur"),t.autoApply&&v.value.enabled&&k.value&&!t.isMenuOpen&&(l("set-input-date",k.value),l("select-date"),k.value=null)},u=o=>{ga(o,c.value,!0),l("clear")},w=o=>{if(o.key==="Tab"&&te(o),o.key==="Enter"&&O(o),!v.value.enabled){if(o.code==="Tab")return;o.preventDefault()}};return a({focusInput:()=>{var o;(o=I.value)==null||o.focus({preventScroll:!0})},setParsedDate:o=>{k.value=o}}),(o,E)=>{var ae;return A(),V("div",{onClick:ce},[o.$slots.trigger&&!o.$slots["dp-input"]&&!s(b).enabled?ue(o.$slots,"trigger",{key:0}):K("",!0),!o.$slots.trigger&&(!s(b).enabled||s(b).input)?(A(),V("div",lo,[o.$slots["dp-input"]&&!o.$slots.trigger&&(!s(b).enabled||s(b).enabled&&s(b).input)?ue(o.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:J,onEnter:O,onTab:te,onClear:u,onBlur:M,onKeypress:w,onPaste:C,onFocus:se,openMenu:()=>o.$emit("open"),closeMenu:()=>o.$emit("close"),toggleMenu:()=>o.$emit("toggle")}):K("",!0),o.$slots["dp-input"]?K("",!0):(A(),V("input",{key:1,id:o.uid?`dp-input-${o.uid}`:void 0,ref_key:"inputRef",ref:I,"data-test":"dp-input",name:o.name,class:ke(T.value),inputmode:s(v).enabled?"text":"none",placeholder:o.placeholder,disabled:o.disabled,readonly:o.readonly,required:o.required,value:e.inputValue,autocomplete:o.autocomplete,"aria-label":(ae=s(p))==null?void 0:ae.input,"aria-disabled":o.disabled||void 0,"aria-invalid":o.state===!1?!0:void 0,onInput:J,onBlur:M,onFocus:se,onKeypress:w,onKeydown:w,onPaste:C},null,42,no)),ye("div",{onClick:E[2]||(E[2]=ie=>l("toggle"))},[o.$slots["input-icon"]&&!o.hideInputIcon?(A(),V("span",{key:0,class:"dp__input_icon",onClick:E[0]||(E[0]=ie=>l("toggle"))},[ue(o.$slots,"input-icon")])):K("",!0),!o.$slots["input-icon"]&&!o.hideInputIcon&&!o.$slots["dp-input"]?(A(),Ae(s(Ya),{key:1,class:"dp__input_icon dp__input_icons",onClick:E[1]||(E[1]=ie=>l("toggle"))})):K("",!0)]),o.$slots["clear-icon"]&&e.inputValue&&o.clearable&&!o.disabled&&!o.readonly?(A(),V("span",ro,[ue(o.$slots,"clear-icon",{clear:u})])):K("",!0),o.clearable&&!o.$slots["clear-icon"]&&e.inputValue&&!o.disabled&&!o.readonly?(A(),Ae(s(gl),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:E[3]||(E[3]=ja(ie=>u(ie),["prevent"]))})):K("",!0)])):K("",!0)])}}}),io=typeof window<"u"?window:void 0,Ot=()=>{},uo=e=>Ul()?(jl(e),!0):!1,so=(e,a,n,l)=>{if(!e)return Ot;let t=Ot;const v=ta(()=>s(e),b=>{t(),b&&(b.addEventListener(a,n,l),t=()=>{b.removeEventListener(a,n,l),t=Ot})},{immediate:!0,flush:"post"}),p=()=>{v(),t()};return uo(p),p},co=(e,a,n,l={})=>{const{window:t=io,event:v="pointerdown"}=l;return t?so(t,v,p=>{const b=Ne(e),c=Ne(a);!b||!c||b===p.target||p.composedPath().includes(b)||p.composedPath().includes(c)||n(p)},{passive:!0}):void 0},vo=Ye({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...ct},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(e,{expose:a,emit:n}){const l=n,t=e,v=Ca(),p=W(!1),b=Ua(t,"modelValue"),c=Ua(t,"timezone"),Y=W(null),y=W(null),h=W(null),f=W(!1),D=W(null),P=W(!1),k=W(!1),I=W(!1),j=W(!1),{setMenuFocused:Z,setShiftKey:T}=Pl(),{clearArrowNav:H}=ka(),{validateDate:G,isValidTime:R}=wa(t),{defaultedTransitions:C,defaultedTextInput:ne,defaultedInline:J,defaultedConfig:O,defaultedRange:te,defaultedMultiDates:se}=xe(t),{menuTransition:ce,showTransition:M}=Wa(C);He(()=>{S(t.modelValue),Ze().then(()=>{if(!J.value.enabled){const $=ve(D.value);$==null||$.addEventListener("scroll",z),window==null||window.addEventListener("resize",L)}}),J.value.enabled&&(p.value=!0),window==null||window.addEventListener("keyup",we),window==null||window.addEventListener("keydown",_)}),ut(()=>{if(!J.value.enabled){const $=ve(D.value);$==null||$.removeEventListener("scroll",z),window==null||window.removeEventListener("resize",L)}window==null||window.removeEventListener("keyup",we),window==null||window.removeEventListener("keydown",_)});const u=We(v,"all",t.presetDates),w=We(v,"input");ta([b,c],()=>{S(b.value)},{deep:!0});const{openOnTop:o,menuStyle:E,xCorrect:ae,setMenuPosition:ie,getScrollableParent:ve,shadowRender:m}=Gr({menuRef:Y,menuRefInner:y,inputRef:h,pickerWrapperRef:D,inline:J,emit:l,props:t,slots:v}),{inputValue:B,internalModelValue:r,parseExternalModelValue:S,emitModelValue:le,formatInputValue:d,checkBeforeEmit:re}=Hn(l,t,f),fe=U(()=>({dp__main:!0,dp__theme_dark:t.dark,dp__theme_light:!t.dark,dp__flex_display:J.value.enabled,"dp--flex-display-collapsed":I.value,dp__flex_display_with_input:J.value.input})),x=U(()=>t.dark?"dp__theme_dark":"dp__theme_light"),me=U(()=>t.teleport?{to:typeof t.teleport=="boolean"?"body":t.teleport,disabled:!t.teleport||J.value.enabled}:{}),i=U(()=>({class:"dp__outer_menu_wrap"})),N=U(()=>J.value.enabled&&(t.timePicker||t.monthPicker||t.yearPicker||t.quarterPicker)),q=()=>{var $,Q;return(Q=($=h.value)==null?void 0:$.$el)==null?void 0:Q.getBoundingClientRect()},z=()=>{p.value&&(O.value.closeOnScroll?Qe():ie())},L=()=>{var $;p.value&&ie();const Q=($=y.value)==null?void 0:$.$el.getBoundingClientRect().width;I.value=document.body.offsetWidth<=Q},we=$=>{$.key==="Tab"&&!J.value.enabled&&!t.teleport&&O.value.tabOutClosesMenu&&(D.value.contains(document.activeElement)||Qe()),k.value=$.shiftKey},_=$=>{k.value=$.shiftKey},ee=()=>{!t.disabled&&!t.readonly&&(m(sl,t),ie(!1),p.value=!0,p.value&&l("open"),p.value||Ea(),S(t.modelValue))},he=()=>{var $;B.value="",Ea(),($=h.value)==null||$.setParsedDate(null),l("update:model-value",null),l("update:model-timezone-value",null),l("cleared"),O.value.closeOnClearValue&&Qe()},$e=()=>{const $=r.value;return!$||!Array.isArray($)&&G($)?!0:Array.isArray($)?se.value.enabled||$.length===2&&G($[0])&&G($[1])?!0:te.value.partialRange&&!t.timePicker?G($[0]):!1:!1},Je=()=>{re()&&$e()?(le(),Qe()):l("invalid-select",r.value)},de=$=>{ma(),le(),O.value.closeOnAutoApply&&!$&&Qe()},ma=()=>{h.value&&ne.value.enabled&&h.value.setParsedDate(r.value)},ia=($=!1)=>{t.autoApply&&R(r.value)&&$e()&&(te.value.enabled&&Array.isArray(r.value)?(te.value.partialRange||r.value.length===2)&&de($):de($))},Ea=()=>{ne.value.enabled||(r.value=null)},Qe=()=>{J.value.enabled||(p.value&&(p.value=!1,ae.value=!1,Z(!1),T(!1),H(),l("closed"),B.value&&S(b.value)),Ea(),l("blur"))},Fa=($,Q,oe=!1)=>{if(!$){r.value=null;return}const Ue=Array.isArray($)?!$.some(Da=>!G(Da)):G($),ea=R($);Ue&&ea&&(j.value=!0,r.value=$,Q&&(P.value=oe,Je(),l("text-submit")),Ze().then(()=>{j.value=!1}))},yt=()=>{t.autoApply&&R(r.value)&&le(),ma()},Za=()=>p.value?Qe():ee(),ft=$=>{r.value=$},ht=()=>{ne.value.enabled&&(f.value=!0,d()),l("focus")},gt=()=>{if(ne.value.enabled&&(f.value=!1,S(t.modelValue),P.value)){const $=fn(D.value,k.value);$==null||$.focus()}l("blur")},bt=$=>{y.value&&y.value.updateMonthYear(0,{month:tl($.month),year:tl($.year)})},_t=$=>{S($??t.modelValue)},kt=($,Q)=>{var oe;(oe=y.value)==null||oe.switchView($,Q)},g=$=>O.value.onClickOutside?O.value.onClickOutside($):Qe(),X=($=0)=>{var Q;(Q=y.value)==null||Q.handleFlow($)};return co(Y,h,()=>g($e)),a({closeMenu:Qe,selectDate:Je,clearValue:he,openMenu:ee,onScroll:z,formatInputValue:d,updateInternalModelValue:ft,setMonthYear:bt,parseModel:_t,switchView:kt,toggleMenu:Za,handleFlow:X}),($,Q)=>(A(),V("div",{ref_key:"pickerWrapperRef",ref:D,class:ke(fe.value),"data-datepicker-instance":""},[la(oo,Le({ref_key:"inputRef",ref:h,"input-value":s(B),"onUpdate:inputValue":Q[0]||(Q[0]=oe=>Qt(B)?B.value=oe:null),"is-menu-open":p.value},$.$props,{onClear:he,onOpen:ee,onSetInputDate:Fa,onSetEmptyDate:s(le),onSelectDate:Je,onToggle:Za,onClose:Qe,onFocus:ht,onBlur:gt,onRealBlur:Q[1]||(Q[1]=oe=>f.value=!1)}),ze({_:2},[Me(s(w),(oe,Ue)=>({name:oe,fn:ge(ea=>[ue($.$slots,oe,Be(qe(ea)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(A(),Ae(st($.teleport?Fl:"div"),Be(qe(me.value)),{default:ge(()=>[la(La,{name:s(ce)(s(o)),css:s(M)&&!s(J).enabled},{default:ge(()=>[p.value?(A(),V("div",Le({key:0,ref_key:"dpWrapMenuRef",ref:Y},i.value,{class:{"dp--menu-wrapper":!s(J).enabled},style:s(J).enabled?void 0:s(E)}),[la(sl,Le({ref_key:"dpMenuRef",ref:y},$.$props,{"internal-model-value":s(r),"onUpdate:internalModelValue":Q[2]||(Q[2]=oe=>Qt(r)?r.value=oe:null),class:{[x.value]:!0,"dp--menu-wrapper":$.teleport},"open-on-top":s(o),"no-overlay-focus":N.value,collapse:I.value,"get-input-rect":q,"is-text-input-date":j.value,onClosePicker:Qe,onSelectDate:Je,onAutoApply:ia,onTimeUpdate:yt,onFlowStep:Q[3]||(Q[3]=oe=>$.$emit("flow-step",oe)),onUpdateMonthYear:Q[4]||(Q[4]=oe=>$.$emit("update-month-year",oe)),onInvalidSelect:Q[5]||(Q[5]=oe=>$.$emit("invalid-select",s(r))),onAutoApplyInvalid:Q[6]||(Q[6]=oe=>$.$emit("invalid-select",oe)),onInvalidFixedRange:Q[7]||(Q[7]=oe=>$.$emit("invalid-fixed-range",oe)),onRecalculatePosition:s(ie),onTooltipOpen:Q[8]||(Q[8]=oe=>$.$emit("tooltip-open",oe)),onTooltipClose:Q[9]||(Q[9]=oe=>$.$emit("tooltip-close",oe)),onTimePickerOpen:Q[10]||(Q[10]=oe=>$.$emit("time-picker-open",oe)),onTimePickerClose:Q[11]||(Q[11]=oe=>$.$emit("time-picker-close",oe)),onAmPmChange:Q[12]||(Q[12]=oe=>$.$emit("am-pm-change",oe)),onRangeStart:Q[13]||(Q[13]=oe=>$.$emit("range-start",oe)),onRangeEnd:Q[14]||(Q[14]=oe=>$.$emit("range-end",oe)),onDateUpdate:Q[15]||(Q[15]=oe=>$.$emit("date-update",oe)),onInvalidDate:Q[16]||(Q[16]=oe=>$.$emit("invalid-date",oe)),onOverlayToggle:Q[17]||(Q[17]=oe=>$.$emit("overlay-toggle",oe))}),ze({_:2},[Me(s(u),(oe,Ue)=>({name:oe,fn:ge(ea=>[ue($.$slots,oe,Be(qe({...ea})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):K("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Yl=(()=>{const e=vo;return e.install=a=>{a.component("Vue3DatePicker",e)},e})(),po=Object.freeze(Object.defineProperty({__proto__:null,default:Yl},Symbol.toStringTag,{value:"Module"}));Object.entries(po).forEach(([e,a])=>{e!=="default"&&(Yl[e]=a)});export{Yl as H};
