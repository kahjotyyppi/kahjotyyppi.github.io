var ED=Object.defineProperty;var TD=(t,e,n)=>e in t?ED(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ye=(t,e,n)=>TD(t,typeof e!="symbol"?e+"":e,n);import{g as Hp,P as XC,l as xD,a as CD}from"./plotly.js-C7nht4j6.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Zw={};/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Kf=typeof window<"u",go=(t,e=!1)=>e?Symbol.for(t):Symbol(t),SD=(t,e,n)=>kD({l:t,k:e,s:n}),kD=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ti=t=>typeof t=="number"&&isFinite(t),RD=t=>JC(t)==="[object Date]",lo=t=>JC(t)==="[object RegExp]",Yp=t=>_t(t)&&Object.keys(t).length===0,Ii=Object.assign;let Jw;const Xs=()=>Jw||(Jw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof Zw<"u"?Zw:{});function Qw(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const ID=Object.prototype.hasOwnProperty;function qf(t,e){return ID.call(t,e)}const mn=Array.isArray,cn=t=>typeof t=="function",Ge=t=>typeof t=="string",It=t=>typeof t=="boolean",Xt=t=>t!==null&&typeof t=="object",AD=t=>Xt(t)&&cn(t.then)&&cn(t.catch),ZC=Object.prototype.toString,JC=t=>ZC.call(t),_t=t=>{if(!Xt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},OD=t=>t==null?"":mn(t)||_t(t)&&t.toString===ZC?JSON.stringify(t,null,2):String(t);function MD(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}function Wp(t){let e=t;return()=>++e}function PD(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Qh=t=>!Xt(t)||mn(t);function Lf(t,e){if(Qh(t)||Qh(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:i,des:r}=n.pop();Object.keys(i).forEach(s=>{Qh(i[s])||Qh(r[s])?r[s]=i[s]:n.push({src:i[s],des:r[s]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function DD(t,e,n){return{line:t,column:e,offset:n}}function Xf(t,e,n){return{start:t,end:e}}const LD=/\{([0-9a-zA-Z]+)\}/g;function QC(t,...e){return e.length===1&&FD(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(LD,(n,i)=>e.hasOwnProperty(i)?e[i]:"")}const eS=Object.assign,eE=t=>typeof t=="string",FD=t=>t!==null&&typeof t=="object";function tS(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}const L_={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},ND={[L_.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function $D(t,e,...n){const i=QC(ND[t],...n||[]),r={message:String(i),code:t};return e&&(r.location=e),r}const ot={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},jD={[ot.EXPECTED_TOKEN]:"Expected token: '{0}'",[ot.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ot.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ot.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ot.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ot.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ot.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ot.EMPTY_PLACEHOLDER]:"Empty placeholder",[ot.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ot.INVALID_LINKED_FORMAT]:"Invalid linked format",[ot.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ot.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ot.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ot.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ot.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ot.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function ac(t,e,n={}){const{domain:i,messages:r,args:s}=n,a=QC((r||jD)[t]||"",...s||[]),o=new SyntaxError(String(a));return o.code=t,e&&(o.location=e),o.domain=i,o}function BD(t){throw t}const Fs=" ",VD="\r",Wi=`
`,GD="\u2028",zD="\u2029";function UD(t){const e=t;let n=0,i=1,r=1,s=0;const a=R=>e[R]===VD&&e[R+1]===Wi,o=R=>e[R]===Wi,l=R=>e[R]===zD,u=R=>e[R]===GD,c=R=>a(R)||o(R)||l(R)||u(R),h=()=>n,p=()=>i,g=()=>r,y=()=>s,b=R=>a(R)||l(R)||u(R)?Wi:e[R],T=()=>b(n),E=()=>b(n+s);function w(){return s=0,c(n)&&(i++,r=0),a(n)&&n++,n++,r++,e[n]}function _(){return a(n+s)&&s++,s++,e[n+s]}function x(){n=0,i=1,r=1,s=0}function C(R=0){s=R}function k(){const R=n+s;for(;R!==n;)w();s=0}return{index:h,line:p,column:g,peekOffset:y,charAt:b,currentChar:T,currentPeek:E,next:w,peek:_,reset:x,resetPeek:C,skipToPeek:k}}const Sa=void 0,HD=".",tE="'",YD="tokenizer";function WD(t,e={}){const n=e.location!==!1,i=UD(t),r=()=>i.index(),s=()=>DD(i.line(),i.column(),i.index()),a=s(),o=r(),l={currentType:14,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=e;function h(D,$,X,...se){const Ie=u();if($.column+=X,$.offset+=X,c){const we=n?Xf(Ie.startLoc,$):null,ae=ac(D,we,{domain:YD,args:se});c(ae)}}function p(D,$,X){D.endLoc=s(),D.currentType=$;const se={type:$};return n&&(se.loc=Xf(D.startLoc,D.endLoc)),X!=null&&(se.value=X),se}const g=D=>p(D,14);function y(D,$){return D.currentChar()===$?(D.next(),$):(h(ot.EXPECTED_TOKEN,s(),0,$),"")}function b(D){let $="";for(;D.currentPeek()===Fs||D.currentPeek()===Wi;)$+=D.currentPeek(),D.peek();return $}function T(D){const $=b(D);return D.skipToPeek(),$}function E(D){if(D===Sa)return!1;const $=D.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$===95}function w(D){if(D===Sa)return!1;const $=D.charCodeAt(0);return $>=48&&$<=57}function _(D,$){const{currentType:X}=$;if(X!==2)return!1;b(D);const se=E(D.currentPeek());return D.resetPeek(),se}function x(D,$){const{currentType:X}=$;if(X!==2)return!1;b(D);const se=D.currentPeek()==="-"?D.peek():D.currentPeek(),Ie=w(se);return D.resetPeek(),Ie}function C(D,$){const{currentType:X}=$;if(X!==2)return!1;b(D);const se=D.currentPeek()===tE;return D.resetPeek(),se}function k(D,$){const{currentType:X}=$;if(X!==8)return!1;b(D);const se=D.currentPeek()===".";return D.resetPeek(),se}function R(D,$){const{currentType:X}=$;if(X!==9)return!1;b(D);const se=E(D.currentPeek());return D.resetPeek(),se}function M(D,$){const{currentType:X}=$;if(!(X===8||X===12))return!1;b(D);const se=D.currentPeek()===":";return D.resetPeek(),se}function I(D,$){const{currentType:X}=$;if(X!==10)return!1;const se=()=>{const we=D.currentPeek();return we==="{"?E(D.peek()):we==="@"||we==="%"||we==="|"||we===":"||we==="."||we===Fs||!we?!1:we===Wi?(D.peek(),se()):G(D,!1)},Ie=se();return D.resetPeek(),Ie}function B(D){b(D);const $=D.currentPeek()==="|";return D.resetPeek(),$}function U(D){const $=b(D),X=D.currentPeek()==="%"&&D.peek()==="{";return D.resetPeek(),{isModulo:X,hasSpace:$.length>0}}function G(D,$=!0){const X=(Ie=!1,we="",ae=!1)=>{const ce=D.currentPeek();return ce==="{"?we==="%"?!1:Ie:ce==="@"||!ce?we==="%"?!0:Ie:ce==="%"?(D.peek(),X(Ie,"%",!0)):ce==="|"?we==="%"||ae?!0:!(we===Fs||we===Wi):ce===Fs?(D.peek(),X(!0,Fs,ae)):ce===Wi?(D.peek(),X(!0,Wi,ae)):!0},se=X();return $&&D.resetPeek(),se}function ie(D,$){const X=D.currentChar();return X===Sa?Sa:$(X)?(D.next(),X):null}function W(D){const $=D.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36}function N(D){return ie(D,W)}function j(D){const $=D.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36||$===45}function F(D){return ie(D,j)}function Q(D){const $=D.charCodeAt(0);return $>=48&&$<=57}function _e(D){return ie(D,Q)}function ve(D){const $=D.charCodeAt(0);return $>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102}function xe(D){return ie(D,ve)}function K(D){let $="",X="";for(;$=_e(D);)X+=$;return X}function Z(D){T(D);const $=D.currentChar();return $!=="%"&&h(ot.EXPECTED_TOKEN,s(),0,$),D.next(),"%"}function P(D){let $="";for(;;){const X=D.currentChar();if(X==="{"||X==="}"||X==="@"||X==="|"||!X)break;if(X==="%")if(G(D))$+=X,D.next();else break;else if(X===Fs||X===Wi)if(G(D))$+=X,D.next();else{if(B(D))break;$+=X,D.next()}else $+=X,D.next()}return $}function re(D){T(D);let $="",X="";for(;$=F(D);)X+=$;return D.currentChar()===Sa&&h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),X}function Ee(D){T(D);let $="";return D.currentChar()==="-"?(D.next(),$+=`-${K(D)}`):$+=K(D),D.currentChar()===Sa&&h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),$}function q(D){return D!==tE&&D!==Wi}function ye(D){T(D),y(D,"'");let $="",X="";for(;$=ie(D,q);)$==="\\"?X+=Ze(D):X+=$;const se=D.currentChar();return se===Wi||se===Sa?(h(ot.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),se===Wi&&(D.next(),y(D,"'")),X):(y(D,"'"),X)}function Ze(D){const $=D.currentChar();switch($){case"\\":case"'":return D.next(),`\\${$}`;case"u":return de(D,$,4);case"U":return de(D,$,6);default:return h(ot.UNKNOWN_ESCAPE_SEQUENCE,s(),0,$),""}}function de(D,$,X){y(D,$);let se="";for(let Ie=0;Ie<X;Ie++){const we=xe(D);if(!we){h(ot.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${$}${se}${D.currentChar()}`);break}se+=we}return`\\${$}${se}`}function qe(D){return D!=="{"&&D!=="}"&&D!==Fs&&D!==Wi}function H(D){T(D);let $="",X="";for(;$=ie(D,qe);)X+=$;return X}function L(D){let $="",X="";for(;$=N(D);)X+=$;return X}function O(D){const $=X=>{const se=D.currentChar();return se==="{"||se==="%"||se==="@"||se==="|"||se==="("||se===")"||!se||se===Fs?X:(X+=se,D.next(),$(X))};return $("")}function z(D){T(D);const $=y(D,"|");return T(D),$}function J(D,$){let X=null;switch(D.currentChar()){case"{":return $.braceNest>=1&&h(ot.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),D.next(),X=p($,2,"{"),T(D),$.braceNest++,X;case"}":return $.braceNest>0&&$.currentType===2&&h(ot.EMPTY_PLACEHOLDER,s(),0),D.next(),X=p($,3,"}"),$.braceNest--,$.braceNest>0&&T(D),$.inLinked&&$.braceNest===0&&($.inLinked=!1),X;case"@":return $.braceNest>0&&h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),X=he(D,$)||g($),$.braceNest=0,X;default:{let Ie=!0,we=!0,ae=!0;if(B(D))return $.braceNest>0&&h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),X=p($,1,z(D)),$.braceNest=0,$.inLinked=!1,X;if($.braceNest>0&&($.currentType===5||$.currentType===6||$.currentType===7))return h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),$.braceNest=0,Y(D,$);if(Ie=_(D,$))return X=p($,5,re(D)),T(D),X;if(we=x(D,$))return X=p($,6,Ee(D)),T(D),X;if(ae=C(D,$))return X=p($,7,ye(D)),T(D),X;if(!Ie&&!we&&!ae)return X=p($,13,H(D)),h(ot.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,X.value),T(D),X;break}}return X}function he(D,$){const{currentType:X}=$;let se=null;const Ie=D.currentChar();switch((X===8||X===9||X===12||X===10)&&(Ie===Wi||Ie===Fs)&&h(ot.INVALID_LINKED_FORMAT,s(),0),Ie){case"@":return D.next(),se=p($,8,"@"),$.inLinked=!0,se;case".":return T(D),D.next(),p($,9,".");case":":return T(D),D.next(),p($,10,":");default:return B(D)?(se=p($,1,z(D)),$.braceNest=0,$.inLinked=!1,se):k(D,$)||M(D,$)?(T(D),he(D,$)):R(D,$)?(T(D),p($,12,L(D))):I(D,$)?(T(D),Ie==="{"?J(D,$)||se:p($,11,O(D))):(X===8&&h(ot.INVALID_LINKED_FORMAT,s(),0),$.braceNest=0,$.inLinked=!1,Y(D,$))}}function Y(D,$){let X={type:14};if($.braceNest>0)return J(D,$)||g($);if($.inLinked)return he(D,$)||g($);switch(D.currentChar()){case"{":return J(D,$)||g($);case"}":return h(ot.UNBALANCED_CLOSING_BRACE,s(),0),D.next(),p($,3,"}");case"@":return he(D,$)||g($);default:{if(B(D))return X=p($,1,z(D)),$.braceNest=0,$.inLinked=!1,X;const{isModulo:Ie,hasSpace:we}=U(D);if(Ie)return we?p($,0,P(D)):p($,4,Z(D));if(G(D))return p($,0,P(D));break}}return X}function ue(){const{currentType:D,offset:$,startLoc:X,endLoc:se}=l;return l.lastType=D,l.lastOffset=$,l.lastStartLoc=X,l.lastEndLoc=se,l.offset=r(),l.startLoc=s(),i.currentChar()===Sa?p(l,14):Y(i,l)}return{nextToken:ue,currentOffset:r,currentPosition:s,context:u}}const KD="parser",qD=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function XD(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"�"}}}function ZD(t={}){const e=t.location!==!1,{onError:n,onWarn:i}=t;function r(_,x,C,k,...R){const M=_.currentPosition();if(M.offset+=k,M.column+=k,n){const I=e?Xf(C,M):null,B=ac(x,I,{domain:KD,args:R});n(B)}}function s(_,x,C,k,...R){const M=_.currentPosition();if(M.offset+=k,M.column+=k,i){const I=e?Xf(C,M):null;i($D(x,I,R))}}function a(_,x,C){const k={type:_};return e&&(k.start=x,k.end=x,k.loc={start:C,end:C}),k}function o(_,x,C,k){e&&(_.end=x,_.loc&&(_.loc.end=C))}function l(_,x){const C=_.context(),k=a(3,C.offset,C.startLoc);return k.value=x,o(k,_.currentOffset(),_.currentPosition()),k}function u(_,x){const C=_.context(),{lastOffset:k,lastStartLoc:R}=C,M=a(5,k,R);return M.index=parseInt(x,10),_.nextToken(),o(M,_.currentOffset(),_.currentPosition()),M}function c(_,x,C){const k=_.context(),{lastOffset:R,lastStartLoc:M}=k,I=a(4,R,M);return I.key=x,C===!0&&(I.modulo=!0),_.nextToken(),o(I,_.currentOffset(),_.currentPosition()),I}function h(_,x){const C=_.context(),{lastOffset:k,lastStartLoc:R}=C,M=a(9,k,R);return M.value=x.replace(qD,XD),_.nextToken(),o(M,_.currentOffset(),_.currentPosition()),M}function p(_){const x=_.nextToken(),C=_.context(),{lastOffset:k,lastStartLoc:R}=C,M=a(8,k,R);return x.type!==12?(r(_,ot.UNEXPECTED_EMPTY_LINKED_MODIFIER,C.lastStartLoc,0),M.value="",o(M,k,R),{nextConsumeToken:x,node:M}):(x.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Gr(x)),M.value=x.value||"",o(M,_.currentOffset(),_.currentPosition()),{node:M})}function g(_,x){const C=_.context(),k=a(7,C.offset,C.startLoc);return k.value=x,o(k,_.currentOffset(),_.currentPosition()),k}function y(_){const x=_.context(),C=a(6,x.offset,x.startLoc);let k=_.nextToken();if(k.type===9){const R=p(_);C.modifier=R.node,k=R.nextConsumeToken||_.nextToken()}switch(k.type!==10&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Gr(k)),k=_.nextToken(),k.type===2&&(k=_.nextToken()),k.type){case 11:k.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Gr(k)),C.key=g(_,k.value||"");break;case 5:k.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Gr(k)),C.key=c(_,k.value||"");break;case 6:k.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Gr(k)),C.key=u(_,k.value||"");break;case 7:k.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Gr(k)),C.key=h(_,k.value||"");break;default:{r(_,ot.UNEXPECTED_EMPTY_LINKED_KEY,x.lastStartLoc,0);const R=_.context(),M=a(7,R.offset,R.startLoc);return M.value="",o(M,R.offset,R.startLoc),C.key=M,o(C,R.offset,R.startLoc),{nextConsumeToken:k,node:C}}}return o(C,_.currentOffset(),_.currentPosition()),{node:C}}function b(_){const x=_.context(),C=x.currentType===1?_.currentOffset():x.offset,k=x.currentType===1?x.endLoc:x.startLoc,R=a(2,C,k);R.items=[];let M=null,I=null;do{const G=M||_.nextToken();switch(M=null,G.type){case 0:G.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Gr(G)),R.items.push(l(_,G.value||""));break;case 6:G.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Gr(G)),R.items.push(u(_,G.value||""));break;case 4:I=!0;break;case 5:G.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Gr(G)),R.items.push(c(_,G.value||"",!!I)),I&&(s(_,L_.USE_MODULO_SYNTAX,x.lastStartLoc,0,Gr(G)),I=null);break;case 7:G.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,Gr(G)),R.items.push(h(_,G.value||""));break;case 8:{const ie=y(_);R.items.push(ie.node),M=ie.nextConsumeToken||null;break}}}while(x.currentType!==14&&x.currentType!==1);const B=x.currentType===1?x.lastOffset:_.currentOffset(),U=x.currentType===1?x.lastEndLoc:_.currentPosition();return o(R,B,U),R}function T(_,x,C,k){const R=_.context();let M=k.items.length===0;const I=a(1,x,C);I.cases=[],I.cases.push(k);do{const B=b(_);M||(M=B.items.length===0),I.cases.push(B)}while(R.currentType!==14);return M&&r(_,ot.MUST_HAVE_MESSAGES_IN_PLURAL,C,0),o(I,_.currentOffset(),_.currentPosition()),I}function E(_){const x=_.context(),{offset:C,startLoc:k}=x,R=b(_);return x.currentType===14?R:T(_,C,k,R)}function w(_){const x=WD(_,eS({},t)),C=x.context(),k=a(0,C.offset,C.startLoc);return e&&k.loc&&(k.loc.source=_),k.body=E(x),t.onCacheKey&&(k.cacheKey=t.onCacheKey(_)),C.currentType!==14&&r(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,_[C.offset]||""),o(k,x.currentOffset(),x.currentPosition()),k}return{parse:w}}function Gr(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function JD(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function nE(t,e){for(let n=0;n<t.length;n++)F_(t[n],e)}function F_(t,e){switch(t.type){case 1:nE(t.cases,e),e.helper("plural");break;case 2:nE(t.items,e);break;case 6:{F_(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function QD(t,e={}){const n=JD(t);n.helper("normalize"),t.body&&F_(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function eL(t){const e=t.body;return e.type===2?iE(e):e.cases.forEach(n=>iE(n)),t}function iE(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=tS(e);for(let n=0;n<t.items.length;n++){const i=t.items[n];(i.type===3||i.type===9)&&delete i.value}}}}const tL="minifier";function pu(t){switch(t.t=t.type,t.type){case 0:{const e=t;pu(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let i=0;i<n.length;i++)pu(n[i]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let i=0;i<n.length;i++)pu(n[i]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;pu(e.key),e.k=e.key,delete e.key,e.modifier&&(pu(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw ac(ot.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:tL,args:[t.type]})}delete t.type}const nL="parser";function iL(t,e){const{sourceMap:n,filename:i,breakLineCode:r,needIndent:s}=e,a=e.location!==!1,o={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};a&&t.loc&&(o.source=t.loc.source);const l=()=>o;function u(T,E){o.code+=T}function c(T,E=!0){const w=E?r:"";u(s?w+"  ".repeat(T):w)}function h(T=!0){const E=++o.indentLevel;T&&c(E)}function p(T=!0){const E=--o.indentLevel;T&&c(E)}function g(){c(o.indentLevel)}return{context:l,push:u,indent:h,deindent:p,newline:g,helper:T=>`_${T}`,needIndent:()=>o.needIndent}}function rL(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Nu(t,e.key),e.modifier?(t.push(", "),Nu(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function sL(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const r=e.items.length;for(let s=0;s<r&&(Nu(t,e.items[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}function aL(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const r=e.cases.length;for(let s=0;s<r&&(Nu(t,e.cases[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}}function oL(t,e){e.body?Nu(t,e.body):t.push("null")}function Nu(t,e){const{helper:n}=t;switch(e.type){case 0:oL(t,e);break;case 1:aL(t,e);break;case 2:sL(t,e);break;case 6:rL(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw ac(ot.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:nL,args:[e.type]})}}const lL=(t,e={})=>{const n=eE(e.mode)?e.mode:"normal",i=eE(e.filename)?e.filename:"message.intl",r=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],l=iL(t,{mode:n,filename:i,sourceMap:r,breakLineCode:s,needIndent:a});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),o.length>0&&(l.push(`const { ${tS(o.map(h=>`${h}: _${h}`),", ")} } = ctx`),l.newline()),l.push("return "),Nu(l,t),l.deindent(a),l.push("}"),delete t.helpers;const{code:u,map:c}=l.context();return{ast:t,code:u,map:c?c.toJSON():void 0}};function uL(t,e={}){const n=eS({},e),i=!!n.jit,r=!!n.minify,s=n.optimize==null?!0:n.optimize,o=ZD(n).parse(t);return i?(s&&eL(o),r&&pu(o),{ast:o,code:""}):(QD(o,n),lL(o,n))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function cL(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Xs().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Xs().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Xs().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const yo=[];yo[0]={w:[0],i:[3,0],"[":[4],o:[7]};yo[1]={w:[1],".":[2],"[":[4],o:[7]};yo[2]={w:[2],i:[3,0],0:[3,0]};yo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};yo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};yo[5]={"'":[4,0],o:8,l:[5,0]};yo[6]={'"':[4,0],o:8,l:[6,0]};const dL=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function hL(t){return dL.test(t)}function fL(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function pL(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function mL(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:hL(e)?fL(e):"*"+e}function gL(t){const e=[];let n=-1,i=0,r=0,s,a,o,l,u,c,h;const p=[];p[0]=()=>{a===void 0?a=o:a+=o},p[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},p[2]=()=>{p[0](),r++},p[3]=()=>{if(r>0)r--,i=4,p[0]();else{if(r=0,a===void 0||(a=mL(a),a===!1))return!1;p[1]()}};function g(){const y=t[n+1];if(i===5&&y==="'"||i===6&&y==='"')return n++,o="\\"+y,p[0](),!0}for(;i!==null;)if(n++,s=t[n],!(s==="\\"&&g())){if(l=pL(s),h=yo[i],u=h[l]||h.l||8,u===8||(i=u[0],u[1]!==void 0&&(c=p[u[1]],c&&(o=s,c()===!1))))return;if(i===7)return e}}const rE=new Map;function yL(t,e){return Xt(t)?t[e]:null}function _L(t,e){if(!Xt(t))return null;let n=rE.get(e);if(n||(n=gL(e),n&&rE.set(e,n)),!n)return null;const i=n.length;let r=t,s=0;for(;s<i;){const a=r[n[s]];if(a===void 0||cn(r))return null;r=a,s++}return r}const vL=t=>t,bL=t=>"",wL="text",EL=t=>t.length===0?"":MD(t),TL=OD;function sE(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function xL(t){const e=ti(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ti(t.named.count)||ti(t.named.n))?ti(t.named.count)?t.named.count:ti(t.named.n)?t.named.n:e:e}function CL(t,e){e.count||(e.count=t),e.n||(e.n=t)}function SL(t={}){const e=t.locale,n=xL(t),i=Xt(t.pluralRules)&&Ge(e)&&cn(t.pluralRules[e])?t.pluralRules[e]:sE,r=Xt(t.pluralRules)&&Ge(e)&&cn(t.pluralRules[e])?sE:void 0,s=E=>E[i(n,E.length,r)],a=t.list||[],o=E=>a[E],l=t.named||{};ti(t.pluralIndex)&&CL(n,l);const u=E=>l[E];function c(E){const w=cn(t.messages)?t.messages(E):Xt(t.messages)?t.messages[E]:!1;return w||(t.parent?t.parent.message(E):bL)}const h=E=>t.modifiers?t.modifiers[E]:vL,p=_t(t.processor)&&cn(t.processor.normalize)?t.processor.normalize:EL,g=_t(t.processor)&&cn(t.processor.interpolate)?t.processor.interpolate:TL,y=_t(t.processor)&&Ge(t.processor.type)?t.processor.type:wL,T={list:o,named:u,plural:s,linked:(E,...w)=>{const[_,x]=w;let C="text",k="";w.length===1?Xt(_)?(k=_.modifier||k,C=_.type||C):Ge(_)&&(k=_||k):w.length===2&&(Ge(_)&&(k=_||k),Ge(x)&&(C=x||C));const R=c(E)(T),M=C==="vnode"&&mn(R)&&k?R[0]:R;return k?h(k)(M,C):M},message:c,type:y,interpolate:g,normalize:p,values:Ii({},a,l)};return T}let hd=null;function kL(t){hd=t}function RL(t,e,n){hd&&hd.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const IL=AL("function:translate");function AL(t){return e=>hd&&hd.emit(t,e)}const nS=L_.__EXTEND_POINT__,zo=Wp(nS),OL={NOT_FOUND_KEY:nS,FALLBACK_TO_TRANSLATE:zo(),CANNOT_FORMAT_NUMBER:zo(),FALLBACK_TO_NUMBER_FORMAT:zo(),CANNOT_FORMAT_DATE:zo(),FALLBACK_TO_DATE_FORMAT:zo(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:zo(),__EXTEND_POINT__:zo()},iS=ot.__EXTEND_POINT__,Uo=Wp(iS),Xr={INVALID_ARGUMENT:iS,INVALID_DATE_ARGUMENT:Uo(),INVALID_ISO_DATE_ARGUMENT:Uo(),NOT_SUPPORT_NON_STRING_MESSAGE:Uo(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Uo(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Uo(),NOT_SUPPORT_LOCALE_TYPE:Uo(),__EXTEND_POINT__:Uo()};function gs(t){return ac(t,null,void 0)}function N_(t,e){return e.locale!=null?aE(e.locale):aE(t.locale)}let m0;function aE(t){if(Ge(t))return t;if(cn(t)){if(t.resolvedOnce&&m0!=null)return m0;if(t.constructor.name==="Function"){const e=t();if(AD(e))throw gs(Xr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return m0=e}else throw gs(Xr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw gs(Xr.NOT_SUPPORT_LOCALE_TYPE)}function ML(t,e,n){return[...new Set([n,...mn(e)?e:Xt(e)?Object.keys(e):Ge(e)?[e]:[n]])]}function rS(t,e,n){const i=Ge(n)?n:$u,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(i);if(!s){s=[];let a=[n];for(;mn(a);)a=oE(s,a,e);const o=mn(e)||!_t(e)?e:e.default?e.default:null;a=Ge(o)?[o]:o,mn(a)&&oE(s,a,!1),r.__localeChainCache.set(i,s)}return s}function oE(t,e,n){let i=!0;for(let r=0;r<e.length&&It(i);r++){const s=e[r];Ge(s)&&(i=PL(t,e[r],n))}return i}function PL(t,e,n){let i;const r=e.split("-");do{const s=r.join("-");i=DL(t,s,n),r.splice(-1,1)}while(r.length&&i===!0);return i}function DL(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(mn(n)||_t(n))&&n[r]&&(i=n[r])}return i}const LL="9.13.1",Kp=-1,$u="en-US",lE="",uE=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function FL(){return{upper:(t,e)=>e==="text"&&Ge(t)?t.toUpperCase():e==="vnode"&&Xt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ge(t)?t.toLowerCase():e==="vnode"&&Xt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ge(t)?uE(t):e==="vnode"&&Xt(t)&&"__v_isVNode"in t?uE(t.children):t}}let sS;function cE(t){sS=t}let aS;function NL(t){aS=t}let oS;function $L(t){oS=t}let lS=null;const jL=t=>{lS=t},BL=()=>lS;let uS=null;const dE=t=>{uS=t},VL=()=>uS;let hE=0;function GL(t={}){const e=cn(t.onWarn)?t.onWarn:PD,n=Ge(t.version)?t.version:LL,i=Ge(t.locale)||cn(t.locale)?t.locale:$u,r=cn(i)?$u:i,s=mn(t.fallbackLocale)||_t(t.fallbackLocale)||Ge(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,a=_t(t.messages)?t.messages:{[r]:{}},o=_t(t.datetimeFormats)?t.datetimeFormats:{[r]:{}},l=_t(t.numberFormats)?t.numberFormats:{[r]:{}},u=Ii({},t.modifiers||{},FL()),c=t.pluralRules||{},h=cn(t.missing)?t.missing:null,p=It(t.missingWarn)||lo(t.missingWarn)?t.missingWarn:!0,g=It(t.fallbackWarn)||lo(t.fallbackWarn)?t.fallbackWarn:!0,y=!!t.fallbackFormat,b=!!t.unresolving,T=cn(t.postTranslation)?t.postTranslation:null,E=_t(t.processor)?t.processor:null,w=It(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter,x=cn(t.messageCompiler)?t.messageCompiler:sS,C=cn(t.messageResolver)?t.messageResolver:aS||yL,k=cn(t.localeFallbacker)?t.localeFallbacker:oS||ML,R=Xt(t.fallbackContext)?t.fallbackContext:void 0,M=t,I=Xt(M.__datetimeFormatters)?M.__datetimeFormatters:new Map,B=Xt(M.__numberFormatters)?M.__numberFormatters:new Map,U=Xt(M.__meta)?M.__meta:{};hE++;const G={version:n,cid:hE,locale:i,fallbackLocale:s,messages:a,modifiers:u,pluralRules:c,missing:h,missingWarn:p,fallbackWarn:g,fallbackFormat:y,unresolving:b,postTranslation:T,processor:E,warnHtmlMessage:w,escapeParameter:_,messageCompiler:x,messageResolver:C,localeFallbacker:k,fallbackContext:R,onWarn:e,__meta:U};return G.datetimeFormats=o,G.numberFormats=l,G.__datetimeFormatters=I,G.__numberFormatters=B,__INTLIFY_PROD_DEVTOOLS__&&RL(G,n,U),G}function $_(t,e,n,i,r){const{missing:s,onWarn:a}=t;if(s!==null){const o=s(t,n,e,r);return Ge(o)?o:e}else return e}function Nc(t,e,n){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function zL(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function UL(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let i=n+1;i<e.length;i++)if(zL(t,e[i]))return!0;return!1}function g0(t){return n=>HL(n,t)}function HL(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const i=n,r=i.c||i.cases;return t.plural(r.reduce((s,a)=>[...s,fE(t,a)],[]))}else return fE(t,n)}function fE(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const i=(e.i||e.items).reduce((r,s)=>[...r,hy(t,s)],[]);return t.normalize(i)}}function hy(t,e){const n=e.t||e.type;switch(n){case 3:{const i=e;return i.v||i.value}case 9:{const i=e;return i.v||i.value}case 4:{const i=e;return t.interpolate(t.named(i.k||i.key))}case 5:{const i=e;return t.interpolate(t.list(i.i!=null?i.i:i.index))}case 6:{const i=e,r=i.m||i.modifier;return t.linked(hy(t,i.k||i.key),r?hy(t,r):void 0,t.type)}case 7:{const i=e;return i.v||i.value}case 8:{const i=e;return i.v||i.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const cS=t=>t;let Eu=Object.create(null);const ju=t=>Xt(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function dS(t,e={}){let n=!1;const i=e.onError||BD;return e.onError=r=>{n=!0,i(r)},{...uL(t,e),detectError:n}}const YL=(t,e)=>{if(!Ge(t))throw gs(Xr.NOT_SUPPORT_NON_STRING_MESSAGE);{It(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||cS)(t),r=Eu[i];if(r)return r;const{code:s,detectError:a}=dS(t,e),o=new Function(`return ${s}`)();return a?o:Eu[i]=o}};function WL(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ge(t)){It(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||cS)(t),r=Eu[i];if(r)return r;const{ast:s,detectError:a}=dS(t,{...e,location:!1,jit:!0}),o=g0(s);return a?o:Eu[i]=o}else{const n=t.cacheKey;if(n){const i=Eu[n];return i||(Eu[n]=g0(t))}else return g0(t)}}const pE=()=>"",Ir=t=>cn(t);function mE(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:s,fallbackLocale:a,messages:o}=t,[l,u]=fy(...e),c=It(u.missingWarn)?u.missingWarn:t.missingWarn,h=It(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,p=It(u.escapeParameter)?u.escapeParameter:t.escapeParameter,g=!!u.resolvedMessage,y=Ge(u.default)||It(u.default)?It(u.default)?s?l:()=>l:u.default:n?s?l:()=>l:"",b=n||y!=="",T=N_(t,u);p&&KL(u);let[E,w,_]=g?[l,T,o[T]||{}]:hS(t,l,T,a,h,c),x=E,C=l;if(!g&&!(Ge(x)||ju(x)||Ir(x))&&b&&(x=y,C=x),!g&&(!(Ge(x)||ju(x)||Ir(x))||!Ge(w)))return r?Kp:l;let k=!1;const R=()=>{k=!0},M=Ir(x)?x:fS(t,l,w,x,C,R);if(k)return x;const I=ZL(t,w,_,u),B=SL(I),U=qL(t,M,B),G=i?i(U,l):U;if(__INTLIFY_PROD_DEVTOOLS__){const ie={timestamp:Date.now(),key:Ge(l)?l:Ir(x)?x.key:"",locale:w||(Ir(x)?x.locale:""),format:Ge(x)?x:Ir(x)?x.source:"",message:G};ie.meta=Ii({},t.__meta,BL()||{}),IL(ie)}return G}function KL(t){mn(t.list)?t.list=t.list.map(e=>Ge(e)?Qw(e):e):Xt(t.named)&&Object.keys(t.named).forEach(e=>{Ge(t.named[e])&&(t.named[e]=Qw(t.named[e]))})}function hS(t,e,n,i,r,s){const{messages:a,onWarn:o,messageResolver:l,localeFallbacker:u}=t,c=u(t,i,n);let h={},p,g=null;const y="translate";for(let b=0;b<c.length&&(p=c[b],h=a[p]||{},(g=l(h,e))===null&&(g=h[e]),!(Ge(g)||ju(g)||Ir(g)));b++)if(!UL(p,c)){const T=$_(t,e,p,s,y);T!==e&&(g=T)}return[g,p,h]}function fS(t,e,n,i,r,s){const{messageCompiler:a,warnHtmlMessage:o}=t;if(Ir(i)){const u=i;return u.locale=u.locale||n,u.key=u.key||e,u}if(a==null){const u=()=>i;return u.locale=n,u.key=e,u}const l=a(i,XL(t,n,r,i,o,s));return l.locale=n,l.key=e,l.source=i,l}function qL(t,e,n){return e(n)}function fy(...t){const[e,n,i]=t,r={};if(!Ge(e)&&!ti(e)&&!Ir(e)&&!ju(e))throw gs(Xr.INVALID_ARGUMENT);const s=ti(e)?String(e):(Ir(e),e);return ti(n)?r.plural=n:Ge(n)?r.default=n:_t(n)&&!Yp(n)?r.named=n:mn(n)&&(r.list=n),ti(i)?r.plural=i:Ge(i)?r.default=i:_t(i)&&Ii(r,i),[s,r]}function XL(t,e,n,i,r,s){return{locale:e,key:n,warnHtmlMessage:r,onError:a=>{throw s&&s(a),a},onCacheKey:a=>SD(e,n,a)}}function ZL(t,e,n,i){const{modifiers:r,pluralRules:s,messageResolver:a,fallbackLocale:o,fallbackWarn:l,missingWarn:u,fallbackContext:c}=t,p={locale:e,modifiers:r,pluralRules:s,messages:g=>{let y=a(n,g);if(y==null&&c){const[,,b]=hS(c,g,e,o,l,u);y=a(b,g)}if(Ge(y)||ju(y)){let b=!1;const E=fS(t,g,e,y,g,()=>{b=!0});return b?pE:E}else return Ir(y)?y:pE}};return t.processor&&(p.processor=t.processor),i.list&&(p.list=i.list),i.named&&(p.named=i.named),ti(i.plural)&&(p.pluralIndex=i.plural),p}function gE(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=t,{__datetimeFormatters:o}=t,[l,u,c,h]=py(...e),p=It(c.missingWarn)?c.missingWarn:t.missingWarn;It(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const g=!!c.part,y=N_(t,c),b=a(t,r,y);if(!Ge(l)||l==="")return new Intl.DateTimeFormat(y,h).format(u);let T={},E,w=null;const _="datetime format";for(let k=0;k<b.length&&(E=b[k],T=n[E]||{},w=T[l],!_t(w));k++)$_(t,l,E,p,_);if(!_t(w)||!Ge(E))return i?Kp:l;let x=`${E}__${l}`;Yp(h)||(x=`${x}__${JSON.stringify(h)}`);let C=o.get(x);return C||(C=new Intl.DateTimeFormat(E,Ii({},w,h)),o.set(x,C)),g?C.formatToParts(u):C.format(u)}const pS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function py(...t){const[e,n,i,r]=t,s={};let a={},o;if(Ge(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw gs(Xr.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(u);try{o.toISOString()}catch{throw gs(Xr.INVALID_ISO_DATE_ARGUMENT)}}else if(RD(e)){if(isNaN(e.getTime()))throw gs(Xr.INVALID_DATE_ARGUMENT);o=e}else if(ti(e))o=e;else throw gs(Xr.INVALID_ARGUMENT);return Ge(n)?s.key=n:_t(n)&&Object.keys(n).forEach(l=>{pS.includes(l)?a[l]=n[l]:s[l]=n[l]}),Ge(i)?s.locale=i:_t(i)&&(a=i),_t(r)&&(a=r),[s.key||"",o,s,a]}function yE(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function _E(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=t,{__numberFormatters:o}=t,[l,u,c,h]=my(...e),p=It(c.missingWarn)?c.missingWarn:t.missingWarn;It(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const g=!!c.part,y=N_(t,c),b=a(t,r,y);if(!Ge(l)||l==="")return new Intl.NumberFormat(y,h).format(u);let T={},E,w=null;const _="number format";for(let k=0;k<b.length&&(E=b[k],T=n[E]||{},w=T[l],!_t(w));k++)$_(t,l,E,p,_);if(!_t(w)||!Ge(E))return i?Kp:l;let x=`${E}__${l}`;Yp(h)||(x=`${x}__${JSON.stringify(h)}`);let C=o.get(x);return C||(C=new Intl.NumberFormat(E,Ii({},w,h)),o.set(x,C)),g?C.formatToParts(u):C.format(u)}const mS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function my(...t){const[e,n,i,r]=t,s={};let a={};if(!ti(e))throw gs(Xr.INVALID_ARGUMENT);const o=e;return Ge(n)?s.key=n:_t(n)&&Object.keys(n).forEach(l=>{mS.includes(l)?a[l]=n[l]:s[l]=n[l]}),Ge(i)?s.locale=i:_t(i)&&(a=i),_t(r)&&(a=r),[s.key||"",o,s,a]}function vE(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}cL();var bE={};/**
* @vue/shared v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tr(t,e){const n=new Set(t.split(","));return e?i=>n.has(i.toLowerCase()):i=>n.has(i)}const Bt={},ku=[],si=()=>{},Ff=()=>!1,Ol=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),j_=t=>t.startsWith("onUpdate:"),Nt=Object.assign,B_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},JL=Object.prototype.hasOwnProperty,jt=(t,e)=>JL.call(t,e),We=Array.isArray,Ru=t=>oc(t)==="[object Map]",Ml=t=>oc(t)==="[object Set]",wE=t=>oc(t)==="[object Date]",QL=t=>oc(t)==="[object RegExp]",ut=t=>typeof t=="function",xt=t=>typeof t=="string",Lr=t=>typeof t=="symbol",tn=t=>t!==null&&typeof t=="object",V_=t=>(tn(t)||ut(t))&&ut(t.then)&&ut(t.catch),gS=Object.prototype.toString,oc=t=>gS.call(t),eF=t=>oc(t).slice(8,-1),yS=t=>oc(t)==="[object Object]",G_=t=>xt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Qa=Tr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tF=Tr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),qp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},nF=/-(\w)/g,_n=qp(t=>t.replace(nF,(e,n)=>n?n.toUpperCase():"")),iF=/\B([A-Z])/g,_r=qp(t=>t.replace(iF,"-$1").toLowerCase()),_o=qp(t=>t.charAt(0).toUpperCase()+t.slice(1)),ll=qp(t=>t?`on${_o(t)}`:""),es=(t,e)=>!Object.is(t,e),Iu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},_S=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Zf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Jf=t=>{const e=xt(t)?Number(t):NaN;return isNaN(e)?t:e};let EE;const vS=()=>EE||(EE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof bE<"u"?bE:{}),rF="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",sF=Tr(rF);function Vn(t){if(We(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=xt(i)?bS(i):Vn(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(xt(t)||tn(t))return t}const aF=/;(?![^(]*\))/g,oF=/:([^]+)/,lF=/\/\*[^]*?\*\//g;function bS(t){const e={};return t.replace(lF,"").split(aF).forEach(n=>{if(n){const i=n.split(oF);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function ct(t){let e="";if(xt(t))e=t;else if(We(t))for(let n=0;n<t.length;n++){const i=ct(t[n]);i&&(e+=i+" ")}else if(tn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function qn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!xt(e)&&(t.class=ct(e)),n&&(t.style=Vn(n)),t}const uF="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",cF="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",dF="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",hF="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",fF=Tr(uF),pF=Tr(cF),mF=Tr(dF),gF=Tr(hF),yF="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_F=Tr(yF);function wS(t){return!!t||t===""}function vF(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=uo(t[i],e[i]);return n}function uo(t,e){if(t===e)return!0;let n=wE(t),i=wE(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Lr(t),i=Lr(e),n||i)return t===e;if(n=We(t),i=We(e),n||i)return n&&i?vF(t,e):!1;if(n=tn(t),i=tn(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!uo(t[a],e[a]))return!1}}return String(t)===String(e)}function Xp(t,e){return t.findIndex(n=>uo(n,e))}const bt=t=>xt(t)?t:t==null?"":We(t)||tn(t)&&(t.toString===gS||!ut(t.toString))?JSON.stringify(t,ES,2):String(t),ES=(t,e)=>e&&e.__v_isRef?ES(t,e.value):Ru(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[y0(i,s)+" =>"]=r,n),{})}:Ml(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>y0(n))}:Lr(e)?y0(e):tn(e)&&!We(e)&&!yS(e)?String(e):e,y0=(t,e="")=>{var n;return Lr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fr;class Zp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=fr,!e&&fr&&(this.index=(fr.scopes||(fr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=fr;try{return fr=this,e()}finally{fr=n}}}on(){fr=this}off(){fr=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Jp(t){return new Zp(t)}function TS(t,e=fr){e&&e.active&&e.effects.push(t)}function Qp(){return fr}function z_(t){fr&&fr.cleanups.push(t)}let ul;class vl{constructor(e,n,i,r){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,TS(this,r)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,vo();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed){if(n.computed.effect._dirtyLevel===2)return!0;if(bF(n.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),bo()}return this._dirtyLevel>=5}set dirty(e){this._dirtyLevel=e?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=eo,n=ul;try{return eo=!0,ul=this,this._runnings++,TE(this),this.fn()}finally{xE(this),this._runnings--,ul=n,eo=e}}stop(){this.active&&(TE(this),xE(this),this.onStop&&this.onStop(),this.active=!1)}}function bF(t){return t.value}function TE(t){t._trackId++,t._depsLength=0}function xE(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)xS(t.deps[e],t);t.deps.length=t._depsLength}}function xS(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function CS(t,e){t.effect instanceof vl&&(t=t.effect.fn);const n=new vl(t,si,()=>{n.dirty&&n.run()});e&&(Nt(n,e),e.scope&&TS(n,e.scope)),(!e||!e.lazy)&&n.run();const i=n.run.bind(n);return i.effect=n,i}function SS(t){t.effect.stop()}let eo=!0,gy=0;const kS=[];function vo(){kS.push(eo),eo=!1}function bo(){const t=kS.pop();eo=t===void 0?!0:t}function U_(){gy++}function H_(){for(gy--;!gy&&yy.length;)yy.shift()()}function RS(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&xS(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const yy=[];function IS(t,e,n){U_();for(const i of t.keys()){if(!t.computed&&i.computed&&t.get(i)===i._trackId&&i._runnings>0){i._dirtyLevel=2;continue}let r;i._dirtyLevel<e&&(r??(r=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i.computed&&i._dirtyLevel===2&&(i._shouldSchedule=!0),i._dirtyLevel=e),i._shouldSchedule&&(r??(r=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==3&&(i._shouldSchedule=!1,i.scheduler&&yy.push(i.scheduler)))}H_()}const AS=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Qf=new WeakMap,cl=Symbol(""),_y=Symbol("");function ur(t,e,n){if(eo&&ul){let i=Qf.get(t);i||Qf.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=AS(()=>i.delete(n))),RS(ul,r)}}function ta(t,e,n,i,r,s){const a=Qf.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&We(t)){const l=Number(i);a.forEach((u,c)=>{(c==="length"||!Lr(c)&&c>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":We(t)?G_(n)&&o.push(a.get("length")):(o.push(a.get(cl)),Ru(t)&&o.push(a.get(_y)));break;case"delete":We(t)||(o.push(a.get(cl)),Ru(t)&&o.push(a.get(_y)));break;case"set":Ru(t)&&o.push(a.get(cl));break}U_();for(const l of o)l&&IS(l,5);H_()}function wF(t,e){const n=Qf.get(t);return n&&n.get(e)}const EF=Tr("__proto__,__v_isRef,__isVue"),OS=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Lr)),CE=TF();function TF(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Dt(this);for(let s=0,a=this.length;s<a;s++)ur(i,"get",s+"");const r=i[e](...n);return r===-1||r===!1?i[e](...n.map(Dt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){vo(),U_();const i=Dt(this)[e].apply(this,n);return H_(),bo(),i}}),t}function xF(t){Lr(t)||(t=String(t));const e=Dt(this);return ur(e,"has",t),e.hasOwnProperty(t)}class MS{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?$S:NS:s?FS:LS).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=We(e);if(!r){if(a&&jt(CE,n))return Reflect.get(CE,n,i);if(n==="hasOwnProperty")return xF}const o=Reflect.get(e,n,i);return(Lr(n)?OS.has(n):EF(n))||(r||ur(e,"get",n),s)?o:Yn(o)?a&&G_(n)?o:o.value:tn(o)?r?nm(o):Nr(o):o}}class PS extends MS{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=bl(s);if(!Bu(i)&&!bl(i)&&(s=Dt(s),i=Dt(i)),!We(e)&&Yn(s)&&!Yn(i))return l?!1:(s.value=i,!0)}const a=We(e)&&G_(n)?Number(n)<e.length:jt(e,n),o=Reflect.set(e,n,i,r);return e===Dt(r)&&(a?es(i,s)&&ta(e,"set",n,i):ta(e,"add",n,i)),o}deleteProperty(e,n){const i=jt(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&ta(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Lr(n)||!OS.has(n))&&ur(e,"has",n),i}ownKeys(e){return ur(e,"iterate",We(e)?"length":cl),Reflect.ownKeys(e)}}class DS extends MS{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const CF=new PS,SF=new DS,kF=new PS(!0),RF=new DS(!0),Y_=t=>t,em=t=>Reflect.getPrototypeOf(t);function ef(t,e,n=!1,i=!1){t=t.__v_raw;const r=Dt(t),s=Dt(e);n||(es(e,s)&&ur(r,"get",e),ur(r,"get",s));const{has:a}=em(r),o=i?Y_:n?q_:fd;if(a.call(r,e))return o(t.get(e));if(a.call(r,s))return o(t.get(s));t!==r&&t.get(e)}function tf(t,e=!1){const n=this.__v_raw,i=Dt(n),r=Dt(t);return e||(es(t,r)&&ur(i,"has",t),ur(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function nf(t,e=!1){return t=t.__v_raw,!e&&ur(Dt(t),"iterate",cl),Reflect.get(t,"size",t)}function SE(t){t=Dt(t);const e=Dt(this);return em(e).has.call(e,t)||(e.add(t),ta(e,"add",t,t)),this}function kE(t,e){e=Dt(e);const n=Dt(this),{has:i,get:r}=em(n);let s=i.call(n,t);s||(t=Dt(t),s=i.call(n,t));const a=r.call(n,t);return n.set(t,e),s?es(e,a)&&ta(n,"set",t,e):ta(n,"add",t,e),this}function RE(t){const e=Dt(this),{has:n,get:i}=em(e);let r=n.call(e,t);r||(t=Dt(t),r=n.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return r&&ta(e,"delete",t,void 0),s}function IE(){const t=Dt(this),e=t.size!==0,n=t.clear();return e&&ta(t,"clear",void 0,void 0),n}function rf(t,e){return function(i,r){const s=this,a=s.__v_raw,o=Dt(a),l=e?Y_:t?q_:fd;return!t&&ur(o,"iterate",cl),a.forEach((u,c)=>i.call(r,l(u),l(c),s))}}function sf(t,e,n){return function(...i){const r=this.__v_raw,s=Dt(r),a=Ru(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=r[t](...i),c=n?Y_:e?q_:fd;return!e&&ur(s,"iterate",l?_y:cl),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:o?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function ka(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function IF(){const t={get(s){return ef(this,s)},get size(){return nf(this)},has:tf,add:SE,set:kE,delete:RE,clear:IE,forEach:rf(!1,!1)},e={get(s){return ef(this,s,!1,!0)},get size(){return nf(this)},has:tf,add:SE,set:kE,delete:RE,clear:IE,forEach:rf(!1,!0)},n={get(s){return ef(this,s,!0)},get size(){return nf(this,!0)},has(s){return tf.call(this,s,!0)},add:ka("add"),set:ka("set"),delete:ka("delete"),clear:ka("clear"),forEach:rf(!0,!1)},i={get(s){return ef(this,s,!0,!0)},get size(){return nf(this,!0)},has(s){return tf.call(this,s,!0)},add:ka("add"),set:ka("set"),delete:ka("delete"),clear:ka("clear"),forEach:rf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=sf(s,!1,!1),n[s]=sf(s,!0,!1),e[s]=sf(s,!1,!0),i[s]=sf(s,!0,!0)}),[t,n,e,i]}const[AF,OF,MF,PF]=IF();function tm(t,e){const n=e?t?PF:MF:t?OF:AF;return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(jt(n,r)&&r in i?n:i,r,s)}const DF={get:tm(!1,!1)},LF={get:tm(!1,!0)},FF={get:tm(!0,!1)},NF={get:tm(!0,!0)},LS=new WeakMap,FS=new WeakMap,NS=new WeakMap,$S=new WeakMap;function $F(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jF(t){return t.__v_skip||!Object.isExtensible(t)?0:$F(eF(t))}function Nr(t){return bl(t)?t:im(t,!1,CF,DF,LS)}function W_(t){return im(t,!1,kF,LF,FS)}function nm(t){return im(t,!0,SF,FF,NS)}function jS(t){return im(t,!0,RF,NF,$S)}function im(t,e,n,i,r){if(!tn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const a=jF(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return r.set(t,o),o}function dl(t){return bl(t)?dl(t.__v_raw):!!(t&&t.__v_isReactive)}function bl(t){return!!(t&&t.__v_isReadonly)}function Bu(t){return!!(t&&t.__v_isShallow)}function rm(t){return t?!!t.__v_raw:!1}function Dt(t){const e=t&&t.__v_raw;return e?Dt(e):t}function K_(t){return Object.isExtensible(t)&&_S(t,"__v_skip",!0),t}const fd=t=>tn(t)?Nr(t):t,q_=t=>tn(t)?nm(t):t;class BS{constructor(e,n,i,r){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new vl(()=>e(this._value),()=>Au(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=Dt(this);return(!e._cacheable||e.effect.dirty)&&es(e._value,e._value=e.effect.run())&&Au(e,5),X_(e),e.effect._dirtyLevel>=2&&Au(e,3),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function BF(t,e,n=!1){let i,r;const s=ut(t);return s?(i=t,r=si):(i=t.get,r=t.set),new BS(i,r,s||!r,n)}function X_(t){var e;eo&&ul&&(t=Dt(t),RS(ul,(e=t.dep)!=null?e:t.dep=AS(()=>t.dep=void 0,t instanceof BS?t:void 0)))}function Au(t,e=5,n,i){t=Dt(t);const r=t.dep;r&&IS(r,e)}function Yn(t){return!!(t&&t.__v_isRef===!0)}function Ae(t){return VS(t,!1)}function sm(t){return VS(t,!0)}function VS(t,e){return Yn(t)?t:new VF(t,e)}class VF{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Dt(e),this._value=n?e:fd(e)}get value(){return X_(this),this._value}set value(e){const n=this.__v_isShallow||Bu(e)||bl(e);e=n?e:Dt(e),es(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:fd(e),Au(this,5))}}function GS(t){Au(t,5)}function te(t){return Yn(t)?t.value:t}function zS(t){return ut(t)?t():te(t)}const GF={get:(t,e,n)=>te(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Yn(r)&&!Yn(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function am(t){return dl(t)?t:new Proxy(t,GF)}class zF{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:i}=e(()=>X_(this),()=>Au(this));this._get=n,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function Z_(t){return new zF(t)}function US(t){const e=We(t)?new Array(t.length):{};for(const n in t)e[n]=HS(t,n);return e}class UF{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return wF(Dt(this._object),this._key)}}class HF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function wl(t,e,n){return Yn(t)?t:ut(t)?new HF(t):tn(t)&&arguments.length>1?HS(t,e,n):Ae(t)}function HS(t,e,n){const i=t[e];return Yn(i)?i:new UF(t,e,n)}const YS={GET:"get",HAS:"has",ITERATE:"iterate"},WS={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function KS(t,e){}const qS={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},YF={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function ws(t,e,n,i){try{return i?t(...i):t()}catch(r){wo(r,e,n)}}function or(t,e,n,i){if(ut(t)){const r=ws(t,e,n,i);return r&&V_(r)&&r.catch(s=>{wo(s,e,n)}),r}if(We(t)){const r=[];for(let s=0;s<t.length;s++)r.push(or(t[s],e,n,i));return r}}function wo(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){vo(),ws(l,null,10,[t,a,o]),bo();return}}WF(t,n,r,i)}function WF(t,e,n,i=!0){console.error(t)}let pd=!1,vy=!1;const Vi=[];let fs=0;const Ou=[];let Ba=null,el=0;const XS=Promise.resolve();let J_=null;function bi(t){const e=J_||XS;return t?e.then(this?t.bind(this):t):e}function KF(t){let e=fs+1,n=Vi.length;for(;e<n;){const i=e+n>>>1,r=Vi[i],s=gd(r);s<t||s===t&&r.pre?e=i+1:n=i}return e}function om(t){(!Vi.length||!Vi.includes(t,pd&&t.allowRecurse?fs+1:fs))&&(t.id==null?Vi.push(t):Vi.splice(KF(t.id),0,t),ZS())}function ZS(){!pd&&!vy&&(vy=!0,J_=XS.then(JS))}function qF(t){const e=Vi.indexOf(t);e>fs&&Vi.splice(e,1)}function md(t){We(t)?Ou.push(...t):(!Ba||!Ba.includes(t,t.allowRecurse?el+1:el))&&Ou.push(t),ZS()}function AE(t,e,n=pd?fs+1:0){for(;n<Vi.length;n++){const i=Vi[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;Vi.splice(n,1),n--,i()}}}function ep(t){if(Ou.length){const e=[...new Set(Ou)].sort((n,i)=>gd(n)-gd(i));if(Ou.length=0,Ba){Ba.push(...e);return}for(Ba=e,el=0;el<Ba.length;el++){const n=Ba[el];n.active!==!1&&n()}Ba=null,el=0}}const gd=t=>t.id==null?1/0:t.id,XF=(t,e)=>{const n=gd(t)-gd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function JS(t){vy=!1,pd=!0,Vi.sort(XF);try{for(fs=0;fs<Vi.length;fs++){const e=Vi[fs];e&&e.active!==!1&&ws(e,null,14)}}finally{fs=0,Vi.length=0,ep(),pd=!1,J_=null,(Vi.length||Ou.length)&&JS()}}let mu,af=[];function QS(t,e){var n,i;mu=t,mu?(mu.enabled=!0,af.forEach(({event:r,args:s})=>mu.emit(r,...s)),af=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{QS(s,e)}),setTimeout(()=>{mu||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,af=[])},3e3)):af=[]}function ZF(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Bt;let r=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:p}=i[c]||Bt;p&&(r=n.map(g=>xt(g)?g.trim():g)),h&&(r=n.map(Zf))}let o,l=i[o=ll(e)]||i[o=ll(_n(e))];!l&&s&&(l=i[o=ll(_r(e))]),l&&or(l,t,6,r);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,or(u,t,6,r)}}function ek(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let a={},o=!1;if(!ut(t)){const l=u=>{const c=ek(u,e,!0);c&&(o=!0,Nt(a,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(tn(t)&&i.set(t,null),null):(We(s)?s.forEach(l=>a[l]=null):Nt(a,s),tn(t)&&i.set(t,a),a)}function lm(t,e){return!t||!Ol(e)?!1:(e=e.slice(2).replace(/Once$/,""),jt(t,e[0].toLowerCase()+e.slice(1))||jt(t,_r(e))||jt(t,e))}let ai=null,um=null;function yd(t){const e=ai;return ai=t,um=t&&t.type.__scopeId||null,e}function qd(t){um=t}function Xd(){um=null}const tk=t=>pt;function pt(t,e=ai,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&rp(-1);const s=yd(e);let a;try{a=t(...r)}finally{yd(s),i._d&&rp(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Nf(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:y,inheritAttrs:b}=t,T=yd(t);let E,w;try{if(n.shapeFlag&4){const x=r||i,C=x;E=mr(u.call(C,x,c,h,g,p,y)),w=o}else{const x=e;E=mr(x.length>1?x(h,{attrs:o,slots:a,emit:l}):x(h,null)),w=e.props?o:QF(o)}}catch(x){sd.length=0,wo(x,t,1),E=De(ni)}let _=E;if(w&&b!==!1){const x=Object.keys(w),{shapeFlag:C}=_;x.length&&C&7&&(s&&x.some(j_)&&(w=eN(w,s)),_=ts(_,w,!1,!0))}return n.dirs&&(_=ts(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),E=_,yd(T),E}function JF(t,e=!0){let n;for(let i=0;i<t.length;i++){const r=t[i];if(oa(r)){if(r.type!==ni||r.children==="v-if"){if(n)return;n=r}}else return}return n}const QF=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ol(n))&&((e||(e={}))[n]=t[n]);return e},eN=(t,e)=>{const n={};for(const i in t)(!j_(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function tN(t,e,n){const{props:i,children:r,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?OE(i,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(a[p]!==i[p]&&!lm(u,p))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?OE(i,a,u):!0:!!a;return!1}function OE(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!lm(n,s))return!0}return!1}function Q_({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const ev="components",nN="directives";function ze(t,e){return nv(ev,t,!0,e)||t}const nk=Symbol.for("v-ndc");function lc(t){return xt(t)?nv(ev,t,!1)||t:t||nk}function tv(t){return nv(nN,t)}function nv(t,e,n=!0,i=!1){const r=ai||ii;if(r){const s=r.type;if(t===ev){const o=My(s,!1);if(o&&(o===e||o===_n(e)||o===_o(_n(e))))return s}const a=ME(r[t]||s[t],e)||ME(r.appContext[t],e);return!a&&i?s:a}}function ME(t,e){return t&&(t[e]||t[_n(e)]||t[_o(_n(e))])}const by=t=>t.__isSuspense;let wy=0;const iN={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,s,a,o,l,u){if(t==null)rN(e,n,i,r,s,a,o,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}sN(t,e,n,i,r,a,o,l,u)}},hydrate:aN,create:iv,normalize:oN},ik=iN;function _d(t,e){const n=t.props&&t.props[e];ut(n)&&n()}function rN(t,e,n,i,r,s,a,o,l){const{p:u,o:{createElement:c}}=l,h=c("div"),p=t.suspense=iv(t,r,i,e,h,n,s,a,o,l);u(null,p.pendingBranch=t.ssContent,h,null,i,p,s,a),p.deps>0?(_d(t,"onPending"),_d(t,"onFallback"),u(null,t.ssFallback,e,n,i,null,s,a),Mu(p,t.ssFallback)):p.resolve(!1,!0)}function sN(t,e,n,i,r,s,a,o,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const p=e.ssContent,g=e.ssFallback,{activeBranch:y,pendingBranch:b,isInFallback:T,isHydrating:E}=h;if(b)h.pendingBranch=p,Yr(p,b)?(l(b,p,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0?h.resolve():T&&(E||(l(y,g,n,i,r,null,s,a,o),Mu(h,g)))):(h.pendingId=wy++,E?(h.isHydrating=!1,h.activeBranch=b):u(b,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),T?(l(null,p,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0?h.resolve():(l(y,g,n,i,r,null,s,a,o),Mu(h,g))):y&&Yr(p,y)?(l(y,p,n,i,r,h,s,a,o),h.resolve(!0)):(l(null,p,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0&&h.resolve()));else if(y&&Yr(p,y))l(y,p,n,i,r,h,s,a,o),Mu(h,p);else if(_d(e,"onPending"),h.pendingBranch=p,p.shapeFlag&512?h.pendingId=p.component.suspenseId:h.pendingId=wy++,l(null,p,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0)h.resolve();else{const{timeout:w,pendingId:_}=h;w>0?setTimeout(()=>{h.pendingId===_&&h.fallback(g)},w):w===0&&h.fallback(g)}}function iv(t,e,n,i,r,s,a,o,l,u,c=!1){const{p:h,m:p,um:g,n:y,o:{parentNode:b,remove:T}}=u;let E;const w=lN(t);w&&e&&e.pendingBranch&&(E=e.pendingId,e.deps++);const _=t.props?Jf(t.props.timeout):void 0,x=s,C={vnode:t,parent:e,parentComponent:n,namespace:a,container:i,hiddenContainer:r,deps:0,pendingId:wy++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(k=!1,R=!1){const{vnode:M,activeBranch:I,pendingBranch:B,pendingId:U,effects:G,parentComponent:ie,container:W}=C;let N=!1;C.isHydrating?C.isHydrating=!1:k||(N=I&&B.transition&&B.transition.mode==="out-in",N&&(I.transition.afterLeave=()=>{U===C.pendingId&&(p(B,W,s===x?y(I):s,0),md(G))}),I&&(b(I.el)!==C.hiddenContainer&&(s=y(I)),g(I,ie,C,!0)),N||p(B,W,s,0)),Mu(C,B),C.pendingBranch=null,C.isInFallback=!1;let j=C.parent,F=!1;for(;j;){if(j.pendingBranch){j.effects.push(...G),F=!0;break}j=j.parent}!F&&!N&&md(G),C.effects=[],w&&e&&e.pendingBranch&&E===e.pendingId&&(e.deps--,e.deps===0&&!R&&e.resolve()),_d(M,"onResolve")},fallback(k){if(!C.pendingBranch)return;const{vnode:R,activeBranch:M,parentComponent:I,container:B,namespace:U}=C;_d(R,"onFallback");const G=y(M),ie=()=>{C.isInFallback&&(h(null,k,B,G,I,null,U,o,l),Mu(C,k))},W=k.transition&&k.transition.mode==="out-in";W&&(M.transition.afterLeave=ie),C.isInFallback=!0,g(M,I,null,!0),W||ie()},move(k,R,M){C.activeBranch&&p(C.activeBranch,k,R,M),C.container=k},next(){return C.activeBranch&&y(C.activeBranch)},registerDep(k,R,M){const I=!!C.pendingBranch;I&&C.deps++;const B=k.vnode.el;k.asyncDep.catch(U=>{wo(U,k,0)}).then(U=>{if(k.isUnmounted||C.isUnmounted||C.pendingId!==k.suspenseId)return;k.asyncResolved=!0;const{vnode:G}=k;Ay(k,U,!1),B&&(G.el=B);const ie=!B&&k.subTree.el;R(k,G,b(B||k.subTree.el),B?null:y(k.subTree),C,a,M),ie&&T(ie),Q_(k,G.el),I&&--C.deps===0&&C.resolve()})},unmount(k,R){C.isUnmounted=!0,C.activeBranch&&g(C.activeBranch,n,k,R),C.pendingBranch&&g(C.pendingBranch,n,k,R)}};return C}function aN(t,e,n,i,r,s,a,o,l){const u=e.suspense=iv(e,i,n,t.parentNode,document.createElement("div"),null,r,s,a,o,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,a);return u.deps===0&&u.resolve(!1,!0),c}function oN(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=PE(i?n.default:n),t.ssFallback=i?PE(n.fallback):De(ni)}function PE(t){let e;if(ut(t)){const n=Tl&&t._c;n&&(t._d=!1,ne()),t=t(),n&&(t._d=!0,e=rr,Gk())}return We(t)&&(t=JF(t)),t=mr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function rk(t,e){e&&e.pendingBranch?We(t)?e.effects.push(...t):e.effects.push(t):md(t)}function Mu(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;n.el=r,i&&i.subTree===n&&(i.vnode.el=r,Q_(i,r))}function lN(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}function cm(t,e,n=ii,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{vo();const o=xl(n),l=or(e,n,t,a);return o(),bo(),l});return i?r.unshift(s):r.push(s),s}}const da=t=>(e,n=ii)=>{(!nh||t==="sp")&&cm(t,(...i)=>e(...i),n)},dm=da("bm"),Cn=da("m"),hm=da("bu"),Zd=da("u"),Jd=da("bum"),Rs=da("um"),rv=da("sp"),sv=da("rtg"),av=da("rtc");function ov(t,e=ii){cm("ec",t,e)}function oi(t,e){if(ai===null)return t;const n=ih(ai),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,a,o,l=Bt]=e[r];s&&(ut(s)&&(s={mounted:s,updated:s}),s.deep&&Ha(a),i.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function hs(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];s&&(o.oldValue=s[a].value);let l=o.dir[i];l&&(vo(),or(l,n,8,[t.el,o,t,e]),bo())}}function Ht(t,e,n,i){let r;const s=n&&n[i];if(We(t)||xt(t)){r=new Array(t.length);for(let a=0,o=t.length;a<o;a++)r[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s&&s[a])}else if(tn(t))if(t[Symbol.iterator])r=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);r=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];r[o]=e(t[u],u,o,s&&s[o])}}else r=[];return n&&(n[i]=r),r}function _i(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(We(i))for(let r=0;r<i.length;r++)t[i[r].name]=i[r].fn;else i&&(t[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return t}/*! #__NO_SIDE_EFFECTS__ */function vn(t,e){return ut(t)?Nt({name:t.name},e,{setup:t}):t}const hl=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function sk(t){ut(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,timeout:s,suspensible:a=!0,onError:o}=t;let l=null,u,c=0;const h=()=>(c++,l=null,p()),p=()=>{let g;return l||(g=l=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),o)return new Promise((b,T)=>{o(y,()=>b(h()),()=>T(y),c+1)});throw y}).then(y=>g!==l&&l?l:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),u=y,y)))};return vn({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return u},setup(){const g=ii;if(u)return()=>_0(u,g);const y=w=>{l=null,wo(w,g,13,!i)};if(a&&g.suspense||nh)return p().then(w=>()=>_0(w,g)).catch(w=>(y(w),()=>i?De(i,{error:w}):null));const b=Ae(!1),T=Ae(),E=Ae(!!r);return r&&setTimeout(()=>{E.value=!1},r),s!=null&&setTimeout(()=>{if(!b.value&&!T.value){const w=new Error(`Async component timed out after ${s}ms.`);y(w),T.value=w}},s),p().then(()=>{b.value=!0,g.parent&&eh(g.parent.vnode)&&(g.parent.effect.dirty=!0,om(g.parent.update))}).catch(w=>{y(w),T.value=w}),()=>{if(b.value&&u)return _0(u,g);if(T.value&&i)return De(i,{error:T.value});if(n&&!E.value)return De(n)}}})}function _0(t,e){const{ref:n,props:i,children:r,ce:s}=e.vnode,a=De(t,i,r);return a.ref=n,a.ce=s,delete e.vnode.ce,a}function Ue(t,e,n={},i,r){if(ai.isCE||ai.parent&&hl(ai.parent)&&ai.parent.isCE)return e!=="default"&&(n.name=e),De("slot",n,i&&i());let s=t[e];s&&s._c&&(s._d=!1),ne();const a=s&&ak(s(n)),o=tt(Je,{key:n.key||a&&a.key||`_${e}`},a||(i?i():[]),a&&t._===1?64:-2);return!r&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function ak(t){return t.some(e=>oa(e)?!(e.type===ni||e.type===Je&&!ak(e.children)):!0)?t:null}function ok(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:ll(i)]=t[i];return n}const Ey=t=>t?Kk(t)?ih(t):Ey(t.parent):null,id=Nt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ey(t.parent),$root:t=>Ey(t.root),$emit:t=>t.emit,$options:t=>lv(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,om(t.update)}),$nextTick:t=>t.n||(t.n=bi.bind(t.proxy)),$watch:t=>SN.bind(t)}),v0=(t,e)=>t!==Bt&&!t.__isScriptSetup&&jt(t,e),Ty={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const g=a[e];if(g!==void 0)switch(g){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(v0(i,e))return a[e]=1,i[e];if(r!==Bt&&jt(r,e))return a[e]=2,r[e];if((u=t.propsOptions[0])&&jt(u,e))return a[e]=3,s[e];if(n!==Bt&&jt(n,e))return a[e]=4,n[e];xy&&(a[e]=0)}}const c=id[e];let h,p;if(c)return e==="$attrs"&&ur(t.attrs,"get",""),c(t);if((h=o.__cssModules)&&(h=h[e]))return h;if(n!==Bt&&jt(n,e))return a[e]=4,n[e];if(p=l.config.globalProperties,jt(p,e))return p[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return v0(r,e)?(r[e]=n,!0):i!==Bt&&jt(i,e)?(i[e]=n,!0):jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},a){let o;return!!n[a]||t!==Bt&&jt(t,a)||v0(e,a)||(o=s[0])&&jt(o,a)||jt(i,a)||jt(id,a)||jt(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:jt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},uN=Nt({},Ty,{get(t,e){if(e!==Symbol.unscopables)return Ty.get(t,e,t)},has(t,e){return e[0]!=="_"&&!sF(e)}});function lk(){return null}function uk(){return null}function ck(t){}function dk(t){}function hk(){return null}function fk(){}function pk(t,e){return null}function ha(){return gk().slots}function mk(){return gk().attrs}function gk(){const t=qi();return t.setupContext||(t.setupContext=Jk(t))}function vd(t){return We(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function yk(t,e){const n=vd(t);for(const i in e){if(i.startsWith("__skip"))continue;let r=n[i];r?We(r)||ut(r)?r=n[i]={type:r,default:e[i]}:r.default=e[i]:r===null&&(r=n[i]={default:e[i]}),r&&e[`__skip_${i}`]&&(r.skipFactory=!0)}return n}function _k(t,e){return!t||!e?t||e:We(t)&&We(e)?t.concat(e):Nt({},vd(t),vd(e))}function vk(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function bk(t){const e=qi();let n=t();return Iy(),V_(n)&&(n=n.catch(i=>{throw xl(e),i})),[n,()=>xl(e)]}let xy=!0;function cN(t){const e=lv(t),n=t.proxy,i=t.ctx;xy=!1,e.beforeCreate&&DE(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:y,activated:b,deactivated:T,beforeDestroy:E,beforeUnmount:w,destroyed:_,unmounted:x,render:C,renderTracked:k,renderTriggered:R,errorCaptured:M,serverPrefetch:I,expose:B,inheritAttrs:U,components:G,directives:ie,filters:W}=e;if(u&&dN(u,i,null),a)for(const F in a){const Q=a[F];ut(Q)&&(i[F]=Q.bind(n))}if(r){const F=r.call(n,n);tn(F)&&(t.data=Nr(F))}if(xy=!0,s)for(const F in s){const Q=s[F],_e=ut(Q)?Q.bind(n,n):ut(Q.get)?Q.get.bind(n,n):si,ve=!ut(Q)&&ut(Q.set)?Q.set.bind(n):si,xe=Se({get:_e,set:ve});Object.defineProperty(i,F,{enumerable:!0,configurable:!0,get:()=>xe.value,set:K=>xe.value=K})}if(o)for(const F in o)wk(o[F],i,n,F);if(l){const F=ut(l)?l.call(n):l;Reflect.ownKeys(F).forEach(Q=>{uv(Q,F[Q])})}c&&DE(c,t,"c");function j(F,Q){We(Q)?Q.forEach(_e=>F(_e.bind(n))):Q&&F(Q.bind(n))}if(j(dm,h),j(Cn,p),j(hm,g),j(Zd,y),j(_v,b),j(vv,T),j(ov,M),j(av,k),j(sv,R),j(Jd,w),j(Rs,x),j(rv,I),We(B))if(B.length){const F=t.exposed||(t.exposed={});B.forEach(Q=>{Object.defineProperty(F,Q,{get:()=>n[Q],set:_e=>n[Q]=_e})})}else t.exposed||(t.exposed={});C&&t.render===si&&(t.render=C),U!=null&&(t.inheritAttrs=U),G&&(t.components=G),ie&&(t.directives=ie)}function dN(t,e,n=si){We(t)&&(t=Cy(t));for(const i in t){const r=t[i];let s;tn(r)?"default"in r?s=fl(r.from||i,r.default,!0):s=fl(r.from||i):s=fl(r),Yn(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function DE(t,e,n){or(We(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function wk(t,e,n,i){const r=i.includes(".")?Fk(n,i):()=>n[i];if(xt(t)){const s=e[t];ut(s)&&xn(r,s)}else if(ut(t))xn(r,t.bind(n));else if(tn(t))if(We(t))t.forEach(s=>wk(s,e,n,i));else{const s=ut(t.handler)?t.handler.bind(n):e[t.handler];ut(s)&&xn(r,s,t)}}function lv(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(u=>tp(l,u,a,!0)),tp(l,e,a)),tn(e)&&s.set(e,l),l}function tp(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&tp(t,s,n,!0),r&&r.forEach(a=>tp(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=hN[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const hN={data:LE,props:FE,emits:FE,methods:Jc,computed:Jc,beforeCreate:Hi,created:Hi,beforeMount:Hi,mounted:Hi,beforeUpdate:Hi,updated:Hi,beforeDestroy:Hi,beforeUnmount:Hi,destroyed:Hi,unmounted:Hi,activated:Hi,deactivated:Hi,errorCaptured:Hi,serverPrefetch:Hi,components:Jc,directives:Jc,watch:pN,provide:LE,inject:fN};function LE(t,e){return e?t?function(){return Nt(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function fN(t,e){return Jc(Cy(t),Cy(e))}function Cy(t){if(We(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Hi(t,e){return t?[...new Set([].concat(t,e))]:e}function Jc(t,e){return t?Nt(Object.create(null),t,e):e}function FE(t,e){return t?We(t)&&We(e)?[...new Set([...t,...e])]:Nt(Object.create(null),vd(t),vd(e??{})):e}function pN(t,e){if(!t)return e;if(!e)return t;const n=Nt(Object.create(null),t);for(const i in e)n[i]=Hi(t[i],e[i]);return n}function Ek(){return{app:null,config:{isNativeTag:Ff,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mN=0;function gN(t,e){return function(i,r=null){ut(i)||(i=Nt({},i)),r!=null&&!tn(r)&&(r=null);const s=Ek(),a=new WeakSet;let o=!1;const l=s.app={_uid:mN++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Cv,get config(){return s.config},set config(u){},use(u,...c){return a.has(u)||(u&&ut(u.install)?(a.add(u),u.install(l,...c)):ut(u)&&(a.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,h){if(!o){const p=De(i,r);return p.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),c&&e?e(p,u):t(p,u,h),o=!0,l._container=u,u.__vue_app__=l,ih(p.component)}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=Pu;Pu=l;try{return u()}finally{Pu=c}}};return l}}let Pu=null;function uv(t,e){if(ii){let n=ii.provides;const i=ii.parent&&ii.parent.provides;i===n&&(n=ii.provides=Object.create(i)),n[t]=e}}function fl(t,e,n=!1){const i=ii||ai;if(i||Pu){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Pu._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ut(e)?e.call(i&&i.proxy):e}}function Tk(){return!!(ii||ai||Pu)}const xk={},Ck=()=>Object.create(xk),Sk=t=>Object.getPrototypeOf(t)===xk;function yN(t,e,n,i=!1){const r={},s=Ck();t.propsDefaults=Object.create(null),kk(t,e,r,s);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=i?r:W_(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function _N(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:a}}=t,o=Dt(r),[l]=t.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(lm(t.emitsOptions,p))continue;const g=e[p];if(l)if(jt(s,p))g!==s[p]&&(s[p]=g,u=!0);else{const y=_n(p);r[y]=Sy(l,o,y,g,t,!1)}else g!==s[p]&&(s[p]=g,u=!0)}}}else{kk(t,e,r,s)&&(u=!0);let c;for(const h in o)(!e||!jt(e,h)&&((c=_r(h))===h||!jt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(r[h]=Sy(l,o,h,void 0,t,!0)):delete r[h]);if(s!==o)for(const h in s)(!e||!jt(e,h))&&(delete s[h],u=!0)}u&&ta(t.attrs,"set","")}function kk(t,e,n,i){const[r,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Qa(l))continue;const u=e[l];let c;r&&jt(r,c=_n(l))?!s||!s.includes(c)?n[c]=u:(o||(o={}))[c]=u:lm(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(s){const l=Dt(n),u=o||Bt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=Sy(r,l,h,u[h],t,!jt(u,h))}}return a}function Sy(t,e,n,i,r,s){const a=t[n];if(a!=null){const o=jt(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ut(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const c=xl(r);i=u[n]=l.call(null,e),c()}}else i=l}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===_r(n))&&(i=!0))}return i}function Rk(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const s=t.props,a={},o=[];let l=!1;if(!ut(t)){const c=h=>{l=!0;const[p,g]=Rk(h,e,!0);Nt(a,p),g&&o.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return tn(t)&&i.set(t,ku),ku;if(We(s))for(let c=0;c<s.length;c++){const h=_n(s[c]);NE(h)&&(a[h]=Bt)}else if(s)for(const c in s){const h=_n(c);if(NE(h)){const p=s[c],g=a[h]=We(p)||ut(p)?{type:p}:Nt({},p);if(g){const y=BE(Boolean,g.type),b=BE(String,g.type);g[0]=y>-1,g[1]=b<0||y<b,(y>-1||jt(g,"default"))&&o.push(h)}}}const u=[a,o];return tn(t)&&i.set(t,u),u}function NE(t){return t[0]!=="$"&&!Qa(t)}function $E(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function jE(t,e){return $E(t)===$E(e)}function BE(t,e){return We(e)?e.findIndex(n=>jE(n,t)):ut(e)&&jE(e,t)?0:-1}const Ik=t=>t[0]==="_"||t==="$stable",cv=t=>We(t)?t.map(mr):[mr(t)],vN=(t,e,n)=>{if(e._n)return e;const i=pt((...r)=>cv(e(...r)),n);return i._c=!1,i},Ak=(t,e,n)=>{const i=t._ctx;for(const r in t){if(Ik(r))continue;const s=t[r];if(ut(s))e[r]=vN(r,s,i);else if(s!=null){const a=cv(s);e[r]=()=>a}}},Ok=(t,e)=>{const n=cv(e);t.slots.default=()=>n},bN=(t,e)=>{const n=t.slots=Ck();if(t.vnode.shapeFlag&32){const i=e._;i?(Nt(n,e),_S(n,"_",i,!0)):Ak(e,n)}else e&&Ok(t,e)},wN=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,a=Bt;if(i.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:(Nt(r,e),!n&&o===1&&delete r._):(s=!e.$stable,Ak(e,r)),a=e}else e&&(Ok(t,e),a={default:1});if(s)for(const o in r)!Ik(o)&&a[o]==null&&delete r[o]};function np(t,e,n,i,r=!1){if(We(t)){t.forEach((p,g)=>np(p,e&&(We(e)?e[g]:e),n,i,r));return}if(hl(i)&&!r)return;const s=i.shapeFlag&4?ih(i.component):i.el,a=r?null:s,{i:o,r:l}=t,u=e&&e.r,c=o.refs===Bt?o.refs={}:o.refs,h=o.setupState;if(u!=null&&u!==l&&(xt(u)?(c[u]=null,jt(h,u)&&(h[u]=null)):Yn(u)&&(u.value=null)),ut(l))ws(l,o,12,[a,c]);else{const p=xt(l),g=Yn(l);if(p||g){const y=()=>{if(t.f){const b=p?jt(h,l)?h[l]:c[l]:l.value;r?We(b)&&B_(b,s):We(b)?b.includes(s)||b.push(s):p?(c[l]=[s],jt(h,l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else p?(c[l]=a,jt(h,l)&&(h[l]=a)):g&&(l.value=a,t.k&&(c[t.k]=a))};a?(y.id=-1,pi(y,n)):y()}}}let VE=!1;const tu=()=>{VE||(console.error("Hydration completed but contains mismatches."),VE=!0)},EN=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",TN=t=>t.namespaceURI.includes("MathML"),of=t=>{if(EN(t))return"svg";if(TN(t))return"mathml"},lf=t=>t.nodeType===8;function xN(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:u}}=t,c=(_,x)=>{if(!x.hasChildNodes()){n(null,_,x),ep(),x._vnode=_;return}h(x.firstChild,_,null,null,null),ep(),x._vnode=_},h=(_,x,C,k,R,M=!1)=>{M=M||!!x.dynamicChildren;const I=lf(_)&&_.data==="[",B=()=>b(_,x,C,k,R,I),{type:U,ref:G,shapeFlag:ie,patchFlag:W}=x;let N=_.nodeType;x.el=_,W===-2&&(M=!1,x.dynamicChildren=null);let j=null;switch(U){case aa:N!==3?x.children===""?(l(x.el=r(""),a(_),_),j=_):j=B():(_.data!==x.children&&(tu(),_.data=x.children),j=s(_));break;case ni:w(_)?(j=s(_),E(x.el=_.content.firstChild,_,C)):N!==8||I?j=B():j=s(_);break;case to:if(I&&(_=s(_),N=_.nodeType),N===1||N===3){j=_;const F=!x.children.length;for(let Q=0;Q<x.staticCount;Q++)F&&(x.children+=j.nodeType===1?j.outerHTML:j.data),Q===x.staticCount-1&&(x.anchor=j),j=s(j);return I?s(j):j}else B();break;case Je:I?j=y(_,x,C,k,R,M):j=B();break;default:if(ie&1)(N!==1||x.type.toLowerCase()!==_.tagName.toLowerCase())&&!w(_)?j=B():j=p(_,x,C,k,R,M);else if(ie&6){x.slotScopeIds=R;const F=a(_);if(I?j=T(_):lf(_)&&_.data==="teleport start"?j=T(_,_.data,"teleport end"):j=s(_),e(x,F,null,C,k,of(F),M),hl(x)){let Q;I?(Q=De(Je),Q.anchor=j?j.previousSibling:F.lastChild):Q=_.nodeType===3?cr(""):De("div"),Q.el=_,x.component.subTree=Q}}else ie&64?N!==8?j=B():j=x.type.hydrate(_,x,C,k,R,M,t,g):ie&128&&(j=x.type.hydrate(_,x,C,k,of(a(_)),R,M,t,h))}return G!=null&&np(G,null,k,x),j},p=(_,x,C,k,R,M)=>{M=M||!!x.dynamicChildren;const{type:I,props:B,patchFlag:U,shapeFlag:G,dirs:ie,transition:W}=x,N=I==="input"||I==="option";if(N||U!==-1){ie&&hs(x,null,C,"created");let j=!1;if(w(_)){j=Pk(k,W)&&C&&C.vnode.props&&C.vnode.props.appear;const Q=_.content.firstChild;j&&W.beforeEnter(Q),E(Q,_,C),x.el=_=Q}if(G&16&&!(B&&(B.innerHTML||B.textContent))){let Q=g(_.firstChild,x,_,C,k,R,M);for(;Q;){tu();const _e=Q;Q=Q.nextSibling,o(_e)}}else G&8&&_.textContent!==x.children&&(tu(),_.textContent=x.children);if(B)if(N||!M||U&48)for(const Q in B)(N&&(Q.endsWith("value")||Q==="indeterminate")||Ol(Q)&&!Qa(Q)||Q[0]===".")&&i(_,Q,null,B[Q],void 0,void 0,C);else B.onClick&&i(_,"onClick",null,B.onClick,void 0,void 0,C);let F;(F=B&&B.onVnodeBeforeMount)&&er(F,C,x),ie&&hs(x,null,C,"beforeMount"),((F=B&&B.onVnodeMounted)||ie||j)&&rk(()=>{F&&er(F,C,x),j&&W.enter(_),ie&&hs(x,null,C,"mounted")},k)}return _.nextSibling},g=(_,x,C,k,R,M,I)=>{I=I||!!x.dynamicChildren;const B=x.children,U=B.length;for(let G=0;G<U;G++){const ie=I?B[G]:B[G]=mr(B[G]);_?_=h(_,ie,k,R,M,I):ie.type===aa&&!ie.children?l(ie.el=r(""),C):(tu(),n(null,ie,C,null,k,R,of(C),M))}return _},y=(_,x,C,k,R,M)=>{const{slotScopeIds:I}=x;I&&(R=R?R.concat(I):I);const B=a(_),U=g(s(_),x,B,C,k,R,M);return U&&lf(U)&&U.data==="]"?s(x.anchor=U):(tu(),l(x.anchor=u("]"),B,U),U)},b=(_,x,C,k,R,M)=>{if(tu(),x.el=null,M){const U=T(_);for(;;){const G=s(_);if(G&&G!==U)o(G);else break}}const I=s(_),B=a(_);return o(_),n(null,x,B,I,C,k,of(B),R),I},T=(_,x="[",C="]")=>{let k=0;for(;_;)if(_=s(_),_&&lf(_)&&(_.data===x&&k++,_.data===C)){if(k===0)return s(_);k--}return _},E=(_,x,C)=>{const k=x.parentNode;k&&k.replaceChild(_,x);let R=C;for(;R;)R.vnode.el===x&&(R.vnode.el=R.subTree.el=_),R=R.parent},w=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[c,h]}const pi=rk;function dv(t){return Mk(t)}function hv(t){return Mk(t,xN)}function Mk(t,e){const n=vS();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=si,insertStaticContent:y}=t,b=(L,O,z,J=null,he=null,Y=null,ue=void 0,D=null,$=!!O.dynamicChildren)=>{if(L===O)return;L&&!Yr(L,O)&&(J=q(L),K(L,he,Y,!0),L=null),O.patchFlag===-2&&($=!1,O.dynamicChildren=null);const{type:X,ref:se,shapeFlag:Ie}=O;switch(X){case aa:T(L,O,z,J);break;case ni:E(L,O,z,J);break;case to:L==null&&w(O,z,J,ue);break;case Je:G(L,O,z,J,he,Y,ue,D,$);break;default:Ie&1?C(L,O,z,J,he,Y,ue,D,$):Ie&6?ie(L,O,z,J,he,Y,ue,D,$):(Ie&64||Ie&128)&&X.process(L,O,z,J,he,Y,ue,D,$,de)}se!=null&&he&&np(se,L&&L.ref,Y,O||L,!O)},T=(L,O,z,J)=>{if(L==null)i(O.el=o(O.children),z,J);else{const he=O.el=L.el;O.children!==L.children&&u(he,O.children)}},E=(L,O,z,J)=>{L==null?i(O.el=l(O.children||""),z,J):O.el=L.el},w=(L,O,z,J)=>{[L.el,L.anchor]=y(L.children,O,z,J,L.el,L.anchor)},_=({el:L,anchor:O},z,J)=>{let he;for(;L&&L!==O;)he=p(L),i(L,z,J),L=he;i(O,z,J)},x=({el:L,anchor:O})=>{let z;for(;L&&L!==O;)z=p(L),r(L),L=z;r(O)},C=(L,O,z,J,he,Y,ue,D,$)=>{O.type==="svg"?ue="svg":O.type==="math"&&(ue="mathml"),L==null?k(O,z,J,he,Y,ue,D,$):I(L,O,he,Y,ue,D,$)},k=(L,O,z,J,he,Y,ue,D)=>{let $,X;const{props:se,shapeFlag:Ie,transition:we,dirs:ae}=L;if($=L.el=a(L.type,Y,se&&se.is,se),Ie&8?c($,L.children):Ie&16&&M(L.children,$,null,J,he,b0(L,Y),ue,D),ae&&hs(L,null,J,"created"),R($,L,L.scopeId,ue,J),se){for(const Le in se)Le!=="value"&&!Qa(Le)&&s($,Le,null,se[Le],Y,L.children,J,he,Ee);"value"in se&&s($,"value",null,se.value,Y),(X=se.onVnodeBeforeMount)&&er(X,J,L)}ae&&hs(L,null,J,"beforeMount");const ce=Pk(he,we);ce&&we.beforeEnter($),i($,O,z),((X=se&&se.onVnodeMounted)||ce||ae)&&pi(()=>{X&&er(X,J,L),ce&&we.enter($),ae&&hs(L,null,J,"mounted")},he)},R=(L,O,z,J,he)=>{if(z&&g(L,z),J)for(let Y=0;Y<J.length;Y++)g(L,J[Y]);if(he){let Y=he.subTree;if(O===Y){const ue=he.vnode;R(L,ue,ue.scopeId,ue.slotScopeIds,he.parent)}}},M=(L,O,z,J,he,Y,ue,D,$=0)=>{for(let X=$;X<L.length;X++){const se=L[X]=D?Ga(L[X]):mr(L[X]);b(null,se,O,z,J,he,Y,ue,D)}},I=(L,O,z,J,he,Y,ue)=>{const D=O.el=L.el;let{patchFlag:$,dynamicChildren:X,dirs:se}=O;$|=L.patchFlag&16;const Ie=L.props||Bt,we=O.props||Bt;let ae;if(z&&Ho(z,!1),(ae=we.onVnodeBeforeUpdate)&&er(ae,z,O,L),se&&hs(O,L,z,"beforeUpdate"),z&&Ho(z,!0),X?B(L.dynamicChildren,X,D,z,J,b0(O,he),Y):ue||Q(L,O,D,null,z,J,b0(O,he),Y,!1),$>0){if($&16)U(D,O,Ie,we,z,J,he);else if($&2&&Ie.class!==we.class&&s(D,"class",null,we.class,he),$&4&&s(D,"style",Ie.style,we.style,he),$&8){const ce=O.dynamicProps;for(let Le=0;Le<ce.length;Le++){const je=ce[Le],Et=Ie[je],nn=we[je];(nn!==Et||je==="value")&&s(D,je,Et,nn,he,L.children,z,J,Ee)}}$&1&&L.children!==O.children&&c(D,O.children)}else!ue&&X==null&&U(D,O,Ie,we,z,J,he);((ae=we.onVnodeUpdated)||se)&&pi(()=>{ae&&er(ae,z,O,L),se&&hs(O,L,z,"updated")},J)},B=(L,O,z,J,he,Y,ue)=>{for(let D=0;D<O.length;D++){const $=L[D],X=O[D],se=$.el&&($.type===Je||!Yr($,X)||$.shapeFlag&70)?h($.el):z;b($,X,se,null,J,he,Y,ue,!0)}},U=(L,O,z,J,he,Y,ue)=>{if(z!==J){if(z!==Bt)for(const D in z)!Qa(D)&&!(D in J)&&s(L,D,z[D],null,ue,O.children,he,Y,Ee);for(const D in J){if(Qa(D))continue;const $=J[D],X=z[D];$!==X&&D!=="value"&&s(L,D,X,$,ue,O.children,he,Y,Ee)}"value"in J&&s(L,"value",z.value,J.value,ue)}},G=(L,O,z,J,he,Y,ue,D,$)=>{const X=O.el=L?L.el:o(""),se=O.anchor=L?L.anchor:o("");let{patchFlag:Ie,dynamicChildren:we,slotScopeIds:ae}=O;ae&&(D=D?D.concat(ae):ae),L==null?(i(X,z,J),i(se,z,J),M(O.children||[],z,se,he,Y,ue,D,$)):Ie>0&&Ie&64&&we&&L.dynamicChildren?(B(L.dynamicChildren,we,z,he,Y,ue,D),(O.key!=null||he&&O===he.subTree)&&fv(L,O,!0)):Q(L,O,z,se,he,Y,ue,D,$)},ie=(L,O,z,J,he,Y,ue,D,$)=>{O.slotScopeIds=D,L==null?O.shapeFlag&512?he.ctx.activate(O,z,J,ue,$):W(O,z,J,he,Y,ue,$):N(L,O,$)},W=(L,O,z,J,he,Y,ue)=>{const D=L.component=Wk(L,J,he);if(eh(L)&&(D.ctx.renderer=de),qk(D),D.asyncDep){if(he&&he.registerDep(D,j,ue),!L.el){const $=D.subTree=De(ni);E(null,$,O,z)}}else j(D,L,O,z,he,Y,ue)},N=(L,O,z)=>{const J=O.component=L.component;if(tN(L,O,z))if(J.asyncDep&&!J.asyncResolved){F(J,O,z);return}else J.next=O,qF(J.update),J.effect.dirty=!0,J.update();else O.el=L.el,J.vnode=O},j=(L,O,z,J,he,Y,ue)=>{const D=()=>{if(L.isMounted){let{next:se,bu:Ie,u:we,parent:ae,vnode:ce}=L;{const bn=Dk(L);if(bn){se&&(se.el=ce.el,F(L,se,ue)),bn.asyncDep.then(()=>{L.isUnmounted||D()});return}}let Le=se,je;Ho(L,!1),se?(se.el=ce.el,F(L,se,ue)):se=ce,Ie&&Iu(Ie),(je=se.props&&se.props.onVnodeBeforeUpdate)&&er(je,ae,se,ce),Ho(L,!0);const Et=Nf(L),nn=L.subTree;L.subTree=Et,b(nn,Et,h(nn.el),q(nn),L,he,Y),se.el=Et.el,Le===null&&Q_(L,Et.el),we&&pi(we,he),(je=se.props&&se.props.onVnodeUpdated)&&pi(()=>er(je,ae,se,ce),he)}else{let se;const{el:Ie,props:we}=O,{bm:ae,m:ce,parent:Le}=L,je=hl(O);if(Ho(L,!1),ae&&Iu(ae),!je&&(se=we&&we.onVnodeBeforeMount)&&er(se,Le,O),Ho(L,!0),Ie&&H){const Et=()=>{L.subTree=Nf(L),H(Ie,L.subTree,L,he,null)};je?O.type.__asyncLoader().then(()=>!L.isUnmounted&&Et()):Et()}else{const Et=L.subTree=Nf(L);b(null,Et,z,J,L,he,Y),O.el=Et.el}if(ce&&pi(ce,he),!je&&(se=we&&we.onVnodeMounted)){const Et=O;pi(()=>er(se,Le,Et),he)}(O.shapeFlag&256||Le&&hl(Le.vnode)&&Le.vnode.shapeFlag&256)&&L.a&&pi(L.a,he),L.isMounted=!0,O=z=J=null}},$=L.effect=new vl(D,si,()=>om(X),L.scope),X=L.update=()=>{$.dirty&&$.run()};X.id=L.uid,Ho(L,!0),X()},F=(L,O,z)=>{O.component=L;const J=L.vnode.props;L.vnode=O,L.next=null,_N(L,O.props,J,z),wN(L,O.children,z),vo(),AE(L),bo()},Q=(L,O,z,J,he,Y,ue,D,$=!1)=>{const X=L&&L.children,se=L?L.shapeFlag:0,Ie=O.children,{patchFlag:we,shapeFlag:ae}=O;if(we>0){if(we&128){ve(X,Ie,z,J,he,Y,ue,D,$);return}else if(we&256){_e(X,Ie,z,J,he,Y,ue,D,$);return}}ae&8?(se&16&&Ee(X,he,Y),Ie!==X&&c(z,Ie)):se&16?ae&16?ve(X,Ie,z,J,he,Y,ue,D,$):Ee(X,he,Y,!0):(se&8&&c(z,""),ae&16&&M(Ie,z,J,he,Y,ue,D,$))},_e=(L,O,z,J,he,Y,ue,D,$)=>{L=L||ku,O=O||ku;const X=L.length,se=O.length,Ie=Math.min(X,se);let we;for(we=0;we<Ie;we++){const ae=O[we]=$?Ga(O[we]):mr(O[we]);b(L[we],ae,z,null,he,Y,ue,D,$)}X>se?Ee(L,he,Y,!0,!1,Ie):M(O,z,J,he,Y,ue,D,$,Ie)},ve=(L,O,z,J,he,Y,ue,D,$)=>{let X=0;const se=O.length;let Ie=L.length-1,we=se-1;for(;X<=Ie&&X<=we;){const ae=L[X],ce=O[X]=$?Ga(O[X]):mr(O[X]);if(Yr(ae,ce))b(ae,ce,z,null,he,Y,ue,D,$);else break;X++}for(;X<=Ie&&X<=we;){const ae=L[Ie],ce=O[we]=$?Ga(O[we]):mr(O[we]);if(Yr(ae,ce))b(ae,ce,z,null,he,Y,ue,D,$);else break;Ie--,we--}if(X>Ie){if(X<=we){const ae=we+1,ce=ae<se?O[ae].el:J;for(;X<=we;)b(null,O[X]=$?Ga(O[X]):mr(O[X]),z,ce,he,Y,ue,D,$),X++}}else if(X>we)for(;X<=Ie;)K(L[X],he,Y,!0),X++;else{const ae=X,ce=X,Le=new Map;for(X=ce;X<=we;X++){const Kt=O[X]=$?Ga(O[X]):mr(O[X]);Kt.key!=null&&Le.set(Kt.key,X)}let je,Et=0;const nn=we-ce+1;let bn=!1,Wt=0;const Ei=new Array(nn);for(X=0;X<nn;X++)Ei[X]=0;for(X=ae;X<=Ie;X++){const Kt=L[X];if(Et>=nn){K(Kt,he,Y,!0);continue}let oe;if(Kt.key!=null)oe=Le.get(Kt.key);else for(je=ce;je<=we;je++)if(Ei[je-ce]===0&&Yr(Kt,O[je])){oe=je;break}oe===void 0?K(Kt,he,Y,!0):(Ei[oe-ce]=X+1,oe>=Wt?Wt=oe:bn=!0,b(Kt,O[oe],z,null,he,Y,ue,D,$),Et++)}const Ai=bn?CN(Ei):ku;for(je=Ai.length-1,X=nn-1;X>=0;X--){const Kt=ce+X,oe=O[Kt],Oe=Kt+1<se?O[Kt+1].el:J;Ei[X]===0?b(null,oe,z,Oe,he,Y,ue,D,$):bn&&(je<0||X!==Ai[je]?xe(oe,z,Oe,2):je--)}}},xe=(L,O,z,J,he=null)=>{const{el:Y,type:ue,transition:D,children:$,shapeFlag:X}=L;if(X&6){xe(L.component.subTree,O,z,J);return}if(X&128){L.suspense.move(O,z,J);return}if(X&64){ue.move(L,O,z,de);return}if(ue===Je){i(Y,O,z);for(let Ie=0;Ie<$.length;Ie++)xe($[Ie],O,z,J);i(L.anchor,O,z);return}if(ue===to){_(L,O,z);return}if(J!==2&&X&1&&D)if(J===0)D.beforeEnter(Y),i(Y,O,z),pi(()=>D.enter(Y),he);else{const{leave:Ie,delayLeave:we,afterLeave:ae}=D,ce=()=>i(Y,O,z),Le=()=>{Ie(Y,()=>{ce(),ae&&ae()})};we?we(Y,ce,Le):Le()}else i(Y,O,z)},K=(L,O,z,J=!1,he=!1)=>{const{type:Y,props:ue,ref:D,children:$,dynamicChildren:X,shapeFlag:se,patchFlag:Ie,dirs:we,memoIndex:ae}=L;if(D!=null&&np(D,null,z,L,!0),ae!=null&&(O.renderCache[ae]=void 0),se&256){O.ctx.deactivate(L);return}const ce=se&1&&we,Le=!hl(L);let je;if(Le&&(je=ue&&ue.onVnodeBeforeUnmount)&&er(je,O,L),se&6)re(L.component,z,J);else{if(se&128){L.suspense.unmount(z,J);return}ce&&hs(L,null,O,"beforeUnmount"),se&64?L.type.remove(L,O,z,he,de,J):X&&(Y!==Je||Ie>0&&Ie&64)?Ee(X,O,z,!1,!0):(Y===Je&&Ie&384||!he&&se&16)&&Ee($,O,z),J&&Z(L)}(Le&&(je=ue&&ue.onVnodeUnmounted)||ce)&&pi(()=>{je&&er(je,O,L),ce&&hs(L,null,O,"unmounted")},z)},Z=L=>{const{type:O,el:z,anchor:J,transition:he}=L;if(O===Je){P(z,J);return}if(O===to){x(L);return}const Y=()=>{r(z),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(L.shapeFlag&1&&he&&!he.persisted){const{leave:ue,delayLeave:D}=he,$=()=>ue(z,Y);D?D(L.el,Y,$):$()}else Y()},P=(L,O)=>{let z;for(;L!==O;)z=p(L),r(L),L=z;r(O)},re=(L,O,z)=>{const{bum:J,scope:he,update:Y,subTree:ue,um:D,m:$,a:X}=L;ip($),ip(X),J&&Iu(J),he.stop(),Y&&(Y.active=!1,K(ue,L,O,z)),D&&pi(D,O),pi(()=>{L.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},Ee=(L,O,z,J=!1,he=!1,Y=0)=>{for(let ue=Y;ue<L.length;ue++)K(L[ue],O,z,J,he)},q=L=>L.shapeFlag&6?q(L.component.subTree):L.shapeFlag&128?L.suspense.next():p(L.anchor||L.el);let ye=!1;const Ze=(L,O,z)=>{L==null?O._vnode&&K(O._vnode,null,null,!0):b(O._vnode||null,L,O,null,null,null,z),ye||(ye=!0,AE(),ep(),ye=!1),O._vnode=L},de={p:b,um:K,m:xe,r:Z,mt:W,mc:M,pc:Q,pbc:B,n:q,o:t};let qe,H;return e&&([qe,H]=e(de)),{render:Ze,hydrate:qe,createApp:gN(Ze,qe)}}function b0({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ho({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Pk(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function fv(t,e,n=!1){const i=t.children,r=e.children;if(We(i)&&We(r))for(let s=0;s<i.length;s++){const a=i[s];let o=r[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[s]=Ga(r[s]),o.el=a.el),!n&&o.patchFlag!==-2&&fv(a,o)),o.type===aa&&(o.el=a.el)}}function CN(t){const e=t.slice(),n=[0];let i,r,s,a,o;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(r=n[n.length-1],t[r]<u){e[i]=r,n.push(i);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function Dk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Dk(e)}function ip(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const pv=Symbol.for("v-scx"),mv=()=>fl(pv);function Lk(t,e){return Qd(t,null,e)}function gv(t,e){return Qd(t,null,{flush:"post"})}function yv(t,e){return Qd(t,null,{flush:"sync"})}const uf={};function xn(t,e,n){return Qd(t,e,n)}function Qd(t,e,{immediate:n,deep:i,flush:r,once:s,onTrack:a,onTrigger:o}=Bt){if(e&&s){const k=e;e=(...R)=>{k(...R),C()}}const l=ii,u=k=>i===!0?k:Ha(k,i===!1?1:void 0);let c,h=!1,p=!1;if(Yn(t)?(c=()=>t.value,h=Bu(t)):dl(t)?(c=()=>u(t),h=!0):We(t)?(p=!0,h=t.some(k=>dl(k)||Bu(k)),c=()=>t.map(k=>{if(Yn(k))return k.value;if(dl(k))return u(k);if(ut(k))return ws(k,l,2)})):ut(t)?e?c=()=>ws(t,l,2):c=()=>(g&&g(),or(t,l,3,[y])):c=si,e&&i){const k=c;c=()=>Ha(k())}let g,y=k=>{g=_.onStop=()=>{ws(k,l,4),g=_.onStop=void 0}},b;if(nh)if(y=si,e?n&&or(e,l,3,[c(),p?[]:void 0,y]):c(),r==="sync"){const k=mv();b=k.__watcherHandles||(k.__watcherHandles=[])}else return si;let T=p?new Array(t.length).fill(uf):uf;const E=()=>{if(!(!_.active||!_.dirty))if(e){const k=_.run();(i||h||(p?k.some((R,M)=>es(R,T[M])):es(k,T)))&&(g&&g(),or(e,l,3,[k,T===uf?void 0:p&&T[0]===uf?[]:T,y]),T=k)}else _.run()};E.allowRecurse=!!e;let w;r==="sync"?w=E:r==="post"?w=()=>pi(E,l&&l.suspense):(E.pre=!0,l&&(E.id=l.uid),w=()=>om(E));const _=new vl(c,si,w),x=Qp(),C=()=>{_.stop(),x&&B_(x.effects,_)};return e?n?E():T=_.run():r==="post"?pi(_.run.bind(_),l&&l.suspense):_.run(),b&&b.push(C),C}function SN(t,e,n){const i=this.proxy,r=xt(t)?t.includes(".")?Fk(i,t):()=>i[t]:t.bind(i,i);let s;ut(e)?s=e:(s=e.handler,n=e);const a=xl(this),o=Qd(r,s.bind(i),n);return a(),o}function Fk(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function Ha(t,e=1/0,n){if(e<=0||!tn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Yn(t))Ha(t.value,e,n);else if(We(t))for(let i=0;i<t.length;i++)Ha(t[i],e,n);else if(Ml(t)||Ru(t))t.forEach(i=>{Ha(i,e,n)});else if(yS(t)){for(const i in t)Ha(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Ha(t[i],e,n)}return t}const eh=t=>t.type.__isKeepAlive,kN={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=qi(),i=n.ctx;if(!i.renderer)return()=>{const w=e.default&&e.default();return w&&w.length===1?w[0]:w};const r=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=i,p=h("div");i.activate=(w,_,x,C,k)=>{const R=w.component;u(w,_,x,0,o),l(R.vnode,w,_,x,R,o,C,w.slotScopeIds,k),pi(()=>{R.isDeactivated=!1,R.a&&Iu(R.a);const M=w.props&&w.props.onVnodeMounted;M&&er(M,R.parent,w)},o)},i.deactivate=w=>{const _=w.component;ip(_.m),ip(_.a),u(w,p,null,1,o),pi(()=>{_.da&&Iu(_.da);const x=w.props&&w.props.onVnodeUnmounted;x&&er(x,_.parent,w),_.isDeactivated=!0},o)};function g(w){w0(w),c(w,n,o,!0)}function y(w){r.forEach((_,x)=>{const C=My(_.type);C&&(!w||!w(C))&&b(x)})}function b(w){const _=r.get(w);!a||!Yr(_,a)?g(_):a&&w0(a),r.delete(w),s.delete(w)}xn(()=>[t.include,t.exclude],([w,_])=>{w&&y(x=>Qc(w,x)),_&&y(x=>!Qc(_,x))},{flush:"post",deep:!0});let T=null;const E=()=>{T!=null&&(by(n.subTree.type)?pi(()=>{r.set(T,cf(n.subTree))},n.subTree.suspense):r.set(T,cf(n.subTree)))};return Cn(E),Zd(E),Jd(()=>{r.forEach(w=>{const{subTree:_,suspense:x}=n,C=cf(_);if(w.type===C.type&&w.key===C.key){w0(C);const k=C.component.da;k&&pi(k,x);return}g(w)})}),()=>{if(T=null,!e.default)return null;const w=e.default(),_=w[0];if(w.length>1)return a=null,w;if(!oa(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return a=null,_;let x=cf(_);const C=x.type,k=My(hl(x)?x.type.__asyncResolved||{}:C),{include:R,exclude:M,max:I}=t;if(R&&(!k||!Qc(R,k))||M&&k&&Qc(M,k))return a=x,_;const B=x.key==null?C:x.key,U=r.get(B);return x.el&&(x=ts(x),_.shapeFlag&128&&(_.ssContent=x)),T=B,U?(x.el=U.el,x.component=U.component,x.transition&&sa(x,x.transition),x.shapeFlag|=512,s.delete(B),s.add(B)):(s.add(B),I&&s.size>parseInt(I,10)&&b(s.values().next().value)),x.shapeFlag|=256,a=x,by(_.type)?_:x}}},Nk=kN;function Qc(t,e){return We(t)?t.some(n=>Qc(n,e)):xt(t)?t.split(",").includes(e):QL(t)?t.test(e):!1}function _v(t,e){$k(t,"a",e)}function vv(t,e){$k(t,"da",e)}function $k(t,e,n=ii){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(cm(e,i,n),n){let r=n.parent;for(;r&&r.parent;)eh(r.parent.vnode)&&RN(i,e,n,r),r=r.parent}}function RN(t,e,n,i){const r=cm(e,t,i,!0);Rs(()=>{B_(i[e],r)},n)}function w0(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function cf(t){return t.shapeFlag&128?t.ssContent:t}const Va=Symbol("_leaveCb"),df=Symbol("_enterCb");function fm(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Cn(()=>{t.isMounted=!0}),Jd(()=>{t.isUnmounting=!0}),t}const kr=[Function,Array],pm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kr,onEnter:kr,onAfterEnter:kr,onEnterCancelled:kr,onBeforeLeave:kr,onLeave:kr,onAfterLeave:kr,onLeaveCancelled:kr,onBeforeAppear:kr,onAppear:kr,onAfterAppear:kr,onAppearCancelled:kr},jk=t=>{const e=t.subTree;return e.component?jk(e.component):e},IN={name:"BaseTransition",props:pm,setup(t,{slots:e}){const n=qi(),i=fm();return()=>{const r=e.default&&th(e.default(),!0);if(!r||!r.length)return;let s=r[0];if(r.length>1){for(const p of r)if(p.type!==ni){s=p;break}}const a=Dt(t),{mode:o}=a;if(i.isLeaving)return E0(s);const l=GE(s);if(!l)return E0(s);let u=El(l,a,i,n,p=>u=p);sa(l,u);const c=n.subTree,h=c&&GE(c);if(h&&h.type!==ni&&!Yr(l,h)&&jk(n).type!==ni){const p=El(h,a,i,n);if(sa(h,p),o==="out-in"&&l.type!==ni)return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},E0(s);o==="in-out"&&l.type!==ni&&(p.delayLeave=(g,y,b)=>{const T=Bk(i,h);T[String(h.key)]=h,g[Va]=()=>{y(),g[Va]=void 0,delete u.delayedLeave},u.delayedLeave=b})}return s}}},bv=IN;function Bk(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function El(t,e,n,i,r){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:p,onLeave:g,onAfterLeave:y,onLeaveCancelled:b,onBeforeAppear:T,onAppear:E,onAfterAppear:w,onAppearCancelled:_}=e,x=String(t.key),C=Bk(n,t),k=(I,B)=>{I&&or(I,i,9,B)},R=(I,B)=>{const U=B[1];k(I,B),We(I)?I.every(G=>G.length<=1)&&U():I.length<=1&&U()},M={mode:a,persisted:o,beforeEnter(I){let B=l;if(!n.isMounted)if(s)B=T||l;else return;I[Va]&&I[Va](!0);const U=C[x];U&&Yr(t,U)&&U.el[Va]&&U.el[Va](),k(B,[I])},enter(I){let B=u,U=c,G=h;if(!n.isMounted)if(s)B=E||u,U=w||c,G=_||h;else return;let ie=!1;const W=I[df]=N=>{ie||(ie=!0,N?k(G,[I]):k(U,[I]),M.delayedLeave&&M.delayedLeave(),I[df]=void 0)};B?R(B,[I,W]):W()},leave(I,B){const U=String(t.key);if(I[df]&&I[df](!0),n.isUnmounting)return B();k(p,[I]);let G=!1;const ie=I[Va]=W=>{G||(G=!0,B(),W?k(b,[I]):k(y,[I]),I[Va]=void 0,C[U]===t&&delete C[U])};C[U]=t,g?R(g,[I,ie]):ie()},clone(I){const B=El(I,e,n,i,r);return r&&r(B),B}};return M}function E0(t){if(eh(t))return t=ts(t),t.children=null,t}function GE(t){if(!eh(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ut(n.default))return n.default()}}function sa(t,e){t.shapeFlag&6&&t.component?sa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function th(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Je?(a.patchFlag&128&&r++,i=i.concat(th(a.children,e,o))):(e||a.type!==ni)&&i.push(o!=null?ts(a,{key:o}):a)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}const AN=t=>t.__isTeleport,rd=t=>t&&(t.disabled||t.disabled===""),zE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,UE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ky=(t,e)=>{const n=t&&t.to;return xt(n)?e?e(n):null:n},ON={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,s,a,o,l,u){const{mc:c,pc:h,pbc:p,o:{insert:g,querySelector:y,createText:b,createComment:T}}=u,E=rd(e.props);let{shapeFlag:w,children:_,dynamicChildren:x}=e;if(t==null){const C=e.el=b(""),k=e.anchor=b("");g(C,n,i),g(k,n,i);const R=e.target=ky(e.props,y),M=e.targetAnchor=b("");R&&(g(M,R),a==="svg"||zE(R)?a="svg":(a==="mathml"||UE(R))&&(a="mathml"));const I=(B,U)=>{w&16&&c(_,B,U,r,s,a,o,l)};E?I(n,k):R&&I(R,M)}else{e.el=t.el;const C=e.anchor=t.anchor,k=e.target=t.target,R=e.targetAnchor=t.targetAnchor,M=rd(t.props),I=M?n:k,B=M?C:R;if(a==="svg"||zE(k)?a="svg":(a==="mathml"||UE(k))&&(a="mathml"),x?(p(t.dynamicChildren,x,I,r,s,a,o),fv(t,e,!0)):l||h(t,e,I,B,r,s,a,o,!1),E)M?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):hf(e,n,C,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=ky(e.props,y);U&&hf(e,U,null,u,0)}else M&&hf(e,k,R,u,1)}Vk(e)},remove(t,e,n,i,{um:r,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:c,target:h,props:p}=t;if(h&&s(c),a&&s(u),o&16){const g=a||!rd(p);for(let y=0;y<l.length;y++){const b=l[y];r(b,e,n,g,!!b.dynamicChildren)}}},move:hf,hydrate:MN};function hf(t,e,n,{o:{insert:i},m:r},s=2){s===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&i(a,e,n),(!h||rd(c))&&l&16)for(let p=0;p<u.length;p++)r(u[p],e,n,2);h&&i(o,e,n)}function MN(t,e,n,i,r,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const c=e.target=ky(e.props,l);if(c){const h=c._lpa||c.firstChild;if(e.shapeFlag&16)if(rd(e.props))e.anchor=u(a(t),e,o(t),n,i,r,s),e.targetAnchor=h;else{e.anchor=a(t);let p=h;for(;p;)if(p=a(p),p&&p.nodeType===8&&p.data==="teleport anchor"){e.targetAnchor=p,c._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(h,e,c,n,i,r,s)}Vk(e)}return e.anchor&&a(e.anchor)}const wv=ON;function Vk(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Je=Symbol.for("v-fgt"),aa=Symbol.for("v-txt"),ni=Symbol.for("v-cmt"),to=Symbol.for("v-stc"),sd=[];let rr=null;function ne(t=!1){sd.push(rr=t?null:[])}function Gk(){sd.pop(),rr=sd[sd.length-1]||null}let Tl=1;function rp(t){Tl+=t}function zk(t){return t.dynamicChildren=Tl>0?rr||ku:null,Gk(),Tl>0&&rr&&rr.push(t),t}function pe(t,e,n,i,r,s){return zk(Me(t,e,n,i,r,s,!0))}function tt(t,e,n,i,r){return zk(De(t,e,n,i,r,!0))}function oa(t){return t?t.__v_isVNode===!0:!1}function Yr(t,e){return t.type===e.type&&t.key===e.key}function Uk(t){}const Hk=({key:t})=>t??null,$f=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?xt(t)||Yn(t)||ut(t)?{i:ai,r:t,k:e,f:!!n}:t:null);function Me(t,e=null,n=null,i=0,r=null,s=t===Je?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Hk(e),ref:e&&$f(e),scopeId:um,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ai};return o?(Ev(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=xt(n)?8:16),Tl>0&&!a&&rr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&rr.push(l),l}const De=PN;function PN(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===nk)&&(t=ni),oa(t)){const o=ts(t,e,!0);return n&&Ev(o,n),Tl>0&&!s&&rr&&(o.shapeFlag&6?rr[rr.indexOf(t)]=o:rr.push(o)),o.patchFlag=-2,o}if($N(t)&&(t=t.__vccOpts),e){e=ki(e);let{class:o,style:l}=e;o&&!xt(o)&&(e.class=ct(o)),tn(l)&&(rm(l)&&!We(l)&&(l=Nt({},l)),e.style=Vn(l))}const a=xt(t)?1:by(t)?128:AN(t)?64:tn(t)?4:ut(t)?2:0;return Me(t,e,n,i,r,a,s,!0)}function ki(t){return t?rm(t)||Sk(t)?Nt({},t):t:null}function ts(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:a,children:o,transition:l}=t,u=e?Gn(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Hk(u),ref:e&&e.ref?n&&s?We(s)?s.concat($f(e)):[s,$f(e)]:$f(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Je?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ts(t.ssContent),ssFallback:t.ssFallback&&ts(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&sa(c,l.clone(c)),c}function cr(t=" ",e=0){return De(aa,null,t,e)}function Yk(t,e){const n=De(to,null,t);return n.staticCount=e,n}function ke(t="",e=!1){return e?(ne(),tt(ni,null,t)):De(ni,null,t)}function mr(t){return t==null||typeof t=="boolean"?De(ni):We(t)?De(Je,null,t.slice()):typeof t=="object"?Ga(t):De(aa,null,String(t))}function Ga(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ts(t)}function Ev(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(We(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),Ev(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Sk(e)?e._ctx=ai:r===3&&ai&&(ai.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:ai},n=32):(e=String(e),i&64?(n=16,e=[cr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Gn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=ct([e.class,i.class]));else if(r==="style")e.style=Vn([e.style,i.style]);else if(Ol(r)){const s=e[r],a=i[r];a&&s!==a&&!(We(s)&&s.includes(a))&&(e[r]=s?[].concat(s,a):a)}else r!==""&&(e[r]=i[r])}return e}function er(t,e,n,i=null){or(t,e,7,[n,i])}const DN=Ek();let LN=0;function Wk(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||DN,s={uid:LN++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rk(i,r),emitsOptions:ek(i,r),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:i.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=ZF.bind(null,s),t.ce&&t.ce(s),s}let ii=null;const qi=()=>ii||ai;let sp,Ry;{const t=vS(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(a=>a(s)):r[0](s)}};sp=e("__VUE_INSTANCE_SETTERS__",n=>ii=n),Ry=e("__VUE_SSR_SETTERS__",n=>nh=n)}const xl=t=>{const e=ii;return sp(t),t.scope.on(),()=>{t.scope.off(),sp(e)}},Iy=()=>{ii&&ii.scope.off(),sp(null)};function Kk(t){return t.vnode.shapeFlag&4}let nh=!1;function qk(t,e=!1){e&&Ry(e);const{props:n,children:i}=t.vnode,r=Kk(t);yN(t,n,r,e),bN(t,i);const s=r?FN(t,e):void 0;return e&&Ry(!1),s}function FN(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ty);const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?Jk(t):null,s=xl(t);vo();const a=ws(i,t,0,[t.props,r]);if(bo(),s(),V_(a)){if(a.then(Iy,Iy),e)return a.then(o=>{Ay(t,o,e)}).catch(o=>{wo(o,t,0)});t.asyncDep=a}else Ay(t,a,e)}else Zk(t,e)}function Ay(t,e,n){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:tn(e)&&(t.setupState=am(e)),Zk(t,n)}let ap,Oy;function Tv(t){ap=t,Oy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,uN))}}const Xk=()=>!ap;function Zk(t,e,n){const i=t.type;if(!t.render){if(!e&&ap&&!i.render){const r=i.template||lv(t).template;if(r){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,u=Nt(Nt({isCustomElement:s,delimiters:o},a),l);i.render=ap(r,u)}}t.render=i.render||si,Oy&&Oy(t)}{const r=xl(t);vo();try{cN(t)}finally{bo(),r()}}}const NN={get(t,e){return ur(t,"get",""),t[e]}};function Jk(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,NN),slots:t.slots,emit:t.emit,expose:e}}function ih(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(am(K_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in id)return id[n](t)},has(e,n){return n in e||n in id}})):t.proxy}function My(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function $N(t){return ut(t)&&"__vccOpts"in t}const Se=(t,e)=>BF(t,e,nh);function Qk(t,e,n=Bt){const i=qi(),r=_n(e),s=_r(e),a=Z_((l,u)=>{let c;return yv(()=>{const h=t[e];es(c,h)&&(c=h,u())}),{get(){return l(),n.get?n.get(c):c},set(h){const p=i.vnode.props;!(p&&(e in p||r in p||s in p)&&(`onUpdate:${e}`in p||`onUpdate:${r}`in p||`onUpdate:${s}`in p))&&es(h,c)&&(c=h,u()),i.emit(`update:${e}`,n.set?n.set(h):h)}}}),o=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[o]||{}:a,done:!1}:{done:!0}}}},a}function uc(t,e,n){const i=arguments.length;return i===2?tn(e)&&!We(e)?oa(e)?De(t,null,[e]):De(t,e):De(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&oa(n)&&(n=[n]),De(t,e,n))}function eR(){}function tR(t,e,n,i){const r=n[i];if(r&&xv(r,t))return r;const s=e();return s.memo=t.slice(),s.memoIndex=i,n[i]=s}function xv(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(es(n[i],e[i]))return!1;return Tl>0&&rr&&rr.push(t),!0}const Cv="3.4.29",nR=si,iR=YF,rR=mu,sR=QS,jN={createComponentInstance:Wk,setupComponent:qk,renderComponentRoot:Nf,setCurrentRenderingInstance:yd,isVNode:oa,normalizeVNode:mr,getComponentPublicInstance:ih},aR=jN,oR=null,lR=null,uR=null;/**
* @vue/runtime-dom v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const BN="http://www.w3.org/2000/svg",VN="http://www.w3.org/1998/Math/MathML",Ys=typeof document<"u"?document:null,HE=Ys&&Ys.createElement("template"),GN={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Ys.createElementNS(BN,t):e==="mathml"?Ys.createElementNS(VN,t):n?Ys.createElement(t,{is:n}):Ys.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Ys.createTextNode(t),createComment:t=>Ys.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ys.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const a=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{HE.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const o=HE.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ra="transition",$c="animation",Vu=Symbol("_vtc"),Is=(t,{slots:e})=>uc(bv,dR(t),e);Is.displayName="Transition";const cR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zN=Is.props=Nt({},pm,cR),Yo=(t,e=[])=>{We(t)?t.forEach(n=>n(...e)):t&&t(...e)},YE=t=>t?We(t)?t.some(e=>e.length>1):t.length>1:!1;function dR(t){const e={};for(const G in t)G in cR||(e[G]=t[G]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,y=UN(r),b=y&&y[0],T=y&&y[1],{onBeforeEnter:E,onEnter:w,onEnterCancelled:_,onLeave:x,onLeaveCancelled:C,onBeforeAppear:k=E,onAppear:R=w,onAppearCancelled:M=_}=e,I=(G,ie,W)=>{$a(G,ie?c:o),$a(G,ie?u:a),W&&W()},B=(G,ie)=>{G._isLeaving=!1,$a(G,h),$a(G,g),$a(G,p),ie&&ie()},U=G=>(ie,W)=>{const N=G?R:w,j=()=>I(ie,G,W);Yo(N,[ie,j]),WE(()=>{$a(ie,G?l:s),Gs(ie,G?c:o),YE(N)||KE(ie,i,b,j)})};return Nt(e,{onBeforeEnter(G){Yo(E,[G]),Gs(G,s),Gs(G,a)},onBeforeAppear(G){Yo(k,[G]),Gs(G,l),Gs(G,u)},onEnter:U(!1),onAppear:U(!0),onLeave(G,ie){G._isLeaving=!0;const W=()=>B(G,ie);Gs(G,h),Gs(G,p),fR(),WE(()=>{G._isLeaving&&($a(G,h),Gs(G,g),YE(x)||KE(G,i,T,W))}),Yo(x,[G,W])},onEnterCancelled(G){I(G,!1),Yo(_,[G])},onAppearCancelled(G){I(G,!0),Yo(M,[G])},onLeaveCancelled(G){B(G),Yo(C,[G])}})}function UN(t){if(t==null)return null;if(tn(t))return[T0(t.enter),T0(t.leave)];{const e=T0(t);return[e,e]}}function T0(t){return Jf(t)}function Gs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vu]||(t[Vu]=new Set)).add(e)}function $a(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Vu];n&&(n.delete(e),n.size||(t[Vu]=void 0))}function WE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let HN=0;function KE(t,e,n,i){const r=t._endId=++HN,s=()=>{r===t._endId&&i()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=hR(t,e);if(!a)return i();const u=a+"end";let c=0;const h=()=>{t.removeEventListener(u,p),s()},p=g=>{g.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},o+1),t.addEventListener(u,p)}function hR(t,e){const n=window.getComputedStyle(t),i=y=>(n[y]||"").split(", "),r=i(`${Ra}Delay`),s=i(`${Ra}Duration`),a=qE(r,s),o=i(`${$c}Delay`),l=i(`${$c}Duration`),u=qE(o,l);let c=null,h=0,p=0;e===Ra?a>0&&(c=Ra,h=a,p=s.length):e===$c?u>0&&(c=$c,h=u,p=l.length):(h=Math.max(a,u),c=h>0?a>u?Ra:$c:null,p=c?c===Ra?s.length:l.length:0);const g=c===Ra&&/\b(transform|all)(,|$)/.test(i(`${Ra}Property`).toString());return{type:c,timeout:h,propCount:p,hasTransform:g}}function qE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>XE(n)+XE(t[i])))}function XE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function fR(){return document.body.offsetHeight}function YN(t,e,n){const i=t[Vu];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const op=Symbol("_vod"),pR=Symbol("_vsh"),li={beforeMount(t,{value:e},{transition:n}){t[op]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):jc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),jc(t,!0),i.enter(t)):i.leave(t,()=>{jc(t,!1)}):jc(t,e))},beforeUnmount(t,{value:e}){jc(t,e)}};function jc(t,e){t.style.display=e?t[op]:"none",t[pR]=!e}function WN(){li.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const mR=Symbol("");function gR(t){const e=qi();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Dy(s,r))},i=()=>{const r=t(e.proxy);Py(e.subTree,r),n(r)};Cn(()=>{gv(i);const r=new MutationObserver(i);r.observe(e.subTree.el.parentNode,{childList:!0}),Rs(()=>r.disconnect())})}function Py(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Py(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Dy(t.el,e);else if(t.type===Je)t.children.forEach(n=>Py(n,e));else if(t.type===to){let{el:n,anchor:i}=t;for(;n&&(Dy(n,e),n!==i);)n=n.nextSibling}}function Dy(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const r in e)n.setProperty(`--${r}`,e[r]),i+=`--${r}: ${e[r]};`;n[mR]=i}}const KN=/(^|;)\s*display\s*:/;function qN(t,e,n){const i=t.style,r=xt(n);let s=!1;if(n&&!r){if(e)if(xt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&jf(i,o,"")}else for(const a in e)n[a]==null&&jf(i,a,"");for(const a in n)a==="display"&&(s=!0),jf(i,a,n[a])}else if(r){if(e!==n){const a=i[mR];a&&(n+=";"+a),i.cssText=n,s=KN.test(n)}}else e&&t.removeAttribute("style");op in t&&(t[op]=s?i.display:"",t[pR]&&(i.display="none"))}const ZE=/\s*!important$/;function jf(t,e,n){if(We(n))n.forEach(i=>jf(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=XN(t,e);ZE.test(n)?t.setProperty(_r(i),n.replace(ZE,""),"important"):t[i]=n}}const JE=["Webkit","Moz","ms"],x0={};function XN(t,e){const n=x0[e];if(n)return n;let i=_n(e);if(i!=="filter"&&i in t)return x0[e]=i;i=_o(i);for(let r=0;r<JE.length;r++){const s=JE[r]+i;if(s in t)return x0[e]=s}return e}const QE="http://www.w3.org/1999/xlink";function eT(t,e,n,i,r,s=_F(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(QE,e.slice(6,e.length)):t.setAttributeNS(QE,e,n):n==null||s&&!wS(n)?t.removeAttribute(e):t.setAttribute(e,s?"":String(n))}function ZN(t,e,n,i,r,s,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,r,s),t[e]=n??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?"":String(n);(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=wS(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Zs(t,e,n,i){t.addEventListener(e,n,i)}function JN(t,e,n,i){t.removeEventListener(e,n,i)}const tT=Symbol("_vei");function QN(t,e,n,i,r=null){const s=t[tT]||(t[tT]={}),a=s[e];if(i&&a)a.value=i;else{const[o,l]=e3(e);if(i){const u=s[e]=i3(i,r);Zs(t,o,u,l)}else a&&(JN(t,o,a,l),s[e]=void 0)}}const nT=/(?:Once|Passive|Capture)$/;function e3(t){let e;if(nT.test(t)){e={};let i;for(;i=t.match(nT);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_r(t.slice(2)),e]}let C0=0;const t3=Promise.resolve(),n3=()=>C0||(t3.then(()=>C0=0),C0=Date.now());function i3(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;or(r3(i,n.value),e,5,[i])};return n.value=t,n.attached=n3(),n}function r3(t,e){if(We(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const iT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,s3=(t,e,n,i,r,s,a,o,l)=>{const u=r==="svg";e==="class"?YN(t,i,u):e==="style"?qN(t,n,i):Ol(e)?j_(e)||QN(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):a3(t,e,i,u))?(ZN(t,e,i,s,a,o,l),(e==="value"||e==="checked"||e==="selected")&&eT(t,e,i,u,a,e!=="value")):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),eT(t,e,i,u))};function a3(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&iT(e)&&ut(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return iT(e)&&xt(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function Sv(t,e,n){const i=vn(t,e);class r extends rh{constructor(a){super(i,a,n)}}return r.def=i,r}/*! #__NO_SIDE_EFFECTS__ */const yR=(t,e)=>Sv(t,e,Iv),o3=typeof HTMLElement<"u"?HTMLElement:class{};class rh extends o3{constructor(e,n={},i){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,bi(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),zu(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const r of i)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,r=!1)=>{const{props:s,styles:a}=i;let o;if(s&&!We(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Jf(this._props[l])),(o||(o=Object.create(null)))[_n(l)]=!0)}this._numberProps=o,r&&this._resolveProps(i),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(i=>e(i,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,i=We(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&i.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of i.map(_n))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(s){this._setProp(r,s)}})}_setAttr(e){let n=this.hasAttribute(e)?this.getAttribute(e):void 0;const i=_n(e);this._numberProps&&this._numberProps[i]&&(n=Jf(n)),this._setProp(i,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,i=!0,r=!0){n!==this._props[e]&&(this._props[e]=n,r&&this._instance&&this._update(),i&&(n===!0?this.setAttribute(_r(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(_r(e),n+""):n||this.removeAttribute(_r(e))))}_update(){zu(this._createVNode(),this.shadowRoot)}_createVNode(){const e=De(this._def,Nt({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const i=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};n.emit=(s,...a)=>{i(s,a),_r(s)!==s&&i(_r(s),a)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof rh){n.parent=r._instance,n.provides=r._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const i=document.createElement("style");i.textContent=n,this.shadowRoot.appendChild(i)})}}function _R(t="$style"){{const e=qi();if(!e)return Bt;const n=e.type.__cssModules;if(!n)return Bt;const i=n[t];return i||Bt}}const vR=new WeakMap,bR=new WeakMap,lp=Symbol("_moveCb"),rT=Symbol("_enterCb"),wR={name:"TransitionGroup",props:Nt({},zN,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=qi(),i=fm();let r,s;return Zd(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!h3(r[0].el,n.vnode.el,a))return;r.forEach(u3),r.forEach(c3);const o=r.filter(d3);fR(),o.forEach(l=>{const u=l.el,c=u.style;Gs(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[lp]=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",h),u[lp]=null,$a(u,a))};u.addEventListener("transitionend",h)})}),()=>{const a=Dt(t),o=dR(a);let l=a.tag||Je;if(r=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(r.push(c),sa(c,El(c,o,i,n)),vR.set(c,c.el.getBoundingClientRect()))}s=e.default?th(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&sa(c,El(c,o,i,n))}return De(l,null,s)}}},l3=t=>delete t.mode;wR.props;const ER=wR;function u3(t){const e=t.el;e[lp]&&e[lp](),e[rT]&&e[rT]()}function c3(t){bR.set(t,t.el.getBoundingClientRect())}function d3(t){const e=vR.get(t),n=bR.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",t}}function h3(t,e,n){const i=t.cloneNode(),r=t[Vu];r&&r.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:a}=hR(i);return s.removeChild(i),a}const co=t=>{const e=t.props["onUpdate:modelValue"]||!1;return We(e)?n=>Iu(e,n):e};function f3(t){t.target.composing=!0}function sT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Pr=Symbol("_assign"),bd={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[Pr]=co(r);const s=i||r.props&&r.props.type==="number";Zs(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=Zf(o)),t[Pr](o)}),n&&Zs(t,"change",()=>{t.value=t.value.trim()}),e||(Zs(t,"compositionstart",f3),Zs(t,"compositionend",sT),Zs(t,"change",sT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},a){if(t[Pr]=co(a),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?Zf(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},mm={deep:!0,created(t,e,n){t[Pr]=co(n),Zs(t,"change",()=>{const i=t._modelValue,r=Gu(t),s=t.checked,a=t[Pr];if(We(i)){const o=Xp(i,r),l=o!==-1;if(s&&!l)a(i.concat(r));else if(!s&&l){const u=[...i];u.splice(o,1),a(u)}}else if(Ml(i)){const o=new Set(i);s?o.add(r):o.delete(r),a(o)}else a(TR(t,s))})},mounted:aT,beforeUpdate(t,e,n){t[Pr]=co(n),aT(t,e,n)}};function aT(t,{value:e,oldValue:n},i){t._modelValue=e,We(e)?t.checked=Xp(e,i.props.value)>-1:Ml(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=uo(e,TR(t,!0)))}const gm={created(t,{value:e},n){t.checked=uo(e,n.props.value),t[Pr]=co(n),Zs(t,"change",()=>{t[Pr](Gu(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[Pr]=co(i),e!==n&&(t.checked=uo(e,i.props.value))}},kv={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=Ml(e);Zs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?Zf(Gu(a)):Gu(a));t[Pr](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,bi(()=>{t._assigning=!1})}),t[Pr]=co(i)},mounted(t,{value:e,modifiers:{number:n}}){oT(t,e)},beforeUpdate(t,e,n){t[Pr]=co(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||oT(t,e)}};function oT(t,e,n){const i=t.multiple,r=We(e);if(!(i&&!r&&!Ml(e))){for(let s=0,a=t.options.length;s<a;s++){const o=t.options[s],l=Gu(o);if(i)if(r){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(c=>String(c)===String(l)):o.selected=Xp(e,l)>-1}else o.selected=e.has(l);else if(uo(Gu(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Gu(t){return"_value"in t?t._value:t.value}function TR(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Rv={created(t,e,n){ff(t,e,n,null,"created")},mounted(t,e,n){ff(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){ff(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){ff(t,e,n,i,"updated")}};function xR(t,e){switch(t){case"SELECT":return kv;case"TEXTAREA":return bd;default:switch(e){case"checkbox":return mm;case"radio":return gm;default:return bd}}}function ff(t,e,n,i,r){const a=xR(t.tagName,n.props&&n.props.type)[r];a&&a(t,e,n,i)}function p3(){bd.getSSRProps=({value:t})=>({value:t}),gm.getSSRProps=({value:t},e)=>{if(e.props&&uo(e.props.value,t))return{checked:!0}},mm.getSSRProps=({value:t},e)=>{if(We(t)){if(e.props&&Xp(t,e.props.value)>-1)return{checked:!0}}else if(Ml(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Rv.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=xR(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const m3=["ctrl","shift","alt","meta"],g3={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>m3.some(n=>t[`${n}Key`]&&!e.includes(n))},Cl=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...s)=>{for(let a=0;a<e.length;a++){const o=g3[e[a]];if(o&&o(r,e))return}return t(r,...s)})},y3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ym=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=_r(r.key);if(e.some(a=>a===s||y3[a]===s))return t(r)})},CR=Nt({patchProp:s3},GN);let ad,lT=!1;function SR(){return ad||(ad=dv(CR))}function kR(){return ad=lT?ad:hv(CR),lT=!0,ad}const zu=(...t)=>{SR().render(...t)},Iv=(...t)=>{kR().hydrate(...t)},Av=(...t)=>{const e=SR().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=AR(i);if(!r)return;const s=e._component;!ut(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,IR(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e},RR=(...t)=>{const e=kR().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=AR(i);if(r)return n(r,!0,IR(r))},e};function IR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function AR(t){return xt(t)?document.querySelector(t):t}let uT=!1;const OR=()=>{uT||(uT=!0,p3(),WN())},_3=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:bv,BaseTransitionPropsValidators:pm,Comment:ni,DeprecationTypes:uR,EffectScope:Zp,ErrorCodes:qS,ErrorTypeStrings:iR,Fragment:Je,KeepAlive:Nk,ReactiveEffect:vl,Static:to,Suspense:ik,Teleport:wv,Text:aa,TrackOpTypes:YS,Transition:Is,TransitionGroup:ER,TriggerOpTypes:WS,VueElement:rh,assertNumber:KS,callWithAsyncErrorHandling:or,callWithErrorHandling:ws,camelize:_n,capitalize:_o,cloneVNode:ts,compatUtils:lR,computed:Se,createApp:Av,createBlock:tt,createCommentVNode:ke,createElementBlock:pe,createElementVNode:Me,createHydrationRenderer:hv,createPropsRestProxy:vk,createRenderer:dv,createSSRApp:RR,createSlots:_i,createStaticVNode:Yk,createTextVNode:cr,createVNode:De,customRef:Z_,defineAsyncComponent:sk,defineComponent:vn,defineCustomElement:Sv,defineEmits:uk,defineExpose:ck,defineModel:fk,defineOptions:dk,defineProps:lk,defineSSRCustomElement:yR,defineSlots:hk,devtools:rR,effect:CS,effectScope:Jp,getCurrentInstance:qi,getCurrentScope:Qp,getTransitionRawChildren:th,guardReactiveProps:ki,h:uc,handleError:wo,hasInjectionContext:Tk,hydrate:Iv,initCustomFormatter:eR,initDirectivesForSSR:OR,inject:fl,isMemoSame:xv,isProxy:rm,isReactive:dl,isReadonly:bl,isRef:Yn,isRuntimeOnly:Xk,isShallow:Bu,isVNode:oa,markRaw:K_,mergeDefaults:yk,mergeModels:_k,mergeProps:Gn,nextTick:bi,normalizeClass:ct,normalizeProps:qn,normalizeStyle:Vn,onActivated:_v,onBeforeMount:dm,onBeforeUnmount:Jd,onBeforeUpdate:hm,onDeactivated:vv,onErrorCaptured:ov,onMounted:Cn,onRenderTracked:av,onRenderTriggered:sv,onScopeDispose:z_,onServerPrefetch:rv,onUnmounted:Rs,onUpdated:Zd,openBlock:ne,popScopeId:Xd,provide:uv,proxyRefs:am,pushScopeId:qd,queuePostFlushCb:md,reactive:Nr,readonly:nm,ref:Ae,registerRuntimeCompiler:Tv,render:zu,renderList:Ht,renderSlot:Ue,resolveComponent:ze,resolveDirective:tv,resolveDynamicComponent:lc,resolveFilter:oR,resolveTransitionHooks:El,setBlockTracking:rp,setDevtoolsHook:sR,setTransitionHooks:sa,shallowReactive:W_,shallowReadonly:jS,shallowRef:sm,ssrContextKey:pv,ssrUtils:aR,stop:SS,toDisplayString:bt,toHandlerKey:ll,toHandlers:ok,toRaw:Dt,toRef:wl,toRefs:US,toValue:zS,transformVNodeArgs:Uk,triggerRef:GS,unref:te,useAttrs:mk,useCssModule:_R,useCssVars:gR,useModel:Qk,useSSRContext:mv,useSlots:ha,useTransitionState:fm,vModelCheckbox:mm,vModelDynamic:Rv,vModelRadio:gm,vModelSelect:kv,vModelText:bd,vShow:li,version:Cv,warn:nR,watch:xn,watchEffect:Lk,watchPostEffect:gv,watchSyncEffect:yv,withAsyncContext:bk,withCtx:pt,withDefaults:pk,withDirectives:oi,withKeys:ym,withMemo:tR,withModifiers:Cl,withScopeId:tk},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const wd=Symbol(""),od=Symbol(""),Ov=Symbol(""),up=Symbol(""),MR=Symbol(""),Sl=Symbol(""),PR=Symbol(""),DR=Symbol(""),Mv=Symbol(""),Pv=Symbol(""),sh=Symbol(""),Dv=Symbol(""),LR=Symbol(""),Lv=Symbol(""),Fv=Symbol(""),Nv=Symbol(""),$v=Symbol(""),jv=Symbol(""),Bv=Symbol(""),FR=Symbol(""),NR=Symbol(""),_m=Symbol(""),cp=Symbol(""),Vv=Symbol(""),Gv=Symbol(""),Ed=Symbol(""),ah=Symbol(""),zv=Symbol(""),Ly=Symbol(""),v3=Symbol(""),Fy=Symbol(""),dp=Symbol(""),b3=Symbol(""),w3=Symbol(""),Uv=Symbol(""),E3=Symbol(""),T3=Symbol(""),Hv=Symbol(""),$R=Symbol(""),Uu={[wd]:"Fragment",[od]:"Teleport",[Ov]:"Suspense",[up]:"KeepAlive",[MR]:"BaseTransition",[Sl]:"openBlock",[PR]:"createBlock",[DR]:"createElementBlock",[Mv]:"createVNode",[Pv]:"createElementVNode",[sh]:"createCommentVNode",[Dv]:"createTextVNode",[LR]:"createStaticVNode",[Lv]:"resolveComponent",[Fv]:"resolveDynamicComponent",[Nv]:"resolveDirective",[$v]:"resolveFilter",[jv]:"withDirectives",[Bv]:"renderList",[FR]:"renderSlot",[NR]:"createSlots",[_m]:"toDisplayString",[cp]:"mergeProps",[Vv]:"normalizeClass",[Gv]:"normalizeStyle",[Ed]:"normalizeProps",[ah]:"guardReactiveProps",[zv]:"toHandlers",[Ly]:"camelize",[v3]:"capitalize",[Fy]:"toHandlerKey",[dp]:"setBlockTracking",[b3]:"pushScopeId",[w3]:"popScopeId",[Uv]:"withCtx",[E3]:"unref",[T3]:"isRef",[Hv]:"withMemo",[$R]:"isMemoSame"};function x3(t){Object.getOwnPropertySymbols(t).forEach(e=>{Uu[e]=t[e]})}const xr={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function C3(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:xr}}function Td(t,e,n,i,r,s,a,o=!1,l=!1,u=!1,c=xr){return t&&(o?(t.helper(Sl),t.helper(Wu(t.inSSR,u))):t.helper(Yu(t.inSSR,u)),a&&t.helper(jv)),{type:13,tag:e,props:n,children:i,patchFlag:r,dynamicProps:s,directives:a,isBlock:o,disableTracking:l,isComponent:u,loc:c}}function oh(t,e=xr){return{type:17,loc:e,elements:t}}function Ar(t,e=xr){return{type:15,loc:e,properties:t}}function zn(t,e){return{type:16,loc:xr,key:xt(t)?St(t,!0):t,value:e}}function St(t,e=!1,n=xr,i=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:i}}function Zr(t,e=xr){return{type:8,loc:e,children:t}}function ei(t,e=[],n=xr){return{type:14,loc:n,callee:t,arguments:e}}function Hu(t,e=void 0,n=!1,i=!1,r=xr){return{type:18,params:t,returns:e,newline:n,isSlot:i,loc:r}}function Ny(t,e,n,i=!0){return{type:19,test:t,consequent:e,alternate:n,newline:i,loc:xr}}function S3(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:xr}}function k3(t){return{type:21,body:t,loc:xr}}function Yu(t,e){return t||e?Mv:Pv}function Wu(t,e){return t||e?PR:DR}function Yv(t,{helper:e,removeHelper:n,inSSR:i}){t.isBlock||(t.isBlock=!0,n(Yu(i,t.isComponent)),e(Sl),e(Wu(i,t.isComponent)))}const cT=new Uint8Array([123,123]),dT=new Uint8Array([125,125]);function hT(t){return t>=97&&t<=122||t>=65&&t<=90}function pr(t){return t===32||t===10||t===9||t===12||t===13}function Ia(t){return t===47||t===62||pr(t)}function hp(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const Di={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class R3{constructor(e,n){this.stack=e,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=cT,this.delimiterClose=dT,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=cT,this.delimiterClose=dT}getPos(e){let n=1,i=e+1;for(let r=this.newlines.length-1;r>=0;r--){const s=this.newlines[r];if(e>s){n=r+2,i=e-s;break}}return{column:i,line:n,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Ia(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||pr(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const i=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=i}this.sectionStart=n+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Di.TitleEnd||this.currentSequence===Di.TextareaEnd&&!this.inSFCRoot?e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===Di.Cdata[this.sequenceIndex]?++this.sequenceIndex===Di.Cdata.length&&(this.state=28,this.currentSequence=Di.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Di.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,n){this.enterRCDATA(e,n),this.state=31}enterRCDATA(e,n){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=n}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):hT(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Ia(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Ia(e)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(hp("</"+n),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){pr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=hT(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||pr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):pr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):pr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Ia(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Ia(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Ia(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Ia(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Ia(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):pr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):pr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,n){(e===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){pr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=Di.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===Di.ScriptEnd[3]?this.startSpecial(Di.ScriptEnd,4):e===Di.StyleEnd[3]?this.startSpecial(Di.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===Di.TitleEnd[3]?this.startSpecial(Di.TitleEnd,4):e===Di.TextareaEnd[3]?this.startSpecial(Di.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===Di.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){}}function fT(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function pl(t,e){const n=fT("MODE",e),i=fT(t,e);return n===3?i===!0:i!==!1}function xd(t,e,n,...i){return pl(t,e)}function Wv(t){throw t}function jR(t){}function yn(t,e,n,i){const r=`https://vuejs.org/error-reference/#compiler-${t}`,s=new SyntaxError(String(r));return s.code=t,s.loc=e,s}const sr=t=>t.type===4&&t.isStatic;function BR(t){switch(t){case"Teleport":case"teleport":return od;case"Suspense":case"suspense":return Ov;case"KeepAlive":case"keep-alive":return up;case"BaseTransition":case"base-transition":return MR}}const I3=/^\d|[^\$\w\xA0-\uFFFF]/,Kv=t=>!I3.test(t),A3=/[A-Za-z_$\xA0-\uFFFF]/,O3=/[\.\?\w$\xA0-\uFFFF]/,M3=/\s+[.[]\s*|\s*[.[]\s+/g,P3=t=>{t=t.trim().replace(M3,a=>a.trim());let e=0,n=[],i=0,r=0,s=null;for(let a=0;a<t.length;a++){const o=t.charAt(a);switch(e){case 0:if(o==="[")n.push(e),e=1,i++;else if(o==="(")n.push(e),e=2,r++;else if(!(a===0?A3:O3).test(o))return!1;break;case 1:o==="'"||o==='"'||o==="`"?(n.push(e),e=3,s=o):o==="["?i++:o==="]"&&(--i||(e=n.pop()));break;case 2:if(o==="'"||o==='"'||o==="`")n.push(e),e=3,s=o;else if(o==="(")r++;else if(o===")"){if(a===t.length-1)return!1;--r||(e=n.pop())}break;case 3:o===s&&(e=n.pop(),s=null);break}}return!i&&!r},VR=P3;function Hr(t,e,n=!1){for(let i=0;i<t.props.length;i++){const r=t.props[i];if(r.type===7&&(n||r.exp)&&(xt(e)?r.name===e:e.test(r.name)))return r}}function vm(t,e,n=!1,i=!1){for(let r=0;r<t.props.length;r++){const s=t.props[r];if(s.type===6){if(n)continue;if(s.name===e&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&tl(s.arg,e))return s}}function tl(t,e){return!!(t&&sr(t)&&t.content===e)}function D3(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function S0(t){return t.type===5||t.type===2}function L3(t){return t.type===7&&t.name==="slot"}function fp(t){return t.type===1&&t.tagType===3}function pp(t){return t.type===1&&t.tagType===2}const F3=new Set([Ed,ah]);function GR(t,e=[]){if(t&&!xt(t)&&t.type===14){const n=t.callee;if(!xt(n)&&F3.has(n))return GR(t.arguments[0],e.concat(t))}return[t,e]}function mp(t,e,n){let i,r=t.type===13?t.props:t.arguments[2],s=[],a;if(r&&!xt(r)&&r.type===14){const o=GR(r);r=o[0],s=o[1],a=s[s.length-1]}if(r==null||xt(r))i=Ar([e]);else if(r.type===14){const o=r.arguments[0];!xt(o)&&o.type===15?pT(e,o)||o.properties.unshift(e):r.callee===zv?i=ei(n.helper(cp),[Ar([e]),r]):r.arguments.unshift(Ar([e])),!i&&(i=r)}else r.type===15?(pT(e,r)||r.properties.unshift(e),i=r):(i=ei(n.helper(cp),[Ar([e]),r]),a&&a.callee===ah&&(a=s[s.length-2]));t.type===13?a?a.arguments[0]=i:t.props=i:a?a.arguments[0]=i:t.arguments[2]=i}function pT(t,e){let n=!1;if(t.key.type===4){const i=t.key.content;n=e.properties.some(r=>r.key.type===4&&r.key.content===i)}return n}function Cd(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,i)=>n==="-"?"_":t.charCodeAt(i).toString())}`}function N3(t){return t.type===14&&t.callee===Hv?t.arguments[1].returns:t}const $3=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,zR={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Ff,isPreTag:Ff,isCustomElement:Ff,onError:Wv,onWarn:jR,comments:!1,prefixIdentifiers:!1};let zt=zR,Sd=null,na="",ji=null,Lt=null,Qi="",zs=-1,qo=-1,gp=0,za=!1,$y=null;const gn=[],An=new R3(gn,{onerr:Ns,ontext(t,e){pf(Ci(t,e),t,e)},ontextentity(t,e,n){pf(t,e,n)},oninterpolation(t,e){if(za)return pf(Ci(t,e),t,e);let n=t+An.delimiterOpen.length,i=e-An.delimiterClose.length;for(;pr(na.charCodeAt(n));)n++;for(;pr(na.charCodeAt(i-1));)i--;let r=Ci(n,i);r.includes("&")&&(r=zt.decodeEntities(r,!1)),jy({type:5,content:Vf(r,!1,Qn(n,i)),loc:Qn(t,e)})},onopentagname(t,e){const n=Ci(t,e);ji={type:1,tag:n,ns:zt.getNamespace(n,gn[0],zt.ns),tagType:0,props:[],children:[],loc:Qn(t-1,e),codegenNode:void 0}},onopentagend(t){gT(t)},onclosetag(t,e){const n=Ci(t,e);if(!zt.isVoidTag(n)){let i=!1;for(let r=0;r<gn.length;r++)if(gn[r].tag.toLowerCase()===n.toLowerCase()){i=!0,r>0&&Ns(24,gn[0].loc.start.offset);for(let a=0;a<=r;a++){const o=gn.shift();Bf(o,e,a<r)}break}i||Ns(23,UR(t,60))}},onselfclosingtag(t){const e=ji.tag;ji.isSelfClosing=!0,gT(t),gn[0]&&gn[0].tag===e&&Bf(gn.shift(),t)},onattribname(t,e){Lt={type:6,name:Ci(t,e),nameLoc:Qn(t,e),value:void 0,loc:Qn(t)}},ondirname(t,e){const n=Ci(t,e),i=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!za&&i===""&&Ns(26,t),za||i==="")Lt={type:6,name:n,nameLoc:Qn(t,e),value:void 0,loc:Qn(t)};else if(Lt={type:7,name:i,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?["prop"]:[],loc:Qn(t)},i==="pre"){za=An.inVPre=!0,$y=ji;const r=ji.props;for(let s=0;s<r.length;s++)r[s].type===7&&(r[s]=K3(r[s]))}},ondirarg(t,e){if(t===e)return;const n=Ci(t,e);if(za)Lt.name+=n,nl(Lt.nameLoc,e);else{const i=n[0]!=="[";Lt.arg=Vf(i?n:n.slice(1,-1),i,Qn(t,e),i?3:0)}},ondirmodifier(t,e){const n=Ci(t,e);if(za)Lt.name+="."+n,nl(Lt.nameLoc,e);else if(Lt.name==="slot"){const i=Lt.arg;i&&(i.content+="."+n,nl(i.loc,e))}else Lt.modifiers.push(n)},onattribdata(t,e){Qi+=Ci(t,e),zs<0&&(zs=t),qo=e},onattribentity(t,e,n){Qi+=t,zs<0&&(zs=e),qo=n},onattribnameend(t){const e=Lt.loc.start.offset,n=Ci(e,t);Lt.type===7&&(Lt.rawName=n),ji.props.some(i=>(i.type===7?i.rawName:i.name)===n)&&Ns(2,e)},onattribend(t,e){if(ji&&Lt){if(nl(Lt.loc,e),t!==0)if(Qi.includes("&")&&(Qi=zt.decodeEntities(Qi,!0)),Lt.type===6)Lt.name==="class"&&(Qi=YR(Qi).trim()),t===1&&!Qi&&Ns(13,e),Lt.value={type:2,content:Qi,loc:t===1?Qn(zs,qo):Qn(zs-1,qo+1)},An.inSFCRoot&&ji.tag==="template"&&Lt.name==="lang"&&Qi&&Qi!=="html"&&An.enterRCDATA(hp("</template"),0);else{let n=0;Lt.exp=Vf(Qi,!1,Qn(zs,qo),0,n),Lt.name==="for"&&(Lt.forParseResult=B3(Lt.exp));let i=-1;Lt.name==="bind"&&(i=Lt.modifiers.indexOf("sync"))>-1&&xd("COMPILER_V_BIND_SYNC",zt,Lt.loc,Lt.rawName)&&(Lt.name="model",Lt.modifiers.splice(i,1))}(Lt.type!==7||Lt.name!=="pre")&&ji.props.push(Lt)}Qi="",zs=qo=-1},oncomment(t,e){zt.comments&&jy({type:3,content:Ci(t,e),loc:Qn(t-4,e+3)})},onend(){const t=na.length;for(let e=0;e<gn.length;e++)Bf(gn[e],t-1),Ns(24,gn[e].loc.start.offset)},oncdata(t,e){gn[0].ns!==0?pf(Ci(t,e),t,e):Ns(1,t-9)},onprocessinginstruction(t){(gn[0]?gn[0].ns:zt.ns)===0&&Ns(21,t-1)}}),mT=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,j3=/^\(|\)$/g;function B3(t){const e=t.loc,n=t.content,i=n.match($3);if(!i)return;const[,r,s]=i,a=(h,p,g=!1)=>{const y=e.start.offset+p,b=y+h.length;return Vf(h,!1,Qn(y,b),0,g?1:0)},o={source:a(s.trim(),n.indexOf(s,r.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=r.trim().replace(j3,"").trim();const u=r.indexOf(l),c=l.match(mT);if(c){l=l.replace(mT,"").trim();const h=c[1].trim();let p;if(h&&(p=n.indexOf(h,u+l.length),o.key=a(h,p,!0)),c[2]){const g=c[2].trim();g&&(o.index=a(g,n.indexOf(g,o.key?p+h.length:u+l.length),!0))}}return l&&(o.value=a(l,u,!0)),o}function Ci(t,e){return na.slice(t,e)}function gT(t){An.inSFCRoot&&(ji.innerLoc=Qn(t+1,t+1)),jy(ji);const{tag:e,ns:n}=ji;n===0&&zt.isPreTag(e)&&gp++,zt.isVoidTag(e)?Bf(ji,t):(gn.unshift(ji),(n===1||n===2)&&(An.inXML=!0)),ji=null}function pf(t,e,n){{const s=gn[0]&&gn[0].tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=zt.decodeEntities(t,!1))}const i=gn[0]||Sd,r=i.children[i.children.length-1];r&&r.type===2?(r.content+=t,nl(r.loc,n)):i.children.push({type:2,content:t,loc:Qn(e,n)})}function Bf(t,e,n=!1){n?nl(t.loc,UR(e,60)):nl(t.loc,V3(e,62)+1),An.inSFCRoot&&(t.children.length?t.innerLoc.end=Nt({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Nt({},t.innerLoc.start),t.innerLoc.source=Ci(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:i,ns:r}=t;za||(i==="slot"?t.tagType=2:yT(t)?t.tagType=3:z3(t)&&(t.tagType=1)),An.inRCDATA||(t.children=HR(t.children,t.tag)),r===0&&zt.isPreTag(i)&&gp--,$y===t&&(za=An.inVPre=!1,$y=null),An.inXML&&(gn[0]?gn[0].ns:zt.ns)===0&&(An.inXML=!1);{const s=t.props;if(!An.inSFCRoot&&pl("COMPILER_NATIVE_TEMPLATE",zt)&&t.tag==="template"&&!yT(t)){const o=gn[0]||Sd,l=o.children.indexOf(t);o.children.splice(l,1,...t.children)}const a=s.find(o=>o.type===6&&o.name==="inline-template");a&&xd("COMPILER_INLINE_TEMPLATE",zt,a.loc)&&t.children.length&&(a.value={type:2,content:Ci(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function V3(t,e){let n=t;for(;na.charCodeAt(n)!==e&&n<na.length-1;)n++;return n}function UR(t,e){let n=t;for(;na.charCodeAt(n)!==e&&n>=0;)n--;return n}const G3=new Set(["if","else","else-if","for","slot"]);function yT({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&G3.has(e[n].name))return!0}return!1}function z3({tag:t,props:e}){if(zt.isCustomElement(t))return!1;if(t==="component"||U3(t.charCodeAt(0))||BR(t)||zt.isBuiltInComponent&&zt.isBuiltInComponent(t)||zt.isNativeTag&&!zt.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const i=e[n];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(xd("COMPILER_IS_ON_ELEMENT",zt,i.loc))return!0}}else if(i.name==="bind"&&tl(i.arg,"is")&&xd("COMPILER_IS_ON_ELEMENT",zt,i.loc))return!0}return!1}function U3(t){return t>64&&t<91}const H3=/\r\n/g;function HR(t,e){const n=zt.whitespace!=="preserve";let i=!1;for(let r=0;r<t.length;r++){const s=t[r];if(s.type===2)if(gp)s.content=s.content.replace(H3,`
`);else if(Y3(s.content)){const a=t[r-1]&&t[r-1].type,o=t[r+1]&&t[r+1].type;!a||!o||n&&(a===3&&(o===3||o===1)||a===1&&(o===3||o===1&&W3(s.content)))?(i=!0,t[r]=null):s.content=" "}else n&&(s.content=YR(s.content))}if(gp&&e&&zt.isPreTag(e)){const r=t[0];r&&r.type===2&&(r.content=r.content.replace(/^\r?\n/,""))}return i?t.filter(Boolean):t}function Y3(t){for(let e=0;e<t.length;e++)if(!pr(t.charCodeAt(e)))return!1;return!0}function W3(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function YR(t){let e="",n=!1;for(let i=0;i<t.length;i++)pr(t.charCodeAt(i))?n||(e+=" ",n=!0):(e+=t[i],n=!1);return e}function jy(t){(gn[0]||Sd).children.push(t)}function Qn(t,e){return{start:An.getPos(t),end:e==null?e:An.getPos(e),source:e==null?e:Ci(t,e)}}function nl(t,e){t.end=An.getPos(e),t.source=Ci(t.start.offset,e)}function K3(t){const e={type:6,name:t.rawName,nameLoc:Qn(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function Vf(t,e=!1,n,i=0,r=0){return St(t,e,n,i)}function Ns(t,e,n){zt.onError(yn(t,Qn(e,e)))}function q3(){An.reset(),ji=null,Lt=null,Qi="",zs=-1,qo=-1,gn.length=0}function X3(t,e){if(q3(),na=t,zt=Nt({},zR),e){let r;for(r in e)e[r]!=null&&(zt[r]=e[r])}An.mode=zt.parseMode==="html"?1:zt.parseMode==="sfc"?2:0,An.inXML=zt.ns===1||zt.ns===2;const n=e&&e.delimiters;n&&(An.delimiterOpen=hp(n[0]),An.delimiterClose=hp(n[1]));const i=Sd=C3([],t);return An.parse(na),i.loc=Qn(0,t.length),i.children=HR(i.children),Sd=null,i}function Z3(t,e){Gf(t,e,WR(t,t.children[0]))}function WR(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!pp(e)}function Gf(t,e,n=!1){const{children:i}=t,r=i.length;let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(o.type===1&&o.tagType===0){const l=n?0:Or(o,e);if(l>0){if(l>=2){o.codegenNode.patchFlag="-1",o.codegenNode=e.hoist(o.codegenNode),s++;continue}}else{const u=o.codegenNode;if(u.type===13){const c=ZR(u);if((!c||c===512||c===1)&&qR(o,e)>=2){const h=XR(o);h&&(u.props=e.hoist(h))}u.dynamicProps&&(u.dynamicProps=e.hoist(u.dynamicProps))}}}if(o.type===1){const l=o.tagType===1;l&&e.scopes.vSlot++,Gf(o,e),l&&e.scopes.vSlot--}else if(o.type===11)Gf(o,e,o.children.length===1);else if(o.type===9)for(let l=0;l<o.branches.length;l++)Gf(o.branches[l],e,o.branches[l].children.length===1)}if(s&&e.transformHoist&&e.transformHoist(i,e,t),s&&s===r&&t.type===1&&t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&We(t.codegenNode.children)){const a=e.hoist(oh(t.codegenNode.children));e.hmr&&(a.content=`[...${a.content}]`),t.codegenNode.children=a}}function Or(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const i=n.get(t);if(i!==void 0)return i;const r=t.codegenNode;if(r.type!==13||r.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(ZR(r))return n.set(t,0),0;{let o=3;const l=qR(t,e);if(l===0)return n.set(t,0),0;l<o&&(o=l);for(let u=0;u<t.children.length;u++){const c=Or(t.children[u],e);if(c===0)return n.set(t,0),0;c<o&&(o=c)}if(o>1)for(let u=0;u<t.props.length;u++){const c=t.props[u];if(c.type===7&&c.name==="bind"&&c.exp){const h=Or(c.exp,e);if(h===0)return n.set(t,0),0;h<o&&(o=h)}}if(r.isBlock){for(let u=0;u<t.props.length;u++)if(t.props[u].type===7)return n.set(t,0),0;e.removeHelper(Sl),e.removeHelper(Wu(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(Yu(e.inSSR,r.isComponent))}return n.set(t,o),o}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Or(t.content,e);case 4:return t.constType;case 8:let a=3;for(let o=0;o<t.children.length;o++){const l=t.children[o];if(xt(l)||Lr(l))continue;const u=Or(l,e);if(u===0)return 0;u<a&&(a=u)}return a;default:return 0}}const J3=new Set([Vv,Gv,Ed,ah]);function KR(t,e){if(t.type===14&&!xt(t.callee)&&J3.has(t.callee)){const n=t.arguments[0];if(n.type===4)return Or(n,e);if(n.type===14)return KR(n,e)}return 0}function qR(t,e){let n=3;const i=XR(t);if(i&&i.type===15){const{properties:r}=i;for(let s=0;s<r.length;s++){const{key:a,value:o}=r[s],l=Or(a,e);if(l===0)return l;l<n&&(n=l);let u;if(o.type===4?u=Or(o,e):o.type===14?u=KR(o,e):u=0,u===0)return u;u<n&&(n=u)}}return n}function XR(t){const e=t.codegenNode;if(e.type===13)return e.props}function ZR(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function Q3(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:i=!1,hmr:r=!1,cacheHandlers:s=!1,nodeTransforms:a=[],directiveTransforms:o={},transformHoist:l=null,isBuiltInComponent:u=si,isCustomElement:c=si,expressionPlugins:h=[],scopeId:p=null,slotted:g=!0,ssr:y=!1,inSSR:b=!1,ssrCssVars:T="",bindingMetadata:E=Bt,inline:w=!1,isTS:_=!1,onError:x=Wv,onWarn:C=jR,compatConfig:k}){const R=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),M={filename:e,selfName:R&&_o(_n(R[1])),prefixIdentifiers:n,hoistStatic:i,hmr:r,cacheHandlers:s,nodeTransforms:a,directiveTransforms:o,transformHoist:l,isBuiltInComponent:u,isCustomElement:c,expressionPlugins:h,scopeId:p,slotted:g,ssr:y,inSSR:b,ssrCssVars:T,bindingMetadata:E,inline:w,isTS:_,onError:x,onWarn:C,compatConfig:k,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new WeakMap,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(I){const B=M.helpers.get(I)||0;return M.helpers.set(I,B+1),I},removeHelper(I){const B=M.helpers.get(I);if(B){const U=B-1;U?M.helpers.set(I,U):M.helpers.delete(I)}},helperString(I){return`_${Uu[M.helper(I)]}`},replaceNode(I){M.parent.children[M.childIndex]=M.currentNode=I},removeNode(I){const B=M.parent.children,U=I?B.indexOf(I):M.currentNode?M.childIndex:-1;!I||I===M.currentNode?(M.currentNode=null,M.onNodeRemoved()):M.childIndex>U&&(M.childIndex--,M.onNodeRemoved()),M.parent.children.splice(U,1)},onNodeRemoved:si,addIdentifiers(I){},removeIdentifiers(I){},hoist(I){xt(I)&&(I=St(I)),M.hoists.push(I);const B=St(`_hoisted_${M.hoists.length}`,!1,I.loc,2);return B.hoisted=I,B},cache(I,B=!1){return S3(M.cached++,I,B)}};return M.filters=new Set,M}function e5(t,e){const n=Q3(t,e);bm(t,n),e.hoistStatic&&Z3(t,n),e.ssr||t5(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function t5(t,e){const{helper:n}=e,{children:i}=t;if(i.length===1){const r=i[0];if(WR(t,r)&&r.codegenNode){const s=r.codegenNode;s.type===13&&Yv(s,e),t.codegenNode=s}else t.codegenNode=r}else if(i.length>1){let r=64;t.codegenNode=Td(e,n(wd),void 0,t.children,r+"",void 0,void 0,!0,void 0,!1)}}function n5(t,e){let n=0;const i=()=>{n--};for(;n<t.children.length;n++){const r=t.children[n];xt(r)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=i,bm(r,e))}}function bm(t,e){e.currentNode=t;const{nodeTransforms:n}=e,i=[];for(let s=0;s<n.length;s++){const a=n[s](t,e);if(a&&(We(a)?i.push(...a):i.push(a)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(sh);break;case 5:e.ssr||e.helper(_m);break;case 9:for(let s=0;s<t.branches.length;s++)bm(t.branches[s],e);break;case 10:case 11:case 1:case 0:n5(t,e);break}e.currentNode=t;let r=i.length;for(;r--;)i[r]()}function JR(t,e){const n=xt(t)?i=>i===t:i=>t.test(i);return(i,r)=>{if(i.type===1){const{props:s}=i;if(i.tagType===3&&s.some(L3))return;const a=[];for(let o=0;o<s.length;o++){const l=s[o];if(l.type===7&&n(l.name)){s.splice(o,1),o--;const u=e(i,l,r);u&&a.push(u)}}return a}}}const wm="/*#__PURE__*/",QR=t=>`${Uu[t]}: _${Uu[t]}`;function i5(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:i=!1,filename:r="template.vue.html",scopeId:s=null,optimizeImports:a=!1,runtimeGlobalName:o="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:c=!1,isTS:h=!1,inSSR:p=!1}){const g={mode:e,prefixIdentifiers:n,sourceMap:i,filename:r,scopeId:s,optimizeImports:a,runtimeGlobalName:o,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:c,isTS:h,inSSR:p,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${Uu[b]}`},push(b,T=-2,E){g.code+=b},indent(){y(++g.indentLevel)},deindent(b=!1){b?--g.indentLevel:y(--g.indentLevel)},newline(){y(g.indentLevel)}};function y(b){g.push(`
`+"  ".repeat(b),0)}return g}function r5(t,e={}){const n=i5(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:i,push:r,prefixIdentifiers:s,indent:a,deindent:o,newline:l,scopeId:u,ssr:c}=n,h=Array.from(t.helpers),p=h.length>0,g=!s&&i!=="module";s5(t,n);const b=c?"ssrRender":"render",E=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${b}(${E}) {`),a(),g&&(r("with (_ctx) {"),a(),p&&(r(`const { ${h.map(QR).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(k0(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(k0(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),k0(t.filters,"filter",n),l()),t.temps>0){r("let ");for(let w=0;w<t.temps;w++)r(`${w>0?", ":""}_temp${w}`)}return(t.components.length||t.directives.length||t.temps)&&(r(`
`,0),l()),c||r("return "),t.codegenNode?Gi(t.codegenNode,n):r("null"),g&&(o(),r("}")),o(),r("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function s5(t,e){const{ssr:n,prefixIdentifiers:i,push:r,newline:s,runtimeModuleName:a,runtimeGlobalName:o,ssrRuntimeModuleName:l}=e,u=o,c=Array.from(t.helpers);if(c.length>0&&(r(`const _Vue = ${u}
`,-1),t.hoists.length)){const h=[Mv,Pv,sh,Dv,LR].filter(p=>c.includes(p)).map(QR).join(", ");r(`const { ${h} } = _Vue
`,-1)}a5(t.hoists,e),s(),r("return ")}function k0(t,e,{helper:n,push:i,newline:r,isTS:s}){const a=n(e==="filter"?$v:e==="component"?Lv:Nv);for(let o=0;o<t.length;o++){let l=t[o];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),i(`const ${Cd(l,e)} = ${a}(${JSON.stringify(l)}${u?", true":""})${s?"!":""}`),o<t.length-1&&r()}}function a5(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:i,helper:r,scopeId:s,mode:a}=e;i();for(let o=0;o<t.length;o++){const l=t[o];l&&(n(`const _hoisted_${o+1} = `),Gi(l,e),i())}e.pure=!1}function qv(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),lh(t,e,n),n&&e.deindent(),e.push("]")}function lh(t,e,n=!1,i=!0){const{push:r,newline:s}=e;for(let a=0;a<t.length;a++){const o=t[a];xt(o)?r(o,-3):We(o)?qv(o,e):Gi(o,e),a<t.length-1&&(n?(i&&r(","),s()):i&&r(", "))}}function Gi(t,e){if(xt(t)){e.push(t,-3);return}if(Lr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Gi(t.codegenNode,e);break;case 2:o5(t,e);break;case 4:eI(t,e);break;case 5:l5(t,e);break;case 12:Gi(t.codegenNode,e);break;case 8:tI(t,e);break;case 3:c5(t,e);break;case 13:d5(t,e);break;case 14:f5(t,e);break;case 15:p5(t,e);break;case 17:m5(t,e);break;case 18:g5(t,e);break;case 19:y5(t,e);break;case 20:_5(t,e);break;case 21:lh(t.body,e,!0,!1);break}}function o5(t,e){e.push(JSON.stringify(t.content),-3,t)}function eI(t,e){const{content:n,isStatic:i}=t;e.push(i?JSON.stringify(n):n,-3,t)}function l5(t,e){const{push:n,helper:i,pure:r}=e;r&&n(wm),n(`${i(_m)}(`),Gi(t.content,e),n(")")}function tI(t,e){for(let n=0;n<t.children.length;n++){const i=t.children[n];xt(i)?e.push(i,-3):Gi(i,e)}}function u5(t,e){const{push:n}=e;if(t.type===8)n("["),tI(t,e),n("]");else if(t.isStatic){const i=Kv(t.content)?t.content:JSON.stringify(t.content);n(i,-2,t)}else n(`[${t.content}]`,-3,t)}function c5(t,e){const{push:n,helper:i,pure:r}=e;r&&n(wm),n(`${i(sh)}(${JSON.stringify(t.content)})`,-3,t)}function d5(t,e){const{push:n,helper:i,pure:r}=e,{tag:s,props:a,children:o,patchFlag:l,dynamicProps:u,directives:c,isBlock:h,disableTracking:p,isComponent:g}=t;c&&n(i(jv)+"("),h&&n(`(${i(Sl)}(${p?"true":""}), `),r&&n(wm);const y=h?Wu(e.inSSR,g):Yu(e.inSSR,g);n(i(y)+"(",-2,t),lh(h5([s,a,o,l,u]),e),n(")"),h&&n(")"),c&&(n(", "),Gi(c,e),n(")"))}function h5(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function f5(t,e){const{push:n,helper:i,pure:r}=e,s=xt(t.callee)?t.callee:i(t.callee);r&&n(wm),n(s+"(",-2,t),lh(t.arguments,e),n(")")}function p5(t,e){const{push:n,indent:i,deindent:r,newline:s}=e,{properties:a}=t;if(!a.length){n("{}",-2,t);return}const o=a.length>1||!1;n(o?"{":"{ "),o&&i();for(let l=0;l<a.length;l++){const{key:u,value:c}=a[l];u5(u,e),n(": "),Gi(c,e),l<a.length-1&&(n(","),s())}o&&r(),n(o?"}":" }")}function m5(t,e){qv(t.elements,e)}function g5(t,e){const{push:n,indent:i,deindent:r}=e,{params:s,returns:a,body:o,newline:l,isSlot:u}=t;u&&n(`_${Uu[Uv]}(`),n("(",-2,t),We(s)?lh(s,e):s&&Gi(s,e),n(") => "),(l||o)&&(n("{"),i()),a?(l&&n("return "),We(a)?qv(a,e):Gi(a,e)):o&&Gi(o,e),(l||o)&&(r(),n("}")),u&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function y5(t,e){const{test:n,consequent:i,alternate:r,newline:s}=t,{push:a,indent:o,deindent:l,newline:u}=e;if(n.type===4){const h=!Kv(n.content);h&&a("("),eI(n,e),h&&a(")")}else a("("),Gi(n,e),a(")");s&&o(),e.indentLevel++,s||a(" "),a("? "),Gi(i,e),e.indentLevel--,s&&u(),s||a(" "),a(": ");const c=r.type===19;c||e.indentLevel++,Gi(r,e),c||e.indentLevel--,s&&l(!0)}function _5(t,e){const{push:n,helper:i,indent:r,deindent:s,newline:a}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(r(),n(`${i(dp)}(-1),`),a()),n(`_cache[${t.index}] = `),Gi(t.value,e),t.isVNode&&(n(","),a(),n(`${i(dp)}(1),`),a(),n(`_cache[${t.index}]`),s()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const v5=JR(/^(if|else|else-if)$/,(t,e,n)=>b5(t,e,n,(i,r,s)=>{const a=n.parent.children;let o=a.indexOf(i),l=0;for(;o-->=0;){const u=a[o];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(s)i.codegenNode=vT(r,l,n);else{const u=w5(i.codegenNode);u.alternate=vT(r,l+i.branches.length-1,n)}}}));function b5(t,e,n,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const r=e.exp?e.exp.loc:t.loc;n.onError(yn(28,e.loc)),e.exp=St("true",!1,r)}if(e.name==="if"){const r=_T(t,e),s={type:9,loc:t.loc,branches:[r]};if(n.replaceNode(s),i)return i(s,r,!0)}else{const r=n.parent.children;let s=r.indexOf(t);for(;s-->=-1;){const a=r[s];if(a&&a.type===3){n.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){n.removeNode(a);continue}if(a&&a.type===9){e.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&n.onError(yn(30,t.loc)),n.removeNode();const o=_T(t,e);a.branches.push(o);const l=i&&i(a,o,!1);bm(o,n),l&&l(),n.currentNode=null}else n.onError(yn(30,t.loc));break}}}function _T(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!Hr(t,"for")?t.children:[t],userKey:vm(t,"key"),isTemplateIf:n}}function vT(t,e,n){return t.condition?Ny(t.condition,bT(t,e,n),ei(n.helper(sh),['""',"true"])):bT(t,e,n)}function bT(t,e,n){const{helper:i}=n,r=zn("key",St(`${e}`,!1,xr,2)),{children:s}=t,a=s[0];if(s.length!==1||a.type!==1)if(s.length===1&&a.type===11){const l=a.codegenNode;return mp(l,r,n),l}else return Td(n,i(wd),Ar([r]),s,64+"",void 0,void 0,!0,!1,!1,t.loc);else{const l=a.codegenNode,u=N3(l);return u.type===13&&Yv(u,n),mp(u,r,n),l}}function w5(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const E5=(t,e,n)=>{const{modifiers:i,loc:r}=t,s=t.arg;let{exp:a}=t;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(s.type!==4||!s.isStatic)return n.onError(yn(52,s.loc)),{props:[zn(s,St("",!0,r))]};nI(t),a=t.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.includes("camel")&&(s.type===4?s.isStatic?s.content=_n(s.content):s.content=`${n.helperString(Ly)}(${s.content})`:(s.children.unshift(`${n.helperString(Ly)}(`),s.children.push(")"))),n.inSSR||(i.includes("prop")&&wT(s,"."),i.includes("attr")&&wT(s,"^")),{props:[zn(s,a)]}},nI=(t,e)=>{const n=t.arg,i=_n(n.content);t.exp=St(i,!1,n.loc)},wT=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},T5=JR("for",(t,e,n)=>{const{helper:i,removeHelper:r}=n;return x5(t,e,n,s=>{const a=ei(i(Bv),[s.source]),o=fp(t),l=Hr(t,"memo"),u=vm(t,"key",!1,!0);u&&u.type===7&&!u.exp&&nI(u);const c=u&&(u.type===6?u.value?St(u.value.content,!0):void 0:u.exp),h=u&&c?zn("key",c):null,p=s.source.type===4&&s.source.constType>0,g=p?64:u?128:256;return s.codegenNode=Td(n,i(wd),void 0,a,g+"",void 0,void 0,!0,!p,!1,t.loc),()=>{let y;const{children:b}=s,T=b.length!==1||b[0].type!==1,E=pp(t)?t:o&&t.children.length===1&&pp(t.children[0])?t.children[0]:null;if(E?(y=E.codegenNode,o&&h&&mp(y,h,n)):T?y=Td(n,i(wd),h?Ar([h]):void 0,t.children,"64",void 0,void 0,!0,void 0,!1):(y=b[0].codegenNode,o&&h&&mp(y,h,n),y.isBlock!==!p&&(y.isBlock?(r(Sl),r(Wu(n.inSSR,y.isComponent))):r(Yu(n.inSSR,y.isComponent))),y.isBlock=!p,y.isBlock?(i(Sl),i(Wu(n.inSSR,y.isComponent))):i(Yu(n.inSSR,y.isComponent))),l){const w=Hu(By(s.parseResult,[St("_cached")]));w.body=k3([Zr(["const _memo = (",l.exp,")"]),Zr(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${n.helperString($R)}(_cached, _memo)) return _cached`]),Zr(["const _item = ",y]),St("_item.memo = _memo"),St("return _item")]),a.arguments.push(w,St("_cache"),St(String(n.cached++)))}else a.arguments.push(Hu(By(s.parseResult),y,!0))}})});function x5(t,e,n,i){if(!e.exp){n.onError(yn(31,e.loc));return}const r=e.forParseResult;if(!r){n.onError(yn(32,e.loc));return}iI(r);const{addIdentifiers:s,removeIdentifiers:a,scopes:o}=n,{source:l,value:u,key:c,index:h}=r,p={type:11,loc:e.loc,source:l,valueAlias:u,keyAlias:c,objectIndexAlias:h,parseResult:r,children:fp(t)?t.children:[t]};n.replaceNode(p),o.vFor++;const g=i&&i(p);return()=>{o.vFor--,g&&g()}}function iI(t,e){t.finalized||(t.finalized=!0)}function By({value:t,key:e,index:n},i=[]){return C5([t,e,n,...i])}function C5(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,i)=>n||St("_".repeat(i+1),!1))}const ET=St("undefined",!1),S5=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=Hr(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},k5=(t,e,n,i)=>Hu(t,n,!1,!0,n.length?n[0].loc:i);function R5(t,e,n=k5){e.helper(Uv);const{children:i,loc:r}=t,s=[],a=[];let o=e.scopes.vSlot>0||e.scopes.vFor>0;const l=Hr(t,"slot",!0);if(l){const{arg:T,exp:E}=l;T&&!sr(T)&&(o=!0),s.push(zn(T||St("default",!0),n(E,void 0,i,r)))}let u=!1,c=!1;const h=[],p=new Set;let g=0;for(let T=0;T<i.length;T++){const E=i[T];let w;if(!fp(E)||!(w=Hr(E,"slot",!0))){E.type!==3&&h.push(E);continue}if(l){e.onError(yn(37,w.loc));break}u=!0;const{children:_,loc:x}=E,{arg:C=St("default",!0),exp:k,loc:R}=w;let M;sr(C)?M=C?C.content:"default":o=!0;const I=Hr(E,"for"),B=n(k,I,_,x);let U,G;if(U=Hr(E,"if"))o=!0,a.push(Ny(U.exp,mf(C,B,g++),ET));else if(G=Hr(E,/^else(-if)?$/,!0)){let ie=T,W;for(;ie--&&(W=i[ie],W.type===3););if(W&&fp(W)&&Hr(W,"if")){i.splice(T,1),T--;let N=a[a.length-1];for(;N.alternate.type===19;)N=N.alternate;N.alternate=G.exp?Ny(G.exp,mf(C,B,g++),ET):mf(C,B,g++)}else e.onError(yn(30,G.loc))}else if(I){o=!0;const ie=I.forParseResult;ie?(iI(ie),a.push(ei(e.helper(Bv),[ie.source,Hu(By(ie),mf(C,B),!0)]))):e.onError(yn(32,I.loc))}else{if(M){if(p.has(M)){e.onError(yn(38,R));continue}p.add(M),M==="default"&&(c=!0)}s.push(zn(C,B))}}if(!l){const T=(E,w)=>{const _=n(E,void 0,w,r);return e.compatConfig&&(_.isNonScopedSlot=!0),zn("default",_)};u?h.length&&h.some(E=>rI(E))&&(c?e.onError(yn(39,h[0].loc)):s.push(T(void 0,h))):s.push(T(void 0,i))}const y=o?2:zf(t.children)?3:1;let b=Ar(s.concat(zn("_",St(y+"",!1))),r);return a.length&&(b=ei(e.helper(NR),[b,oh(a)])),{slots:b,hasDynamicSlots:o}}function mf(t,e,n){const i=[zn("name",t),zn("fn",e)];return n!=null&&i.push(zn("key",St(String(n),!0))),Ar(i)}function zf(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||zf(n.children))return!0;break;case 9:if(zf(n.branches))return!0;break;case 10:case 11:if(zf(n.children))return!0;break}}return!1}function rI(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():rI(t.content)}const sI=new WeakMap,I5=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:i,props:r}=t,s=t.tagType===1;let a=s?A5(t,e):`"${i}"`;const o=tn(a)&&a.callee===Fv;let l,u,c,h=0,p,g,y,b=o||a===od||a===Ov||!s&&(i==="svg"||i==="foreignObject"||i==="math");if(r.length>0){const T=aI(t,e,void 0,s,o);l=T.props,h=T.patchFlag,g=T.dynamicPropNames;const E=T.directives;y=E&&E.length?oh(E.map(w=>M5(w,e))):void 0,T.shouldUseBlock&&(b=!0)}if(t.children.length>0)if(a===up&&(b=!0,h|=1024),s&&a!==od&&a!==up){const{slots:E,hasDynamicSlots:w}=R5(t,e);u=E,w&&(h|=1024)}else if(t.children.length===1&&a!==od){const E=t.children[0],w=E.type,_=w===5||w===8;_&&Or(E,e)===0&&(h|=1),_||w===2?u=E:u=t.children}else u=t.children;h!==0&&(c=String(h),g&&g.length&&(p=P5(g))),t.codegenNode=Td(e,a,l,u,c,p,y,!!b,!1,s,t.loc)};function A5(t,e,n=!1){let{tag:i}=t;const r=Vy(i),s=vm(t,"is",!1,!0);if(s)if(r||pl("COMPILER_IS_ON_ELEMENT",e)){let o;if(s.type===6?o=s.value&&St(s.value.content,!0):(o=s.exp,o||(o=St("is",!1,s.loc))),o)return ei(e.helper(Fv),[o])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));const a=BR(i)||e.isBuiltInComponent(i);return a?(n||e.helper(a),a):(e.helper(Lv),e.components.add(i),Cd(i,"component"))}function aI(t,e,n=t.props,i,r,s=!1){const{tag:a,loc:o,children:l}=t;let u=[];const c=[],h=[],p=l.length>0;let g=!1,y=0,b=!1,T=!1,E=!1,w=!1,_=!1,x=!1;const C=[],k=B=>{u.length&&(c.push(Ar(TT(u),o)),u=[]),B&&c.push(B)},R=()=>{e.scopes.vFor>0&&u.push(zn(St("ref_for",!0),St("true")))},M=({key:B,value:U})=>{if(sr(B)){const G=B.content,ie=Ol(G);if(ie&&(!i||r)&&G.toLowerCase()!=="onclick"&&G!=="onUpdate:modelValue"&&!Qa(G)&&(w=!0),ie&&Qa(G)&&(x=!0),ie&&U.type===14&&(U=U.arguments[0]),U.type===20||(U.type===4||U.type===8)&&Or(U,e)>0)return;G==="ref"?b=!0:G==="class"?T=!0:G==="style"?E=!0:G!=="key"&&!C.includes(G)&&C.push(G),i&&(G==="class"||G==="style")&&!C.includes(G)&&C.push(G)}else _=!0};for(let B=0;B<n.length;B++){const U=n[B];if(U.type===6){const{loc:G,name:ie,nameLoc:W,value:N}=U;let j=!0;if(ie==="ref"&&(b=!0,R()),ie==="is"&&(Vy(a)||N&&N.content.startsWith("vue:")||pl("COMPILER_IS_ON_ELEMENT",e)))continue;u.push(zn(St(ie,!0,W),St(N?N.content:"",j,N?N.loc:G)))}else{const{name:G,arg:ie,exp:W,loc:N,modifiers:j}=U,F=G==="bind",Q=G==="on";if(G==="slot"){i||e.onError(yn(40,N));continue}if(G==="once"||G==="memo"||G==="is"||F&&tl(ie,"is")&&(Vy(a)||pl("COMPILER_IS_ON_ELEMENT",e))||Q&&s)continue;if((F&&tl(ie,"key")||Q&&p&&tl(ie,"vue:before-update"))&&(g=!0),F&&tl(ie,"ref")&&R(),!ie&&(F||Q)){if(_=!0,W)if(F){if(R(),k(),pl("COMPILER_V_BIND_OBJECT_ORDER",e)){c.unshift(W);continue}c.push(W)}else k({type:14,loc:N,callee:e.helper(zv),arguments:i?[W]:[W,"true"]});else e.onError(yn(F?34:35,N));continue}F&&j.includes("prop")&&(y|=32);const _e=e.directiveTransforms[G];if(_e){const{props:ve,needRuntime:xe}=_e(U,t,e);!s&&ve.forEach(M),Q&&ie&&!sr(ie)?k(Ar(ve,o)):u.push(...ve),xe&&(h.push(U),Lr(xe)&&sI.set(U,xe))}else tF(G)||(h.push(U),p&&(g=!0))}}let I;if(c.length?(k(),c.length>1?I=ei(e.helper(cp),c,o):I=c[0]):u.length&&(I=Ar(TT(u),o)),_?y|=16:(T&&!i&&(y|=2),E&&!i&&(y|=4),C.length&&(y|=8),w&&(y|=32)),!g&&(y===0||y===32)&&(b||x||h.length>0)&&(y|=512),!e.inSSR&&I)switch(I.type){case 15:let B=-1,U=-1,G=!1;for(let N=0;N<I.properties.length;N++){const j=I.properties[N].key;sr(j)?j.content==="class"?B=N:j.content==="style"&&(U=N):j.isHandlerKey||(G=!0)}const ie=I.properties[B],W=I.properties[U];G?I=ei(e.helper(Ed),[I]):(ie&&!sr(ie.value)&&(ie.value=ei(e.helper(Vv),[ie.value])),W&&(E||W.value.type===4&&W.value.content.trim()[0]==="["||W.value.type===17)&&(W.value=ei(e.helper(Gv),[W.value])));break;case 14:break;default:I=ei(e.helper(Ed),[ei(e.helper(ah),[I])]);break}return{props:I,directives:h,patchFlag:y,dynamicPropNames:C,shouldUseBlock:g}}function TT(t){const e=new Map,n=[];for(let i=0;i<t.length;i++){const r=t[i];if(r.key.type===8||!r.key.isStatic){n.push(r);continue}const s=r.key.content,a=e.get(s);a?(s==="style"||s==="class"||Ol(s))&&O5(a,r):(e.set(s,r),n.push(r))}return n}function O5(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=oh([t.value,e.value],t.loc)}function M5(t,e){const n=[],i=sI.get(t);i?n.push(e.helperString(i)):(e.helper(Nv),e.directives.add(t.name),n.push(Cd(t.name,"directive")));const{loc:r}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const s=St("true",!1,r);n.push(Ar(t.modifiers.map(a=>zn(a,s)),r))}return oh(n,t.loc)}function P5(t){let e="[";for(let n=0,i=t.length;n<i;n++)e+=JSON.stringify(t[n]),n<i-1&&(e+=", ");return e+"]"}function Vy(t){return t==="component"||t==="Component"}const D5=(t,e)=>{if(pp(t)){const{children:n,loc:i}=t,{slotName:r,slotProps:s}=L5(t,e),a=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let o=2;s&&(a[2]=s,o=3),n.length&&(a[3]=Hu([],n,!1,!1,i),o=4),e.scopeId&&!e.slotted&&(o=5),a.splice(o),t.codegenNode=ei(e.helper(FR),a,i)}};function L5(t,e){let n='"default"',i;const r=[];for(let s=0;s<t.props.length;s++){const a=t.props[s];if(a.type===6)a.value&&(a.name==="name"?n=JSON.stringify(a.value.content):(a.name=_n(a.name),r.push(a)));else if(a.name==="bind"&&tl(a.arg,"name")){if(a.exp)n=a.exp;else if(a.arg&&a.arg.type===4){const o=_n(a.arg.content);n=a.exp=St(o,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&sr(a.arg)&&(a.arg.content=_n(a.arg.content)),r.push(a)}if(r.length>0){const{props:s,directives:a}=aI(t,e,r,!1,!1);i=s,a.length&&e.onError(yn(36,a[0].loc))}return{slotName:n,slotProps:i}}const F5=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,oI=(t,e,n,i)=>{const{loc:r,modifiers:s,arg:a}=t;!t.exp&&!s.length&&n.onError(yn(35,r));let o;if(a.type===4)if(a.isStatic){let h=a.content;h.startsWith("vue:")&&(h=`vnode-${h.slice(4)}`);const p=e.tagType!==0||h.startsWith("vnode")||!/[A-Z]/.test(h)?ll(_n(h)):`on:${h}`;o=St(p,!0,a.loc)}else o=Zr([`${n.helperString(Fy)}(`,a,")"]);else o=a,o.children.unshift(`${n.helperString(Fy)}(`),o.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let u=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const h=VR(l.content),p=!(h||F5.test(l.content)),g=l.content.includes(";");(p||u&&h)&&(l=Zr([`${p?"$event":"(...args)"} => ${g?"{":"("}`,l,g?"}":")"]))}let c={props:[zn(o,l||St("() => {}",!1,r))]};return i&&(c=i(c)),u&&(c.props[0].value=n.cache(c.props[0].value)),c.props.forEach(h=>h.key.isHandlerKey=!0),c},N5=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let i,r=!1;for(let s=0;s<n.length;s++){const a=n[s];if(S0(a)){r=!0;for(let o=s+1;o<n.length;o++){const l=n[o];if(S0(l))i||(i=n[s]=Zr([a],a.loc)),i.children.push(" + ",l),n.splice(o,1),o--;else{i=void 0;break}}}}if(!(!r||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&t.tag!=="template")))for(let s=0;s<n.length;s++){const a=n[s];if(S0(a)||a.type===8){const o=[];(a.type!==2||a.content!==" ")&&o.push(a),!e.ssr&&Or(a,e)===0&&o.push("1"),n[s]={type:12,content:a,loc:a.loc,codegenNode:ei(e.helper(Dv),o)}}}}},xT=new WeakSet,$5=(t,e)=>{if(t.type===1&&Hr(t,"once",!0))return xT.has(t)||e.inVOnce||e.inSSR?void 0:(xT.add(t),e.inVOnce=!0,e.helper(dp),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},lI=(t,e,n)=>{const{exp:i,arg:r}=t;if(!i)return n.onError(yn(41,t.loc)),gf();const s=i.loc.source,a=i.type===4?i.content:s,o=n.bindingMetadata[s];if(o==="props"||o==="props-aliased")return n.onError(yn(44,i.loc)),gf();if(!a.trim()||!VR(a)&&!!1)return n.onError(yn(42,i.loc)),gf();const u=r||St("modelValue",!0),c=r?sr(r)?`onUpdate:${_n(r.content)}`:Zr(['"onUpdate:" + ',r]):"onUpdate:modelValue";let h;const p=n.isTS?"($event: any)":"$event";h=Zr([`${p} => ((`,i,") = $event)"]);const g=[zn(u,t.exp),zn(c,h)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(T=>(Kv(T)?T:JSON.stringify(T))+": true").join(", "),b=r?sr(r)?`${r.content}Modifiers`:Zr([r,' + "Modifiers"']):"modelModifiers";g.push(zn(b,St(`{ ${y} }`,!1,t.loc,2)))}return gf(g)};function gf(t=[]){return{props:t}}const j5=/[\w).+\-_$\]]/,B5=(t,e)=>{pl("COMPILER_FILTERS",e)&&(t.type===5&&yp(t.content,e),t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&yp(n.exp,e)}))};function yp(t,e){if(t.type===4)CT(t,e);else for(let n=0;n<t.children.length;n++){const i=t.children[n];typeof i=="object"&&(i.type===4?CT(i,e):i.type===8?yp(t,e):i.type===5&&yp(i.content,e))}}function CT(t,e){const n=t.content;let i=!1,r=!1,s=!1,a=!1,o=0,l=0,u=0,c=0,h,p,g,y,b=[];for(g=0;g<n.length;g++)if(p=h,h=n.charCodeAt(g),i)h===39&&p!==92&&(i=!1);else if(r)h===34&&p!==92&&(r=!1);else if(s)h===96&&p!==92&&(s=!1);else if(a)h===47&&p!==92&&(a=!1);else if(h===124&&n.charCodeAt(g+1)!==124&&n.charCodeAt(g-1)!==124&&!o&&!l&&!u)y===void 0?(c=g+1,y=n.slice(0,g).trim()):T();else{switch(h){case 34:r=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:o++;break;case 125:o--;break}if(h===47){let E=g-1,w;for(;E>=0&&(w=n.charAt(E),w===" ");E--);(!w||!j5.test(w))&&(a=!0)}}y===void 0?y=n.slice(0,g).trim():c!==0&&T();function T(){b.push(n.slice(c,g).trim()),c=g+1}if(b.length){for(g=0;g<b.length;g++)y=V5(y,b[g],e);t.content=y,t.ast=void 0}}function V5(t,e,n){n.helper($v);const i=e.indexOf("(");if(i<0)return n.filters.add(e),`${Cd(e,"filter")}(${t})`;{const r=e.slice(0,i),s=e.slice(i+1);return n.filters.add(r),`${Cd(r,"filter")}(${t}${s!==")"?","+s:s}`}}const ST=new WeakSet,G5=(t,e)=>{if(t.type===1){const n=Hr(t,"memo");return!n||ST.has(t)?void 0:(ST.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(t.tagType!==1&&Yv(i,e),t.codegenNode=ei(e.helper(Hv),[n.exp,Hu(void 0,i),"_cache",String(e.cached++)]))})}};function z5(t){return[[$5,v5,G5,T5,B5,D5,I5,S5,N5],{on:oI,bind:E5,model:lI}]}function U5(t,e={}){const n=e.onError||Wv,i=e.mode==="module";e.prefixIdentifiers===!0?n(yn(47)):i&&n(yn(48));const r=!1;e.cacheHandlers&&n(yn(49)),e.scopeId&&!i&&n(yn(50));const s=Nt({},e,{prefixIdentifiers:r}),a=xt(t)?X3(t,s):t,[o,l]=z5();return e5(a,Nt({},s,{nodeTransforms:[...o,...e.nodeTransforms||[]],directiveTransforms:Nt({},l,e.directiveTransforms||{})})),r5(a,s)}const H5=()=>({props:[]});/**
* @vue/compiler-dom v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const uI=Symbol(""),cI=Symbol(""),dI=Symbol(""),hI=Symbol(""),Gy=Symbol(""),fI=Symbol(""),pI=Symbol(""),mI=Symbol(""),gI=Symbol(""),yI=Symbol("");x3({[uI]:"vModelRadio",[cI]:"vModelCheckbox",[dI]:"vModelText",[hI]:"vModelSelect",[Gy]:"vModelDynamic",[fI]:"withModifiers",[pI]:"withKeys",[mI]:"vShow",[gI]:"Transition",[yI]:"TransitionGroup"});let nu;function Y5(t,e=!1){return nu||(nu=document.createElement("div")),e?(nu.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,nu.children[0].getAttribute("foo")):(nu.innerHTML=t,nu.textContent)}const W5={parseMode:"html",isVoidTag:gF,isNativeTag:t=>fF(t)||pF(t)||mF(t),isPreTag:t=>t==="pre",decodeEntities:Y5,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return gI;if(t==="TransitionGroup"||t==="transition-group")return yI},getNamespace(t,e,n){let i=e?e.ns:n;if(e&&i===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(t==="svg")return 1;if(t==="math")return 2}return i}},K5=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:St("style",!0,e.loc),exp:q5(e.value.content,e.loc),modifiers:[],loc:e.loc})})},q5=(t,e)=>{const n=bS(t);return St(JSON.stringify(n),!1,e,3)};function no(t,e){return yn(t,e)}const X5=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(no(53,r)),e.children.length&&(n.onError(no(54,r)),e.children.length=0),{props:[zn(St("innerHTML",!0,r),i||St("",!0))]}},Z5=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(no(55,r)),e.children.length&&(n.onError(no(56,r)),e.children.length=0),{props:[zn(St("textContent",!0),i?Or(i,n)>0?i:ei(n.helperString(_m),[i],r):St("",!0))]}},J5=(t,e,n)=>{const i=lI(t,e,n);if(!i.props.length||e.tagType===1)return i;t.arg&&n.onError(no(58,t.arg.loc));const{tag:r}=e,s=n.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||s){let a=dI,o=!1;if(r==="input"||s){const l=vm(e,"type");if(l){if(l.type===7)a=Gy;else if(l.value)switch(l.value.content){case"radio":a=uI;break;case"checkbox":a=cI;break;case"file":o=!0,n.onError(no(59,t.loc));break}}else D3(e)&&(a=Gy)}else r==="select"&&(a=hI);o||(i.needRuntime=n.helper(a))}else n.onError(no(57,t.loc));return i.props=i.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),i},Q5=Tr("passive,once,capture"),e$=Tr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),t$=Tr("left,right"),_I=Tr("onkeyup,onkeydown,onkeypress",!0),n$=(t,e,n,i)=>{const r=[],s=[],a=[];for(let o=0;o<e.length;o++){const l=e[o];l==="native"&&xd("COMPILER_V_ON_NATIVE",n)||Q5(l)?a.push(l):t$(l)?sr(t)?_I(t.content)?r.push(l):s.push(l):(r.push(l),s.push(l)):e$(l)?s.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:s,eventOptionModifiers:a}},kT=(t,e)=>sr(t)&&t.content.toLowerCase()==="onclick"?St(e,!0):t.type!==4?Zr(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,i$=(t,e,n)=>oI(t,e,n,i=>{const{modifiers:r}=t;if(!r.length)return i;let{key:s,value:a}=i.props[0];const{keyModifiers:o,nonKeyModifiers:l,eventOptionModifiers:u}=n$(s,r,n,t.loc);if(l.includes("right")&&(s=kT(s,"onContextmenu")),l.includes("middle")&&(s=kT(s,"onMouseup")),l.length&&(a=ei(n.helper(fI),[a,JSON.stringify(l)])),o.length&&(!sr(s)||_I(s.content))&&(a=ei(n.helper(pI),[a,JSON.stringify(o)])),u.length){const c=u.map(_o).join("");s=sr(s)?St(`${s.content}${c}`,!0):Zr(["(",s,`) + "${c}"`])}return{props:[zn(s,a)]}}),r$=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(no(61,r)),{props:[],needRuntime:n.helper(mI)}},s$=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},a$=[K5],o$={cloak:H5,html:X5,text:Z5,model:J5,on:i$,show:r$};function l$(t,e={}){return U5(t,Nt({},W5,e,{nodeTransforms:[s$,...a$,...e.nodeTransforms||[]],directiveTransforms:Nt({},o$,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const RT=new WeakMap;function u$(t){let e=RT.get(t??Bt);return e||(e=Object.create(null),RT.set(t??Bt,e)),e}function vI(t,e){if(!xt(t))if(t.nodeType)t=t.innerHTML;else return si;const n=t,i=u$(e),r=i[n];if(r)return r;if(t[0]==="#"){const l=document.querySelector(t);t=l?l.innerHTML:""}const s=Nt({hoistStatic:!0,onError:void 0,onWarn:si},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=l=>!!customElements.get(l));const{code:a}=l$(t,s),o=new Function("Vue",a)(_3);return o._rc=!0,i[n]=o}Tv(vI);const c$=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:bv,BaseTransitionPropsValidators:pm,Comment:ni,DeprecationTypes:uR,EffectScope:Zp,ErrorCodes:qS,ErrorTypeStrings:iR,Fragment:Je,KeepAlive:Nk,ReactiveEffect:vl,Static:to,Suspense:ik,Teleport:wv,Text:aa,TrackOpTypes:YS,Transition:Is,TransitionGroup:ER,TriggerOpTypes:WS,VueElement:rh,assertNumber:KS,callWithAsyncErrorHandling:or,callWithErrorHandling:ws,camelize:_n,capitalize:_o,cloneVNode:ts,compatUtils:lR,compile:vI,computed:Se,createApp:Av,createBlock:tt,createCommentVNode:ke,createElementBlock:pe,createElementVNode:Me,createHydrationRenderer:hv,createPropsRestProxy:vk,createRenderer:dv,createSSRApp:RR,createSlots:_i,createStaticVNode:Yk,createTextVNode:cr,createVNode:De,customRef:Z_,defineAsyncComponent:sk,defineComponent:vn,defineCustomElement:Sv,defineEmits:uk,defineExpose:ck,defineModel:fk,defineOptions:dk,defineProps:lk,defineSSRCustomElement:yR,defineSlots:hk,devtools:rR,effect:CS,effectScope:Jp,getCurrentInstance:qi,getCurrentScope:Qp,getTransitionRawChildren:th,guardReactiveProps:ki,h:uc,handleError:wo,hasInjectionContext:Tk,hydrate:Iv,initCustomFormatter:eR,initDirectivesForSSR:OR,inject:fl,isMemoSame:xv,isProxy:rm,isReactive:dl,isReadonly:bl,isRef:Yn,isRuntimeOnly:Xk,isShallow:Bu,isVNode:oa,markRaw:K_,mergeDefaults:yk,mergeModels:_k,mergeProps:Gn,nextTick:bi,normalizeClass:ct,normalizeProps:qn,normalizeStyle:Vn,onActivated:_v,onBeforeMount:dm,onBeforeUnmount:Jd,onBeforeUpdate:hm,onDeactivated:vv,onErrorCaptured:ov,onMounted:Cn,onRenderTracked:av,onRenderTriggered:sv,onScopeDispose:z_,onServerPrefetch:rv,onUnmounted:Rs,onUpdated:Zd,openBlock:ne,popScopeId:Xd,provide:uv,proxyRefs:am,pushScopeId:qd,queuePostFlushCb:md,reactive:Nr,readonly:nm,ref:Ae,registerRuntimeCompiler:Tv,render:zu,renderList:Ht,renderSlot:Ue,resolveComponent:ze,resolveDirective:tv,resolveDynamicComponent:lc,resolveFilter:oR,resolveTransitionHooks:El,setBlockTracking:rp,setDevtoolsHook:sR,setTransitionHooks:sa,shallowReactive:W_,shallowReadonly:jS,shallowRef:sm,ssrContextKey:pv,ssrUtils:aR,stop:SS,toDisplayString:bt,toHandlerKey:ll,toHandlers:ok,toRaw:Dt,toRef:wl,toRefs:US,toValue:zS,transformVNodeArgs:Uk,triggerRef:GS,unref:te,useAttrs:mk,useCssModule:_R,useCssVars:gR,useModel:Qk,useSSRContext:mv,useSlots:ha,useTransitionState:fm,vModelCheckbox:mm,vModelDynamic:Rv,vModelRadio:gm,vModelSelect:kv,vModelText:bd,vShow:li,version:Cv,warn:nR,watch:xn,watchEffect:Lk,watchPostEffect:gv,watchSyncEffect:yv,withAsyncContext:bk,withCtx:pt,withDefaults:pk,withDirectives:oi,withKeys:ym,withMemo:tR,withModifiers:Cl,withScopeId:tk},Symbol.toStringTag,{value:"Module"}));function d$(){return bI().__VUE_DEVTOOLS_GLOBAL_HOOK__}function bI(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const h$=typeof Proxy=="function",f$="devtools-plugin:setup",p$="plugin:settings:set";let iu,zy;function m$(){var t;return iu!==void 0||(typeof window<"u"&&window.performance?(iu=!0,zy=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(iu=!0,zy=globalThis.perf_hooks.performance):iu=!1),iu}function g$(){return m$()?zy.now():Date.now()}class y${constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const a in e.settings){const o=e.settings[a];i[a]=o.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},i);try{const a=localStorage.getItem(r),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(r,JSON.stringify(a))}catch{}s=a},now(){return g$()}},n&&n.on(p$,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function _$(t,e){const n=t,i=bI(),r=d$(),s=h$&&n.enableEarlyProxy;if(r&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))r.emit(f$,t,e);else{const a=s?new y$(n,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const v$="9.13.1";function b$(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Xs().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Xs().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Xs().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Xs().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Xs().__INTLIFY_PROD_DEVTOOLS__=!1)}const wI=OL.__EXTEND_POINT__,$s=Wp(wI);$s(),$s(),$s(),$s(),$s(),$s(),$s(),$s(),$s();const EI=Xr.__EXTEND_POINT__,Ji=Wp(EI),ui={UNEXPECTED_RETURN_TYPE:EI,INVALID_ARGUMENT:Ji(),MUST_BE_CALL_SETUP_TOP:Ji(),NOT_INSTALLED:Ji(),NOT_AVAILABLE_IN_LEGACY_MODE:Ji(),REQUIRED_VALUE:Ji(),INVALID_VALUE:Ji(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ji(),NOT_INSTALLED_WITH_PROVIDE:Ji(),UNEXPECTED_ERROR:Ji(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ji(),BRIDGE_SUPPORT_VUE_2_ONLY:Ji(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ji(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ji(),__EXTEND_POINT__:Ji()};function vi(t,...e){return ac(t,null,void 0)}const Uy=go("__translateVNode"),Hy=go("__datetimeParts"),Yy=go("__numberParts"),TI=go("__setPluralRules"),xI=go("__injectWithOption"),Wy=go("__dispose");function kd(t){if(!Xt(t))return t;for(const e in t)if(qf(t,e))if(!e.includes("."))Xt(t[e])&&kd(t[e]);else{const n=e.split("."),i=n.length-1;let r=t,s=!1;for(let a=0;a<i;a++){if(n[a]in r||(r[n[a]]={}),!Xt(r[n[a]])){s=!0;break}r=r[n[a]]}s||(r[n[i]]=t[e],delete t[e]),Xt(r[n[i]])&&kd(r[n[i]])}return t}function Em(t,e){const{messages:n,__i18n:i,messageResolver:r,flatJson:s}=e,a=_t(n)?n:mn(i)?{}:{[t]:{}};if(mn(i)&&i.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:u}=o;l?(a[l]=a[l]||{},Lf(u,a[l])):Lf(u,a)}else Ge(o)&&Lf(JSON.parse(o),a)}),r==null&&s)for(const o in a)qf(a,o)&&kd(a[o]);return a}function CI(t){return t.type}function SI(t,e,n){let i=Xt(e.messages)?e.messages:{};"__i18nGlobal"in n&&(i=Em(t.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);r.length&&r.forEach(s=>{t.mergeLocaleMessage(s,i[s])});{if(Xt(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(Xt(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function IT(t){return De(aa,null,t,0)}const AT="__INTLIFY_META__",OT=()=>[],w$=()=>!1;let MT=0;function PT(t){return(e,n,i,r)=>t(n,i,qi()||void 0,r)}const E$=()=>{const t=qi();let e=null;return t&&(e=CI(t)[AT])?{[AT]:e}:null};function Xv(t={},e){const{__root:n,__injectWithOption:i}=t,r=n===void 0,s=t.flatJson,a=Kf?Ae:sm,o=!!t.translateExistCompatible;let l=It(t.inheritLocale)?t.inheritLocale:!0;const u=a(n&&l?n.locale.value:Ge(t.locale)?t.locale:$u),c=a(n&&l?n.fallbackLocale.value:Ge(t.fallbackLocale)||mn(t.fallbackLocale)||_t(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:u.value),h=a(Em(u.value,t)),p=a(_t(t.datetimeFormats)?t.datetimeFormats:{[u.value]:{}}),g=a(_t(t.numberFormats)?t.numberFormats:{[u.value]:{}});let y=n?n.missingWarn:It(t.missingWarn)||lo(t.missingWarn)?t.missingWarn:!0,b=n?n.fallbackWarn:It(t.fallbackWarn)||lo(t.fallbackWarn)?t.fallbackWarn:!0,T=n?n.fallbackRoot:It(t.fallbackRoot)?t.fallbackRoot:!0,E=!!t.fallbackFormat,w=cn(t.missing)?t.missing:null,_=cn(t.missing)?PT(t.missing):null,x=cn(t.postTranslation)?t.postTranslation:null,C=n?n.warnHtmlMessage:It(t.warnHtmlMessage)?t.warnHtmlMessage:!0,k=!!t.escapeParameter;const R=n?n.modifiers:_t(t.modifiers)?t.modifiers:{};let M=t.pluralRules||n&&n.pluralRules,I;I=(()=>{r&&dE(null);const ae={version:v$,locale:u.value,fallbackLocale:c.value,messages:h.value,modifiers:R,pluralRules:M,missing:_===null?void 0:_,missingWarn:y,fallbackWarn:b,fallbackFormat:E,unresolving:!0,postTranslation:x===null?void 0:x,warnHtmlMessage:C,escapeParameter:k,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ae.datetimeFormats=p.value,ae.numberFormats=g.value,ae.__datetimeFormatters=_t(I)?I.__datetimeFormatters:void 0,ae.__numberFormatters=_t(I)?I.__numberFormatters:void 0;const ce=GL(ae);return r&&dE(ce),ce})(),Nc(I,u.value,c.value);function U(){return[u.value,c.value,h.value,p.value,g.value]}const G=Se({get:()=>u.value,set:ae=>{u.value=ae,I.locale=u.value}}),ie=Se({get:()=>c.value,set:ae=>{c.value=ae,I.fallbackLocale=c.value,Nc(I,u.value,ae)}}),W=Se(()=>h.value),N=Se(()=>p.value),j=Se(()=>g.value);function F(){return cn(x)?x:null}function Q(ae){x=ae,I.postTranslation=ae}function _e(){return w}function ve(ae){ae!==null&&(_=PT(ae)),w=ae,I.missing=_}const xe=(ae,ce,Le,je,Et,nn)=>{U();let bn;try{__INTLIFY_PROD_DEVTOOLS__,r||(I.fallbackContext=n?VL():void 0),bn=ae(I)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(I.fallbackContext=void 0)}if(Le!=="translate exists"&&ti(bn)&&bn===Kp||Le==="translate exists"&&!bn){const[Wt,Ei]=ce();return n&&T?je(n):Et(Wt)}else{if(nn(bn))return bn;throw vi(ui.UNEXPECTED_RETURN_TYPE)}};function K(...ae){return xe(ce=>Reflect.apply(mE,null,[ce,...ae]),()=>fy(...ae),"translate",ce=>Reflect.apply(ce.t,ce,[...ae]),ce=>ce,ce=>Ge(ce))}function Z(...ae){const[ce,Le,je]=ae;if(je&&!Xt(je))throw vi(ui.INVALID_ARGUMENT);return K(ce,Le,Ii({resolvedMessage:!0},je||{}))}function P(...ae){return xe(ce=>Reflect.apply(gE,null,[ce,...ae]),()=>py(...ae),"datetime format",ce=>Reflect.apply(ce.d,ce,[...ae]),()=>lE,ce=>Ge(ce))}function re(...ae){return xe(ce=>Reflect.apply(_E,null,[ce,...ae]),()=>my(...ae),"number format",ce=>Reflect.apply(ce.n,ce,[...ae]),()=>lE,ce=>Ge(ce))}function Ee(ae){return ae.map(ce=>Ge(ce)||ti(ce)||It(ce)?IT(String(ce)):ce)}const ye={normalize:Ee,interpolate:ae=>ae,type:"vnode"};function Ze(...ae){return xe(ce=>{let Le;const je=ce;try{je.processor=ye,Le=Reflect.apply(mE,null,[je,...ae])}finally{je.processor=null}return Le},()=>fy(...ae),"translate",ce=>ce[Uy](...ae),ce=>[IT(ce)],ce=>mn(ce))}function de(...ae){return xe(ce=>Reflect.apply(_E,null,[ce,...ae]),()=>my(...ae),"number format",ce=>ce[Yy](...ae),OT,ce=>Ge(ce)||mn(ce))}function qe(...ae){return xe(ce=>Reflect.apply(gE,null,[ce,...ae]),()=>py(...ae),"datetime format",ce=>ce[Hy](...ae),OT,ce=>Ge(ce)||mn(ce))}function H(ae){M=ae,I.pluralRules=M}function L(ae,ce){return xe(()=>{if(!ae)return!1;const Le=Ge(ce)?ce:u.value,je=J(Le),Et=I.messageResolver(je,ae);return o?Et!=null:ju(Et)||Ir(Et)||Ge(Et)},()=>[ae],"translate exists",Le=>Reflect.apply(Le.te,Le,[ae,ce]),w$,Le=>It(Le))}function O(ae){let ce=null;const Le=rS(I,c.value,u.value);for(let je=0;je<Le.length;je++){const Et=h.value[Le[je]]||{},nn=I.messageResolver(Et,ae);if(nn!=null){ce=nn;break}}return ce}function z(ae){const ce=O(ae);return ce??(n?n.tm(ae)||{}:{})}function J(ae){return h.value[ae]||{}}function he(ae,ce){if(s){const Le={[ae]:ce};for(const je in Le)qf(Le,je)&&kd(Le[je]);ce=Le[ae]}h.value[ae]=ce,I.messages=h.value}function Y(ae,ce){h.value[ae]=h.value[ae]||{};const Le={[ae]:ce};if(s)for(const je in Le)qf(Le,je)&&kd(Le[je]);ce=Le[ae],Lf(ce,h.value[ae]),I.messages=h.value}function ue(ae){return p.value[ae]||{}}function D(ae,ce){p.value[ae]=ce,I.datetimeFormats=p.value,yE(I,ae,ce)}function $(ae,ce){p.value[ae]=Ii(p.value[ae]||{},ce),I.datetimeFormats=p.value,yE(I,ae,ce)}function X(ae){return g.value[ae]||{}}function se(ae,ce){g.value[ae]=ce,I.numberFormats=g.value,vE(I,ae,ce)}function Ie(ae,ce){g.value[ae]=Ii(g.value[ae]||{},ce),I.numberFormats=g.value,vE(I,ae,ce)}MT++,n&&Kf&&(xn(n.locale,ae=>{l&&(u.value=ae,I.locale=ae,Nc(I,u.value,c.value))}),xn(n.fallbackLocale,ae=>{l&&(c.value=ae,I.fallbackLocale=ae,Nc(I,u.value,c.value))}));const we={id:MT,locale:G,fallbackLocale:ie,get inheritLocale(){return l},set inheritLocale(ae){l=ae,ae&&n&&(u.value=n.locale.value,c.value=n.fallbackLocale.value,Nc(I,u.value,c.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:W,get modifiers(){return R},get pluralRules(){return M||{}},get isGlobal(){return r},get missingWarn(){return y},set missingWarn(ae){y=ae,I.missingWarn=y},get fallbackWarn(){return b},set fallbackWarn(ae){b=ae,I.fallbackWarn=b},get fallbackRoot(){return T},set fallbackRoot(ae){T=ae},get fallbackFormat(){return E},set fallbackFormat(ae){E=ae,I.fallbackFormat=E},get warnHtmlMessage(){return C},set warnHtmlMessage(ae){C=ae,I.warnHtmlMessage=ae},get escapeParameter(){return k},set escapeParameter(ae){k=ae,I.escapeParameter=ae},t:K,getLocaleMessage:J,setLocaleMessage:he,mergeLocaleMessage:Y,getPostTranslationHandler:F,setPostTranslationHandler:Q,getMissingHandler:_e,setMissingHandler:ve,[TI]:H};return we.datetimeFormats=N,we.numberFormats=j,we.rt=Z,we.te=L,we.tm=z,we.d=P,we.n=re,we.getDateTimeFormat=ue,we.setDateTimeFormat=D,we.mergeDateTimeFormat=$,we.getNumberFormat=X,we.setNumberFormat=se,we.mergeNumberFormat=Ie,we[xI]=i,we[Uy]=Ze,we[Hy]=qe,we[Yy]=de,we}function T$(t){const e=Ge(t.locale)?t.locale:$u,n=Ge(t.fallbackLocale)||mn(t.fallbackLocale)||_t(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=cn(t.missing)?t.missing:void 0,r=It(t.silentTranslationWarn)||lo(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=It(t.silentFallbackWarn)||lo(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,a=It(t.fallbackRoot)?t.fallbackRoot:!0,o=!!t.formatFallbackMessages,l=_t(t.modifiers)?t.modifiers:{},u=t.pluralizationRules,c=cn(t.postTranslation)?t.postTranslation:void 0,h=Ge(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,p=!!t.escapeParameterHtml,g=It(t.sync)?t.sync:!0;let y=t.messages;if(_t(t.sharedMessages)){const k=t.sharedMessages;y=Object.keys(k).reduce((M,I)=>{const B=M[I]||(M[I]={});return Ii(B,k[I]),M},y||{})}const{__i18n:b,__root:T,__injectWithOption:E}=t,w=t.datetimeFormats,_=t.numberFormats,x=t.flatJson,C=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:y,flatJson:x,datetimeFormats:w,numberFormats:_,missing:i,missingWarn:r,fallbackWarn:s,fallbackRoot:a,fallbackFormat:o,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:h,escapeParameter:p,messageResolver:t.messageResolver,inheritLocale:g,translateExistCompatible:C,__i18n:b,__root:T,__injectWithOption:E}}function Ky(t={},e){{const n=Xv(T$(t)),{__extender:i}=t,r={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return It(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=It(s)?!s:s},get silentFallbackWarn(){return It(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=It(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[a,o,l]=s,u={};let c=null,h=null;if(!Ge(a))throw vi(ui.INVALID_ARGUMENT);const p=a;return Ge(o)?u.locale=o:mn(o)?c=o:_t(o)&&(h=o),mn(l)?c=l:_t(l)&&(h=l),Reflect.apply(n.t,n,[p,c||h||{},u])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[a,o,l]=s,u={plural:1};let c=null,h=null;if(!Ge(a))throw vi(ui.INVALID_ARGUMENT);const p=a;return Ge(o)?u.locale=o:ti(o)?u.plural=o:mn(o)?c=o:_t(o)&&(h=o),Ge(l)?u.locale=l:mn(l)?c=l:_t(l)&&(h=l),Reflect.apply(n.t,n,[p,c||h||{},u])},te(s,a){return n.te(s,a)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,a){n.setLocaleMessage(s,a)},mergeLocaleMessage(s,a){n.mergeLocaleMessage(s,a)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,a){n.setDateTimeFormat(s,a)},mergeDateTimeFormat(s,a){n.mergeDateTimeFormat(s,a)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,a){n.setNumberFormat(s,a)},mergeNumberFormat(s,a){n.mergeNumberFormat(s,a)},getChoiceIndex(s,a){return-1}};return r.__extender=i,r}}const Zv={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function x$({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((i,r)=>[...i,...r.type===Je?r.children:[r]],[]):e.reduce((n,i)=>{const r=t[i];return r&&(n[i]=r()),n},{})}function kI(t){return Je}const C$=vn({name:"i18n-t",props:Ii({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ti(t)||!isNaN(t)}},Zv),setup(t,e){const{slots:n,attrs:i}=e,r=t.i18n||Jv({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(h=>h!=="_"),a={};t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=Ge(t.plural)?+t.plural:t.plural);const o=x$(e,s),l=r[Uy](t.keypath,o,a),u=Ii({},i),c=Ge(t.tag)||Xt(t.tag)?t.tag:kI();return uc(c,u,l)}}}),DT=C$;function S$(t){return mn(t)&&!Ge(t[0])}function RI(t,e,n,i){const{slots:r,attrs:s}=e;return()=>{const a={part:!0};let o={};t.locale&&(a.locale=t.locale),Ge(t.format)?a.key=t.format:Xt(t.format)&&(Ge(t.format.key)&&(a.key=t.format.key),o=Object.keys(t.format).reduce((p,g)=>n.includes(g)?Ii({},p,{[g]:t.format[g]}):p,{}));const l=i(t.value,a,o);let u=[a.key];mn(l)?u=l.map((p,g)=>{const y=r[p.type],b=y?y({[p.type]:p.value,index:g,parts:l}):[p.value];return S$(b)&&(b[0].key=`${p.type}-${g}`),b}):Ge(l)&&(u=[l]);const c=Ii({},s),h=Ge(t.tag)||Xt(t.tag)?t.tag:kI();return uc(h,c,u)}}const k$=vn({name:"i18n-n",props:Ii({value:{type:Number,required:!0},format:{type:[String,Object]}},Zv),setup(t,e){const n=t.i18n||Jv({useScope:t.scope,__useComponent:!0});return RI(t,e,mS,(...i)=>n[Yy](...i))}}),LT=k$,R$=vn({name:"i18n-d",props:Ii({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Zv),setup(t,e){const n=t.i18n||Jv({useScope:t.scope,__useComponent:!0});return RI(t,e,pS,(...i)=>n[Hy](...i))}}),FT=R$;function I$(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function A$(t){const e=a=>{const{instance:o,modifiers:l,value:u}=a;if(!o||!o.$)throw vi(ui.UNEXPECTED_ERROR);const c=I$(t,o.$),h=NT(u);return[Reflect.apply(c.t,c,[...$T(h)]),c]};return{created:(a,o)=>{const[l,u]=e(o);Kf&&t.global===u&&(a.__i18nWatcher=xn(u.locale,()=>{o.instance&&o.instance.$forceUpdate()})),a.__composer=u,a.textContent=l},unmounted:a=>{Kf&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:o})=>{if(a.__composer){const l=a.__composer,u=NT(o);a.textContent=Reflect.apply(l.t,l,[...$T(u)])}},getSSRProps:a=>{const[o]=e(a);return{textContent:o}}}}function NT(t){if(Ge(t))return{path:t};if(_t(t)){if(!("path"in t))throw vi(ui.REQUIRED_VALUE,"path");return t}else throw vi(ui.INVALID_VALUE)}function $T(t){const{path:e,locale:n,args:i,choice:r,plural:s}=t,a={},o=i||{};return Ge(n)&&(a.locale=n),ti(r)&&(a.plural=r),ti(s)&&(a.plural=s),[e,o,a]}function O$(t,e,...n){const i=_t(n[0])?n[0]:{},r=!!i.useI18nComponentName;(It(i.globalInstall)?i.globalInstall:!0)&&([r?"i18n":DT.name,"I18nT"].forEach(a=>t.component(a,DT)),[LT.name,"I18nN"].forEach(a=>t.component(a,LT)),[FT.name,"I18nD"].forEach(a=>t.component(a,FT))),t.directive("t",A$(e))}function M$(t,e,n){return{beforeCreate(){const i=qi();if(!i)throw vi(ui.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const s=r.i18n;if(r.__i18n&&(s.__i18n=r.__i18n),s.__root=e,this===this.$root)this.$i18n=jT(t,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=Ky(s);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=jT(t,r);else{this.$i18n=Ky({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;r.__i18nGlobal&&SI(e,r,r),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,a)=>this.$i18n.te(s,a),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=qi();if(!i)throw vi(ui.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(i),delete this.$i18n}}}function jT(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[TI](e.pluralizationRules||t.pluralizationRules);const n=Em(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(i=>t.mergeLocaleMessage(i,n[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}const P$=go("global-vue-i18n");function D$(t={},e){const n=__VUE_I18N_LEGACY_API__&&It(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,i=It(t.globalInjection)?t.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,s=new Map,[a,o]=L$(t,n),l=go("");function u(p){return s.get(p)||null}function c(p,g){s.set(p,g)}function h(p){s.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return r},async install(g,...y){if(g.__VUE_I18N_SYMBOL__=l,g.provide(g.__VUE_I18N_SYMBOL__,p),_t(y[0])){const E=y[0];p.__composerExtend=E.__composerExtend,p.__vueI18nExtend=E.__vueI18nExtend}let b=null;!n&&i&&(b=U$(g,p.global)),__VUE_I18N_FULL_INSTALL__&&O$(g,p,...y),__VUE_I18N_LEGACY_API__&&n&&g.mixin(M$(o,o.__composer,p));const T=g.unmount;g.unmount=()=>{b&&b(),p.dispose(),T()}},get global(){return o},dispose(){a.stop()},__instances:s,__getInstance:u,__setInstance:c,__deleteInstance:h};return p}}function Jv(t={}){const e=qi();if(e==null)throw vi(ui.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw vi(ui.NOT_INSTALLED);const n=F$(e),i=$$(n),r=CI(e),s=N$(t,r);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw vi(ui.NOT_AVAILABLE_IN_LEGACY_MODE);return G$(e,s,i,t)}if(s==="global")return SI(i,t,r),i;if(s==="parent"){let l=j$(n,e,t.__useComponent);return l==null&&(l=i),l}const a=n;let o=a.__getInstance(e);if(o==null){const l=Ii({},t);"__i18n"in r&&(l.__i18n=r.__i18n),i&&(l.__root=i),o=Xv(l),a.__composerExtend&&(o[Wy]=a.__composerExtend(o)),V$(a,e,o),a.__setInstance(e,o)}return o}function L$(t,e,n){const i=Jp();{const r=__VUE_I18N_LEGACY_API__&&e?i.run(()=>Ky(t)):i.run(()=>Xv(t));if(r==null)throw vi(ui.UNEXPECTED_ERROR);return[i,r]}}function F$(t){{const e=fl(t.isCE?P$:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw vi(t.isCE?ui.NOT_INSTALLED_WITH_PROVIDE:ui.UNEXPECTED_ERROR);return e}}function N$(t,e){return Yp(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function $$(t){return t.mode==="composition"?t.global:t.global.__composer}function j$(t,e,n=!1){let i=null;const r=e.root;let s=B$(e,n);for(;s!=null;){const a=t;if(t.mode==="composition")i=a.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const o=a.__getInstance(s);o!=null&&(i=o.__composer,n&&i&&!i[xI]&&(i=null))}if(i!=null||r===s)break;s=s.parent}return i}function B$(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function V$(t,e,n){Cn(()=>{},e),Rs(()=>{const i=n;t.__deleteInstance(e);const r=i[Wy];r&&(r(),delete i[Wy])},e)}function G$(t,e,n,i={}){const r=e==="local",s=sm(null);if(r&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw vi(ui.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=It(i.inheritLocale)?i.inheritLocale:!Ge(i.locale),o=Ae(!r||a?n.locale.value:Ge(i.locale)?i.locale:$u),l=Ae(!r||a?n.fallbackLocale.value:Ge(i.fallbackLocale)||mn(i.fallbackLocale)||_t(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:o.value),u=Ae(Em(o.value,i)),c=Ae(_t(i.datetimeFormats)?i.datetimeFormats:{[o.value]:{}}),h=Ae(_t(i.numberFormats)?i.numberFormats:{[o.value]:{}}),p=r?n.missingWarn:It(i.missingWarn)||lo(i.missingWarn)?i.missingWarn:!0,g=r?n.fallbackWarn:It(i.fallbackWarn)||lo(i.fallbackWarn)?i.fallbackWarn:!0,y=r?n.fallbackRoot:It(i.fallbackRoot)?i.fallbackRoot:!0,b=!!i.fallbackFormat,T=cn(i.missing)?i.missing:null,E=cn(i.postTranslation)?i.postTranslation:null,w=r?n.warnHtmlMessage:It(i.warnHtmlMessage)?i.warnHtmlMessage:!0,_=!!i.escapeParameter,x=r?n.modifiers:_t(i.modifiers)?i.modifiers:{},C=i.pluralRules||r&&n.pluralRules;function k(){return[o.value,l.value,u.value,c.value,h.value]}const R=Se({get:()=>s.value?s.value.locale.value:o.value,set:O=>{s.value&&(s.value.locale.value=O),o.value=O}}),M=Se({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:O=>{s.value&&(s.value.fallbackLocale.value=O),l.value=O}}),I=Se(()=>s.value?s.value.messages.value:u.value),B=Se(()=>c.value),U=Se(()=>h.value);function G(){return s.value?s.value.getPostTranslationHandler():E}function ie(O){s.value&&s.value.setPostTranslationHandler(O)}function W(){return s.value?s.value.getMissingHandler():T}function N(O){s.value&&s.value.setMissingHandler(O)}function j(O){return k(),O()}function F(...O){return s.value?j(()=>Reflect.apply(s.value.t,null,[...O])):j(()=>"")}function Q(...O){return s.value?Reflect.apply(s.value.rt,null,[...O]):""}function _e(...O){return s.value?j(()=>Reflect.apply(s.value.d,null,[...O])):j(()=>"")}function ve(...O){return s.value?j(()=>Reflect.apply(s.value.n,null,[...O])):j(()=>"")}function xe(O){return s.value?s.value.tm(O):{}}function K(O,z){return s.value?s.value.te(O,z):!1}function Z(O){return s.value?s.value.getLocaleMessage(O):{}}function P(O,z){s.value&&(s.value.setLocaleMessage(O,z),u.value[O]=z)}function re(O,z){s.value&&s.value.mergeLocaleMessage(O,z)}function Ee(O){return s.value?s.value.getDateTimeFormat(O):{}}function q(O,z){s.value&&(s.value.setDateTimeFormat(O,z),c.value[O]=z)}function ye(O,z){s.value&&s.value.mergeDateTimeFormat(O,z)}function Ze(O){return s.value?s.value.getNumberFormat(O):{}}function de(O,z){s.value&&(s.value.setNumberFormat(O,z),h.value[O]=z)}function qe(O,z){s.value&&s.value.mergeNumberFormat(O,z)}const H={get id(){return s.value?s.value.id:-1},locale:R,fallbackLocale:M,messages:I,datetimeFormats:B,numberFormats:U,get inheritLocale(){return s.value?s.value.inheritLocale:a},set inheritLocale(O){s.value&&(s.value.inheritLocale=O)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(u.value)},get modifiers(){return s.value?s.value.modifiers:x},get pluralRules(){return s.value?s.value.pluralRules:C},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:p},set missingWarn(O){s.value&&(s.value.missingWarn=O)},get fallbackWarn(){return s.value?s.value.fallbackWarn:g},set fallbackWarn(O){s.value&&(s.value.missingWarn=O)},get fallbackRoot(){return s.value?s.value.fallbackRoot:y},set fallbackRoot(O){s.value&&(s.value.fallbackRoot=O)},get fallbackFormat(){return s.value?s.value.fallbackFormat:b},set fallbackFormat(O){s.value&&(s.value.fallbackFormat=O)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:w},set warnHtmlMessage(O){s.value&&(s.value.warnHtmlMessage=O)},get escapeParameter(){return s.value?s.value.escapeParameter:_},set escapeParameter(O){s.value&&(s.value.escapeParameter=O)},t:F,getPostTranslationHandler:G,setPostTranslationHandler:ie,getMissingHandler:W,setMissingHandler:N,rt:Q,d:_e,n:ve,tm:xe,te:K,getLocaleMessage:Z,setLocaleMessage:P,mergeLocaleMessage:re,getDateTimeFormat:Ee,setDateTimeFormat:q,mergeDateTimeFormat:ye,getNumberFormat:Ze,setNumberFormat:de,mergeNumberFormat:qe};function L(O){O.locale.value=o.value,O.fallbackLocale.value=l.value,Object.keys(u.value).forEach(z=>{O.mergeLocaleMessage(z,u.value[z])}),Object.keys(c.value).forEach(z=>{O.mergeDateTimeFormat(z,c.value[z])}),Object.keys(h.value).forEach(z=>{O.mergeNumberFormat(z,h.value[z])}),O.escapeParameter=_,O.fallbackFormat=b,O.fallbackRoot=y,O.fallbackWarn=g,O.missingWarn=p,O.warnHtmlMessage=w}return dm(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw vi(ui.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const O=s.value=t.proxy.$i18n.__composer;e==="global"?(o.value=O.locale.value,l.value=O.fallbackLocale.value,u.value=O.messages.value,c.value=O.datetimeFormats.value,h.value=O.numberFormats.value):r&&L(O)}),H}const z$=["locale","fallbackLocale","availableLocales"],BT=["t","rt","d","n","tm","te"];function U$(t,e){const n=Object.create(null);return z$.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s)throw vi(ui.UNEXPECTED_ERROR);const a=Yn(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,r,a)}),t.config.globalProperties.$i18n=n,BT.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s||!s.value)throw vi(ui.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${r}`,s)}),()=>{delete t.config.globalProperties.$i18n,BT.forEach(r=>{delete t.config.globalProperties[`$${r}`]})}}b$();__INTLIFY_JIT_COMPILATION__?cE(WL):cE(YL);NL(_L);$L(rS);if(__INTLIFY_PROD_DEVTOOLS__){const t=Xs();t.__INTLIFY__=!0,kL(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var H$={VITE_MML_API_KEY:"ba40e643-3a55-487f-aea4-c5906b1b597f",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,APP_VERSION:"3.0.0",NODE_ENV:"production"},qy=D$({inheriteLocale:!0,globalInjection:!0,legacy:!1,locale:localStorage.getItem("locale"),fallbackLocale:H$.VUE_APP_I18N_FALLBACK_LOCALE||"fi",preserveDirectiveContent:!1,warnHtmlMessage:!1,messages:{fi:{info:{header:"Tietoa",title:"Tietoa",p1:"Opendata on STUKin kehittämä avoimen lähdekoodin applikaatio, jolla voit tarkastella Suomen ulkoisen säteilyn valvontaverkon mittaustuloksia. Applikaatio saa datansa Ilmatieteen laitoksen avoimen datan rajapinnasta.",p2:"Lue lisää projektin <a href='https://github.com/StukFi/opendata' target='_blank'>GitHub-sivuilta</a>."},settings:{title:"Asetukset",header:"Asetukset",language:"Kieli",date:"Päivitä päivämäärää",time:"Päivitä kellonaikaa",dateFormat:"Päiväyksen muoto",dateFormatA:"PP.KK.VVVV",dateFormatB:"VVVV-KK-PP",labelFinnish:"Suomi",labelEnglish:"Englanti",timeFormat:"Ajan esitysmuoto",timeFormatA:"24 tunnin kello",timeFormatB:"12 tunnin kello",backgroundMap:"Kartta",backgroundMapDefault:"Oletus (OSM)",backgroundMapCustom:"Mukautettu"},changeMode:{title:"Vaihda näkymää (annosnopeudet/ilman radioaktiivisuus)"},playback:{title:{date:"Päivitä päiväämäärää",time:"Päivitä kellonaikaa",disabled:{date:"Valitse aikaisempi päivämäärä",time:"Valitse aikaisempi kellonaika"},start:"Aloita toisto",stop:"Pysäytä toisto",speed:"Toistonopeus"}},dose:{doseRateTresholds:"Annosnopeusrajat"},radionuclideMode:{date:"Keräysjakso",concentration:"Aktiivisuuspitoisuus",uncertainty:"Epävarmuus",noData:"Tälle aikajaksolle ei ole saatavilla dataa",info:"Pääkaupunkiseudun mittauspiste on muuttanut vuoden 2022 toukokuun alusta Helsingistä Vantaalle. Vuoden 2022 huhtikuun loppuun saakka mittaustuloksia voi hakea Helsingistä. Toukokuusta 2022 alkaen tulokset löytyvät Vantaalta."},modes:"Annosnopeudet / Ilman Radionuklidit"},en:{info:{header:"About",title:"About",p1:"Opendata is an open source application developed by STUK that enables viewing of external radiation results from around Finland. The application gets its data from the Finnish Meteorological Institute's open data API.",p2:"To learn more visit the project on <a href='https://github.com/StukFi/opendata' target='_blank'>GitHub</a>."},settings:{title:"Settings",header:"Settings",language:"Language",date:"Update date",time:"Update time",dateFormat:"Date format",dateFormatA:"DD.MM.YYYY",dateFormatB:"YYYY.MM.DD",labelFinnish:"Finnish",labelEnglish:"English",timeFormat:"Time notation",timeFormatA:"24-hour clock",timeFormatB:"12-hour clock",backgroundMap:"Map",backgroundMapDefault:"Default (OSM)",backgroundMapCustom:"Custom"},changeMode:{title:"Change mode (dose rates/air radionuclides)"},playback:{title:{date:"Update date",time:"Update time",disabled:{date:"Choose an earlier date to enable playback",time:"Choose an earlier time to enable playback"},start:"Start playback",stop:"Stop playback",speed:"Playback speed"}},dose:{doseRateTresholds:"Dose rate thresholds"},radionuclideMode:{date:"Collection Period",concentration:"Concentration",uncertainty:"Uncertainty",noData:"No data available for this time period",info:"The measurement point for the capital region has moved from Helsinki to Vantaa at the beginning of May 2022. Until the end of April 2022, you can view measurement results from Helsinki. From may 2022, the results can be found from Vantaa."},modes:"Dose Rates / Air Radionuclides"}}});const st=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},Y$={name:"BaseRadioButton",emits:["update:modelValue"],props:{label:{type:String,required:!0},ownValue:{type:String,required:!0},modelValue:{type:String,required:!0}},data(){return{id:String(Math.random())}},computed:{isChecked(){return this.ownValue===this.modelValue}},methods:{onChange(){this.$emit("update:modelValue",this.ownValue)}}},W$=["id","checked"],K$=["for"];function q$(t,e,n,i,r,s){return ne(),pe("div",{key:n.label,class:"container"},[Me("input",{id:r.id,type:"radio",class:"radio-button-input",checked:s.isChecked,onChange:e[0]||(e[0]=(...a)=>s.onChange&&s.onChange(...a))},null,40,W$),Me("label",{class:"label",for:r.id},bt(n.label),9,K$)])}const X$=st(Y$,[["render",q$],["__scopeId","data-v-acbe8240"]]),Z$={install(t){t.component("BaseRadioButton",X$)}},rt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function ft(){throw new Error("Unimplemented abstract method.")}let J$=0;function wt(t){return t.ol_uid||(t.ol_uid=String(++J$))}function VT(t){return t[0]>0&&t[1]>0}function Q$(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Ki(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Tm{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Ki(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Tm({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ft()}getImage(e){return ft()}getHitDetectionImage(){return ft()}getPixelRatio(e){return 1}getImageState(){return ft()}getImageSize(){return ft()}getOrigin(){return ft()}getSize(){return ft()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ki(e)}listenImageChange(e){ft()}load(){ft()}unlistenImageChange(e){ft()}ready(){return Promise.resolve()}}const Rd={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Ri={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};Ri.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};Ri.max=Ri.whitepoint[2].D65;Ri.rgb=function(t,e){e=e||Ri.whitepoint[2].E;var n=t[0]/e[0],i=t[1]/e[1],r=t[2]/e[2],s,a,o;return s=n*3.240969941904521+i*-1.537383177570093+r*-.498610760293,a=n*-.96924363628087+i*1.87596750150772+r*.041555057407175,o=n*.055630079696993+i*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[s*255,a*255,o*255]};Rd.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,r=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=n*.41239079926595+i*.35758433938387+r*.18048078840183,a=n*.21263900587151+i*.71516867876775+r*.072192315360733,o=n*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||Ri.whitepoint[2].E,[s*e[0],a*e[1],o*e[2]]};const Qv={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,r,s,a,o,l,u,c,h,p,g,y,b;if(s=t[0],a=t[1],o=t[2],s===0)return[0,0,0];var T=.0011070564598794539;return e=e||"D65",n=n||2,h=Ri.whitepoint[n][e][0],p=Ri.whitepoint[n][e][1],g=Ri.whitepoint[n][e][2],y=4*h/(h+15*p+3*g),b=9*p/(h+15*p+3*g),i=a/(13*s)+y||0,r=o/(13*s)+b||0,u=s>8?p*Math.pow((s+16)/116,3):p*s*T,l=u*9*i/(4*r)||0,c=u*(12-3*i-20*r)/(4*r)||0,[l,u,c]}};Ri.luv=function(t,e,n){var i,r,s,a,o,l,u,c,h,p,g,y,b,T=.008856451679035631,E=903.2962962962961;e=e||"D65",n=n||2,h=Ri.whitepoint[n][e][0],p=Ri.whitepoint[n][e][1],g=Ri.whitepoint[n][e][2],y=4*h/(h+15*p+3*g),b=9*p/(h+15*p+3*g),l=t[0],u=t[1],c=t[2],i=4*l/(l+15*u+3*c)||0,r=9*u/(l+15*u+3*c)||0;var w=u/p;return s=w<=T?E*w:116*Math.pow(w,1/3)-16,a=13*s*(i-y),o=13*s*(r-b),[s,a,o]};var II={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],i=t[2],r,s,a;return a=i/360*2*Math.PI,r=n*Math.cos(a),s=n*Math.sin(a),[e,r,s]},xyz:function(t){return Qv.xyz(II.luv(t))}};Qv.lchuv=function(t){var e=t[0],n=t[1],i=t[2],r=Math.sqrt(n*n+i*i),s=Math.atan2(i,n),a=s*360/2/Math.PI;return a<0&&(a+=360),[e,r,a]};Ri.lchuv=function(t){return Qv.lchuv(Ri.luv(t))};const GT={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var zT={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function ej(t){var c,h;var e,n=[],i=1,r;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),GT[t])n=GT[t].slice(),r="rgb";else if(t==="transparent")i=0,r="rgb",n=[0,0,0];else if(t[0]==="#"){var s=t.slice(1),a=s.length,o=a<=4;i=1,o?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],a===4&&(i=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],a===8&&(i=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];r=l.replace(/a$/,"");var u=r==="cmyk"?4:r==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=n.shift()),n=n.map(function(p,g){if(p[p.length-1]==="%")return p=parseFloat(p)/100,g===3?p:r==="rgb"?p*255:r[0]==="h"||r[0]==="l"&&!g?p*100:r==="lab"?p*125:r==="lch"?g<2?p*150:p*360:r[0]==="o"&&!g?p:r==="oklab"?p*.4:r==="oklch"?g<2?p*.4:p*360:p;if(r[g]==="h"||g===2&&r[r.length-1]==="h"){if(zT[p]!==void 0)return zT[p];if(p.endsWith("deg"))return parseFloat(p);if(p.endsWith("turn"))return parseFloat(p)*360;if(p.endsWith("grad"))return parseFloat(p)*360/400;if(p.endsWith("rad"))return parseFloat(p)*180/Math.PI}return p==="none"?0:parseFloat(p)}),i=n.length>u?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(p){return parseFloat(p)}),r=((h=(c=t.match(/([a-z])/ig))==null?void 0:c.join(""))==null?void 0:h.toLowerCase())||"rgb");return{space:r,values:n,alpha:i}}const R0={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,r,s,a,o,l,u=0;if(n===0)return l=i*255,[l,l,l];for(s=i<.5?i*(1+n):i+n-i*n,r=2*i-s,o=[0,0,0];u<3;)a=e+1/3*-(u-1),a<0?a++:a>1&&a--,l=6*a<1?r+(s-r)*6*a:2*a<1?s:3*a<2?r+(s-r)*(2/3-a)*6:r,o[u++]=l*255;return o}};Rd.hsl=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,r=Math.min(e,n,i),s=Math.max(e,n,i),a=s-r,o,l,u;return s===r?o=0:e===s?o=(n-i)/a:n===s?o=2+(i-e)/a:i===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360),u=(r+s)/2,s===r?l=0:u<=.5?l=a/(s+r):l=a/(2-s-r),[o,l*100,u*100]};function tj(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=ej(t);if(!n.space)return[];const i=n.space[0]==="h"?R0.min:Rd.min,r=n.space[0]==="h"?R0.max:Rd.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],i[0]),r[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),r[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),r[2]),n.space[0]==="h"&&(e=R0.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}function Mn(t,e,n){return Math.min(Math.max(t,e),n)}function nj(t,e,n,i,r,s){const a=r-n,o=s-i;if(a!==0||o!==0){const l=((t-n)*a+(e-i)*o)/(a*a+o*o);l>1?(n=r,i=s):l>0&&(n+=a*l,i+=o*l)}return ml(t,e,n,i)}function ml(t,e,n,i){const r=n-t,s=i-e;return r*r+s*s}function ij(t){const e=t.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(t[i][i]);for(let o=i+1;o<e;o++){const l=Math.abs(t[o][i]);l>s&&(s=l,r=o)}if(s===0)return null;const a=t[r];t[r]=t[i],t[i]=a;for(let o=i+1;o<e;o++){const l=-t[o][i]/t[i][i];for(let u=i;u<e+1;u++)i==u?t[o][u]=0:t[o][u]+=l*t[i][u]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}function Uf(t){return t*Math.PI/180}function Du(t,e){const n=t%e;return n*e<0?n+e:n}function gr(t,e,n){return t+n*(e-t)}function e1(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function yf(t,e){return Math.floor(e1(t,e))}function _f(t,e){return Math.ceil(e1(t,e))}function rj(t){return typeof t=="string"?t:n1(t)}const sj=1024,Bc={};let I0=0;function aj(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function UT(t){const e=Ri.lchuv(Rd.xyz(t));return e[3]=t[3],e}function oj(t){const e=Ri.rgb(II.xyz(t));return e[3]=t[3],e}function t1(t){if(Bc.hasOwnProperty(t))return Bc[t];if(I0>=sj){let n=0;for(const i in Bc)n++&3||(delete Bc[i],--I0)}const e=tj(t);if(e.length!==4)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return AI(e),Bc[t]=e,++I0,e}function Id(t){return Array.isArray(t)?t:t1(t)}function AI(t){return t[0]=Mn(t[0]+.5|0,0,255),t[1]=Mn(t[1]+.5|0,0,255),t[2]=Mn(t[2]+.5|0,0,255),t[3]=Mn(t[3],0,1),t}function n1(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const r=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+r+")"}function lj(t){try{return t1(t),!0}catch{return!1}}const ho=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",uj=ho.includes("firefox"),cj=ho.includes("safari")&&!ho.includes("chrom");cj&&(ho.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ho));const dj=ho.includes("webkit")&&!ho.includes("edge"),OI=ho.includes("macintosh"),MI=typeof devicePixelRatio<"u"?devicePixelRatio:1,PI=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,DI=typeof Image<"u"&&Image.prototype.decode,LI=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function wi(t,e,n,i){let r;return n&&n.length?r=n.shift():PI?r=new OffscreenCanvas(t||300,e||300):r=document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}let A0;function _p(){return A0||(A0=wi(1,1)),A0}function uh(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function hj(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function fj(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function HT(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function vp(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function FI(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function pj(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){t.appendChild(s);continue}if(!s){t.removeChild(r),--i;continue}t.insertBefore(s,r)}}}class i1{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}class fa{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function mj(t){t.stopPropagation()}function gj(t,e,n){let i,r;n=n||Es;let s=0,a=t.length,o=!1;for(;s<a;)i=s+(a-s>>1),r=+n(t[i],e),r<0?s=i+1:(a=i,o=!r);return o?s:~s}function Es(t,e){return t>e?1:t<e?-1:0}function r1(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){const s=t[r];if(s===e)return r;if(s<e)return n(e,t[r-1],s)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(t[r]<e)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(t[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function yj(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Ts(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function Eo(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function _j(t,e,n){const i=e||Es;return t.every(function(r,s){if(s===0)return!0;const a=i(t[s-1],r);return!(a>0||a===0)})}function Ad(){return!0}function xm(){return!1}function Ku(){}function NI(t){let e=!1,n,i,r;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==r||!Eo(s,i))&&(e=!0,r=this,i=s,n=t.apply(this,arguments)),n}}function $I(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function ch(t){for(const e in t)delete t[e]}function fo(t){let e;for(e in t)return!1;return!e}class dh extends i1{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(n)||r.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=n?new fa(e):e;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,o[i]=0),++a[i];let l;for(let u=0,c=r.length;u<c;++u)if("handleEvent"in r[u]?l=r[u].handleEvent(s):l=r[u].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--a[i]===0){let u=o[i];for(delete o[i];u--;)this.removeEventListener(i,Ku);delete a[i]}return l}disposeInternal(){this.listeners_&&ch(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Ku,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}const lt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Mt(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){const a=n;n=function(){t.removeEventListener(e,n),a.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function bp(t,e,n,i){return Mt(t,e,n,i,!0)}function an(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ch(t))}class vj extends dh{constructor(e,n,i,r){super(),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=typeof r=="function"?rt.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(lt.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==rt.IDLE&&this.loader){this.state=rt.LOADING,this.changed();const e=this.getResolution(),n=Array.isArray(e)?e[0]:e;$I(()=>this.loader(this.getExtent(),n,this.getPixelRatio())).then(i=>{"image"in i&&(this.image_=i.image),"extent"in i&&(this.extent=i.extent),"resolution"in i&&(this.resolution=i.resolution),"pixelRatio"in i&&(this.pixelRatio_=i.pixelRatio),(i instanceof HTMLImageElement||i instanceof ImageBitmap||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement)&&(this.image_=i),this.state=rt.LOADED}).catch(i=>{this.state=rt.ERROR,console.error(i)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function bj(t,e,n){const i=t;let r=!0,s=!1,a=!1;const o=[bp(i,lt.LOAD,function(){a=!0,s||e()})];return i.src&&DI?(s=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(a?e():n())})):o.push(bp(i,lt.ERROR,n)),function(){r=!1,o.forEach(an)}}function wj(t,e){return new Promise((n,i)=>{function r(){a(),n(t)}function s(){a(),i(new Error("Image load error"))}function a(){t.removeEventListener("load",r),t.removeEventListener("error",s)}t.addEventListener("load",r),t.addEventListener("error",s)})}function Ej(t,e){return e&&(t.src=e),t.src&&DI?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(r=>t.complete&&t.width?n(t):i(r))):wj(t)}class Tj{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const r=O0(e,n,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,n,i){const r=O0(e,n,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,n,i,r,s){const a=O0(e,n,i),o=a in this.cache_;this.cache_[a]=r,s&&(r.getImageState()===rt.IDLE&&r.load(),r.getImageState()===rt.LOADING?r.ready().then(()=>{this.patternCache_[a]=_p().createPattern(r.getImage(1),"repeat")}):this.patternCache_[a]=_p().createPattern(r.getImage(1),"repeat")),o||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function O0(t,e,n){const i=n?Id(n):"null";return e+":"+t+":"+i}const ys=new Tj;let Vc=null;class xj extends dh{constructor(e,n,i,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?rt.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===rt.LOADED){Vc||(Vc=wi(1,1,void 0,{willReadFrequently:!0})),Vc.drawImage(this.image_,0,0);try{Vc.getImageData(0,0,1,1),this.tainted_=!1}catch{Vc=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(lt.CHANGE)}handleImageError_(){this.imageState_=rt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=rt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=wi(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===rt.IDLE){this.image_||this.initializeImage_(),this.imageState_=rt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Ej(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==rt.LOADED)return;const n=this.image_,i=document.createElement("canvas");i.width=Math.ceil(n.width*e),i.height=Math.ceil(n.height*e);const r=i.getContext("2d");r.scale(e,e),r.drawImage(n,0,0),r.globalCompositeOperation="multiply",r.fillStyle=rj(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(n,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{this.imageState_===rt.LOADED||this.imageState_===rt.ERROR?e():this.addEventListener(lt.CHANGE,function n(){(this.imageState_===rt.LOADED||this.imageState_===rt.ERROR)&&(this.removeEventListener(lt.CHANGE,n),e())})})),this.ready_}}function s1(t,e,n,i,r,s){let a=e===void 0?void 0:ys.get(e,n,r);return a||(a=new xj(t,t&&"src"in t?t.src||void 0:e,n,i,r),ys.set(e,n,r,a,s)),s&&a&&!ys.getPattern(e,n,r)&&ys.set(e,n,r,a,s),a}function _s(t){return t?Array.isArray(t)?n1(t):typeof t=="object"&&"src"in t?Cj(t):t:null}function Cj(t){if(!t.offset||!t.size)return ys.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=ys.getPattern(e,void 0,t.color);if(n)return n;const i=ys.get(t.src,"anonymous",null);if(i.getImageState()!==rt.LOADED)return null;const r=wi(t.size[0],t.size[1]);return r.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),s1(r.canvas,e,void 0,rt.LOADED,t.color,!0),ys.getPattern(e,void 0,t.color)}const qu={PROPERTYCHANGE:"propertychange"};class hh extends dh{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(lt.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Mt(this,e[s],n);return r}return Mt(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=bp(this,e[s],n)}else i=bp(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)Sj(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],n);else this.removeEventListener(e,n)}}hh.prototype.on;hh.prototype.once;hh.prototype.un;function Sj(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)an(t[e]);else an(t)}class YT extends fa{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class ss extends hh{constructor(e){super(),this.on,this.once,this.un,wt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new YT(i,e,n)),i=qu.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new YT(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const r=this.values_||(this.values_={});if(i)r[e]=n;else{const s=r[e];r[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],fo(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const vf="ol-hidden",kj="ol-selectable",kl="ol-unselectable",Cm="ol-control",WT="ol-collapsed",Rj=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),KT=["style","variant","weight","size","lineHeight","family"],jI=function(t){const e=t.match(Rj);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=KT.length;i<r;++i){const s=e[i+1];s!==void 0&&(n[KT[i]]=s)}return n.families=n.family.split(/,\s?/),n},BI="10px sans-serif",tr="#000",Xu="round",ia=[],ra=0,Zu="round",Od=10,Md="#000",Pd="center",wp="middle",il=[0,0,0,0],Dd=1,Us=new ss;let gu=null,Xy;const Zy={},Ij=function(){const e="32px ",n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10";let s,a;function o(u,c,h){let p=!0;for(let g=0;g<i;++g){const y=n[g];if(a=Ep(u+" "+c+" "+e+y,r),h!=y){const b=Ep(u+" "+c+" "+e+h+","+y,r);p=p&&b!=a}}return!!p}function l(){let u=!0;const c=Us.getKeys();for(let h=0,p=c.length;h<p;++h){const g=c[h];Us.get(g)<100&&(o.apply(this,g.split(`
`))?(ch(Zy),gu=null,Xy=void 0,Us.set(g,100)):(Us.set(g,Us.get(g)+1,!0),u=!1))}u&&(clearInterval(s),s=void 0)}return function(u){const c=jI(u);if(!c)return;const h=c.families;for(let p=0,g=h.length;p<g;++p){const y=h[p],b=c.style+`
`+c.weight+`
`+y;Us.get(b)===void 0&&(Us.set(b,100,!0),o(c.style,c.weight,y)||(Us.set(b,0,!0),s===void 0&&(s=setInterval(l,32))))}}}(),Aj=function(){let t;return function(e){let n=Zy[e];if(n==null){if(PI){const i=jI(e),r=VI(e,"Žg");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);Zy[e]=n}return n}}();function VI(t,e){return gu||(gu=wi(1,1)),t!=Xy&&(gu.font=t,Xy=gu.font),gu.measureText(e)}function Ep(t,e){return VI(t,e).width}function qT(t,e,n){if(e in n)return n[e];const i=e.split(`
`).reduce((r,s)=>Math.max(r,Ep(t,s)),0);return n[e]=i,i}function Oj(t,e){const n=[],i=[],r=[];let s=0,a=0,o=0,l=0;for(let u=0,c=e.length;u<=c;u+=2){const h=e[u];if(h===`
`||u===c){s=Math.max(s,a),r.push(a),a=0,o+=l,l=0;continue}const p=e[u+1]||t.font,g=Ep(p,h);n.push(g),a+=g;const y=Aj(p);i.push(y),l=Math.max(l,y)}return{width:s,height:o,widths:n,heights:i,lineWidths:r}}function Mj(t,e,n,i,r,s,a,o,l,u,c){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=h=>h.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(c[0],c[1]),Pj(i,t)):c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(i,r,s,a,o,0,0,a,o)):t.drawImage(i,r,s,a,o,l,u,a*c[0],o*c[1]),t.restore()}function Pj(t,e){const n=t.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}class Sm extends Tm{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?rt.LOADING:rt.LOADED,this.imageState_===rt.LOADING&&this.ready().then(()=>this.imageState_=rt.LOADED),this.render()}clone(){const e=this.getScale(),n=new Sm({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const i=this.renderOptions_,r=wi(i.size*e,i.size*e);this.draw_(i,r,e),n=r.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let r=this.radius_,s=this.radius2_===void 0?r:this.radius2_;if(r<s){const k=r;r=s,s=k}const a=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/a,l=s*Math.sin(o),u=Math.sqrt(s*s-l*l),c=r-u,h=Math.sqrt(l*l+c*c),p=h/l;if(e==="miter"&&p<=i)return p*n;const g=n/2/p,y=n/2*(c/h),T=Math.sqrt((r+g)*(r+g)+y*y)-r;if(this.radius2_===void 0||e==="bevel")return T*2;const E=r*Math.sin(o),w=Math.sqrt(r*r-E*E),_=s-w,C=Math.sqrt(E*E+_*_)/E;if(C<=i){const k=C*n/2-s-r;return 2*Math.max(T,k)}return T*2}createRenderOptions(){let e=Xu,n=Zu,i=0,r=null,s=0,a,o=0;this.stroke_&&(a=_s(this.stroke_.getColor()??Md),o=this.stroke_.getWidth()??Dd,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Zu,e=this.stroke_.getLineCap()??Xu,i=this.stroke_.getMiterLimit()??Od);const l=this.calculateLineJoinSize_(n,o,i),u=Math.max(this.radius_,this.radius2_||0),c=Math.ceil(2*u+l);return{strokeStyle:a,strokeWidth:o,size:c,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=tr),n.fillStyle=_s(r),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Id(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=wi(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius_;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,a=2*Math.PI/n;for(let o=0;o<n;o++){const l=s+o*a,u=o%2===0?i:r;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=tr,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Pl extends Sm{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Pl({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}function Ft(t,e){if(!t)throw new Error(e)}class cc extends ss{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new cc(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(an(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Mt(e,lt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?Dj(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function Dj(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(Ft(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}const GI=new Array(6);function wr(){return[1,0,0,1,0,0]}function XT(t){return o1(t,1,0,0,1,0,0)}function a1(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=e[0],u=e[1],c=e[2],h=e[3],p=e[4],g=e[5];return t[0]=n*l+r*u,t[1]=i*l+s*u,t[2]=n*c+r*h,t[3]=i*c+s*h,t[4]=n*p+r*g+a,t[5]=i*p+s*g+o,t}function o1(t,e,n,i,r,s,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=a,t}function Lj(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Bn(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function M0(t,e,n){return a1(t,o1(GI,e,0,0,n,0,0))}function Fj(t,e,n){return a1(t,o1(GI,1,0,0,1,e,n))}function ns(t,e,n,i,r,s,a,o){const l=Math.sin(s),u=Math.cos(s);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=a*i*u-o*i*l+e,t[5]=a*r*l+o*r*u+n,t}function zI(t,e){const n=Nj(e);Ft(n!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5];return t[0]=a/n,t[1]=-r/n,t[2]=-s/n,t[3]=i/n,t[4]=(s*l-a*o)/n,t[5]=-(i*l-r*o)/n,t}function Nj(t){return t[0]*t[3]-t[1]*t[2]}const ZT=[1e6,1e6,1e6,1e6,2,2];function $j(t){return"matrix("+t.map((n,i)=>Math.round(n*ZT[i])/ZT[i]).join(", ")+")"}const mi={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Jy(t){const e=Fr();for(let n=0,i=t.length;n<i;++n)ld(e,t[n]);return e}function jj(t,e,n){const i=Math.min.apply(null,t),r=Math.min.apply(null,e),s=Math.max.apply(null,t),a=Math.max.apply(null,e);return la(i,r,s,a,n)}function io(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function UI(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Dl(t,e,n){let i,r;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?r=t[1]-n:t[3]<n?r=n-t[3]:r=0,i*i+r*r}function Rl(t,e){return l1(t,e[0],e[1])}function Js(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function l1(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Qy(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],a=e[0],o=e[1];let l=mi.UNKNOWN;return a<n?l=l|mi.LEFT:a>r&&(l=l|mi.RIGHT),o<i?l=l|mi.BELOW:o>s&&(l=l|mi.ABOVE),l===mi.UNKNOWN&&(l=mi.INTERSECTING),l}function Fr(){return[1/0,1/0,-1/0,-1/0]}function la(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function dc(t){return la(1/0,1/0,-1/0,-1/0,t)}function HI(t,e){const n=t[0],i=t[1];return la(n,i,n,i,e)}function u1(t,e,n,i,r){const s=dc(r);return WI(s,t,e,n,i)}function Ju(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function YI(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function ld(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function WI(t,e,n,i,r){for(;n<i;n+=r)Bj(t,e[n],e[n+1]);return t}function Bj(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function KI(t,e){let n;return n=e(km(t)),n||(n=e(Rm(t)),n)||(n=e(Im(t)),n)||(n=e(To(t)),n)?n:!1}function e_(t){let e=0;return Ll(t)||(e=Vt(t)*yi(t)),e}function km(t){return[t[0],t[1]]}function Rm(t){return[t[2],t[1]]}function po(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Vj(t,e){let n;if(e==="bottom-left")n=km(t);else if(e==="bottom-right")n=Rm(t);else if(e==="top-left")n=To(t);else if(e==="top-right")n=Im(t);else throw new Error("Invalid corner");return n}function t_(t,e,n,i,r){const[s,a,o,l,u,c,h,p]=n_(t,e,n,i);return la(Math.min(s,o,u,h),Math.min(a,l,c,p),Math.max(s,o,u,h),Math.max(a,l,c,p),r)}function n_(t,e,n,i){const r=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),o=Math.sin(n),l=r*a,u=r*o,c=s*a,h=s*o,p=t[0],g=t[1];return[p-l+h,g-u-c,p-l-h,g-u+c,p+l-h,g+u+c,p+l+h,g+u-c,p-l+h,g-u-c]}function yi(t){return t[3]-t[1]}function ro(t,e,n){const i=n||Fr();return On(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):dc(i),i}function To(t){return[t[0],t[3]]}function Im(t){return[t[2],t[3]]}function Vt(t){return t[2]-t[0]}function On(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Ll(t){return t[2]<t[0]||t[3]<t[1]}function Gj(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function zj(t,e){const n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function Uj(t,e,n){let i=!1;const r=Qy(t,e),s=Qy(t,n);if(r===mi.INTERSECTING||s===mi.INTERSECTING)i=!0;else{const a=t[0],o=t[1],l=t[2],u=t[3],c=e[0],h=e[1],p=n[0],g=n[1],y=(g-h)/(p-c);let b,T;s&mi.ABOVE&&!(r&mi.ABOVE)&&(b=p-(g-u)/y,i=b>=a&&b<=l),!i&&s&mi.RIGHT&&!(r&mi.RIGHT)&&(T=g-(p-l)*y,i=T>=o&&T<=u),!i&&s&mi.BELOW&&!(r&mi.BELOW)&&(b=p-(g-o)/y,i=b>=a&&b<=l),!i&&s&mi.LEFT&&!(r&mi.LEFT)&&(T=g-(p-a)*y,i=T>=o&&T<=u)}return i}function Hj(t,e,n,i){if(Ll(t))return dc(n);let r=[];r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]],e(r,r,2);const s=[],a=[];for(let o=0,l=r.length;o<l;o+=2)s.push(r[o]),a.push(r[o+1]);return jj(s,a,n)}function qI(t,e){const n=e.getExtent(),i=po(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const r=Vt(n),a=Math.floor((i[0]-n[0])/r)*r;t[0]-=a,t[2]-=a}return t}function XI(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];qI(t,e);const r=Vt(i);if(Vt(t)>r&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}const Qu={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class c1{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Qu[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const fh=6378137,Tu=Math.PI*fh,Yj=[-Tu,-Tu,Tu,Tu],Wj=[-180,-85,180,85],bf=fh*Math.log(Math.tan(Math.PI/2));class ru extends c1{constructor(e){super({code:e,units:"m",extent:Yj,global:!0,worldExtent:Wj,getPointResolution:function(n,i){return n/Math.cosh(i[1]/fh)}})}}const JT=[new ru("EPSG:3857"),new ru("EPSG:102100"),new ru("EPSG:102113"),new ru("EPSG:900913"),new ru("http://www.opengis.net/def/crs/EPSG/0/3857"),new ru("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Kj(t,e,n){const i=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let r=0;r<i;r+=n){e[r]=Tu*t[r]/180;let s=fh*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));s>bf?s=bf:s<-bf&&(s=-bf),e[r+1]=s}return e}function qj(t,e,n){const i=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let r=0;r<i;r+=n)e[r]=180*t[r]/Tu,e[r+1]=360*Math.atan(Math.exp(t[r+1]/fh))/Math.PI-90;return e}const Xj=6378137,QT=[-180,-90,180,90],Zj=Math.PI*Xj/180;class Wo extends c1{constructor(e,n){super({code:e,units:"degrees",extent:QT,axisOrientation:n,global:!0,metersPerUnit:Zj,worldExtent:QT})}}const ex=[new Wo("CRS:84"),new Wo("EPSG:4326","neu"),new Wo("urn:ogc:def:crs:OGC:1.3:CRS84"),new Wo("urn:ogc:def:crs:OGC:2:84"),new Wo("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Wo("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Wo("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let i_={};function Jj(t){return i_[t]||i_[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Qj(t,e){i_[t]=e}let Lu={};function Tp(t,e,n){const i=t.getCode(),r=e.getCode();i in Lu||(Lu[i]={}),Lu[i][r]=n}function e4(t,e){let n;return t in Lu&&e in Lu[t]&&(n=Lu[t][e]),n}function t4(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function xp(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function d1(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,s=t[1]*n+t[0]*i;return t[0]=r,t[1]=s,t}function n4(t,e){return t[0]*=e,t[1]*=e,t}function h1(t,e){if(e.canWrapX()){const n=Vt(e.getExtent()),i=i4(t,e,n);i&&(t[0]-=i*n)}return t}function i4(t,e,n){const i=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||Vt(i),r=Math.floor((t[0]-i[0])/n)),r}const r4=63710088e-1;function tx(t,e,n){n=n||r4;const i=Uf(t[1]),r=Uf(e[1]),s=(r-i)/2,a=Uf(e[0]-t[0])/2,o=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function ZI(...t){console.warn(...t)}let r_=!0;function JI(t){r_=!1}function f1(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function QI(t,e){if(e!==void 0&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function s4(t){Qj(t.getCode(),t),Tp(t,t,f1)}function a4(t){t.forEach(s4)}function Tn(t){return typeof t=="string"?Jj(t):t||null}function Cp(t,e,n,i){t=Tn(t);let r;const s=t.getPointResolutionFunc();if(s){if(r=s(e,n),i&&i!==t.getUnits()){const a=t.getMetersPerUnit();a&&(r=r*a/Qu[i])}}else{const a=t.getUnits();if(a=="degrees"&&!i||i=="degrees")r=e;else{const o=ph(t,Tn("EPSG:4326"));if(o===QI&&a!=="degrees")r=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=o(u,u,2);const c=tx(u.slice(0,2),u.slice(2,4)),h=tx(u.slice(4,6),u.slice(6,8));r=(c+h)/2}const l=i?Qu[i]:t.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function nx(t){a4(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Tp(e,n,f1)})})}function o4(t,e,n,i){t.forEach(function(r){e.forEach(function(s){Tp(r,s,n),Tp(s,r,i)})})}function p1(t,e){return t?typeof t=="string"?Tn(t):t:Tn(e)}function e2(t,e){return JI(),Am(t,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function Ya(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||ph(t,e)===f1)&&n}function ph(t,e){const n=t.getCode(),i=e.getCode();let r=e4(n,i);return r||(r=QI),r}function Ld(t,e){const n=Tn(t),i=Tn(e);return ph(n,i)}function Am(t,e,n){return Ld(e,n)(t,void 0,t.length)}let l4=null;function t2(){return l4}function s_(t,e){return t}function Hs(t,e){return r_&&!xp(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(r_=!1,ZI("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function m1(t,e){return t}function Qs(t,e){return t}function u4(){nx(JT),nx(ex),o4(ex,JT,Kj,qj)}u4();function so(t,e,n,i,r,s){s=s||[];let a=0;for(let o=e;o<n;o+=i){const l=t[o],u=t[o+1];s[a++]=r[0]*l+r[2]*u+r[4],s[a++]=r[1]*l+r[3]*u+r[5]}return s&&s.length!=a&&(s.length=a),s}function n2(t,e,n,i,r,s,a){a=a||[];const o=Math.cos(r),l=Math.sin(r),u=s[0],c=s[1];let h=0;for(let p=e;p<n;p+=i){const g=t[p]-u,y=t[p+1]-c;a[h++]=u+g*o-y*l,a[h++]=c+g*l+y*o;for(let b=p+2;b<p+i;++b)a[h++]=t[b]}return a&&a.length!=h&&(a.length=h),a}function c4(t,e,n,i,r,s,a,o){o=o||[];const l=a[0],u=a[1];let c=0;for(let h=e;h<n;h+=i){const p=t[h]-l,g=t[h+1]-u;o[c++]=l+r*p,o[c++]=u+s*g;for(let y=h+2;y<h+i;++y)o[c++]=t[y]}return o&&o.length!=c&&(o.length=c),o}function d4(t,e,n,i,r,s,a){a=a||[];let o=0;for(let l=e;l<n;l+=i){a[o++]=t[l]+r,a[o++]=t[l+1]+s;for(let u=l+2;u<l+i;++u)a[o++]=t[u]}return a&&a.length!=o&&(a.length=o),a}const ix=wr();class i2 extends ss{constructor(){super(),this.extent_=Fr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=NI((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return ft()}closestPointXY(e,n,i,r){return ft()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ft()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&dc(n),this.extentRevision_=this.getRevision()}return Gj(this.extent_,e)}rotate(e,n){ft()}scale(e,n,i){ft()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ft()}getType(){return ft()}applyTransform(e){ft()}intersectsExtent(e){return ft()}translate(e,n){ft()}transform(e,n){const i=Tn(e),r=i.getUnits()=="tile-pixels"?function(s,a,o){const l=i.getExtent(),u=i.getWorldExtent(),c=yi(u)/yi(l);return ns(ix,u[0],u[3],c,-c,0,0,0),so(s,0,s.length,o,ix,a),Ld(i,n)(s,a,o)}:Ld(i,n);return this.applyTransform(r),this}}class Fl extends i2{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return u1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ft()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=rx(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){ft()}setLayout(e,n,i){let r;if(e)r=rx(e);else{for(let s=0;s<i;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,e=Nl(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();n2(i,0,i.length,r,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=po(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();c4(r,0,r.length,s,e,n,i,r),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();d4(i,0,i.length,r,e,n,i),this.changed()}}}function Nl(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function rx(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function h4(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const r=t.getStride();return so(i,0,i.length,r,e,n)}function f4(t,e,n,i){for(let r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}function Om(t,e,n,i){for(let r=0,s=n.length;r<s;++r){const a=n[r];for(let o=0;o<i;++o)t[e++]=a[o]}return e}function mh(t,e,n,i,r){r=r||[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=Om(t,e,n[a],i);r[s++]=l,e=l}return r.length=s,r}function r2(t,e,n,i,r){r=r||[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=mh(t,e,n[a],i,r[s]);l.length===0&&(l[0]=e),r[s++]=l,e=l[l.length-1]}return r.length=s,r}class Sp extends i2{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(an),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)this.changeEventsKeys_.push(Mt(e[n],lt.CHANGE,this.changed,this))}clone(){const e=new Sp(P0(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,n,i,r){if(r<Dl(this.getExtent(),e,n))return r;const s=this.geometries_;for(let a=0,o=s.length;a<o;++a)r=s[a].closestPointXY(e,n,i,r);return r}containsXY(e,n){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)if(i[r].containsXY(e,n))return!0;return!1}computeExtent(e){dc(e);const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)YI(e,n[i].getExtent());return e}getGeometries(){return P0(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].getType()===this.getType()?e=e.concat(n[i].getGeometriesArrayRecursive()):e.push(n[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],i=this.geometries_;let r=!1;for(let s=0,a=i.length;s<a;++s){const o=i[s],l=o.getSimplifiedGeometry(e);n.push(l),l!==o&&(r=!0)}return r?new Sp(n):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].rotate(e,n);this.changed()}scale(e,n,i){i||(i=po(this.getExtent()));const r=this.geometries_;for(let s=0,a=r.length;s<a;++s)r[s].scale(e,n,i);this.changed()}setGeometries(e){this.setGeometriesArray(P0(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].applyTransform(e);this.changed()}translate(e,n){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function P0(t){return t.map(e=>e.clone())}function sx(t,e,n,i,r,s,a){const o=t[e],l=t[e+1],u=t[n]-o,c=t[n+1]-l;let h;if(u===0&&c===0)h=e;else{const p=((r-o)*u+(s-l)*c)/(u*u+c*c);if(p>1)h=n;else if(p>0){for(let g=0;g<i;++g)a[g]=gr(t[e+g],t[n+g],p);a.length=i;return}else h=e}for(let p=0;p<i;++p)a[p]=t[h+p];a.length=i}function g1(t,e,n,i,r){let s=t[e],a=t[e+1];for(e+=i;e<n;e+=i){const o=t[e],l=t[e+1],u=ml(s,a,o,l);u>r&&(r=u),s=o,a=l}return r}function y1(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const o=n[s];r=g1(t,e,o,i,r),e=o}return r}function p4(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const o=n[s];r=y1(t,e,o,i,r),e=o[o.length-1]}return r}function _1(t,e,n,i,r,s,a,o,l,u,c){if(e==n)return u;let h,p;if(r===0){if(p=ml(a,o,t[e],t[e+1]),p<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,p}return u}c=c||[NaN,NaN];let g=e+i;for(;g<n;)if(sx(t,g-i,g,i,a,o,c),p=ml(a,o,c[0],c[1]),p<u){for(u=p,h=0;h<i;++h)l[h]=c[h];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(p)-Math.sqrt(u))/r|0,1);if(s&&(sx(t,n-i,e,i,a,o,c),p=ml(a,o,c[0],c[1]),p<u)){for(u=p,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function v1(t,e,n,i,r,s,a,o,l,u,c){c=c||[NaN,NaN];for(let h=0,p=n.length;h<p;++h){const g=n[h];u=_1(t,e,g,i,r,s,a,o,l,u,c),e=g}return u}function m4(t,e,n,i,r,s,a,o,l,u,c){c=c||[NaN,NaN];for(let h=0,p=n.length;h<p;++h){const g=n[h];u=v1(t,e,g,i,r,s,a,o,l,u,c),e=g[g.length-1]}return u}function Mm(t,e,n,i,r,s,a){const o=(n-e)/i;if(o<3){for(;e<n;e+=i)s[a++]=t[e],s[a++]=t[e+1];return a}const l=new Array(o);l[0]=1,l[o-1]=1;const u=[e,n-i];let c=0;for(;u.length>0;){const h=u.pop(),p=u.pop();let g=0;const y=t[p],b=t[p+1],T=t[h],E=t[h+1];for(let w=p+i;w<h;w+=i){const _=t[w],x=t[w+1],C=nj(_,x,y,b,T,E);C>g&&(c=w,g=C)}g>r&&(l[(c-e)/i]=1,p+i<c&&u.push(p,c),c+i<h&&u.push(c,h))}for(let h=0;h<o;++h)l[h]&&(s[a++]=t[e+h*i],s[a++]=t[e+h*i+1]);return a}function s2(t,e,n,i,r,s,a,o){for(let l=0,u=n.length;l<u;++l){const c=n[l];a=Mm(t,e,c,i,r,s,a),o.push(a),e=c}return a}function Xo(t,e){return e*Math.round(t/e)}function g4(t,e,n,i,r,s,a){if(e==n)return a;let o=Xo(t[e],r),l=Xo(t[e+1],r);e+=i,s[a++]=o,s[a++]=l;let u,c;do if(u=Xo(t[e],r),c=Xo(t[e+1],r),e+=i,e==n)return s[a++]=u,s[a++]=c,a;while(u==o&&c==l);for(;e<n;){const h=Xo(t[e],r),p=Xo(t[e+1],r);if(e+=i,h==u&&p==c)continue;const g=u-o,y=c-l,b=h-o,T=p-l;if(g*T==y*b&&(g<0&&b<g||g==b||g>0&&b>g)&&(y<0&&T<y||y==T||y>0&&T>y)){u=h,c=p;continue}s[a++]=u,s[a++]=c,o=u,l=c,u=h,c=p}return s[a++]=u,s[a++]=c,a}function b1(t,e,n,i,r,s,a,o){for(let l=0,u=n.length;l<u;++l){const c=n[l];a=g4(t,e,c,i,r,s,a),o.push(a),e=c}return a}function y4(t,e,n,i,r,s,a,o){for(let l=0,u=n.length;l<u;++l){const c=n[l],h=[];a=b1(t,e,c,i,r,s,a,h),o.push(h),e=c[c.length-1]}return a}function Ka(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let a=e;a<n;a+=i)r[s++]=t.slice(a,a+i);return r.length=s,r}function Fd(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];r[s++]=Ka(t,e,l,i,r[s]),e=l}return r.length=s,r}function a_(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];r[s++]=l.length===1&&l[0]===e?[]:Fd(t,e,l,i,r[s]),e=l[l.length-1]}return r.length=s,r}function a2(t,e,n,i){let r=0,s=t[n-i],a=t[n-i+1];for(;e<n;e+=i){const o=t[e],l=t[e+1];r+=a*o-s*l,s=o,a=l}return r/2}function o2(t,e,n,i){let r=0;for(let s=0,a=n.length;s<a;++s){const o=n[s];r+=a2(t,e,o,i),e=o}return r}function _4(t,e,n,i){let r=0;for(let s=0,a=n.length;s<a;++s){const o=n[s];r+=o2(t,e,o,i),e=o[o.length-1]}return r}class Nd extends Fl{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Nd(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(g1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,r))}getArea(){return a2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Ka(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Mm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Nd(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Om(this.flatCoordinates,0,e,this.stride),this.changed()}}function l2(t,e,n,i,r){let s;for(e+=i;e<n;e+=i)if(s=r(t.slice(e-i,e),t.slice(e,e+i)),s)return s;return!1}function kp(t,e,n,i,r,s,a){let o,l;const u=(n-e)/i;if(u===1)o=e;else if(u===2)o=e,l=r;else if(u!==0){let c=t[e],h=t[e+1],p=0;const g=[0];for(let T=e+i;T<n;T+=i){const E=t[T],w=t[T+1];p+=Math.sqrt((E-c)*(E-c)+(w-h)*(w-h)),g.push(p),c=E,h=w}const y=r*p,b=gj(g,y);b<0?(l=(y-g[-b-2])/(g[-b-1]-g[-b-2]),o=e+(-b-2)*i):o=e+b*i}a=a>1?a:2,s=s||new Array(a);for(let c=0;c<a;++c)s[c]=o===void 0?NaN:l===void 0?t[o+c]:gr(t[o+c],t[o+i+c],l);return s}function o_(t,e,n,i,r,s){if(n==e)return null;let a;if(r<t[e+i-1])return s?(a=t.slice(e,e+i),a[i-1]=r,a):null;if(t[n-1]<r)return s?(a=t.slice(n-i,n),a[i-1]=r,a):null;if(r==t[e+i-1])return t.slice(e,e+i);let o=e/i,l=n/i;for(;o<l;){const p=o+l>>1;r<t[(p+1)*i-1]?l=p:o=p+1}const u=t[o*i-1];if(r==u)return t.slice((o-1)*i,(o-1)*i+i);const c=t[(o+1)*i-1],h=(r-u)/(c-u);a=[];for(let p=0;p<i-1;++p)a.push(gr(t[(o-1)*i+p],t[o*i+p],h));return a.push(r),a}function v4(t,e,n,i,r,s,a){if(a)return o_(t,e,n[n.length-1],i,r,s);let o;if(r<t[i-1])return s?(o=t.slice(0,i),o[i-1]=r,o):null;if(t[t.length-1]<r)return s?(o=t.slice(t.length-i),o[i-1]=r,o):null;for(let l=0,u=n.length;l<u;++l){const c=n[l];if(e!=c){if(r<t[e+i-1])return null;if(r<=t[c-1])return o_(t,e,c,i,r,!1);e=c}}return null}function b4(t,e,n,i,r){return!KI(r,function(a){return!rl(t,e,n,i,a[0],a[1])})}function rl(t,e,n,i,r,s){let a=0,o=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const u=t[e],c=t[e+1];l<=s?c>s&&(u-o)*(s-l)-(r-o)*(c-l)>0&&a++:c<=s&&(u-o)*(s-l)-(r-o)*(c-l)<0&&a--,o=u,l=c}return a!==0}function w1(t,e,n,i,r,s){if(n.length===0||!rl(t,e,n[0],i,r,s))return!1;for(let a=1,o=n.length;a<o;++a)if(rl(t,n[a-1],n[a],i,r,s))return!1;return!0}function w4(t,e,n,i,r,s){if(n.length===0)return!1;for(let a=0,o=n.length;a<o;++a){const l=n[a];if(w1(t,e,l,i,r,s))return!0;e=l[l.length-1]}return!1}function Pm(t,e,n,i,r){const s=WI(Fr(),t,e,n,i);return On(r,s)?Js(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:l2(t,e,n,i,function(a,o){return Uj(r,a,o)}):!1}function E4(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){if(Pm(t,e,n[s],i,r))return!0;e=n[s]}return!1}function u2(t,e,n,i,r){return!!(Pm(t,e,n,i,r)||rl(t,e,n,i,r[0],r[1])||rl(t,e,n,i,r[0],r[3])||rl(t,e,n,i,r[2],r[1])||rl(t,e,n,i,r[2],r[3]))}function c2(t,e,n,i,r){if(!u2(t,e,n[0],i,r))return!1;if(n.length===1)return!0;for(let s=1,a=n.length;s<a;++s)if(b4(t,n[s-1],n[s],i,r)&&!Pm(t,n[s-1],n[s],i,r))return!1;return!0}function T4(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const o=n[s];if(c2(t,e,o,i,r))return!0;e=o[o.length-1]}return!1}function d2(t,e,n,i){let r=t[e],s=t[e+1],a=0;for(let o=e+i;o<n;o+=i){const l=t[o],u=t[o+1];a+=Math.sqrt((l-r)*(l-r)+(u-s)*(u-s)),r=l,s=u}return a}class Il extends Fl{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){Ts(this.flatCoordinates,e),this.changed()}clone(){const e=new Il(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(g1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,i,r))}forEachSegment(e){return l2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,o_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return Ka(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return kp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return d2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Mm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Il(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Pm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Om(this.flatCoordinates,0,e,this.stride),this.changed()}}class $d extends Fl{constructor(e,n,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{const r=e,s=[],a=[];for(let l=0,u=r.length;l<u;++l){const c=r[l];Ts(s,c.getFlatCoordinates()),a.push(s.length)}const o=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(o,s),this.ends_=a}}appendLineString(e){Ts(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new $d(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(y1(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),v1(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,i,r))}getCoordinateAtM(e,n,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,i=i!==void 0?i:!1,v4(this.flatCoordinates,0,this.ends_,this.stride,e,n,i))}getCoordinates(){return Fd(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Il(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,i=this.layout,r=[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a],u=new Il(e.slice(s,l),i);r.push(u),s=l}return r}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let i=0;const r=this.ends_,s=this.stride;for(let a=0,o=r.length;a<o;++a){const l=r[a],u=kp(n,i,l,s,.5);Ts(e,u),i=l}return e}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=s2(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,i),new $d(n,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return E4(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=mh(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class ua extends Fl{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new ua(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){const s=this.flatCoordinates,a=ml(e,n,s[0],s[1]);if(a<r){const o=this.stride;for(let l=0;l<o;++l)i[l]=s[l];return i.length=o,a}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return HI(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return l1(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=f4(this.flatCoordinates,0,e,this.stride),this.changed()}}class gh extends Fl{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){Ts(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new gh(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){if(r<Dl(this.getExtent(),e,n))return r;const s=this.flatCoordinates,a=this.stride;for(let o=0,l=s.length;o<l;o+=a){const u=ml(e,n,s[o],s[o+1]);if(u<r){r=u;for(let c=0;c<a;++c)i[c]=s[o+c];i.length=a}}return r}getCoordinates(){return Ka(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new ua(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,i=this.stride,r=[];for(let s=0,a=e.length;s<a;s+=i){const o=new ua(e.slice(s,s+i),n);r.push(o)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,i=this.stride;for(let r=0,s=n.length;r<s;r+=i){const a=n[r],o=n[r+1];if(l1(e,a,o))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Om(this.flatCoordinates,0,e,this.stride),this.changed()}}function E1(t,e,n,i,r,s,a){let o,l,u,c,h,p,g;const y=r[s+1],b=[];for(let w=0,_=n.length;w<_;++w){const x=n[w];for(c=t[x-i],p=t[x-i+1],o=e;o<x;o+=i)h=t[o],g=t[o+1],(y<=p&&g<=y||p<=y&&y<=g)&&(u=(y-p)/(g-p)*(h-c)+c,b.push(u)),c=h,p=g}let T=NaN,E=-1/0;for(b.sort(Es),c=b[0],o=1,l=b.length;o<l;++o){h=b[o];const w=Math.abs(h-c);w>E&&(u=(c+h)/2,w1(t,e,n,i,u,y)&&(T=u,E=w)),c=h}return isNaN(T)&&(T=r[s]),a?(a.push(T,y,E),a):[T,y,E]}function h2(t,e,n,i,r){let s=[];for(let a=0,o=n.length;a<o;++a){const l=n[a];s=E1(t,e,l,i,r,2*a,s),e=l[l.length-1]}return s}function x4(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function T1(t,e,n,i){let r=0,s=t[n-i],a=t[n-i+1];for(;e<n;e+=i){const o=t[e],l=t[e+1];r+=(o-s)*(l+a),s=o,a=l}return r===0?void 0:r>0}function x1(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,a=n.length;s<a;++s){const o=n[s],l=T1(t,e,o,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=o}return!0}function f2(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const o=n[s];if(!x1(t,e,o,i,r))return!1;o.length&&(e=o[o.length-1])}return!0}function Rp(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,a=n.length;s<a;++s){const o=n[s],l=T1(t,e,o,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&x4(t,e,o,i),e=o}return e}function l_(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s)e=Rp(t,e,n[s],i,r);return e}function p2(t,e){const n=[];let i=0,r=0,s;for(let a=0,o=e.length;a<o;++a){const l=e[a],u=T1(t,i,l,2);if(s===void 0&&(s=u),u===s)n.push(e.slice(r,a+1));else{if(n.length===0)continue;n[n.length-1].push(e[r])}r=a+1,i=l}return n}class jd extends Fl{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Ts(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new jd(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(y1(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),v1(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return w1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return o2(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Rp(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Fd(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=po(this.getExtent());this.flatInteriorPoint_=E1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ua(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Nd(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let a=0,o=i.length;a<o;++a){const l=i[a],u=new Nd(n.slice(s,l),e);r.push(u),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;x1(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Rp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=b1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new jd(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return c2(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=mh(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}const Bd=jd;function ax(t){if(Ll(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new jd(s,"XY",[s.length])}function m2(t,e,n,i){const r=[];let s=Fr();for(let a=0,o=n.length;a<o;++a){const l=n[a];s=u1(t,e,l[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return r}class Vd extends Fl{constructor(e,n,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const r=e,s=[],a=[];for(let o=0,l=r.length;o<l;++o){const u=r[o],c=s.length,h=u.getEnds();for(let p=0,g=h.length;p<g;++p)h[p]+=c;Ts(s,u.getFlatCoordinates()),a.push(h)}n=r.length===0?this.getLayout():r[0].getLayout(),e=s,i=a}n!==void 0&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Ts(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let r=0,s=n.length;r<s;++r)n[r]+=i}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let r=0;r<e;++r)n[r]=this.endss_[r].slice();const i=new Vd(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(p4(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),m4(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return w4(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return _4(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),l_(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,a_(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=m2(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=h2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new gh(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;f2(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=l_(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=y4(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,i),new Vd(n,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(n!==0)for(let s=0,a=i.length;s<a;++s)i[s]-=n;return new Bd(this.flatCoordinates.slice(n,r),this.layout,i)}getPolygons(){const e=this.layout,n=this.flatCoordinates,i=this.endss_,r=[];let s=0;for(let a=0,o=i.length;a<o;++a){const l=i[a].slice(),u=l[l.length-1];if(s!==0)for(let h=0,p=l.length;h<p;++h)l[h]-=s;const c=new Bd(n.slice(s,u),e,l);r.push(c),s=u}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return T4(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=r2(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const ox=wr();class Si{constructor(e,n,i,r,s,a){this.styleFunction,this.extent_,this.id_=a,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?HI(this.flatCoordinates_):u1(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=po(this.getExtent());this.flatInteriorPoints_=E1(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=p2(this.flatCoordinates_,this.ends_),n=m2(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=h2(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=kp(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const i=this.ends_;for(let r=0,s=i.length;r<s;++r){const a=i[r],o=kp(e,n,a,2,.5);Ts(this.flatMidpoints_,o),n=a}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=Tn(e);const n=e.getExtent(),i=e.getWorldExtent();if(n&&i){const r=yi(i)/yi(n);ns(ox,i[0],i[3],r,-r,0,0,0),so(this.flatCoordinates_,0,this.flatCoordinates_.length,2,ox,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new Si(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=NI((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=Mm(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=s2(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=b1(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break}return r&&(this.simplifiedGeometry_=new Si(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Si.prototype.getFlatCoordinates=Si.prototype.getOrientedFlatCoordinates;class C4{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=cc,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let i=n.dataProjection?Tn(n.dataProjection):this.readProjection(e);n.extent&&i&&i.getUnits()==="tile-pixels"&&(i=Tn(i),i.setWorldExtent(n.extent)),n={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return ft()}readFeature(e,n){return ft()}readFeatures(e,n){return ft()}readGeometry(e,n){return ft()}readProjection(e){return ft()}writeFeature(e,n){return ft()}writeFeatures(e,n){return ft()}writeGeometry(e,n){return ft()}}const g2=C4;function Dm(t,e,n){const i=n?Tn(n.featureProjection):null,r=n?Tn(n.dataProjection):null;let s=t;if(i&&r&&!Ya(i,r)){e&&(s=t.clone());const a=e?i:r,o=e?r:i;a.getUnits()==="tile-pixels"?s.transform(a,o):s.applyTransform(Ld(a,o))}if(e&&n&&n.decimals!==void 0){const a=Math.pow(10,n.decimals),o=function(l){for(let u=0,c=l.length;u<c;++u)l[u]=Math.round(l[u]*a)/a;return l};s===t&&(s=t.clone()),s.applyTransform(o)}return s}const S4={Point:ua,LineString:Il,Polygon:Bd,MultiPoint:gh,MultiLineString:$d,MultiPolygon:Vd};function k4(t,e,n){return Array.isArray(e[0])?(f2(t,0,e,n)||(t=t.slice(),l_(t,0,e,n)),t):(x1(t,0,e,n)||(t=t.slice(),Rp(t,0,e,n)),t)}function y2(t,e){var s;const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map(a=>y2({...t,geometry:a})).flat();const i=n.type==="MultiPolygon"?"Polygon":n.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const r=n.layout.length;return Dm(new Si(i,i==="Polygon"?k4(n.flatCoordinates,n.ends,r):n.flatCoordinates,(s=n.ends)==null?void 0:s.flat(),r,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function C1(t,e){if(!t)return null;if(Array.isArray(t)){const i=t.map(r=>C1(r,e));return new Sp(i)}const n=S4[t.type];return Dm(new n(t.flatCoordinates,t.layout,t.ends),!1,e)}class R4 extends g2{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(wf(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(wf(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return ft()}readFeaturesFromObject(e,n){return ft()}readGeometry(e,n){return this.readGeometryFromObject(wf(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return ft()}readProjection(e){return this.readProjectionFromObject(wf(e))}readProjectionFromObject(e){return ft()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return ft()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return ft()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return ft()}}function wf(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}class S1 extends R4{constructor(e){e=e||{},super(),this.dataProjection=Tn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=Tn(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const r=k1(i.geometry);if(this.featureClass===Si)return y2({geometry:r,id:i.id,properties:i.properties},n);const s=new cc;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&s.setGeometryName(i.geometry_name),s.setGeometry(C1(r,n)),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s}readFeaturesFromObject(e,n){const i=e;let r=null;if(i.type==="FeatureCollection"){const s=e;r=[];const a=s.features;for(let o=0,l=a.length;o<l;++o){const u=this.readFeatureFromObject(a[o],n);u&&r.push(u)}}else r=[this.readFeatureFromObject(e,n)];return r.flat()}readGeometryFromObject(e,n){return I4(e,n)}readProjectionFromObject(e){const n=e.crs;let i;if(n)if(n.type=="name")i=Tn(n.properties.name);else if(n.type==="EPSG")i=Tn("EPSG:"+n.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,n){n=this.adaptOptions(n);const i={type:"Feature",geometry:null,properties:null},r=e.getId();if(r!==void 0&&(i.id=r),!e.hasProperties())return i;const s=e.getProperties(),a=e.getGeometry();return a&&(i.geometry=u_(a,n),delete s[e.getGeometryName()]),fo(s)||(i.properties=s),i}writeFeaturesObject(e,n){n=this.adaptOptions(n);const i=[];for(let r=0,s=e.length;r<s;++r)i.push(this.writeFeatureObject(e[r],n));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,n){return u_(e,this.adaptOptions(n))}}function k1(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=O4(t);break}case"LineString":{n=M4(t);break}case"Polygon":{n=F4(t);break}case"MultiPoint":{n=D4(t);break}case"MultiLineString":{n=P4(t);break}case"MultiPolygon":{n=L4(t);break}case"GeometryCollection":{n=A4(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function I4(t,e){const n=k1(t);return C1(n,e)}function A4(t,e){return t.geometries.map(function(i){return k1(i)})}function O4(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:Nl(e.length)}}function M4(t){var i;const e=t.coordinates,n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:Nl(((i=e[0])==null?void 0:i.length)||2)}}function P4(t){var s,a;const e=t.coordinates,n=((a=(s=e[0])==null?void 0:s[0])==null?void 0:a.length)||2,i=[],r=mh(i,0,e,n);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:Nl(n)}}function D4(t){var n;const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:Nl(((n=e[0])==null?void 0:n.length)||2)}}function L4(t){var s,a;const e=t.coordinates,n=[],i=((a=(s=e[0])==null?void 0:s[0])==null?void 0:a[0].length)||2,r=r2(n,0,e,i);return{type:"MultiPolygon",flatCoordinates:n,ends:r,layout:Nl(i)}}function F4(t){var s,a;const e=t.coordinates,n=[],i=(a=(s=e[0])==null?void 0:s[0])==null?void 0:a.length,r=mh(n,0,e,i);return{type:"Polygon",flatCoordinates:n,ends:r,layout:Nl(i)}}function u_(t,e){t=Dm(t,!0,e);const n=t.getType();let i;switch(n){case"Point":{i=G4(t);break}case"LineString":{i=$4(t);break}case"Polygon":{i=z4(t,e);break}case"MultiPoint":{i=B4(t);break}case"MultiLineString":{i=j4(t);break}case"MultiPolygon":{i=V4(t,e);break}case"GeometryCollection":{i=N4(t,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return i}function N4(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(i){return u_(i,e)})}}function $4(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function j4(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function B4(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function V4(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function G4(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function z4(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}class xo{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new xo({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=s1(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===rt.IDLE&&n.load(),n.getImageState()===rt.LOADING&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class yh{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new yh({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class xs{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=lx,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new xs({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=lx,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function U4(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(Ft(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let D0=null;function _2(t,e){if(!D0){const n=new xo({color:"rgba(255,255,255,0.4)"}),i=new yh({color:"#3399CC",width:1.25});D0=[new xs({image:new Pl({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return D0}function lx(t){return t.getGeometry()}const Qt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class v2 extends ss{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Qt.OPACITY]=e.opacity!==void 0?e.opacity:1,Ft(typeof n[Qt.OPACITY]=="number","Layer opacity must be a number"),n[Qt.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Qt.Z_INDEX]=e.zIndex,n[Qt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Qt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Qt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Qt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=Mn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return ft()}getLayerStatesArray(e){return ft()}getExtent(){return this.get(Qt.EXTENT)}getMaxResolution(){return this.get(Qt.MAX_RESOLUTION)}getMinResolution(){return this.get(Qt.MIN_RESOLUTION)}getMinZoom(){return this.get(Qt.MIN_ZOOM)}getMaxZoom(){return this.get(Qt.MAX_ZOOM)}getOpacity(){return this.get(Qt.OPACITY)}getSourceState(){return ft()}getVisible(){return this.get(Qt.VISIBLE)}getZIndex(){return this.get(Qt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Qt.EXTENT,e)}setMaxResolution(e){this.set(Qt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Qt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Qt.MAX_ZOOM,e)}setMinZoom(e){this.set(Qt.MIN_ZOOM,e)}setOpacity(e){Ft(typeof e=="number","Layer opacity must be a number"),this.set(Qt.OPACITY,e)}setVisible(e){this.set(Qt.VISIBLE,e)}setZIndex(e){this.set(Qt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Mr={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},dn={ANIMATING:0,INTERACTING:1},zr={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},b2=42,R1=256;function ux(t,e,n){return function(i,r,s,a,o){if(!i)return;if(!r&&!e)return i;const l=e?0:s[0]*r,u=e?0:s[1]*r,c=o?o[0]:0,h=o?o[1]:0;let p=t[0]+l/2+c,g=t[2]-l/2+c,y=t[1]+u/2+h,b=t[3]-u/2+h;p>g&&(p=(g+p)/2,g=p),y>b&&(y=(b+y)/2,b=y);let T=Mn(i[0],p,g),E=Mn(i[1],y,b);if(a&&n&&r){const w=30*r;T+=-w*Math.log(1+Math.max(0,p-i[0])/w)+w*Math.log(1+Math.max(0,i[0]-g)/w),E+=-w*Math.log(1+Math.max(0,y-i[1])/w)+w*Math.log(1+Math.max(0,i[1]-b)/w)}return[T,E]}}function H4(t){return t}function I1(t,e,n,i){const r=Vt(e)/n[0],s=yi(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function A1(t,e,n){let i=Math.min(t,e);const r=50;return i*=Math.log(1+r*Math.max(0,t/e-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/t-1))/r+1),Mn(i,n/2,e*2)}function Y4(t,e,n,i){return e=e!==void 0?e:!0,function(r,s,a,o){if(r!==void 0){const l=t[0],u=t[t.length-1],c=n?I1(l,n,a,i):l;if(o)return e?A1(r,c,u):Mn(r,u,c);const h=Math.min(c,r),p=Math.floor(r1(t,h,s));return t[p]>c&&p<t.length-1?t[p+1]:t[p]}}}function W4(t,e,n,i,r,s){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(a,o,l,u){if(a!==void 0){const c=r?I1(e,r,l,s):e;if(u)return i?A1(a,c,n):Mn(a,n,c);const h=1e-9,p=Math.ceil(Math.log(e/c)/Math.log(t)-h),g=-o*(.5-h)+.5,y=Math.min(c,a),b=Math.floor(Math.log(e/y)/Math.log(t)+g),T=Math.max(p,b),E=e/Math.pow(t,T);return Mn(E,n,c)}}}function cx(t,e,n,i,r){return n=n!==void 0?n:!0,function(s,a,o,l){if(s!==void 0){const u=i?I1(t,i,o,r):t;return!n||!l?Mn(s,e,u):A1(s,u,e)}}}function O1(t){if(t!==void 0)return 0}function dx(t){if(t!==void 0)return t}function K4(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function q4(t){const e=Uf(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}function w2(t){return Math.pow(t,3)}function $l(t){return 1-w2(1-t)}function X4(t){return 3*t*t-2*t*t*t}function Z4(t){return t}const L0=0;class Wr extends ss{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=p1(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&JI(),e.center&&(e.center=Hs(e.center,this.projection_)),e.extent&&(e.extent=Qs(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const o in zr)delete n[o];this.setProperties(n,!0);const i=Q4(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=J4(e),s=i.constraint,a=eB(e);this.constraints_={center:r,resolution:s,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),a=s/2*(r[3]-n[3]+n[1]-r[1]),o=s/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([i[0]+a,i[1]-o])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Hs(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Hs(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const c=arguments[r];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(r===n){i&&Ef(i,!0);return}let s=Date.now(),a=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const u=[];for(;r<n;++r){const c=arguments[r],h={start:s,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||X4,callback:i};if(c.center&&(h.sourceCenter=a,h.targetCenter=c.center.slice(),a=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=o,h.targetResolution=this.getResolutionForZoom(c.zoom),o=h.targetResolution):c.resolution&&(h.sourceResolution=o,h.targetResolution=c.resolution,o=h.targetResolution),c.rotation!==void 0){h.sourceRotation=l;const p=Du(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+p,l=h.targetRotation}tB(h)?h.complete=!0:s+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(dn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[dn.ANIMATING]>0}getInteracting(){return this.hints_[dn.INTERACTING]>0}cancelAnimations(){this.setHint(dn.ANIMATING,-this.hints_[dn.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const r=this.animations_[n];if(r[0].callback&&Ef(r[0].callback,!1),!e)for(let s=0,a=r.length;s<a;++s){const o=r[s];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let s=!0;for(let a=0,o=r.length;a<o;++a){const l=r[a];if(l.complete)continue;const u=e-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):s=!1;const h=l.easing(c);if(l.sourceCenter){const p=l.sourceCenter[0],g=l.sourceCenter[1],y=l.targetCenter[0],b=l.targetCenter[1];this.nextCenter_=l.targetCenter;const T=p+h*(y-p),E=g+h*(b-g);this.targetCenter_=[T,E]}if(l.sourceResolution&&l.targetResolution){const p=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const g=this.getViewportSize_(this.getRotation()),y=this.constraints_.resolution(p,0,g,!0);this.targetCenter_=this.calculateCenterZoom(y,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const p=h===1?Du(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const g=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(dn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=r[0].callback;a&&Ef(a,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-n[0],r[1]-n[1]],d1(i,e-this.getRotation()),t4(i,n)),i}calculateCenterZoom(e,n){let i;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const a=n[0]-e*(n[0]-r[0])/s,o=n[1]-e*(n[1]-r[1])/s;i=[a,o]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],r=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&s_(e,this.getProjection())}getCenterInternal(){return this.get(zr.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return m1(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Ft(n,"The view center is not defined");const i=this.getResolution();Ft(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return Ft(r!==void 0,"The view rotation is not defined"),t_(n,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(zr.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Qs(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=Vt(e)/n[0],r=yi(e)/n[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(s){return n/Math.pow(e,s*r)}}getRotation(){return this.get(zr.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/n;return function(a){return Math.log(i/a)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const a=this.getViewportSizeMinusPadding_();r=F0(r,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],n,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,r;if(this.resolutions_){const s=r1(this.resolutions_,e,1);n=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Mn(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Mn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(Ft(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Ft(!Ll(e),"Cannot fit empty extent provided as `geometry`");const r=Qs(e,this.getProjection());i=ax(r)}else if(e.getType()==="Circle"){const r=Qs(e.getExtent(),this.getProjection());i=ax(r),i.rotate(this.getRotation(),po(r))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),s=e.getFlatCoordinates(),a=e.getStride();let o=1/0,l=1/0,u=-1/0,c=-1/0;for(let h=0,p=s.length;h<p;h+=a){const g=s[h]*i-s[h+1]*r,y=s[h]*r+s[h+1]*i;o=Math.min(o,g),l=Math.min(l,y),u=Math.max(u,g),c=Math.max(c,y)}return[o,l,u,c]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let a;n.minResolution!==void 0?a=n.minResolution:n.maxZoom!==void 0?a=this.getResolutionForZoom(n.maxZoom):a=0;const o=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(o,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?a:Math.max(l,a),l=this.getConstrainedResolution(l,s?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),p=po(o);p[0]+=(r[1]-r[3])/2*l,p[1]+=(r[0]-r[2])/2*l;const g=p[0]*h-p[1]*c,y=p[1]*h+p[0]*c,b=this.getConstrainedCenter([g,y],l),T=n.callback?n.callback:Ku;n.duration!==void 0?this.animateInternal({resolution:l,center:b,duration:n.duration,easing:n.easing},T):(this.targetResolution_=l,this.targetCenter_=b,this.applyTargetState_(!1,!0),Ef(T,!0))}centerOn(e,n,i){this.centerOnInternal(Hs(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(F0(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,r){let s;const a=this.padding_;if(a&&e){const o=this.getViewportSizeMinusPadding_(-i),l=F0(e,r,[o[0]/2+a[3],o[1]/2+a[0]],n,i);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=s_(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Hs(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Hs(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Hs(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,0,s,i),o=this.constraints_.center(this.targetCenter_,a,s,i,this.calculateCenterShift(this.targetCenter_,a,r,s));this.get(zr.ROTATION)!==r&&this.set(zr.ROTATION,r),this.get(zr.RESOLUTION)!==a&&(this.set(zr.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(zr.CENTER)||!xp(this.get(zr.CENTER),o))&&this.set(zr.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const r=n||0,s=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,r,a),l=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,s,a));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==s||!this.getCenterInternal()||!xp(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:o,duration:e,easing:$l,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(dn.INTERACTING,1)}endInteraction(e,n,i){i=i&&Hs(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(dn.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function Ef(t,e){setTimeout(function(){t(e)},0)}function J4(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return ux(t.extent,t.constrainOnlyCenter,n)}const e=p1(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,ux(n,!1,!1)}return H4}function Q4(t){let e,n,i,a=t.minZoom!==void 0?t.minZoom:L0,o=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,u=t.multiWorld!==void 0?t.multiWorld:!1,c=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,h=t.showFullExtent!==void 0?t.showFullExtent:!1,p=p1(t.projection,"EPSG:3857"),g=p.getExtent();let y=t.constrainOnlyCenter,b=t.extent;if(!u&&!b&&p.isGlobal()&&(y=!1,b=g),t.resolutions!==void 0){const T=t.resolutions;n=T[a],i=T[o]!==void 0?T[o]:T[T.length-1],t.constrainResolution?e=Y4(T,c,!y&&b,h):e=cx(n,i,c,!y&&b,h)}else{const E=(g?Math.max(Vt(g),yi(g)):360*Qu.degrees/p.getMetersPerUnit())/R1/Math.pow(2,L0),w=E/Math.pow(2,28-L0);n=t.maxResolution,n!==void 0?a=0:n=E/Math.pow(l,a),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(l,o):i=E/Math.pow(l,o):i=w),o=a+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,o-a),t.constrainResolution?e=W4(l,n,i,c,!y&&b,h):e=cx(n,i,c,!y&&b,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:a,zoomFactor:l}}function eB(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?q4():n===!1?dx:typeof n=="number"?K4(n):dx}return O1}function tB(t){return!(t.sourceCenter&&t.targetCenter&&!xp(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function F0(t,e,n,i,r){const s=Math.cos(-r);let a=Math.sin(-r),o=t[0]*s-t[1]*a,l=t[1]*s+t[0]*a;o+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,a=-a;const u=o*s-l*a,c=l*s+o*a;return[u,c]}class Lm extends v2{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Qt.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Qt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(an(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Mt(e,lt.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Wr?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;n.layerStatesArray?r=n.layerStatesArray.find(a=>a.layer===this):r=this.getLayerState();const s=this.getExtent();return M1(r,n.viewState)&&(!s||On(s,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const i=this.getSource();if(i&&(n=i.getAttributions()),!n)return[];const r=e instanceof Wr?e.getViewStateAndExtent():e;let s=n(r);return Array.isArray(s)||(s=[s]),s}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Qt.MAP,e)}getMapInternal(){return this.get(Qt.MAP)}setMap(e){this.mapPrecomposeKey_&&(an(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(an(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Mt(e,Mr.PRECOMPOSE,function(n){const r=n.frameState.layerStatesArray,s=this.getLayerState(!1);Ft(!r.some(function(a){return a.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(s)},this),this.mapRenderKey_=Mt(this,lt.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Qt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function M1(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function nB(t,e,n,i,r){E2(t,e,n||0,i||t.length-1,r||iB)}function E2(t,e,n,i,r){for(;i>n;){if(i-n>600){var s=i-n+1,a=e-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1),c=Math.max(n,Math.floor(e-a*l/s+u)),h=Math.min(i,Math.floor(e+(s-a)*l/s+u));E2(t,e,c,h,r)}var p=t[e],g=n,y=i;for(Gc(t,n,e),r(t[i],p)>0&&Gc(t,n,i);g<y;){for(Gc(t,g,y),g++,y--;r(t[g],p)<0;)g++;for(;r(t[y],p)>0;)y--}r(t[n],p)===0?Gc(t,n,y):(y++,Gc(t,y,i)),y<=e&&(n=y+1),e<=y&&(i=y-1)}}function Gc(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function iB(t,e){return t<e?-1:t>e?1:0}let P1=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!xf(e,n))return i;const r=this.toBBox,s=[];for(;n;){for(let a=0;a<n.children.length;a++){const o=n.children[a],l=n.leaf?r(o):o;xf(e,l)&&(n.leaf?i.push(o):$0(e,l)?this._all(o,i):s.push(o))}n=s.pop()}return i}collides(e){let n=this.data;if(!xf(e,n))return!1;const i=[];for(;n;){for(let r=0;r<n.children.length;r++){const s=n.children[r],a=n.leaf?this.toBBox(s):s;if(xf(e,a)){if(n.leaf||$0(e,a))return!0;i.push(s)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=yu([]),this}remove(e,n){if(!e)return this;let i=this.data;const r=this.toBBox(e),s=[],a=[];let o,l,u;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],o=a.pop(),u=!0),i.leaf){const c=rB(e,i.children,n);if(c!==-1)return i.children.splice(c,1),s.push(i),this._condense(s),this}!u&&!i.leaf&&$0(i,r)?(s.push(i),a.push(o),o=0,l=i,i=i.children[0]):l?(o++,i=l.children[o],u=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,r){const s=i-n+1;let a=this._maxEntries,o;if(s<=a)return o=yu(e.slice(n,i+1)),su(o,this.toBBox),o;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),o=yu([]),o.leaf=!1,o.height=r;const l=Math.ceil(s/a),u=l*Math.ceil(Math.sqrt(a));hx(e,n,i,u,this.compareMinX);for(let c=n;c<=i;c+=u){const h=Math.min(c+u-1,i);hx(e,c,h,l,this.compareMinY);for(let p=c;p<=h;p+=l){const g=Math.min(p+l-1,h);o.children.push(this._build(e,p,g,r-1))}}return su(o,this.toBBox),o}_chooseSubtree(e,n,i,r){for(;r.push(n),!(n.leaf||r.length-1===i);){let s=1/0,a=1/0,o;for(let l=0;l<n.children.length;l++){const u=n.children[l],c=N0(u),h=oB(e,u)-c;h<a?(a=h,s=c<s?c:s,o=u):h===a&&c<s&&(s=c,o=u)}n=o||n.children[0]}return n}_insert(e,n,i){const r=i?e:this.toBBox(e),s=[],a=this._chooseSubtree(r,this.data,n,s);for(a.children.push(e),td(a,r);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(r,s,n)}_split(e,n){const i=e[n],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);const a=this._chooseSplitIndex(i,s,r),o=yu(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,su(i,this.toBBox),su(o,this.toBBox),n?e[n-1].children.push(o):this._splitRoot(i,o)}_splitRoot(e,n){this.data=yu([e,n]),this.data.height=e.height+1,this.data.leaf=!1,su(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let r,s=1/0,a=1/0;for(let o=n;o<=i-n;o++){const l=ed(e,0,o,this.toBBox),u=ed(e,o,i,this.toBBox),c=lB(l,u),h=N0(l)+N0(u);c<s?(s=c,r=o,a=h<a?h:a):c===s&&h<a&&(a=h,r=o)}return r||i-n}_chooseSplitAxis(e,n,i){const r=e.leaf?this.compareMinX:sB,s=e.leaf?this.compareMinY:aB,a=this._allDistMargin(e,n,i,r),o=this._allDistMargin(e,n,i,s);a<o&&e.children.sort(r)}_allDistMargin(e,n,i,r){e.children.sort(r);const s=this.toBBox,a=ed(e,0,n,s),o=ed(e,i-n,i,s);let l=Tf(a)+Tf(o);for(let u=n;u<i-n;u++){const c=e.children[u];td(a,e.leaf?s(c):c),l+=Tf(a)}for(let u=i-n-1;u>=n;u--){const c=e.children[u];td(o,e.leaf?s(c):c),l+=Tf(o)}return l}_adjustParentBBoxes(e,n,i){for(let r=i;r>=0;r--)td(n[r],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():su(e[n],this.toBBox)}};function rB(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function su(t,e){ed(t,0,t.children.length,e,t)}function ed(t,e,n,i,r){r||(r=yu(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<n;s++){const a=t.children[s];td(r,t.leaf?i(a):a)}return r}function td(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function sB(t,e){return t.minX-e.minX}function aB(t,e){return t.minY-e.minY}function N0(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Tf(t){return t.maxX-t.minX+(t.maxY-t.minY)}function oB(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function lB(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function $0(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function xf(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function yu(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function hx(t,e,n,i,r){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=i)continue;const a=e+Math.ceil((n-e)/i/2)*i;nB(t,a,e,n,r),s.push(e,a,a,n)}}function fx(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class _h extends Tm{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const a=e.img!==void 0?e.img:null;let o=e.src;Ft(!(o!==void 0&&a),"`image` and `src` cannot be provided at the same time"),(o===void 0||o.length===0)&&a&&(o=a.src||wt(a)),Ft(o!==void 0&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),Ft(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=rt.IDLE:a!==void 0&&("complete"in a?a.complete?l=a.src?rt.LOADED:rt.IDLE:l=rt.LOADING:l=rt.LOADED),this.color_=e.color!==void 0?Id(e.color):null,this.iconImage_=s1(a,o,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,e.width!==void 0||e.height!==void 0){let u,c;if(e.size)[u,c]=e.size;else{const h=this.getImage(1);if(h.width&&h.height)u=h.width,c=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;const p=()=>{if(this.unlistenImageChange(p),!this.initialOptions_)return;const g=this.iconImage_.getSize();this.setScale(fx(g[0],g[1],e.width,e.height))};this.listenImageChange(p);return}}u!==void 0&&this.setScale(fx(u,c,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new _h({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==rt.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==rt.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(lt.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(lt.CHANGE,e)}ready(){return this.iconImage_.ready()}}const uB="#333";class Fm{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Ki(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new xo({color:uB}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Fm({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ki(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let jl=0;const hc=0,kn=1<<jl++,et=1<<jl++,yr=1<<jl++,gi=1<<jl++,Cs=1<<jl++,ud=1<<jl++,Ni=Math.pow(2,jl)-1,T2={[kn]:"boolean",[et]:"number",[yr]:"string",[gi]:"color",[Cs]:"number[]",[ud]:"size"},cB=Object.keys(T2).map(Number).sort(Es);function zi(t){const e=[];for(const n of cB)dB(t,n)&&e.push(T2[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function dB(t,e){return(t&e)===e}function Ss(t,e){return!!(t&e)}function Nm(t,e){return t===e}class qa{constructor(e,n){this.type=e,this.value=n}}class hB{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function x2(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function fB(t){switch(t){case"string":return yr;case"color":return gi;case"number":return et;case"boolean":return kn;case"number[]":return Cs;default:throw new Error(`Unrecognized type hint: ${t}`)}}function qt(t,e,n){switch(typeof t){case"boolean":return new qa(kn,t);case"number":return new qa(n===ud?ud:et,t);case"string":{let r=yr;return lj(t)&&(r|=gi),Nm(r&n,hc)||(r&=n),new qa(r,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(t.length===0)throw new Error("Empty expression");if(typeof t[0]=="string")return CB(t,e,n);for(const r of t)if(typeof r!="number")throw new Error("Expected an array of numbers");let i=Cs;return t.length===2?i|=ud:(t.length===3||t.length===4)&&(i|=gi),n&&(i&=n),new qa(i,t)}const Te={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},pB={[Te.Get]:yt(([t,e])=>e!==void 0?fB(e.value):Ni,Ct(1,2),mB),[Te.Var]:yt(([t])=>t.type,Ct(1,1),gB),[Te.Id]:yt(et|yr,zc,yB),[Te.Concat]:yt(yr,Ct(2,1/0),$t(Ni)),[Te.GeometryType]:yt(yr,zc,_B),[Te.Resolution]:yt(et,zc),[Te.Zoom]:yt(et,zc),[Te.Time]:yt(et,zc),[Te.Any]:yt(kn,Ct(2,1/0),$t(kn)),[Te.All]:yt(kn,Ct(2,1/0),$t(kn)),[Te.Not]:yt(kn,Ct(1,1),$t(kn)),[Te.Equal]:yt(kn,Ct(2,2),$t(Ni),Aa),[Te.NotEqual]:yt(kn,Ct(2,2),$t(Ni),Aa),[Te.GreaterThan]:yt(kn,Ct(2,2),$t(Ni),Aa),[Te.GreaterThanOrEqualTo]:yt(kn,Ct(2,2),$t(Ni),Aa),[Te.LessThan]:yt(kn,Ct(2,2),$t(Ni),Aa),[Te.LessThanOrEqualTo]:yt(kn,Ct(2,2),$t(Ni),Aa),[Te.Multiply]:yt(t=>{let e=et|gi;for(let n=0;n<t.length;n++)e&=t[n].type;return e},Ct(2,1/0),$t(et|gi),Aa),[Te.Coalesce]:yt(t=>{let e=Ni;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},Ct(2,1/0),$t(Ni),Aa),[Te.Divide]:yt(et,Ct(2,2),$t(et)),[Te.Add]:yt(et,Ct(2,1/0),$t(et)),[Te.Subtract]:yt(et,Ct(2,2),$t(et)),[Te.Clamp]:yt(et,Ct(3,3),$t(et)),[Te.Mod]:yt(et,Ct(2,2),$t(et)),[Te.Pow]:yt(et,Ct(2,2),$t(et)),[Te.Abs]:yt(et,Ct(1,1),$t(et)),[Te.Floor]:yt(et,Ct(1,1),$t(et)),[Te.Ceil]:yt(et,Ct(1,1),$t(et)),[Te.Round]:yt(et,Ct(1,1),$t(et)),[Te.Sin]:yt(et,Ct(1,1),$t(et)),[Te.Cos]:yt(et,Ct(1,1),$t(et)),[Te.Atan]:yt(et,Ct(1,2),$t(et)),[Te.Sqrt]:yt(et,Ct(1,1),$t(et)),[Te.Match]:yt(t=>{let e=Ni;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},Ct(4,1/0),px,bB),[Te.Between]:yt(kn,Ct(3,3),$t(et)),[Te.Interpolate]:yt(t=>{let e=gi|et;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e},Ct(6,1/0),px,wB),[Te.Case]:yt(t=>{let e=Ni;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},Ct(3,1/0),vB,EB),[Te.In]:yt(kn,Ct(2,2),TB),[Te.Number]:yt(et,Ct(1,1/0),$t(Ni)),[Te.String]:yt(yr,Ct(1,1/0),$t(Ni)),[Te.Array]:yt(t=>t.length===2?Cs|ud:t.length===3||t.length===4?Cs|gi:Cs,Ct(1,1/0),$t(et)),[Te.Color]:yt(gi,Ct(1,4),$t(et)),[Te.Band]:yt(et,Ct(1,3),$t(et)),[Te.Palette]:yt(gi,Ct(2,2),xB),[Te.ToString]:yt(yr,Ct(1,1),$t(kn|et|yr|gi))};function mB(t,e){const n=qt(t[1],e);if(!(n instanceof qa))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),t.length===3){const i=qt(t[2],e);return[n,i]}return[n]}function gB(t,e,n,i){const r=t[1];if(typeof r!="string")throw new Error("Expected a string argument for var operation");if(e.variables.add(r),!("variables"in e.style)||e.style.variables[r]===void 0)return[new qa(Ni,r)];const s=e.style.variables[r],a=qt(s,e);if(a.value=r,i&&!Ss(i,a.type))throw new Error(`The variable ${r} has type ${zi(a.type)} but the following type was expected: ${zi(i)}`);return[a]}function yB(t,e){e.featureId=!0}function _B(t,e){e.geometryType=!0}function zc(t,e){const n=t[0];if(t.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function Ct(t,e){return function(n,i){const r=n[0],s=n.length-1;if(t===e){if(s!==t){const a=t===1?"":"s";throw new Error(`Expected ${t} argument${a} for ${r}, got ${s}`)}}else if(s<t||s>e){const a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`Expected ${a} arguments for ${r}, got ${s}`)}}}function $t(t){return function(e,n){const i=e[0],r=e.length-1,s=new Array(r);for(let a=0;a<r;++a){const o=qt(e[a+1],n);if(!Ss(t,o.type)){const l=zi(t),u=zi(o.type);throw new Error(`Unexpected type for argument ${a} of ${i} operation, got ${l} but expected ${u}`)}o.type&=t,s[a]=o}return s}}function Aa(t,e,n){const i=t[0],r=t.length-1;let s=Ni;for(let o=0;o<n.length;++o)s&=n[o].type;if(s===hc)throw new Error(`No common type could be found for arguments of ${i} operation`);const a=new Array(r);for(let o=0;o<r;++o)a[o]=qt(t[o+1],e,s);return a}function vB(t,e){const n=t[0],i=t.length-1;if(i%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function px(t,e){const n=t[0],i=t.length-1;if(i%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function bB(t,e,n,i){const r=t.length-1;let a=qt(t[1],e).type;const o=qt(t[t.length-1],e);let l=i!==void 0?i&o.type:o.type;const u=new Array(r-2);for(let h=0;h<r-2;h+=2){const p=qt(t[h+2],e),g=qt(t[h+3],e);a&=p.type,l&=g.type,u[h]=p,u[h+1]=g}const c=yr|et|kn;if(!Ss(c,a))throw new Error(`Expected an input of type ${zi(c)} for the interpolate operation, got ${zi(a)} instead`);if(a&=c,Nm(l,hc))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let h=0;h<r-2;h+=2){const p=qt(t[h+2],e,a),g=qt(t[h+3],e,l);u[h]=p,u[h+1]=g}return[qt(t[1],e,a),...u,qt(t[t.length-1],e,l)]}function wB(t,e,n,i){const r=t[1];let s;switch(r[0]){case"linear":s=1;break;case"exponential":if(s=r[1],typeof s!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(r)}`);s=qt(s,e);let a=qt(t[2],e);if(!Ss(et,a.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${zi(a.type)} instead`);a=qt(t[2],e,et);const o=new Array(t.length-3);for(let l=0;l<o.length;l+=2){let u=qt(t[l+3],e);if(!Ss(et,u.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${zi(u.type)} at position ${l+2} instead`);let c=qt(t[l+4],e);if(!Ss(et|gi,c.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${zi(c.type)} at position ${l+3} instead`);u=qt(t[l+3],e,et),c=qt(t[l+4],e,et|gi),o[l]=u,o[l+1]=c}return[s,a,...o]}function EB(t,e,n,i){const r=qt(t[t.length-1],e,i);let s=i!==void 0?i&r.type:r.type;const a=new Array(t.length-1);for(let o=0;o<a.length-1;o+=2){const l=qt(t[o+1],e),u=qt(t[o+2],e,i);if(!Ss(kn,l.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${zi(l.type)} at position ${o} instead`);s&=u.type,a[o]=l,a[o+1]=u}if(Nm(s,hc))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let o=0;o<a.length-1;o+=2)a[o+1]=qt(t[o+2],e,s);return a[a.length-1]=qt(t[t.length-1],e,s),a}function TB(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let i=yr|et;const r=new Array(n.length);for(let a=0;a<r.length;a++){const o=qt(n[a],e);i&=o.type,r[a]=o}if(Nm(i,hc))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[qt(t[1],e,i),...r]}function xB(t,e){const n=qt(t[1],e,et);if(n.type!==et)throw new Error(`The first argument of palette must be an number, got ${zi(n.type)} instead`);const i=t[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const r=new Array(i.length);for(let s=0;s<r.length;s++){const a=qt(i[s],e,gi);if(!(a instanceof qa))throw new Error(`The palette color at index ${s} must be a literal value`);if(!Ss(a.type,gi))throw new Error(`The palette color at index ${s} should be of type color, got ${zi(a.type)} instead`);r[s]=a}return[n,...r]}function yt(t,...e){return function(n,i,r){const s=n[0];let a=[];for(let l=0;l<e.length;l++)a=e[l](n,i,a,r)||a;let o=typeof t=="function"?t(a):t;if(r!==void 0){if(!Ss(o,r))throw new Error(`The following expression was expected to return ${zi(r)}, but returns ${zi(o)} instead: ${JSON.stringify(n)}`);o&=r}if(o===hc)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new hB(o,s,...a)}}function CB(t,e,n){const i=t[0],r=pB[i];if(!r)throw new Error(`Unknown operator: ${i}`);return r(t,e,n)}function C2(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return C2(t.getGeometries()[0]);default:return""}}function S2(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function pa(t,e,n){const i=qt(t,n);if(!Ss(e,i.type)){const r=zi(e),s=zi(i.type);throw new Error(`Expected expression to be of type ${r}, got ${s}`)}return is(i)}function is(t,e){if(t instanceof qa){if(t.type===gi&&typeof t.value=="string"){const i=t1(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case Te.Number:case Te.String:case Te.Coalesce:return SB(t);case Te.Get:case Te.Var:return kB(t);case Te.Id:return i=>i.featureId;case Te.GeometryType:return i=>i.geometryType;case Te.Concat:{const i=t.args.map(r=>is(r));return r=>"".concat(...i.map(s=>s(r).toString()))}case Te.Resolution:return i=>i.resolution;case Te.Any:case Te.All:case Te.Between:case Te.In:case Te.Not:return IB(t);case Te.Equal:case Te.NotEqual:case Te.LessThan:case Te.LessThanOrEqualTo:case Te.GreaterThan:case Te.GreaterThanOrEqualTo:return RB(t);case Te.Multiply:case Te.Divide:case Te.Add:case Te.Subtract:case Te.Clamp:case Te.Mod:case Te.Pow:case Te.Abs:case Te.Floor:case Te.Ceil:case Te.Round:case Te.Sin:case Te.Cos:case Te.Atan:case Te.Sqrt:return AB(t);case Te.Case:return OB(t);case Te.Match:return MB(t);case Te.Interpolate:return PB(t);case Te.ToString:return DB(t);default:throw new Error(`Unsupported operator ${n}`)}}function SB(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=is(t.args[s]);switch(n){case Te.Coalesce:return s=>{for(let a=0;a<i;++a){const o=r[a](s);if(typeof o<"u"&&o!==null)return o}throw new Error("Expected one of the values to be non-null")};case Te.Number:case Te.String:return s=>{for(let a=0;a<i;++a){const o=r[a](s);if(typeof o===n)return o}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function kB(t,e){const i=t.args[0].value;switch(t.operator){case Te.Get:return r=>r.properties[i];case Te.Var:return r=>r.variables[i];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function RB(t,e){const n=t.operator,i=is(t.args[0]),r=is(t.args[1]);switch(n){case Te.Equal:return s=>i(s)===r(s);case Te.NotEqual:return s=>i(s)!==r(s);case Te.LessThan:return s=>i(s)<r(s);case Te.LessThanOrEqualTo:return s=>i(s)<=r(s);case Te.GreaterThan:return s=>i(s)>r(s);case Te.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${n}`)}}function IB(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=is(t.args[s]);switch(n){case Te.Any:return s=>{for(let a=0;a<i;++a)if(r[a](s))return!0;return!1};case Te.All:return s=>{for(let a=0;a<i;++a)if(!r[a](s))return!1;return!0};case Te.Between:return s=>{const a=r[0](s),o=r[1](s),l=r[2](s);return a>=o&&a<=l};case Te.In:return s=>{const a=r[0](s);for(let o=1;o<i;++o)if(a===r[o](s))return!0;return!1};case Te.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${n}`)}}function AB(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=is(t.args[s]);switch(n){case Te.Multiply:return s=>{let a=1;for(let o=0;o<i;++o)a*=r[o](s);return a};case Te.Divide:return s=>r[0](s)/r[1](s);case Te.Add:return s=>{let a=0;for(let o=0;o<i;++o)a+=r[o](s);return a};case Te.Subtract:return s=>r[0](s)-r[1](s);case Te.Clamp:return s=>{const a=r[0](s),o=r[1](s);if(a<o)return o;const l=r[2](s);return a>l?l:a};case Te.Mod:return s=>r[0](s)%r[1](s);case Te.Pow:return s=>Math.pow(r[0](s),r[1](s));case Te.Abs:return s=>Math.abs(r[0](s));case Te.Floor:return s=>Math.floor(r[0](s));case Te.Ceil:return s=>Math.ceil(r[0](s));case Te.Round:return s=>Math.round(r[0](s));case Te.Sin:return s=>Math.sin(r[0](s));case Te.Cos:return s=>Math.cos(r[0](s));case Te.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case Te.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${n}`)}}function OB(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=is(t.args[r]);return r=>{for(let s=0;s<n-1;s+=2)if(i[s](r))return i[s+1](r);return i[n-1](r)}}function MB(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=is(t.args[r]);return r=>{const s=i[0](r);for(let a=1;a<n;a+=2)if(s===i[a](r))return i[a+1](r);return i[n-1](r)}}function PB(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=is(t.args[r]);return r=>{const s=i[0](r),a=i[1](r);let o,l;for(let u=2;u<n;u+=2){const c=i[u](r);let h=i[u+1](r);const p=Array.isArray(h);if(p&&(h=aj(h)),c>=a)return u===2?h:p?LB(s,a,o,l,c,h):nd(s,a,o,l,c,h);o=c,l=h}return l}}function DB(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=is(t.args[s]);switch(n){case Te.ToString:return s=>{const a=r[0](s);return t.args[0].type===gi?n1(a):a.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function nd(t,e,n,i,r,s){const a=r-n;if(a===0)return i;const o=e-n,l=t===1?o/a:(Math.pow(t,o)-1)/(Math.pow(t,a)-1);return i+l*(s-i)}function LB(t,e,n,i,r,s){if(r-n===0)return i;const o=UT(i),l=UT(s);let u=l[2]-o[2];u>180?u-=360:u<-180&&(u+=360);const c=[nd(t,e,n,o[0],r,l[0]),nd(t,e,n,o[1],r,l[1]),o[2]+nd(t,e,n,0,r,u),nd(t,e,n,i[3],r,s[3])];return AI(oj(c))}function FB(t){return!0}function NB(t){const e=x2(),n=$B(t,e),i=S2();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,e.featureId){const a=r.getId();a!==void 0?i.featureId=a:i.featureId=null}return e.geometryType&&(i.geometryType=C2(r.getGeometry())),n(i)}}function mx(t){const e=x2(),n=t.length,i=new Array(n);for(let a=0;a<n;++a)i[a]=c_(t[a],e);const r=S2(),s=new Array(n);return function(a,o){if(r.properties=a.getPropertiesInternal(),r.resolution=o,e.featureId){const u=a.getId();u!==void 0?r.featureId=u:r.featureId=null}let l=0;for(let u=0;u<n;++u){const c=i[u](r);c&&(s[l]=c,l+=1)}return s.length=l,s}}function $B(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const s=t[r],a="filter"in s?pa(s.filter,kn,e):FB;let o;if(Array.isArray(s.style)){const l=s.style.length;o=new Array(l);for(let u=0;u<l;++u)o[u]=c_(s.style[u],e)}else o=[c_(s.style,e)];i[r]={filter:a,styles:o}}return function(r){const s=[];let a=!1;for(let o=0;o<n;++o){const l=i[o].filter;if(l(r)&&!(t[o].else&&a)){a=!0;for(const u of i[o].styles){const c=u(r);c&&s.push(c)}}}return s}}function c_(t,e){const n=Gd(t,"",e),i=zd(t,"",e),r=jB(t,e),s=BB(t,e),a=ir(t,"z-index",e);if(!n&&!i&&!r&&!s&&!fo(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const o=new xs;return function(l){let u=!0;if(n){const c=n(l);c&&(u=!1),o.setFill(c)}if(i){const c=i(l);c&&(u=!1),o.setStroke(c)}if(r){const c=r(l);c&&(u=!1),o.setText(c)}if(s){const c=s(l);c&&(u=!1),o.setImage(c)}return a&&o.setZIndex(a(l)),u?null:o}}function Gd(t,e,n){let i;if(e+"fill-pattern-src"in t?i=UB(t,e+"fill-",n):i=D1(t,e+"fill-color",n),!i)return null;const r=new xo;return function(s){const a=i(s);return a==="none"?null:(r.setColor(a),r)}}function zd(t,e,n){const i=ir(t,e+"stroke-width",n),r=D1(t,e+"stroke-color",n);if(!i&&!r)return null;const s=Ks(t,e+"stroke-line-cap",n),a=Ks(t,e+"stroke-line-join",n),o=k2(t,e+"stroke-line-dash",n),l=ir(t,e+"stroke-line-dash-offset",n),u=ir(t,e+"stroke-miter-limit",n),c=new yh;return function(h){if(r){const p=r(h);if(p==="none")return null;c.setColor(p)}if(i&&c.setWidth(i(h)),s){const p=s(h);if(p!=="butt"&&p!=="round"&&p!=="square")throw new Error("Expected butt, round, or square line cap");c.setLineCap(p)}if(a){const p=a(h);if(p!=="bevel"&&p!=="round"&&p!=="miter")throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(p)}return o&&c.setLineDash(o(h)),l&&c.setLineDashOffset(l(h)),u&&c.setMiterLimit(u(h)),c}}function jB(t,e){const n="text-",i=Ks(t,n+"value",e);if(!i)return null;const r=Gd(t,n,e),s=Gd(t,n+"background-",e),a=zd(t,n,e),o=zd(t,n+"background-",e),l=Ks(t,n+"font",e),u=ir(t,n+"max-angle",e),c=ir(t,n+"offset-x",e),h=ir(t,n+"offset-y",e),p=Ud(t,n+"overflow",e),g=Ks(t,n+"placement",e),y=ir(t,n+"repeat",e),b=$m(t,n+"scale",e),T=Ud(t,n+"rotate-with-view",e),E=ir(t,n+"rotation",e),w=Ks(t,n+"align",e),_=Ks(t,n+"justify",e),x=Ks(t,n+"baseline",e),C=k2(t,n+"padding",e),k=jm(t,n+"declutter-mode"),R=new Fm({declutterMode:k});return function(M){if(R.setText(i(M)),r&&R.setFill(r(M)),s&&R.setBackgroundFill(s(M)),a&&R.setStroke(a(M)),o&&R.setBackgroundStroke(o(M)),l&&R.setFont(l(M)),u&&R.setMaxAngle(u(M)),c&&R.setOffsetX(c(M)),h&&R.setOffsetY(h(M)),p&&R.setOverflow(p(M)),g){const I=g(M);if(I!=="point"&&I!=="line")throw new Error("Expected point or line for text-placement");R.setPlacement(I)}if(y&&R.setRepeat(y(M)),b&&R.setScale(b(M)),T&&R.setRotateWithView(T(M)),E&&R.setRotation(E(M)),w){const I=w(M);if(I!=="left"&&I!=="center"&&I!=="right"&&I!=="end"&&I!=="start")throw new Error("Expected left, right, center, start, or end for text-align");R.setTextAlign(I)}if(_){const I=_(M);if(I!=="left"&&I!=="right"&&I!=="center")throw new Error("Expected left, right, or center for text-justify");R.setJustify(I)}if(x){const I=x(M);if(I!=="bottom"&&I!=="top"&&I!=="middle"&&I!=="alphabetic"&&I!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");R.setTextBaseline(I)}return C&&R.setPadding(C(M)),R}}function BB(t,e){return"icon-src"in t?VB(t,e):"shape-points"in t?GB(t,e):"circle-radius"in t?zB(t,e):null}function VB(t,e){const n="icon-",i=n+"src",r=R2(t[i],i),s=Ip(t,n+"anchor",e),a=$m(t,n+"scale",e),o=ir(t,n+"opacity",e),l=Ip(t,n+"displacement",e),u=ir(t,n+"rotation",e),c=Ud(t,n+"rotate-with-view",e),h=yx(t,n+"anchor-origin"),p=_x(t,n+"anchor-x-units"),g=_x(t,n+"anchor-y-units"),y=KB(t,n+"color"),b=YB(t,n+"cross-origin"),T=WB(t,n+"offset"),E=yx(t,n+"offset-origin"),w=Ap(t,n+"width"),_=Ap(t,n+"height"),x=HB(t,n+"size"),C=jm(t,n+"declutter-mode"),k=new _h({src:r,anchorOrigin:h,anchorXUnits:p,anchorYUnits:g,color:y,crossOrigin:b,offset:T,offsetOrigin:E,height:_,width:w,size:x,declutterMode:C});return function(R){return o&&k.setOpacity(o(R)),l&&k.setDisplacement(l(R)),u&&k.setRotation(u(R)),c&&k.setRotateWithView(c(R)),a&&k.setScale(a(R)),s&&k.setAnchor(s(R)),k}}function GB(t,e){const n="shape-",i=n+"points",r=n+"radius",s=d_(t[i],i),a=d_(t[r],r),o=Gd(t,n,e),l=zd(t,n,e),u=$m(t,n+"scale",e),c=Ip(t,n+"displacement",e),h=ir(t,n+"rotation",e),p=Ud(t,n+"rotate-with-view",e),g=Ap(t,n+"radius2"),y=Ap(t,n+"angle"),b=jm(t,n+"declutter-mode"),T=new Sm({points:s,radius:a,radius2:g,angle:y,declutterMode:b});return function(E){return o&&T.setFill(o(E)),l&&T.setStroke(l(E)),c&&T.setDisplacement(c(E)),h&&T.setRotation(h(E)),p&&T.setRotateWithView(p(E)),u&&T.setScale(u(E)),T}}function zB(t,e){const n="circle-",i=Gd(t,n,e),r=zd(t,n,e),s=ir(t,n+"radius",e),a=$m(t,n+"scale",e),o=Ip(t,n+"displacement",e),l=ir(t,n+"rotation",e),u=Ud(t,n+"rotate-with-view",e),c=jm(t,n+"declutter-mode"),h=new Pl({radius:5,declutterMode:c});return function(p){return s&&h.setRadius(s(p)),i&&h.setFill(i(p)),r&&h.setStroke(r(p)),o&&h.setDisplacement(o(p)),l&&h.setRotation(l(p)),u&&h.setRotateWithView(u(p)),a&&h.setScale(a(p)),h}}function ir(t,e,n){if(!(e in t))return;const i=pa(t[e],et,n);return function(r){return d_(i(r),e)}}function Ks(t,e,n){if(!(e in t))return null;const i=pa(t[e],yr,n);return function(r){return R2(i(r),e)}}function UB(t,e,n){const i=Ks(t,e+"pattern-src",n),r=gx(t,e+"pattern-offset",n),s=gx(t,e+"pattern-size",n),a=D1(t,e+"color",n);return function(o){return{src:i(o),offset:r&&r(o),size:s&&s(o),color:a&&a(o)}}}function Ud(t,e,n){if(!(e in t))return null;const i=pa(t[e],kn,n);return function(r){const s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function D1(t,e,n){if(!(e in t))return null;const i=pa(t[e],gi|yr,n);return function(r){return I2(i(r),e)}}function k2(t,e,n){if(!(e in t))return null;const i=pa(t[e],Cs,n);return function(r){return vh(i(r),e)}}function Ip(t,e,n){if(!(e in t))return null;const i=pa(t[e],Cs,n);return function(r){const s=vh(i(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function gx(t,e,n){if(!(e in t))return null;const i=pa(t[e],Cs,n);return function(r){return A2(i(r),e)}}function $m(t,e,n){if(!(e in t))return null;const i=pa(t[e],Cs|et,n);return function(r){return qB(i(r),e)}}function Ap(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function HB(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return Ki(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function YB(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function yx(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function _x(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function WB(t,e){const n=t[e];if(n!==void 0)return vh(n,e)}function jm(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function KB(t,e){const n=t[e];if(n!==void 0)return I2(n,e)}function vh(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function R2(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function d_(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function I2(t,e){if(typeof t=="string")return t;const n=vh(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function A2(t,e){const n=vh(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function qB(t,e){return typeof t=="number"?t:A2(t,e)}const vx={RENDER_ORDER:"renderOrder"};class Bm extends Lm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(vx.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new P1(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(vx.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?_2:e;const n=XB(e);this.styleFunction_=e===null?void 0:U4(n),this.changed()}}function XB(t){if(t===void 0)return _2;if(!t)return null;if(typeof t=="function"||t instanceof xs)return t;if(!Array.isArray(t))return mx([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof xs){const r=new Array(e);for(let s=0;s<e;++s){const a=t[s];if(!(a instanceof xs))throw new Error("Expected a list of style instances");r[s]=a}return r}if("style"in n){const r=new Array(e);for(let s=0;s<e;++s){const a=t[s];if(!("style"in a))throw new Error("Expected a list of rules with a style property");r[s]=a}return NB(r)}return mx(t)}class ZB extends hh{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e}getFeatures(e){return ft()}getData(e){return null}prepareFrame(e){return ft()}renderFrame(e,n){return ft()}loadedTileCallback(e,n,i){e[n]||(e[n]={}),e[n][i.tileCoord.toString()]=i}createLoadedTileFinder(e,n,i){return(r,s)=>{const a=this.loadedTileCallback.bind(this,i,r);return e.forEachLoadedTile(n,r,s,a)}}forEachFeatureAtCoordinate(e,n,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===rt.LOADED||n.getState()===rt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=rt.LOADED&&n!=rt.ERROR&&e.addEventListener(lt.CHANGE,this.boundHandleImageChange_),n==rt.IDLE&&(e.load(),n=e.getState()),n==rt.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class O2 extends fa{constructor(e,n,i,r){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=r}}class L1{constructor(){Ye(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(_p(),{get:(e,n)=>{if(typeof _p()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){const s=n[i];if(typeof s=="function"){s(e);continue}const a=n[++i];if(typeof e[s]=="function")e[s](...a);else{if(typeof a=="function"){e[s]=a(e);continue}e[s]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const bx=[];let _u=null;function JB(){_u=wi(1,1,void 0,{willReadFrequently:!0})}class F1 extends ZB{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=wr(),this.pixelTransform=wr(),this.inversePixelTransform=wr(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,i){_u||JB(),_u.clearRect(0,0,1,1);let r;try{_u.drawImage(e,n,i,1,1,0,0,1,1),r=_u.getImageData(0,0,1,1).data}catch{return _u=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const r=this.getLayer().getClassName();let s,a;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&Eo(Id(e.style.backgroundColor),Id(i)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}if(a&&a.canvas.style.transform===n?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let o=s.style;o.position="absolute",o.width="100%",o.height="100%",a=wi();const l=a.canvas;s.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const r=To(i),s=Im(i),a=Rm(i),o=km(i);Bn(n.coordinateToPixelTransform,r),Bn(n.coordinateToPixelTransform,s),Bn(n.coordinateToPixelTransform,a),Bn(n.coordinateToPixelTransform,o);const l=this.inversePixelTransform;Bn(l,r),Bn(l,s),Bn(l,a),Bn(l,o),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,n){const i=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,a=e.pixelRatio,o=Math.round(Vt(i)/r*a),l=Math.round(yi(i)/r*a);ns(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,s,-o/2,-l/2),zI(this.inversePixelTransform,this.pixelTransform);const u=$j(this.pixelTransform);if(this.useContainer(n,u,this.getBackground(e)),!this.containerReused){const c=this.context.canvas;c.width!=o||c.height!=l?(c.width=o,c.height=l):this.context.clearRect(0,0,o,l),u!==c.style.transform&&(c.style.transform=u)}}dispatchRenderEvent_(e,n,i){const r=this.getLayer();if(r.hasListener(e)){const s=new O2(e,this.inversePixelTransform,i,n);r.dispatchEvent(s)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Mr.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(Mr.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new L1),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Mr.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Mr.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,r,s,a,o){const l=s/2,u=a/2,c=r/n,h=-c,p=-e[0]+o,g=-e[1];return ns(this.tempTransform,l,u,c,h,-i,p,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class QB extends F1{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const n=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,r=e.viewState,s=r.resolution,a=this.getLayer().getSource(),o=e.viewHints;let l=e.extent;if(n.extent!==void 0&&(l=ro(l,Qs(n.extent,r.projection))),!o[dn.ANIMATING]&&!o[dn.INTERACTING]&&!Ll(l))if(a){const u=r.projection,c=a.getImage(l,s,i,u);c&&(this.loadImage(c)?this.image_=c:c.getState()===rt.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=Bn(n.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Rl(s,r))return null;const a=this.image_.getExtent(),o=this.image_.getImage(),l=Vt(a),u=Math.floor(o.width*((r[0]-a[0])/l));if(u<0||u>=o.width)return null;const c=yi(a),h=Math.floor(o.height*((a[3]-r[1])/c));return h<0||h>=o.height?null:this.getImageData(o,u,h)}renderFrame(e,n){const i=this.image_,r=i.getExtent(),s=i.getResolution(),[a,o]=Array.isArray(s)?s:[s,s],l=i.getPixelRatio(),u=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,h=e.viewState,p=h.center,g=h.resolution,y=c*a/(g*l),b=c*o/(g*l);this.prepareContainer(e,n);const T=this.context.canvas.width,E=this.context.canvas.height,w=this.getRenderContext(e);let _=!1,x=!0;if(u.extent){const I=Qs(u.extent,h.projection);x=On(I,e.extent),_=x&&!Js(I,e.extent),_&&this.clipUnrotated(w,e,I)}const C=i.getImage(),k=ns(this.tempTransform,T/2,E/2,y,b,0,l*(r[0]-p[0])/a,l*(p[1]-r[3])/o);this.renderedResolution=o*c/l;const R=C.width*k[0],M=C.height*k[3];if(this.getLayer().getSource().getInterpolate()||(w.imageSmoothingEnabled=!1),this.preRender(w,e),x&&R>=.5&&M>=.5){const I=k[4],B=k[5],U=u.opacity;U!==1&&(w.save(),w.globalAlpha=U),w.drawImage(C,0,0,+C.width,+C.height,I,B,R,M),U!==1&&w.restore()}return this.postRender(this.context,e),_&&w.restore(),w.imageSmoothingEnabled=!0,this.container}}const nt={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Cf=[nt.FILL],Xa=[nt.STROKE],sl=[nt.BEGIN_PATH],wx=[nt.CLOSE_PATH];class M2{drawCustom(e,n,i,r,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,i){}drawFeature(e,n,i){}drawGeometryCollection(e,n,i){}drawLineString(e,n,i){}drawMultiLineString(e,n,i){}drawMultiPoint(e,n,i){}drawMultiPolygon(e,n,i){}drawPoint(e,n,i){}drawPolygon(e,n,i){}drawText(e,n,i){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class bh extends M2{constructor(e,n,i,r){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(i){return i*n})}appendFlatPointCoordinates(e,n){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates;let a=s.length;for(let o=0,l=e.length;o<l;o+=n)r[0]=e[o],r[1]=e[o+1],Rl(i,r)&&(s[a++]=r[0],s[a++]=r[1]);return a}appendFlatLineCoordinates(e,n,i,r,s,a){const o=this.coordinates;let l=o.length;const u=this.getBufferedMaxExtent();a&&(n+=r);let c=e[n],h=e[n+1];const p=this.tmpCoordinate_;let g=!0,y,b,T;for(y=n+r;y<i;y+=r)p[0]=e[y],p[1]=e[y+1],T=Qy(u,p),T!==b?(g&&(o[l++]=c,o[l++]=h,g=!1),o[l++]=p[0],o[l++]=p[1]):T===mi.INTERSECTING?(o[l++]=p[0],o[l++]=p[1],g=!1):g=!0,c=p[0],h=p[1],b=T;return(s&&g||y===n+r)&&(o[l++]=c,o[l++]=h),l}drawCustomCoordinates_(e,n,i,r,s){for(let a=0,o=i.length;a<o;++a){const l=i[a],u=this.appendFlatLineCoordinates(e,n,l,r,!1,!1);s.push(u),n=l}return n}drawCustom(e,n,i,r,s){this.beginGeometry(e,n,s);const a=e.getType(),o=e.getStride(),l=this.coordinates.length;let u,c,h,p,g;switch(a){case"MultiPolygon":u=e.getOrientedFlatCoordinates(),p=[];const y=e.getEndss();g=0;for(let b=0,T=y.length;b<T;++b){const E=[];g=this.drawCustomCoordinates_(u,g,y[b],o,E),p.push(E)}this.instructions.push([nt.CUSTOM,l,p,e,i,a_,s]),this.hitDetectionInstructions.push([nt.CUSTOM,l,p,e,r||i,a_,s]);break;case"Polygon":case"MultiLineString":h=[],u=a=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),g=this.drawCustomCoordinates_(u,0,e.getEnds(),o,h),this.instructions.push([nt.CUSTOM,l,h,e,i,Fd,s]),this.hitDetectionInstructions.push([nt.CUSTOM,l,h,e,r||i,Fd,s]);break;case"LineString":case"Circle":u=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([nt.CUSTOM,l,c,e,i,Ka,s]),this.hitDetectionInstructions.push([nt.CUSTOM,l,c,e,r||i,Ka,s]);break;case"MultiPoint":u=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(u,o),c>l&&(this.instructions.push([nt.CUSTOM,l,c,e,i,Ka,s]),this.hitDetectionInstructions.push([nt.CUSTOM,l,c,e,r||i,Ka,s]));break;case"Point":u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),c=this.coordinates.length,this.instructions.push([nt.CUSTOM,l,c,e,i,void 0,s]),this.hitDetectionInstructions.push([nt.CUSTOM,l,c,e,r||i,void 0,s]);break}this.endGeometry(n)}beginGeometry(e,n,i){this.beginGeometryInstruction1_=[nt.BEGIN_GEOMETRY,n,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[nt.BEGIN_GEOMETRY,n,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const i=e.length;let r,s,a=-1;for(n=0;n<i;++n)r=e[n],s=r[0],s==nt.END_GEOMETRY?a=n:s==nt.BEGIN_GEOMETRY&&(r[2]=n,yj(this.hitDetectionInstructions,a,n),a=-1)}setFillStrokeStyle(e,n){const i=this.state;if(e){const r=e.getColor();i.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,i.fillStyle=_s(r||tr)}else i.fillStyle=void 0;if(n){const r=n.getColor();i.strokeStyle=_s(r||Md);const s=n.getLineCap();i.lineCap=s!==void 0?s:Xu;const a=n.getLineDash();i.lineDash=a?a.slice():ia;const o=n.getLineDashOffset();i.lineDashOffset=o||ra;const l=n.getLineJoin();i.lineJoin=l!==void 0?l:Zu;const u=n.getWidth();i.lineWidth=u!==void 0?u:Dd;const c=n.getMiterLimit();i.miterLimit=c!==void 0?c:Od,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const n=e.fillStyle,i=[nt.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[nt.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,n){const i=e.strokeStyle,r=e.lineCap,s=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||s!=e.currentLineDash&&!Eo(e.currentLineDash,s)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(i!==void 0&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=s,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=l,e.currentMiterLimit=u)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[nt.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=UI(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;io(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class eV extends bh{constructor(e,n,i,r){super(e,n,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,i){if(!this.image_||this.maxExtent&&!Rl(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,i);const r=e.getFlatCoordinates(),s=e.getStride(),a=this.coordinates.length,o=this.appendFlatPointCoordinates(r,s);this.instructions.push([nt.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([nt.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,i){if(!this.image_)return;this.beginGeometry(e,n,i);const r=e.getFlatCoordinates(),s=[];for(let l=0,u=r.length;l<u;l+=e.getStride())(!this.maxExtent||Rl(this.maxExtent,r.slice(l,l+2)))&&s.push(r[l],r[l+1]);const a=this.coordinates.length,o=this.appendFlatPointCoordinates(s,2);this.instructions.push([nt.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([nt.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const i=e.getAnchor(),r=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class tV extends bh{constructor(e,n,i,r){super(e,n,i,r)}drawFlatCoordinates_(e,n,i,r){const s=this.coordinates.length,a=this.appendFlatLineCoordinates(e,n,i,r,!1,!1),o=[nt.MOVE_TO_LINE_TO,s,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),i}drawLineString(e,n,i){const r=this.state,s=r.strokeStyle,a=r.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ia,ra],sl);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(Xa),this.endGeometry(n)}drawMultiLineString(e,n,i){const r=this.state,s=r.strokeStyle,a=r.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ia,ra],sl);const o=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride();let c=0;for(let h=0,p=o.length;h<p;++h)c=this.drawFlatCoordinates_(l,c,o[h],u);this.hitDetectionInstructions.push(Xa),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Xa),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Xa),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(sl)}}class Ex extends bh{constructor(e,n,i,r){super(e,n,i,r)}drawFlatCoordinatess_(e,n,i,r){const s=this.state,a=s.fillStyle!==void 0,o=s.strokeStyle!==void 0,l=i.length;this.instructions.push(sl),this.hitDetectionInstructions.push(sl);for(let u=0;u<l;++u){const c=i[u],h=this.coordinates.length,p=this.appendFlatLineCoordinates(e,n,c,r,!0,!o),g=[nt.MOVE_TO_LINE_TO,h,p];this.instructions.push(g),this.hitDetectionInstructions.push(g),o&&(this.instructions.push(wx),this.hitDetectionInstructions.push(wx)),n=c}return a&&(this.instructions.push(Cf),this.hitDetectionInstructions.push(Cf)),o&&(this.instructions.push(Xa),this.hitDetectionInstructions.push(Xa)),n}drawCircle(e,n,i){const r=this.state,s=r.fillStyle,a=r.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([nt.SET_FILL_STYLE,tr]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ia,ra]);const o=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const c=[nt.CIRCLE,u];this.instructions.push(sl,c),this.hitDetectionInstructions.push(sl,c),r.fillStyle!==void 0&&(this.instructions.push(Cf),this.hitDetectionInstructions.push(Cf)),r.strokeStyle!==void 0&&(this.instructions.push(Xa),this.hitDetectionInstructions.push(Xa)),this.endGeometry(n)}drawPolygon(e,n,i){const r=this.state,s=r.fillStyle,a=r.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([nt.SET_FILL_STYLE,tr]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ia,ra]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,o,u),this.endGeometry(n)}drawMultiPolygon(e,n,i){const r=this.state,s=r.fillStyle,a=r.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([nt.SET_FILL_STYLE,tr]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([nt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ia,ra]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride();let c=0;for(let h=0,p=o.length;h<p;++h)c=this.drawFlatCoordinatess_(l,c,o[h],u);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let i=0,r=n.length;i<r;++i)n[i]=Xo(n[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function nV(t,e,n,i,r){const s=[];let a=n,o=0,l=e.slice(n,2);for(;o<t&&a+r<i;){const[u,c]=l.slice(-2),h=e[a+r],p=e[a+r+1],g=Math.sqrt((h-u)*(h-u)+(p-c)*(p-c));if(o+=g,o>=t){const y=(t-o+g)/g,b=gr(u,h,y),T=gr(c,p,y);l.push(b,T),s.push(l),l=[b,T],o==t&&(a+=r),o=0}else if(o<t)l.push(e[a+r],e[a+r+1]),a+=r;else{const y=g-o,b=gr(u,h,y/g),T=gr(c,p,y/g);l.push(b,T),s.push(l),l=[b,T],o=0,a+=r}}return o>0&&s.push(l),s}function iV(t,e,n,i,r){let s=n,a=n,o=0,l=0,u=n,c,h,p,g,y,b,T,E,w,_;for(h=n;h<i;h+=r){const x=e[h],C=e[h+1];y!==void 0&&(w=x-y,_=C-b,g=Math.sqrt(w*w+_*_),T!==void 0&&(l+=p,c=Math.acos((T*w+E*_)/(p*g)),c>t&&(l>o&&(o=l,s=u,a=h),l=0,u=h-r)),p=g,T=w,E=_),y=x,b=C}return l+=g,l>o?[u,h]:[s,a]}const Op={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class rV extends bh{constructor(e,n,i,r){super(e,n,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[tr]={fillStyle:tr},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,i){const r=this.textFillState_,s=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!r&&!s)return;const o=this.coordinates;let l=o.length;const u=e.getType();let c=null,h=e.getStride();if(a.placement==="line"&&(u=="LineString"||u=="MultiLineString"||u=="Polygon"||u=="MultiPolygon")){if(!On(this.maxExtent,e.getExtent()))return;let p;if(c=e.getFlatCoordinates(),u=="LineString")p=[c.length];else if(u=="MultiLineString")p=e.getEnds();else if(u=="Polygon")p=e.getEnds().slice(0,1);else if(u=="MultiPolygon"){const T=e.getEndss();p=[];for(let E=0,w=T.length;E<w;++E)p.push(T[E][0])}this.beginGeometry(e,n,i);const g=a.repeat,y=g?void 0:a.textAlign;let b=0;for(let T=0,E=p.length;T<E;++T){let w;g?w=nV(g*this.resolution,c,b,p[T],h):w=[c.slice(b,p[T])];for(let _=0,x=w.length;_<x;++_){const C=w[_];let k=0,R=C.length;if(y==null){const I=iV(a.maxAngle,C,0,C.length,2);k=I[0],R=I[1]}for(let I=k;I<R;I+=h)o.push(C[I],C[I+1]);const M=o.length;b=p[T],this.drawChars_(l,M),l=M}}this.endGeometry(n)}else{let p=a.overflow?null:[];switch(u){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),h=2;break;case"Polygon":c=e.getFlatInteriorPoint(),a.overflow||p.push(c[2]/this.resolution),h=3;break;case"MultiPolygon":const w=e.getFlatInteriorPoints();c=[];for(let _=0,x=w.length;_<x;_+=3)a.overflow||p.push(w[_+2]/this.resolution),c.push(w[_],w[_+1]);if(c.length===0)return;h=2;break}const g=this.appendFlatPointCoordinates(c,h);if(g===l)return;if(p&&(g-l)/2!==c.length/h){let w=l/2;p=p.filter((_,x)=>{const C=o[(w+x)*2]===c[x*h]&&o[(w+x)*2+1]===c[x*h+1];return C||--w,C})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&this.updateFillStyle(this.state,this.createFill),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n,i);let y=a.padding;if(y!=il&&(a.scale[0]<0||a.scale[1]<0)){let w=a.padding[0],_=a.padding[1],x=a.padding[2],C=a.padding[3];a.scale[0]<0&&(_=-_,C=-C),a.scale[1]<0&&(w=-w,x=-x),y=[w,_,x,C]}const b=this.pixelRatio;this.instructions.push([nt.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,y==il?il:y.map(function(w){return w*b}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]);const T=1/b,E=this.state.fillStyle;a.backgroundFill&&(this.state.fillStyle=tr,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([nt.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[T,T],NaN,this.declutterMode_,this.declutterImageWithText_,y,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?tr:this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]),a.backgroundFill&&(this.state.fillStyle=E,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||Pd,justify:n.justify,textBaseline:n.textBaseline||wp,scale:n.scale});const a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))}drawChars_(e,n){const i=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,a=this.textKey_,o=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,u=Op[r.textBaseline],c=this.textOffsetY_*l,h=this.text_,p=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([nt.DRAW_CHARS,e,n,u,r.overflow,o,r.maxAngle,l,c,s,p*l,h,a,1,this.declutterMode_]),this.hitDetectionInstructions.push([nt.DRAW_CHARS,e,n,u,r.overflow,o&&tr,r.maxAngle,l,c,s,p*l,h,a,1/l,this.declutterMode_])}setTextStyle(e,n){let i,r,s;if(!e)this.text_="";else{const a=e.getFill();a?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=_s(a.getColor()||tr)):(r=null,this.textFillState_=r);const o=e.getStroke();if(!o)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const y=o.getLineDash(),b=o.getLineDashOffset(),T=o.getWidth(),E=o.getMiterLimit();s.lineCap=o.getLineCap()||Xu,s.lineDash=y?y.slice():ia,s.lineDashOffset=b===void 0?ra:b,s.lineJoin=o.getLineJoin()||Zu,s.lineWidth=T===void 0?Dd:T,s.miterLimit=E===void 0?Od:E,s.strokeStyle=_s(o.getColor()||Md)}i=this.textState_;const l=e.getFont()||BI;Ij(l);const u=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||wp,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||il,i.scale=u===void 0?[1,1]:u;const c=e.getOffsetX(),h=e.getOffsetY(),p=e.getRotateWithView(),g=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=c===void 0?0:c,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=p===void 0?!1:p,this.textRotation_=g===void 0?0:g,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:wt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+wt(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const sV={Circle:Ex,Default:bh,Image:eV,LineString:tV,Polygon:Ex,Text:rV};class P2{constructor(e,n,i,r){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const i=this.buildersByZIndex_[n];for(const r in i){const s=i[r].finish();e[n][r]=s}}return e}getBuilder(e,n){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let s=r[n];if(s===void 0){const a=sV[n];s=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=s}return s}}function aV(t,e,n,i,r,s,a,o,l,u,c,h){let p=t[e],g=t[e+1],y=0,b=0,T=0,E=0;function w(){y=p,b=g,e+=i,p=t[e],g=t[e+1],E+=T,T=Math.sqrt((p-y)*(p-y)+(g-b)*(g-b))}do w();while(e<n-i&&E+T<s);let _=T===0?0:(s-E)/T;const x=gr(y,p,_),C=gr(b,g,_),k=e-i,R=E,M=s+o*l(u,r,c);for(;e<n-i&&E+T<M;)w();_=T===0?0:(M-E)/T;const I=gr(y,p,_),B=gr(b,g,_);let U;if(h){const j=[x,C,I,B];n2(j,0,4,2,h,j,j),U=j[0]>j[2]}else U=x>I;const G=Math.PI,ie=[],W=k+i===e;e=k,T=0,E=R,p=t[e],g=t[e+1];let N;if(W){w(),N=Math.atan2(g-b,p-y),U&&(N+=N>0?-G:G);const j=(I+x)/2,F=(B+C)/2;return ie[0]=[j,F,(M-s)/2,N,r],ie}r=r.replace(/\n/g," ");for(let j=0,F=r.length;j<F;){w();let Q=Math.atan2(g-b,p-y);if(U&&(Q+=Q>0?-G:G),N!==void 0){let P=Q-N;if(P+=P>G?-2*G:P<-G?2*G:0,Math.abs(P)>a)return null}N=Q;const _e=j;let ve=0;for(;j<F;++j){const P=U?F-j-1:j,re=o*l(u,r[P],c);if(e+i<n&&E+T<s+ve+re/2)break;ve+=re}if(j===_e)continue;const xe=U?r.substring(F-_e,F-j):r.substring(_e,j);_=T===0?0:(s+ve/2-E)/T;const K=gr(y,p,_),Z=gr(b,g,_);ie.push([K,Z,ve/2,Q,xe]),s+=ve}return ie}const au=Fr(),Oa=[],js=[],Bs=[],Ma=[];function Tx(t){return t[3].declutterBox}const xx=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function j0(t,e){return e==="start"?e=xx.test(t)?"right":"left":e==="end"&&(e=xx.test(t)?"left":"right"),Op[e]}function oV(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class lV{constructor(e,n,i,r,s){this.overlaps=i,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=wr(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new L1:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,i,r){const s=e+n+i+r;if(this.labels_[s])return this.labels_[s];const a=r?this.strokeStates[r]:null,o=i?this.fillStates[i]:null,l=this.textStates[n],u=this.pixelRatio,c=[l.scale[0]*u,l.scale[1]*u],h=Array.isArray(e),p=l.justify?Op[l.justify]:j0(Array.isArray(e)?e[0]:e,l.textAlign||Pd),g=r&&a.lineWidth?a.lineWidth:0,y=h?e:e.split(`
`).reduce(oV,[]),{width:b,height:T,widths:E,heights:w,lineWidths:_}=Oj(l,y),x=b+g,C=[],k=(x+2)*c[0],R=(T+g)*c[1],M={width:k<0?Math.floor(k):Math.ceil(k),height:R<0?Math.floor(R):Math.ceil(R),contextInstructions:C};(c[0]!=1||c[1]!=1)&&C.push("scale",c),r&&(C.push("strokeStyle",a.strokeStyle),C.push("lineWidth",g),C.push("lineCap",a.lineCap),C.push("lineJoin",a.lineJoin),C.push("miterLimit",a.miterLimit),C.push("setLineDash",[a.lineDash]),C.push("lineDashOffset",a.lineDashOffset)),i&&C.push("fillStyle",o.fillStyle),C.push("textBaseline","middle"),C.push("textAlign","center");const I=.5-p;let B=p*x+I*g;const U=[],G=[];let ie=0,W=0,N=0,j=0,F;for(let Q=0,_e=y.length;Q<_e;Q+=2){const ve=y[Q];if(ve===`
`){W+=ie,ie=0,B=p*x+I*g,++j;continue}const xe=y[Q+1]||l.font;xe!==F&&(r&&U.push("font",xe),i&&G.push("font",xe),F=xe),ie=Math.max(ie,w[N]);const K=[ve,B+I*E[N]+p*(E[N]-_[j]),.5*(g+ie)+W];B+=E[N],r&&U.push("strokeText",K),i&&G.push("fillText",K),++N}return Array.prototype.push.apply(C,U),Array.prototype.push.apply(C,G),this.labels_[s]=M,M}replayTextBackground_(e,n,i,r,s,a,o){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,s),e.lineTo.apply(e,n),a&&(this.alignAndScaleFill_=a[2],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}calculateImageOrLabelDimensions_(e,n,i,r,s,a,o,l,u,c,h,p,g,y,b,T){o*=p[0],l*=p[1];let E=i-o,w=r-l;const _=s+u>e?e-u:s,x=a+c>n?n-c:a,C=y[3]+_*p[0]+y[1],k=y[0]+x*p[1]+y[2],R=E-y[3],M=w-y[0];(b||h!==0)&&(Oa[0]=R,Ma[0]=R,Oa[1]=M,js[1]=M,js[0]=R+C,Bs[0]=js[0],Bs[1]=M+k,Ma[1]=Bs[1]);let I;return h!==0?(I=ns(wr(),i,r,1,1,h,-i,-r),Bn(I,Oa),Bn(I,js),Bn(I,Bs),Bn(I,Ma),la(Math.min(Oa[0],js[0],Bs[0],Ma[0]),Math.min(Oa[1],js[1],Bs[1],Ma[1]),Math.max(Oa[0],js[0],Bs[0],Ma[0]),Math.max(Oa[1],js[1],Bs[1],Ma[1]),au)):la(Math.min(R,R+C),Math.min(M,M+k),Math.max(R,R+C),Math.max(M,M+k),au),g&&(E=Math.round(E),w=Math.round(w)),{drawImageX:E,drawImageY:w,drawImageW:_,drawImageH:x,originX:u,originY:c,declutterBox:{minX:au[0],minY:au[1],maxX:au[2],maxY:au[3],value:T},canvasTransform:I,scale:p}}replayImageOrLabel_(e,n,i,r,s,a,o){const l=!!(a||o),u=r.declutterBox,c=o?o[2]*r.scale[0]/2:0;return u.minX-c<=n[0]&&u.maxX+c>=0&&u.minY-c<=n[1]&&u.maxY+c>=0&&(l&&this.replayTextBackground_(e,Oa,js,Bs,Ma,a,o),Mj(e,r.canvasTransform,s,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const i=Bn(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,i,r){const s=this.textStates[n],a=this.createLabel(e,n,r,i),o=this.strokeStates[i],l=this.pixelRatio,u=j0(Array.isArray(e)?e[0]:e,s.textAlign||Pd),c=Op[s.textBaseline||wp],h=o&&o.lineWidth?o.lineWidth:0,p=a.width/l-2*s.scale[0],g=u*p+2*(.5-u)*h,y=c*a.height/l+2*(.5-c)*h;return{label:a,anchorX:g,anchorY:y}}execute_(e,n,i,r,s,a,o,l){const u=this.zIndexContext_;let c;this.pixelCoordinates_&&Eo(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=so(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Lj(this.renderedTransform_,i));let h=0;const p=r.length;let g=0,y,b,T,E,w,_,x,C,k,R,M,I,B,U=0,G=0,ie=null,W=null;const N=this.coordinateCache_,j=this.viewRotation_,F=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,Q={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:j},_e=this.instructions!=r||this.overlaps?0:200;let ve,xe,K,Z;for(;h<p;){const P=r[h];switch(P[0]){case nt.BEGIN_GEOMETRY:ve=P[1],Z=P[3],ve.getGeometry()?o!==void 0&&!On(o,Z.getExtent())?h=P[2]+1:++h:h=P[2],u&&(u.zIndex=P[4]);break;case nt.BEGIN_PATH:U>_e&&(this.fill_(e),U=0),G>_e&&(e.stroke(),G=0),!U&&!G&&(e.beginPath(),w=NaN,_=NaN),++h;break;case nt.CIRCLE:g=P[1];const Ee=c[g],q=c[g+1],ye=c[g+2],Ze=c[g+3],de=ye-Ee,qe=Ze-q,H=Math.sqrt(de*de+qe*qe);e.moveTo(Ee+H,q),e.arc(Ee,q,H,0,2*Math.PI,!0),++h;break;case nt.CLOSE_PATH:e.closePath(),++h;break;case nt.CUSTOM:g=P[1],y=P[2];const L=P[3],O=P[4],z=P[5];Q.geometry=L,Q.feature=ve,h in N||(N[h]=[]);const J=N[h];z?z(c,g,y,2,J):(J[0]=c[g],J[1]=c[g+1],J.length=2),u&&(u.zIndex=P[6]),O(J,Q),++h;break;case nt.DRAW_IMAGE:g=P[1],y=P[2],k=P[3],b=P[4],T=P[5];let he=P[6];const Y=P[7],ue=P[8],D=P[9],$=P[10];let X=P[11];const se=P[12];let Ie=P[13];E=P[14]||"declutter";const we=P[15];if(!k&&P.length>=20){R=P[19],M=P[20],I=P[21],B=P[22];const Dn=this.drawLabelWithPointPlacement_(R,M,I,B);k=Dn.label,P[3]=k;const Jt=P[23];b=(Dn.anchorX-Jt)*this.pixelRatio,P[4]=b;const ci=P[24];T=(Dn.anchorY-ci)*this.pixelRatio,P[5]=T,he=k.height,P[6]=he,Ie=k.width,P[13]=Ie}let ae;P.length>25&&(ae=P[25]);let ce,Le,je;P.length>17?(ce=P[16],Le=P[17],je=P[18]):(ce=il,Le=!1,je=!1),$&&F?X+=j:!$&&!F&&(X-=j);let Et=0;for(;g<y;g+=2){if(ae&&ae[Et++]<Ie/this.pixelRatio)continue;const Dn=this.calculateImageOrLabelDimensions_(k.width,k.height,c[g],c[g+1],Ie,he,b,T,ue,D,X,se,s,ce,Le||je,ve),Jt=[e,n,k,Dn,Y,Le?ie:null,je?W:null];if(l){let ci,Zn,Wn;if(we){const on=y-g;if(!we[on]){we[on]={args:Jt,declutterMode:E};continue}const Ti=we[on];ci=Ti.args,Zn=Ti.declutterMode,delete we[on],Wn=Tx(ci)}let Sr,di;if(ci&&(Zn!=="declutter"||!l.collides(Wn))&&(Sr=!0),(E!=="declutter"||!l.collides(Dn.declutterBox))&&(di=!0),Zn==="declutter"&&E==="declutter"){const on=Sr&&di;Sr=on,di=on}Sr&&(Zn!=="none"&&l.insert(Wn),this.replayImageOrLabel_.apply(this,ci)),di&&(E!=="none"&&l.insert(Dn.declutterBox),this.replayImageOrLabel_.apply(this,Jt))}else this.replayImageOrLabel_.apply(this,Jt)}++h;break;case nt.DRAW_CHARS:const nn=P[1],bn=P[2],Wt=P[3],Ei=P[4];B=P[5];const Ai=P[6],Kt=P[7],oe=P[8];I=P[9];const Oe=P[10];R=P[11],M=P[12];const ge=[P[13],P[13]];E=P[14]||"declutter";const Pe=this.textStates[M],Be=Pe.font,Zt=[Pe.scale[0]*Kt,Pe.scale[1]*Kt];let hn;Be in this.widths_?hn=this.widths_[Be]:(hn={},this.widths_[Be]=hn);const Cr=d2(c,nn,bn,2),Oi=Math.abs(Zt[0])*qT(Be,R,hn);if(Ei||Oi<=Cr){const Dn=this.textStates[M].textAlign,Jt=(Cr-Oi)*j0(R,Dn),ci=aV(c,nn,bn,2,R,Jt,Ai,Math.abs(Zt[0]),qT,Be,hn,F?0:this.viewRotation_);e:if(ci){const Zn=[];let Wn,Sr,di,on,Ti;if(I)for(Wn=0,Sr=ci.length;Wn<Sr;++Wn){Ti=ci[Wn],di=Ti[4],on=this.createLabel(di,M,"",I),b=Ti[2]+(Zt[0]<0?-Oe:Oe),T=Wt*on.height+(.5-Wt)*2*Oe*Zt[1]/Zt[0]-oe;const $r=this.calculateImageOrLabelDimensions_(on.width,on.height,Ti[0],Ti[1],on.width,on.height,b,T,0,0,Ti[3],ge,!1,il,!1,ve);if(l&&E==="declutter"&&l.collides($r.declutterBox))break e;Zn.push([e,n,on,$r,1,null,null])}if(B)for(Wn=0,Sr=ci.length;Wn<Sr;++Wn){Ti=ci[Wn],di=Ti[4],on=this.createLabel(di,M,B,""),b=Ti[2],T=Wt*on.height-oe;const $r=this.calculateImageOrLabelDimensions_(on.width,on.height,Ti[0],Ti[1],on.width,on.height,b,T,0,0,Ti[3],ge,!1,il,!1,ve);if(l&&E==="declutter"&&l.collides($r.declutterBox))break e;Zn.push([e,n,on,$r,1,null,null])}l&&E!=="none"&&l.load(Zn.map(Tx));for(let $r=0,zl=Zn.length;$r<zl;++$r)this.replayImageOrLabel_.apply(this,Zn[$r])}}++h;break;case nt.END_GEOMETRY:if(a!==void 0){ve=P[1];const Dn=a(ve,Z,E);if(Dn)return Dn}++h;break;case nt.FILL:_e?U++:this.fill_(e),++h;break;case nt.MOVE_TO_LINE_TO:for(g=P[1],y=P[2],xe=c[g],K=c[g+1],e.moveTo(xe,K),w=xe+.5|0,_=K+.5|0,g+=2;g<y;g+=2)xe=c[g],K=c[g+1],x=xe+.5|0,C=K+.5|0,(g==y-2||x!==w||C!==_)&&(e.lineTo(xe,K),w=x,_=C);++h;break;case nt.SET_FILL_STYLE:ie=P,this.alignAndScaleFill_=P[2],U&&(this.fill_(e),U=0,G&&(e.stroke(),G=0)),e.fillStyle=P[1],++h;break;case nt.SET_STROKE_STYLE:W=P,G&&(e.stroke(),G=0),this.setStrokeStyle_(e,P),++h;break;case nt.STROKE:_e?G++:e.stroke(),++h;break;default:++h;break}}U&&this.fill_(e),G&&e.stroke()}execute(e,n,i,r,s,a){this.viewRotation_=r,this.execute_(e,n,i,this.instructions,s,void 0,void 0,a)}executeHitDetection(e,n,i,r,s){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,r,s)}}const xu=["Polygon","Circle","LineString","Image","Text","Default"],Mp=["Image","Text"],uV=xu.filter(t=>!Mp.includes(t));class D2{constructor(e,n,i,r,s,a,o){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=wr(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,o)}clip(e,n){const i=this.getClipCoords(n);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,n){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const s=e[i];for(const a in s){const o=s[a];r[a]=new lV(this.resolution_,this.pixelRatio_,this.overlaps_,o,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let r=0,s=e.length;r<s;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,n,i,r,s,a){r=Math.round(r);const o=r*2+1,l=ns(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-i,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=wi(o,o,void 0,{willReadFrequently:!0}));const c=this.hitDetectionContext_;c.canvas.width!==o||c.canvas.height!==o?(c.canvas.width=o,c.canvas.height=o):u||c.clearRect(0,0,o,o);let h;this.renderBuffer_!==void 0&&(h=Fr(),ld(h,e),io(h,n*(this.renderBuffer_+r),h));const p=cV(r);let g;function y(C,k,R){const M=c.getImageData(0,0,o,o).data;for(let I=0,B=p.length;I<B;I++)if(M[p[I]]>0){if(!a||R==="none"||g!=="Image"&&g!=="Text"||a.includes(C)){const U=(p[I]-3)/4,G=r-U%o,ie=r-(U/o|0),W=s(C,k,G*G+ie*ie);if(W)return W}c.clearRect(0,0,o,o);break}}const b=Object.keys(this.executorsByZIndex_).map(Number);b.sort(Es);let T,E,w,_,x;for(T=b.length-1;T>=0;--T){const C=b[T].toString();for(w=this.executorsByZIndex_[C],E=xu.length-1;E>=0;--E)if(g=xu[E],_=w[g],_!==void 0&&(x=_.executeHitDetection(c,l,i,y,h),x))return x}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const i=n[0],r=n[1],s=n[2],a=n[3],o=[i,r,i,a,s,a,s,r];return so(o,0,8,2,e,o),o}isEmpty(){return fo(this.executorsByZIndex_)}execute(e,n,i,r,s,a,o){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Es),a=a||xu;const u=xu.length;let c,h,p,g,y;for(o&&l.reverse(),c=0,h=l.length;c<h;++c){const b=l[c].toString();for(y=this.executorsByZIndex_[b],p=0,g=a.length;p<g;++p){const T=a[p],E=y[T];if(E!==void 0){const w=o===null?void 0:E.getZIndexContext(),_=w?w.getContext():e,x=this.maxExtent_&&T!=="Image"&&T!=="Text";if(x&&(_.save(),this.clip(_,i)),!w||T==="Text"||T==="Image"?E.execute(_,n,i,r,s,o):w.pushFunction(C=>E.execute(C,n,i,r,s,o)),x&&_.restore(),w){w.offset();const C=l[c]*u+p;this.deferredZIndexContexts_[C]||(this.deferredZIndexContexts_[C]=[]),this.deferredZIndexContexts_[C].push(w)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(Es);for(let i=0,r=n.length;i<r;++i)e[n[i]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[n[i]].length=0}}const B0={};function cV(t){if(B0[t]!==void 0)return B0[t];const e=t*2+1,n=t*t,i=new Array(n+1);for(let s=0;s<=t;++s)for(let a=0;a<=t;++a){const o=s*s+a*a;if(o>n)break;let l=i[o];l||(l=[],i[o]=l),l.push(((t+s)*e+(t+a))*4+3),s>0&&l.push(((t-s)*e+(t+a))*4+3),a>0&&(l.push(((t+s)*e+(t-a))*4+3),s>0&&l.push(((t-s)*e+(t-a))*4+3))}const r=[];for(let s=0,a=i.length;s<a;++s)i[s]&&r.push(...i[s]);return B0[t]=r,r}class dV extends M2{constructor(e,n,i,r,s,a,o){super(),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.transformRotation_=r?e1(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=a,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=wr()}drawImages_(e,n,i,r){if(!this.image_)return;const s=so(e,n,i,r,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,l=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=l*this.imageOpacity_);let u=this.imageRotation_;this.transformRotation_===0&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(let c=0,h=s.length;c<h;c+=2){const p=s[c]-this.imageAnchorX_,g=s[c+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const y=p+this.imageAnchorX_,b=g+this.imageAnchorY_;ns(o,y,b,1,1,u,-y,-b),a.save(),a.transform.apply(a,o),a.translate(y,b),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,g,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=l)}drawText_(e,n,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=so(e,n,i,r,this.transform_,this.pixelCoordinates_),a=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);n<i;n+=r){const l=s[n]+this.textOffsetX_,u=s[n+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(l-this.textOffsetX_,u-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,l,u),this.textFillState_&&a.fillText(this.text_,l,u))}}moveToLineTo_(e,n,i,r,s){const a=this.context_,o=so(e,n,i,r,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);let l=o.length;s&&(l-=2);for(let u=2;u<l;u+=2)a.lineTo(o[u],o[u+1]);return s&&a.closePath(),i}drawRings_(e,n,i,r){for(let s=0,a=i.length;s<a;++s)n=this.moveToLineTo_(e,n,i[s],r,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!On(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=h4(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],r=n[3]-n[1],s=Math.sqrt(i*i+r*r),a=this.context_;a.beginPath(),a.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const i=n.getGeometryFunction()(e);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let i=0,r=n.length;i<r;++i)this.drawGeometry(n[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!On(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(On(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let s=0;const a=e.getEnds(),o=e.getStride();i.beginPath();for(let l=0,u=a.length;l<u;++l)s=this.moveToLineTo_(r,s,a[l],o,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!On(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!On(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const s=e.getEndss(),a=e.getStride();n.beginPath();for(let o=0,l=s.length;o<l;++o){const u=s[o];r=this.drawRings_(i,r,u,a)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),Eo(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:Pd;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=r&&(i.textAlign=r,n.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=r,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:_s(i||tr)}}if(!n)this.strokeState_=null;else{const i=n.getColor(),r=n.getLineCap(),s=n.getLineDash(),a=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),u=n.getMiterLimit(),c=s||ia;this.strokeState_={lineCap:r!==void 0?r:Xu,lineDash:this.pixelRatio_===1?c:c.map(h=>h*this.pixelRatio_),lineDashOffset:(a||ra)*this.pixelRatio_,lineJoin:o!==void 0?o:Zu,lineWidth:(l!==void 0?l:Dd)*this.pixelRatio_,miterLimit:u!==void 0?u:Od,strokeStyle:_s(i||Md)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/i,a[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const g=n.getColor();this.textFillState_={fillStyle:_s(g||tr)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const g=i.getColor(),y=i.getLineCap(),b=i.getLineDash(),T=i.getLineDashOffset(),E=i.getLineJoin(),w=i.getWidth(),_=i.getMiterLimit();this.textStrokeState_={lineCap:y!==void 0?y:Xu,lineDash:b||ia,lineDashOffset:T||ra,lineJoin:E!==void 0?E:Zu,lineWidth:w!==void 0?w:Dd,miterLimit:_!==void 0?_:Od,strokeStyle:_s(g||Md)}}const r=e.getFont(),s=e.getOffsetX(),a=e.getOffsetY(),o=e.getRotateWithView(),l=e.getRotation(),u=e.getScaleArray(),c=e.getText(),h=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:r!==void 0?r:BI,textAlign:h!==void 0?h:Pd,textBaseline:p!==void 0?p:wp},this.text_=c!==void 0?Array.isArray(c)?c.reduce((g,y,b)=>g+=b%2?" ":y,""):c:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}}}const vr=.5;function L2(t,e,n,i,r,s,a,o,l){const u=l?m1(r):r,c=t[0]*vr,h=t[1]*vr,p=wi(c,h);p.imageSmoothingEnabled=!1;const g=p.canvas,y=new dV(p,vr,r,null,a,o,l?ph(t2(),l):null),b=n.length,T=Math.floor((256*256*256-1)/b),E={};for(let _=1;_<=b;++_){const x=n[_-1],C=x.getStyleFunction()||i;if(!C)continue;let k=C(x,s);if(!k)continue;Array.isArray(k)||(k=[k]);const M=(_*T).toString(16).padStart(7,"#00000");for(let I=0,B=k.length;I<B;++I){const U=k[I],G=U.getGeometryFunction()(x);if(!G||!On(u,G.getExtent()))continue;const ie=U.clone(),W=ie.getFill();W&&W.setColor(M);const N=ie.getStroke();N&&(N.setColor(M),N.setLineDash(null)),ie.setText(void 0);const j=U.getImage();if(j){const ve=j.getImageSize();if(!ve)continue;const xe=wi(ve[0],ve[1],void 0,{alpha:!1}),K=xe.canvas;xe.fillStyle=M,xe.fillRect(0,0,K.width,K.height),ie.setImage(new _h({img:K,anchor:j.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:j.getOrigin(),opacity:1,size:j.getSize(),scale:j.getScale(),rotation:j.getRotation(),rotateWithView:j.getRotateWithView()}))}const F=ie.getZIndex()||0;let Q=E[F];Q||(Q={},E[F]=Q,Q.Polygon=[],Q.Circle=[],Q.LineString=[],Q.Point=[]);const _e=G.getType();if(_e==="GeometryCollection"){const ve=G.getGeometriesArrayRecursive();for(let xe=0,K=ve.length;xe<K;++xe){const Z=ve[xe];Q[Z.getType().replace("Multi","")].push(Z,ie)}}else Q[_e.replace("Multi","")].push(G,ie)}}const w=Object.keys(E).map(Number).sort(Es);for(let _=0,x=w.length;_<x;++_){const C=E[w[_]];for(const k in C){const R=C[k];for(let M=0,I=R.length;M<I;M+=2){y.setStyle(R[M+1]);for(let B=0,U=e.length;B<U;++B)y.setTransform(e[B]),y.drawGeometry(R[M])}}}return p.getImageData(0,0,g.width,g.height)}function F2(t,e,n){const i=[];if(n){const r=Math.floor(Math.round(t[0])*vr),s=Math.floor(Math.round(t[1])*vr),a=(Mn(r,0,n.width-1)+Mn(s,0,n.height-1)*n.width)*4,o=n.data[a],l=n.data[a+1],c=n.data[a+2]+256*(l+256*o),h=Math.floor((256*256*256-1)/e.length);c&&c%h===0&&i.push(e[c/h-1])}return i}const hV=.5,N2={Point:bV,LineString:yV,Polygon:EV,MultiPoint:wV,MultiLineString:_V,MultiPolygon:vV,GeometryCollection:gV,Circle:pV};function fV(t,e){return parseInt(wt(t),10)-parseInt(wt(e),10)}function h_(t,e){const n=$2(t,e);return n*n}function $2(t,e){return hV*t/e}function pV(t,e,n,i,r){const s=n.getFill(),a=n.getStroke();if(s||a){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(s,a),l.drawCircle(e,i,r)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i)}}function Pp(t,e,n,i,r,s,a,o){const l=[],u=n.getImage();if(u){let p=!0;const g=u.getImageState();g==rt.LOADED||g==rt.ERROR?p=!1:g==rt.IDLE&&u.load(),p&&l.push(u.ready())}const c=n.getFill();c&&c.loading()&&l.push(c.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),mV(t,e,n,i,s,a,o),h}function mV(t,e,n,i,r,s,a){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(i,r);if(n.getRenderer())j2(t,l,n,e,a);else{const c=N2[l.getType()];c(t,l,n,e,a,s)}}function j2(t,e,n,i,r){if(e.getType()=="GeometryCollection"){const a=e.getGeometries();for(let o=0,l=a.length;o<l;++o)j2(t,a[o],n,i,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}function gV(t,e,n,i,r,s){const a=e.getGeometriesArray();let o,l;for(o=0,l=a.length;o<l;++o){const u=N2[a[o].getType()];u(t,a[o],n,i,r,s)}}function yV(t,e,n,i,r){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawLineString(e,i,r)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,r)}}function _V(t,e,n,i,r){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawMultiLineString(e,i,r)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,r)}}function vV(t,e,n,i,r){const s=n.getFill(),a=n.getStroke();if(a||s){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,a),l.drawMultiPolygon(e,i,r)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i,r)}}function bV(t,e,n,i,r,s){const a=n.getImage(),o=n.getText(),l=o&&o.getText(),u=s&&a&&l?{}:void 0;if(a){if(a.getImageState()!=rt.LOADED)return;const c=t.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,u),c.drawPoint(e,i,r)}if(l){const c=t.getBuilder(n.getZIndex(),"Text");c.setTextStyle(o,u),c.drawText(e,i,r)}}function wV(t,e,n,i,r,s){const a=n.getImage(),o=a&&a.getOpacity()!==0,l=n.getText(),u=l&&l.getText(),c=s&&o&&u?{}:void 0;if(o){if(a.getImageState()!=rt.LOADED)return;const h=t.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,c),h.drawMultiPoint(e,i,r)}if(u){const h=t.getBuilder(n.getZIndex(),"Text");h.setTextStyle(l,c),h.drawText(e,i,r)}}function EV(t,e,n,i,r){const s=n.getFill(),a=n.getStroke();if(s||a){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,a),l.drawPolygon(e,i,r)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i,r)}}class B2 extends F1{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Fr(),this.wrappedRenderedExtent_=Fr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,i){const r=n.extent,s=n.viewState,a=s.center,o=s.resolution,l=s.projection,u=s.rotation,c=l.getExtent(),h=this.getLayer().getSource(),p=this.getLayer().getDeclutter(),g=n.pixelRatio,y=n.viewHints,b=!(y[dn.ANIMATING]||y[dn.INTERACTING]),T=this.context,E=Math.round(Vt(r)/o*g),w=Math.round(yi(r)/o*g),_=h.getWrapX()&&l.canWrapX(),x=_?Vt(c):null,C=_?Math.ceil((r[2]-c[2])/x)+1:1;let k=_?Math.floor((r[0]-c[0])/x):0;do{let R=this.getRenderTransform(a,o,0,g,E,w,k*x);n.declutter&&(R=R.slice(0)),e.execute(T,[T.canvas.width,T.canvas.height],R,u,b,i===void 0?xu:i?Mp:uV,i?p&&n.declutter[p]:void 0)}while(++k<C)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=wi(this.context.canvas.width,this.context.canvas.height,bx))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,uh(this.context),bx.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,n);const s=this.context,a=this.replayGroup_;let o=a&&!a.isEmpty();if(!o&&!(this.getLayer().hasListener(Mr.PRERENDER)||this.getLayer().hasListener(Mr.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(s,e),r.projection,this.clipped_=!1,o&&i.extent&&this.clipping){const l=Qs(i.extent);o=On(l,e.extent),this.clipped_=o&&!Js(l,e.extent),this.clipped_&&this.clipUnrotated(s,e,l)}return o&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,u=this.getLayer(),c=[],h=i[0]*vr,p=i[1]*vr;c.push(this.getRenderTransform(r,s,a,vr,h,p,0).slice());const g=u.getSource(),y=o.getExtent();if(g.getWrapX()&&o.canWrapX()&&!Js(y,l)){let b=l[0];const T=Vt(y);let E=0,w;for(;b<y[0];)--E,w=T*E,c.push(this.getRenderTransform(r,s,a,vr,h,p,w).slice()),b+=T;for(E=0,b=l[2];b>y[2];)++E,w=T*E,c.push(this.getRenderTransform(r,s,a,vr,h,p,w).slice()),b-=T}this.hitDetectionImageData_=L2(i,c,this.renderedFeatures_,u.getStyleFunction(),l,s,a,h_(s,this.renderedPixelRatio_),null)}n(F2(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,i,r,s){if(!this.replayGroup_)return;const a=n.viewState.resolution,o=n.viewState.rotation,l=this.getLayer(),u={},c=function(y,b,T){const E=wt(y),w=u[E];if(w){if(w!==!0&&T<w.distanceSq){if(T===0)return u[E]=!0,s.splice(s.lastIndexOf(w),1),r(y,l,b);w.geometry=b,w.distanceSq=T}}else{if(T===0)return u[E]=!0,r(y,l,b);s.push(u[E]={feature:y,layer:l,geometry:b,distanceSq:T,callback:r})}};let h;const p=[this.replayGroup_],g=this.getLayer().getDeclutter();return p.some(y=>h=y.forEachFeatureAtCoordinate(e,a,o,i,c,g&&n.declutter[g]?n.declutter[g].all().map(b=>b.value):null)),h}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const r=e.viewHints[dn.ANIMATING],s=e.viewHints[dn.INTERACTING],a=n.getUpdateWhileAnimating(),o=n.getUpdateWhileInteracting();if(this.ready&&!a&&r||!o&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,u=e.viewState,c=u.projection,h=u.resolution,p=e.pixelRatio,g=n.getRevision(),y=n.getRenderBuffer();let b=n.getRenderOrder();b===void 0&&(b=fV);const T=u.center.slice(),E=io(l,y*h),w=E.slice(),_=[E.slice()],x=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!Js(x,e.extent)){const W=Vt(x),N=Math.max(Vt(E)/2,W);E[0]=x[0]-N,E[2]=x[2]+N,h1(T,c);const j=qI(_[0],c);j[0]<x[0]&&j[2]<x[2]?_.push([j[0]+W,j[1],j[2]+W,j[3]]):j[0]>x[0]&&j[2]>x[2]&&_.push([j[0]-W,j[1],j[2]-W,j[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==g&&this.renderedRenderOrder_==b&&this.renderedFrameDeclutter_===!!e.declutter&&Js(this.wrappedRenderedExtent_,E))return Eo(this.renderedExtent_,w)||(this.hitDetectionImageData_=null,this.renderedExtent_=w),this.renderedCenter_=T,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const C=new P2($2(h,p),E,h,p);let k;for(let W=0,N=_.length;W<N;++W)i.loadFeatures(_[W],h,c);const R=h_(h,p);let M=!0;const I=(W,N)=>{let j;const F=W.getStyleFunction()||n.getStyleFunction();if(F&&(j=F(W,h)),j){const Q=this.renderFeature(W,R,j,C,k,this.getLayer().getDeclutter(),N);M=M&&!Q}},B=m1(E),U=i.getFeaturesInExtent(B);b&&U.sort(b);for(let W=0,N=U.length;W<N;++W)I(U[W],W);this.renderedFeatures_=U,this.ready=M;const G=C.finish(),ie=new D2(E,h,p,i.getOverlaps(),G,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=g,this.renderedRenderOrder_=b,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=w,this.wrappedRenderedExtent_=E,this.renderedCenter_=T,this.renderedProjection_=c,this.renderedPixelRatio_=p,this.replayGroup_=ie,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,i,r,s,a,o){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let u=0,c=i.length;u<c;++u)l=Pp(r,e,i[u],n,this.boundHandleStyleImageChange_,s,a,o)||l;else l=Pp(r,e,i,n,this.boundHandleStyleImageChange_,s,a,o);return l}}class TV extends vj{constructor(e,n,i,r,s){const a=s!==void 0?rt.IDLE:rt.LOADED;super(e,n,i,a),this.loader_=s!==void 0?s:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=rt.ERROR):this.state=rt.LOADED,this.changed()}load(){this.state==rt.IDLE&&(this.state=rt.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}function xV(t){return Array.isArray(t)?Math.min(...t):t}class CV extends QB{constructor(e){super(e),this.vectorRenderer_=new B2(e),this.layerImageRatio_=e.getImageRatio(),this.coordinateToVectorPixelTransform_=wr(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(e){if(!this.vectorRenderer_)return Promise.resolve([]);const n=Bn(this.coordinateToVectorPixelTransform_,Bn(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(n)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(e){const n=e.pixelRatio,i=e.viewState,r=i.resolution,s=e.viewHints,a=this.vectorRenderer_;let o=e.extent;this.layerImageRatio_!==1&&(o=o.slice(0),zj(o,this.layerImageRatio_));const l=Vt(o)/r,u=yi(o)/r;if(!s[dn.ANIMATING]&&!s[dn.INTERACTING]&&!Ll(o)){a.useContainer(null,null);const c=a.context,h=e.layerStatesArray[e.layerIndex],p=Object.assign({},h,{opacity:1}),g=Object.assign({},e,{extent:o,size:[l,u],viewState:Object.assign({},e.viewState,{rotation:0}),layerStatesArray:[p],layerIndex:0,declutter:null}),y=this.getLayer().getDeclutter();y&&(g.declutter={[y]:new P1(9)});let b=!0;const T=new TV(o,r,n,c.canvas,function(E){a.prepareFrame(g)&&a.replayGroupChanged&&(a.clipping=!1,a.renderFrame(g,null)&&(a.renderDeclutter(g),a.renderDeferred(g),b=!1),E())});T.addEventListener(lt.CHANGE,()=>{if(T.getState()!==rt.LOADED)return;this.image_=b?null:T;const E=T.getPixelRatio(),w=xV(T.getResolution())*n/E;this.renderedResolution=w,this.coordinateToVectorPixelTransform_=ns(this.coordinateToVectorPixelTransform_,l/2,u/2,1/w,-1/w,0,-i.center[0],-i.center[1])}),T.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(e,n,i,r,s){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r,s):super.forEachFeatureAtCoordinate(e,n,i,r,s)}}class V2 extends Bm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.imageRatio,super(n),this.imageRatio_=e.imageRatio!==void 0?e.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new CV(this)}}const nr={ADD:"add",REMOVE:"remove"},Cx={LENGTH:"length"};class Sf extends fa{constructor(e,n,i){super(e),this.element=n,this.index=i}}class vs extends ss{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Cx.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Sf(nr.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Sf(nr.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const r=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Sf(nr.REMOVE,r,e)),this.dispatchEvent(new Sf(nr.ADD,n,e))}updateLength_(){this.set(Cx.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}class Sx{constructor(e){this.rbush_=new P1(e),this.items_={}}insert(e,n){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(i),this.items_[wt(n)]=i}load(e,n){const i=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const a=e[r],o=n[r],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};i[r]=l,this.items_[wt(o)]=l}this.rbush_.load(i)}remove(e){const n=wt(e),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(e,n){const i=this.items_[wt(n)],r=[i.minX,i.minY,i.maxX,i.maxY];Ju(r,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let i;for(let r=0,s=e.length;r<s;r++)if(i=n(e[r]),i)return i;return i}isEmpty(){return fo(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return la(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class G2 extends ss{constructor(e){super(),this.projection=Tn(e.projection),this.attributions_=kx(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=kx(e),this.changed()}setState(e){this.state_=e,this.changed()}}function kx(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const Rr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function SV(t,e){return[[-1/0,-1/0,1/0,1/0]]}let kV=!1;function z2(t,e,n,i,r,s,a){const o=new XMLHttpRequest;o.open("GET",typeof t=="function"?t(n,i,r):t,!0),e.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=kV,o.onload=function(l){if(!o.status||o.status>=200&&o.status<300){const u=e.getType();try{let c;u=="text"||u=="json"?c=o.responseText:u=="xml"?c=o.responseXML||o.responseText:u=="arraybuffer"&&(c=o.response),c?s(e.readFeatures(c,{extent:n,featureProjection:r}),e.readProjection(c)):a()}catch{a()}}else a()},o.onerror=a,o.send()}function Rx(t,e){return function(n,i,r,s,a){const o=this;z2(t,e,n,i,r,function(l,u){o.addFeatures(l),s!==void 0&&s(l)},a||Ku)}}class Pa extends fa{constructor(e,n,i){super(e),this.feature=n,this.features=i}}class N1 extends G2{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ku,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Ft(this.format_,"`format` must be set when `url` is set"),this.loader_=Rx(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:SV;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new Sx:null,this.loadedExtentsRtree_=new Sx,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!n&&i===void 0&&(i=new vs(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=wt(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new Pa(Rr.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof Si||(this.featureChangeKeys_[e]=[Mt(n,lt.CHANGE,this.handleFeatureChange_,this),Mt(n,qu.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let i=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof Si){const s=this.idIndex_[r];s instanceof Si?Array.isArray(s)?s.push(n):this.idIndex_[r]=[s,n]:i=!1}else i=!1}return i&&(Ft(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],i=[],r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s],l=wt(o);this.addToIndex_(l,o)&&i.push(o)}for(let s=0,a=i.length;s<a;s++){const o=i[s],l=wt(o);this.setupChangeEvents_(l,o);const u=o.getGeometry();if(u){const c=u.getExtent();n.push(c),r.push(o)}else this.nullGeometryFeatures_[l]=o}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(Rr.ADDFEATURE))for(let s=0,a=i.length;s<a;s++)this.dispatchEvent(new Pa(Rr.ADDFEATURE,i[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(Rr.ADDFEATURE,function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener(Rr.REMOVEFEATURE,function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener(nr.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),e.addEventListener(nr.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(an);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=r=>{this.removeFeatureInternal(r)};this.featuresRtree_.forEach(i);for(const r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Pa(Rr.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const s=r.getGeometry();if(s instanceof Si||s.intersectsCoordinate(e))return n(r)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof Si||r.intersectsExtent(e)){const s=n(i);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),fo(this.nullGeometryFeatures_)||Ts(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=XI(e,n);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const i=e[0],r=e[1];let s=null;const a=[NaN,NaN];let o=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||Ad,this.featuresRtree_.forEachInExtent(l,function(u){if(n(u)){const c=u.getGeometry(),h=o;if(o=c instanceof Si?0:c.closestPointXY(i,r,a,o),o<h){s=u;const p=Math.sqrt(o);l[0]=i-p,l[1]=r-p,l[2]=i+p,l[3]=r+p}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,i=wt(n),r=n.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{const a=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}const s=n.getId();if(s!==void 0){const a=s.toString();this.idIndex_[a]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[a]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Pa(Rr.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:wt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&fo(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,i){const r=this.loadedExtentsRtree_,s=this.strategy_(e,n,i);for(let a=0,o=s.length;a<o;++a){const l=s[a];r.forEachInExtent(l,function(c){return Js(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Pa(Rr.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new Pa(Rr.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Pa(Rr.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let i;n.forEachInExtent(e,function(r){if(Ju(r.extent,e))return i=r,!0}),i&&n.remove(i)}removeFeatures(e){const n=[];for(let i=0,r=e.length;i<r;++i){const s=e[i],a=this.removeFeatureInternal(s);a&&n.push(a)}n.length>0&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=wt(e);if(!(n in this.uidIndex_))return;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e);const i=this.featureChangeKeys_[n];i==null||i.forEach(an),delete this.featureChangeKeys_[n];const r=e.getId();if(r!==void 0){const s=r.toString(),a=this.idIndex_[s];a===e?delete this.idIndex_[s]:Array.isArray(a)&&(a.splice(a.indexOf(e),1),a.length===1&&(this.idIndex_[s]=a[0]))}return delete this.uidIndex_[n],this.hasListener(Rr.REMOVEFEATURE)&&this.dispatchEvent(new Pa(Rr.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const i in this.idIndex_){const r=this.idIndex_[i];if(e instanceof Si&&Array.isArray(r)&&r.includes(e))r.splice(r.indexOf(e),1);else if(this.idIndex_[i]===e){delete this.idIndex_[i],n=!0;break}}return n}setLoader(e){this.loader_=e}setUrl(e){Ft(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Rx(e,this.format_))}}function U2(t,e){return function(){return t.apply(e,arguments)}}var RV={};const{toString:IV}=Object.prototype,{getPrototypeOf:$1}=Object,Vm=(t=>e=>{const n=IV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),as=t=>(t=t.toLowerCase(),e=>Vm(e)===t),Gm=t=>e=>typeof e===t,{isArray:fc}=Array,Hd=Gm("undefined");function AV(t){return t!==null&&!Hd(t)&&t.constructor!==null&&!Hd(t.constructor)&&Dr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const H2=as("ArrayBuffer");function OV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&H2(t.buffer),e}const MV=Gm("string"),Dr=Gm("function"),Y2=Gm("number"),zm=t=>t!==null&&typeof t=="object",PV=t=>t===!0||t===!1,Hf=t=>{if(Vm(t)!=="object")return!1;const e=$1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},DV=as("Date"),LV=as("File"),FV=as("Blob"),NV=as("FileList"),$V=t=>zm(t)&&Dr(t.pipe),jV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Dr(t.append)&&((e=Vm(t))==="formdata"||e==="object"&&Dr(t.toString)&&t.toString()==="[object FormData]"))},BV=as("URLSearchParams"),[VV,GV,zV,UV]=["ReadableStream","Request","Response","Headers"].map(as),HV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),fc(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(i=0;i<a;i++)o=s[i],e.call(null,t[o],o,t)}}function W2(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const K2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:RV,q2=t=>!Hd(t)&&t!==K2;function f_(){const{caseless:t}=q2(this)&&this||{},e={},n=(i,r)=>{const s=t&&W2(e,r)||r;Hf(e[s])&&Hf(i)?e[s]=f_(e[s],i):Hf(i)?e[s]=f_({},i):fc(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&wh(arguments[i],n);return e}const YV=(t,e,n,{allOwnKeys:i}={})=>(wh(e,(r,s)=>{n&&Dr(r)?t[s]=U2(r,n):t[s]=r},{allOwnKeys:i}),t),WV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),KV=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},qV=(t,e,n,i)=>{let r,s,a;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)a=r[s],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&$1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},XV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},ZV=t=>{if(!t)return null;if(fc(t))return t;let e=t.length;if(!Y2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},JV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&$1(Uint8Array)),QV=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},eG=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},tG=as("HTMLFormElement"),nG=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Ix=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),iG=as("RegExp"),X2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};wh(n,(r,s)=>{let a;(a=e(r,s,t))!==!1&&(i[s]=a||r)}),Object.defineProperties(t,i)},rG=t=>{X2(t,(e,n)=>{if(Dr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Dr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sG=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return fc(t)?i(t):i(String(t).split(e)),n},aG=()=>{},oG=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,V0="abcdefghijklmnopqrstuvwxyz",Ax="0123456789",Z2={DIGIT:Ax,ALPHA:V0,ALPHA_DIGIT:V0+V0.toUpperCase()+Ax},lG=(t=16,e=Z2.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function uG(t){return!!(t&&Dr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const cG=t=>{const e=new Array(10),n=(i,r)=>{if(zm(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=fc(i)?[]:{};return wh(i,(a,o)=>{const l=n(a,r+1);!Hd(l)&&(s[o]=l)}),e[r]=void 0,s}}return i};return n(t,0)},dG=as("AsyncFunction"),hG=t=>t&&(zm(t)||Dr(t))&&Dr(t.then)&&Dr(t.catch),be={isArray:fc,isArrayBuffer:H2,isBuffer:AV,isFormData:jV,isArrayBufferView:OV,isString:MV,isNumber:Y2,isBoolean:PV,isObject:zm,isPlainObject:Hf,isReadableStream:VV,isRequest:GV,isResponse:zV,isHeaders:UV,isUndefined:Hd,isDate:DV,isFile:LV,isBlob:FV,isRegExp:iG,isFunction:Dr,isStream:$V,isURLSearchParams:BV,isTypedArray:JV,isFileList:NV,forEach:wh,merge:f_,extend:YV,trim:HV,stripBOM:WV,inherits:KV,toFlatObject:qV,kindOf:Vm,kindOfTest:as,endsWith:XV,toArray:ZV,forEachEntry:QV,matchAll:eG,isHTMLForm:tG,hasOwnProperty:Ix,hasOwnProp:Ix,reduceDescriptors:X2,freezeMethods:rG,toObjectSet:sG,toCamelCase:nG,noop:aG,toFiniteNumber:oG,findKey:W2,global:K2,isContextDefined:q2,ALPHABET:Z2,generateString:lG,isSpecCompliantForm:uG,toJSONObject:cG,isAsyncFn:dG,isThenable:hG};function Tt(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}be.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const J2=Tt.prototype,Q2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Q2[t]={value:t}});Object.defineProperties(Tt,Q2);Object.defineProperty(J2,"isAxiosError",{value:!0});Tt.from=(t,e,n,i,r,s)=>{const a=Object.create(J2);return be.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Tt.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const fG=null;function p_(t){return be.isPlainObject(t)||be.isArray(t)}function eA(t){return be.endsWith(t,"[]")?t.slice(0,-2):t}function Ox(t,e,n){return t?t.concat(e).map(function(r,s){return r=eA(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function pG(t){return be.isArray(t)&&!t.some(p_)}const mG=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function Um(t,e,n){if(!be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,T){return!be.isUndefined(T[b])});const i=n.metaTokens,r=n.visitor||c,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(r))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(be.isDate(y))return y.toISOString();if(!l&&be.isBlob(y))throw new Tt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(y)||be.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function c(y,b,T){let E=y;if(y&&!T&&typeof y=="object"){if(be.endsWith(b,"{}"))b=i?b:b.slice(0,-2),y=JSON.stringify(y);else if(be.isArray(y)&&pG(y)||(be.isFileList(y)||be.endsWith(b,"[]"))&&(E=be.toArray(y)))return b=eA(b),E.forEach(function(_,x){!(be.isUndefined(_)||_===null)&&e.append(a===!0?Ox([b],x,s):a===null?b:b+"[]",u(_))}),!1}return p_(y)?!0:(e.append(Ox(T,b,s),u(y)),!1)}const h=[],p=Object.assign(mG,{defaultVisitor:c,convertValue:u,isVisitable:p_});function g(y,b){if(!be.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(y),be.forEach(y,function(E,w){(!(be.isUndefined(E)||E===null)&&r.call(e,E,be.isString(w)?w.trim():w,b,p))===!0&&g(E,b?b.concat(w):[w])}),h.pop()}}if(!be.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Mx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function j1(t,e){this._pairs=[],t&&Um(t,this,e)}const tA=j1.prototype;tA.append=function(e,n){this._pairs.push([e,n])};tA.toString=function(e){const n=e?function(i){return e.call(this,i,Mx)}:Mx;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function gG(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nA(t,e,n){if(!e)return t;const i=n&&n.encode||gG,r=n&&n.serialize;let s;if(r?s=r(e,n):s=be.isURLSearchParams(e)?e.toString():new j1(e,n).toString(i),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Px{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(i){i!==null&&e(i)})}}const iA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yG=typeof URLSearchParams<"u"?URLSearchParams:j1,_G=typeof FormData<"u"?FormData:null,vG=typeof Blob<"u"?Blob:null,bG={isBrowser:!0,classes:{URLSearchParams:yG,FormData:_G,Blob:vG},protocols:["http","https","file","blob","url","data"]},B1=typeof window<"u"&&typeof document<"u",wG=(t=>B1&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),EG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TG=B1&&window.location.href||"http://localhost",xG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:B1,hasStandardBrowserEnv:wG,hasStandardBrowserWebWorkerEnv:EG,origin:TG},Symbol.toStringTag,{value:"Module"})),Jr={...xG,...bG};function CG(t,e){return Um(t,new Jr.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return Jr.isNode&&be.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function SG(t){return be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kG(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function rA(t){function e(n,i,r,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&be.isArray(r)?r.length:a,l?(be.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!o):((!r[a]||!be.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],s)&&be.isArray(r[a])&&(r[a]=kG(r[a])),!o)}if(be.isFormData(t)&&be.isFunction(t.entries)){const n={};return be.forEachEntry(t,(i,r)=>{e(SG(i),r,n,0)}),n}return null}function RG(t,e,n){if(be.isString(t))try{return(e||JSON.parse)(t),be.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Eh={transitional:iA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=be.isObject(e);if(s&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return r?JSON.stringify(rA(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return CG(e,this.formSerializer).toString();if((o=be.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Um(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),RG(e)):e}],transformResponse:[function(e){const n=this.transitional||Eh.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Tt.from(o,Tt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jr.classes.FormData,Blob:Jr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],t=>{Eh.headers[t]={}});const IG=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AG=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&IG[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Dx=Symbol("internals");function Uc(t){return t&&String(t).trim().toLowerCase()}function Yf(t){return t===!1||t==null?t:be.isArray(t)?t.map(Yf):String(t)}function OG(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const MG=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function G0(t,e,n,i,r){if(be.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!be.isString(e)){if(be.isString(i))return e.indexOf(i)!==-1;if(be.isRegExp(i))return i.test(e)}}function PG(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function DG(t,e){const n=be.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,a){return this[i].call(this,e,r,s,a)},configurable:!0})})}class lr{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(o,l,u){const c=Uc(l);if(!c)throw new Error("header name must be a non-empty string");const h=be.findKey(r,c);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||l]=Yf(o))}const a=(o,l)=>be.forEach(o,(u,c)=>s(u,c,l));if(be.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(be.isString(e)&&(e=e.trim())&&!MG(e))a(AG(e),n);else if(be.isHeaders(e))for(const[o,l]of e.entries())s(l,o,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=Uc(e),e){const i=be.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return OG(r);if(be.isFunction(n))return n.call(this,r,i);if(be.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Uc(e),e){const i=be.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||G0(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(a){if(a=Uc(a),a){const o=be.findKey(i,a);o&&(!n||G0(i,i[o],o,n))&&(delete i[o],r=!0)}}return be.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||G0(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return be.forEach(this,(r,s)=>{const a=be.findKey(i,s);if(a){n[a]=Yf(r),delete n[s];return}const o=e?PG(s):String(s).trim();o!==s&&delete n[s],n[o]=Yf(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return be.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&be.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Dx]=this[Dx]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=Uc(a);i[o]||(DG(r,a),i[o]=!0)}return be.isArray(e)?e.forEach(s):s(e),this}}lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(lr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});be.freezeMethods(lr);function z0(t,e){const n=this||Eh,i=e||n,r=lr.from(i.headers);let s=i.data;return be.forEach(t,function(o){s=o.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function sA(t){return!!(t&&t.__CANCEL__)}function pc(t,e,n){Tt.call(this,t??"canceled",Tt.ERR_CANCELED,e,n),this.name="CanceledError"}be.inherits(pc,Tt,{__CANCEL__:!0});function aA(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Tt("Request failed with status code "+n.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function LG(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function FG(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[s];a||(a=u),n[r]=l,i[r]=u;let h=s,p=0;for(;h!==r;)p+=n[h++],h=h%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),u-a<e)return;const g=c&&u-c;return g?Math.round(p*1e3/g):void 0}}function NG(t,e){let n=0;const i=1e3/e;let r=null;return function(){const a=this===!0,o=Date.now();if(a||o-n>i)return r&&(clearTimeout(r),r=null),n=o,t.apply(null,arguments);r||(r=setTimeout(()=>(r=null,n=Date.now(),t.apply(null,arguments)),i-(o-n)))}}const Dp=(t,e,n=3)=>{let i=0;const r=FG(50,250);return NG(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-i,u=r(l),c=a<=o;i=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null};h[e?"download":"upload"]=!0,t(h)},n)},$G=Jr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(a){const o=be.isString(a)?r(a):a;return o.protocol===i.protocol&&o.host===i.host}}():function(){return function(){return!0}}(),jG=Jr.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const a=[t+"="+encodeURIComponent(e)];be.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),be.isString(i)&&a.push("path="+i),be.isString(r)&&a.push("domain="+r),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BG(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function VG(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function oA(t,e){return t&&!BG(e)?VG(t,e):e}const Lx=t=>t instanceof lr?{...t}:t;function Al(t,e){e=e||{};const n={};function i(u,c,h){return be.isPlainObject(u)&&be.isPlainObject(c)?be.merge.call({caseless:h},u,c):be.isPlainObject(c)?be.merge({},c):be.isArray(c)?c.slice():c}function r(u,c,h){if(be.isUndefined(c)){if(!be.isUndefined(u))return i(void 0,u,h)}else return i(u,c,h)}function s(u,c){if(!be.isUndefined(c))return i(void 0,c)}function a(u,c){if(be.isUndefined(c)){if(!be.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function o(u,c,h){if(h in e)return i(u,c);if(h in t)return i(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c)=>r(Lx(u),Lx(c),!0)};return be.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||r,p=h(t[c],e[c],c);be.isUndefined(p)&&h!==o||(n[c]=p)}),n}const lA=t=>{const e=Al({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=lr.from(a),e.url=nA(oA(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(be.isFormData(n)){if(Jr.hasStandardBrowserEnv||Jr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Jr.hasStandardBrowserEnv&&(i&&be.isFunction(i)&&(i=i(e)),i||i!==!1&&$G(e.url))){const u=r&&s&&jG.read(s);u&&a.set(r,u)}return e},GG=typeof XMLHttpRequest<"u",zG=GG&&function(t){return new Promise(function(n,i){const r=lA(t);let s=r.data;const a=lr.from(r.headers).normalize();let{responseType:o}=r,l;function u(){r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(r.method.toUpperCase(),r.url,!0),c.timeout=r.timeout;function h(){if(!c)return;const g=lr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:g,config:t,request:c};aA(function(E){n(E),u()},function(E){i(E),u()},b),c=null}"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(i(new Tt("Request aborted",Tt.ECONNABORTED,r,c)),c=null)},c.onerror=function(){i(new Tt("Network Error",Tt.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let y=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const b=r.transitional||iA;r.timeoutErrorMessage&&(y=r.timeoutErrorMessage),i(new Tt(y,b.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,r,c)),c=null},s===void 0&&a.setContentType(null),"setRequestHeader"in c&&be.forEach(a.toJSON(),function(y,b){c.setRequestHeader(b,y)}),be.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),o&&o!=="json"&&(c.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&c.addEventListener("progress",Dp(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Dp(r.onUploadProgress)),(r.cancelToken||r.signal)&&(l=g=>{c&&(i(!g||g.type?new pc(null,t,c):g),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const p=LG(r.url);if(p&&Jr.protocols.indexOf(p)===-1){i(new Tt("Unsupported protocol "+p+":",Tt.ERR_BAD_REQUEST,t));return}c.send(s||null)})},UG=(t,e)=>{let n=new AbortController,i;const r=function(l){if(!i){i=!0,a();const u=l instanceof Error?l:this.reason;n.abort(u instanceof Tt?u:new pc(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{r(new Tt(`timeout ${e} of ms exceeded`,Tt.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",r):l.unsubscribe(r))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",r));const{signal:o}=n;return o.unsubscribe=a,[o,()=>{s&&clearTimeout(s),s=null}]},HG=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},YG=async function*(t,e,n){for await(const i of t)yield*HG(ArrayBuffer.isView(i)?i:await n(String(i)),e)},Fx=(t,e,n,i,r)=>{const s=YG(t,e,r);let a=0;return new ReadableStream({type:"bytes",async pull(o){const{done:l,value:u}=await s.next();if(l){o.close(),i();return}let c=u.byteLength;n&&n(a+=c),o.enqueue(new Uint8Array(u))},cancel(o){return i(o),s.return()}},{highWaterMark:2})},Nx=(t,e)=>{const n=t!=null;return i=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:i}))},Hm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uA=Hm&&typeof ReadableStream=="function",m_=Hm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),WG=uA&&(()=>{let t=!1;const e=new Request(Jr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),$x=64*1024,g_=uA&&!!(()=>{try{return be.isReadableStream(new Response("").body)}catch{}})(),Lp={stream:g_&&(t=>t.body)};Hm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lp[e]&&(Lp[e]=be.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Tt(`Response type '${e}' is not supported`,Tt.ERR_NOT_SUPPORT,i)})})})(new Response);const KG=async t=>{if(t==null)return 0;if(be.isBlob(t))return t.size;if(be.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(be.isArrayBufferView(t))return t.byteLength;if(be.isURLSearchParams(t)&&(t=t+""),be.isString(t))return(await m_(t)).byteLength},qG=async(t,e)=>{const n=be.toFiniteNumber(t.getContentLength());return n??KG(e)},XG=Hm&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:p}=lA(t);u=u?(u+"").toLowerCase():"text";let[g,y]=r||s||a?UG([r,s],a):[],b,T;const E=()=>{!b&&setTimeout(()=>{g&&g.unsubscribe()}),b=!0};let w;try{if(l&&WG&&n!=="get"&&n!=="head"&&(w=await qG(c,i))!==0){let k=new Request(e,{method:"POST",body:i,duplex:"half"}),R;be.isFormData(i)&&(R=k.headers.get("content-type"))&&c.setContentType(R),k.body&&(i=Fx(k.body,$x,Nx(w,Dp(l)),null,m_))}be.isString(h)||(h=h?"cors":"omit"),T=new Request(e,{...p,signal:g,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",withCredentials:h});let _=await fetch(T);const x=g_&&(u==="stream"||u==="response");if(g_&&(o||x)){const k={};["status","statusText","headers"].forEach(M=>{k[M]=_[M]});const R=be.toFiniteNumber(_.headers.get("content-length"));_=new Response(Fx(_.body,$x,o&&Nx(R,Dp(o,!0)),x&&E,m_),k)}u=u||"text";let C=await Lp[be.findKey(Lp,u)||"text"](_,t);return!x&&E(),y&&y(),await new Promise((k,R)=>{aA(k,R,{data:C,headers:lr.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:T})})}catch(_){throw E(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,t,T),{cause:_.cause||_}):Tt.from(_,_&&_.code,t,T)}}),y_={http:fG,xhr:zG,fetch:XG};be.forEach(y_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const jx=t=>`- ${t}`,ZG=t=>be.isFunction(t)||t===null||t===!1,cA={getAdapter:t=>{t=be.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let a;if(i=n,!ZG(n)&&(i=y_[(a=String(n)).toLowerCase()],i===void 0))throw new Tt(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+s]=i}if(!i){const s=Object.entries(r).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(jx).join(`
`):" "+jx(s[0]):"as no adapter specified";throw new Tt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:y_};function U0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pc(null,t)}function Bx(t){return U0(t),t.headers=lr.from(t.headers),t.data=z0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cA.getAdapter(t.adapter||Eh.adapter)(t).then(function(i){return U0(t),i.data=z0.call(t,t.transformResponse,i),i.headers=lr.from(i.headers),i},function(i){return sA(i)||(U0(t),i&&i.response&&(i.response.data=z0.call(t,t.transformResponse,i.response),i.response.headers=lr.from(i.response.headers))),Promise.reject(i)})}const dA="1.7.2",V1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{V1[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Vx={};V1.transitional=function(e,n,i){function r(s,a){return"[Axios v"+dA+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(e===!1)throw new Tt(r(a," has been removed"+(n?" in "+n:"")),Tt.ERR_DEPRECATED);return n&&!Vx[a]&&(Vx[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};function JG(t,e,n){if(typeof t!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Tt("option "+s+" must be "+l,Tt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Tt("Unknown option "+s,Tt.ERR_BAD_OPTION)}}const __={assertOptions:JG,validators:V1},Da=__.validators;class gl{constructor(e){this.defaults=e,this.interceptors={request:new Px,response:new Px}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Al(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&__.assertOptions(i,{silentJSONParsing:Da.transitional(Da.boolean),forcedJSONParsing:Da.transitional(Da.boolean),clarifyTimeoutError:Da.transitional(Da.boolean)},!1),r!=null&&(be.isFunction(r)?n.paramsSerializer={serialize:r}:__.assertOptions(r,{encode:Da.function,serialize:Da.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&be.merge(s.common,s[n.method]);s&&be.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=lr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let c,h=0,p;if(!l){const y=[Bx.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,u),p=y.length,c=Promise.resolve(n);h<p;)c=c.then(y[h++],y[h++]);return c}p=o.length;let g=n;for(h=0;h<p;){const y=o[h++],b=o[h++];try{g=y(g)}catch(T){b.call(this,T);break}}try{c=Bx.call(this,g)}catch(y){return Promise.reject(y)}for(h=0,p=u.length;h<p;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=Al(this.defaults,e);const n=oA(e.baseURL,e.url);return nA(n,e.params,e.paramsSerializer)}}be.forEach(["delete","get","head","options"],function(e){gl.prototype[e]=function(n,i){return this.request(Al(i||{},{method:e,url:n,data:(i||{}).data}))}});be.forEach(["post","put","patch"],function(e){function n(i){return function(s,a,o){return this.request(Al(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}gl.prototype[e]=n(),gl.prototype[e+"Form"]=n(!0)});class G1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},e(function(s,a,o){i.reason||(i.reason=new pc(s,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new G1(function(r){e=r}),cancel:e}}}function QG(t){return function(n){return t.apply(null,n)}}function e6(t){return be.isObject(t)&&t.isAxiosError===!0}const v_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(v_).forEach(([t,e])=>{v_[e]=t});function hA(t){const e=new gl(t),n=U2(gl.prototype.request,e);return be.extend(n,gl.prototype,e,{allOwnKeys:!0}),be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return hA(Al(t,r))},n}const Xn=hA(Eh);Xn.Axios=gl;Xn.CanceledError=pc;Xn.CancelToken=G1;Xn.isCancel=sA;Xn.VERSION=dA;Xn.toFormData=Um;Xn.AxiosError=Tt;Xn.Cancel=Xn.CanceledError;Xn.all=function(e){return Promise.all(e)};Xn.spread=QG;Xn.isAxiosError=e6;Xn.mergeConfig=Al;Xn.AxiosHeaders=lr;Xn.formToJSON=t=>rA(be.isHTMLForm(t)?new FormData(t):t);Xn.getAdapter=cA.getAdapter;Xn.HttpStatusCode=v_;Xn.default=Xn;const al={async get(t){try{return await Xn.get(t)}catch(e){throw e}}},t6={async queryAvailableDatasets(){let e=(await al.get("data/dose_rates/metadata.json")).data.available_data;return e.forEach(n=>{n.date=new Date(n.date),n.times.sort()}),e.sort((n,i)=>new Date(n.date)-new Date(i.date)),e},async getDataset(t){return(await al.get(t)).data},async getTimeSeries(t,e){const n=e.toISOString().split("T")[0],i="data/dose_rates/time_series/"+t+"/"+n+".json";return(await al.get(i)).data.data}},b_={async getDataset(t){return(await al.get(t)).data},async getTimeSeries(t,e,n){const i=[],r=new Date(n),s=24*60*60*1e3,a=new Date(r.getTime()-30*s),o=`data/air_radionuclides/time_series/${t}/${e}/available_filenames.json`;try{const u=(await al.get(o)).data;for(const c of u){const h=c.replace(".json","").split("TO");if(h.length===2){const p=new Date(h[0]),g=new Date(h[1]);if(p<=r&&p>=a||g<=r&&g>=a||p<=a&&g>=r){const y=`data/air_radionuclides/time_series/${t}/${e}/${c}`;try{const b=await al.get(y);b.data&&b.data.data&&i.push(...b.data.data)}catch{console.log(`Data not found for file ${c}`)}}}}}catch(l){console.error(`Error fetching available files: ${l}`)}return i},async getAvailableRadionuclides(t){const e=`/data/air_radionuclides/time_series/${t}/available_radionuclides.json`;try{const n=await al.get(e);return n&&n.data&&Array.isArray(n.data)?n.data:(console.error("Invalid response format for available radionuclides:",n),[])}catch(n){return console.error(`Error fetching available radionuclides for site ${t}:`,n),[]}}},Ym={doseRate:t6,airRadionuclide:b_};var z1={exports:{}};function U1(){}U1.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function r(){i.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var s=0,a=i.length;s<a;s++)i[s].fn!==e&&i[s].fn._!==e&&r.push(i[s]);return r.length?n[t]=r:delete n[t],this}};z1.exports=U1;z1.exports.TinyEmitter=U1;var n6=z1.exports,i6=n6,r6=new i6;const kf=Hp(r6),mt={$on:(...t)=>kf.on(...t),$once:(...t)=>kf.once(...t),$off:(...t)=>kf.off(...t),$emit:(...t)=>kf.emit(...t)},s6={name:"DoseRateLayer",emits:["doseRateLayerChanged"],data(){return{vectorLayer:new V2({source:new N1({format:new S1({defaultDataProjection:"EPSG:4326"})}),renderMode:"vector",preload:20,renderBuffer:20,renderOrder:function(t,e){return t.get("doseRate")<e.get("doseRate")?-1:1},style:t=>{let e="#0000";const n=t.get("doseRate"),i=this.$store.state.settings.settings.mapLegend.bars;for(let s=0;s<i.length;++s){const a=i[s].threshold,o=i[s+1]?i[s+1].threshold:1e9;if(n>=a&&n<o)if(i[s].isEnabled){e=i[s].color;break}else return}return[new xs({image:new Pl({radius:this.featureRadius,fill:new xo({color:e})})})]}})}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRateMode(){return this.mode==="dose_rates"},datasetFilePath(){return!this.isDoseRateMode||!this.$store.state.datetime.selectedDate?"":"data/dose_rates/datasets/"+this.$store.state.datetime.selectedDate.toISOString().split("T")[0]+"T"+this.$store.state.datetime.selectedTime+".json"},doseRateRanges(){return this.$store.state.settings.settings.mapLegend.bars}},watch:{datasetFilePath:async function(){if(!this.isDoseRateMode)return"";try{this.$Progress.start();const e=(await Ym.doseRate.getDataset(this.datasetFilePath)).features.map(n=>new cc({geometry:new ua(Am(n.geometry.coordinates,"EPSG:4326","EPSG:3857")),id:n.properties.id,site:n.properties.site,doseRate:n.properties.doseRate}));this.vectorLayer.getSource().clear(!0),this.vectorLayer.getSource().addFeatures(e),mt.$emit("doseRateLayerChanged",this.vectorLayer),this.$Progress.finish()}catch{this.$Progress.fail()}},doseRateRanges:{handler:function(){this.isDoseRateMode&&this.redraw()},deep:!0}},mounted(){this.isDoseRateMode&&mt.$on("settingsChanged",this.redraw)},methods:{redraw(){this.isDoseRateMode&&this.vectorLayer.changed()},updateFeatureRadius(t){if(this.isDoseRateMode){const e=this.featureRadius,n=t*2;n!==e&&(this.featureRadius=n,this.redraw())}}}};function a6(t,e,n,i,r,s){return ne(),pe("div")}const o6=st(s6,[["render",a6],["__scopeId","data-v-9384364d"]]),l6={name:"RadionuclideLayer",emits:["radionuclideLayerChanged"],data(){return{vectorLayer:new V2({source:new N1({format:new S1({defaultDataProjection:"EPSG:4326"})}),renderMode:"vector",preload:20,renderBuffer:20,style:()=>{const t="#1d66af";return[new xs({image:new Pl({radius:this.featureRadius,fill:new xo({color:t})})})]}})}},computed:{mode(){return this.$store.state.settings.settings.mode},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"},datasetFilePath(){return this.isAirRadionuclidesMode?"data/air_radionuclides/time_series/sites.json":""}},watch:{datasetFilePath:async function(){if(this.isAirRadionuclidesMode)try{this.$Progress.start();const e=(await Ym.airRadionuclide.getDataset(this.datasetFilePath)).map(n=>new cc({geometry:new ua(Am(n.coordinates,"EPSG:4326","EPSG:3857")),id:n.id,site:n.site}));this.vectorLayer.getSource().clear(!0),this.vectorLayer.getSource().addFeatures(e),mt.$emit("radionuclideLayerChanged",this.vectorLayer),this.$Progress.finish()}catch{this.$Progress.fail()}}},mounted(){this.isAirRadionuclidesMode&&mt.$on("settingsChanged",this.redraw)},methods:{redraw(){this.isAirRadionuclidesMode&&this.vectorLayer.changed()},updateFeatureRadius(t){if(this.isAirRadionuclidesMode){const e=this.featureRadius,n=t*2;n!==e&&(this.featureRadius=n,this.redraw())}}}};function u6(t,e,n,i,r,s){return ne(),pe("div")}const c6=st(l6,[["render",u6],["__scopeId","data-v-a666a29f"]]),d6={name:"MapLegendBar",props:{mapLegendBar:{type:Object,required:!0}},emits:["click"]};function h6(t,e,n,i,r,s){return ne(),pe("div",{style:Vn({backgroundColor:n.mapLegendBar.color}),class:ct([{"map-legend__bar--disabled":!n.mapLegendBar.isEnabled},"map-legend__bar"]),onClick:e[0]||(e[0]=a=>t.$emit("click"))},bt(n.mapLegendBar.label),7)}const f6=st(d6,[["render",h6]]),p6={name:"MapLegend",components:{MapLegendBar:f6},computed:{mapLegendBars(){return this.$store.state.settings.settings.mapLegend.bars}},methods:{toggle(t){this.$store.state.settings.settings.mapLegend.toggleBar(t)}}},m6={class:"map-legend"};function g6(t,e,n,i,r,s){const a=ze("map-legend-bar");return ne(),pe("div",m6,[(ne(!0),pe(Je,null,Ht(s.mapLegendBars,(o,l)=>(ne(),tt(a,{key:l,"map-legend-bar":o,onClick:u=>s.toggle(l)},null,8,["map-legend-bar","onClick"]))),128))])}const y6=st(p6,[["render",g6]]),_6={name:"SiteName",emits:["close"],props:{feature:{type:Object,default:void 0},disableCloseButton:{type:Boolean,default:!1}},computed:{site(){return this.feature?this.feature.get("site"):"-"}}},v6={class:"site-header opendata-row"},b6={class:"site-name"};function w6(t,e,n,i,r,s){return ne(),pe("div",v6,[Me("span",b6,bt(s.site),1),oi(Me("span",{class:"close-button",onClick:e[0]||(e[0]=a=>t.$emit("close"))},"×",512),[[li,!n.disableCloseButton]])])}const fA=st(_6,[["render",w6],["__scopeId","data-v-8e2953c7"]]),E6={name:"SiteDoseRate",props:{feature:{type:Object,default:void 0}},computed:{doseRate(){return this.feature&&this.feature.get("doseRate")!==null?this.feature.get("doseRate"):"-"}}},T6={class:"site-dose-rate"},x6={class:"site-dose-rate__value"},C6=Me("span",{class:"site-dose-rate__unit"}," µSv/h",-1);function S6(t,e,n,i,r,s){return ne(),pe("div",T6,[Me("span",x6,[cr(bt(s.doseRate),1),C6])])}const pA=st(E6,[["render",S6]]),Ws={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Li={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class mA extends ss{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+kj,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Li.ELEMENT,this.handleElementChanged),this.addChangeListener(Li.MAP,this.handleMapChanged),this.addChangeListener(Li.OFFSET,this.handleOffsetChanged),this.addChangeListener(Li.POSITION,this.handlePositionChanged),this.addChangeListener(Li.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Li.ELEMENT)}getId(){return this.id}getMap(){return this.get(Li.MAP)||null}getOffset(){return this.get(Li.OFFSET)}getPosition(){return this.get(Li.POSITION)}getPositioning(){return this.get(Li.POSITIONING)}handleElementChanged(){FI(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(vp(this.element),an(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Mt(e,Ws.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Li.ELEMENT,e)}setMap(e){this.set(Li.MAP,e)}setOffset(e){this.set(Li.OFFSET,e)}setPosition(e){this.set(Li.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Li.POSITION))return;const i=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),s=this.getRect(r,[hj(r),fj(r)]);e=e||{};const a=e.margin===void 0?20:e.margin;if(!Js(i,s)){const o=s[0]-i[0],l=i[2]-s[2],u=s[1]-i[1],c=i[3]-s[3],h=[0,0];if(o<0?h[0]=o-a:l<0&&(h[0]=Math.abs(l)+a),u<0?h[1]=u-a:c<0&&(h[1]=Math.abs(c)+a),h[0]!==0||h[1]!==0){const p=n.getView().getCenterInternal(),g=n.getPixelFromCoordinateInternal(p);if(!g)return;const y=[g[0]+h[0],g[1]+h[1]],b=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(y),duration:b.duration,easing:b.easing})}}}getRect(e,n){const i=e.getBoundingClientRect(),r=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[r,s,r+n[0],s+n[1]]}setPositioning(e){this.set(Li.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(n),r=e.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(e,n){const i=this.element.style,r=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const a=Math.round(e[0]+r[0])+"px",o=Math.round(e[1]+r[1])+"px";let l="0%",u="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?l="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(l="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?u="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(u="-50%");const c=`translate(${l}, ${u}) translate(${a}, ${o})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,i.transform=c)}getOptions(){return this.options}}const k6={name:"FeaturePopover",components:{SiteName:fA,SiteDoseRate:pA},data(){return{isEnabled:!0,overlay:void 0,feature:void 0,previousFeature:void 0}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRatesMode(){return this.mode==="dose_rates"},isRadionuclideMode(){return this.mode==="air_radionuclides"}},mounted(){mt.$on("featureHovered",this.open),mt.$on("emptyMapLocationHovered",this.close),mt.$on("featurePopupOpened",this.disable),mt.$on("featurePopupClosed",this.enable),mt.$on("doseRateLayerChanged",this.update),mt.$on("radioNuclideLayerChanged",this.update),this.overlay=new mA({element:this.$refs.featurePopover,position:void 0})},methods:{enable(){this.isEnabled=!0},disable(){this.isEnabled=!1,this.close()},open(t){this.isEnabled&&t!==this.previousFeature&&(this.feature=t,this.overlay.setPosition(t.getGeometry().getCoordinates()),this.previousFeature=t)},close(){this.overlay.setPosition(void 0),this.previousFeature=void 0},update(t){var e=t.getSource().getFeatures();if(e.length!=0){for(var n=0;n<e.length;++n)if(e[n].get("id")==this.siteId){this.feature=e[n];return}this.feature=void 0}}}},R6={ref:"featurePopover",class:"feature-popover"};function I6(t,e,n,i,r,s){const a=ze("site-name"),o=ze("site-dose-rate");return ne(),pe("div",R6,[De(a,{feature:r.feature,"disable-close-button":""},null,8,["feature"]),oi(De(o,{feature:r.feature},null,8,["feature"]),[[li,s.isDoseRatesMode]])],512)}const A6=st(k6,[["render",I6]]),H1={getDatesBetween(t,e){for(var n=[],i=new Date(t),r=new Date(e);i<=r;)n.push(new Date(i)),i.setDate(i.getDate()+1);return n},convertTimeTo12HourClock(t){var e=+t.substr(0,2),n=e%12||12,i=e<12?"am":"pm";return n+t.substr(2,3)+" "+i}};function O6(t){return new Promise(e=>setTimeout(e,t))}const M6={setTime(t,e){t.selectedTime=e},setDate(t,e){t.selectedDate=e},setAvailableDatasets(t,e){t.availableDatasets=e}},P6={async initialize({dispatch:t}){await t("queryAvailableDatasets"),await t("selectNewestDate"),await t("selectNewestTime"),setInterval(()=>{t("queryAvailableDatasets")},6e5)},async queryAvailableDatasets({commit:t}){const e=await Ym.doseRate.queryAvailableDatasets();t("setAvailableDatasets",e)},selectNewestDate({state:t,dispatch:e}){if(t.availableDatasets.length==0)return;const n=t.availableDatasets.slice(-1)[0].date;e("setDate",n)},selectNewestTime({getters:t,commit:e}){const n=t.availableTimesForSelectedDate;if(n.length!=0){var i=n.slice(-1)[0];e("setTime",i)}},decrementTime({commit:t,dispatch:e,getters:n,state:i}){if(n.isOldestDateSelected&&n.isOldestTimeSelected)return;const r=n.availableTimesForSelectedDate.indexOf(i.selectedTime);if(r==0)e("decrementDate"),e("selectNewestTime");else{const a=n.availableTimesForSelectedDate[r-1];t("setTime",a)}},incrementTime({commit:t,dispatch:e,getters:n,state:i}){if(n.isNewestDateSelected&&n.isNewestTimeSelected)return;const r=n.availableTimesForSelectedDate.indexOf(i.selectedTime);if(r==n.availableTimesForSelectedDate.length-1)e("incrementDate"),t("setTime",n.availableTimesForSelectedDate[0]);else{const a=n.availableTimesForSelectedDate[r+1];t("setTime",a)}},decrementDate({dispatch:t,getters:e,state:n}){if(!e.isOldestDateSelected){const r=n.availableDatasets.map(a=>a.date.toDateString()).indexOf(n.selectedDate.toDateString()),s=n.availableDatasets[r-1].date;t("setDate",s)}},incrementDate({dispatch:t,getters:e,state:n}){if(!e.isNewestDateSelected){const r=n.availableDatasets.map(a=>a.date.toDateString()).indexOf(n.selectedDate.toDateString()),s=n.availableDatasets[r+1].date;t("setDate",s)}},setDate({state:t,commit:e,dispatch:n,getters:i},r){e("setDate",r),i.availableTimesForSelectedDate.includes(t.selectedTime)||n("selectNewestTime")}},D6={availableTimesForSelectedDate(t){if(!t.selectedDate)return[];for(let e=0;e<t.availableDatasets.length;++e)if(t.availableDatasets[e].date.toDateString()==t.selectedDate.toDateString())return t.availableDatasets[e].times;return[]},isOldestDateSelected(t){if(t.availableDatasets.length==0||!t.selectedDate)return!1;const e=t.availableDatasets[0].date;return t.selectedDate.toDateString()==e.toDateString()},isNewestDateSelected(t){if(t.availableDatasets.length==0||!t.selectedDate)return!1;const e=t.availableDatasets.slice(-1)[0].date;return t.selectedDate.toDateString()==e.toDateString()},isOldestTimeSelected(t,e){if(e.isOldestDateSelected){const n=e.availableTimesForSelectedDate[0];return t.selectedTime==n}return!1},isNewestTimeSelected(t,e){if(e.isNewestDateSelected){const n=e.availableTimesForSelectedDate.slice(-1)[0];return t.selectedTime==n}return!1}},L6={state:{availableDatasets:[],selectedDate:void 0,selectedTime:void 0},mutations:M6,actions:P6,getters:D6},F6={setSettings(t,e){t.settings=e,t.settings.save()}},N6={initialize({state:t}){t.settings.load()}};class $6{constructor(){this.bars=[],this.addBar(new vu(0,"#1dafaf")),this.addBar(new vu(.1,"#1d8baf")),this.addBar(new vu(.2,"#1d66af")),this.addBar(new vu(.3,"#1d41af")),this.addBar(new vu(.4,"#411daf"))}addBar(e){let n=this.bars.slice(-1)[0];n&&(n.nextBar=e),this.bars.push(e)}toggleBar(e){const n=this.bars[e];n.toggleState(),this.bars[e]=n}clear(){this.bars=[]}toString(){return JSON.stringify(this.bars.map(e=>e.toString()))}}class vu{constructor(e,n){this.nextBar=void 0,this.threshold=e<10?e.toFixed(1):e,this.color=n,this.isEnabled=!0}get label(){return this.nextBar?`${this.threshold} - ${this.nextBar.threshold}`:`> ${this.threshold} µSv/h`}toggleState(){this.isEnabled=!this.isEnabled}toString(){return`{"threshold": ${this.threshold}, "color": "${this.color}"}`}}const Gx="locale",zx="dateFormat",Ux="timeFormat",H0="mapLegend",Hx="backgroundMap",Yx="mode";class gA{constructor(){this.locale="en",this.dateFormat="fi",this.timeFormat="24h",this.mapLegend=new $6,this.backgroundMap="default",this.mode="dose_rates"}save(){qy.global.locale.value=this.locale,localStorage.setItem(Gx,this.locale),localStorage.setItem(zx,this.dateFormat),localStorage.setItem(Ux,this.timeFormat),localStorage.setItem(H0,this.mapLegend),localStorage.setItem(Hx,this.backgroundMap),localStorage.setItem(Yx,this.mode)}load(){this.locale=localStorage.getItem(Gx)||this.locale,qy.global.locale.value=this.locale,this.dateFormat=localStorage.getItem(zx)||this.dateFormat,this.timeFormat=localStorage.getItem(Ux)||this.timeFormat,this.backgroundMap=localStorage.getItem(Hx)||this.backgroundMap,this.mode=localStorage.getItem(Yx)||this.mode;let e=localStorage.getItem(H0);if(e)try{e=JSON.parse(e);const n=e.map(i=>JSON.parse(i));n.length>0&&(this.mapLegend.clear(),n.forEach(i=>{this.mapLegend.addBar(new vu(i.threshold,i.color))}))}catch{localStorage.removeItem(H0)}}}const j6={state:{settings:new gA},mutations:F6,actions:N6};/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var B6="store";function mc(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function V6(t){return t!==null&&typeof t=="object"}function G6(t){return t&&typeof t.then=="function"}function z6(t,e){return function(){return t(e)}}function yA(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function _A(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Wm(t,n,[],t._modules.root,!0),Y1(t,n,e)}function Y1(t,e,n){var i=t._state,r=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,a={},o={},l=Jp(!0);l.run(function(){mc(s,function(u,c){a[c]=z6(u,t),o[c]=Se(function(){return a[c]()}),Object.defineProperty(t.getters,c,{get:function(){return o[c].value},enumerable:!0})})}),t._state=Nr({data:e}),t._scope=l,t.strict&&K6(t),i&&n&&t._withCommit(function(){i.data=null}),r&&r.stop()}function Wm(t,e,n,i,r){var s=!n.length,a=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=i),!s&&!r){var o=W1(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){o[l]=i.state})}var u=i.context=U6(t,a,n);i.forEachMutation(function(c,h){var p=a+h;H6(t,p,c,u)}),i.forEachAction(function(c,h){var p=c.root?h:a+h,g=c.handler||c;Y6(t,p,g,u)}),i.forEachGetter(function(c,h){var p=a+h;W6(t,p,c,u)}),i.forEachChild(function(c,h){Wm(t,e,n.concat(h),c,r)})}function U6(t,e,n){var i=e==="",r={dispatch:i?t.dispatch:function(s,a,o){var l=Fp(s,a,o),u=l.payload,c=l.options,h=l.type;return(!c||!c.root)&&(h=e+h),t.dispatch(h,u)},commit:i?t.commit:function(s,a,o){var l=Fp(s,a,o),u=l.payload,c=l.options,h=l.type;(!c||!c.root)&&(h=e+h),t.commit(h,u,c)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return vA(t,e)}},state:{get:function(){return W1(t.state,n)}}}),r}function vA(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var s=r.slice(i);Object.defineProperty(n,s,{get:function(){return t.getters[r]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function H6(t,e,n,i){var r=t._mutations[e]||(t._mutations[e]=[]);r.push(function(a){n.call(t,i.state,a)})}function Y6(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push(function(a){var o=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},a);return G6(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):o})}function W6(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(i.state,i.getters,s.state,s.getters)})}function K6(t){xn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function W1(t,e){return e.reduce(function(n,i){return n[i]},t)}function Fp(t,e,n){return V6(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var q6="vuex bindings",Wx="vuex:mutations",Y0="vuex:actions",ou="vuex",X6=0;function Z6(t,e){_$({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[q6]},function(n){n.addTimelineLayer({id:Wx,label:"Vuex Mutations",color:Kx}),n.addTimelineLayer({id:Y0,label:"Vuex Actions",color:Kx}),n.addInspector({id:ou,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(i){if(i.app===t&&i.inspectorId===ou)if(i.filter){var r=[];TA(r,e._modules.root,i.filter,""),i.rootNodes=r}else i.rootNodes=[EA(e._modules.root,"")]}),n.on.getInspectorState(function(i){if(i.app===t&&i.inspectorId===ou){var r=i.nodeId;vA(e,r),i.state=ez(nz(e._modules,r),r==="root"?e.getters:e._makeLocalGettersCache,r)}}),n.on.editInspectorState(function(i){if(i.app===t&&i.inspectorId===ou){var r=i.nodeId,s=i.path;r!=="root"&&(s=r.split("/").filter(Boolean).concat(s)),e._withCommit(function(){i.set(e._state.data,s,i.state.value)})}}),e.subscribe(function(i,r){var s={};i.payload&&(s.payload=i.payload),s.state=r,n.notifyComponentUpdate(),n.sendInspectorTree(ou),n.sendInspectorState(ou),n.addTimelineEvent({layerId:Wx,event:{time:Date.now(),title:i.type,data:s}})}),e.subscribeAction({before:function(i,r){var s={};i.payload&&(s.payload=i.payload),i._id=X6++,i._time=Date.now(),s.state=r,n.addTimelineEvent({layerId:Y0,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:s}})},after:function(i,r){var s={},a=Date.now()-i._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},i.payload&&(s.payload=i.payload),s.state=r,n.addTimelineEvent({layerId:Y0,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:s}})}})})}var Kx=8702998,J6=6710886,Q6=16777215,bA={label:"namespaced",textColor:Q6,backgroundColor:J6};function wA(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function EA(t,e){return{id:e||"root",label:wA(e),tags:t.namespaced?[bA]:[],children:Object.keys(t._children).map(function(n){return EA(t._children[n],e+n+"/")})}}function TA(t,e,n,i){i.includes(n)&&t.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[bA]:[]}),Object.keys(e._children).forEach(function(r){TA(t,e._children[r],n,i+r+"/")})}function ez(t,e,n){e=n==="root"?e:e[n];var i=Object.keys(e),r={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(i.length){var s=tz(e);r.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?wA(a):a,editable:!1,value:w_(function(){return s[a]})}})}return r}function tz(t){var e={};return Object.keys(t).forEach(function(n){var i=n.split("/");if(i.length>1){var r=e,s=i.pop();i.forEach(function(a){r[a]||(r[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),r=r[a]._custom.value}),r[s]=w_(function(){return t[n]})}else e[n]=w_(function(){return t[n]})}),e}function nz(t,e){var n=e.split("/").filter(function(i){return i});return n.reduce(function(i,r,s){var a=i[r];if(!a)throw new Error('Missing module "'+r+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function w_(t){try{return t()}catch(e){return e}}var os=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=(typeof i=="function"?i():i)||{}},xA={namespaced:{configurable:!0}};xA.namespaced.get=function(){return!!this._rawModule.namespaced};os.prototype.addChild=function(e,n){this._children[e]=n};os.prototype.removeChild=function(e){delete this._children[e]};os.prototype.getChild=function(e){return this._children[e]};os.prototype.hasChild=function(e){return e in this._children};os.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};os.prototype.forEachChild=function(e){mc(this._children,e)};os.prototype.forEachGetter=function(e){this._rawModule.getters&&mc(this._rawModule.getters,e)};os.prototype.forEachAction=function(e){this._rawModule.actions&&mc(this._rawModule.actions,e)};os.prototype.forEachMutation=function(e){this._rawModule.mutations&&mc(this._rawModule.mutations,e)};Object.defineProperties(os.prototype,xA);var Bl=function(e){this.register([],e,!1)};Bl.prototype.get=function(e){return e.reduce(function(n,i){return n.getChild(i)},this.root)};Bl.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(i,r){return n=n.getChild(r),i+(n.namespaced?r+"/":"")},"")};Bl.prototype.update=function(e){CA([],this.root,e)};Bl.prototype.register=function(e,n,i){var r=this;i===void 0&&(i=!0);var s=new os(n,i);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&mc(n.modules,function(o,l){r.register(e.concat(l),o,i)})};Bl.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),i=e[e.length-1],r=n.getChild(i);r&&r.runtime&&n.removeChild(i)};Bl.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),i=e[e.length-1];return n?n.hasChild(i):!1};function CA(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return;CA(t.concat(i),e.getChild(i),n.modules[i])}}function iz(t){return new dr(t)}var dr=function(e){var n=this;e===void 0&&(e={});var i=e.plugins;i===void 0&&(i=[]);var r=e.strict;r===void 0&&(r=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Bl(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,o=this,l=o.dispatch,u=o.commit;this.dispatch=function(p,g){return l.call(a,p,g)},this.commit=function(p,g,y){return u.call(a,p,g,y)},this.strict=r;var c=this._modules.root.state;Wm(this,c,[],this._modules.root),Y1(this,c),i.forEach(function(h){return h(n)})},K1={state:{configurable:!0}};dr.prototype.install=function(e,n){e.provide(n||B6,this),e.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&Z6(e,this)};K1.state.get=function(){return this._state.data};K1.state.set=function(t){};dr.prototype.commit=function(e,n,i){var r=this,s=Fp(e,n,i),a=s.type,o=s.payload,l={type:a,payload:o},u=this._mutations[a];u&&(this._withCommit(function(){u.forEach(function(h){h(o)})}),this._subscribers.slice().forEach(function(c){return c(l,r.state)}))};dr.prototype.dispatch=function(e,n){var i=this,r=Fp(e,n),s=r.type,a=r.payload,o={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(o,i.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(a)})):l[0](a);return new Promise(function(c,h){u.then(function(p){try{i._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(o,i.state)})}catch{}c(p)},function(p){try{i._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(o,i.state,p)})}catch{}h(p)})})}};dr.prototype.subscribe=function(e,n){return yA(e,this._subscribers,n)};dr.prototype.subscribeAction=function(e,n){var i=typeof e=="function"?{before:e}:e;return yA(i,this._actionSubscribers,n)};dr.prototype.watch=function(e,n,i){var r=this;return xn(function(){return e(r.state,r.getters)},n,Object.assign({},i))};dr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};dr.prototype.registerModule=function(e,n,i){i===void 0&&(i={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Wm(this,this.state,e,this._modules.get(e),i.preserveState),Y1(this,this.state)};dr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var i=W1(n.state,e.slice(0,-1));delete i[e[e.length-1]]}),_A(this)};dr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};dr.prototype.hotUpdate=function(e){this._modules.update(e),_A(this,!0)};dr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(dr.prototype,K1);const Cu=iz({modules:{datetime:L6,settings:j6}});class rz{constructor(e,n){this.date=e,this.dataPoints=n}}let qx=class{constructor(e){this.siteId=e,this.dataPoints=[],this.datasets=[],this.startDate=void 0,this.endDate=void 0,this.onUpdate=()=>{},this.isLoading=!1}loadTimespan(e,n){this.startDate=e,this.endDate=n,this.startDate&&this.endDate&&this.siteId&&this.update()}async update(){let e=H1.getDatesBetween(this.startDate,this.endDate);e=e.filter(n=>{const i=this.datasets.some(s=>s.date.getTime()==n.getTime()),r=Cu.state.datetime.availableDatasets.some(s=>s.date.getTime()==n.getTime());return!i&&r}),e.length>0&&(this.isLoading=!0,await Promise.allSettled(e.map(async n=>{let i;try{i=await Ym.doseRate.getTimeSeries(this.siteId,n)}finally{this.datasets.push(new rz(n,i))}})),await O6(250),this.datasets.sort((n,i)=>n.date<i.date?-1:1),this.generateDataPoints(),this.isLoading=!1),this.onUpdate()}generateDataPoints(){let e=[],n=[];for(var i=0;i<this.datasets.length;++i)if(this.datasets[i].dataPoints)for(var r=0;r<this.datasets[i].dataPoints.length;++r){const s=this.datasets[i].dataPoints[r];e.push(new Date(s.e).toISOString()),n.push(s.r)}this.dataPoints=[{x:e,y:n}]}};const sz={name:"LoadingSpinner",props:{isEnabled:{type:Boolean,default:!1}}},az=t=>(qd("data-v-3f037726"),t=t(),Xd(),t),oz={class:"spinner-container"},lz=az(()=>Me("div",{class:"spinner"},null,-1)),uz=[lz];function cz(t,e,n,i,r,s){return oi((ne(),pe("div",oz,uz,512)),[[li,n.isEnabled]])}const SA=st(sz,[["render",cz],["__scopeId","data-v-3f037726"]]);XC.register(xD);const dz={name:"TimeSeriesGraph",components:{LoadingSpinner:SA},props:{feature:{type:Object,default:void 0}},data:function(){return{timeSeriesGraph:new qx,plotlyLayout:{},defaultPlotlyLayout:{width:0,height:0,dragmode:"pan",margin:{t:20,r:0,b:50,l:50,pad:15},yaxis:{range:[0,.4]},font:{size:12,family:"RedHatText-Medium"}},plotlyConfig:{scrollZoom:!0,connectGaps:!0,displayModeBar:!1,locale:"en"}}},computed:{selectedDate(){return this.$store.state.datetime.selectedDate},locale(){return this.$store.state.settings.settings.locale},isLoading(){return this.timeSeriesGraph.isLoading},featureId(){return this.feature?this.feature.get("id"):void 0},mode(){return this.$store.state.settings.settings.mode},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"}},watch:{featureId:function(){this.reset()},selectedDate:function(){this.reset()},locale:function(t){this.plotlyConfig.locale=t,this.draw()}},mounted(){this.updateSize(!0),this.$refs.graphContainer.on("plotly_relayout",this.onPlotlyRelayout),window.onresize=this.updateSize},methods:{draw(){this.isAirRadionuclidesMode||(this.updateSize(),XC.react(this.$refs.graphContainer,this.timeSeriesGraph.dataPoints,this.plotlyLayout,this.plotlyConfig))},async onPlotlyRelayout(t){if(!t||!t["xaxis.range[0]"]||!t["xaxis.range[1]"])return;const e=new Date(t["xaxis.range[0]"].split(" ")[0]),n=new Date(t["xaxis.range[1]"].split(" ")[0]);await this.timeSeriesGraph.loadTimespan(e,n)},updateSize(t=!1){window.innerWidth>=1024?(this.plotlyLayout.width=475,this.plotlyLayout.height=400,this.plotlyLayout.font={size:14}):window.innerWidth>=768?(this.plotlyLayout.width=300,this.plotlyLayout.height=220,this.plotlyLayout.font={size:12}):(this.plotlyLayout.width=300,this.plotlyLayout.height=180,this.plotlyLayout.font={size:10}),t&&this.draw()},reset(){this.plotlyLayout=JSON.parse(JSON.stringify(this.defaultPlotlyLayout)),this.timeSeriesGraph=new qx(this.featureId),this.timeSeriesGraph.onUpdate=this.draw.bind(this),this.timeSeriesGraph.loadTimespan(this.selectedDate,this.selectedDate)}}},hz={class:"wrapper"},fz={ref:"graphContainer"};function pz(t,e,n,i,r,s){const a=ze("loading-spinner");return ne(),pe("div",hz,[Me("div",fz,[De(a,{"is-enabled":s.isLoading},null,8,["is-enabled"])],512)])}const mz=st(dz,[["render",pz],["__scopeId","data-v-8445ac7f"]]),gz={name:"RadionuclideTables",components:{LoadingSpinner:SA},props:{feature:{type:Object,default:()=>({})},date:Date},data(){return{tablesData:[],isLoading:!1,helsinkiVantaa:!1}},watch:{feature:{immediate:!0,handler(t){this.fetchData(new Date)}}},computed:{formatDates(){return t=>{switch(this.$store.state.settings.settings.dateFormat){case"fi":default:return`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`;case"iso":return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}}},hasData(){return this.tablesData.some(t=>t.entries.length>0)},mode(){return this.$store.state.settings.settings.mode},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"},sortedTablesData(){const t=["Be-7","Cs-137","Pb-210","Na-22"];return this.tablesData.slice().sort((e,n)=>{const i=t.indexOf(e.radionuclide),r=t.indexOf(n.radionuclide);return i===-1&&r===-1?0:i===-1?1:r===-1?-1:i-r})}},mounted(){mt.$on("dateChanged",this.fetchData)},methods:{async fetchData(t){if(!this.feature||!this.feature.get)return;const e=this.feature.get("id");if(e&&(e==103428||e==107554?this.helsinkiVantaa=!0:this.helsinkiVantaa=!1,this.isAirRadionuclidesMode))try{this.isLoading=!0;let n=await b_.getAvailableRadionuclides(e);if(n=n.filter(r=>r!=="air-volume"),!n||n.length===0)return;const i=n.map(async r=>{try{const s=await b_.getTimeSeries(e,r,t),a=this.removeDuplicates(s||[]).sort((o,l)=>new Date(l.s)-new Date(o.s));return{radionuclide:r,entries:a}}catch(s){return console.error(`Error fetching data for radionuclide ${r}:`,s),{radionuclide:r,entries:[]}}});this.tablesData=await Promise.all(i)}catch(n){console.error("Error in fetching data:",n)}finally{this.isLoading=!1}},removeDuplicates(t){const e=new Set;return t.filter(n=>{const i=`${n.s}-${n.e}-${n.c}-${n.u}`;return e.has(i)?!1:(e.add(i),!0)})},isPriorityNuclide(t){return["Be-7","Cs-137","Pb-210","Na-22"].includes(t)}}},yz={class:"radionuclide-tables"},_z={key:0},vz={key:0},bz={key:0},wz={key:1},Ez={key:0};function Tz(t,e,n,i,r,s){const a=ze("loading-spinner");return ne(),pe("div",yz,[De(a,{"is-enabled":r.isLoading},null,8,["is-enabled"]),r.isLoading?ke("",!0):(ne(),pe("div",_z,[s.hasData?(ne(),pe("div",vz,[(ne(!0),pe(Je,null,Ht(s.sortedTablesData,(o,l)=>(ne(),pe("div",{key:l,class:"table-container"},[o.entries.length>0?(ne(),pe("div",bz,[Me("p",{class:ct({"bold-header":!s.isPriorityNuclide(o.radionuclide)})},bt(o.radionuclide),3),Me("table",null,[Me("thead",null,[Me("tr",null,[Me("th",null,bt(t.$t("radionuclideMode.date")),1),Me("th",null,bt(t.$t("radionuclideMode.concentration"))+" µBq/m3",1),Me("th",null,bt(t.$t("radionuclideMode.uncertainty"))+"-%",1)])]),Me("tbody",null,[(ne(!0),pe(Je,null,Ht(o.entries,u=>(ne(),pe("tr",{key:u.s},[Me("td",null,bt(s.formatDates(new Date(u.s)))+" - "+bt(s.formatDates(new Date(u.e))),1),Me("td",null,bt(u.c),1),Me("td",null,bt(u.u),1)]))),128))])])])):ke("",!0)]))),128))])):ke("",!0),s.hasData?ke("",!0):(ne(),pe("div",wz,[Me("p",null,bt(t.$t("radionuclideMode.noData")),1),r.helsinkiVantaa?(ne(),pe("p",Ez,bt(t.$t("radionuclideMode.info")),1)):ke("",!0)]))]))])}const xz=st(gz,[["render",Tz],["__scopeId","data-v-6b47d845"]]);function Qe(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ut(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Kr(t,e){const n=Qe(t);return isNaN(e)?Ut(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Qr(t,e){const n=Qe(t);if(isNaN(e))return Ut(t,NaN);if(!e)return n;const i=n.getDate(),r=Ut(t,n.getTime());r.setMonth(n.getMonth()+e+1,0);const s=r.getDate();return i>=s?r:(n.setFullYear(r.getFullYear(),r.getMonth(),i),n)}function kA(t,e){const{years:n=0,months:i=0,weeks:r=0,days:s=0,hours:a=0,minutes:o=0,seconds:l=0}=e,u=Qe(t),c=i||n?Qr(u,i+n*12):u,h=s||r?Kr(c,s+r*7):c,p=o+a*60,y=(l+p*60)*1e3;return Ut(t,h.getTime()+y)}function Cz(t,e){const n=+Qe(t);return Ut(t,n+e)}const RA=6048e5,Sz=864e5,kz=6e4,IA=36e5,Rz=1e3;function Iz(t,e){return Cz(t,e*IA)}let Az={};function Vl(){return Az}function rs(t,e){var o,l,u,c;const n=Vl(),i=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,r=Qe(t),s=r.getDay(),a=(s<i?7:0)+s-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function ec(t){return rs(t,{weekStartsOn:1})}function AA(t){const e=Qe(t),n=e.getFullYear(),i=Ut(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const r=ec(i),s=Ut(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=ec(s);return e.getTime()>=r.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Xx(t){const e=Qe(t);return e.setHours(0,0,0,0),e}function Np(t){const e=Qe(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function OA(t,e){const n=Xx(t),i=Xx(e),r=+n-Np(n),s=+i-Np(i);return Math.round((r-s)/Sz)}function Oz(t){const e=AA(t),n=Ut(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ec(n)}function Mz(t,e){const n=e*3;return Qr(t,n)}function q1(t,e){return Qr(t,e*12)}function Zx(t,e){const n=Qe(t),i=Qe(e),r=n.getTime()-i.getTime();return r<0?-1:r>0?1:r}function MA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cd(t){if(!MA(t)&&typeof t!="number")return!1;const e=Qe(t);return!isNaN(Number(e))}function Jx(t){const e=Qe(t);return Math.trunc(e.getMonth()/3)+1}function Pz(t,e){const n=Qe(t),i=Qe(e);return n.getFullYear()-i.getFullYear()}function Dz(t,e){const n=Qe(t),i=Qe(e),r=Zx(n,i),s=Math.abs(Pz(n,i));n.setFullYear(1584),i.setFullYear(1584);const a=Zx(n,i)===-r,o=r*(s-+a);return o===0?0:o}function PA(t,e){const n=Qe(t.start),i=Qe(t.end);let r=+n>+i;const s=r?+n:+i,a=r?i:n;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=s;)l.push(Qe(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return r?l.reverse():l}function ol(t){const e=Qe(t),n=e.getMonth(),i=n-n%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}function Lz(t,e){const n=Qe(t.start),i=Qe(t.end);let r=+n>+i;const s=r?+ol(n):+ol(i);let a=ol(r?i:n),o=1;const l=[];for(;+a<=s;)l.push(Qe(a)),a=Mz(a,o);return r?l.reverse():l}function Fz(t){const e=Qe(t);return e.setDate(1),e.setHours(0,0,0,0),e}function DA(t){const e=Qe(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Yd(t){const e=Qe(t),n=Ut(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function LA(t,e){var o,l,u,c;const n=Vl(),i=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,r=Qe(t),s=r.getDay(),a=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}function Qx(t){const e=Qe(t),n=e.getMonth(),i=n-n%3+3;return e.setMonth(i,0),e.setHours(23,59,59,999),e}const Nz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$z=(t,e,n)=>{let i;const r=Nz[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function W0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const jz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gz={date:W0({formats:jz,defaultWidth:"full"}),time:W0({formats:Bz,defaultWidth:"full"}),dateTime:W0({formats:Vz,defaultWidth:"full"})},zz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uz=(t,e,n,i)=>zz[t];function Hc(t){return(e,n)=>{const i=n!=null&&n.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;r=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const Hz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zz=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Jz={ordinalNumber:Zz,era:Hc({values:Hz,defaultWidth:"wide"}),quarter:Hc({values:Yz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hc({values:Wz,defaultWidth:"wide"}),day:Hc({values:Kz,defaultWidth:"wide"}),dayPeriod:Hc({values:qz,defaultWidth:"wide",formattingValues:Xz,defaultFormattingWidth:"wide"})};function Yc(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const a=s[0],o=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?e8(o,h=>h.test(a)):Qz(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function Qz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function e8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function t8(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(r.length);return{value:a,rest:o}}}const n8=/^(\d+)(th|st|nd|rd)?/i,i8=/\d+/i,r8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s8={any:[/^b/i,/^(a|c)/i]},a8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},o8={any:[/1/i,/2/i,/3/i,/4/i]},l8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},u8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},c8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},f8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},p8={ordinalNumber:t8({matchPattern:n8,parsePattern:i8,valueCallback:t=>parseInt(t,10)}),era:Yc({matchPatterns:r8,defaultMatchWidth:"wide",parsePatterns:s8,defaultParseWidth:"any"}),quarter:Yc({matchPatterns:a8,defaultMatchWidth:"wide",parsePatterns:o8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yc({matchPatterns:l8,defaultMatchWidth:"wide",parsePatterns:u8,defaultParseWidth:"any"}),day:Yc({matchPatterns:c8,defaultMatchWidth:"wide",parsePatterns:d8,defaultParseWidth:"any"}),dayPeriod:Yc({matchPatterns:h8,defaultMatchWidth:"any",parsePatterns:f8,defaultParseWidth:"any"})},FA={code:"en-US",formatDistance:$z,formatLong:Gz,formatRelative:Uz,localize:Jz,match:p8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function m8(t){const e=Qe(t);return OA(e,Yd(e))+1}function X1(t){const e=Qe(t),n=+ec(e)-+Oz(e);return Math.round(n/RA)+1}function Z1(t,e){var c,h,p,g;const n=Qe(t),i=n.getFullYear(),r=Vl(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=Ut(t,0);a.setFullYear(i+1,0,s),a.setHours(0,0,0,0);const o=rs(a,e),l=Ut(t,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);const u=rs(l,e);return n.getTime()>=o.getTime()?i+1:n.getTime()>=u.getTime()?i:i-1}function g8(t,e){var o,l,u,c;const n=Vl(),i=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,r=Z1(t,e),s=Ut(t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),rs(s,e)}function J1(t,e){const n=Qe(t),i=+rs(n,e)-+g8(n,e);return Math.round(i/RA)+1}function en(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const La={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return en(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):en(n+1,2)},d(t,e){return en(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return en(t.getHours()%12||12,e.length)},H(t,e){return en(t.getHours(),e.length)},m(t,e){return en(t.getMinutes(),e.length)},s(t,e){return en(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return en(r,e.length)}},lu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eC={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return La.y(t,e)},Y:function(t,e,n,i){const r=Z1(t,i),s=r>0?r:1-r;if(e==="YY"){const a=s%100;return en(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):en(s,e.length)},R:function(t,e){const n=AA(t);return en(n,e.length)},u:function(t,e){const n=t.getFullYear();return en(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return en(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return en(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return La.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return en(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=J1(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):en(r,e.length)},I:function(t,e,n){const i=X1(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):en(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):La.d(t,e)},D:function(t,e,n){const i=m8(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):en(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return en(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return en(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return en(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=lu.noon:i===0?r=lu.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=lu.evening:i>=12?r=lu.afternoon:i>=4?r=lu.morning:r=lu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return La.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):La.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):en(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):en(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):La.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):La.s(t,e)},S:function(t,e){return La.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return nC(i);case"XXXX":case"XX":return Zo(i);case"XXXXX":case"XXX":default:return Zo(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return nC(i);case"xxxx":case"xx":return Zo(i);case"xxxxx":case"xxx":default:return Zo(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tC(i,":");case"OOOO":default:return"GMT"+Zo(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tC(i,":");case"zzzz":default:return"GMT"+Zo(i,":")}},t:function(t,e,n){const i=Math.trunc(t.getTime()/1e3);return en(i,e.length)},T:function(t,e,n){const i=t.getTime();return en(i,e.length)}};function tC(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+en(s,2)}function nC(t,e){return t%60===0?(t>0?"-":"+")+en(Math.abs(t)/60,2):Zo(t,e)}function Zo(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=en(Math.trunc(i/60),2),s=en(i%60,2);return n+r+e+s}const iC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},NA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},y8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return iC(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",iC(i,e)).replace("{{time}}",NA(r,e))},E_={p:NA,P:y8},_8=/^D+$/,v8=/^Y+$/,b8=["D","DD","YY","YYYY"];function $A(t){return _8.test(t)}function jA(t){return v8.test(t)}function T_(t,e,n){const i=w8(t,e,n);if(console.warn(i),b8.includes(t))throw new RangeError(i)}function w8(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const E8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x8=/^'([^]*?)'?$/,C8=/''/g,S8=/[a-zA-Z]/;function ks(t,e,n){var c,h,p,g,y,b,T,E;const i=Vl(),r=(n==null?void 0:n.locale)??i.locale??FA,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(p=i.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((b=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??i.weekStartsOn??((E=(T=i.locale)==null?void 0:T.options)==null?void 0:E.weekStartsOn)??0,o=Qe(t);if(!cd(o))throw new RangeError("Invalid time value");let l=e.match(T8).map(w=>{const _=w[0];if(_==="p"||_==="P"){const x=E_[_];return x(w,r.formatLong)}return w}).join("").match(E8).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const _=w[0];if(_==="'")return{isToken:!1,value:k8(w)};if(eC[_])return{isToken:!0,value:w};if(_.match(S8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:w}});r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:r};return l.map(w=>{if(!w.isToken)return w.value;const _=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&jA(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&$A(_))&&T_(_,e,String(t));const x=eC[_[0]];return x(o,_,r.localize,u)}).join("")}function k8(t){const e=t.match(x8);return e?e[1].replace(C8,"'"):t}function R8(t){return Qe(t).getDay()}function I8(t){const e=Qe(t),n=e.getFullYear(),i=e.getMonth(),r=Ut(t,0);return r.setFullYear(n,i+1,0),r.setHours(0,0,0,0),r.getDate()}function A8(){return Object.assign({},Vl())}function ca(t){return Qe(t).getHours()}function O8(t){let n=Qe(t).getDay();return n===0&&(n=7),n}function mo(t){return Qe(t).getMinutes()}function At(t){return Qe(t).getMonth()}function tc(t){return Qe(t).getSeconds()}function ht(t){return Qe(t).getFullYear()}function nc(t,e){const n=Qe(t),i=Qe(e);return n.getTime()>i.getTime()}function Wd(t,e){const n=Qe(t),i=Qe(e);return+n<+i}function Su(t,e){const n=Qe(t),i=Qe(e);return+n==+i}function M8(t,e){const n=e instanceof Date?Ut(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const P8=10;class BA{constructor(){Ye(this,"subPriority",0)}validate(e,n){return!0}}class D8 extends BA{constructor(e,n,i,r,s){super(),this.value=e,this.validateValue=n,this.setValue=i,this.priority=r,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,i){return this.setValue(e,n,this.value,i)}}class L8 extends BA{constructor(){super(...arguments);Ye(this,"priority",P8);Ye(this,"subPriority",-1)}set(n,i){return i.timestampIsSet?n:Ut(n,M8(n,Date))}}class Yt{run(e,n,i,r){const s=this.parse(e,n,i,r);return s?{setter:new D8(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,i){return!0}}class F8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",140);Ye(this,"incompatibleTokens",["R","u","t","T"])}parse(n,i,r){switch(i){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})||r.era(n,{width:"abbreviated"})||r.era(n,{width:"narrow"})}}set(n,i,r){return i.era=r,n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}const Un={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ps={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hn(t,e){return t&&{value:e(t.value),rest:t.rest}}function En(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ms(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const i=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:i*(r*IA+s*kz+a*Rz),rest:e.slice(n[0].length)}}function VA(t){return En(Un.anyDigitsSigned,t)}function Pn(t,e){switch(t){case 1:return En(Un.singleDigit,e);case 2:return En(Un.twoDigits,e);case 3:return En(Un.threeDigits,e);case 4:return En(Un.fourDigits,e);default:return En(new RegExp("^\\d{1,"+t+"}"),e)}}function $p(t,e){switch(t){case 1:return En(Un.singleDigitSigned,e);case 2:return En(Un.twoDigitsSigned,e);case 3:return En(Un.threeDigitsSigned,e);case 4:return En(Un.fourDigitsSigned,e);default:return En(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Q1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function GA(t,e){const n=e>0,i=n?e:1-e;let r;if(i<=50)r=t||100;else{const s=i+50,a=Math.trunc(s/100)*100,o=t>=s%100;r=t+a-(o?100:0)}return n?r:1-r}function zA(t){return t%400===0||t%4===0&&t%100!==0}class N8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,i,r){const s=a=>({year:a,isTwoDigitYear:i==="yy"});switch(i){case"y":return Hn(Pn(4,n),s);case"yo":return Hn(r.ordinalNumber(n,{unit:"year"}),s);default:return Hn(Pn(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r){const s=n.getFullYear();if(r.isTwoDigitYear){const o=GA(r.year,s);return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}const a=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class $8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,i,r){const s=a=>({year:a,isTwoDigitYear:i==="YY"});switch(i){case"Y":return Hn(Pn(4,n),s);case"Yo":return Hn(r.ordinalNumber(n,{unit:"year"}),s);default:return Hn(Pn(i.length,n),s)}}validate(n,i){return i.isTwoDigitYear||i.year>0}set(n,i,r,s){const a=Z1(n,s);if(r.isTwoDigitYear){const l=GA(r.year,a);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),rs(n,s)}const o=!("era"in i)||i.era===1?r.year:1-r.year;return n.setFullYear(o,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),rs(n,s)}}class j8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,i){return $p(i==="R"?4:i.length,n)}set(n,i,r){const s=Ut(n,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),ec(s)}}class B8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,i){return $p(i==="u"?4:i.length,n)}set(n,i,r){return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}}class V8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"Q":case"QQ":return Pn(i.length,n);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})||r.quarter(n,{width:"abbreviated",context:"formatting"})||r.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class G8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"q":case"qq":return Pn(i.length,n);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})||r.quarter(n,{width:"abbreviated",context:"standalone"})||r.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=1&&i<=4}set(n,i,r){return n.setMonth((r-1)*3,1),n.setHours(0,0,0,0),n}}class z8 extends Yt{constructor(){super(...arguments);Ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ye(this,"priority",110)}parse(n,i,r){const s=a=>a-1;switch(i){case"M":return Hn(En(Un.month,n),s);case"MM":return Hn(Pn(2,n),s);case"Mo":return Hn(r.ordinalNumber(n,{unit:"month"}),s);case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})||r.month(n,{width:"abbreviated",context:"formatting"})||r.month(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}class U8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",110);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,i,r){const s=a=>a-1;switch(i){case"L":return Hn(En(Un.month,n),s);case"LL":return Hn(Pn(2,n),s);case"Lo":return Hn(r.ordinalNumber(n,{unit:"month"}),s);case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})||r.month(n,{width:"abbreviated",context:"standalone"})||r.month(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.setMonth(r,1),n.setHours(0,0,0,0),n}}function H8(t,e,n){const i=Qe(t),r=J1(i,n)-e;return i.setDate(i.getDate()-r*7),i}class Y8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,i,r){switch(i){case"w":return En(Un.week,n);case"wo":return r.ordinalNumber(n,{unit:"week"});default:return Pn(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r,s){return rs(H8(n,r,s),s)}}function W8(t,e){const n=Qe(t),i=X1(n)-e;return n.setDate(n.getDate()-i*7),n}class K8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,i,r){switch(i){case"I":return En(Un.week,n);case"Io":return r.ordinalNumber(n,{unit:"week"});default:return Pn(i.length,n)}}validate(n,i){return i>=1&&i<=53}set(n,i,r){return ec(W8(n,r))}}const q8=[31,28,31,30,31,30,31,31,30,31,30,31],X8=[31,29,31,30,31,30,31,31,30,31,30,31];class Z8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subPriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"d":return En(Un.date,n);case"do":return r.ordinalNumber(n,{unit:"date"});default:return Pn(i.length,n)}}validate(n,i){const r=n.getFullYear(),s=zA(r),a=n.getMonth();return s?i>=1&&i<=X8[a]:i>=1&&i<=q8[a]}set(n,i,r){return n.setDate(r),n.setHours(0,0,0,0),n}}class J8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subpriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,i,r){switch(i){case"D":case"DD":return En(Un.dayOfYear,n);case"Do":return r.ordinalNumber(n,{unit:"date"});default:return Pn(i.length,n)}}validate(n,i){const r=n.getFullYear();return zA(r)?i>=1&&i<=366:i>=1&&i<=365}set(n,i,r){return n.setMonth(0,r),n.setHours(0,0,0,0),n}}function eb(t,e,n){var h,p,g,y;const i=Vl(),r=(n==null?void 0:n.weekStartsOn)??((p=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??i.weekStartsOn??((y=(g=i.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,s=Qe(t),a=s.getDay(),l=(e%7+7)%7,u=7-r,c=e<0||e>6?e-(a+u)%7:(l+u)%7-(a+u)%7;return Kr(s,c)}class Q8 extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,i,r){switch(i){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=eb(n,r,s),n.setHours(0,0,0,0),n}}class eU extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,i,r,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(i){case"e":case"ee":return Hn(Pn(i.length,n),a);case"eo":return Hn(r.ordinalNumber(n,{unit:"day"}),a);case"eee":return r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=eb(n,r,s),n.setHours(0,0,0,0),n}}class tU extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,i,r,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(i){case"c":case"cc":return Hn(Pn(i.length,n),a);case"co":return Hn(r.ordinalNumber(n,{unit:"day"}),a);case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})||r.day(n,{width:"abbreviated",context:"standalone"})||r.day(n,{width:"short",context:"standalone"})||r.day(n,{width:"narrow",context:"standalone"})}}validate(n,i){return i>=0&&i<=6}set(n,i,r,s){return n=eb(n,r,s),n.setHours(0,0,0,0),n}}function nU(t,e){const n=Qe(t),i=O8(n),r=e-i;return Kr(n,r)}class iU extends Yt{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,i,r){const s=a=>a===0?7:a;switch(i){case"i":case"ii":return Pn(i.length,n);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return Hn(r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Hn(r.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Hn(r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Hn(r.day(n,{width:"wide",context:"formatting"})||r.day(n,{width:"abbreviated",context:"formatting"})||r.day(n,{width:"short",context:"formatting"})||r.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,i){return i>=1&&i<=7}set(n,i,r){return n=nU(n,r),n.setHours(0,0,0,0),n}}class rU extends Yt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,i,r){switch(i){case"a":case"aa":case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(Q1(r),0,0,0),n}}class sU extends Yt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,i,r){switch(i){case"b":case"bb":case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(Q1(r),0,0,0),n}}class aU extends Yt{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","b","t","T"])}parse(n,i,r){switch(i){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})||r.dayPeriod(n,{width:"abbreviated",context:"formatting"})||r.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,i,r){return n.setHours(Q1(r),0,0,0),n}}class oU extends Yt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,i,r){switch(i){case"h":return En(Un.hour12h,n);case"ho":return r.ordinalNumber(n,{unit:"hour"});default:return Pn(i.length,n)}}validate(n,i){return i>=1&&i<=12}set(n,i,r){const s=n.getHours()>=12;return s&&r<12?n.setHours(r+12,0,0,0):!s&&r===12?n.setHours(0,0,0,0):n.setHours(r,0,0,0),n}}class lU extends Yt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,i,r){switch(i){case"H":return En(Un.hour23h,n);case"Ho":return r.ordinalNumber(n,{unit:"hour"});default:return Pn(i.length,n)}}validate(n,i){return i>=0&&i<=23}set(n,i,r){return n.setHours(r,0,0,0),n}}class uU extends Yt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,i,r){switch(i){case"K":return En(Un.hour11h,n);case"Ko":return r.ordinalNumber(n,{unit:"hour"});default:return Pn(i.length,n)}}validate(n,i){return i>=0&&i<=11}set(n,i,r){return n.getHours()>=12&&r<12?n.setHours(r+12,0,0,0):n.setHours(r,0,0,0),n}}class cU extends Yt{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,i,r){switch(i){case"k":return En(Un.hour24h,n);case"ko":return r.ordinalNumber(n,{unit:"hour"});default:return Pn(i.length,n)}}validate(n,i){return i>=1&&i<=24}set(n,i,r){const s=r<=24?r%24:r;return n.setHours(s,0,0,0),n}}class dU extends Yt{constructor(){super(...arguments);Ye(this,"priority",60);Ye(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"m":return En(Un.minute,n);case"mo":return r.ordinalNumber(n,{unit:"minute"});default:return Pn(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setMinutes(r,0,0),n}}class hU extends Yt{constructor(){super(...arguments);Ye(this,"priority",50);Ye(this,"incompatibleTokens",["t","T"])}parse(n,i,r){switch(i){case"s":return En(Un.second,n);case"so":return r.ordinalNumber(n,{unit:"second"});default:return Pn(i.length,n)}}validate(n,i){return i>=0&&i<=59}set(n,i,r){return n.setSeconds(r,0),n}}class fU extends Yt{constructor(){super(...arguments);Ye(this,"priority",30);Ye(this,"incompatibleTokens",["t","T"])}parse(n,i){const r=s=>Math.trunc(s*Math.pow(10,-i.length+3));return Hn(Pn(i.length,n),r)}set(n,i,r){return n.setMilliseconds(r),n}}class pU extends Yt{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","x"])}parse(n,i){switch(i){case"X":return ms(ps.basicOptionalMinutes,n);case"XX":return ms(ps.basic,n);case"XXXX":return ms(ps.basicOptionalSeconds,n);case"XXXXX":return ms(ps.extendedOptionalSeconds,n);case"XXX":default:return ms(ps.extended,n)}}set(n,i,r){return i.timestampIsSet?n:Ut(n,n.getTime()-Np(n)-r)}}class mU extends Yt{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","X"])}parse(n,i){switch(i){case"x":return ms(ps.basicOptionalMinutes,n);case"xx":return ms(ps.basic,n);case"xxxx":return ms(ps.basicOptionalSeconds,n);case"xxxxx":return ms(ps.extendedOptionalSeconds,n);case"xxx":default:return ms(ps.extended,n)}}set(n,i,r){return i.timestampIsSet?n:Ut(n,n.getTime()-Np(n)-r)}}class gU extends Yt{constructor(){super(...arguments);Ye(this,"priority",40);Ye(this,"incompatibleTokens","*")}parse(n){return VA(n)}set(n,i,r){return[Ut(n,r*1e3),{timestampIsSet:!0}]}}class yU extends Yt{constructor(){super(...arguments);Ye(this,"priority",20);Ye(this,"incompatibleTokens","*")}parse(n){return VA(n)}set(n,i,r){return[Ut(n,r),{timestampIsSet:!0}]}}const _U={G:new F8,y:new N8,Y:new $8,R:new j8,u:new B8,Q:new V8,q:new G8,M:new z8,L:new U8,w:new Y8,I:new K8,d:new Z8,D:new J8,E:new Q8,e:new eU,c:new tU,i:new iU,a:new rU,b:new sU,B:new aU,h:new oU,H:new lU,K:new uU,k:new cU,m:new dU,s:new hU,S:new fU,X:new pU,x:new mU,t:new gU,T:new yU},vU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wU=/^'([^]*?)'?$/,EU=/''/g,TU=/\S/,xU=/[a-zA-Z]/;function x_(t,e,n,i){var b,T,E,w,_,x,C,k;const r=A8(),s=(i==null?void 0:i.locale)??r.locale??FA,a=(i==null?void 0:i.firstWeekContainsDate)??((T=(b=i==null?void 0:i.locale)==null?void 0:b.options)==null?void 0:T.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(E=r.locale)==null?void 0:E.options)==null?void 0:w.firstWeekContainsDate)??1,o=(i==null?void 0:i.weekStartsOn)??((x=(_=i==null?void 0:i.locale)==null?void 0:_.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((k=(C=r.locale)==null?void 0:C.options)==null?void 0:k.weekStartsOn)??0;if(e==="")return t===""?Qe(n):Ut(n,NaN);const l={firstWeekContainsDate:a,weekStartsOn:o,locale:s},u=[new L8],c=e.match(bU).map(R=>{const M=R[0];if(M in E_){const I=E_[M];return I(R,s.formatLong)}return R}).join("").match(vU),h=[];for(let R of c){!(i!=null&&i.useAdditionalWeekYearTokens)&&jA(R)&&T_(R,e,t),!(i!=null&&i.useAdditionalDayOfYearTokens)&&$A(R)&&T_(R,e,t);const M=R[0],I=_U[M];if(I){const{incompatibleTokens:B}=I;if(Array.isArray(B)){const G=h.find(ie=>B.includes(ie.token)||ie.token===M);if(G)throw new RangeError(`The format string mustn't contain \`${G.fullToken}\` and \`${R}\` at the same time`)}else if(I.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);h.push({token:M,fullToken:R});const U=I.run(t,R,s.match,l);if(!U)return Ut(n,NaN);u.push(U.setter),t=U.rest}else{if(M.match(xU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");if(R==="''"?R="'":M==="'"&&(R=CU(R)),t.indexOf(R)===0)t=t.slice(R.length);else return Ut(n,NaN)}}if(t.length>0&&TU.test(t))return Ut(n,NaN);const p=u.map(R=>R.priority).sort((R,M)=>M-R).filter((R,M,I)=>I.indexOf(R)===M).map(R=>u.filter(M=>M.priority===R).sort((M,I)=>I.subPriority-M.subPriority)).map(R=>R[0]);let g=Qe(n);if(isNaN(g.getTime()))return Ut(n,NaN);const y={};for(const R of p){if(!R.validate(g,l))return Ut(n,NaN);const M=R.set(g,y,l);Array.isArray(M)?(g=M[0],Object.assign(y,M[1])):g=M}return Ut(n,g)}function CU(t){return t.match(wU)[1].replace(EU,"'")}function rC(t,e){const n=ol(t),i=ol(e);return+n==+i}function SU(t,e){return Kr(t,-e)}function UA(t,e){const n=Qe(t),i=n.getFullYear(),r=n.getDate(),s=Ut(t,0);s.setFullYear(i,e,15),s.setHours(0,0,0,0);const a=I8(s);return n.setMonth(e,Math.min(r,a)),n}function sn(t,e){let n=Qe(t);return isNaN(+n)?Ut(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=UA(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function kU(t,e){const n=Qe(t);return n.setHours(e),n}function HA(t,e){const n=Qe(t);return n.setMilliseconds(e),n}function RU(t,e){const n=Qe(t);return n.setMinutes(e),n}function YA(t,e){const n=Qe(t);return n.setSeconds(e),n}function bs(t,e){const n=Qe(t);return isNaN(+n)?Ut(t,NaN):(n.setFullYear(e),n)}function ic(t,e){return Qr(t,-e)}function IU(t,e){const{years:n=0,months:i=0,weeks:r=0,days:s=0,hours:a=0,minutes:o=0,seconds:l=0}=e,u=ic(t,i+n*12),c=SU(u,s+r*7),h=o+a*60,g=(l+h*60)*1e3;return Ut(t,c.getTime()-g)}function WA(t,e){return q1(t,-e)}function gc(){return ne(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Me("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Me("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Me("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Me("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}gc.compatConfig={MODE:3};function KA(){return ne(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Me("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Me("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}KA.compatConfig={MODE:3};function tb(){return ne(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Me("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}tb.compatConfig={MODE:3};function nb(){return ne(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Me("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}nb.compatConfig={MODE:3};function ib(){return ne(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Me("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Me("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}ib.compatConfig={MODE:3};function rb(){return ne(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Me("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}rb.compatConfig={MODE:3};function sb(){return ne(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Me("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}sb.compatConfig={MODE:3};const Er=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),ab=(t,e,n)=>C_(t,e,n)||Re(),AU=(t,e,n)=>{const i=e.dateInTz?Er(new Date(t),e.dateInTz):Re(t);return n?Xi(i,!0):i},C_=(t,e,n)=>{if(!t)return null;const i=n?Xi(Re(t),!0):Re(t);return e?e.exactMatch?AU(t,e,n):Er(i,e.timezone):i},OU=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),i=new Date(e.toLocaleString("en-US",{timeZone:t})),r=i.getTimezoneOffset()/60;return(+n-+i)/(1e3*60*60)-r};var Ur=(t=>(t.month="month",t.year="year",t))(Ur||{}),Jo=(t=>(t.top="top",t.bottom="bottom",t))(Jo||{}),yl=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(yl||{}),Bi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Bi||{});const MU=["timestamp","date","iso"];var Yi=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Yi||{}),wn=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(wn||{});function sC(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function PU(t){return e=>ks(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const DU=(t,e,n)=>{const i=[1,2,3,4,5,6,7];let r;if(t!==null)try{r=i.map(PU(t))}catch{r=i.map(sC(e))}else r=i.map(sC(e));const s=r.slice(0,n),a=r.slice(n+1,r.length);return[r[n]].concat(...a).concat(...s)},ob=(t,e,n)=>{const i=[];for(let r=+t[0];r<=+t[1];r++)i.push({value:+r,text:JA(r,e)});return n?i.reverse():i},qA=(t,e,n)=>{const i=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const a=s<10?`0${s}`:s;return new Date(`2017-${a}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"LLLL":"LLL";return i.map((a,o)=>{const l=ks(Er(a,"UTC"),s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:o}})}catch{}const r=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return i.map((s,a)=>{const o=r.format(s);return{text:o.charAt(0).toUpperCase()+o.substring(1),value:a}})},LU=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ri=t=>{const e=te(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},FU=t=>({type:"dot",...t??{}}),XA=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,lb={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},fi=t=>t,aC=t=>t===0?t:!t||isNaN(+t)?null:+t,oC=t=>t===null,ZA=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},NU=t=>{const e=[],n=i=>i.filter(r=>r);for(let i=0;i<t.length;i+=3){const r=[t[i],t[i+1],t[i+2]];e.push(n(r))}return e},Kd=(t,e,n)=>{const i=n!=null,r=e!=null;if(!i&&!r)return!1;const s=+n,a=+e;return i&&r?+t>s||+t<a:i?+t>s:r?+t<a:!1},rc=(t,e)=>NU(t).map(n=>n.map(i=>{const{active:r,disabled:s,isBetween:a,highlighted:o}=e(i);return{...i,active:r,disabled:s,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&r,dp__cell_in_between:a,"dp--highlighted":o}}})),ao=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},$U=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function jU(t,e){let n=[...document.querySelectorAll($U())];n=n.filter(r=>!t.contains(r)||r.hasAttribute("data-datepicker-instance"));const i=n.indexOf(t);if(i>=0&&(e?i-1>=0:i+1<=n.length))return n[i+(e?-1:1)]}const BU=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),JA=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),ub=t=>ks(t,"dd-MM-yyyy"),K0=t=>Array.isArray(t),jp=(t,e)=>e.get(ub(t)),VU=(t,e)=>t?e?e instanceof Map?!!jp(t,e):e(Re(t)):!1:!0,ar=(t,e,n=!1)=>{if(t.key===wn.enter||t.key===wn.space)return n&&t.preventDefault(),e()},lC=(t,e,n,i,r,s)=>{const a=x_(t,e.slice(0,t.length),new Date,{locale:s});return cd(a)&&MA(a)?i||r?a:sn(a,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},GU=(t,e,n,i,r,s)=>{const a=Array.isArray(n)?n[0]:n;if(typeof e=="string")return lC(t,e,a,i,r,s);if(Array.isArray(e)){let o=null;for(const l of e)if(o=lC(t,l,a,i,r,s),o)break;return o}return typeof e=="function"?e(t):null},Re=t=>t?new Date(t):new Date,zU=(t,e,n)=>{if(e){const r=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),a=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${r}-${s}T${a}:${o}:${l}.000Z`}const i=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(i).toISOString()},Xi=(t,e)=>{const n=Re(JSON.parse(JSON.stringify(t))),i=sn(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?Fz(i):i},oo=(t,e,n,i)=>{let r=t?Re(t):Re();return(e||e===0)&&(r=kU(r,+e)),(n||n===0)&&(r=RU(r,+n)),(i||i===0)&&(r=YA(r,+i)),HA(r,0)},In=(t,e)=>!t||!e?!1:Wd(Xi(t),Xi(e)),Ot=(t,e)=>!t||!e?!1:Su(Xi(t),Xi(e)),jn=(t,e)=>!t||!e?!1:nc(Xi(t),Xi(e)),Km=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?jn(n,t[0])&&In(n,t[1]):t!=null&&t[0]&&e?jn(n,t[0])&&In(n,e)||In(n,t[0])&&jn(n,e):!1,qr=t=>{const e=sn(new Date(t),{date:1});return Xi(e)},q0=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(i=>i===e?[i,n]:[i,isNaN(+t[i])?void 0:+t[i]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},_l=t=>({hours:ca(t),minutes:mo(t),seconds:tc(t)}),QA=(t,e)=>{if(e){const n=ht(Re(e));if(n>t)return 12;if(n===t)return At(Re(e))}},eO=(t,e)=>{if(e){const n=ht(Re(e));return n<t?-1:n===t?At(Re(e)):void 0}},sc=t=>{if(t)return ht(Re(t))},tO=(t,e)=>{const n=jn(t,e)?e:t,i=jn(e,t)?e:t;return PA({start:n,end:i})},UU=t=>{const e=Qr(t,1);return{month:At(e),year:ht(e)}},qs=(t,e)=>{const n=rs(t,{weekStartsOn:+e}),i=LA(t,{weekStartsOn:+e});return[n,i]},nO=(t,e)=>{const n={hours:ca(Re()),minutes:mo(Re()),seconds:e?tc(Re()):0};return Object.assign(n,t)},Za=(t,e,n)=>[sn(Re(t),{date:1}),sn(Re(),{month:e,year:n,date:1})],ea=(t,e,n)=>{let i=t?Re(t):Re();return(e||e===0)&&(i=UA(i,e)),n&&(i=bs(i,n)),i},iO=(t,e,n,i,r)=>{if(!i||r&&!e||!r&&!n)return!1;const s=r?Qr(t,1):ic(t,1),a=[At(s),ht(s)];return r?!YU(...a,e):!HU(...a,n)},HU=(t,e,n)=>In(...Za(n,t,e))||Ot(...Za(n,t,e)),YU=(t,e,n)=>jn(...Za(n,t,e))||Ot(...Za(n,t,e)),rO=(t,e,n,i,r,s,a)=>{if(typeof e=="function"&&!a)return e(t);const o=n?{locale:n}:void 0;return Array.isArray(t)?`${ks(t[0],s,o)}${r&&!t[1]?"":i}${t[1]?ks(t[1],s,o):""}`:ks(t,s,o)},uu=t=>{if(t)return null;throw new Error(lb.prop("partial-range"))},Rf=(t,e)=>{if(e)return t();throw new Error(lb.prop("range"))},S_=t=>Array.isArray(t)?cd(t[0])&&(t[1]?cd(t[1]):!0):t?cd(t):!1,WU=(t,e)=>sn(e??Re(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),X0=(t,e,n,i)=>{if(!t)return!0;if(i){const r=n==="max"?Wd(t,e):nc(t,e),s={seconds:0,milliseconds:0};return r||Su(sn(t,s),sn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Z0=(t,e,n)=>t?WU(t,e):Re(n??e),uC=(t,e,n,i,r)=>{if(Array.isArray(i)){const a=Z0(t,i[0],e),o=Z0(t,i[1],e);return X0(i[0],a,n,!!e)&&X0(i[1],o,n,!!e)&&r}const s=Z0(t,i,e);return X0(i,s,n,!!e)&&r},J0=t=>sn(Re(),_l(t)),KU=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>ht(Re(n))===e).map(n=>At(n)):[],sO=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(i=>i.month===e&&i.year===n),cb=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),aO=t=>ks(t,"yyyy-MM-dd"),Wc=Nr({menuFocused:!1,shiftKeyInMenu:!1}),oO=()=>{const t=n=>{Wc.menuFocused=n},e=n=>{Wc.shiftKeyInMenu!==n&&(Wc.shiftKeyInMenu=n)};return{control:Se(()=>({shiftKeyInMenu:Wc.shiftKeyInMenu,menuFocused:Wc.menuFocused})),setMenuFocused:t,setShiftKey:e}},fn=Nr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Q0=Ae(null),If=Ae(!1),ey=Ae(!1),ty=Ae(!1),ny=Ae(!1),Fi=Ae(0),$n=Ae(0),Co=()=>{const t=Se(()=>If.value?[...fn.selectionGrid,fn.actionRow].filter(h=>h.length):ey.value?[...fn.timePicker[0],...fn.timePicker[1],ny.value?[]:[Q0.value],fn.actionRow].filter(h=>h.length):ty.value?[...fn.monthPicker,fn.actionRow]:[fn.monthYear,...fn.calendar,fn.time,fn.actionRow].filter(h=>h.length)),e=h=>{Fi.value=h?Fi.value+1:Fi.value-1;let p=null;t.value[$n.value]&&(p=t.value[$n.value][Fi.value]),!p&&t.value[$n.value+(h?1:-1)]?($n.value=$n.value+(h?1:-1),Fi.value=h?0:t.value[$n.value].length-1):p||(Fi.value=h?Fi.value-1:Fi.value+1)},n=h=>{$n.value===0&&!h||$n.value===t.value.length&&h||($n.value=h?$n.value+1:$n.value-1,t.value[$n.value]?t.value[$n.value]&&!t.value[$n.value][Fi.value]&&Fi.value!==0&&(Fi.value=t.value[$n.value].length-1):$n.value=h?$n.value-1:$n.value+1)},i=h=>{let p=null;t.value[$n.value]&&(p=t.value[$n.value][Fi.value]),p?p.focus({preventScroll:!If.value}):Fi.value=h?Fi.value-1:Fi.value+1},r=()=>{e(!0),i(!0)},s=()=>{e(!1),i(!1)},a=()=>{n(!1),i(!0)},o=()=>{n(!0),i(!0)},l=(h,p)=>{fn[p]=h},u=(h,p)=>{fn[p]=h},c=()=>{Fi.value=0,$n.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{Q0.value=h},setSelectionGrid:h=>{If.value=h,c(),h||(fn.selectionGrid=[])},setTimePicker:(h,p=!1)=>{ey.value=h,ny.value=p,c(),h||(fn.timePicker[0]=[],fn.timePicker[1]=[])},setTimePickerElements:(h,p=0)=>{fn.timePicker[p]=h},arrowRight:r,arrowLeft:s,arrowUp:a,arrowDown:o,clearArrowNav:()=>{fn.monthYear=[],fn.calendar=[],fn.time=[],fn.actionRow=[],fn.selectionGrid=[],fn.timePicker[0]=[],fn.timePicker[1]=[],If.value=!1,ey.value=!1,ny.value=!1,ty.value=!1,c(),Q0.value=null},setMonthPicker:h=>{ty.value=h,c()},refSets:fn}},cC=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),qU=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),dC=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,XU=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:dC(!1)};const i=e?t:{},r=e?i.count??!0:t,s=dC(r);return Object.assign(n,i,{count:s})},ZU=(t,e,n)=>t||(typeof n=="string"?n:e),JU=t=>typeof t=="boolean"?t?cC({}):!1:cC(t),QU=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},eH=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),tH=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),nH=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},iH=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),rH=t=>{const e={dates:Array.isArray(t)?t.map(n=>Re(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},sH=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},aH=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},oH=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},iy=(t,e,n)=>new Map(t.map(i=>{const r=ab(i,e,n);return[ub(r),r]})),lH=(t,e)=>t.length?new Map(t.map(n=>{const i=ab(n.date,e);return[ub(i),n]})):null,uH=t=>{var e;return{minDate:C_(t.minDate,t.timezone,t.isSpecific),maxDate:C_(t.maxDate,t.timezone,t.isSpecific),disabledDates:K0(t.disabledDates)?iy(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:K0(t.allowedDates)?iy(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&K0((e=t.highlight)==null?void 0:e.dates)?iy(t.highlight.dates,t.timezone):t.highlight,markers:lH(t.markers,t.timezone)}},cH=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},dH=t=>({...Object.fromEntries(Object.keys(t).map(e=>{const n=e,i=t[n],r=typeof t[n]=="string"?{[i]:!0}:Object.fromEntries(i.map(s=>[s,!0]));return[e,r]}))}),Sn=t=>{const e=()=>{const k=t.enableSeconds?":ss":"",R=t.enableMinutes?":mm":"";return t.is24?`HH${R}${k}`:`hh${R}${k} aa`},n=()=>{var k;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((k=T.value)==null?void 0:k.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},i=k=>nO(k,t.enableSeconds),r=()=>x.value.enabled?t.startTime&&Array.isArray(t.startTime)?[i(t.startTime[0]),i(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?i(t.startTime):null,s=Se(()=>XU(t.multiCalendars)),a=Se(()=>r()),o=Se(()=>qU(t.ariaLabels)),l=Se(()=>eH(t.filters)),u=Se(()=>JU(t.transitions)),c=Se(()=>tH(t.actionRow)),h=Se(()=>ZU(t.previewFormat,t.format,n())),p=Se(()=>QU(t.textInput)),g=Se(()=>nH(t.inline)),y=Se(()=>iH(t.config)),b=Se(()=>rH(t.highlight)),T=Se(()=>sH(t.weekNumbers)),E=Se(()=>oH(t.timezone,t.emitTimezone)),w=Se(()=>cH(t.multiDates,t.multiDatesLimit)),_=Se(()=>uH({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:b.value,markers:t.markers,timezone:E.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),x=Se(()=>aH(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd})),C=Se(()=>dH(t.ui));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:a,defaultedAriaLabels:o,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:p,defaultedInline:g,defaultedConfig:y,defaultedHighlight:b,defaultedWeekNumbers:T,defaultedRange:x,propDates:_,defaultedTz:E,defaultedMultiDates:w,defaultedUI:C,getDefaultPattern:n,getDefaultStartTime:r}},hH=(t,e,n)=>{const i=Ae(),{defaultedTextInput:r,defaultedRange:s,defaultedTz:a,defaultedMultiDates:o,getDefaultPattern:l}=Sn(e),u=Ae(""),c=wl(e,"format"),h=wl(e,"formatLocale");xn(i,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",i.value,Ee(!0))},{deep:!0}),xn(s,(q,ye)=>{q.enabled!==ye.enabled&&(i.value=null)}),xn(c,()=>{Q()});const p=q=>a.value.timezone&&a.value.convertModel?Er(q,a.value.timezone):q,g=q=>{if(a.value.timezone&&a.value.convertModel){const ye=OU(a.value.timezone);return Iz(q,ye)}return q},y=(q,ye,Ze=!1)=>rO(q,e.format,e.formatLocale,r.value.rangeSeparator,e.modelAuto,ye??l(),Ze),b=q=>q?e.modelType?ve(q):{hours:ca(q),minutes:mo(q),seconds:e.enableSeconds?tc(q):0}:null,T=q=>e.modelType?ve(q):{month:At(q),year:ht(q)},E=q=>Array.isArray(q)?o.value.enabled?q.map(ye=>w(ye,bs(Re(),ye))):Rf(()=>[bs(Re(),q[0]),q[1]?bs(Re(),q[1]):uu(s.value.partialRange)],s.value.enabled):bs(Re(),+q),w=(q,ye)=>(typeof q=="string"||typeof q=="number")&&e.modelType?_e(q):ye,_=q=>Array.isArray(q)?[w(q[0],oo(null,+q[0].hours,+q[0].minutes,q[0].seconds)),w(q[1],oo(null,+q[1].hours,+q[1].minutes,q[1].seconds))]:w(q,oo(null,q.hours,q.minutes,q.seconds)),x=q=>{const ye=sn(Re(),{date:1});return Array.isArray(q)?o.value.enabled?q.map(Ze=>w(Ze,ea(ye,+Ze.month,+Ze.year))):Rf(()=>[w(q[0],ea(ye,+q[0].month,+q[0].year)),w(q[1],q[1]?ea(ye,+q[1].month,+q[1].year):uu(s.value.partialRange))],s.value.enabled):w(q,ea(ye,+q.month,+q.year))},C=q=>{if(Array.isArray(q))return q.map(ye=>_e(ye));throw new Error(lb.dateArr("multi-dates"))},k=q=>{if(Array.isArray(q)&&s.value.enabled){const ye=q[0],Ze=q[1];return[Re(Array.isArray(ye)?ye[0]:null),Re(Array.isArray(Ze)?Ze[0]:null)]}return Re(q[0])},R=q=>e.modelAuto?Array.isArray(q)?[_e(q[0]),_e(q[1])]:e.autoApply?[_e(q)]:[_e(q),null]:Array.isArray(q)?Rf(()=>q[1]?[_e(q[0]),q[1]?_e(q[1]):uu(s.value.partialRange)]:[_e(q[0])],s.value.enabled):_e(q),M=()=>{Array.isArray(i.value)&&s.value.enabled&&i.value.length===1&&i.value.push(uu(s.value.partialRange))},I=()=>{const q=i.value;return[ve(q[0]),q[1]?ve(q[1]):uu(s.value.partialRange)]},B=()=>i.value[1]?I():ve(fi(i.value[0])),U=()=>(i.value||[]).map(q=>ve(q)),G=(q=!1)=>(q||M(),e.modelAuto?B():o.value.enabled?U():Array.isArray(i.value)?Rf(()=>I(),s.value.enabled):ve(fi(i.value))),ie=q=>!q||Array.isArray(q)&&!q.length?null:e.timePicker?_(fi(q)):e.monthPicker?x(fi(q)):e.yearPicker?E(fi(q)):o.value.enabled?C(fi(q)):e.weekPicker?k(fi(q)):R(fi(q)),W=q=>{const ye=ie(q);S_(fi(ye))?(i.value=fi(ye),Q()):(i.value=null,u.value="")},N=()=>{const q=ye=>ks(ye,r.value.format);return`${q(i.value[0])} ${r.value.rangeSeparator} ${i.value[1]?q(i.value[1]):""}`},j=()=>n.value&&i.value?Array.isArray(i.value)?N():ks(i.value,r.value.format):y(i.value),F=()=>i.value?o.value.enabled?i.value.map(q=>y(q)).join("; "):r.value.enabled&&typeof r.value.format=="string"?j():y(i.value):"",Q=()=>{!e.format||typeof e.format=="string"||r.value.enabled&&typeof r.value.format=="string"?u.value=F():u.value=e.format(i.value)},_e=q=>{if(e.utc){const ye=new Date(q);return e.utc==="preserve"?new Date(ye.getTime()+ye.getTimezoneOffset()*6e4):ye}return e.modelType?MU.includes(e.modelType)?p(new Date(q)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(x_(q,l(),new Date,{locale:h.value})):p(x_(q,e.modelType,new Date,{locale:h.value})):p(new Date(q))},ve=q=>q?e.utc?zU(q,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+g(q):e.modelType==="iso"?g(q).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?y(g(q)):y(g(q),e.modelType,!0):g(q):"",xe=(q,ye=!1,Ze=!1)=>{if(Ze)return q;if(t("update:model-value",q),a.value.emitTimezone&&ye){const de=Array.isArray(q)?q.map(qe=>Er(fi(qe),a.value.emitTimezone)):Er(fi(q),a.value.emitTimezone);t("update:model-timezone-value",de)}},K=q=>Array.isArray(i.value)?o.value.enabled?i.value.map(ye=>q(ye)):[q(i.value[0]),i.value[1]?q(i.value[1]):uu(s.value.partialRange)]:q(fi(i.value)),Z=()=>{if(Array.isArray(i.value)){const q=qs(i.value[0],e.weekStart),ye=i.value[1]?qs(i.value[1],e.weekStart):[];return[q.map(Ze=>Re(Ze)),ye.map(Ze=>Re(Ze))]}return qs(i.value,e.weekStart).map(q=>Re(q))},P=(q,ye)=>xe(fi(K(q)),!1,ye),re=q=>{const ye=Z();return q?ye:t("update:model-value",Z())},Ee=(q=!1)=>(q||Q(),e.monthPicker?P(T,q):e.timePicker?P(b,q):e.yearPicker?P(ht,q):e.weekPicker?re(q):xe(G(q),!0,q));return{inputValue:u,internalModelValue:i,checkBeforeEmit:()=>i.value?s.value.enabled?s.value.partialRange?i.value.length>=1:i.value.length===2:!!i.value:!1,parseExternalModelValue:W,formatInputValue:Q,emitModelValue:Ee}},fH=(t,e)=>{const{defaultedFilters:n,propDates:i}=Sn(t),{validateMonthYearInRange:r}=So(t),s=(c,h)=>{let p=c;return n.value.months.includes(At(p))?(p=h?Qr(c,1):ic(c,1),s(p,h)):p},a=(c,h)=>{let p=c;return n.value.years.includes(ht(p))?(p=h?q1(c,1):WA(c,1),a(p,h)):p},o=(c,h=!1)=>{const p=sn(Re(),{month:t.month,year:t.year});let g=c?Qr(p,1):ic(p,1);t.disableYearSelect&&(g=bs(g,t.year));let y=At(g),b=ht(g);n.value.months.includes(y)&&(g=s(g,c),y=At(g),b=ht(g)),n.value.years.includes(b)&&(g=a(g,c),b=ht(g)),r(y,b,c,t.preventMinMaxNavigation)&&l(y,b,h)},l=(c,h,p)=>{e("update-month-year",{month:c,year:h,fromNav:p})},u=Se(()=>c=>iO(sn(Re(),{month:t.month,year:t.year}),i.value.maxDate,i.value.minDate,t.preventMinMaxNavigation,c));return{handleMonthYearChange:o,isDisabled:u,updateMonthYear:l}},qm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},ls={...qm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},pH=["title"],mH=["disabled"],gH=vn({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ls},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,i=t,{defaultedActionRow:r,defaultedPreviewFormat:s,defaultedMultiCalendars:a,defaultedTextInput:o,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:h}=Sn(i),{isTimeValid:p,isMonthValid:g}=So(i),{buildMatrix:y}=Co(),b=Ae(null),T=Ae(null),E=Ae(!1),w=Ae({}),_=Ae(null),x=Ae(null);Cn(()=>{i.arrowNavigation&&y([ri(b),ri(T)],"actionRow"),C(),window.addEventListener("resize",C)}),Rs(()=>{window.removeEventListener("resize",C)});const C=()=>{E.value=!1,setTimeout(()=>{var N,j;const F=(N=_.value)==null?void 0:N.getBoundingClientRect(),Q=(j=x.value)==null?void 0:j.getBoundingClientRect();F&&Q&&(w.value.maxWidth=`${Q.width-F.width-20}px`),E.value=!0},0)},k=Se(()=>u.value.enabled&&!u.value.partialRange&&i.internalModelValue?i.internalModelValue.length===2:!0),R=Se(()=>!p.value(i.internalModelValue)||!g.value(i.internalModelValue)||!k.value),M=()=>{const N=s.value;return i.timePicker||i.monthPicker,N(fi(i.internalModelValue))},I=()=>{const N=i.internalModelValue;return a.value.count>0?`${B(N[0])} - ${B(N[1])}`:[B(N[0]),B(N[1])]},B=N=>rO(N,s.value,i.formatLocale,o.value.rangeSeparator,i.modelAuto,h()),U=Se(()=>!i.internalModelValue||!i.menuMount?"":typeof s.value=="string"?Array.isArray(i.internalModelValue)?i.internalModelValue.length===2&&i.internalModelValue[1]?I():c.value.enabled?i.internalModelValue.map(N=>`${B(N)}`):i.modelAuto?`${B(i.internalModelValue[0])}`:`${B(i.internalModelValue[0])} -`:B(i.internalModelValue):M()),G=()=>c.value.enabled?"; ":" - ",ie=Se(()=>Array.isArray(U.value)?U.value.join(G()):U.value),W=()=>{p.value(i.internalModelValue)&&g.value(i.internalModelValue)&&k.value?n("select-date"):n("invalid-select")};return(N,j)=>(ne(),pe("div",{ref_key:"actionRowRef",ref:x,class:"dp__action_row"},[N.$slots["action-row"]?Ue(N.$slots,"action-row",qn(Gn({key:0},{internalModelValue:N.internalModelValue,disabled:R.value,selectDate:()=>N.$emit("select-date"),closePicker:()=>N.$emit("close-picker")}))):(ne(),pe(Je,{key:1},[te(r).showPreview?(ne(),pe("div",{key:0,class:"dp__selection_preview",title:ie.value,style:Vn(w.value)},[N.$slots["action-preview"]&&E.value?Ue(N.$slots,"action-preview",{key:0,value:N.internalModelValue}):ke("",!0),!N.$slots["action-preview"]&&E.value?(ne(),pe(Je,{key:1},[cr(bt(ie.value),1)],64)):ke("",!0)],12,pH)):ke("",!0),Me("div",{ref_key:"actionBtnContainer",ref:_,class:"dp__action_buttons","data-dp-element":"action-row"},[N.$slots["action-buttons"]?Ue(N.$slots,"action-buttons",{key:0,value:N.internalModelValue}):ke("",!0),N.$slots["action-buttons"]?ke("",!0):(ne(),pe(Je,{key:1},[!te(l).enabled&&te(r).showCancel?(ne(),pe("button",{key:0,ref_key:"cancelButtonRef",ref:b,type:"button",class:"dp__action_button dp__action_cancel",onClick:j[0]||(j[0]=F=>N.$emit("close-picker")),onKeydown:j[1]||(j[1]=F=>te(ar)(F,()=>N.$emit("close-picker")))},bt(N.cancelText),545)):ke("",!0),te(r).showNow?(ne(),pe("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:j[2]||(j[2]=F=>N.$emit("select-now")),onKeydown:j[3]||(j[3]=F=>te(ar)(F,()=>N.$emit("select-now")))},bt(N.nowButtonLabel),33)):ke("",!0),te(r).showSelect?(ne(),pe("button",{key:2,ref_key:"selectButtonRef",ref:T,type:"button",class:"dp__action_button dp__action_select",disabled:R.value,"data-test":"select-button",onKeydown:j[4]||(j[4]=F=>te(ar)(F,()=>W())),onClick:W},bt(N.selectText),41,mH)):ke("",!0)],64))],512)],64))],512))}}),yH={class:"dp__selection_grid_header"},_H=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],vH=["aria-label"],Th=vn({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:i,buildMultiLevelMatrix:r,setMonthPicker:s}=Co(),a=n,o=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Sn(o),{hideNavigationButtons:h}=Jm(),p=Ae(!1),g=Ae(null),y=Ae(null),b=Ae([]),T=Ae(),E=Ae(null),w=Ae(0),_=Ae(null);hm(()=>{g.value=null}),Cn(()=>{bi().then(()=>U()),o.noOverlayFocus||C(),x(!0)}),Rs(()=>x(!1));const x=K=>{var Z;o.arrowNavigation&&((Z=o.headerRefs)!=null&&Z.length?s(K):i(K))},C=()=>{var K;const Z=ri(y);Z&&(u.value.enabled||(g.value?(K=g.value)==null||K.focus({preventScroll:!0}):Z.focus({preventScroll:!0})),p.value=Z.clientHeight<Z.scrollHeight)},k=Se(()=>({dp__overlay:!0,"dp--overlay-absolute":!o.useRelative,"dp--overlay-relative":o.useRelative})),R=Se(()=>o.useRelative?{height:`${o.height}px`,width:"260px"}:void 0),M=Se(()=>({dp__overlay_col:!0})),I=Se(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:p.value,dp__button_bottom:o.isLast})),B=Se(()=>{var K,Z;return{dp__overlay_container:!0,dp__container_flex:((K=o.items)==null?void 0:K.length)<=6,dp__container_block:((Z=o.items)==null?void 0:Z.length)>6}});xn(()=>o.items,()=>U(!1),{deep:!0});const U=(K=!0)=>{bi().then(()=>{const Z=ri(g),P=ri(y),re=ri(E),Ee=ri(_),q=re?re.getBoundingClientRect().height:0;P&&(P.getBoundingClientRect().height?w.value=P.getBoundingClientRect().height-q:w.value=c.value.modeHeight-q),Z&&Ee&&K&&(Ee.scrollTop=Z.offsetTop-Ee.offsetTop-(w.value/2-Z.getBoundingClientRect().height)-q)})},G=K=>{K.disabled||a("selected",K.value)},ie=()=>{a("toggle"),a("reset-flow")},W=()=>{o.escClose&&ie()},N=(K,Z,P,re)=>{K&&((Z.active||Z.value===o.focusValue)&&(g.value=K),o.arrowNavigation&&(Array.isArray(b.value[P])?b.value[P][re]=K:b.value[P]=[K],j()))},j=()=>{var K,Z;const P=(K=o.headerRefs)!=null&&K.length?[o.headerRefs].concat(b.value):b.value.concat([o.skipButtonRef?[]:[E.value]]);r(fi(P),(Z=o.headerRefs)!=null&&Z.length?"monthPicker":"selectionGrid")},F=K=>{o.arrowNavigation||ao(K,c.value,!0)},Q=K=>{T.value=K,a("hover-value",K)},_e=()=>{if(ie(),!o.isLast){const K=BU(o.menuWrapRef??null,"action-row");if(K){const Z=ZA(K);Z==null||Z.focus()}}},ve=K=>{switch(K.key){case wn.esc:return W();case wn.arrowLeft:return F(K);case wn.arrowRight:return F(K);case wn.arrowUp:return F(K);case wn.arrowDown:return F(K);default:return}},xe=K=>{if(K.key===wn.enter)return ie();if(K.key===wn.tab)return _e()};return e({focusGrid:C}),(K,Z)=>{var P;return ne(),pe("div",{ref_key:"gridWrapRef",ref:y,class:ct(k.value),style:Vn(R.value),role:"dialog",tabindex:"0",onKeydown:ve,onClick:Z[0]||(Z[0]=Cl(()=>{},["prevent"]))},[Me("div",{ref_key:"containerRef",ref:_,class:ct(B.value),role:"grid",style:Vn({"--dp-overlay-height":`${w.value}px`})},[Me("div",yH,[Ue(K.$slots,"header")]),K.$slots.overlay?Ue(K.$slots,"overlay",{key:0}):(ne(!0),pe(Je,{key:1},Ht(K.items,(re,Ee)=>(ne(),pe("div",{key:Ee,class:ct(["dp__overlay_row",{dp__flex_row:K.items.length>=3}]),role:"row"},[(ne(!0),pe(Je,null,Ht(re,(q,ye)=>(ne(),pe("div",{key:q.value,ref_for:!0,ref:Ze=>N(Ze,q,Ee,ye),role:"gridcell",class:ct(M.value),"aria-selected":q.active||void 0,"aria-disabled":q.disabled||void 0,tabindex:"0","data-test":q.text,onClick:Cl(Ze=>G(q),["prevent"]),onKeydown:Ze=>te(ar)(Ze,()=>G(q),!0),onMouseover:Ze=>Q(q.value)},[Me("div",{class:ct(q.className)},[K.$slots.item?Ue(K.$slots,"item",{key:0,item:q}):ke("",!0),K.$slots.item?ke("",!0):(ne(),pe(Je,{key:1},[cr(bt(q.text),1)],64))],2)],42,_H))),128))],2))),128))],6),K.$slots["button-icon"]?oi((ne(),pe("button",{key:0,ref_key:"toggleButton",ref:E,type:"button","aria-label":(P=te(l))==null?void 0:P.toggleOverlay,class:ct(I.value),tabindex:"0",onClick:ie,onKeydown:xe},[Ue(K.$slots,"button-icon")],42,vH)),[[li,!te(h)(K.hideNavigation,K.type)]]):ke("",!0)],38)}}}),Xm=vn({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=Se(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),i=Se(()=>({dp__instance_calendar:e.multiCalendars>0}));return(r,s)=>(ne(),pe("div",{class:ct({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse})},[(ne(!0),pe(Je,null,Ht(n.value,(a,o)=>(ne(),pe("div",{key:a,class:ct(i.value)},[Ue(r.$slots,"default",{instance:a,index:o})],2))),128))],2))}}),bH=["aria-label","aria-disabled"],dd=vn({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,i=Ae(null);return Cn(()=>n("set-ref",i)),(r,s)=>(ne(),pe("button",{ref_key:"elRef",ref:i,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:s[0]||(s[0]=a=>r.$emit("activate")),onKeydown:s[1]||(s[1]=a=>te(ar)(a,()=>r.$emit("activate"),!0))},[Me("span",{class:ct(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[Ue(r.$slots,"default")],2)],40,bH))}}),wH={class:"dp--year-mode-picker"},EH=["aria-label","data-test"],lO=vn({__name:"YearModePicker",props:{...ls,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,i=t,{showRightIcon:r,showLeftIcon:s}=Jm(),{defaultedConfig:a,defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:u,defaultedUI:c}=Sn(i),{showTransition:h,transitionName:p}=xh(u),g=(T=!1,E)=>{n("toggle-year-picker",{flow:T,show:E})},y=T=>{n("year-select",T)},b=(T=!1)=>{n("handle-year",T)};return(T,E)=>{var w,_,x,C,k;return ne(),pe("div",wH,[te(s)(te(o),t.instance)?(ne(),tt(dd,{key:0,ref:"mpPrevIconRef","aria-label":(w=te(l))==null?void 0:w.prevYear,disabled:t.isDisabled(!1),class:ct((_=te(c))==null?void 0:_.navBtnPrev),onActivate:E[0]||(E[0]=R=>b(!1))},{default:pt(()=>[T.$slots["arrow-left"]?Ue(T.$slots,"arrow-left",{key:0}):ke("",!0),T.$slots["arrow-left"]?ke("",!0):(ne(),tt(te(tb),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ke("",!0),Me("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(x=te(l))==null?void 0:x.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:E[1]||(E[1]=()=>g(!1)),onKeydown:E[2]||(E[2]=ym(()=>g(!1),["enter"]))},[T.$slots.year?Ue(T.$slots,"year",{key:0,year:t.year}):ke("",!0),T.$slots.year?ke("",!0):(ne(),pe(Je,{key:1},[cr(bt(t.year),1)],64))],40,EH),te(r)(te(o),t.instance)?(ne(),tt(dd,{key:1,ref:"mpNextIconRef","aria-label":(C=te(l))==null?void 0:C.nextYear,disabled:t.isDisabled(!0),class:ct((k=te(c))==null?void 0:k.navBtnNext),onActivate:E[3]||(E[3]=R=>b(!0))},{default:pt(()=>[T.$slots["arrow-right"]?Ue(T.$slots,"arrow-right",{key:0}):ke("",!0),T.$slots["arrow-right"]?ke("",!0):(ne(),tt(te(nb),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ke("",!0),De(Is,{name:te(p)(t.showYearPicker),css:te(h)},{default:pt(()=>[t.showYearPicker?(ne(),tt(Th,{key:0,items:t.items,"text-input":T.textInput,"esc-close":T.escClose,config:T.config,"is-last":T.autoApply&&!te(a).keepActionRow,"hide-navigation":T.hideNavigation,"aria-labels":T.ariaLabels,type:"year",onToggle:g,onSelected:E[4]||(E[4]=R=>y(R))},_i({"button-icon":pt(()=>[T.$slots["calendar-icon"]?Ue(T.$slots,"calendar-icon",{key:0}):ke("",!0),T.$slots["calendar-icon"]?ke("",!0):(ne(),tt(te(gc),{key:1}))]),_:2},[T.$slots["year-overlay-value"]?{name:"item",fn:pt(({item:R})=>[Ue(T.$slots,"year-overlay-value",{text:R.text,value:R.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):ke("",!0)]),_:3},8,["name","css"])])}}}),db=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(i=>Ot(t,i))){const i=e.value.filter(r=>!Ot(r,t));e.value=i.length?i:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},hb=(t,e,n)=>{let i=t.value?t.value.slice():[];return i.length===2&&i[1]!==null&&(i=[]),i.length?In(e,i[0])?(i.unshift(e),n("range-start",i[0]),n("range-start",i[1])):(i[1]=e,n("range-end",e)):(i=[e],n("range-start",e)),i},Zm=(t,e,n,i)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&i&&n&&e("auto-apply"))},uO=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Er(Re(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Er(Re(t.value),t.timezone))},cO=(t,e,n,i)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&i.value.partialRange)?i.value.fixedStart&&(jn(t,e.value[0])||Ot(t,e.value[0]))?[e.value[0],t]:i.value.fixedEnd&&(In(t,e.value[1])||Ot(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],dO=({multiCalendars:t,range:e,highlight:n,propDates:i,calendars:r,modelValue:s,props:a,filters:o,year:l,month:u,emit:c})=>{const h=Se(()=>ob(a.yearRange,a.locale,a.reverseYears)),p=Ae([!1]),g=Se(()=>(B,U)=>{const G=sn(qr(new Date),{month:u.value(B),year:l.value(B)}),ie=U?DA(G):Yd(G);return iO(ie,i.value.maxDate,i.value.minDate,a.preventMinMaxNavigation,U)}),y=()=>Array.isArray(s.value)&&t.value.solo&&s.value[1],b=()=>{for(let B=0;B<t.value.count;B++)if(B===0)r.value[B]=r.value[0];else if(B===t.value.count-1&&y())r.value[B]={month:At(s.value[1]),year:ht(s.value[1])};else{const U=sn(Re(),r.value[B-1]);r.value[B]={month:At(U),year:ht(q1(U,1))}}},T=B=>{if(!B)return b();const U=sn(Re(),r.value[B]);return r.value[0].year=ht(WA(U,t.value.count-1)),b()},E=(B,U)=>{const G=Dz(U,B);return e.value.showLastInRange&&G>1?U:B},w=B=>a.focusStartDate||t.value.solo?B[0]:B[1]?E(B[0],B[1]):B[0],_=()=>{if(s.value){const B=Array.isArray(s.value)?w(s.value):s.value;r.value[0]={month:At(B),year:ht(B)}}},x=()=>{_(),t.value.count&&b()};xn(s,(B,U)=>{a.isTextInputDate&&JSON.stringify(B??{})!==JSON.stringify(U??{})&&x()}),Cn(()=>{x()});const C=(B,U)=>{r.value[U].year=B,c("update-month-year",{instance:U,year:B,month:r.value[U].month}),t.value.count&&!t.value.solo&&T(U)},k=Se(()=>B=>rc(h.value,U=>{var G;const ie=l.value(B)===U.value,W=Kd(U.value,sc(i.value.minDate),sc(i.value.maxDate))||((G=o.value.years)==null?void 0:G.includes(l.value(B))),N=cb(n.value,U.value);return{active:ie,disabled:W,highlighted:N}})),R=(B,U)=>{C(B,U),I(U)},M=(B,U=!1)=>{if(!g.value(B,U)){const G=U?l.value(B)+1:l.value(B)-1;C(G,B)}},I=(B,U=!1,G)=>{U||c("reset-flow"),G!==void 0?p.value[B]=G:p.value[B]=!p.value[B],p.value[B]?c("overlay-toggle",{open:!0,overlay:Bi.year}):(c("overlay-closed"),c("overlay-toggle",{open:!1,overlay:Bi.year}))};return{isDisabled:g,groupedYears:k,showYearPicker:p,selectYear:C,toggleYearPicker:I,handleYearSelect:R,handleYear:M}},TH=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:i,defaultedTransitions:r,defaultedConfig:s,defaultedRange:a,defaultedHighlight:o,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:h}=Sn(t),p=()=>{t.isTextInputDate&&x(ht(Re(t.startDate)),0)},{modelValue:g,year:y,month:b,calendars:T}=Ch(t,e,p),E=Se(()=>qA(t.formatLocale,t.locale,t.monthNameFormat)),w=Ae(null),{checkMinMaxRange:_}=So(t),{selectYear:x,groupedYears:C,showYearPicker:k,toggleYearPicker:R,handleYearSelect:M,handleYear:I,isDisabled:B}=dO({modelValue:g,multiCalendars:n,range:a,highlight:o,calendars:T,year:y,propDates:l,month:b,filters:c,props:t,emit:e});Cn(()=>{t.startDate&&(g.value&&t.focusStartDate||!g.value)&&x(ht(Re(t.startDate)),0)});const U=P=>P?{month:At(P),year:ht(P)}:{month:null,year:null},G=()=>g.value?Array.isArray(g.value)?g.value.map(P=>U(P)):U(g.value):U(),ie=(P,re)=>{const Ee=T.value[P],q=G();return Array.isArray(q)?q.some(ye=>ye.year===(Ee==null?void 0:Ee.year)&&ye.month===re):(Ee==null?void 0:Ee.year)===q.year&&re===q.month},W=(P,re,Ee)=>{var q,ye;const Ze=G();return Array.isArray(Ze)?y.value(re)===((q=Ze[Ee])==null?void 0:q.year)&&P===((ye=Ze[Ee])==null?void 0:ye.month):!1},N=(P,re)=>{if(a.value.enabled){const Ee=G();if(Array.isArray(g.value)&&Array.isArray(Ee)){const q=W(P,re,0)||W(P,re,1),ye=ea(qr(Re()),P,y.value(re));return Km(g.value,w.value,ye)&&!q}return!1}return!1},j=Se(()=>P=>rc(E.value,re=>{var Ee;const q=ie(P,re.value),ye=Kd(re.value,QA(y.value(P),l.value.minDate),eO(y.value(P),l.value.maxDate))||KU(l.value.disabledDates,y.value(P)).includes(re.value)||((Ee=c.value.months)==null?void 0:Ee.includes(re.value)),Ze=N(re.value,P),de=sO(o.value,re.value,y.value(P));return{active:q,disabled:ye,isBetween:Ze,highlighted:de}})),F=(P,re)=>ea(qr(Re()),P,y.value(re)),Q=(P,re)=>{const Ee=g.value?g.value:qr(new Date);g.value=ea(Ee,P,y.value(re)),e("auto-apply"),e("update-flow-step")},_e=(P,re)=>{const Ee=F(P,re);a.value.fixedEnd||a.value.fixedStart?g.value=cO(Ee,g,e,a):g.value?_(Ee,g.value)&&(g.value=hb(g,F(P,re),e)):g.value=[F(P,re)],bi().then(()=>{Zm(g.value,e,t.autoApply,t.modelAuto)})},ve=(P,re)=>{db(F(P,re),g,h.value.limit),e("auto-apply",!0)},xe=(P,re)=>(T.value[re].month=P,Z(re,T.value[re].year,P),h.value.enabled?ve(P,re):a.value.enabled?_e(P,re):Q(P,re)),K=(P,re)=>{x(P,re),Z(re,P,null)},Z=(P,re,Ee)=>{let q=Ee;if(!q&&q!==0){const ye=G();q=Array.isArray(ye)?ye[P].month:ye.month}e("update-month-year",{instance:P,year:re,month:q})};return{groupedMonths:j,groupedYears:C,year:y,isDisabled:B,defaultedMultiCalendars:n,defaultedAriaLabels:i,defaultedTransitions:r,defaultedConfig:s,showYearPicker:k,modelValue:g,presetDate:(P,re)=>{uO({value:P,modelValue:g,range:a.value.enabled,timezone:re?void 0:u.value.timezone}),e("auto-apply")},setHoverDate:(P,re)=>{w.value=F(P,re)},selectMonth:xe,selectYear:K,toggleYearPicker:R,handleYearSelect:M,handleYear:I,getModelMonthYear:G}},xH=vn({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ls},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=ha(),s=br(r,"yearMode"),a=t;Cn(()=>{a.shadow||i("mount",null)});const{groupedMonths:o,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:p,showYearPicker:g,modelValue:y,presetDate:b,setHoverDate:T,selectMonth:E,selectYear:w,toggleYearPicker:_,handleYearSelect:x,handleYear:C,getModelMonthYear:k}=TH(a,i);return e({getSidebarProps:()=>({modelValue:y,year:u,getModelMonthYear:k,selectMonth:E,selectYear:w,handleYear:C}),presetDate:b,toggleYearPicker:R=>_(0,R)}),(R,M)=>(ne(),tt(Xm,{"multi-calendars":te(h).count,collapse:R.collapse,stretch:""},{default:pt(({instance:I})=>[R.$slots["top-extra"]?Ue(R.$slots,"top-extra",{key:0,value:R.internalModelValue}):ke("",!0),R.$slots["month-year"]?Ue(R.$slots,"month-year",qn(Gn({key:1},{year:te(u),months:te(o)(I),years:te(l)(I),selectMonth:te(E),selectYear:te(w),instance:I}))):(ne(),tt(Th,{key:2,items:te(o)(I),"arrow-navigation":R.arrowNavigation,"is-last":R.autoApply&&!te(p).keepActionRow,"esc-close":R.escClose,height:te(p).modeHeight,config:R.config,"no-overlay-focus":!!(R.noOverlayFocus||R.textInput),"use-relative":"",type:"month",onSelected:B=>te(E)(B,I),onHoverValue:B=>te(T)(B,I)},_i({header:pt(()=>[De(lO,Gn(R.$props,{items:te(l)(I),instance:I,"show-year-picker":te(g)[I],year:te(u)(I),"is-disabled":B=>te(c)(I,B),onHandleYear:B=>te(C)(I,B),onYearSelect:B=>te(x)(B,I),onToggleYearPicker:B=>te(_)(I,B==null?void 0:B.flow,B==null?void 0:B.show)}),_i({_:2},[Ht(te(s),(B,U)=>({name:B,fn:pt(G=>[Ue(R.$slots,B,qn(ki(G)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[R.$slots["month-overlay-value"]?{name:"item",fn:pt(({item:B})=>[Ue(R.$slots,"month-overlay-value",{text:B.text,value:B.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),CH=(t,e)=>{const n=()=>{t.isTextInputDate&&(c.value=ht(Re(t.startDate)))},{modelValue:i}=Ch(t,e,n),r=Ae(null),{defaultedHighlight:s,defaultedMultiDates:a,defaultedFilters:o,defaultedRange:l,propDates:u}=Sn(t),c=Ae();Cn(()=>{t.startDate&&(i.value&&t.focusStartDate||!i.value)&&(c.value=ht(Re(t.startDate)))});const h=b=>Array.isArray(i.value)?i.value.some(T=>ht(T)===b):i.value?ht(i.value)===b:!1,p=b=>l.value.enabled&&Array.isArray(i.value)?Km(i.value,r.value,y(b)):!1,g=Se(()=>rc(ob(t.yearRange,t.locale,t.reverseYears),b=>{const T=h(b.value),E=Kd(b.value,sc(u.value.minDate),sc(u.value.maxDate))||o.value.years.includes(b.value),w=p(b.value)&&!T,_=cb(s.value,b.value);return{active:T,disabled:E,isBetween:w,highlighted:_}})),y=b=>bs(qr(Yd(new Date)),b);return{groupedYears:g,modelValue:i,focusYear:c,setHoverValue:b=>{r.value=bs(qr(new Date),b)},selectYear:b=>{var T;if(e("update-month-year",{instance:0,year:b}),a.value.enabled)return i.value?Array.isArray(i.value)&&(((T=i.value)==null?void 0:T.map(E=>ht(E))).includes(b)?i.value=i.value.filter(E=>ht(E)!==b):i.value.push(bs(Xi(Re()),b))):i.value=[bs(Xi(Yd(Re())),b)],e("auto-apply",!0);l.value.enabled?(i.value=hb(i,y(b),e),bi().then(()=>{Zm(i.value,e,t.autoApply,t.modelAuto)})):(i.value=y(b),e("auto-apply"))}}},SH=vn({compatConfig:{MODE:3},__name:"YearPicker",props:{...ls},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const i=n,r=t,{groupedYears:s,modelValue:a,focusYear:o,selectYear:l,setHoverValue:u}=CH(r,i),{defaultedConfig:c}=Sn(r);return e({getSidebarProps:()=>({modelValue:a,selectYear:l})}),(h,p)=>(ne(),pe("div",null,[h.$slots["top-extra"]?Ue(h.$slots,"top-extra",{key:0,value:h.internalModelValue}):ke("",!0),h.$slots["month-year"]?Ue(h.$slots,"month-year",qn(Gn({key:1},{years:te(s),selectYear:te(l)}))):(ne(),tt(Th,{key:2,items:te(s),"is-last":h.autoApply&&!te(c).keepActionRow,height:te(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":te(o),type:"year","use-relative":"",onSelected:te(l),onHoverValue:te(u)},_i({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:pt(({item:g})=>[Ue(h.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),kH={key:0,class:"dp__time_input"},RH=["data-test","aria-label","onKeydown","onClick","onMousedown"],IH=Me("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),AH=Me("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),OH=["aria-label","disabled","data-test","onKeydown","onClick"],MH=["data-test","aria-label","onKeydown","onClick","onMousedown"],PH=Me("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),DH=Me("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),LH={key:0},FH=["aria-label"],NH=vn({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ls},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const i=n,r=t,{setTimePickerElements:s,setTimePickerBackRef:a}=Co(),{defaultedAriaLabels:o,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:h}=Sn(r),{transitionName:p,showTransition:g}=xh(l),y=Nr({hours:!1,minutes:!1,seconds:!1}),b=Ae("AM"),T=Ae(null),E=Ae([]),w=Ae();Cn(()=>{i("mounted")});const _=H=>sn(new Date,{hours:H.hours,minutes:H.minutes,seconds:r.enableSeconds?H.seconds:0,milliseconds:0}),x=Se(()=>H=>j(H,r[H])||k(H,r[H])),C=Se(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),k=(H,L)=>h.value.enabled&&!h.value.disableTimeRangeValidation?!r.validateTime(H,L):!1,R=(H,L)=>{if(h.value.enabled&&!h.value.disableTimeRangeValidation){const O=L?+r[`${H}Increment`]:-+r[`${H}Increment`],z=r[H]+O;return!r.validateTime(H,z)}return!1},M=Se(()=>H=>!xe(+r[H]+ +r[`${H}Increment`],H)||R(H,!0)),I=Se(()=>H=>!xe(+r[H]-+r[`${H}Increment`],H)||R(H,!1)),B=(H,L)=>kA(sn(Re(),H),L),U=(H,L)=>IU(sn(Re(),H),L),G=Se(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),ie=Se(()=>{const H=[{type:"hours"}];return r.enableMinutes&&H.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&H.push({type:"",separator:!0},{type:"seconds"}),H}),W=Se(()=>ie.value.filter(H=>!H.separator)),N=Se(()=>H=>{if(H==="hours"){const L=q(+r.hours);return{text:L<10?`0${L}`:`${L}`,value:L}}return{text:r[H]<10?`0${r[H]}`:`${r[H]}`,value:r[H]}}),j=(H,L)=>{var O;if(!r.disabledTimesConfig)return!1;const z=r.disabledTimesConfig(r.order,H==="hours"?L:void 0);return z[H]?!!((O=z[H])!=null&&O.includes(L)):!0},F=(H,L)=>L!=="hours"||b.value==="AM"?H:H+12,Q=H=>{const L=r.is24?24:12,O=H==="hours"?L:60,z=+r[`${H}GridIncrement`],J=H==="hours"&&!r.is24?z:0,he=[];for(let Y=J;Y<O;Y+=z)he.push({value:r.is24?Y:F(Y,H),text:Y<10?`0${Y}`:`${Y}`});return H==="hours"&&!r.is24&&he.unshift({value:b.value==="PM"?12:0,text:"12"}),rc(he,Y=>({active:!1,disabled:u.value.times[H].includes(Y.value)||!xe(Y.value,H)||j(H,Y.value)||k(H,Y.value)}))},_e=H=>H>=0?H:59,ve=H=>H>=0?H:23,xe=(H,L)=>{const O=r.minTime?_(q0(r.minTime)):null,z=r.maxTime?_(q0(r.maxTime)):null,J=_(q0(C.value,L,L==="minutes"||L==="seconds"?_e(H):ve(H)));return O&&z?(Wd(J,z)||Su(J,z))&&(nc(J,O)||Su(J,O)):O?nc(J,O)||Su(J,O):z?Wd(J,z)||Su(J,z):!0},K=H=>r[`no${H[0].toUpperCase()+H.slice(1)}Overlay`],Z=H=>{K(H)||(y[H]=!y[H],y[H]?i("overlay-opened",H):i("overlay-closed",H))},P=H=>H==="hours"?ca:H==="minutes"?mo:tc,re=()=>{w.value&&clearTimeout(w.value)},Ee=(H,L=!0,O)=>{const z=L?B:U,J=L?+r[`${H}Increment`]:-+r[`${H}Increment`];xe(+r[H]+J,H)&&i(`update:${H}`,P(H)(z({[H]:+r[H]},{[H]:+r[`${H}Increment`]}))),!(O!=null&&O.keyboard)&&c.value.timeArrowHoldThreshold&&(w.value=setTimeout(()=>{Ee(H,L)},c.value.timeArrowHoldThreshold))},q=H=>r.is24?H:(H>=12?b.value="PM":b.value="AM",LU(H)),ye=()=>{b.value==="PM"?(b.value="AM",i("update:hours",r.hours-12)):(b.value="PM",i("update:hours",r.hours+12)),i("am-pm-change",b.value)},Ze=H=>{y[H]=!0},de=(H,L,O)=>{if(H&&r.arrowNavigation){Array.isArray(E.value[L])?E.value[L][O]=H:E.value[L]=[H];const z=E.value.reduce((J,he)=>he.map((Y,ue)=>[...J[ue]||[],he[ue]]),[]);a(r.closeTimePickerBtn),T.value&&(z[1]=z[1].concat(T.value)),s(z,r.order)}},qe=(H,L)=>(Z(H),i(`update:${H}`,L));return e({openChildCmp:Ze}),(H,L)=>{var O;return H.disabled?ke("",!0):(ne(),pe("div",kH,[(ne(!0),pe(Je,null,Ht(ie.value,(z,J)=>{var he,Y,ue;return ne(),pe("div",{key:J,class:ct(G.value)},[z.separator?(ne(),pe(Je,{key:0},[cr(" : ")],64)):(ne(),pe(Je,{key:1},[Me("button",{ref_for:!0,ref:D=>de(D,J,0),type:"button",class:ct({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_top:H.timePickerInline,dp__inc_dec_button_disabled:M.value(z.type)}),"data-test":`${z.type}-time-inc-btn-${r.order}`,"aria-label":(he=te(o))==null?void 0:he.incrementValue(z.type),tabindex:"0",onKeydown:D=>te(ar)(D,()=>Ee(z.type,!0,{keyboard:!0}),!0),onClick:D=>te(c).timeArrowHoldThreshold?void 0:Ee(z.type,!0),onMousedown:D=>te(c).timeArrowHoldThreshold?Ee(z.type,!0):void 0,onMouseup:re},[r.timePickerInline?(ne(),pe(Je,{key:1},[H.$slots["tp-inline-arrow-up"]?Ue(H.$slots,"tp-inline-arrow-up",{key:0}):(ne(),pe(Je,{key:1},[IH,AH],64))],64)):(ne(),pe(Je,{key:0},[H.$slots["arrow-up"]?Ue(H.$slots,"arrow-up",{key:0}):ke("",!0),H.$slots["arrow-up"]?ke("",!0):(ne(),tt(te(rb),{key:1}))],64))],42,RH),Me("button",{ref_for:!0,ref:D=>de(D,J,1),type:"button","aria-label":(Y=te(o))==null?void 0:Y.openTpOverlay(z.type),class:ct({dp__time_display:!0,dp__time_display_block:!H.timePickerInline,dp__time_display_inline:H.timePickerInline,"dp--time-invalid":x.value(z.type),"dp--time-overlay-btn":!x.value(z.type)}),disabled:K(z.type),tabindex:"0","data-test":`${z.type}-toggle-overlay-btn-${r.order}`,onKeydown:D=>te(ar)(D,()=>Z(z.type),!0),onClick:D=>Z(z.type)},[H.$slots[z.type]?Ue(H.$slots,z.type,{key:0,text:N.value(z.type).text,value:N.value(z.type).value}):ke("",!0),H.$slots[z.type]?ke("",!0):(ne(),pe(Je,{key:1},[cr(bt(N.value(z.type).text),1)],64))],42,OH),Me("button",{ref_for:!0,ref:D=>de(D,J,2),type:"button",class:ct({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_bottom:H.timePickerInline,dp__inc_dec_button_disabled:I.value(z.type)}),"data-test":`${z.type}-time-dec-btn-${r.order}`,"aria-label":(ue=te(o))==null?void 0:ue.decrementValue(z.type),tabindex:"0",onKeydown:D=>te(ar)(D,()=>Ee(z.type,!1,{keyboard:!0}),!0),onClick:D=>te(c).timeArrowHoldThreshold?void 0:Ee(z.type,!1),onMousedown:D=>te(c).timeArrowHoldThreshold?Ee(z.type,!1):void 0,onMouseup:re},[r.timePickerInline?(ne(),pe(Je,{key:1},[H.$slots["tp-inline-arrow-down"]?Ue(H.$slots,"tp-inline-arrow-down",{key:0}):(ne(),pe(Je,{key:1},[PH,DH],64))],64)):(ne(),pe(Je,{key:0},[H.$slots["arrow-down"]?Ue(H.$slots,"arrow-down",{key:0}):ke("",!0),H.$slots["arrow-down"]?ke("",!0):(ne(),tt(te(sb),{key:1}))],64))],42,MH)],64))],2)}),128)),H.is24?ke("",!0):(ne(),pe("div",LH,[H.$slots["am-pm-button"]?Ue(H.$slots,"am-pm-button",{key:0,toggle:ye,value:b.value}):ke("",!0),H.$slots["am-pm-button"]?ke("",!0):(ne(),pe("button",{key:1,ref_key:"amPmButton",ref:T,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(O=te(o))==null?void 0:O.amPmButton,tabindex:"0",onClick:ye,onKeydown:L[0]||(L[0]=z=>te(ar)(z,()=>ye(),!0))},bt(b.value),41,FH))])),(ne(!0),pe(Je,null,Ht(W.value,(z,J)=>(ne(),tt(Is,{key:J,name:te(p)(y[z.type]),css:te(g)},{default:pt(()=>[y[z.type]?(ne(),tt(Th,{key:0,items:Q(z.type),"is-last":H.autoApply&&!te(c).keepActionRow,"esc-close":H.escClose,type:z.type,"text-input":H.textInput,config:H.config,"arrow-navigation":H.arrowNavigation,"aria-labels":H.ariaLabels,onSelected:he=>qe(z.type,he),onToggle:he=>Z(z.type),onResetFlow:L[1]||(L[1]=he=>H.$emit("reset-flow"))},_i({"button-icon":pt(()=>[H.$slots["clock-icon"]?Ue(H.$slots,"clock-icon",{key:0}):ke("",!0),H.$slots["clock-icon"]?ke("",!0):(ne(),tt(lc(H.timePickerInline?te(gc):te(ib)),{key:1}))]),_:2},[H.$slots[`${z.type}-overlay-value`]?{name:"item",fn:pt(({item:he})=>[Ue(H.$slots,`${z.type}-overlay-value`,{text:he.text,value:he.value})]),key:"0"}:void 0,H.$slots[`${z.type}-overlay-header`]?{name:"header",fn:pt(()=>[Ue(H.$slots,`${z.type}-overlay-header`,{toggle:()=>Z(z.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):ke("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),$H={class:"dp--tp-wrap"},jH=["aria-label","tabindex"],BH=["tabindex"],VH=["aria-label"],hO=vn({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ls},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const i=n,r=t,{buildMatrix:s,setTimePicker:a}=Co(),o=ha(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h,defaultedRange:p}=Sn(r),{transitionName:g,showTransition:y}=xh(l),{hideNavigationButtons:b}=Jm(),T=Ae(null),E=Ae(null),w=Ae([]),_=Ae(null);Cn(()=>{i("mount"),!r.timePicker&&r.arrowNavigation?s([ri(T.value)],"time"):a(!0,r.timePicker)});const x=Se(()=>p.value.enabled&&r.modelAuto?XA(r.internalModelValue):!0),C=Ae(!1),k=F=>({hours:Array.isArray(r.hours)?r.hours[F]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[F]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[F]:r.seconds}),R=Se(()=>{const F=[];if(p.value.enabled)for(let Q=0;Q<2;Q++)F.push(k(Q));else F.push(k(0));return F}),M=(F,Q=!1,_e="")=>{Q||i("reset-flow"),C.value=F,i(F?"overlay-opened":"overlay-closed",Bi.time),r.arrowNavigation&&a(F),bi(()=>{_e!==""&&w.value[0]&&w.value[0].openChildCmp(_e)})},I=Se(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!h.value.keepActionRow})),B=br(o,"timePicker"),U=(F,Q,_e)=>p.value.enabled?Q===0?[F,R.value[1][_e]]:[R.value[0][_e],F]:F,G=F=>{i("update:hours",F)},ie=F=>{i("update:minutes",F)},W=F=>{i("update:seconds",F)},N=()=>{if(_.value&&!c.value.enabled&&!r.noOverlayFocus){const F=ZA(_.value);F&&F.focus({preventScroll:!0})}},j=F=>{i("overlay-closed",F)};return e({toggleTimePicker:M}),(F,Q)=>{var _e;return ne(),pe("div",$H,[!F.timePicker&&!F.timePickerInline?oi((ne(),pe("button",{key:0,ref_key:"openTimePickerBtn",ref:T,type:"button",class:ct(I.value),"aria-label":(_e=te(u))==null?void 0:_e.openTimePicker,tabindex:F.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:Q[0]||(Q[0]=ve=>te(ar)(ve,()=>M(!0))),onClick:Q[1]||(Q[1]=ve=>M(!0))},[F.$slots["clock-icon"]?Ue(F.$slots,"clock-icon",{key:0}):ke("",!0),F.$slots["clock-icon"]?ke("",!0):(ne(),tt(te(ib),{key:1}))],42,jH)),[[li,!te(b)(F.hideNavigation,"time")]]):ke("",!0),De(Is,{name:te(g)(C.value),css:te(y)&&!F.timePickerInline},{default:pt(()=>{var ve;return[C.value||F.timePicker||F.timePickerInline?(ne(),pe("div",{key:0,ref_key:"overlayRef",ref:_,class:ct({dp__overlay:!F.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!F.timePickerInline,"dp--overlay-relative":r.timePicker}),style:Vn(F.timePicker?{height:`${te(h).modeHeight}px`}:void 0),tabindex:F.timePickerInline?void 0:0},[Me("div",{class:ct(F.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[F.$slots["time-picker-overlay"]?Ue(F.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:G,setMinutes:ie,setSeconds:W}):ke("",!0),F.$slots["time-picker-overlay"]?ke("",!0):(ne(),pe("div",{key:1,class:ct(F.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ne(!0),pe(Je,null,Ht(R.value,(xe,K)=>oi((ne(),tt(NH,Gn({key:K,ref_for:!0},{...F.$props,order:K,hours:xe.hours,minutes:xe.minutes,seconds:xe.seconds,closeTimePickerBtn:E.value,disabledTimesConfig:t.disabledTimesConfig,disabled:K===0?F.fixedStart:F.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:w,"validate-time":(Z,P)=>t.validateTime(Z,U(P,K,Z)),"onUpdate:hours":Z=>G(U(Z,K,"hours")),"onUpdate:minutes":Z=>ie(U(Z,K,"minutes")),"onUpdate:seconds":Z=>W(U(Z,K,"seconds")),onMounted:N,onOverlayClosed:j,onOverlayOpened:Q[2]||(Q[2]=Z=>F.$emit("overlay-opened",Z)),onAmPmChange:Q[3]||(Q[3]=Z=>F.$emit("am-pm-change",Z))}),_i({_:2},[Ht(te(B),(Z,P)=>({name:Z,fn:pt(re=>[Ue(F.$slots,Z,Gn({ref_for:!0},re))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[li,K===0?!0:x.value]])),128))],2)),!F.timePicker&&!F.timePickerInline?oi((ne(),pe("button",{key:2,ref_key:"closeTimePickerBtn",ref:E,type:"button",class:ct(I.value),"aria-label":(ve=te(u))==null?void 0:ve.closeTimePicker,tabindex:"0",onKeydown:Q[4]||(Q[4]=xe=>te(ar)(xe,()=>M(!1))),onClick:Q[5]||(Q[5]=xe=>M(!1))},[F.$slots["calendar-icon"]?Ue(F.$slots,"calendar-icon",{key:0}):ke("",!0),F.$slots["calendar-icon"]?ke("",!0):(ne(),tt(te(gc),{key:1}))],42,VH)),[[li,!te(b)(F.hideNavigation,"time")]]):ke("",!0)],2)],14,BH)):ke("",!0)]}),_:3},8,["name","css"])])}}}),fO=(t,e,n,i)=>{const{defaultedRange:r}=Sn(t),s=(_,x)=>Array.isArray(e[_])?e[_][x]:e[_],a=_=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[_]:e.seconds:0,o=(_,x)=>_?x!==void 0?oo(_,s("hours",x),s("minutes",x),a(x)):oo(_,e.hours,e.minutes,a()):YA(Re(),a(x)),l=(_,x)=>{e[_]=x},u=Se(()=>t.modelAuto&&r.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:r.value.enabled),c=(_,x)=>{const C=Object.fromEntries(Object.keys(e).map(k=>k===_?[k,x]:[k,e[k]].slice()));if(u.value&&!r.value.disableTimeRangeValidation){const k=M=>n.value?oo(n.value[M],C.hours[M],C.minutes[M],C.seconds[M]):null,R=M=>HA(n.value[M],0);return!(Ot(k(0),k(1))&&(nc(k(0),R(1))||Wd(k(1),R(0))))}return!0},h=(_,x)=>{c(_,x)&&(l(_,x),i&&i())},p=_=>{h("hours",_)},g=_=>{h("minutes",_)},y=_=>{h("seconds",_)},b=(_,x,C,k)=>{x&&p(_),!x&&!C&&g(_),C&&y(_),n.value&&k(n.value)},T=_=>{if(_){const x=Array.isArray(_),C=x?[+_[0].hours,+_[1].hours]:+_.hours,k=x?[+_[0].minutes,+_[1].minutes]:+_.minutes,R=x?[+_[0].seconds,+_[1].seconds]:+_.seconds;l("hours",C),l("minutes",k),t.enableSeconds&&l("seconds",R)}},E=(_,x)=>{const C={hours:Array.isArray(e.hours)?e.hours[_]:e.hours,disabledArr:[]};return(x||x===0)&&(C.hours=x),Array.isArray(t.disabledTimes)&&(C.disabledArr=r.value.enabled&&Array.isArray(t.disabledTimes[_])?t.disabledTimes[_]:t.disabledTimes),C},w=Se(()=>(_,x)=>{var C;if(Array.isArray(t.disabledTimes)){const{disabledArr:k,hours:R}=E(_,x),M=k.filter(I=>+I.hours===R);return((C=M[0])==null?void 0:C.minutes)==="*"?{hours:[R],minutes:void 0,seconds:void 0}:{hours:[],minutes:(M==null?void 0:M.map(I=>+I.minutes))??[],seconds:(M==null?void 0:M.map(I=>I.seconds?+I.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:p,updateMinutes:g,updateSeconds:y,getSetDateTime:o,updateTimeValues:b,getSecondsValue:a,assignStartTime:T,validateTime:c,disabledTimesConfig:w}},GH=(t,e)=>{const n=()=>{t.isTextInputDate&&x()},{modelValue:i,time:r}=Ch(t,e,n),{defaultedStartTime:s,defaultedRange:a,defaultedTz:o}=Sn(t),{updateTimeValues:l,getSetDateTime:u,setTime:c,assignStartTime:h,disabledTimesConfig:p,validateTime:g}=fO(t,r,i,y);function y(){e("update-flow-step")}const b=k=>{const{hours:R,minutes:M,seconds:I}=k;return{hours:+R,minutes:+M,seconds:I?+I:0}},T=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const R=b(t.startTime[0]),M=b(t.startTime[1]);return[sn(Re(),R),sn(Re(),M)]}const k=b(t.startTime);return sn(Re(),k)}return a.value.enabled?[null,null]:null},E=()=>{if(a.value.enabled){const[k,R]=T();i.value=[Er(u(k,0),o.value.timezone),Er(u(R,1),o.value.timezone)]}else i.value=Er(u(T()),o.value.timezone)},w=k=>Array.isArray(k)?[_l(Re(k[0])),_l(Re(k[1]))]:[_l(k??Re())],_=(k,R,M)=>{c("hours",k),c("minutes",R),c("seconds",t.enableSeconds?M:0)},x=()=>{const[k,R]=w(i.value);return a.value.enabled?_([k.hours,R.hours],[k.minutes,R.minutes],[k.seconds,R.seconds]):_(k.hours,k.minutes,k.seconds)};Cn(()=>{if(!t.shadow)return h(s.value),i.value?x():E()});const C=()=>{Array.isArray(i.value)?i.value=i.value.map((k,R)=>k&&u(k,R)):i.value=u(i.value),e("time-update")};return{modelValue:i,time:r,disabledTimesConfig:p,updateTime:(k,R=!0,M=!1)=>{l(k,R,M,C)},validateTime:g}},zH=vn({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ls},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=t,s=ha(),a=br(s,"timePicker"),o=Ae(null),{time:l,modelValue:u,disabledTimesConfig:c,updateTime:h,validateTime:p}=GH(r,i);return Cn(()=>{r.shadow||i("mount",null)}),e({getSidebarProps:()=>({modelValue:u,time:l,updateTime:h}),toggleTimePicker:(g,y=!1,b="")=>{var T;(T=o.value)==null||T.toggleTimePicker(g,y,b)}}),(g,y)=>(ne(),tt(Xm,{"multi-calendars":0,stretch:""},{default:pt(()=>[De(hO,Gn({ref_key:"tpRef",ref:o},g.$props,{hours:te(l).hours,minutes:te(l).minutes,seconds:te(l).seconds,"internal-model-value":g.internalModelValue,"disabled-times-config":te(c),"validate-time":te(p),"onUpdate:hours":y[0]||(y[0]=b=>te(h)(b)),"onUpdate:minutes":y[1]||(y[1]=b=>te(h)(b,!1)),"onUpdate:seconds":y[2]||(y[2]=b=>te(h)(b,!1,!0)),onAmPmChange:y[3]||(y[3]=b=>g.$emit("am-pm-change",b)),onResetFlow:y[4]||(y[4]=b=>g.$emit("reset-flow")),onOverlayClosed:y[5]||(y[5]=b=>g.$emit("overlay-toggle",{open:!1,overlay:b})),onOverlayOpened:y[6]||(y[6]=b=>g.$emit("overlay-toggle",{open:!0,overlay:b}))}),_i({_:2},[Ht(te(a),(b,T)=>({name:b,fn:pt(E=>[Ue(g.$slots,b,qn(ki(E)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),UH={class:"dp--header-wrap"},HH={key:0,class:"dp__month_year_wrap"},YH={key:0},WH={class:"dp__month_year_wrap"},KH=["aria-label","data-test","onClick","onKeydown"],qH=vn({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ls},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const i=n,r=t,{defaultedTransitions:s,defaultedAriaLabels:a,defaultedMultiCalendars:o,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:h,defaultedUI:p}=Sn(r),{transitionName:g,showTransition:y}=xh(s),{buildMatrix:b}=Co(),{handleMonthYearChange:T,isDisabled:E,updateMonthYear:w}=fH(r,i),{showLeftIcon:_,showRightIcon:x}=Jm(),C=Ae(!1),k=Ae(!1),R=Ae([null,null,null,null]);Cn(()=>{i("mount")});const M=K=>({get:()=>r[K],set:Z=>{const P=K===Ur.month?Ur.year:Ur.month;i("update-month-year",{[K]:Z,[P]:r[P]}),K===Ur.month?j(!0):F(!0)}}),I=Se(M(Ur.month)),B=Se(M(Ur.year)),U=Se(()=>K=>({month:r.month,year:r.year,items:K===Ur.month?r.months:r.years,instance:r.instance,updateMonthYear:w,toggle:K===Ur.month?j:F})),G=Se(()=>r.months.find(Z=>Z.value===r.month)||{text:"",value:0}),ie=Se(()=>rc(r.months,K=>{const Z=r.month===K.value,P=Kd(K.value,QA(r.year,h.value.minDate),eO(r.year,h.value.maxDate))||l.value.months.includes(K.value),re=sO(c.value,K.value,r.year);return{active:Z,disabled:P,highlighted:re}})),W=Se(()=>rc(r.years,K=>{const Z=r.year===K.value,P=Kd(K.value,sc(h.value.minDate),sc(h.value.maxDate))||l.value.years.includes(K.value),re=cb(c.value,K.value);return{active:Z,disabled:P,highlighted:re}})),N=(K,Z,P)=>{P!==void 0?K.value=P:K.value=!K.value,K.value?i("overlay-opened",Z):i("overlay-closed",Z)},j=(K=!1,Z)=>{Q(K),N(C,Bi.month,Z)},F=(K=!1,Z)=>{Q(K),N(k,Bi.year,Z)},Q=K=>{K||i("reset-flow")},_e=(K,Z)=>{r.arrowNavigation&&(R.value[Z]=ri(K),b(R.value,"monthYear"))},ve=Se(()=>{var K,Z;return[{type:Ur.month,index:1,toggle:j,modelValue:I.value,updateModelValue:P=>I.value=P,text:G.value.text,showSelectionGrid:C.value,items:ie.value,ariaLabel:(K=a.value)==null?void 0:K.openMonthsOverlay},{type:Ur.year,index:2,toggle:F,modelValue:B.value,updateModelValue:P=>B.value=P,text:JA(r.year,r.locale),showSelectionGrid:k.value,items:W.value,ariaLabel:(Z=a.value)==null?void 0:Z.openYearsOverlay}]}),xe=Se(()=>r.disableYearSelect?[ve.value[0]]:r.yearFirst?[...ve.value].reverse():ve.value);return e({toggleMonthPicker:j,toggleYearPicker:F,handleMonthYearChange:T}),(K,Z)=>{var P,re,Ee,q,ye,Ze;return ne(),pe("div",UH,[K.$slots["month-year"]?(ne(),pe("div",HH,[Ue(K.$slots,"month-year",qn(ki({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:te(w),handleMonthYearChange:te(T),instance:t.instance})))])):(ne(),pe(Je,{key:1},[K.$slots["top-extra"]?(ne(),pe("div",YH,[Ue(K.$slots,"top-extra",{value:K.internalModelValue})])):ke("",!0),Me("div",WH,[te(_)(te(o),t.instance)&&!K.vertical?(ne(),tt(dd,{key:0,"aria-label":(P=te(a))==null?void 0:P.prevMonth,disabled:te(E)(!1),class:ct((re=te(p))==null?void 0:re.navBtnPrev),onActivate:Z[0]||(Z[0]=de=>te(T)(!1,!0)),onSetRef:Z[1]||(Z[1]=de=>_e(de,0))},{default:pt(()=>[K.$slots["arrow-left"]?Ue(K.$slots,"arrow-left",{key:0}):ke("",!0),K.$slots["arrow-left"]?ke("",!0):(ne(),tt(te(tb),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ke("",!0),Me("div",{class:ct(["dp__month_year_wrap",{dp__year_disable_select:K.disableYearSelect}])},[(ne(!0),pe(Je,null,Ht(xe.value,(de,qe)=>(ne(),pe(Je,{key:de.type},[Me("button",{ref_for:!0,ref:H=>_e(H,qe+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":de.ariaLabel,"data-test":`${de.type}-toggle-overlay-${t.instance}`,onClick:de.toggle,onKeydown:H=>te(ar)(H,()=>de.toggle(),!0)},[K.$slots[de.type]?Ue(K.$slots,de.type,{key:0,text:de.text,value:r[de.type]}):ke("",!0),K.$slots[de.type]?ke("",!0):(ne(),pe(Je,{key:1},[cr(bt(de.text),1)],64))],40,KH),De(Is,{name:te(g)(de.showSelectionGrid),css:te(y)},{default:pt(()=>[de.showSelectionGrid?(ne(),tt(Th,{key:0,items:de.items,"arrow-navigation":K.arrowNavigation,"hide-navigation":K.hideNavigation,"is-last":K.autoApply&&!te(u).keepActionRow,"skip-button-ref":!1,config:K.config,type:de.type,"header-refs":[],"esc-close":K.escClose,"menu-wrap-ref":K.menuWrapRef,"text-input":K.textInput,"aria-labels":K.ariaLabels,onSelected:de.updateModelValue,onToggle:de.toggle},_i({"button-icon":pt(()=>[K.$slots["calendar-icon"]?Ue(K.$slots,"calendar-icon",{key:0}):ke("",!0),K.$slots["calendar-icon"]?ke("",!0):(ne(),tt(te(gc),{key:1}))]),_:2},[K.$slots[`${de.type}-overlay-value`]?{name:"item",fn:pt(({item:H})=>[Ue(K.$slots,`${de.type}-overlay-value`,{text:H.text,value:H.value})]),key:"0"}:void 0,K.$slots[`${de.type}-overlay`]?{name:"overlay",fn:pt(()=>[Ue(K.$slots,`${de.type}-overlay`,Gn({ref_for:!0},U.value(de.type)))]),key:"1"}:void 0,K.$slots[`${de.type}-overlay-header`]?{name:"header",fn:pt(()=>[Ue(K.$slots,`${de.type}-overlay-header`,{toggle:de.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):ke("",!0)]),_:2},1032,["name","css"])],64))),128))],2),te(_)(te(o),t.instance)&&K.vertical?(ne(),tt(dd,{key:1,"aria-label":(Ee=te(a))==null?void 0:Ee.prevMonth,disabled:te(E)(!1),class:ct((q=te(p))==null?void 0:q.navBtnPrev),onActivate:Z[2]||(Z[2]=de=>te(T)(!1,!0))},{default:pt(()=>[K.$slots["arrow-up"]?Ue(K.$slots,"arrow-up",{key:0}):ke("",!0),K.$slots["arrow-up"]?ke("",!0):(ne(),tt(te(rb),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ke("",!0),te(x)(te(o),t.instance)?(ne(),tt(dd,{key:2,ref:"rightIcon",disabled:te(E)(!0),"aria-label":(ye=te(a))==null?void 0:ye.nextMonth,class:ct((Ze=te(p))==null?void 0:Ze.navBtnNext),onActivate:Z[3]||(Z[3]=de=>te(T)(!0,!0)),onSetRef:Z[4]||(Z[4]=de=>_e(de,K.disableYearSelect?2:3))},{default:pt(()=>[K.$slots[K.vertical?"arrow-down":"arrow-right"]?Ue(K.$slots,K.vertical?"arrow-down":"arrow-right",{key:0}):ke("",!0),K.$slots[K.vertical?"arrow-down":"arrow-right"]?ke("",!0):(ne(),tt(lc(K.vertical?te(sb):te(nb)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):ke("",!0)])],64))])}}}),XH=["aria-label"],ZH={class:"dp__calendar_header",role:"row"},JH={key:0,class:"dp__calendar_header_item",role:"gridcell"},QH=["aria-label"],eY=Me("div",{class:"dp__calendar_header_separator"},null,-1),tY=["aria-label"],nY={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},iY={class:"dp__cell_inner"},rY=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],sY=vn({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ls},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const i=n,r=t,{buildMultiLevelMatrix:s}=Co(),{defaultedTransitions:a,defaultedConfig:o,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:h,defaultedUI:p}=Sn(r),g=Ae(null),y=Ae({bottom:"",left:"",transform:""}),b=Ae([]),T=Ae(null),E=Ae(!0),w=Ae(""),_=Ae({startX:0,endX:0,startY:0,endY:0}),x=Ae([]),C=Ae({left:"50%"}),k=Ae(!1),R=Se(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),M=Se(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):DU(r.formatLocale,r.locale,+r.weekStart));Cn(()=>{i("mount",{cmp:"calendar",refs:b}),o.value.noSwipe||T.value&&(T.value.addEventListener("touchstart",_e,{passive:!1}),T.value.addEventListener("touchend",ve,{passive:!1}),T.value.addEventListener("touchmove",xe,{passive:!1})),r.monthChangeOnScroll&&T.value&&T.value.addEventListener("wheel",P,{passive:!1})});const I=de=>de?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",B=(de,qe)=>{if(r.transitions){const H=Xi(ea(Re(),r.month,r.year));w.value=jn(Xi(ea(Re(),de,qe)),H)?a.value[I(!0)]:a.value[I(!1)],E.value=!1,bi(()=>{E.value=!0})}},U=Se(()=>({[r.calendarClassName]:!!r.calendarClassName,...p.value.calendar??{}})),G=Se(()=>de=>{const qe=FU(de);return{dp__marker_dot:qe.type==="dot",dp__marker_line:qe.type==="line"}}),ie=Se(()=>de=>Ot(de,g.value)),W=Se(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&r.instance!==0})),N=Se(()=>de=>r.hideOffsetDates?de.current:!0),j=async(de,qe,H)=>{const L=ri(b.value[qe][H]);if(L){const{width:O,height:z}=L.getBoundingClientRect();g.value=de.value;let J={left:`${O/2}px`},he=-50;if(await bi(),x.value[0]){const{left:Y,width:ue}=x.value[0].getBoundingClientRect();Y<0&&(J={left:"0"},he=0,C.value.left=`${O/2}px`),window.innerWidth<Y+ue&&(J={right:"0"},he=0,C.value.left=`${ue-O/2}px`)}y.value={bottom:`${z}px`,...J,transform:`translateX(${he}%)`},i("tooltip-open",de.marker)}},F=async(de,qe,H)=>{var L,O;if(k.value&&h.value.enabled&&h.value.dragSelect)return i("select-date",de);i("set-hover-date",de),(O=(L=de.marker)==null?void 0:L.tooltip)!=null&&O.length&&await j(de,qe,H)},Q=de=>{g.value&&(g.value=null,y.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),i("tooltip-close",de.marker))},_e=de=>{_.value.startX=de.changedTouches[0].screenX,_.value.startY=de.changedTouches[0].screenY},ve=de=>{_.value.endX=de.changedTouches[0].screenX,_.value.endY=de.changedTouches[0].screenY,K()},xe=de=>{r.vertical&&!r.inline&&de.preventDefault()},K=()=>{const de=r.vertical?"Y":"X";Math.abs(_.value[`start${de}`]-_.value[`end${de}`])>10&&i("handle-swipe",_.value[`start${de}`]>_.value[`end${de}`]?"right":"left")},Z=(de,qe,H)=>{de&&(Array.isArray(b.value[qe])?b.value[qe][H]=de:b.value[qe]=[de]),r.arrowNavigation&&s(b.value,"calendar")},P=de=>{r.monthChangeOnScroll&&(de.preventDefault(),i("handle-scroll",de))},re=de=>c.value.type==="local"?J1(de.value,{weekStartsOn:+r.weekStart}):c.value.type==="iso"?X1(de.value):typeof c.value.type=="function"?c.value.type(de.value):"",Ee=de=>{const qe=de[0];return c.value.hideOnOffsetDates?de.some(H=>H.current)?re(qe):"":re(qe)},q=(de,qe)=>{h.value.enabled||(ao(de,o.value),i("select-date",qe))},ye=de=>{ao(de,o.value)},Ze=de=>{h.value.enabled&&h.value.dragSelect?(k.value=!0,i("select-date",de)):h.value.enabled&&i("select-date",de)};return e({triggerTransition:B}),(de,qe)=>{var H;return ne(),pe("div",{class:ct(W.value)},[Me("div",{ref_key:"calendarWrapRef",ref:T,role:"grid",class:ct(U.value),"aria-label":(H=te(l))==null?void 0:H.calendarWrap},[Me("div",ZH,[de.weekNumbers?(ne(),pe("div",JH,bt(de.weekNumName),1)):ke("",!0),(ne(!0),pe(Je,null,Ht(M.value,(L,O)=>{var z,J;return ne(),pe("div",{key:O,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(J=(z=te(l))==null?void 0:z.weekDay)==null?void 0:J.call(z,O)},[de.$slots["calendar-header"]?Ue(de.$slots,"calendar-header",{key:0,day:L,index:O}):ke("",!0),de.$slots["calendar-header"]?ke("",!0):(ne(),pe(Je,{key:1},[cr(bt(L),1)],64))],8,QH)}),128))]),eY,De(Is,{name:w.value,css:!!de.transitions},{default:pt(()=>{var L;return[E.value?(ne(),pe("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((L=te(l))==null?void 0:L.calendarDays)||void 0,onMouseleave:qe[1]||(qe[1]=O=>k.value=!1)},[(ne(!0),pe(Je,null,Ht(R.value,(O,z)=>(ne(),pe("div",{key:z,class:"dp__calendar_row",role:"row"},[de.weekNumbers?(ne(),pe("div",nY,[Me("div",iY,bt(Ee(O.days)),1)])):ke("",!0),(ne(!0),pe(Je,null,Ht(O.days,(J,he)=>{var Y,ue,D;return ne(),pe("div",{id:te(aO)(J.value),ref_for:!0,ref:$=>Z($,z,he),key:he+z,role:"gridcell",class:"dp__calendar_item","aria-selected":(J.classData.dp__active_date||J.classData.dp__range_start||J.classData.dp__range_start)??void 0,"aria-disabled":J.classData.dp__cell_disabled||void 0,"aria-label":(ue=(Y=te(l))==null?void 0:Y.day)==null?void 0:ue.call(Y,J),tabindex:"0","data-test":J.value,onClick:Cl($=>q($,J),["prevent"]),onKeydown:$=>te(ar)($,()=>de.$emit("select-date",J)),onMouseenter:$=>F(J,z,he),onMouseleave:$=>Q(J),onMousedown:$=>Ze(J),onMouseup:qe[0]||(qe[0]=$=>k.value=!1)},[Me("div",{class:ct(["dp__cell_inner",J.classData])},[de.$slots.day&&N.value(J)?Ue(de.$slots,"day",{key:0,day:+J.text,date:J.value}):ke("",!0),de.$slots.day?ke("",!0):(ne(),pe(Je,{key:1},[cr(bt(J.text),1)],64)),J.marker&&N.value(J)?(ne(),pe(Je,{key:2},[de.$slots.marker?Ue(de.$slots,"marker",{key:0,marker:J.marker,day:+J.text,date:J.value}):(ne(),pe("div",{key:1,class:ct(G.value(J.marker)),style:Vn(J.marker.color?{backgroundColor:J.marker.color}:{})},null,6))],64)):ke("",!0),ie.value(J.value)?(ne(),pe("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:x,class:"dp__marker_tooltip",style:Vn(y.value)},[(D=J.marker)!=null&&D.tooltip?(ne(),pe("div",{key:0,class:"dp__tooltip_content",onClick:ye},[(ne(!0),pe(Je,null,Ht(J.marker.tooltip,($,X)=>(ne(),pe("div",{key:X,class:"dp__tooltip_text"},[de.$slots["marker-tooltip"]?Ue(de.$slots,"marker-tooltip",{key:0,tooltip:$,day:J.value}):ke("",!0),de.$slots["marker-tooltip"]?ke("",!0):(ne(),pe(Je,{key:1},[Me("div",{class:"dp__tooltip_mark",style:Vn($.color?{backgroundColor:$.color}:{})},null,4),Me("div",null,bt($.text),1)],64))]))),128)),Me("div",{class:"dp__arrow_bottom_tp",style:Vn(C.value)},null,4)])):ke("",!0)],4)):ke("",!0)],2)],40,rY)}),128))]))),128))],40,tY)):ke("",!0)]}),_:3},8,["name","css"])],10,XH)],2)}}}),hC=t=>Array.isArray(t),aY=(t,e,n,i)=>{const r=Ae([]),s=Ae(new Date),a=Ae(),o=()=>ve(t.isTextInputDate),{modelValue:l,calendars:u,time:c,today:h}=Ch(t,e,o),{defaultedMultiCalendars:p,defaultedStartTime:g,defaultedRange:y,defaultedConfig:b,defaultedTz:T,propDates:E,defaultedMultiDates:w}=Sn(t),{validateMonthYearInRange:_,isDisabled:x,isDateRangeAllowed:C,checkMinMaxRange:k}=So(t),{updateTimeValues:R,getSetDateTime:M,setTime:I,assignStartTime:B,validateTime:U,disabledTimesConfig:G}=fO(t,c,l,i),ie=Se(()=>oe=>u.value[oe]?u.value[oe].month:0),W=Se(()=>oe=>u.value[oe]?u.value[oe].year:0),N=oe=>!b.value.keepViewOnOffsetClick||oe?!0:!a.value,j=(oe,Oe,ge,Pe=!1)=>{var Be,Zt;N(Pe)&&(u.value[oe]||(u.value[oe]={month:0,year:0}),u.value[oe].month=oC(Oe)?(Be=u.value[oe])==null?void 0:Be.month:Oe,u.value[oe].year=oC(ge)?(Zt=u.value[oe])==null?void 0:Zt.year:ge)},F=()=>{t.autoApply&&e("select-date")};Cn(()=>{t.shadow||(l.value||(qe(),g.value&&B(g.value)),ve(!0),t.focusStartDate&&t.startDate&&qe())});const Q=Se(()=>{var oe;return(oe=t.flow)!=null&&oe.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),_e=()=>{t.autoApply&&Q.value&&e("auto-apply")},ve=(oe=!1)=>{if(l.value)return Array.isArray(l.value)?(r.value=l.value,q(oe)):Z(l.value,oe);if(p.value.count&&oe&&!t.startDate)return K(Re(),oe)},xe=()=>Array.isArray(l.value)&&y.value.enabled?At(l.value[0])===At(l.value[1]??l.value[0]):!1,K=(oe=new Date,Oe=!1)=>{if((!p.value.count||!p.value.static||Oe)&&j(0,At(oe),ht(oe)),p.value.count&&(!p.value.solo||!l.value||xe()))for(let ge=1;ge<p.value.count;ge++){const Pe=sn(Re(),{month:ie.value(ge-1),year:W.value(ge-1)}),Be=kA(Pe,{months:1});u.value[ge]={month:At(Be),year:ht(Be)}}},Z=(oe,Oe)=>{K(oe),I("hours",ca(oe)),I("minutes",mo(oe)),I("seconds",tc(oe)),p.value.count&&Oe&&de()},P=oe=>{if(p.value.count){if(p.value.solo)return 0;const Oe=At(oe[0]),ge=At(oe[1]);return Math.abs(ge-Oe)<p.value.count?0:1}return 1},re=(oe,Oe)=>{oe[1]&&y.value.showLastInRange?K(oe[P(oe)],Oe):K(oe[0],Oe);const ge=(Pe,Be)=>[Pe(oe[0]),oe[1]?Pe(oe[1]):c[Be][1]];I("hours",ge(ca,"hours")),I("minutes",ge(mo,"minutes")),I("seconds",ge(tc,"seconds"))},Ee=(oe,Oe)=>{if((y.value.enabled||t.weekPicker)&&!w.value.enabled)return re(oe,Oe);if(w.value.enabled&&Oe){const ge=oe[oe.length-1];return Z(ge,Oe)}},q=oe=>{const Oe=l.value;Ee(Oe,oe),p.value.count&&p.value.solo&&de()},ye=(oe,Oe)=>{const ge=sn(Re(),{month:ie.value(Oe),year:W.value(Oe)}),Pe=oe<0?Qr(ge,1):ic(ge,1);_(At(Pe),ht(Pe),oe<0,t.preventMinMaxNavigation)&&(j(Oe,At(Pe),ht(Pe)),e("update-month-year",{instance:Oe,month:At(Pe),year:ht(Pe)}),p.value.count&&!p.value.solo&&Ze(Oe),n())},Ze=oe=>{for(let Oe=oe-1;Oe>=0;Oe--){const ge=ic(sn(Re(),{month:ie.value(Oe+1),year:W.value(Oe+1)}),1);j(Oe,At(ge),ht(ge))}for(let Oe=oe+1;Oe<=p.value.count-1;Oe++){const ge=Qr(sn(Re(),{month:ie.value(Oe-1),year:W.value(Oe-1)}),1);j(Oe,At(ge),ht(ge))}},de=()=>{if(Array.isArray(l.value)&&l.value.length===2){const oe=Re(Re(l.value[1]?l.value[1]:Qr(l.value[0],1))),[Oe,ge]=[At(l.value[0]),ht(l.value[0])],[Pe,Be]=[At(l.value[1]),ht(l.value[1])];(Oe!==Pe||Oe===Pe&&ge!==Be)&&p.value.solo&&j(1,At(oe),ht(oe))}else l.value&&!Array.isArray(l.value)&&(j(0,At(l.value),ht(l.value)),K(Re()))},qe=()=>{t.startDate&&(j(0,At(Re(t.startDate)),ht(Re(t.startDate))),p.value.count&&Ze(0))},H=(oe,Oe)=>{if(t.monthChangeOnScroll){const ge=new Date().getTime()-s.value.getTime(),Pe=Math.abs(oe.deltaY);let Be=500;Pe>1&&(Be=100),Pe>100&&(Be=0),ge>Be&&(s.value=new Date,ye(t.monthChangeOnScroll!=="inverse"?-oe.deltaY:oe.deltaY,Oe))}},L=(oe,Oe,ge=!1)=>{t.monthChangeOnArrows&&t.vertical===ge&&O(oe,Oe)},O=(oe,Oe)=>{ye(oe==="right"?-1:1,Oe)},z=oe=>{if(E.value.markers)return jp(oe.value,E.value.markers)},J=(oe,Oe)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[oe==0,!0];case"fair":return[oe==0||Oe>oe,!0];case"append":return[!1,!1];default:return[!1,!1]}},he=(oe,Oe,ge,Pe)=>{if(t.sixWeeks&&oe.length<6){const Be=6-oe.length,Zt=(Oe.getDay()+7-Pe)%7,hn=6-(ge.getDay()+7-Pe)%7,[Cr,Oi]=J(Zt,hn);for(let Dn=1;Dn<=Be;Dn++)if(Oi?!!(Dn%2)==Cr:Cr){const Jt=oe[0].days[0],ci=Y(Kr(Jt.value,-7),At(Oe));oe.unshift({days:ci})}else{const Jt=oe[oe.length-1],ci=Jt.days[Jt.days.length-1],Zn=Y(Kr(ci.value,1),At(Oe));oe.push({days:Zn})}}return oe},Y=(oe,Oe)=>{const ge=Re(oe),Pe=[];for(let Be=0;Be<7;Be++){const Zt=Kr(ge,Be),hn=At(Zt)!==Oe;Pe.push({text:t.hideOffsetDates&&hn?"":Zt.getDate(),value:Zt,current:!hn,classData:{}})}return Pe},ue=(oe,Oe)=>{const ge=[],Pe=new Date(Oe,oe),Be=new Date(Oe,oe+1,0),Zt=t.weekStart,hn=rs(Pe,{weekStartsOn:Zt}),Cr=Oi=>{const Dn=Y(Oi,oe);if(ge.push({days:Dn}),!ge[ge.length-1].days.some(Jt=>Ot(Xi(Jt.value),Xi(Be)))){const Jt=Kr(Oi,7);Cr(Jt)}};return Cr(hn),he(ge,Pe,Be,Zt)},D=oe=>{const Oe=oo(Re(oe.value),c.hours,c.minutes,ce());e("date-update",Oe),w.value.enabled?db(Oe,l,w.value.limit):l.value=Oe,i(),bi().then(()=>{_e()})},$=oe=>y.value.noDisabledRange?tO(r.value[0],oe).some(Oe=>x(Oe)):!1,X=()=>{r.value=l.value?l.value.slice():[],r.value.length===2&&!(y.value.fixedStart||y.value.fixedEnd)&&(r.value=[])},se=(oe,Oe)=>{const ge=[Re(oe.value),Kr(Re(oe.value),+y.value.autoRange)];C(ge)?(Oe&&Ie(oe.value),r.value=ge):e("invalid-date",oe.value)},Ie=oe=>{const Oe=At(Re(oe)),ge=ht(Re(oe));if(j(0,Oe,ge),p.value.count>0)for(let Pe=1;Pe<p.value.count;Pe++){const Be=UU(sn(Re(oe),{year:ie.value(Pe-1),month:W.value(Pe-1)}));j(Pe,Be.month,Be.year)}},we=oe=>{if($(oe.value)||!k(oe.value,l.value,y.value.fixedStart?0:1))return e("invalid-date",oe.value);r.value=cO(Re(oe.value),l,e,y)},ae=(oe,Oe)=>{if(X(),y.value.autoRange)return se(oe,Oe);if(y.value.fixedStart||y.value.fixedEnd)return we(oe);r.value[0]?k(Re(oe.value),l.value)&&!$(oe.value)?In(Re(oe.value),Re(r.value[0]))?(r.value.unshift(Re(oe.value)),e("range-end",r.value[0])):(r.value[1]=Re(oe.value),e("range-end",r.value[1])):(t.autoApply&&e("auto-apply-invalid",oe.value),e("invalid-date",oe.value)):(r.value[0]=Re(oe.value),e("range-start",r.value[0]))},ce=(oe=!0)=>t.enableSeconds?Array.isArray(c.seconds)?oe?c.seconds[0]:c.seconds[1]:c.seconds:0,Le=oe=>{r.value[oe]=oo(r.value[oe],c.hours[oe],c.minutes[oe],ce(oe!==1))},je=()=>{var oe,Oe;r.value[0]&&r.value[1]&&+((oe=r.value)==null?void 0:oe[0])>+((Oe=r.value)==null?void 0:Oe[1])&&(r.value.reverse(),e("range-start",r.value[0]),e("range-end",r.value[1]))},Et=()=>{r.value.length&&(r.value[0]&&!r.value[1]?Le(0):(Le(0),Le(1),i()),je(),l.value=r.value.slice(),Zm(r.value,e,t.autoApply,t.modelAuto))},nn=(oe,Oe=!1)=>{if(x(oe.value)||!oe.current&&t.hideOffsetDates)return e("invalid-date",oe.value);if(a.value=JSON.parse(JSON.stringify(oe)),!y.value.enabled)return D(oe);hC(c.hours)&&hC(c.minutes)&&!w.value.enabled&&(ae(oe,Oe),Et())},bn=(oe,Oe)=>{var ge;j(oe,Oe.month,Oe.year,!0),p.value.count&&!p.value.solo&&Ze(oe),e("update-month-year",{instance:oe,month:Oe.month,year:Oe.year}),n(p.value.solo?oe:void 0);const Pe=(ge=t.flow)!=null&&ge.length?t.flow[t.flowStep]:void 0;!Oe.fromNav&&(Pe===Bi.month||Pe===Bi.year)&&i()},Wt=(oe,Oe)=>{uO({value:oe,modelValue:l,range:y.value.enabled,timezone:Oe?void 0:T.value.timezone}),F(),t.multiCalendars&&bi().then(()=>ve(!0))},Ei=()=>{const oe=ab(Re(),T.value);y.value.enabled?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=In(oe,l.value[0])?[oe,l.value[0]]:[l.value[0],oe]:l.value=[oe]:l.value=oe,F()},Ai=()=>{if(Array.isArray(l.value))if(w.value.enabled){const oe=Kt();l.value[l.value.length-1]=M(oe)}else l.value=l.value.map((oe,Oe)=>oe&&M(oe,Oe));else l.value=M(l.value);e("time-update")},Kt=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:u,modelValue:l,month:ie,year:W,time:c,disabledTimesConfig:G,today:h,validateTime:U,getCalendarDays:ue,getMarker:z,handleScroll:H,handleSwipe:O,handleArrow:L,selectDate:nn,updateMonthYear:bn,presetDate:Wt,selectCurrentDate:Ei,updateTime:(oe,Oe=!0,ge=!1)=>{R(oe,Oe,ge,Ai)},assignMonthAndYear:K}},oY={key:0},lY=vn({__name:"DatePicker",props:{...ls},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=t,{calendars:s,month:a,year:o,modelValue:l,time:u,disabledTimesConfig:c,today:h,validateTime:p,getCalendarDays:g,getMarker:y,handleArrow:b,handleScroll:T,handleSwipe:E,selectDate:w,updateMonthYear:_,presetDate:x,selectCurrentDate:C,updateTime:k,assignMonthAndYear:R}=aY(r,i,xe,K),M=ha(),{setHoverDate:I,getDayClassData:B,clearHoverDate:U}=xY(l,r),{defaultedMultiCalendars:G}=Sn(r),ie=Ae([]),W=Ae([]),N=Ae(null),j=br(M,"calendar"),F=br(M,"monthYear"),Q=br(M,"timePicker"),_e=H=>{r.shadow||i("mount",H)};xn(s,()=>{r.shadow||setTimeout(()=>{i("recalculate-position")},0)},{deep:!0}),xn(G,(H,L)=>{H.count-L.count>0&&R()},{deep:!0});const ve=Se(()=>H=>g(a.value(H),o.value(H)).map(L=>({...L,days:L.days.map(O=>(O.marker=y(O),O.classData=B(O),O))})));function xe(H){var L;H||H===0?(L=W.value[H])==null||L.triggerTransition(a.value(H),o.value(H)):W.value.forEach((O,z)=>O.triggerTransition(a.value(z),o.value(z)))}function K(){i("update-flow-step")}const Z=(H,L=!1)=>{w(H,L),r.spaceConfirm&&i("select-date")},P=(H,L,O=0)=>{var z;(z=ie.value[O])==null||z.toggleMonthPicker(H,L)},re=(H,L,O=0)=>{var z;(z=ie.value[O])==null||z.toggleYearPicker(H,L)},Ee=(H,L,O)=>{var z;(z=N.value)==null||z.toggleTimePicker(H,L,O)},q=(H,L)=>{var O;if(!r.range){const z=l.value?l.value:h,J=L?new Date(L):z,he=H?rs(J,{weekStartsOn:1}):LA(J,{weekStartsOn:1});w({value:he,current:At(J)===a.value(0),text:"",classData:{}}),(O=document.getElementById(aO(he)))==null||O.focus()}},ye=H=>{var L;(L=ie.value[0])==null||L.handleMonthYearChange(H,!0)},Ze=H=>{_(0,{month:a.value(0),year:o.value(0)+(H?1:-1),fromNav:!0})},de=(H,L)=>{H===Bi.time&&i(`time-picker-${L?"open":"close"}`),i("overlay-toggle",{open:L,overlay:H})},qe=H=>{i("overlay-toggle",{open:!1,overlay:H}),i("focus-menu")};return e({clearHoverDate:U,presetDate:x,selectCurrentDate:C,toggleMonthPicker:P,toggleYearPicker:re,toggleTimePicker:Ee,handleArrow:b,updateMonthYear:_,getSidebarProps:()=>({modelValue:l,month:a,year:o,time:u,updateTime:k,updateMonthYear:_,selectDate:w,presetDate:x}),changeMonth:ye,changeYear:Ze,selectWeekDate:q}),(H,L)=>(ne(),pe(Je,null,[De(Xm,{"multi-calendars":te(G).count,collapse:H.collapse},{default:pt(({instance:O,index:z})=>[H.disableMonthYearSelect?ke("",!0):(ne(),tt(qH,Gn({key:0,ref:J=>{J&&(ie.value[z]=J)},months:te(qA)(H.formatLocale,H.locale,H.monthNameFormat),years:te(ob)(H.yearRange,H.locale,H.reverseYears),month:te(a)(O),year:te(o)(O),instance:O},H.$props,{onMount:L[0]||(L[0]=J=>_e(te(yl).header)),onResetFlow:L[1]||(L[1]=J=>H.$emit("reset-flow")),onUpdateMonthYear:J=>te(_)(O,J),onOverlayClosed:qe,onOverlayOpened:L[2]||(L[2]=J=>H.$emit("overlay-toggle",{open:!0,overlay:J}))}),_i({_:2},[Ht(te(F),(J,he)=>({name:J,fn:pt(Y=>[Ue(H.$slots,J,qn(ki(Y)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),De(sY,Gn({ref:J=>{J&&(W.value[z]=J)},"mapped-dates":ve.value(O),month:te(a)(O),year:te(o)(O),instance:O},H.$props,{onSelectDate:J=>te(w)(J,O!==1),onHandleSpace:J=>Z(J,O!==1),onSetHoverDate:L[3]||(L[3]=J=>te(I)(J)),onHandleScroll:J=>te(T)(J,O),onHandleSwipe:J=>te(E)(J,O),onMount:L[4]||(L[4]=J=>_e(te(yl).calendar)),onResetFlow:L[5]||(L[5]=J=>H.$emit("reset-flow")),onTooltipOpen:L[6]||(L[6]=J=>H.$emit("tooltip-open",J)),onTooltipClose:L[7]||(L[7]=J=>H.$emit("tooltip-close",J))}),_i({_:2},[Ht(te(j),(J,he)=>({name:J,fn:pt(Y=>[Ue(H.$slots,J,qn(ki({...Y})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),H.enableTimePicker?(ne(),pe("div",oY,[H.$slots["time-picker"]?Ue(H.$slots,"time-picker",qn(Gn({key:0},{time:te(u),updateTime:te(k)}))):(ne(),tt(hO,Gn({key:1,ref_key:"timePickerRef",ref:N},H.$props,{hours:te(u).hours,minutes:te(u).minutes,seconds:te(u).seconds,"internal-model-value":H.internalModelValue,"disabled-times-config":te(c),"validate-time":te(p),onMount:L[8]||(L[8]=O=>_e(te(yl).timePicker)),"onUpdate:hours":L[9]||(L[9]=O=>te(k)(O)),"onUpdate:minutes":L[10]||(L[10]=O=>te(k)(O,!1)),"onUpdate:seconds":L[11]||(L[11]=O=>te(k)(O,!1,!0)),onResetFlow:L[12]||(L[12]=O=>H.$emit("reset-flow")),onOverlayClosed:L[13]||(L[13]=O=>de(O,!1)),onOverlayOpened:L[14]||(L[14]=O=>de(O,!0)),onAmPmChange:L[15]||(L[15]=O=>H.$emit("am-pm-change",O))}),_i({_:2},[Ht(te(Q),(O,z)=>({name:O,fn:pt(J=>[Ue(H.$slots,O,qn(ki(J)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ke("",!0)],64))}}),uY=(t,e)=>{const n=Ae(),{defaultedMultiCalendars:i,defaultedConfig:r,defaultedHighlight:s,defaultedRange:a,propDates:o,defaultedFilters:l,defaultedMultiDates:u}=Sn(t),{modelValue:c,year:h,month:p,calendars:g}=Ch(t,e),{isDisabled:y}=So(t),{selectYear:b,groupedYears:T,showYearPicker:E,isDisabled:w,toggleYearPicker:_,handleYearSelect:x,handleYear:C}=dO({modelValue:c,multiCalendars:i,range:a,highlight:s,calendars:g,propDates:o,month:p,year:h,filters:l,props:t,emit:e}),k=(N,j)=>[N,j].map(F=>ks(F,"MMMM",{locale:t.formatLocale})).join("-"),R=Se(()=>N=>c.value?Array.isArray(c.value)?c.value.some(j=>rC(N,j)):rC(c.value,N):!1),M=N=>{if(a.value.enabled){if(Array.isArray(c.value)){const j=Ot(N,c.value[0])||Ot(N,c.value[1]);return Km(c.value,n.value,N)&&!j}return!1}return!1},I=(N,j)=>N.quarter===Jx(j)&&N.year===ht(j),B=N=>typeof s.value=="function"?s.value({quarter:Jx(N),year:ht(N)}):!!s.value.quarters.find(j=>I(j,N)),U=Se(()=>N=>{const j=sn(new Date,{year:h.value(N)});return Lz({start:Yd(j),end:DA(j)}).map(F=>{const Q=ol(F),_e=Qx(F),ve=y(F),xe=M(Q),K=B(Q);return{text:k(Q,_e),value:Q,active:R.value(Q),highlighted:K,disabled:ve,isBetween:xe}})}),G=N=>{db(N,c,u.value.limit),e("auto-apply",!0)},ie=N=>{c.value=hb(c,N,e),Zm(c.value,e,t.autoApply,t.modelAuto)},W=N=>{c.value=N,e("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:i,groupedYears:T,year:h,isDisabled:w,quarters:U,showYearPicker:E,modelValue:c,setHoverDate:N=>{n.value=N},selectYear:b,selectQuarter:(N,j,F)=>{if(!F)return g.value[j].month=At(Qx(N)),u.value.enabled?G(N):a.value.enabled?ie(N):W(N)},toggleYearPicker:_,handleYearSelect:x,handleYear:C}},cY={class:"dp--quarter-items"},dY=["data-test","disabled","onClick","onMouseover"],hY=vn({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ls},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const i=n,r=t,s=ha(),a=br(s,"yearMode"),{defaultedMultiCalendars:o,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:p,modelValue:g,showYearPicker:y,setHoverDate:b,selectQuarter:T,toggleYearPicker:E,handleYearSelect:w,handleYear:_}=uY(r,i);return e({getSidebarProps:()=>({modelValue:g,year:c,selectQuarter:T,handleYearSelect:w,handleYear:_})}),(x,C)=>(ne(),tt(Xm,{"multi-calendars":te(o).count,collapse:x.collapse,stretch:""},{default:pt(({instance:k})=>[Me("div",{class:"dp-quarter-picker-wrap",style:Vn({minHeight:`${te(l).modeHeight}px`})},[x.$slots["top-extra"]?Ue(x.$slots,"top-extra",{key:0,value:x.internalModelValue}):ke("",!0),Me("div",null,[De(lO,Gn(x.$props,{items:te(u)(k),instance:k,"show-year-picker":te(y)[k],year:te(c)(k),"is-disabled":R=>te(h)(k,R),onHandleYear:R=>te(_)(k,R),onYearSelect:R=>te(w)(R,k),onToggleYearPicker:R=>te(E)(k,R==null?void 0:R.flow,R==null?void 0:R.show)}),_i({_:2},[Ht(te(a),(R,M)=>({name:R,fn:pt(I=>[Ue(x.$slots,R,qn(ki(I)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Me("div",cY,[(ne(!0),pe(Je,null,Ht(te(p)(k),(R,M)=>(ne(),pe("div",{key:M},[Me("button",{type:"button",class:ct(["dp--qr-btn",{"dp--qr-btn-active":R.active,"dp--qr-btn-between":R.isBetween,"dp--qr-btn-disabled":R.disabled,"dp--highlighted":R.highlighted}]),"data-test":R.value,disabled:R.disabled,onClick:I=>te(T)(R.value,k,R.disabled),onMouseover:I=>te(b)(R.value)},[x.$slots.quarter?Ue(x.$slots,"quarter",{key:0,value:R.value,text:R.text}):(ne(),pe(Je,{key:1},[cr(bt(R.text),1)],64))],42,dY)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),fY=["id","aria-label"],pY={key:0,class:"dp--menu-load-container"},mY=Me("span",{class:"dp--menu-loader"},null,-1),gY=[mY],yY={key:0,class:"dp__sidebar_left"},_Y=["data-test","onClick","onKeydown"],vY={key:2,class:"dp__sidebar_right"},bY={key:3,class:"dp__action_extra"},fC=vn({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...qm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=t,s=Ae(null),a=Se(()=>{const{openOnTop:Y,...ue}=r;return{...ue,flowStep:I.value,collapse:r.collapse,noOverlayFocus:r.noOverlayFocus,menuWrapRef:s.value}}),{setMenuFocused:o,setShiftKey:l,control:u}=oO(),c=ha(),{defaultedTextInput:h,defaultedInline:p,defaultedConfig:g,defaultedUI:y}=Sn(r),b=Ae(null),T=Ae(0),E=Ae(null),w=Ae(!1),_=Ae(null);Cn(()=>{if(!r.shadow){w.value=!0,x(),window.addEventListener("resize",x);const Y=ri(s);if(Y&&!h.value.enabled&&!p.value.enabled&&(o(!0),j()),Y){const ue=D=>{g.value.allowPreventDefault&&D.preventDefault(),ao(D,g.value,!0)};Y.addEventListener("pointerdown",ue),Y.addEventListener("mousedown",ue)}}}),Rs(()=>{window.removeEventListener("resize",x)});const x=()=>{const Y=ri(E);Y&&(T.value=Y.getBoundingClientRect().width)},{arrowRight:C,arrowLeft:k,arrowDown:R,arrowUp:M}=Co(),{flowStep:I,updateFlowStep:B,childMount:U,resetFlow:G,handleFlow:ie}=CY(r,i,_),W=Se(()=>r.monthPicker?xH:r.yearPicker?SH:r.timePicker?zH:r.quarterPicker?hY:lY),N=Se(()=>{var Y;if(g.value.arrowLeft)return g.value.arrowLeft;const ue=(Y=s.value)==null?void 0:Y.getBoundingClientRect(),D=r.getInputRect();return D.width<T.value&&D.left<=((ue==null?void 0:ue.left)??0)?`${D.width/2}px`:"50%"}),j=()=>{const Y=ri(s);Y&&Y.focus({preventScroll:!0})},F=Se(()=>{var Y;return((Y=_.value)==null?void 0:Y.getSidebarProps())||{}}),Q=()=>{r.openOnTop&&i("recalculate-position")},_e=br(c,"action"),ve=Se(()=>r.monthPicker||r.yearPicker?br(c,"monthYear"):r.timePicker?br(c,"timePicker"):br(c,"shared")),xe=Se(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),K=Se(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),Z=Se(()=>({dp__menu:!0,dp__menu_index:!p.value.enabled,dp__relative:p.value.enabled,[r.menuClassName]:!!r.menuClassName,...y.value.menu??{}})),P=Y=>{ao(Y,g.value,!0)},re=()=>{r.escClose&&i("close-picker")},Ee=Y=>{if(r.arrowNavigation){if(Y===Yi.up)return M();if(Y===Yi.down)return R();if(Y===Yi.left)return k();if(Y===Yi.right)return C()}else Y===Yi.left||Y===Yi.up?qe("handleArrow",Yi.left,0,Y===Yi.up):qe("handleArrow",Yi.right,0,Y===Yi.down)},q=Y=>{l(Y.shiftKey),!r.disableMonthYearSelect&&Y.code===wn.tab&&Y.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(Y.preventDefault(),ao(Y,g.value,!0),i("close-picker"))},ye=()=>{j(),i("time-picker-close")},Ze=Y=>{var ue,D,$;(ue=_.value)==null||ue.toggleTimePicker(!1,!1),(D=_.value)==null||D.toggleMonthPicker(!1,!1,Y),($=_.value)==null||$.toggleYearPicker(!1,!1,Y)},de=(Y,ue=0)=>{var D,$,X;return Y==="month"?(D=_.value)==null?void 0:D.toggleMonthPicker(!1,!0,ue):Y==="year"?($=_.value)==null?void 0:$.toggleYearPicker(!1,!0,ue):Y==="time"?(X=_.value)==null?void 0:X.toggleTimePicker(!0,!1):Ze(ue)},qe=(Y,...ue)=>{var D,$;(D=_.value)!=null&&D[Y]&&(($=_.value)==null||$[Y](...ue))},H=()=>{qe("selectCurrentDate")},L=(Y,ue)=>{qe("presetDate",Y,ue)},O=()=>{qe("clearHoverDate")},z=(Y,ue)=>{qe("updateMonthYear",Y,ue)},J=(Y,ue)=>{Y.preventDefault(),Ee(ue)},he=Y=>{var ue;if(q(Y),Y.key===wn.home||Y.key===wn.end)return qe("selectWeekDate",Y.key===wn.home,Y.target.getAttribute("id"));switch((Y.key===wn.pageUp||Y.key===wn.pageDown)&&(Y.shiftKey?qe("changeYear",Y.key===wn.pageUp):qe("changeMonth",Y.key===wn.pageUp),Y.target.getAttribute("id")&&((ue=s.value)==null||ue.focus({preventScroll:!0}))),Y.key){case wn.esc:return re();case wn.arrowLeft:return J(Y,Yi.left);case wn.arrowRight:return J(Y,Yi.right);case wn.arrowUp:return J(Y,Yi.up);case wn.arrowDown:return J(Y,Yi.down);default:return}};return e({updateMonthYear:z,switchView:de,handleFlow:ie}),(Y,ue)=>{var D,$,X;return ne(),pe("div",{id:Y.uid?`dp-menu-${Y.uid}`:void 0,ref_key:"dpMenuRef",ref:s,tabindex:"0",role:"dialog","aria-label":(D=Y.ariaLabels)==null?void 0:D.menu,class:ct(Z.value),style:Vn({"--dp-arrow-left":N.value}),onMouseleave:O,onClick:P,onKeydown:he},[(Y.disabled||Y.readonly)&&te(p).enabled||Y.loading?(ne(),pe("div",{key:0,class:ct(K.value)},[Y.loading?(ne(),pe("div",pY,gY)):ke("",!0)],2)):ke("",!0),!te(p).enabled&&!Y.teleportCenter?(ne(),pe("div",{key:1,class:ct(xe.value)},null,2)):ke("",!0),Me("div",{ref_key:"innerMenuRef",ref:E,class:ct({dp__menu_content_wrapper:(($=Y.presetDates)==null?void 0:$.length)||!!Y.$slots["left-sidebar"]||!!Y.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((X=Y.presetDates)==null?void 0:X.length)||!!Y.$slots["left-sidebar"]||!!Y.$slots["right-sidebar"])}),style:Vn({"--dp-menu-width":`${T.value}px`})},[Y.$slots["left-sidebar"]?(ne(),pe("div",yY,[Ue(Y.$slots,"left-sidebar",qn(ki(F.value)))])):ke("",!0),Y.presetDates.length?(ne(),pe("div",{key:1,class:ct({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(ne(!0),pe(Je,null,Ht(Y.presetDates,(se,Ie)=>(ne(),pe(Je,{key:Ie},[se.slot?Ue(Y.$slots,se.slot,{key:0,presetDate:L,label:se.label,value:se.value}):(ne(),pe("button",{key:1,type:"button",style:Vn(se.style||{}),class:ct(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":se.testId??void 0,onClick:Cl(we=>L(se.value,se.noTz),["prevent"]),onKeydown:we=>te(ar)(we,()=>L(se.value,se.noTz),!0)},bt(se.label),47,_Y))],64))),128))],2)):ke("",!0),Me("div",{ref_key:"calendarWrapperRef",ref:b,class:"dp__instance_calendar",role:"document"},[(ne(),tt(lc(W.value),Gn({ref_key:"dynCmpRef",ref:_},a.value,{"flow-step":te(I),onMount:te(U),onUpdateFlowStep:te(B),onResetFlow:te(G),onFocusMenu:j,onSelectDate:ue[0]||(ue[0]=se=>Y.$emit("select-date")),onDateUpdate:ue[1]||(ue[1]=se=>Y.$emit("date-update",se)),onTooltipOpen:ue[2]||(ue[2]=se=>Y.$emit("tooltip-open",se)),onTooltipClose:ue[3]||(ue[3]=se=>Y.$emit("tooltip-close",se)),onAutoApply:ue[4]||(ue[4]=se=>Y.$emit("auto-apply",se)),onRangeStart:ue[5]||(ue[5]=se=>Y.$emit("range-start",se)),onRangeEnd:ue[6]||(ue[6]=se=>Y.$emit("range-end",se)),onInvalidFixedRange:ue[7]||(ue[7]=se=>Y.$emit("invalid-fixed-range",se)),onTimeUpdate:ue[8]||(ue[8]=se=>Y.$emit("time-update")),onAmPmChange:ue[9]||(ue[9]=se=>Y.$emit("am-pm-change",se)),onTimePickerOpen:ue[10]||(ue[10]=se=>Y.$emit("time-picker-open",se)),onTimePickerClose:ye,onRecalculatePosition:Q,onUpdateMonthYear:ue[11]||(ue[11]=se=>Y.$emit("update-month-year",se)),onAutoApplyInvalid:ue[12]||(ue[12]=se=>Y.$emit("auto-apply-invalid",se)),onInvalidDate:ue[13]||(ue[13]=se=>Y.$emit("invalid-date",se)),onOverlayToggle:ue[14]||(ue[14]=se=>Y.$emit("overlay-toggle",se)),"onUpdate:internalModelValue":ue[15]||(ue[15]=se=>Y.$emit("update:internal-model-value",se))}),_i({_:2},[Ht(ve.value,(se,Ie)=>({name:se,fn:pt(we=>[Ue(Y.$slots,se,qn(ki({...we})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),Y.$slots["right-sidebar"]?(ne(),pe("div",vY,[Ue(Y.$slots,"right-sidebar",qn(ki(F.value)))])):ke("",!0),Y.$slots["action-extra"]?(ne(),pe("div",bY,[Y.$slots["action-extra"]?Ue(Y.$slots,"action-extra",{key:0,selectCurrentDate:H}):ke("",!0)])):ke("",!0)],6),!Y.autoApply||te(g).keepActionRow?(ne(),tt(gH,Gn({key:2,"menu-mount":w.value},a.value,{"calendar-width":T.value,onClosePicker:ue[16]||(ue[16]=se=>Y.$emit("close-picker")),onSelectDate:ue[17]||(ue[17]=se=>Y.$emit("select-date")),onInvalidSelect:ue[18]||(ue[18]=se=>Y.$emit("invalid-select")),onSelectNow:H}),_i({_:2},[Ht(te(_e),(se,Ie)=>({name:se,fn:pt(we=>[Ue(Y.$slots,se,qn(ki({...we})))])}))]),1040,["menu-mount","calendar-width"])):ke("",!0)],46,fY)}}});var bu=(t=>(t.center="center",t.left="left",t.right="right",t))(bu||{});const wY=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:i,inline:r,emit:s,props:a,slots:o})=>{const l=Ae({}),u=Ae(!1),c=Ae({top:"0",left:"0"}),h=Ae(!1),p=wl(a,"teleportCenter");xn(p,()=>{c.value=JSON.parse(JSON.stringify({})),x()});const g=N=>{if(a.teleport){const j=N.getBoundingClientRect();return{left:j.left+window.scrollX,top:j.top+window.scrollY}}return{top:0,left:0}},y=(N,j)=>{c.value.left=`${N+j-l.value.width}px`},b=N=>{c.value.left=`${N}px`},T=(N,j)=>{a.position===bu.left&&b(N),a.position===bu.right&&y(N,j),a.position===bu.center&&(c.value.left=`${N+j/2-l.value.width/2}px`)},E=N=>{const{width:j,height:F}=N.getBoundingClientRect(),{top:Q,left:_e}=a.altPosition?a.altPosition(N):g(N);return{top:+Q,left:+_e,width:j,height:F}},w=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},_=()=>{const N=ri(n),{top:j,left:F,transform:Q}=a.altPosition(N);c.value={top:`${j}px`,left:`${F}px`,transform:Q??""}},x=(N=!0)=>{var j;if(!r.value.enabled){if(p.value)return w();if(a.altPosition!==null)return _();if(N){const F=a.teleport?(j=e.value)==null?void 0:j.$el:t.value;F&&(l.value=F.getBoundingClientRect()),s("recalculate-position")}return U()}},C=({inputEl:N,left:j,width:F})=>{window.screen.width>768&&!u.value&&T(j,F),M(N)},k=N=>{const{top:j,left:F,height:Q,width:_e}=E(N);c.value.top=`${Q+j+ +a.offset}px`,h.value=!1,u.value||(c.value.left=`${F+_e/2-l.value.width/2}px`),C({inputEl:N,left:F,width:_e})},R=N=>{const{top:j,left:F,width:Q}=E(N);c.value.top=`${j-+a.offset-l.value.height}px`,h.value=!0,C({inputEl:N,left:F,width:Q})},M=N=>{if(a.autoPosition){const{left:j,width:F}=E(N),{left:Q,right:_e}=l.value;if(!u.value){if(Math.abs(Q)!==Math.abs(_e)){if(Q<=0)return u.value=!0,b(j);if(_e>=document.documentElement.clientWidth)return u.value=!0,y(j,F)}return T(j,F)}}},I=()=>{const N=ri(n);if(N){const{height:j}=l.value,{top:F,height:Q}=N.getBoundingClientRect(),_e=window.innerHeight-F-Q,ve=F;return j<=_e?Jo.bottom:j>_e&&j<=ve?Jo.top:_e>=ve?Jo.bottom:Jo.top}return Jo.bottom},B=N=>I()===Jo.bottom?k(N):R(N),U=()=>{const N=ri(n);if(N)return a.autoPosition?B(N):k(N)},G=function(N){if(N){const j=N.scrollHeight>N.clientHeight,F=window.getComputedStyle(N).overflowY.indexOf("hidden")!==-1;return j&&!F}return!0},ie=function(N){return!N||N===document.body||N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:G(N)?N:ie(N.assignedSlot?N.assignedSlot.parentNode:N.parentNode)},W=N=>{if(N)switch(a.position){case bu.left:return{left:0,transform:"translateX(0)"};case bu.right:return{left:`${N.width}px`,transform:"translateX(-100%)"};default:return{left:`${N.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:x,getScrollableParent:ie,shadowRender:(N,j)=>{var F,Q,_e;const ve=document.createElement("div"),xe=(F=ri(n))==null?void 0:F.getBoundingClientRect();ve.setAttribute("id","dp--temp-container");const K=(Q=i.value)!=null&&Q.clientWidth?i.value:document.body;K.append(ve);const Z=W(xe),P=uc(N,{...j,shadow:!0,style:{opacity:0,position:"absolute",...Z}},Object.fromEntries(Object.keys(o).filter(re=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(re)).map(re=>[re,o[re]])));zu(P,ve),l.value=(_e=P.el)==null?void 0:_e.getBoundingClientRect(),zu(null,ve),K.removeChild(ve)}}},Fa=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]}],EY=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],TY={all:()=>Fa,monthYear:()=>Fa.filter(t=>t.use.includes("month-year")),input:()=>EY,timePicker:()=>Fa.filter(t=>t.use.includes("time")),action:()=>Fa.filter(t=>t.use.includes("action")),calendar:()=>Fa.filter(t=>t.use.includes("calendar")),menu:()=>Fa.filter(t=>t.use.includes("menu")),shared:()=>Fa.filter(t=>t.use.includes("shared")),yearMode:()=>Fa.filter(t=>t.use.includes("year-mode"))},br=(t,e,n)=>{const i=[];return TY[e]().forEach(r=>{t[r.name]&&i.push(r.name)}),n!=null&&n.length&&n.forEach(r=>{r.slot&&i.push(r.slot)}),i},xh=t=>{const e=Se(()=>i=>t.value?i?t.value.open:t.value.close:""),n=Se(()=>i=>t.value?i?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Ch=(t,e,n)=>{const{defaultedRange:i,defaultedTz:r}=Sn(t),s=Re(Er(Re(),r.value.timezone)),a=Ae([{month:At(s),year:ht(s)}]),o=p=>{const g={hours:ca(s),minutes:mo(s),seconds:0};return i.value.enabled?[g[p],g[p]]:g[p]},l=Nr({hours:o("hours"),minutes:o("minutes"),seconds:o("seconds")});xn(i,(p,g)=>{p.enabled!==g.enabled&&(l.hours=o("hours"),l.minutes=o("minutes"),l.seconds=o("seconds"))},{deep:!0});const u=Se({get:()=>t.internalModelValue,set:p=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",p)}}),c=Se(()=>p=>a.value[p]?a.value[p].month:0),h=Se(()=>p=>a.value[p]?a.value[p].year:0);return xn(u,(p,g)=>{n&&JSON.stringify(p??{})!==JSON.stringify(g??{})&&n()},{deep:!0}),{calendars:a,time:l,modelValue:u,month:c,year:h,today:s}},xY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:i,defaultedUI:r,defaultedHighlight:s,defaultedTz:a,propDates:o,defaultedRange:l}=Sn(e),{isDisabled:u}=So(e),c=Ae(null),h=Ae(Er(new Date,a.value.timezone)),p=P=>{!P.current&&e.hideOffsetDates||(c.value=P.value)},g=()=>{c.value=null},y=P=>Array.isArray(t.value)&&l.value.enabled&&t.value[0]&&c.value?P?jn(c.value,t.value[0]):In(c.value,t.value[0]):!0,b=(P,re)=>{const Ee=()=>t.value?re?t.value[0]||null:t.value[1]:null,q=t.value&&Array.isArray(t.value)?Ee():null;return Ot(Re(P.value),q)},T=P=>{const re=Array.isArray(t.value)?t.value[0]:null;return P?!In(c.value??null,re):!0},E=(P,re=!0)=>(l.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!P.current?!1:Ot(Re(P.value),t.value[re?0:1]):l.value.enabled?b(P,re)&&T(re)||Ot(P.value,Array.isArray(t.value)?t.value[0]:null)&&y(re):!1,w=(P,re)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const Ee=Ot(P.value,c.value);return re?jn(t.value[0],P.value)&&Ee:In(t.value[0],P.value)&&Ee}return!1},_=P=>!t.value||e.hideOffsetDates&&!P.current?!1:l.value.enabled?e.modelAuto&&Array.isArray(t.value)?Ot(P.value,t.value[0]?t.value[0]:h.value):!1:i.value.enabled&&Array.isArray(t.value)?t.value.some(re=>Ot(re,P.value)):Ot(P.value,t.value?t.value:h.value),x=P=>{if(l.value.autoRange||e.weekPicker){if(c.value){if(e.hideOffsetDates&&!P.current)return!1;const re=Kr(c.value,+l.value.autoRange),Ee=qs(Re(c.value),e.weekStart);return e.weekPicker?Ot(Ee[1],Re(P.value)):Ot(re,Re(P.value))}return!1}return!1},C=P=>{if(l.value.autoRange||e.weekPicker){if(c.value){const re=Kr(c.value,+l.value.autoRange);if(e.hideOffsetDates&&!P.current)return!1;const Ee=qs(Re(c.value),e.weekStart);return e.weekPicker?jn(P.value,Ee[0])&&In(P.value,Ee[1]):jn(P.value,c.value)&&In(P.value,re)}return!1}return!1},k=P=>{if(l.value.autoRange||e.weekPicker){if(c.value){if(e.hideOffsetDates&&!P.current)return!1;const re=qs(Re(c.value),e.weekStart);return e.weekPicker?Ot(re[0],P.value):Ot(c.value,P.value)}return!1}return!1},R=P=>Km(t.value,c.value,P.value),M=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,I=()=>e.modelAuto?XA(e.internalModelValue):!0,B=P=>{if(e.weekPicker)return!1;const re=l.value.enabled?!E(P)&&!E(P,!1):!0;return!u(P.value)&&!_(P)&&!(!P.current&&e.hideOffsetDates)&&re},U=P=>l.value.enabled?e.modelAuto?M()&&_(P):!1:_(P),G=P=>s.value?VU(P.value,o.value.highlight):!1,ie=P=>{const re=u(P.value);return re&&(typeof s.value=="function"?!s.value(P.value,re):!s.value.options.highlightDisabled)},W=P=>{var re;return typeof s.value=="function"?s.value(P.value):(re=s.value.weekdays)==null?void 0:re.includes(P.value.getDay())},N=P=>(l.value.enabled||e.weekPicker)&&(!(n.value.count>0)||P.current)&&I()&&!(!P.current&&e.hideOffsetDates)&&!_(P)?R(P):!1,j=P=>{const{isRangeStart:re,isRangeEnd:Ee}=ve(P),q=l.value.enabled?re||Ee:!1;return{dp__cell_offset:!P.current,dp__pointer:!e.disabled&&!(!P.current&&e.hideOffsetDates)&&!u(P.value),dp__cell_disabled:u(P.value),dp__cell_highlight:!ie(P)&&(G(P)||W(P))&&!U(P)&&!q&&!k(P)&&!(N(P)&&e.weekPicker)&&!Ee,dp__cell_highlight_active:!ie(P)&&(G(P)||W(P))&&U(P),dp__today:!e.noToday&&Ot(P.value,h.value)&&P.current,"dp--past":In(P.value,h.value),"dp--future":jn(P.value,h.value)}},F=P=>({dp__active_date:U(P),dp__date_hover:B(P)}),Q=P=>{if(t.value&&!Array.isArray(t.value)){const re=qs(t.value,e.weekStart);return{...K(P),dp__range_start:Ot(re[0],P.value),dp__range_end:Ot(re[1],P.value),dp__range_between_week:jn(P.value,re[0])&&In(P.value,re[1])}}return{...K(P)}},_e=P=>{if(t.value&&Array.isArray(t.value)){const re=qs(t.value[0],e.weekStart),Ee=t.value[1]?qs(t.value[1],e.weekStart):[];return{...K(P),dp__range_start:Ot(re[0],P.value)||Ot(Ee[0],P.value),dp__range_end:Ot(re[1],P.value)||Ot(Ee[1],P.value),dp__range_between_week:jn(P.value,re[0])&&In(P.value,re[1])||jn(P.value,Ee[0])&&In(P.value,Ee[1]),dp__range_between:jn(P.value,re[1])&&In(P.value,Ee[0])}}return{...K(P)}},ve=P=>{const re=n.value.count>0?P.current&&E(P)&&I():E(P)&&I(),Ee=n.value.count>0?P.current&&E(P,!1)&&I():E(P,!1)&&I();return{isRangeStart:re,isRangeEnd:Ee}},xe=P=>{const{isRangeStart:re,isRangeEnd:Ee}=ve(P);return{dp__range_start:re,dp__range_end:Ee,dp__range_between:N(P),dp__date_hover:Ot(P.value,c.value)&&!re&&!Ee&&!e.weekPicker,dp__date_hover_start:w(P,!0),dp__date_hover_end:w(P,!1)}},K=P=>({...xe(P),dp__cell_auto_range:C(P),dp__cell_auto_range_start:k(P),dp__cell_auto_range_end:x(P)}),Z=P=>l.value.enabled?l.value.autoRange?K(P):e.modelAuto?{...F(P),...xe(P)}:e.weekPicker?_e(P):xe(P):e.weekPicker?Q(P):F(P);return{setHoverDate:p,clearHoverDate:g,getDayClassData:P=>e.hideOffsetDates&&!P.current?{}:{...j(P),...Z(P),[e.dayClass?e.dayClass(P.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName,...r.value.calendarCell??{}}}},So=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:i,defaultedMultiDates:r}=Sn(t),s=W=>i.value.disabledDates?typeof i.value.disabledDates=="function"?i.value.disabledDates(Re(W)):!!jp(W,i.value.disabledDates):!1,a=W=>i.value.maxDate?t.yearPicker?ht(W)>ht(i.value.maxDate):jn(W,i.value.maxDate):!1,o=W=>i.value.minDate?t.yearPicker?ht(W)<ht(i.value.minDate):In(W,i.value.minDate):!1,l=W=>{const N=a(W),j=o(W),F=s(W),Q=e.value.months.map(Z=>+Z).includes(At(W)),_e=t.disabledWeekDays.length?t.disabledWeekDays.some(Z=>+Z===R8(W)):!1,ve=g(W),xe=ht(W),K=xe<+t.yearRange[0]||xe>+t.yearRange[1];return!(N||j||F||Q||K||_e||ve)},u=(W,N)=>In(...Za(i.value.minDate,W,N))||Ot(...Za(i.value.minDate,W,N)),c=(W,N)=>jn(...Za(i.value.maxDate,W,N))||Ot(...Za(i.value.maxDate,W,N)),h=(W,N,j)=>{let F=!1;return i.value.maxDate&&j&&c(W,N)&&(F=!0),i.value.minDate&&!j&&u(W,N)&&(F=!0),F},p=(W,N,j,F)=>{let Q=!1;return F?i.value.minDate&&i.value.maxDate?Q=h(W,N,j):(i.value.minDate&&u(W,N)||i.value.maxDate&&c(W,N))&&(Q=!0):Q=!0,Q},g=W=>Array.isArray(i.value.allowedDates)&&!i.value.allowedDates.length?!0:i.value.allowedDates?!jp(W,i.value.allowedDates):!1,y=W=>!l(W),b=W=>n.value.noDisabledRange?!PA({start:W[0],end:W[1]}).some(N=>y(N)):!0,T=W=>{if(W){const N=ht(W);return N>=+t.yearRange[0]&&N<=t.yearRange[1]}return!0},E=(W,N)=>!!(Array.isArray(W)&&W[N]&&(n.value.maxRange||n.value.minRange)&&T(W[N])),w=(W,N,j=0)=>{if(E(N,j)&&T(W)){const F=OA(W,N[j]),Q=tO(N[j],W),_e=Q.length===1?0:Q.filter(xe=>y(xe)).length,ve=Math.abs(F)-(n.value.minMaxRawRange?0:_e);if(n.value.minRange&&n.value.maxRange)return ve>=+n.value.minRange&&ve<=+n.value.maxRange;if(n.value.minRange)return ve>=+n.value.minRange;if(n.value.maxRange)return ve<=+n.value.maxRange}return!0},_=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,x=W=>Array.isArray(W)?[W[0]?J0(W[0]):null,W[1]?J0(W[1]):null]:J0(W),C=(W,N,j)=>W.find(F=>+F.hours===ca(N)&&F.minutes==="*"?!0:+F.minutes===mo(N)&&+F.hours===ca(N))&&j,k=(W,N,j)=>{const[F,Q]=W,[_e,ve]=N;return!C(F,_e,j)&&!C(Q,ve,j)&&j},R=(W,N)=>{const j=Array.isArray(N)?N:[N];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?k(t.disabledTimes,j,W):!j.some(F=>C(t.disabledTimes,F,W)):W},M=(W,N)=>{const j=Array.isArray(N)?[_l(N[0]),N[1]?_l(N[1]):void 0]:_l(N),F=!t.disabledTimes(j);return W&&F},I=(W,N)=>t.disabledTimes?Array.isArray(t.disabledTimes)?R(N,W):M(N,W):N,B=W=>{let N=!0;if(!W||_())return!0;const j=!i.value.minDate&&!i.value.maxDate?x(W):W;return(t.maxTime||i.value.maxDate)&&(N=uC(t.maxTime,i.value.maxDate,"max",fi(j),N)),(t.minTime||i.value.minDate)&&(N=uC(t.minTime,i.value.minDate,"min",fi(j),N)),I(W,N)},U=W=>{if(!t.monthPicker)return!0;let N=!0;const j=Re(qr(W));if(i.value.minDate&&i.value.maxDate){const F=Re(qr(i.value.minDate)),Q=Re(qr(i.value.maxDate));return jn(j,F)&&In(j,Q)||Ot(j,F)||Ot(j,Q)}if(i.value.minDate){const F=Re(qr(i.value.minDate));N=jn(j,F)||Ot(j,F)}if(i.value.maxDate){const F=Re(qr(i.value.maxDate));N=In(j,F)||Ot(j,F)}return N},G=Se(()=>W=>!t.enableTimePicker||t.ignoreTimeValidation?!0:B(W)),ie=Se(()=>W=>t.monthPicker?Array.isArray(W)&&(n.value.enabled||r.value.enabled)?!W.filter(N=>!U(N)).length:U(W):!0);return{isDisabled:y,validateDate:l,validateMonthYearInRange:p,isDateRangeAllowed:b,checkMinMaxRange:w,isValidTime:B,isTimeValid:G,isMonthValid:ie}},Jm=()=>{const t=Se(()=>(i,r)=>i==null?void 0:i.includes(r)),e=Se(()=>(i,r)=>i.count?i.solo?!0:r===0:!0),n=Se(()=>(i,r)=>i.count?i.solo?!0:r===i.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},CY=(t,e,n)=>{const i=Ae(0),r=Nr({[yl.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[yl.calendar]:!1,[yl.header]:!1}),s=Se(()=>t.monthPicker||t.timePicker),a=h=>{var p;if((p=t.flow)!=null&&p.length){if(!h&&s.value)return c();r[h]=!0,Object.keys(r).filter(g=>!r[g]).length||c()}},o=()=>{var h,p;(h=t.flow)!=null&&h.length&&i.value!==-1&&(i.value+=1,e("flow-step",i.value),c()),((p=t.flow)==null?void 0:p.length)===i.value&&bi().then(()=>l())},l=()=>{i.value=-1},u=(h,p,...g)=>{var y,b;t.flow[i.value]===h&&n.value&&((b=(y=n.value)[p])==null||b.call(y,...g))},c=(h=0)=>{h&&(i.value+=h),u(Bi.month,"toggleMonthPicker",!0),u(Bi.year,"toggleYearPicker",!0),u(Bi.calendar,"toggleTimePicker",!1,!0),u(Bi.time,"toggleTimePicker",!0,!0);const p=t.flow[i.value];(p===Bi.hours||p===Bi.minutes||p===Bi.seconds)&&u(p,"toggleTimePicker",!0,!0,p)};return{childMount:a,updateFlowStep:o,resetFlow:l,handleFlow:c,flowStep:i}},SY={key:1,class:"dp__input_wrap"},kY=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],RY={key:2,class:"dp__clear_icon"},IY=vn({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...qm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const i=n,r=t,{defaultedTextInput:s,defaultedAriaLabels:a,defaultedInline:o,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,defaultedUI:h,getDefaultPattern:p,getDefaultStartTime:g}=Sn(r),{checkMinMaxRange:y}=So(r),b=Ae(),T=Ae(null),E=Ae(!1),w=Ae(!1),_=Se(()=>({dp__pointer:!r.disabled&&!r.readonly&&!s.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:!!r.state,dp__input_invalid:r.state===!1,dp__input_focus:E.value||r.isMenuOpen,dp__input_reg:!s.value.enabled,[r.inputClassName]:!!r.inputClassName,...h.value.input??{}})),x=()=>{i("set-input-date",null),r.clearable&&r.autoApply&&(i("set-empty-date"),b.value=null)},C=F=>{const Q=g();return GU(F,s.value.format??p(),Q??nO({},r.enableSeconds),r.inputValue,w.value,r.formatLocale)},k=F=>{const{rangeSeparator:Q}=s.value,[_e,ve]=F.split(`${Q}`);if(_e){const xe=C(_e.trim()),K=ve?C(ve.trim()):null;if(nc(xe,K))return;const Z=xe&&K?[xe,K]:[xe];y(K,Z,0)&&(b.value=xe?Z:null)}},R=()=>{w.value=!0},M=F=>{if(u.value.enabled)k(F);else if(c.value.enabled){const Q=F.split(";");b.value=Q.map(_e=>C(_e.trim())).filter(_e=>_e)}else b.value=C(F)},I=F=>{var Q;const _e=typeof F=="string"?F:(Q=F.target)==null?void 0:Q.value;_e!==""?(s.value.openMenu&&!r.isMenuOpen&&i("open"),M(_e),i("set-input-date",b.value)):x(),w.value=!1,i("update:input-value",_e)},B=F=>{s.value.enabled?(M(F.target.value),s.value.enterSubmit&&S_(b.value)&&r.inputValue!==""?(i("set-input-date",b.value,!0),b.value=null):s.value.enterSubmit&&r.inputValue===""&&(b.value=null,i("clear"))):ie(F)},U=F=>{s.value.enabled&&s.value.tabSubmit&&M(F.target.value),s.value.tabSubmit&&S_(b.value)&&r.inputValue!==""?(i("set-input-date",b.value,!0,!0),b.value=null):s.value.tabSubmit&&r.inputValue===""&&(b.value=null,i("clear",!0))},G=()=>{E.value=!0,i("focus"),bi().then(()=>{var F;s.value.enabled&&s.value.selectOnFocus&&((F=T.value)==null||F.select())})},ie=F=>{F.preventDefault(),ao(F,l.value,!0),s.value.enabled&&s.value.openMenu&&!o.value.input&&!r.isMenuOpen?i("open"):s.value.enabled||i("toggle")},W=()=>{i("real-blur"),E.value=!1,(!r.isMenuOpen||o.value.enabled&&o.value.input)&&i("blur"),r.autoApply&&s.value.enabled&&b.value&&!r.isMenuOpen&&(i("set-input-date",b.value),i("select-date"),b.value=null)},N=F=>{ao(F,l.value,!0),i("clear")},j=F=>{if(F.key==="Tab"&&U(F),F.key==="Enter"&&B(F),!s.value.enabled){if(F.code==="Tab")return;F.preventDefault()}};return e({focusInput:()=>{var F;(F=T.value)==null||F.focus({preventScroll:!0})},setParsedDate:F=>{b.value=F}}),(F,Q)=>{var _e;return ne(),pe("div",{onClick:ie},[F.$slots.trigger&&!F.$slots["dp-input"]&&!te(o).enabled?Ue(F.$slots,"trigger",{key:0}):ke("",!0),!F.$slots.trigger&&(!te(o).enabled||te(o).input)?(ne(),pe("div",SY,[F.$slots["dp-input"]&&!F.$slots.trigger&&(!te(o).enabled||te(o).enabled&&te(o).input)?Ue(F.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:I,onEnter:B,onTab:U,onClear:N,onBlur:W,onKeypress:j,onPaste:R,onFocus:G,openMenu:()=>F.$emit("open"),closeMenu:()=>F.$emit("close"),toggleMenu:()=>F.$emit("toggle")}):ke("",!0),F.$slots["dp-input"]?ke("",!0):(ne(),pe("input",{key:1,id:F.uid?`dp-input-${F.uid}`:void 0,ref_key:"inputRef",ref:T,"data-test":"dp-input",name:F.name,class:ct(_.value),inputmode:te(s).enabled?"text":"none",placeholder:F.placeholder,disabled:F.disabled,readonly:F.readonly,required:F.required,value:t.inputValue,autocomplete:F.autocomplete,"aria-label":(_e=te(a))==null?void 0:_e.input,"aria-disabled":F.disabled||void 0,"aria-invalid":F.state===!1?!0:void 0,onInput:I,onBlur:W,onFocus:G,onKeypress:j,onKeydown:j,onPaste:R},null,42,kY)),Me("div",{onClick:Q[2]||(Q[2]=ve=>i("toggle"))},[F.$slots["input-icon"]&&!F.hideInputIcon?(ne(),pe("span",{key:0,class:"dp__input_icon",onClick:Q[0]||(Q[0]=ve=>i("toggle"))},[Ue(F.$slots,"input-icon")])):ke("",!0),!F.$slots["input-icon"]&&!F.hideInputIcon&&!F.$slots["dp-input"]?(ne(),tt(te(gc),{key:1,class:"dp__input_icon dp__input_icons",onClick:Q[1]||(Q[1]=ve=>i("toggle"))})):ke("",!0)]),F.$slots["clear-icon"]&&t.inputValue&&F.clearable&&!F.disabled&&!F.readonly?(ne(),pe("span",RY,[Ue(F.$slots,"clear-icon",{clear:N})])):ke("",!0),F.clearable&&!F.$slots["clear-icon"]&&t.inputValue&&!F.disabled&&!F.readonly?(ne(),tt(te(KA),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:Q[3]||(Q[3]=Cl(ve=>N(ve),["prevent"]))})):ke("",!0)])):ke("",!0)])}}}),AY=typeof window<"u"?window:void 0,ry=()=>{},OY=t=>Qp()?(z_(t),!0):!1,MY=(t,e,n,i)=>{if(!t)return ry;let r=ry;const s=xn(()=>te(t),o=>{r(),o&&(o.addEventListener(e,n,i),r=()=>{o.removeEventListener(e,n,i),r=ry})},{immediate:!0,flush:"post"}),a=()=>{s(),r()};return OY(a),a},PY=(t,e,n,i={})=>{const{window:r=AY,event:s="pointerdown"}=i;return r?MY(r,s,a=>{const o=ri(t),l=ri(e);!o||!l||o===a.target||a.composedPath().includes(o)||a.composedPath().includes(l)||n(a)},{passive:!0}):void 0},DY=vn({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...qm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=t,s=ha(),a=Ae(!1),o=wl(r,"modelValue"),l=wl(r,"timezone"),u=Ae(null),c=Ae(null),h=Ae(null),p=Ae(!1),g=Ae(null),y=Ae(!1),b=Ae(!1),T=Ae(!1),E=Ae(!1),{setMenuFocused:w,setShiftKey:_}=oO(),{clearArrowNav:x}=Co(),{validateDate:C,isValidTime:k}=So(r),{defaultedTransitions:R,defaultedTextInput:M,defaultedInline:I,defaultedConfig:B,defaultedRange:U,defaultedMultiDates:G}=Sn(r),{menuTransition:ie,showTransition:W}=xh(R);Cn(()=>{re(r.modelValue),bi().then(()=>{if(!I.value.enabled){const ge=xe(g.value);ge==null||ge.addEventListener("scroll",z),window==null||window.addEventListener("resize",J)}}),I.value.enabled&&(a.value=!0),window==null||window.addEventListener("keyup",he),window==null||window.addEventListener("keydown",Y)}),Rs(()=>{if(!I.value.enabled){const ge=xe(g.value);ge==null||ge.removeEventListener("scroll",z),window==null||window.removeEventListener("resize",J)}window==null||window.removeEventListener("keyup",he),window==null||window.removeEventListener("keydown",Y)});const N=br(s,"all",r.presetDates),j=br(s,"input");xn([o,l],()=>{re(o.value)},{deep:!0});const{openOnTop:F,menuStyle:Q,xCorrect:_e,setMenuPosition:ve,getScrollableParent:xe,shadowRender:K}=wY({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:g,inline:I,emit:i,props:r,slots:s}),{inputValue:Z,internalModelValue:P,parseExternalModelValue:re,emitModelValue:Ee,formatInputValue:q,checkBeforeEmit:ye}=hH(i,r,p),Ze=Se(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:I.value.enabled,"dp--flex-display-collapsed":T.value,dp__flex_display_with_input:I.value.input})),de=Se(()=>r.dark?"dp__theme_dark":"dp__theme_light"),qe=Se(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||I.value.enabled}:{}),H=Se(()=>({class:"dp__outer_menu_wrap"})),L=Se(()=>I.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),O=()=>{var ge,Pe;return(Pe=(ge=h.value)==null?void 0:ge.$el)==null?void 0:Pe.getBoundingClientRect()},z=()=>{a.value&&(B.value.closeOnScroll?ce():ve())},J=()=>{var ge;a.value&&ve();const Pe=(ge=c.value)==null?void 0:ge.$el.getBoundingClientRect().width;T.value=document.body.offsetWidth<=Pe},he=ge=>{ge.key==="Tab"&&!I.value.enabled&&!r.teleport&&B.value.tabOutClosesMenu&&(g.value.contains(document.activeElement)||ce()),b.value=ge.shiftKey},Y=ge=>{b.value=ge.shiftKey},ue=()=>{!r.disabled&&!r.readonly&&(K(fC,r),ve(!1),a.value=!0,a.value&&i("open"),a.value||ae(),re(r.modelValue))},D=()=>{var ge;Z.value="",ae(),(ge=h.value)==null||ge.setParsedDate(null),i("update:model-value",null),i("update:model-timezone-value",null),i("cleared"),B.value.closeOnClearValue&&ce()},$=()=>{const ge=P.value;return!ge||!Array.isArray(ge)&&C(ge)?!0:Array.isArray(ge)?G.value.enabled||ge.length===2&&C(ge[0])&&C(ge[1])?!0:U.value.partialRange&&!r.timePicker?C(ge[0]):!1:!1},X=()=>{ye()&&$()?(Ee(),ce()):i("invalid-select",P.value)},se=ge=>{Ie(),Ee(),B.value.closeOnAutoApply&&!ge&&ce()},Ie=()=>{h.value&&M.value.enabled&&h.value.setParsedDate(P.value)},we=(ge=!1)=>{r.autoApply&&k(P.value)&&$()&&(U.value.enabled&&Array.isArray(P.value)?(U.value.partialRange||P.value.length===2)&&se(ge):se(ge))},ae=()=>{M.value.enabled||(P.value=null)},ce=()=>{I.value.enabled||(a.value&&(a.value=!1,_e.value=!1,w(!1),_(!1),x(),i("closed"),Z.value&&re(o.value)),ae(),i("blur"))},Le=(ge,Pe,Be=!1)=>{if(!ge){P.value=null;return}const Zt=Array.isArray(ge)?!ge.some(Cr=>!C(Cr)):C(ge),hn=k(ge);Zt&&hn&&(E.value=!0,P.value=ge,Pe&&(y.value=Be,X(),i("text-submit")),bi().then(()=>{E.value=!1}))},je=()=>{r.autoApply&&k(P.value)&&Ee(),Ie()},Et=()=>a.value?ce():ue(),nn=ge=>{P.value=ge},bn=()=>{M.value.enabled&&(p.value=!0,q()),i("focus")},Wt=()=>{if(M.value.enabled&&(p.value=!1,re(r.modelValue),y.value)){const ge=jU(g.value,b.value);ge==null||ge.focus()}i("blur")},Ei=ge=>{c.value&&c.value.updateMonthYear(0,{month:aC(ge.month),year:aC(ge.year)})},Ai=ge=>{re(ge??r.modelValue)},Kt=(ge,Pe)=>{var Be;(Be=c.value)==null||Be.switchView(ge,Pe)},oe=ge=>B.value.onClickOutside?B.value.onClickOutside(ge):ce(),Oe=(ge=0)=>{var Pe;(Pe=c.value)==null||Pe.handleFlow(ge)};return PY(u,h,()=>oe($)),e({closeMenu:ce,selectDate:X,clearValue:D,openMenu:ue,onScroll:z,formatInputValue:q,updateInternalModelValue:nn,setMonthYear:Ei,parseModel:Ai,switchView:Kt,toggleMenu:Et,handleFlow:Oe}),(ge,Pe)=>(ne(),pe("div",{ref_key:"pickerWrapperRef",ref:g,class:ct(Ze.value),"data-datepicker-instance":""},[De(IY,Gn({ref_key:"inputRef",ref:h,"input-value":te(Z),"onUpdate:inputValue":Pe[0]||(Pe[0]=Be=>Yn(Z)?Z.value=Be:null),"is-menu-open":a.value},ge.$props,{onClear:D,onOpen:ue,onSetInputDate:Le,onSetEmptyDate:te(Ee),onSelectDate:X,onToggle:Et,onClose:ce,onFocus:bn,onBlur:Wt,onRealBlur:Pe[1]||(Pe[1]=Be=>p.value=!1)}),_i({_:2},[Ht(te(j),(Be,Zt)=>({name:Be,fn:pt(hn=>[Ue(ge.$slots,Be,qn(ki(hn)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(ne(),tt(lc(ge.teleport?wv:"div"),qn(ki(qe.value)),{default:pt(()=>[De(Is,{name:te(ie)(te(F)),css:te(W)&&!te(I).enabled},{default:pt(()=>[a.value?(ne(),pe("div",Gn({key:0,ref_key:"dpWrapMenuRef",ref:u},H.value,{class:{"dp--menu-wrapper":!te(I).enabled},style:te(I).enabled?void 0:te(Q)}),[De(fC,Gn({ref_key:"dpMenuRef",ref:c},ge.$props,{"internal-model-value":te(P),"onUpdate:internalModelValue":Pe[2]||(Pe[2]=Be=>Yn(P)?P.value=Be:null),class:{[de.value]:!0,"dp--menu-wrapper":ge.teleport},"open-on-top":te(F),"no-overlay-focus":L.value,collapse:T.value,"get-input-rect":O,"is-text-input-date":E.value,onClosePicker:ce,onSelectDate:X,onAutoApply:we,onTimeUpdate:je,onFlowStep:Pe[3]||(Pe[3]=Be=>ge.$emit("flow-step",Be)),onUpdateMonthYear:Pe[4]||(Pe[4]=Be=>ge.$emit("update-month-year",Be)),onInvalidSelect:Pe[5]||(Pe[5]=Be=>ge.$emit("invalid-select",te(P))),onAutoApplyInvalid:Pe[6]||(Pe[6]=Be=>ge.$emit("invalid-select",Be)),onInvalidFixedRange:Pe[7]||(Pe[7]=Be=>ge.$emit("invalid-fixed-range",Be)),onRecalculatePosition:te(ve),onTooltipOpen:Pe[8]||(Pe[8]=Be=>ge.$emit("tooltip-open",Be)),onTooltipClose:Pe[9]||(Pe[9]=Be=>ge.$emit("tooltip-close",Be)),onTimePickerOpen:Pe[10]||(Pe[10]=Be=>ge.$emit("time-picker-open",Be)),onTimePickerClose:Pe[11]||(Pe[11]=Be=>ge.$emit("time-picker-close",Be)),onAmPmChange:Pe[12]||(Pe[12]=Be=>ge.$emit("am-pm-change",Be)),onRangeStart:Pe[13]||(Pe[13]=Be=>ge.$emit("range-start",Be)),onRangeEnd:Pe[14]||(Pe[14]=Be=>ge.$emit("range-end",Be)),onDateUpdate:Pe[15]||(Pe[15]=Be=>ge.$emit("date-update",Be)),onInvalidDate:Pe[16]||(Pe[16]=Be=>ge.$emit("invalid-date",Be)),onOverlayToggle:Pe[17]||(Pe[17]=Be=>ge.$emit("overlay-toggle",Be))}),_i({_:2},[Ht(te(N),(Be,Zt)=>({name:Be,fn:pt(hn=>[Ue(ge.$slots,Be,qn(ki({...hn})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):ke("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Qm=(()=>{const t=DY;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),LY=Object.freeze(Object.defineProperty({__proto__:null,default:Qm},Symbol.toStringTag,{value:"Module"}));Object.entries(LY).forEach(([t,e])=>{t!=="default"&&(Qm[t]=e)});const FY={name:"DatePicker",emits:["dateChanged"],components:{VueDatePicker:Qm},data(){return{selectedDate:new Date,fi:"fi",en:"en"}},computed:{language(){switch(this.$store.state.settings.settings.locale){case"en":default:return this.en;case"fi":return this.fi}},pastDate(){const t=new Date(this.selectedDate);return t.setDate(t.getDate()-30),t},isToday(){const t=new Date;return this.selectedDate.getDate()===t.getDate()&&this.selectedDate.getMonth()===t.getMonth()&&this.selectedDate.getFullYear()===t.getFullYear()},mode(){return this.$store.state.settings.settings.mode}},mounted(){mt.$on("featureClicked",this.resetDate)},methods:{formatDates(t){switch(this.$store.state.settings.settings.dateFormat){case"fi":return`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`;case"iso":default:return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}},resetDate(){this.mode=="air_radionuclides"&&(this.selectedDate=new Date)},handleDateChange(t){this.selectedDate=new Date(t),mt.$emit("dateChanged",this.selectedDate)},prevDay(){const t=new Date(this.selectedDate);t.setDate(t.getDate()-1),this.selectedDate=t,mt.$emit("dateChanged",this.selectedDate)},nextDay(){const t=new Date(this.selectedDate);this.isToday||(t.setDate(t.getDate()+1),this.selectedDate=t,mt.$emit("dateChanged",this.selectedDate))}}},NY={class:"date-picker"},$Y={class:"controls"};function jY(t,e,n,i,r,s){const a=ze("vue-date-picker");return ne(),pe("div",NY,[Me("div",$Y,[Me("p",null,bt(s.formatDates(s.pastDate))+" -",1),Me("button",{onClick:e[0]||(e[0]=(...o)=>s.prevDay&&s.prevDay(...o))},"<"),De(a,{modelValue:r.selectedDate,"onUpdate:modelValue":e[1]||(e[1]=o=>r.selectedDate=o),onDateUpdate:s.handleDateChange,locale:s.language,format:s.formatDates,"auto-apply":"","enable-time-picker":!1,"max-date":new Date,"hide-input-icon":""},null,8,["modelValue","onDateUpdate","locale","format","max-date"]),Me("button",{onClick:e[2]||(e[2]=(...o)=>s.nextDay&&s.nextDay(...o)),class:ct({disabled:s.isToday})},">",2)])])}const BY=st(FY,[["render",jY]]),VY={name:"FeaturePopup",emits:["featurepopupOpened","featurepopupClosed"],components:{SiteName:fA,SiteDoseRate:pA,TimeSeriesGraph:mz,RadionuclideTables:xz,DatePicker:BY},data(){return{overlay:void 0,feature:void 0}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRatesMode(){return this.mode==="dose_rates"},isRadionuclideMode(){return this.mode==="air_radionuclides"}},watch:{isDoseRatesMode(){this.close()}},mounted(){mt.$on("featureClicked",this.open),mt.$on("emptyMapLocationClicked",this.close),this.overlay=new mA({element:this.$refs.featurePopup,position:void 0}),mt.$on("featureClicked",this.open),mt.$on("featureSelectedViaSearch",this.open),mt.$on("emptyMapLocationClicked",this.close),mt.$on("doseRateLayerChanged",this.update)},methods:{open(t){this.feature=t,this.overlay.setPosition(t.getGeometry().getCoordinates()),mt.$emit("featurePopupOpened",t),this.$nextTick(()=>{this.$refs.panelBody&&(this.$refs.panelBody.scrollTop=0)})},close(){this.feature=void 0,this.overlay.setPosition(void 0),mt.$emit("featurePopupClosed")},update(t){var e=t.getSource().getFeatures();if(!(e.length==0||!this.feature)){for(var n=0;n<e.length;++n)if(e[n].get("id")==this.feature.get("id")){this.feature=e[n];return}this.feature.set("doseRate","-")}}}},GY={ref:"featurePopup",class:"feature-popup"};function zY(t,e,n,i,r,s){const a=ze("site-name"),o=ze("site-dose-rate"),l=ze("time-series-graph"),u=ze("date-picker"),c=ze("radionuclide-tables");return ne(),pe("div",GY,[De(a,{feature:r.feature,onClose:s.close},null,8,["feature","onClose"]),oi(De(o,{feature:r.feature},null,8,["feature"]),[[li,s.isDoseRatesMode]]),oi(De(l,{feature:r.feature},null,8,["feature"]),[[li,s.isDoseRatesMode]]),oi(De(u,null,null,512),[[li,s.isRadionuclideMode]]),oi(De(c,{feature:r.feature},null,8,["feature"]),[[li,s.isRadionuclideMode]])],512)}const UY=st(VY,[["render",zY],["__scopeId","data-v-e1d56495"]]),HY={name:"ButtonOpenSettings",emits:["settings-panel-open"],methods:{handleClick(){mt.$emit("settings-panel-open")}}},YY=["title"],WY=Me("span",{class:"button-open-settings__icon"},null,-1),KY=[WY];function qY(t,e,n,i,r,s){return ne(),pe("div",{class:"button-open-settings",title:t.$t("settings.title"),onClick:e[0]||(e[0]=a=>s.handleClick())},KY,8,YY)}const XY=st(HY,[["render",qY]]),ZY={name:"ButtonOpenInfo",emits:["info-panel-open"],methods:{handleClick(){mt.$emit("info-panel-open")}}},JY=t=>(qd("data-v-93d3a546"),t=t(),Xd(),t),QY=["title"],eW=JY(()=>Me("span",{class:"button-open-info__icon"},null,-1)),tW=[eW];function nW(t,e,n,i,r,s){return ne(),pe("div",{class:"button-open-info",title:t.$t("info.title"),onClick:e[0]||(e[0]=a=>s.handleClick())},tW,8,QY)}const iW=st(ZY,[["render",nW],["__scopeId","data-v-93d3a546"]]),rW={name:"ButtonChangeMode",computed:{mode(){return this.$store.state.settings.settings.mode}},methods:{handleClick(){const t=this.mode==="dose_rates"?"air_radionuclides":"dose_rates";mt.$emit("mode-changed",t)}}},sW=t=>(qd("data-v-25ab6192"),t=t(),Xd(),t),aW=["title"],oW=sW(()=>Me("span",{class:"button-change-mode__icon"},null,-1));function lW(t,e,n,i,r,s){return ne(),pe("div",{class:"button-change-mode",title:t.$t("changeMode.title"),onClick:e[0]||(e[0]=(...a)=>s.handleClick&&s.handleClick(...a))},[oW,Me("h3",null,bt(t.$t("modes")),1)],8,aW)}const uW=st(rW,[["render",lW],["__scopeId","data-v-25ab6192"]]),cW={name:"SettingsPanelHeader",emits:["close"]},dW={class:"settings-panel-header opendata-row"};function hW(t,e,n,i,r,s){return ne(),pe("div",dW,[Me("span",null,bt(t.$t("settings.header")),1),Me("span",{class:"close-button",onClick:e[0]||(e[0]=a=>t.$emit("close"))},"×")])}const fW=st(cW,[["render",hW],["__scopeId","data-v-526010fa"]]),pW={name:"SettingsPanelSection",props:{title:{type:String,required:!0}}},mW={class:"section"},gW={class:"title"};function yW(t,e,n,i,r,s){return ne(),pe("div",mW,[Me("p",gW,bt(n.title),1),Ue(t.$slots,"default",{class:"content"},void 0,!0)])}const eg=st(pW,[["render",yW],["__scopeId","data-v-fed687d3"]]),_W={name:"FieldLanguage",components:{SettingsPanelSection:eg},props:{settings:{type:Object,required:!0}}};function vW(t,e,n,i,r,s){const a=ze("base-radio-button"),o=ze("settings-panel-section");return ne(),tt(o,{title:t.$t("settings.language")},{default:pt(()=>[De(a,{key:"fi",modelValue:n.settings.locale,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.locale=l),"model-value":n.settings.locale,"own-value":"fi",label:t.$t("settings.labelFinnish"),class:"radio-button"},null,8,["modelValue","model-value","label"]),De(a,{key:"en",modelValue:n.settings.locale,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.locale=l),"model-value":n.settings.locale,"own-value":"en",label:t.$t("settings.labelEnglish"),class:"radio-button"},null,8,["modelValue","model-value","label"])]),_:1},8,["title"])}const bW=st(_W,[["render",vW],["__scopeId","data-v-b1d411c8"]]),wW={name:"FieldDateFormat",components:{SettingsPanelSection:eg},props:{settings:{type:Object,required:!0}}};function EW(t,e,n,i,r,s){const a=ze("base-radio-button"),o=ze("settings-panel-section");return ne(),tt(o,{title:t.$t("settings.dateFormat")},{default:pt(()=>[De(a,{key:"fi",modelValue:n.settings.dateFormat,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.dateFormat=l),"model-value":n.settings.dateFormat,"own-value":"fi",label:t.$t("settings.dateFormatA"),class:"radio-button"},null,8,["modelValue","model-value","label"]),De(a,{key:"iso",modelValue:n.settings.dateFormat,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.dateFormat=l),"model-value":n.settings.dateFormat,"own-value":"iso",label:t.$t("settings.dateFormatB"),class:"radio-button"},null,8,["modelValue","model-value","label"])]),_:1},8,["title"])}const TW=st(wW,[["render",EW],["__scopeId","data-v-b4352245"]]),xW={name:"FieldTimeFormat",components:{SettingsPanelSection:eg},props:{settings:{type:Object,required:!0}}};function CW(t,e,n,i,r,s){const a=ze("base-radio-button"),o=ze("settings-panel-section");return ne(),tt(o,{title:t.$t("settings.timeFormat")},{default:pt(()=>[De(a,{key:"24h",modelValue:n.settings.timeFormat,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.timeFormat=l),"model-value":n.settings.timeFormat,"own-value":"24h",label:t.$t("settings.timeFormatA"),class:"radio-button"},null,8,["modelValue","model-value","label"]),De(a,{key:"12h",modelValue:n.settings.timeFormat,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.timeFormat=l),"model-value":n.settings.timeFormat,"own-value":"12h",label:t.$t("settings.timeFormatB"),class:"radio-button"},null,8,["modelValue","model-value","label"])]),_:1},8,["title"])}const SW=st(xW,[["render",CW],["__scopeId","data-v-77567d8f"]]);class kW extends Bm{constructor(e){super(e)}createRenderer(){return new B2(this)}}class Ua extends fa{constructor(e,n){super(e),this.layer=n}}const sy={LAYERS:"layers"};class yc extends v2{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(sy.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new vs(i.slice(),{unique:!0}):Ft(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new vs(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(an),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Mt(e,nr.ADD,this.handleLayersAdd_,this),Mt(e,nr.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(an);ch(this.listenerKeys_);const n=e.getArray();for(let i=0,r=n.length;i<r;i++){const s=n[i];this.registerLayerListeners_(s),this.dispatchEvent(new Ua("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[Mt(e,qu.PROPERTYCHANGE,this.handleLayerChange_,this),Mt(e,lt.CHANGE,this.handleLayerChange_,this)];e instanceof yc&&n.push(Mt(e,"addlayer",this.handleLayerGroupAdd_,this),Mt(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[wt(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new Ua("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Ua("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Ua("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=wt(n);this.listenerKeys_[i].forEach(an),delete this.listenerKeys_[i],this.dispatchEvent(new Ua("removelayer",n)),this.changed()}getLayers(){return this.get(sy.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new Ua("removelayer",i[r]))}this.set(sy.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(n)});const r=this.getLayerState();let s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let a=i,o=n.length;a<o;a++){const l=n[a];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=ro(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}const RW=.5,Ve={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class tg extends dh{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(lt.CHANGE)}release(){this.state===Ve.ERROR&&this.setState(Ve.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==Ve.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let n=this;do{if(e.getState()==Ve.LOADED){e.interimTile=null;break}e.getState()==Ve.LOADING?n=e:e.getState()==Ve.IDLE?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Ve.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ft()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=n-i+1e3/60;return r>=this.transition_?1:w2(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}const IW=10,pC=.25;class AW{constructor(e,n,i,r,s,a){this.sourceProj_=e,this.targetProj_=n;let o={};const l=Ld(this.targetProj_,this.sourceProj_);this.transformInv_=function(w){const _=w[0]+"/"+w[1];return o[_]||(o[_]=l(w)),o[_]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Vt(r)>=Vt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Vt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Vt(this.targetProj_.getExtent()):null;const u=To(i),c=Im(i),h=Rm(i),p=km(i),g=this.transformInv_(u),y=this.transformInv_(c),b=this.transformInv_(h),T=this.transformInv_(p),E=IW+(a?Math.max(0,Math.ceil(Math.log2(e_(i)/(a*a*256*256)))):0);if(this.addQuad_(u,c,h,p,g,y,b,T,E),this.wrapsXInSource_){let w=1/0;this.triangles_.forEach(function(_,x,C){w=Math.min(w,_.source[0][0],_.source[1][0],_.source[2][0])}),this.triangles_.forEach(_=>{if(Math.max(_.source[0][0],_.source[1][0],_.source[2][0])-w>this.sourceWorldWidth_/2){const x=[[_.source[0][0],_.source[0][1]],[_.source[1][0],_.source[1][1]],[_.source[2][0],_.source[2][1]]];x[0][0]-w>this.sourceWorldWidth_/2&&(x[0][0]-=this.sourceWorldWidth_),x[1][0]-w>this.sourceWorldWidth_/2&&(x[1][0]-=this.sourceWorldWidth_),x[2][0]-w>this.sourceWorldWidth_/2&&(x[2][0]-=this.sourceWorldWidth_);const C=Math.min(x[0][0],x[1][0],x[2][0]);Math.max(x[0][0],x[1][0],x[2][0])-C<this.sourceWorldWidth_/2&&(_.source=x)}})}o={}}addTriangle_(e,n,i,r,s,a){this.triangles_.push({source:[r,s,a],target:[e,n,i]})}addQuad_(e,n,i,r,s,a,o,l,u){const c=Jy([s,a,o,l]),h=this.sourceWorldWidth_?Vt(c)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&h>.5&&h<1;let y=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const T=Jy([e,n,i,r]);y=Vt(T)/this.targetWorldWidth_>pC||y}!g&&this.sourceProj_.isGlobal()&&h&&(y=h>pC||y)}if(!y&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!On(c,this.maxSourceExtent_))return;let b=0;if(!y&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)y=!0;else if(b=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),b!=1&&b!=2&&b!=4&&b!=8)return}if(u>0){if(!y){const T=[(e[0]+i[0])/2,(e[1]+i[1])/2],E=this.transformInv_(T);let w;g?w=(Du(s[0],p)+Du(o[0],p))/2-Du(E[0],p):w=(s[0]+o[0])/2-E[0];const _=(s[1]+o[1])/2-E[1];y=w*w+_*_>this.errorThresholdSquared_}if(y){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const T=[(n[0]+i[0])/2,(n[1]+i[1])/2],E=this.transformInv_(T),w=[(r[0]+e[0])/2,(r[1]+e[1])/2],_=this.transformInv_(w);this.addQuad_(e,n,T,w,s,a,E,_,u-1),this.addQuad_(w,T,i,r,_,E,o,l,u-1)}else{const T=[(e[0]+n[0])/2,(e[1]+n[1])/2],E=this.transformInv_(T),w=[(i[0]+r[0])/2,(i[1]+r[1])/2],_=this.transformInv_(w);this.addQuad_(e,T,w,r,s,E,_,l,u-1),this.addQuad_(T,n,i,w,E,a,o,_,u-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}b&11||this.addTriangle_(e,i,r,s,o,l),b&14||this.addTriangle_(e,i,n,s,o,a),b&&(b&13||this.addTriangle_(n,r,e,a,l,s),b&7||this.addTriangle_(n,r,i,a,l,o))}calculateSourceExtent(){const e=Fr();return this.triangles_.forEach(function(n,i,r){const s=n.source;ld(e,s[0]),ld(e,s[1]),ld(e,s[2])}),e}getTriangles(){return this.triangles_}}let ay;const Fu=[];function mC(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function oy(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function OW(){if(ay===void 0){const t=wi(6,6,Fu);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",mC(t,4,5,4,0),mC(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;ay=oy(e,0)||oy(e,4)||oy(e,8),uh(t),Fu.push(t.canvas)}return ay}function gC(t,e,n,i){const r=Am(n,e,t);let s=Cp(e,i,n);const a=e.getMetersPerUnit();a!==void 0&&(s*=a);const o=t.getMetersPerUnit();o!==void 0&&(s/=o);const l=t.getExtent();if(!l||Rl(l,r)){const u=Cp(t,s,r)/s;isFinite(u)&&u>0&&(s/=u)}return s}function MW(t,e,n,i){const r=po(n);let s=gC(t,e,r,i);return(!isFinite(s)||s<=0)&&KI(n,function(a){return s=gC(t,e,a,i),isFinite(s)&&s>0}),s}function PW(t,e,n,i,r,s,a,o,l,u,c,h,p,g){const y=wi(Math.round(n*t),Math.round(n*e),Fu);if(h||(y.imageSmoothingEnabled=!1),l.length===0)return y.canvas;y.scale(n,n);function b(C){return Math.round(C*n)/n}y.globalCompositeOperation="lighter";const T=Fr();l.forEach(function(C,k,R){YI(T,C.extent)});let E;const w=n/i,_=(h?1:1+Math.pow(2,-24))/w;{if(E=wi(Math.round(Vt(T)*w),Math.round(yi(T)*w),Fu),h||(E.imageSmoothingEnabled=!1),r&&g){const C=(r[0]-T[0])*w,k=-(r[3]-T[3])*w,R=Vt(r)*w,M=yi(r)*w;E.rect(C,k,R,M),E.clip()}l.forEach(function(C,k,R){if(C.image.width>0&&C.image.height>0){if(C.clipExtent){E.save();const G=(C.clipExtent[0]-T[0])*w,ie=-(C.clipExtent[3]-T[3])*w,W=Vt(C.clipExtent)*w,N=yi(C.clipExtent)*w;E.rect(h?G:Math.round(G),h?ie:Math.round(ie),h?W:Math.round(G+W)-Math.round(G),h?N:Math.round(ie+N)-Math.round(ie)),E.clip()}const M=(C.extent[0]-T[0])*w,I=-(C.extent[3]-T[3])*w,B=Vt(C.extent)*w,U=yi(C.extent)*w;E.drawImage(C.image,u,u,C.image.width-2*u,C.image.height-2*u,h?M:Math.round(M),h?I:Math.round(I),h?B:Math.round(M+B)-Math.round(M),h?U:Math.round(I+U)-Math.round(I)),C.clipExtent&&E.restore()}})}const x=To(a);return o.getTriangles().forEach(function(C,k,R){const M=C.source,I=C.target;let B=M[0][0],U=M[0][1],G=M[1][0],ie=M[1][1],W=M[2][0],N=M[2][1];const j=b((I[0][0]-x[0])/s),F=b(-(I[0][1]-x[1])/s),Q=b((I[1][0]-x[0])/s),_e=b(-(I[1][1]-x[1])/s),ve=b((I[2][0]-x[0])/s),xe=b(-(I[2][1]-x[1])/s),K=B,Z=U;B=0,U=0,G-=K,ie-=Z,W-=K,N-=Z;const P=[[G,ie,0,0,Q-j],[W,N,0,0,ve-j],[0,0,G,ie,_e-F],[0,0,W,N,xe-F]],re=ij(P);if(!re)return;if(y.save(),y.beginPath(),OW()||!h){y.moveTo(Q,_e);const q=4,ye=j-Q,Ze=F-_e;for(let de=0;de<q;de++)y.lineTo(Q+b((de+1)*ye/q),_e+b(de*Ze/(q-1))),de!=q-1&&y.lineTo(Q+b((de+1)*ye/q),_e+b((de+1)*Ze/(q-1)));y.lineTo(ve,xe)}else y.moveTo(Q,_e),y.lineTo(j,F),y.lineTo(ve,xe);y.clip(),y.transform(re[0],re[2],re[1],re[3],j,F),y.translate(T[0]-K,T[3]-Z);let Ee;if(E)Ee=E.canvas,y.scale(_,-_);else{const q=l[0],ye=q.extent;Ee=q.image,y.scale(Vt(ye)/Ee.width,-yi(ye)/Ee.height)}y.drawImage(Ee,0,0),y.restore()}),E&&(uh(E),Fu.push(E.canvas)),c&&(y.save(),y.globalCompositeOperation="source-over",y.strokeStyle="black",y.lineWidth=1,o.getTriangles().forEach(function(C,k,R){const M=C.target,I=(M[0][0]-x[0])/s,B=-(M[0][1]-x[1])/s,U=(M[1][0]-x[0])/s,G=-(M[1][1]-x[1])/s,ie=(M[2][0]-x[0])/s,W=-(M[2][1]-x[1])/s;y.beginPath(),y.moveTo(U,G),y.lineTo(I,B),y.lineTo(ie,W),y.closePath(),y.stroke()}),y.restore()),y.canvas}class k_ extends tg{constructor(e,n,i,r,s,a,o,l,u,c,h,p){super(s,Ve.IDLE,p),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=o,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=a||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const g=r.getTileCoordExtent(this.wrappedTileCoord_),y=this.targetTileGrid_.getExtent();let b=this.sourceTileGrid_.getExtent();const T=y?ro(g,y):g;if(e_(T)===0){this.state=Ve.EMPTY;return}const E=e.getExtent();E&&(b?b=ro(b,E):b=E);const w=r.getResolution(this.wrappedTileCoord_[0]),_=MW(e,i,T,w);if(!isFinite(_)||_<=0){this.state=Ve.EMPTY;return}const x=c!==void 0?c:RW;if(this.triangulation_=new AW(e,i,T,b,_*x,w),this.triangulation_.getTriangles().length===0){this.state=Ve.EMPTY;return}this.sourceZ_=n.getZForResolution(_);let C=this.triangulation_.calculateSourceExtent();if(b&&(e.canWrapX()?(C[1]=Mn(C[1],b[1],b[3]),C[3]=Mn(C[3],b[1],b[3])):C=ro(C,b)),!e_(C))this.state=Ve.EMPTY;else{let k=0,R=0;e.canWrapX()&&(k=Vt(E),R=Math.floor((C[0]-E[0])/k)),XI(C.slice(),e,!0).forEach(I=>{const B=n.getTileRangeForExtentAndZ(I,this.sourceZ_);for(let U=B.minX;U<=B.maxX;U++)for(let G=B.minY;G<=B.maxY;G++){const ie=u(this.sourceZ_,U,G,o);if(ie){const W=R*k;this.sourceTiles_.push({tile:ie,offset:W})}}++R}),this.sourceTiles_.length===0&&(this.state=Ve.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var r;const i=n.tile;if(i&&i.getState()==Ve.LOADED){const s=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);s[0]+=n.offset,s[2]+=n.offset;const a=(r=this.clipExtent_)==null?void 0:r.slice();a&&(a[0]+=n.offset,a[2]+=n.offset),e.push({extent:s,clipExtent:a,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Ve.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(n),o=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=PW(r,s,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Ve.LOADED}this.changed()}load(){if(this.state==Ve.IDLE){this.state=Ve.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==Ve.IDLE||i==Ve.LOADING){e++;const r=Mt(n,lt.CHANGE,function(s){const a=n.getState();(a==Ve.LOADED||a==Ve.ERROR||a==Ve.EMPTY)&&(an(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==Ve.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(an),this.sourcesListenerKeys_=null}release(){this.canvas_&&(uh(this.canvas_.getContext("2d")),Fu.push(this.canvas_),this.canvas_=null),super.release()}}class pO extends tg{constructor(e,n,i,r,s,a){super(e,n,a),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Ve.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Ve.ERROR,this.unlistenImage_(),this.image_=DW(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Ve.LOADED:this.state=Ve.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Ve.ERROR&&(this.state=Ve.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Ve.IDLE&&(this.state=Ve.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=bj(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function DW(){const t=wi(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class LW{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return Ft(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return Ft(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Ft(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}class fb{constructor(e,n,i,r){this.minX=e,this.maxX=n,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function cu(t,e,n,i,r){return r!==void 0?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new fb(t,e,n,i)}function yC(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function _c(t,e,n){return t+"/"+e+"/"+n}function mO(t){return _c(t[0],t[1],t[2])}function FW(t){const[e,n,i]=t.substring(t.lastIndexOf("/")+1,t.length).split(",").map(Number);return _c(e,n,i)}function gO(t){return t.split("/").map(Number)}function NW(t){return(t[1]<<t[0])+t[2]}function $W(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(i,r):!0}const Ja={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class jW extends Lm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Ja.PRELOAD)}setPreload(e){this.set(Ja.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Ja.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Ja.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class yO extends F1{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Fr(),this.tmpTileRange_=new fb(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),i=e.getState(),r=n.getUseInterimTilesOnError();return i==Ve.LOADED||i==Ve.EMPTY||i==Ve.ERROR&&!r}getTile(e,n,i,r){const s=r.pixelRatio,a=r.viewState.projection,o=this.getLayer();let u=o.getSource().getTile(e,n,i,s,a);return u.getState()==Ve.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=Bn(n.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Rl(s,r))return null;const a=n.pixelRatio,o=n.viewState.projection,l=n.viewState,u=i.getRenderSource(),c=u.getTileGridForProjection(l.projection),h=u.getTilePixelRatio(n.pixelRatio);for(let p=c.getZForResolution(l.resolution);p>=c.getMinZoom();--p){const g=c.getTileCoordForCoordAndZ(r,p),y=u.getTile(p,g[1],g[2],a,o);if(!(y instanceof pO||y instanceof k_)||y instanceof k_&&y.getState()===Ve.EMPTY)return null;if(y.getState()!==Ve.LOADED)continue;const b=c.getOrigin(p),T=Ki(c.getTileSize(p)),E=c.getResolution(p),w=Math.floor(h*((r[0]-b[0])/E-g[1]*T[0])),_=Math.floor(h*((b[1]-r[1])/E-g[2]*T[1])),x=Math.round(h*u.getGutterForProjection(l.projection));return this.getImageData(y.getImage(),w+x,_+x)}return null}loadedTileCallback(e,n,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,n,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,a=r.resolution,o=r.center,l=r.rotation,u=e.pixelRatio,c=this.getLayer(),h=c.getSource(),p=h.getRevision(),g=h.getTileGridForProjection(s),y=g.getZForResolution(a,h.zDirection),b=g.getResolution(y);let T=e.extent;const E=e.viewState.resolution,w=h.getTilePixelRatio(u);this.prepareContainer(e,n);const _=this.context.canvas.width,x=this.context.canvas.height,C=i.extent&&Qs(i.extent);C&&(T=ro(T,Qs(i.extent)));const k=b*_/2/w,R=b*x/2/w,M=[o[0]-k,o[1]-R,o[0]+k,o[1]+R],I=g.getTileRangeForExtentAndZ(T,y),B={};B[y]={};const U=this.createLoadedTileFinder(h,s,B),G=this.tmpExtent,ie=this.tmpTileRange_;this.newTiles_=!1;const W=l?n_(r.center,E,l,e.size):void 0;for(let xe=I.minX;xe<=I.maxX;++xe)for(let K=I.minY;K<=I.maxY;++K){if(l&&!g.tileCoordIntersectsViewport([y,xe,K],W))continue;const Z=this.getTile(y,xe,K,e);if(this.isDrawableTile(Z)){const Ee=wt(this);if(Z.getState()==Ve.LOADED){B[y][Z.tileCoord.toString()]=Z;let q=Z.inTransition(Ee);q&&i.opacity!==1&&(Z.endTransition(Ee),q=!1),!this.newTiles_&&(q||!this.renderedTiles.includes(Z))&&(this.newTiles_=!0)}if(Z.getAlpha(Ee,e.time)===1)continue}const P=g.getTileCoordChildTileRange(Z.tileCoord,ie,G);let re=!1;P&&(re=U(y+1,P)),re||g.forEachTileCoordParentTileRange(Z.tileCoord,U,ie,G)}const N=b/a*u/w,j=this.getRenderContext(e);ns(this.tempTransform,_/2,x/2,N,N,0,-_/2,-x/2),C&&this.clipUnrotated(j,e,C),h.getInterpolate()||(j.imageSmoothingEnabled=!1),this.preRender(j,e),this.renderedTiles.length=0;let F=Object.keys(B).map(Number);F.sort(Es);let Q,_e,ve;i.opacity===1&&(!this.containerReused||h.getOpaque(e.viewState.projection))?F=F.reverse():(Q=[],_e=[]);for(let xe=F.length-1;xe>=0;--xe){const K=F[xe],Z=h.getTilePixelSize(K,u,s),re=g.getResolution(K)/b,Ee=Z[0]*re*N,q=Z[1]*re*N,ye=g.getTileCoordForCoordAndZ(To(M),K),Ze=g.getTileCoordExtent(ye),de=Bn(this.tempTransform,[w*(Ze[0]-M[0])/b,w*(M[3]-Ze[3])/b]),qe=w*h.getGutterForProjection(s),H=B[K];for(const L in H){const O=H[L],z=O.tileCoord,J=ye[1]-z[1],he=Math.round(de[0]-(J-1)*Ee),Y=ye[2]-z[2],ue=Math.round(de[1]-(Y-1)*q),D=Math.round(de[0]-J*Ee),$=Math.round(de[1]-Y*q),X=he-D,se=ue-$,Ie=y===K,we=Ie&&O.getAlpha(wt(this),e.time)!==1;let ae=!1;if(!we)if(Q){ve=[D,$,D+X,$,D+X,$+se,D,$+se];for(let ce=0,Le=Q.length;ce<Le;++ce)if(y!==K&&K<_e[ce]){const je=Q[ce];On([D,$,D+X,$+se],[je[0],je[3],je[4],je[7]])&&(ae||(j.save(),ae=!0),j.beginPath(),j.moveTo(ve[0],ve[1]),j.lineTo(ve[2],ve[3]),j.lineTo(ve[4],ve[5]),j.lineTo(ve[6],ve[7]),j.moveTo(je[6],je[7]),j.lineTo(je[4],je[5]),j.lineTo(je[2],je[3]),j.lineTo(je[0],je[1]),j.clip())}Q.push(ve),_e.push(K)}else j.clearRect(D,$,X,se);this.drawTileImage(O,e,D,$,X,se,qe,Ie),Q&&!we?(ae&&j.restore(),this.renderedTiles.unshift(O)):this.renderedTiles.push(O),this.updateUsedTiles(e.usedTiles,h,O)}}return this.renderedRevision=p,this.renderedResolution=b,this.extentChanged=!this.renderedExtent_||!Ju(this.renderedExtent_,M),this.renderedExtent_=M,this.renderedPixelRatio=u,this.renderedProjection=s,this.manageTilePyramid(e,h,g,u,s,T,y,c.getPreload()),this.scheduleExpireCache(e,h),this.postRender(this.context,e),i.extent&&j.restore(),j.imageSmoothingEnabled=!0,this.container}drawTileImage(e,n,i,r,s,a,o,l){const u=this.getTileImage(e);if(!u)return;const c=this.getRenderContext(n),h=wt(this),p=n.layerStatesArray[n.layerIndex],g=p.opacity*(l?e.getAlpha(h,n.time):1),y=g!==c.globalAlpha;y&&(c.save(),c.globalAlpha=g),c.drawImage(u,o,o,u.width-2*o,u.height-2*o,i,r,s,a),y&&c.restore(),g!==p.opacity?n.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const i=(function(r,s,a){const o=wt(r);o in a.usedTiles&&r.expireCache(a.viewState.projection,a.usedTiles[o])}).bind(null,n);e.postRenderFunctions.push(i)}}updateUsedTiles(e,n,i){const r=wt(n);r in e||(e[r]={}),e[r][i.getKey()]=!0}manageTilePyramid(e,n,i,r,s,a,o,l,u){const c=wt(n);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],p=e.tileQueue,g=i.getMinZoom(),y=e.viewState.rotation,b=y?n_(e.viewState.center,e.viewState.resolution,y,e.size):void 0;let T=0,E,w,_,x,C,k;for(k=g;k<=o;++k)for(w=i.getTileRangeForExtentAndZ(a,k,w),_=i.getResolution(k),x=w.minX;x<=w.maxX;++x)for(C=w.minY;C<=w.maxY;++C)y&&!i.tileCoordIntersectsViewport([k,x,C],b)||(o-k<=l?(++T,E=n.getTile(k,x,C,r,s),E.getState()==Ve.IDLE&&(h[E.getKey()]=!0,p.isKeyQueued(E.getKey())||p.enqueue([E,c,i.getTileCoordCenter(E.tileCoord),_])),u!==void 0&&u(E)):n.useTile(k,x,C,s));n.updateCacheSize(T,s)}}class _O extends jW{constructor(e){super(e)}createRenderer(){return new yO(this)}}const BW={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},_C={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class VW extends yO{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=wr(),this.tileClipContexts_=null}prepareTile(e,n,i){let r;const s=e.getState();return(s===Ve.LOADED||s===Ve.ERROR)&&(this.updateExecutorGroup_(e,n,i),this.tileImageNeedsRender_(e)&&(r=!0)),r}getTile(e,n,i,r){const s=r.pixelRatio,a=r.viewState,o=a.resolution,l=a.projection,u=this.getLayer(),c=u.getSource().getTile(e,n,i,s,l),h=r.viewHints,p=!(h[dn.ANIMATING]||h[dn.INTERACTING]);return(p||!c.wantedResolution)&&(c.wantedResolution=o),this.prepareTile(c,s,l)&&(p||Date.now()-r.time<8)&&u.getRenderMode()!=="vector"&&this.renderTileImage_(c,r),super.getTile(e,n,i,r)}isDrawableTile(e){const n=this.getLayer();return super.isDrawableTile(e)&&(n.getRenderMode()==="vector"?wt(n)in e.executorGroups:e.hasContext(n))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){const n=this.getLayer().getRevision();return this.renderedLayerRevision_!==n&&(this.renderedLayerRevision_=n,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,n,i){const r=this.getLayer(),s=r.getRevision(),a=r.getRenderOrder()||null,o=e.wantedResolution,l=e.getReplayState(r);if(!l.dirty&&l.renderedResolution===o&&l.renderedRevision==s&&l.renderedRenderOrder==a)return;const u=r.getSource(),c=!!r.getDeclutter(),h=u.getTileGrid(),g=u.getTileGridForProjection(i).getTileCoordExtent(e.wrappedTileCoord),y=u.getSourceTiles(n,i,e),b=wt(r);delete e.hitDetectionImageData[b],e.executorGroups[b]=[],l.dirty=!1;for(let T=0,E=y.length;T<E;++T){const w=y[T];if(w.getState()!=Ve.LOADED)continue;const _=w.tileCoord,x=h.getTileCoordExtent(_),C=ro(g,x),k=io(C,r.getRenderBuffer()*o,this.tmpExtent),R=Ju(x,C)?null:k,M=new P2(0,C,o,n),I=h_(o,n),B=function(N,j){let F;const Q=N.getStyleFunction()||r.getStyleFunction();if(Q&&(F=Q(N,o)),F){const _e=this.renderFeature(N,I,F,M,c,j);l.dirty=l.dirty||_e}},U=w.getFeatures();a&&a!==l.renderedRenderOrder&&U.sort(a);for(let N=0,j=U.length;N<j;++N){const F=U[N];(!R||On(R,F.getGeometry().getExtent()))&&B.call(this,F,N)}const G=M.finish(),ie=r.getRenderMode()!=="vector"&&c&&y.length===1?null:C,W=new D2(ie,o,n,u.getOverlaps(),G,r.getRenderBuffer(),!0);e.executorGroups[b].push(W)}l.renderedRevision=s,l.renderedRenderOrder=a,l.renderedResolution=o}forEachFeatureAtCoordinate(e,n,i,r,s){const a=n.viewState.resolution,o=n.viewState.rotation;i=i??0;const l=this.getLayer(),c=l.getSource().getTileGridForProjection(n.viewState.projection),h=Jy([e]);io(h,a*i,h);const p={},g=function(T,E,w){let _=T.getId();_===void 0&&(_=wt(T));const x=p[_];if(x){if(x!==!0&&w<x.distanceSq){if(w===0)return p[_]=!0,s.splice(s.lastIndexOf(x),1),r(T,l,E);x.geometry=E,x.distanceSq=w}}else{if(w===0)return p[_]=!0,r(T,l,E);s.push(p[_]={feature:T,layer:l,geometry:E,distanceSq:w,callback:r})}},y=this.renderedTiles;let b;for(let T=0,E=y.length;!b&&T<E;++T){const w=y[T],_=c.getTileCoordExtent(w.wrappedTileCoord);if(!On(_,h))continue;const x=wt(l),C=[w.executorGroups[x]],k=l.getDeclutter();C.some(R=>{const M=k?n.declutter[k].all().map(I=>I.value):null;for(let I=0,B=R.length;I<B;++I)if(b=R[I].forEachFeatureAtCoordinate(e,a,o,i,g,M),b)return!0})}return b}getFeatures(e){return new Promise((n,i)=>{const r=this.getLayer(),s=wt(r),a=r.getSource(),o=this.renderedProjection,l=o.getExtent(),u=this.renderedResolution,c=a.getTileGridForProjection(o),h=Bn(this.renderedPixelToCoordinateTransform_,e.slice()),p=c.getTileCoordForCoordAndResolution(h,u);let g;for(let _=0,x=this.renderedTiles.length;_<x;++_)if(p.toString()===this.renderedTiles[_].tileCoord.toString()){if(g=this.renderedTiles[_],g.getState()===Ve.LOADED){const C=c.getTileCoordExtent(g.tileCoord);a.getWrapX()&&o.canWrapX()&&!Js(l,C)&&h1(h,o);break}g=void 0}if(!g||g.loadingSourceTiles>0){n([]);return}const y=c.getTileCoordExtent(g.wrappedTileCoord),b=To(y),T=[(h[0]-b[0])/u,(b[1]-h[1])/u],E=g.getSourceTiles().reduce(function(_,x){return _.concat(x.getFeatures())},[]);let w=g.hitDetectionImageData[s];if(!w){const _=Ki(c.getTileSize(c.getZForResolution(u,a.zDirection))),x=this.renderedRotation_,C=[this.getRenderTransform(c.getTileCoordCenter(g.wrappedTileCoord),u,0,vr,_[0]*vr,_[1]*vr,0)];w=L2(_,C,E,r.getStyleFunction(),c.getTileCoordExtent(g.wrappedTileCoord),g.getReplayState(r).renderedResolution,x),g.hitDetectionImageData[s]=w}n(F2(T,E,w))})}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,n){const i=this.context,r=i.globalAlpha;i.globalAlpha=n.opacity;const s=e.viewHints,a=!(s[dn.ANIMATING]||s[dn.INTERACTING]),o=this.renderedTiles;for(let l=0,u=o.length;l<u;++l){const c=o[l],h=c.executorGroups[wt(this.getLayer())],p=this.getLayer().getDeclutter();if(h)for(let g=h.length-1;g>=0;--g)h[g].execute(this.context,[this.context.canvas.width,this.context.canvas.height],this.getTileRenderTransform(c,e),e.viewState.rotation,a,Mp,p?e.declutter[p]:void 0)}i.globalAlpha=r}renderDeferredInternal(e){const i=this.renderedTiles.reduce((o,l,u)=>(l.executorGroups[wt(this.getLayer())].forEach(c=>o.push({executorGroup:c,index:u})),o),[]),r=i.map(({executorGroup:o})=>o.getDeferredZIndexContexts()),s={};for(let o=0,l=i.length;o<l;++o){const u=i[o].executorGroup.getDeferredZIndexContexts();for(const c in u)s[c]=!0}Object.keys(s).sort(Es).map(Number).forEach(o=>{r.forEach((l,u)=>{l[o]&&(l[o].forEach(c=>{const{executorGroup:h,index:p}=i[u],g=h.getRenderedContext(),y=g.globalAlpha;g.globalAlpha=this.renderedOpacity_;const b=this.tileClipContexts_[p];b&&b.draw(g),c.draw(g),b&&g.restore(),g.globalAlpha=y,c.clear()}),l[o].length=0)})})}getTileRenderTransform(e,n){const i=n.pixelRatio,r=n.viewState,s=r.center,a=r.resolution,o=r.rotation,l=n.size,u=Math.round(l[0]*i),c=Math.round(l[1]*i),p=this.getLayer().getSource().getTileGridForProjection(n.viewState.projection),g=e.tileCoord,y=p.getTileCoordExtent(e.wrappedTileCoord),b=p.getTileCoordExtent(g,this.tmpExtent)[0]-y[0];return a1(M0(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,a,o,i,u,c,b))}postRender(e,n){var x;const i=n.viewHints,r=!(i[dn.ANIMATING]||i[dn.INTERACTING]);this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation,this.renderedOpacity_=n.layerStatesArray[n.layerIndex].opacity;const s=this.getLayer(),a=s.getRenderMode(),o=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const l=s.getDeclutter(),u=l?_C[a].filter(C=>!Mp.includes(C)):_C[a],c=n.viewState,h=c.rotation,p=s.getSource(),y=p.getTileGridForProjection(c.projection).getZForResolution(c.resolution,p.zDirection),b=this.renderedTiles,T=[],E=[],w=[];let _=!0;for(let C=b.length-1;C>=0;--C){const k=b[C];_=_&&!k.getReplayState(s).dirty;const R=k.executorGroups[wt(s)].filter(W=>W.hasExecutors(u));if(R.length===0)continue;const M=this.getTileRenderTransform(k,n),I=k.tileCoord[0];let B=!1;const U=R[0].getClipCoords(M);let G=e,ie;if(U){ie=new L1,G=ie.getContext();for(let W=0,N=T.length;W<N;++W)if(y!==I&&I<E[W]){const j=T[W];On([U[0],U[3],U[4],U[7]],[j[0],j[3],j[4],j[7]])&&(B||(G.save(),B=!0),G.beginPath(),G.moveTo(U[0],U[1]),G.lineTo(U[2],U[3]),G.lineTo(U[4],U[5]),G.lineTo(U[6],U[7]),G.moveTo(j[6],j[7]),G.lineTo(j[4],j[5]),G.lineTo(j[2],j[3]),G.lineTo(j[0],j[1]),G.clip())}T.push(U),E.push(I)}for(let W=0,N=R.length;W<N;++W)R[W].execute(e,[e.canvas.width,e.canvas.height],M,h,r,u,(x=n.declutter)==null?void 0:x[l]);B&&(G===e?G.restore():w[C]=ie)}e.globalAlpha=o,this.ready=_,this.tileClipContexts_=w,n.declutter||this.renderDeferredInternal(n),super.postRender(e,n)}renderFeature(e,n,i,r,s,a){if(!i)return!1;let o=!1;if(Array.isArray(i))for(let l=0,u=i.length;l<u;++l)o=Pp(r,e,i[l],n,this.boundHandleStyleImageChange_,void 0,s,a)||o;else o=Pp(r,e,i,n,this.boundHandleStyleImageChange_,void 0,s,a);return o}tileImageNeedsRender_(e){const n=this.getLayer();if(n.getRenderMode()==="vector")return!1;const i=e.getReplayState(n),r=n.getRevision(),s=e.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==r}renderTileImage_(e,n){const i=this.getLayer(),r=e.getReplayState(i),s=i.getRevision(),a=e.executorGroups[wt(i)];r.renderedTileRevision=s;const o=e.wrappedTileCoord,l=o[0],u=i.getSource();let c=n.pixelRatio;const p=n.viewState.projection,g=u.getTileGridForProjection(p),y=g.getResolution(e.tileCoord[0]),b=n.pixelRatio/e.wantedResolution*y,T=g.getResolution(l),E=e.getContext(i);c=Math.round(Math.max(c,b/c));const w=u.getTilePixelSize(l,c,p);E.canvas.width=w[0],E.canvas.height=w[1];const _=c/b;if(_!==1){const R=XT(this.tmpTransform_);M0(R,_,_),E.setTransform.apply(E,R)}const x=g.getTileCoordExtent(o,this.tmpExtent),C=b/T,k=XT(this.tmpTransform_);M0(k,C,-C),Fj(k,-x[0],-x[3]);for(let R=0,M=a.length;R<M;++R)a[R].execute(E,[E.canvas.width*_,E.canvas.height*_],k,0,!0,BW[i.getRenderMode()],null);r.renderedTileResolution=e.wantedResolution}}class GW extends Bm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un;const i=e.renderMode||"hybrid";Ft(i=="hybrid"||i=="vector","`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=i,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new VW(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Ja.PRELOAD)}getUseInterimTilesOnError(){return this.get(Ja.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(Ja.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(Ja.USE_INTERIM_TILES_ON_ERROR,e)}}class pb extends LW{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=gO(e)[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(mO(r.tileCoord)),r.release())})}}const ly={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},du=[0,0,0],Na=5;class ng{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Ft(_j(this.resolutions_,(r,s)=>s-r),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Ft(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=To(i)),Ft(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Ft(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:R1,Ft(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{const a=new fb(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const o=this.getTileRangeForExtentAndZ(i,s);a.minX=Math.max(o.minX,a.minX),a.maxX=Math.min(o.maxX,a.maxX),a.minY=Math.max(o.minY,a.minY),a.maxY=Math.min(o.maxY,a.maxY)}return a}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const r=this.getTileRangeForExtentAndZ(e,n);for(let s=r.minX,a=r.maxX;s<=a;++s)for(let o=r.minY,l=r.maxY;o<=l;++o)i([n,s,o])}forEachTileCoordParentTileRange(e,n,i,r){let s,a,o,l=null,u=e[0]-1;for(this.zoomFactor_===2?(a=e[1],o=e[2]):l=this.getTileCoordExtent(e,r);u>=this.minZoom;){if(a!==void 0&&o!==void 0?(a=Math.floor(a/2),o=Math.floor(o/2),s=cu(a,a,o,o,i)):s=this.getTileRangeForExtentAndZ(l,u,i),n(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,a=e[2]*2;return cu(s,s+1,a,a+1,n)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const r=e[0],s=e[1],a=e[2];if(n===r)return cu(s,a,s,a,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-r),u=Math.floor(s*l),c=Math.floor(a*l);if(n<r)return cu(u,u,c,c,i);const h=Math.floor(l*(s+1))-1,p=Math.floor(l*(a+1))-1;return cu(u,h,c,p,i)}const o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,du);const r=du[1],s=du[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,du);const a=du[1],o=du[2];return cu(r,a,s,o,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=Ki(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*r[0]*i,n[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=Ki(this.getTileSize(e[0]),this.tmpSize_),a=i[0]+e[1]*s[0]*r,o=i[1]-(e[2]+1)*s[1]*r,l=a+s[0]*r,u=o+s[1]*r;return la(a,o,l,u,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,r,s){const a=this.getZForResolution(i),o=i/this.getResolution(a),l=this.getOrigin(a),u=Ki(this.getTileSize(a),this.tmpSize_);let c=o*(e-l[0])/i/u[0],h=o*(l[1]-n)/i/u[1];return r?(c=_f(c,Na)-1,h=_f(h,Na)-1):(c=yf(c,Na),h=yf(h,Na)),yC(a,c,h,s)}getTileCoordForXYAndZ_(e,n,i,r,s){const a=this.getOrigin(i),o=this.getResolution(i),l=Ki(this.getTileSize(i),this.tmpSize_);let u=(e-a[0])/o/l[0],c=(a[1]-n)/o/l[1];return r?(u=_f(u,Na)-1,c=_f(c,Na)-1):(u=yf(u,Na),c=yf(c,Na)),yC(i,u,c,s)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=r1(this.resolutions_,e,n||0);return Mn(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return u2(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}function vO(t){let e=t.getDefaultTileGrid();return e||(e=HW(t),t.setDefaultTileGrid(e)),e}function zW(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),s=Sh(n);if(!Rl(s,r)){const a=Vt(s),o=Math.ceil((s[0]-r[0])/a);return r[0]+=a*o,t.getTileCoordForCoordAndZ(r,i)}return e}function UW(t,e,n,i){i=i!==void 0?i:"top-left";const r=bO(t,e,n);return new ng({extent:t,origin:Vj(t,i),resolutions:r,tileSize:n})}function ig(t){const e=t||{},n=e.extent||Tn("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:bO(n,e.maxZoom,e.tileSize,e.maxResolution)};return new ng(i)}function bO(t,e,n,i){e=e!==void 0?e:b2,n=Ki(n!==void 0?n:R1);const r=yi(t),s=Vt(t);i=i>0?i:Math.max(s/n[0],r/n[1]);const a=e+1,o=new Array(a);for(let l=0;l<a;++l)o[l]=i/Math.pow(2,l);return o}function HW(t,e,n,i){const r=Sh(t);return UW(r,e,n,i)}function Sh(t){t=Tn(t);let e=t.getExtent();if(!e){const n=180*Qu.degrees/t.getMetersPerUnit();e=la(-n,-n,n,n)}return e}class YW extends G2{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&Ki(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new pb(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const i=this.getTileCacheForProjection(e);i&&i.expireCache(n)}forEachLoadedTile(e,n,i,r){const s=this.getTileCacheForProjection(e);if(!s)return!1;let a=!0,o,l,u;for(let c=i.minX;c<=i.maxX;++c)for(let h=i.minY;h<=i.maxY;++h)l=_c(n,c,h),u=!1,s.containsKey(l)&&(o=s.get(l),u=o.getState()===Ve.LOADED,u&&(u=r(o)!==!1)),u||(a=!1);return a}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,r,s){return ft()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:vO(e)}getTileCacheForProjection(e){const n=this.getProjection();return Ft(n===null||Ya(n,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(n),a=Ki(r.getTileSize(e),this.tmpSize);return s==1?a:Q$(a,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=zW(i,e,n)),$W(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const i=this.getTileCacheForProjection(n);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,n,i,r){}}class WW extends fa{constructor(e,n){super(e),this.tile=n}}function KW(t,e){const n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(a,o,l){if(a)return t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(r,a[2].toString()).replace(s,function(){const u=a[0],c=e.getFullTileRange(u);if(!c)throw new Error("The {-y} placeholder requires a tile grid with extent");return(c.getHeight()-a[2]-1).toString()})}}function wO(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=KW(t[r],e);return qW(i)}function qW(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const r=NW(e),s=Du(r,t.length);return t[s](e,n,i)}}function XW(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}class rg extends YW{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===rg.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=wt(n),r=n.getState();let s;r==Ve.LOADING?(this.tileLoadingKeys_[i]=!0,s=ly.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==Ve.ERROR?ly.TILELOADERROR:r==Ve.LOADED?ly.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new WW(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=XW(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(wO(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}useTile(e,n,i){const r=_c(e,n,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}class EO extends rg{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ZW,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:pO,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?n:{});for(const r in this.tileCacheForProjection){const s=this.tileCacheForProjection[r];s.expireCache(s==i?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Ya(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Ya(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Ya(n,e)))return this.tileGrid;const i=wt(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=vO(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||Ya(n,e))return this.tileCache;const i=wt(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new pb(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,n,i,r,s,a){const o=[e,n,i],l=this.getTileCoordForTileUrlFunction(o,s),u=l?this.tileUrlFunction(l,r,s):void 0,c=new this.tileClass(o,u!==void 0?Ve.IDLE:Ve.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=a,c.addEventListener(lt.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,n,i,r,s){const a=this.getProjection();if(!a||!s||Ya(a,s))return this.getTileInternal(e,n,i,r,a||s);const o=this.getTileCacheForProjection(s),l=[e,n,i];let u;const c=mO(l);o.containsKey(c)&&(u=o.get(c));const h=this.getKey();if(u&&u.key==h)return u;const p=this.getTileGridForProjection(a),g=this.getTileGridForProjection(s),y=this.getTileCoordForTileUrlFunction(l,s),b=new k_(a,p,s,g,l,y,this.getTilePixelRatio(r),this.getGutter(),(T,E,w,_)=>this.getTileInternal(T,E,w,_,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return b.key=h,u?(b.interimTile=u,b.refreshInterimChain(),o.replace(c,b)):o.set(c,b),b}getTileInternal(e,n,i,r,s){let a=null;const o=_c(e,n,i),l=this.getKey();if(!this.tileCache.containsKey(o))a=this.createTile_(e,n,i,r,s,l),this.tileCache.set(o,a);else if(a=this.tileCache.get(o),a.key!=l){const u=a;a=this.createTile_(e,n,i,r,s,l),u.getState()==Ve.IDLE?a.interimTile=u.interimTile:a.interimTile=u,a.refreshInterimChain(),this.tileCache.replace(o,a)}return a}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const i=Tn(e);if(i){const r=wt(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function ZW(t,e){t.getImage().src=e}class JW extends EO{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:ig({extent:Sh(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}function QW(t,e,n,i){const r=document.createElement("script"),s="olc_"+wt(e);function a(){delete window[s],r.parentNode.removeChild(r)}r.async=!0,r.src=t+(t.includes("?")?"&":"?")+"callback="+s;const o=setTimeout(function(){a(),n&&n()},1e4);window[s]=function(l){clearTimeout(o),a(),e(l)},document.head.appendChild(r)}let e7=class extends tg{constructor(e,n,i,r,s,a){super(e,n,a),this.extent=null,this.format_=r,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=s,this.url_=i,this.key=i}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==Ve.IDLE&&(this.setState(Ve.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,n){this.setFeatures(e)}onError(){this.setState(Ve.ERROR)}setFeatures(e){this.features_=e,this.setState(Ve.LOADED)}setLoader(e){this.loader_=e}};const vC=[];class t7 extends tg{constructor(e,n,i,r){super(e,n,{transition:0}),this.context_={},this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=r.bind(void 0,this),this.wrappedTileCoord=i}getContext(e){const n=wt(e);return n in this.context_||(this.context_[n]=wi(1,1,vC)),this.context_[n]}hasContext(e){return wt(e)in this.context_}getImage(e){return this.hasContext(e)?this.getContext(e).canvas:null}getReplayState(e){const n=wt(e);return n in this.replayState_||(this.replayState_[n]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[n]}load(){this.getSourceTiles()}release(){for(const e in this.context_){const n=this.context_[e];uh(n),vC.push(n.canvas),delete this.context_[e]}super.release()}}class n7 extends rg{constructor(e){const n=e.projection||"EPSG:3857",i=e.extent||Sh(n),r=e.tileGrid||ig({extent:i,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:n,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:TO,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.sourceTileCache=new pb(this.tileCache.highWaterMark),this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:e7,this.tileGrids_={}}getFeaturesInExtent(e){const n=[],i=this.tileCache;if(i.getCount()===0)return n;const r=gO(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach(function(a){if(a.tileCoord[0]!==r||a.getState()!==Ve.LOADED)return;const o=a.getSourceTiles();for(let l=0,u=o.length;l<u;++l){const c=o[l],h=c.tileCoord;if(On(e,s.getTileCoordExtent(h))){const p=c.getFeatures();if(p)for(let g=0,y=p.length;g<y;++g){const b=p[g],T=b.getGeometry();On(e,T.getExtent())&&n.push(b)}}}}),n}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(e,n){const i=this.getTileCacheForProjection(e),r=Object.keys(n).reduce((s,a)=>{const o=FW(a),l=i.peek(o);if(l){const u=l.sourceTiles;for(let c=0,h=u.length;c<h;++c)s[u[c].getKey()]=!0}return s},{});super.expireCache(e,n),this.sourceTileCache.expireCache(r)}getSourceTiles(e,n,i){if(i.getState()===Ve.IDLE){i.setState(Ve.LOADING);const r=i.wrappedTileCoord,s=this.getTileGridForProjection(n),a=s.getTileCoordExtent(r),o=r[0],l=s.getResolution(o);io(a,-l,a);const u=this.tileGrid,c=u.getExtent();c&&ro(a,c,a);const h=u.getZForResolution(l,this.zDirection);u.forEachTileCoord(a,h,p=>{const g=this.tileUrlFunction(p,e,n),y=this.sourceTileCache.containsKey(g)?this.sourceTileCache.get(g):new this.tileClass(p,g?Ve.IDLE:Ve.EMPTY,g,this.format_,this.tileLoadFunction);i.sourceTiles.push(y);const b=y.getState();if(b<Ve.LOADED){const T=E=>{this.handleTileChange(E);const w=y.getState();if(w===Ve.LOADED||w===Ve.ERROR){const _=y.getKey();_ in i.errorTileKeys?y.getState()===Ve.LOADED&&delete i.errorTileKeys[_]:i.loadingSourceTiles--,w===Ve.ERROR?i.errorTileKeys[_]=!0:y.removeEventListener(lt.CHANGE,T),i.loadingSourceTiles===0&&i.setState(fo(i.errorTileKeys)?Ve.LOADED:Ve.ERROR)}};y.addEventListener(lt.CHANGE,T),i.loadingSourceTiles++}b===Ve.IDLE&&(y.extent=u.getTileCoordExtent(p),y.projection=n,y.resolution=u.getResolution(p[0]),this.sourceTileCache.set(g,y),y.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(p=>p.getState()===Ve.ERROR)?Ve.ERROR:Ve.LOADED)}return i.sourceTiles}getTile(e,n,i,r,s){const a=_c(e,n,i),o=this.getKey();let l;if(this.tileCache.containsKey(a)&&(l=this.tileCache.get(a),l.key===o))return l;const u=[e,n,i];let c=this.getTileCoordForTileUrlFunction(u,s);const h=this.getTileGrid().getExtent(),p=this.getTileGridForProjection(s);if(c&&h){const b=p.getTileCoordExtent(c);io(b,-p.getResolution(e),b),On(h,b)||(c=null)}let g=!0;if(c!==null){const b=this.tileGrid,T=p.getResolution(e),E=b.getZForResolution(T,1),w=p.getTileCoordExtent(c);io(w,-T,w),b.forEachTileCoord(w,E,_=>{g=g&&!this.tileUrlFunction(_,r,s)})}const y=new t7(u,g?Ve.EMPTY:Ve.IDLE,c,this.getSourceTiles.bind(this,r,s));return y.key=o,l?(y.interimTile=l,y.refreshInterimChain(),this.tileCache.replace(a,y)):this.tileCache.set(a,y),y}getTileGridForProjection(e){const n=e.getCode();let i=this.tileGrids_[n];if(!i){const r=this.tileGrid,s=r.getResolutions().slice(),a=s.map(function(u,c){return r.getOrigin(c)}),o=s.map(function(u,c){return r.getTileSize(c)}),l=b2+1;for(let u=s.length;u<l;++u)s.push(s[u-1]/2),a.push(a[u-1]),o.push(o[u-1]);i=new ng({extent:r.getExtent(),origins:a,resolutions:s,tileSizes:o}),this.tileGrids_[n]=i}return i}getTilePixelRatio(e){return e}getTilePixelSize(e,n,i){const r=this.getTileGridForProjection(i),s=Ki(r.getTileSize(e),this.tmpSize);return[Math.round(s[0]*n),Math.round(s[1]*n)]}updateCacheSize(e,n){super.updateCacheSize(e*2,n),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(n).highWaterMark}}function TO(t,e){t.setLoader(function(n,i,r){z2(e,t.getFormat(),n,i,r,t.onLoad.bind(t),t.onError.bind(t))})}const i7='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class r7 extends JW{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[i7];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}}const Bp=1/0;class s7{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ch(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Ft(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=Bp?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,r=n.length,s=n[e],a=i[e],o=e;for(;e<r>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<r&&i[u]<i[l]?u:l;n[e]=n[c],i[e]=i[c],e=c}n[e]=s,i[e]=a,this.siftDown_(o,e)}siftDown_(e,n){const i=this.elements_,r=this.priorities_,s=i[n],a=r[n];for(;n>e;){const o=this.getParentIndex_(n);if(r[o]>a)i[n]=i[o],r[n]=r[o],n=o;else break}i[n]=s,r[n]=a}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let r=0;const s=n.length;let a,o,l;for(o=0;o<s;++o)a=n[o],l=e(a),l==Bp?delete this.queuedElements_[this.keyFunction_(a)]:(i[r]=l,n[r++]=a);n.length=r,i.length=r,this.heapify_()}}class a7 extends s7{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(lt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===Ve.LOADED||i===Ve.ERROR||i===Ve.EMPTY){i!==Ve.ERROR&&n.removeEventListener(lt.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0,r,s,a;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;)s=this.dequeue()[0],a=s.getKey(),r=s.getState(),r===Ve.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,s.load())}}function o7(t,e,n,i,r){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Bp;const s=t.viewState.center,a=i[0]-s[0],o=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(a*a+o*o)/r}class l7 extends EO{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:Tn("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)QW(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const n=new XMLHttpRequest;n.addEventListener("load",this.onXHRLoad_.bind(this)),n.addEventListener("error",this.onXHRError_.bind(this)),n.open("GET",e.url),n.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const n=e.target;if(!n.status||n.status>=200&&n.status<300){let i;try{i=JSON.parse(n.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const n=Tn("EPSG:4326"),i=this.getProjection();let r;if(e.bounds!==void 0){const u=ph(n,i);r=Hj(e.bounds,u)}const s=Sh(i),a=e.minzoom||0,o=e.maxzoom||22,l=ig({extent:s,maxZoom:o,minZoom:a,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=wO(e.tiles,l),e.attribution&&!this.getAttributions()){const u=r!==void 0?r:s;this.setAttributions(function(c){return On(u,c.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}var mb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */mb.read=function(t,e,n,i,r){var s,a,o=r*8-i-1,l=(1<<o)-1,u=l>>1,c=-7,h=n?r-1:0,p=n?-1:1,g=t[e+h];for(h+=p,s=g&(1<<-c)-1,g>>=-c,c+=o;c>0;s=s*256+t[e+h],h+=p,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=i;c>0;a=a*256+t[e+h],h+=p,c-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-u}return(g?-1:1)*a*Math.pow(2,s-i)};mb.write=function(t,e,n,i,r,s){var a,o,l,u=s*8-r-1,c=(1<<u)-1,h=c>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:s-1,y=i?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?e+=p/l:e+=p*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(e*l-1)*Math.pow(2,r),a=a+h):(o=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+g]=o&255,g+=y,o/=256,r-=8);for(a=a<<r|o,u+=r;u>0;t[n+g]=a&255,g+=y,a/=256,u-=8);t[n+g-y]|=b*128};var u7=Gt,Af=mb;function Gt(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Gt.Varint=0;Gt.Fixed64=1;Gt.Bytes=2;Gt.Fixed32=5;var R_=65536*65536,bC=1/R_,c7=12,xO=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Gt.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,s=this.pos;this.type=i&7,t(r,e,this),this.pos===s&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Of(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=EC(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Of(this.buf,this.pos)+Of(this.buf,this.pos+4)*R_;return this.pos+=8,t},readSFixed64:function(){var t=Of(this.buf,this.pos)+EC(this.buf,this.pos+4)*R_;return this.pos+=8,t},readFloat:function(){var t=Af.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Af.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e=this.buf,n,i;return i=e[this.pos++],n=i&127,i<128||(i=e[this.pos++],n|=(i&127)<<7,i<128)||(i=e[this.pos++],n|=(i&127)<<14,i<128)||(i=e[this.pos++],n|=(i&127)<<21,i<128)?n:(i=e[this.pos],n|=(i&15)<<28,d7(n,t,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=c7&&xO?C7(this.buf,e,t):x7(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Gt.Bytes)return t.push(this.readVarint(e));var n=Vs(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Gt.Bytes)return t.push(this.readSVarint());var e=Vs(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Gt.Bytes)return t.push(this.readBoolean());var e=Vs(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Gt.Bytes)return t.push(this.readFloat());var e=Vs(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Gt.Bytes)return t.push(this.readDouble());var e=Vs(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Gt.Bytes)return t.push(this.readFixed32());var e=Vs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Gt.Bytes)return t.push(this.readSFixed32());var e=Vs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Gt.Bytes)return t.push(this.readFixed64());var e=Vs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Gt.Bytes)return t.push(this.readSFixed64());var e=Vs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=t&7;if(e===Gt.Varint)for(;this.buf[this.pos++]>127;);else if(e===Gt.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Gt.Fixed32)this.pos+=4;else if(e===Gt.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+e)},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),fu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),fu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),fu(this.buf,t&-1,this.pos),fu(this.buf,Math.floor(t*bC),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),fu(this.buf,t&-1,this.pos),fu(this.buf,Math.floor(t*bC),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t||0,t>268435455||t<0){h7(t,this);return}this.realloc(4),this.buf[this.pos++]=t&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=t>>>7&127)))},writeSVarint:function(t){this.writeVarint(t<0?-t*2-1:t*2)},writeBoolean:function(t){this.writeVarint(!!t)},writeString:function(t){t=String(t),this.realloc(t.length*4),this.pos++;var e=this.pos;this.pos=S7(this.buf,t,this.pos);var n=this.pos-e;n>=128&&wC(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Af.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Af.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&wC(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,Gt.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,m7,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,g7,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,v7,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,y7,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,_7,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,b7,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,w7,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,E7,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,T7,e)},writeBytesField:function(t,e){this.writeTag(t,Gt.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Gt.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Gt.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Gt.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Gt.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Gt.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Gt.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Gt.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Gt.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Gt.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,!!e)}};function d7(t,e,n){var i=n.buf,r,s;if(s=i[n.pos++],r=(s&112)>>4,s<128||(s=i[n.pos++],r|=(s&127)<<3,s<128)||(s=i[n.pos++],r|=(s&127)<<10,s<128)||(s=i[n.pos++],r|=(s&127)<<17,s<128)||(s=i[n.pos++],r|=(s&127)<<24,s<128)||(s=i[n.pos++],r|=(s&1)<<31,s<128))return hu(t,r,e);throw new Error("Expected varint not more than 10 bytes")}function Vs(t){return t.type===Gt.Bytes?t.readVarint()+t.pos:t.pos+1}function hu(t,e,n){return n?e*4294967296+(t>>>0):(e>>>0)*4294967296+(t>>>0)}function h7(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(n=~(-t%4294967296),i=~(-t/4294967296),n^4294967295?n=n+1|0:(n=0,i=i+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),f7(n,i,e),p7(i,e)}function f7(t,e,n){n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos]=t&127}function p7(t,e){var n=(t&7)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127)))))}function wC(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function m7(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function g7(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function y7(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function _7(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function v7(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function b7(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function w7(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function E7(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function T7(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function Of(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+t[e+3]*16777216}function fu(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function EC(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function x7(t,e,n){for(var i="",r=e;r<n;){var s=t[r],a=null,o=s>239?4:s>223?3:s>191?2:1;if(r+o>n)break;var l,u,c;o===1?s<128&&(a=s):o===2?(l=t[r+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=t[r+1],u=t[r+2],(l&192)===128&&(u&192)===128&&(a=(s&15)<<12|(l&63)<<6|u&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=t[r+1],u=t[r+2],c=t[r+3],(l&192)===128&&(u&192)===128&&(c&192)===128&&(a=(s&15)<<18|(l&63)<<12|(u&63)<<6|c&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,i+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),i+=String.fromCharCode(a),r+=o}return i}function C7(t,e,n){return xO.decode(t.subarray(e,n))}function S7(t,e,n){for(var i=0,r,s;i<e.length;i++){if(r=e.charCodeAt(i),r>55295&&r<57344)if(s)if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,s=r;continue}else r=s-55296<<10|r-56320|65536,s=null;else{r>56319||i+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):s=r;continue}else s&&(t[n++]=239,t[n++]=191,t[n++]=189,s=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=r&63|128)}return n}const k7=Hp(u7);class R7 extends g2{constructor(e){super(),e=e||{},this.dataProjection=new c1({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:Si,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,n,i,r){e.pos=n.geometry;const s=e.readVarint()+e.pos;let a=1,o=0,l=0,u=0,c=0,h=0;for(;e.pos<s;){if(!o){const p=e.readVarint();a=p&7,o=p>>3}if(o--,a===1||a===2)l+=e.readSVarint(),u+=e.readSVarint(),a===1&&c>h&&(r.push(c),h=c),i.push(l,u),c+=2;else if(a===7)c>h&&(i.push(i[h],i[h+1]),c+=2);else throw new Error("Invalid command found in the PBF")}c>h&&(r.push(c),h=c)}createFeature_(e,n,i){const r=n.type;if(r===0)return null;let s;const a=n.properties;let o;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=n.id,a[this.layerName_]=n.layer.name;const l=[],u=[];this.readRawGeometry_(e,n,l,u);const c=P7(r,u.length);if(this.featureClass===Si)s=new this.featureClass(c,l,u,2,a,o),s.transform(i.dataProjection);else{let h;if(c=="Polygon"){const y=p2(l,u);h=y.length>1?new Vd(l,"XY",y):new Bd(l,"XY",u)}else h=c==="Point"?new ua(l,"XY"):c==="LineString"?new Il(l,"XY"):c==="MultiPoint"?new gh(l,"XY"):c==="MultiLineString"?new $d(l,"XY",u):null;const p=this.featureClass;s=new p,this.geometryName_&&s.setGeometryName(this.geometryName_);const g=Dm(h,!1,i);s.setGeometry(g),o!==void 0&&s.setId(o),s.setProperties(a,!0)}return s}getType(){return"arraybuffer"}readFeatures(e,n){const i=this.layers_;n=this.adaptOptions(n);const r=Tn(n.dataProjection);r.setWorldExtent(n.extent),n.dataProjection=r;const s=new k7(e),a=s.readFields(I7,{}),o=[];for(const l in a){if(i&&!i.includes(l))continue;const u=a[l],c=u?[0,0,u.extent,u.extent]:null;r.setExtent(c);for(let h=0,p=u.length;h<p;++h){const g=M7(s,u,h),y=this.createFeature_(s,g,n);y!==null&&o.push(y)}}return o}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function I7(t,e,n){if(t===3){const i={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(A7,i,r),i.length=i.features.length,i.length&&(e[i.name]=i)}}function A7(t,e,n){if(t===15)e.version=n.readVarint();else if(t===1)e.name=n.readString();else if(t===5)e.extent=n.readVarint();else if(t===2)e.features.push(n.pos);else if(t===3)e.keys.push(n.readString());else if(t===4){let i=null;const r=n.readVarint()+n.pos;for(;n.pos<r;)t=n.readVarint()>>3,i=t===1?n.readString():t===2?n.readFloat():t===3?n.readDouble():t===4?n.readVarint64():t===5?n.readVarint():t===6?n.readSVarint():t===7?n.readBoolean():null;e.values.push(i)}}function O7(t,e,n){if(t==1)e.id=n.readVarint();else if(t==2){const i=n.readVarint()+n.pos;for(;n.pos<i;){const r=e.layer.keys[n.readVarint()],s=e.layer.values[n.readVarint()];e.properties[r]=s}}else t==3?e.type=n.readVarint():t==4&&(e.geometry=n.pos)}function M7(t,e,n){t.pos=e.features[n];const i=t.readVarint()+t.pos,r={layer:e,type:0,properties:{}};return t.readFields(O7,r,i),r}function P7(t,e){let n;return t===1?n=e===1?"Point":"MultiPoint":t===2?n=e===1?"LineString":"MultiLineString":t===3&&(n="Polygon"),n}class D7 extends i1{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){ft()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;ns(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),zI(r,i)}forEachFeatureAtCoordinate(e,n,i,r,s,a,o,l){let u;const c=n.viewState;function h(x,C,k,R){return s.call(a,C,x?k:null,R)}const p=c.projection,g=h1(e.slice(),p),y=[[0,0]];if(p.canWrapX()&&r){const x=p.getExtent(),C=Vt(x);y.push([-C,0],[C,0])}const b=n.layerStatesArray,T=b.length,E=[],w=[];for(let x=0;x<y.length;x++)for(let C=T-1;C>=0;--C){const k=b[C],R=k.layer;if(R.hasRenderer()&&M1(k,c)&&o.call(l,R)){const M=R.getRenderer(),I=R.getSource();if(M&&I){const B=I.getWrapX()?g:e,U=h.bind(null,k.managed);w[0]=B[0]+y[x][0],w[1]=B[1]+y[x][1],u=M.forEachFeatureAtCoordinate(w,n,i,U,E)}if(u)return u}}if(E.length===0)return;const _=1/E.length;return E.forEach((x,C)=>x.distanceSq+=C*_),E.sort((x,C)=>x.distanceSq-C.distanceSq),E.some(x=>u=x.callback(x.feature,x.layer,x.geometry)),u}hasFeatureAtCoordinate(e,n,i,r,s,a){return this.forEachFeatureAtCoordinate(e,n,i,r,Ad,this,s,a)!==void 0}getMap(){return this.map_}renderFrame(e){ft()}scheduleExpireIconCache(e){ys.canExpireCache()&&e.postRenderFunctions.push(L7)}}function L7(t,e){ys.expire()}class F7 extends D7{constructor(e){super(e),this.fontChangeListenerKey_=Mt(Us,qu.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=kl+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const r=new O2(e,void 0,n);i.dispatchEvent(r)}}disposeInternal(){an(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Mr.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex});n.some(o=>o.layer instanceof Bm&&o.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const s=[];let a=null;for(let o=0,l=n.length;o<l;++o){const u=n[o];e.layerIndex=o;const c=u.layer,h=c.getSourceState();if(!M1(u,r)||h!="ready"&&h!="undefined"){c.unrender();continue}const p=c.render(e,a);p&&(p!==a&&(this.children_.push(p),a=p),s.push(u))}this.declutter(e,s),pj(this.element_,this.children_),this.dispatchRenderEvent(Mr.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const r=n[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}n.forEach(i=>i.layer.renderDeferred(e))}}}class wu extends fa{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class ja extends wu{constructor(e,n,i,r,s,a){super(e,n,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Rn={SINGLECLICK:"singleclick",CLICK:lt.CLICK,DBLCLICK:lt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Wa={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class N7 extends dh{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Mt(i,Wa.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Mt(i,Wa.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(lt.TOUCHMOVE,this.boundHandleTouchMove_,LI?{passive:!1}:!1)}emulateClick_(e){let n=new ja(Rn.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new ja(Rn.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new ja(Rn.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==Rn.POINTERUP||n.type==Rn.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==Rn.POINTERDOWN||n.type==Rn.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new ja(Rn.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(an),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new ja(Rn.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Mt(i,Rn.POINTERMOVE,this.handlePointerMove_,this),Mt(i,Rn.POINTERUP,this.handlePointerUp_,this),Mt(this.element_,Rn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Mt(this.element_.getRootNode(),Rn.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new ja(Rn.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new ja(Rn.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(an(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(lt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(an(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(an),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const $i={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};class kh extends ss{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){vp(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&vp(this.element);for(let n=0,i=this.listenerKeys.length;n<i;++n)an(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ku&&this.listenerKeys.push(Mt(e,Ws.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class $7 extends kh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"›",a=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=a):this.collapseLabel_=s;const o=e.label!==void 0?e.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=r):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(lt.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+kl+" "+Cm+(this.collapsed_&&this.collapsible_?" "+WT:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(r=>r.getAttributions(e)))),i=!this.getMap().getAllLayers().some(r=>r.getSource()&&r.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),n}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(r=>$I(()=>r))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Eo(n,this.renderedAttributions_)){FI(this.ulElement_);for(let r=0,s=n.length;r<s;++r){const a=document.createElement("li");a.innerHTML=n[r],this.ulElement_.appendChild(a)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(WT),this.collapsed_?HT(this.collapseLabel_,this.label_):HT(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class j7 extends kh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"⇧",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=s,a.appendChild(this.label_),a.addEventListener(lt.CLICK,this.handleClick_.bind(this),!1);const o=n+" "+kl+" "+Cm,l=this.element;l.className=o,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(vf)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:$l}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(vf);!s&&i===0?this.element.classList.add(vf):s&&i!==0&&this.element.classList.remove(vf)}this.label_.style.transform=r}this.rotation_=i}}class CO extends kh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",o=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=l,c.appendChild(typeof a=="string"?document.createTextNode(a):a),c.addEventListener(lt.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(lt.CLICK,this.handleClick_.bind(this,-i),!1);const p=n+" "+kl+" "+Cm,g=this.element;g.className=p,g.appendChild(c),g.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:$l})):i.setZoom(s)}}}function B7(t){t=t||{};const e=new vs;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new CO(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new j7(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new $7(t.attributionOptions)),e}const TC={ACTIVE:"active"};class Rh extends ss{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(TC.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(TC.ACTIVE,e)}setMap(e){this.map_=e}}function V7(t,e,n){const i=t.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:Z4,center:t.getConstrainedCenter(r)})}}function gb(t,e,n,i){const r=t.getZoom();if(r===void 0)return;const s=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:i!==void 0?i:250,easing:$l})}class G7 extends Rh{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Rn.DBLCLICK){const i=e.originalEvent,r=e.map,s=e.coordinate,a=i.shiftKey?-this.delta_:this.delta_,o=r.getView();gb(o,a,s,this.duration_),i.preventDefault(),n=!0}return!n}}class Ih extends Rh{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Rn.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Rn.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Rn.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==Rn.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function yb(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}function I_(t){const e=arguments;return function(n){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](n),!!i);++r);return i}}const z7=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},U7=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},SO=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?U7(t):!0},H7=Ad,kO=function(t){const e=t.originalEvent;return e.button==0&&!(dj&&OI&&e.ctrlKey)},RO=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Y7=function(t){const e=t.originalEvent;return OI?e.metaKey:e.ctrlKey},W7=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},IO=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},uy=function(t){const e=t.originalEvent;return Ft(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},K7=function(t){const e=t.originalEvent;return Ft(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class q7 extends Ih{constructor(e){super({stopDown:xm}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:I_(RO,K7);this.condition_=e.onFocusOnly?I_(SO,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,r=n.getEventPixel(yb(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],o=e.map.getView();n4(s,o.getResolution()),d1(s,o.getRotation()),o.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenterInternal(),o=n.getPixelFromCoordinateInternal(a),l=n.getCoordinateFromPixelInternal([o[0]-r*Math.cos(s),o[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:$l})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class X7 extends Ih{constructor(e){e=e||{},super({stopDown:xm}),this.condition_=e.condition?e.condition:z7,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!uy(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===O1)return;const r=n.getSize(),s=e.pixel,a=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){const o=a-this.lastAngle_;i.adjustRotationInternal(-o)}this.lastAngle_=a}handleUpEvent(e){return uy(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return uy(e)&&kO(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class Z7 extends i1{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],n[0])+i,r.top=Math.min(e[1],n[1])+i,r.width=Math.abs(n[0]-e[0])+i,r.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,r=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Bd([r])}getGeometry(){return this.geometry_}}const Kc={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Mf extends fa{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class J7 extends Ih{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new Z7(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:kO,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const r=i[0]-n[0],s=i[1]-n[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Mf(Kc.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Mf(n?Kc.BOXEND:Kc.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Mf(Kc.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Mf(Kc.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}}class Q7 extends J7{constructor(e){e=e||{};const n=e.condition?e.condition:W7;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(r),a=i.getResolutionForExtentInternal(s),o=i.getResolution()/a;r=r.clone(),r.scale(o*o)}i.fitInternal(r,{duration:this.duration_,easing:$l})}}const Ko={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class eK extends Rh{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return RO(n)&&IO(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==lt.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==Ko.DOWN||r==Ko.LEFT||r==Ko.RIGHT||r==Ko.UP)){const a=e.map.getView(),o=a.getResolution()*this.pixelDelta_;let l=0,u=0;r==Ko.DOWN?u=-o:r==Ko.LEFT?l=-o:r==Ko.RIGHT?l=o:u=o;const c=[l,u];d1(c,a.getRotation()),V7(a,c,this.duration_),i.preventDefault(),n=!0}}return!n}}class tK extends Rh{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!Y7(n)&&IO(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==lt.KEYDOWN||e.type==lt.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const s=e.map,a=r==="+"?this.delta_:-this.delta_,o=s.getView();gb(o,a,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class nK{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;const s=this.points_[n]-this.points_[i],a=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(a,s),this.initialVelocity_=Math.sqrt(s*s+a*a)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class iK extends Rh{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:H7;this.condition_=e.onFocusOnly?I_(SO,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==lt.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==lt.WHEEL&&(s=r.deltaY,uj&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=MI),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const o=i.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-Mn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),gb(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class rK extends Ih{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=xm),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;const a=e.map,o=a.getView();o.getConstraints().rotation!==O1&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(yb(this.targetPointers))),this.rotating_&&(a.render(),o.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class sK extends Ih{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=xm),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,a=i.clientY-r.clientY,o=Math.sqrt(s*s+a*a);this.lastDistance_!==void 0&&(n=this.lastDistance_/o),this.lastDistance_=o;const l=e.map,u=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(yb(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function aK(t){t=t||{};const e=new vs,n=new nK(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new X7),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new G7({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new q7({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new rK),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new sK({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new eK),e.push(new tK({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new iK({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new Q7({duration:t.zoomDuration})),e}function AO(t){if(t instanceof Lm){t.setMapInternal(null);return}t instanceof yc&&t.getLayers().forEach(AO)}function OO(t,e){if(t instanceof Lm){t.setMapInternal(e);return}if(t instanceof yc){const n=t.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)OO(n[i],e)}}let MO=class extends ss{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=oK(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:MI,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=wr(),this.pixelToCoordinateTransform_=wr(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||B7(),this.interactions=n.interactions||aK({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new a7(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener($i.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener($i.VIEW,this.handleViewChanged_),this.addChangeListener($i.SIZE,this.handleSizeChanged_),this.addChangeListener($i.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof Wr)&&e.view.then(function(r){i.setView(new Wr(r))}),this.controls.addEventListener(nr.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(nr.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(nr.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(nr.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(nr.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(nr.REMOVE,r=>{const s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){OO(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const s=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:Ad,o=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,o,n,null,a,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(r){r instanceof yc?n(r.getLayers()):e.push(r)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:Ad,s=n.hitTolerance!==void 0?n.hitTolerance:0,a=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,a,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],a=i.height/r[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-i.left)/s,(o.clientY-i.top)/a]}getTarget(){return this.get($i.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return s_(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?Bn(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get($i.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof vs){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const a=r.layer.getSource();if(a&&a.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Hs(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?Bn(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get($i.SIZE)}getView(){return this.get($i.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,r){return o7(this.frameState_,e,n,i,r)}handleBrowserEvent(e,n){n=n||e.type;const i=new ja(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===Wa.POINTERDOWN||i===lt.WHEEL||i===lt.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,a=n.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===r?r.documentElement:s).contains(a))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const a=r[s];if(a.getMap()!==this||!a.getActive()||!this.getTargetElement())continue;if(!a.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const a=e.viewHints;if(a[dn.ANIMATING]||a[dn.INTERACTING]){const o=Date.now()-e.time>8;r=o?0:8,s=o?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(Mr.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Mr.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new wu(Ws.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new wu(Ws.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)an(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(lt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(lt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,vp(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new F7(this)),this.mapBrowserEventHandler_=new N7(this,this.moveTolerance_);for(const s in Rn)this.mapBrowserEventHandler_.addEventListener(Rn[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(lt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(lt.WHEEL,this.boundHandleBrowserEvent_,LI?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[Mt(i,lt.KEYDOWN,this.handleBrowserEvent,this),Mt(i,lt.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(an(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(an(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Mt(e,qu.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Mt(e,lt.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(an),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Ua("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Mt(e,qu.PROPERTYCHANGE,this.render,this),Mt(e,lt.CHANGE,this.render,this),Mt(e,"addlayer",this.handleLayerAdd_,this),Mt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){AO(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),r=this.frameState_;let s=null;if(n!==void 0&&VT(n)&&i&&i.isDef()){const a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:t_(o.center,o.resolution,o.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:a,wantedTiles:{},mapId:wt(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const l=isNaN(o.nextRotation)?o.rotation:o.nextRotation;s.nextExtent=t_(o.nextCenter,o.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Ll(this.previousExtent_)&&!Ju(s.extent,this.previousExtent_))&&(this.dispatchEvent(new wu(Ws.MOVESTART,this,r)),this.previousExtent_=dc(this.previousExtent_)),this.previousExtent_&&!s.viewHints[dn.ANIMATING]&&!s.viewHints[dn.INTERACTING]&&!Ju(s.extent,this.previousExtent_)&&(this.dispatchEvent(new wu(Ws.MOVEEND,this,s)),UI(s.extent,this.previousExtent_))),this.dispatchEvent(new wu(Ws.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Ws.LOADSTART)||this.hasListener(Ws.LOADEND)||this.hasListener(Mr.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Ua("removelayer",n)),this.set($i.LAYERGROUP,e)}setSize(e){this.set($i.SIZE,e)}setTarget(e){this.set($i.TARGET,e)}setView(e){if(!e||e instanceof Wr){this.set($i.VIEW,e);return}this.set($i.VIEW,new Wr);const n=this;e.then(function(i){n.setView(new Wr(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),a=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(a)&&(n=[s,a],!VT(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&ZI("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!Eo(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function oK(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new yc({layers:t.layers});n[$i.LAYERGROUP]=i,n[$i.TARGET]=t.target,n[$i.VIEW]=t.view instanceof Wr?t.view:new Wr;let r;t.controls!==void 0&&(Array.isArray(t.controls)?r=new vs(t.controls.slice()):(Ft(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new vs(t.interactions.slice()):(Ft(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let a;return t.overlays!==void 0?Array.isArray(t.overlays)?a=new vs(t.overlays.slice()):(Ft(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new vs,{controls:r,interactions:s,keyboardEventTarget:e,overlays:a,values:n}}var lK={338:t=>{t.exports=e;function e(n,i){this.x=n,this.y=i}e.prototype={clone:function(){return new e(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,i){return this.clone()._rotateAround(n,i)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var i=n.x-this.x,r=n.y-this.y;return i*i+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,i){return Math.atan2(this.x*i-this.y*n,this.x*n+this.y*i)},_matMult:function(n){var i=n[0]*this.x+n[1]*this.y,r=n[2]*this.x+n[3]*this.y;return this.x=i,this.y=r,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var i=Math.cos(n),r=Math.sin(n),s=i*this.x-r*this.y,a=r*this.x+i*this.y;return this.x=s,this.y=a,this},_rotateAround:function(n,i){var r=Math.cos(n),s=Math.sin(n),a=i.x+r*(this.x-i.x)-s*(this.y-i.y),o=i.y+s*(this.x-i.x)+r*(this.y-i.y);return this.x=a,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(n){return n instanceof e?n:Array.isArray(n)?new e(n[0],n[1]):n}},946:t=>{t.exports=e;function e(n,i,r,s){this.cx=3*n,this.bx=3*(r-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(s-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=s,this.p2x=r,this.p2y=s}e.prototype.sampleCurveX=function(n){return((this.ax*n+this.bx)*n+this.cx)*n},e.prototype.sampleCurveY=function(n){return((this.ay*n+this.by)*n+this.cy)*n},e.prototype.sampleCurveDerivativeX=function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},e.prototype.solveCurveX=function(n,i){typeof i>"u"&&(i=1e-6);var r,s,a,o,l;for(a=n,l=0;l<8;l++){if(o=this.sampleCurveX(a)-n,Math.abs(o)<i)return a;var u=this.sampleCurveDerivativeX(a);if(Math.abs(u)<1e-6)break;a=a-o/u}if(r=0,s=1,a=n,a<r)return r;if(a>s)return s;for(;r<s;){if(o=this.sampleCurveX(a),Math.abs(o-n)<i)return a;n>o?r=a:s=a,a=(s-r)*.5+r}return a},e.prototype.solve=function(n,i){return this.sampleCurveY(this.solveCurveX(n,i))}},872:(t,e)=>{var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(u){return u=Math.round(u),u<0?0:u>255?255:u}function r(u){return u<0?0:u>1?1:u}function s(u){return u[u.length-1]==="%"?i(parseFloat(u)/100*255):i(parseInt(u))}function a(u){return u[u.length-1]==="%"?r(parseFloat(u)/100):r(parseFloat(u))}function o(u,c,h){return h<0?h+=1:h>1&&(h-=1),h*6<1?u+(c-u)*h*6:h*2<1?c:h*3<2?u+(c-u)*(2/3-h)*6:u}function l(u){var c=u.replace(/ /g,"").toLowerCase();if(c in n)return n[c].slice();if(c[0]==="#"){if(c.length===4){var h=parseInt(c.substr(1),16);return h>=0&&h<=4095?[(h&3840)>>4|(h&3840)>>8,h&240|(h&240)>>4,h&15|(h&15)<<4,1]:null}else if(c.length===7){var h=parseInt(c.substr(1),16);return h>=0&&h<=16777215?[(h&16711680)>>16,(h&65280)>>8,h&255,1]:null}return null}var p=c.indexOf("("),g=c.indexOf(")");if(p!==-1&&g+1===c.length){var y=c.substr(0,p),b=c.substr(p+1,g-(p+1)).split(","),T=1;switch(y){case"rgba":if(b.length!==4)return null;T=a(b.pop());case"rgb":return b.length!==3?null:[s(b[0]),s(b[1]),s(b[2]),T];case"hsla":if(b.length!==4)return null;T=a(b.pop());case"hsl":if(b.length!==3)return null;var E=(parseFloat(b[0])%360+360)%360/360,w=a(b[1]),_=a(b[2]),x=_<=.5?_*(w+1):_+w-_*w,C=_*2-x;return[i(o(C,x,E+1/3)*255),i(o(C,x,E)*255),i(o(C,x,E-1/3)*255),T];default:return null}}return null}try{e.G=l}catch{}},523:t=>{var e={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},n=" ",i=/(italic|oblique)$/i,r={};t.exports=function(s,a,o){var l=r[s];if(!l){Array.isArray(s)||(s=[s]);for(var u=400,c="normal",h=[],p,g,y=0,b=s.length;y<b;++y){var T=s[y],E=T.split(" "),w=E[E.length-1].toLowerCase();w=="normal"||w=="italic"||w=="oblique"?(c=g?c:w,E.pop(),w=E[E.length-1].toLowerCase()):i.test(w)&&(w=w.replace(i,""),c=g?c:E[E.length-1].replace(w,""));for(var _ in e){var x=E.length>1?E[E.length-2].toLowerCase():"";if(w==_||w==_.replace("-","")||x+"-"+w==_){u=p?u:e[_],E.pop(),x&&_.startsWith(x)&&E.pop();break}}!p&&typeof w=="number"&&(u=w);var C=E.join(n).replace("Klokantech Noto Sans","Noto Sans");C.indexOf(n)!==-1&&(C='"'+C+'"'),h.push(C)}l=r[s]=[c,u,h]}return l[0]+n+l[1]+n+a+"px"+(o?"/"+o:"")+n+l[2]}},619:t=>{t.exports=n;var e=function(i){function r(){i.apply(this,arguments)}return i&&(r.__proto__=i),r.prototype=Object.create(i&&i.prototype),r.prototype.constructor=r,r}(Error);e.prototype.name="AssertionError";function n(i,r){if(!i){var s=new e(r);throw Error.captureStackTrace&&Error.captureStackTrace(s,n),s}}},422:function(t){(function(){var e;t.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return e},getLink:function(n){return"https://fonts.google.com/specimen/"+n.replace(/( )/g,"+")},normalizeName:function(n){return n}},e=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},954:t=>{t.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1,"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1,"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1,"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"distance-from-center":{group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"heatmap-density":{group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"sdk-support":{"basic functionality":{js:"2.3.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"2.3.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"2.3.0"}}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{}},default:"mercator",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},terrain:{source:{type:"string",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}}}},xC={};function kt(t){var e=xC[t];if(e!==void 0)return e.exports;var n=xC[t]={exports:{}};return lK[t].call(n.exports,n,n.exports,kt),n.exports}kt.d=(t,e)=>{for(var n in e)kt.o(e,n)&&!kt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};kt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);kt.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var uK={};(()=>{kt.d(uK,{nn:()=>Pw,h0:()=>nD,bg:()=>xw,ZP:()=>Pw,gG:()=>cD,Hs:()=>oD,xb:()=>zg,b5:()=>lD,YU:()=>FP,iC:()=>DP,LN:()=>uD,uX:()=>_w});var t={};kt.r(t),kt.d(t,{array:()=>vM,color:()=>_M,number:()=>hr});var e={};kt.r(e),kt.d(e,{hcl:()=>Sc,lab:()=>Cc});var n=f=>{var d={};return kt.d(d,f),d};const i=n({default:()=>Pl});var r=f=>{var d={};return kt.d(d,f),d};const s=r({default:()=>xo});var a=f=>{var d={};return kt.d(d,f),d};const o=a({default:()=>_h});var l=f=>{var d={};return kt.d(d,f),d};const u=l({default:()=>Si});var c=f=>{var d={};return kt.d(d,f),d};const h=c({default:()=>yh});var p=f=>{var d={};return kt.d(d,f),d};const g=p({default:()=>xs});var y=f=>{var d={};return kt.d(d,f),d};const b=y({default:()=>Fm});var T=kt(872),E=function(d,m,v,S){S===void 0&&(S=1),this.r=d,this.g=m,this.b=v,this.a=S};E.parse=function(d){if(d){if(d instanceof E)return d;if(typeof d=="string"){var m=(0,T.G)(d);if(m)return new E(m[0]/255*m[3],m[1]/255*m[3],m[2]/255*m[3],m[3])}}},E.prototype.toString=function(){var d=this.toArray(),m=d[0],v=d[1],S=d[2],A=d[3];return"rgba("+Math.round(m)+","+Math.round(v)+","+Math.round(S)+","+A+")"},E.prototype.toArray=function(){var d=this,m=d.r,v=d.g,S=d.b,A=d.a;return A===0?[0,0,0,0]:[m*255/A,v*255/A,S*255/A,A]},E.black=new E(0,0,0,1),E.white=new E(1,1,1,1),E.transparent=new E(0,0,0,0),E.red=new E(1,0,0,1),E.blue=new E(0,0,1,1);const w=E;var _=kt(619);const x=k;function C(f){return typeof f=="object"?["literal",f]:f}function k(f,d){var m=f.stops;if(!m)return R(f,d);var v=m&&typeof m[0][0]=="object",S=v||f.property!==void 0,A=v||!S;return m=m.map(function(V){return!S&&d.tokens&&typeof V[1]=="string"?[V[0],F(V[1])]:[V[0],C(V[1])]}),v?I(f,d,m):A?ie(f,d,m):G(f,d,m)}function R(f,d){var m=["get",f.property];if(f.default===void 0)return d.type==="string"?["string",m]:m;if(d.type==="enum")return["match",m,Object.keys(d.values),m,f.default];var v=[d.type==="color"?"to-color":d.type,m,C(f.default)];return d.type==="array"&&v.splice(1,0,d.value,d.length||null),v}function M(f){switch(f.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function I(f,d,m){for(var v={},S={},A=[],V=0;V<m.length;V++){var ee=m[V],fe=ee[0].zoom;v[fe]===void 0&&(v[fe]={zoom:fe,type:f.type,property:f.property,default:f.default},S[fe]=[],A.push(fe)),S[fe].push([ee[0].value,ee[1]])}var le=j({},d);if(le==="exponential"){for(var me=[M(f),["linear"],["zoom"]],Ce=0,Fe=A;Ce<Fe.length;Ce+=1){var Ne=Fe[Ce],it=G(v[Ne],d,S[Ne]);N(me,Ne,it,!1)}return me}else{for(var He=["step",["zoom"]],$e=0,ln=A;$e<ln.length;$e+=1){var Pt=ln[$e],Ln=G(v[Pt],d,S[Pt]);N(He,Pt,Ln,!0)}return W(He),He}}function B(f,d){if(f!==void 0)return f;if(d!==void 0)return d}function U(f,d){var m=C(B(f.default,d.default));return m===void 0&&d.type==="resolvedImage"?"":m}function G(f,d,m){var v=j(f,d),S=["get",f.property];if(v==="categorical"&&typeof m[0][0]=="boolean"){_(f.stops.length>0&&f.stops.length<=2);for(var A=["case"],V=0,ee=m;V<ee.length;V+=1){var fe=ee[V];A.push(["==",S,fe[0]],fe[1])}return A.push(U(f,d)),A}else if(v==="categorical"){for(var le=["match",S],me=0,Ce=m;me<Ce.length;me+=1){var Fe=Ce[me];N(le,Fe[0],Fe[1],!1)}return le.push(U(f,d)),le}else if(v==="interval"){for(var Ne=["step",["number",S]],it=0,He=m;it<He.length;it+=1){var $e=He[it];N(Ne,$e[0],$e[1],!0)}return W(Ne),f.default===void 0?Ne:["case",["==",["typeof",S],"number"],Ne,C(f.default)]}else if(v==="exponential"){for(var ln=f.base!==void 0?f.base:1,Pt=[M(f),ln===1?["linear"]:["exponential",ln],["number",S]],Ln=0,rn=m;Ln<rn.length;Ln+=1){var Rt=rn[Ln];N(Pt,Rt[0],Rt[1],!1)}return f.default===void 0?Pt:["case",["==",["typeof",S],"number"],Pt,C(f.default)]}else throw new Error("Unknown property function type "+v)}function ie(f,d,m,v){v===void 0&&(v=["zoom"]);var S=j(f,d),A,V=!1;if(S==="interval")A=["step",v],V=!0;else if(S==="exponential"){var ee=f.base!==void 0?f.base:1;A=[M(f),ee===1?["linear"]:["exponential",ee],v]}else throw new Error('Unknown zoom function type "'+S+'"');for(var fe=0,le=m;fe<le.length;fe+=1){var me=le[fe];N(A,me[0],me[1],V)}return W(A),A}function W(f){f[0]==="step"&&f.length===3&&(f.push(0),f.push(f[3]))}function N(f,d,m,v){f.length>3&&d===f[f.length-2]||(v&&f.length===2||f.push(d),f.push(m))}function j(f,d){return f.type?f.type:(_(d.expression),d.expression.interpolated?"exponential":"interval")}function F(f){for(var d=["concat"],m=/{([^{}]+)}/g,v=0,S=m.exec(f);S!==null;S=m.exec(f)){var A=f.slice(v,m.lastIndex-S[0].length);v=m.lastIndex,A.length>0&&d.push(A),d.push(["get",S[1]])}if(d.length===1)return f;if(v<f.length)d.push(f.slice(v));else if(d.length===2)return["to-string",d[1]];return d}var Q=function(f){function d(m,v){f.call(this,v),this.message=v,this.key=m}return f&&(d.__proto__=f),d.prototype=Object.create(f&&f.prototype),d.prototype.constructor=d,d}(Error);const _e=Q;var ve=function(d,m){m===void 0&&(m=[]),this.parent=d,this.bindings={};for(var v=0,S=m;v<S.length;v+=1){var A=S[v],V=A[0],ee=A[1];this.bindings[V]=ee}};ve.prototype.concat=function(d){return new ve(this,d)},ve.prototype.get=function(d){if(this.bindings[d])return this.bindings[d];if(this.parent)return this.parent.get(d);throw new Error(d+" not found in scope.")},ve.prototype.has=function(d){return this.bindings[d]?!0:this.parent?this.parent.has(d):!1};const xe=ve;var K={kind:"null"},Z={kind:"number"},P={kind:"string"},re={kind:"boolean"},Ee={kind:"color"},q={kind:"object"},ye={kind:"value"},Ze={kind:"error"},de={kind:"collator"},qe={kind:"formatted"},H={kind:"resolvedImage"};function L(f,d){return{kind:"array",itemType:f,N:d}}function O(f){if(f.kind==="array"){var d=O(f.itemType);return typeof f.N=="number"?"array<"+d+", "+f.N+">":f.itemType.kind==="value"?"array":"array<"+d+">"}else return f.kind}var z=[K,Z,P,re,Ee,qe,q,L(ye),H];function J(f,d){if(d.kind==="error")return null;if(f.kind==="array"){if(d.kind==="array"&&(d.N===0&&d.itemType.kind==="value"||!J(f.itemType,d.itemType))&&(typeof f.N!="number"||f.N===d.N))return null}else{if(f.kind===d.kind)return null;if(f.kind==="value")for(var m=0,v=z;m<v.length;m+=1){var S=v[m];if(!J(S,d))return null}}return"Expected "+O(f)+" but found "+O(d)+" instead."}function he(f,d){return d.some(function(m){return m.kind===f.kind})}function Y(f,d){return d.some(function(m){return m==="null"?f===null:m==="array"?Array.isArray(f):m==="object"?f&&!Array.isArray(f)&&typeof f=="object":m===typeof f})}var ue=function(d,m,v){d?this.sensitivity=m?"variant":"case":this.sensitivity=m?"accent":"base",this.locale=v,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ue.prototype.compare=function(d,m){return this.collator.compare(d,m)},ue.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};const D=ue;var $=function(d,m,v,S,A){this.text=d.normalize?d.normalize():d,this.image=m,this.scale=v,this.fontStack=S,this.textColor=A},X=function(d){this.sections=d};X.fromString=function(d){return new X([new $(d,null,null,null,null)])},X.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(d){return d.text.length!==0||d.image&&d.image.name.length!==0})},X.factory=function(d){return d instanceof X?d:X.fromString(d)},X.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(d){return d.text}).join("")},X.prototype.serialize=function(){for(var d=["format"],m=0,v=this.sections;m<v.length;m+=1){var S=v[m];if(S.image){d.push(["image",S.image.name]);continue}d.push(S.text);var A={};S.fontStack&&(A["text-font"]=["literal",S.fontStack.split(",")]),S.scale&&(A["font-scale"]=S.scale),S.textColor&&(A["text-color"]=["rgba"].concat(S.textColor.toArray())),d.push(A)}return d};const se=X;var Ie=function(d){this.name=d.name,this.available=d.available};Ie.prototype.toString=function(){return this.name},Ie.fromString=function(d){return d?new Ie({name:d,available:!1}):null},Ie.prototype.serialize=function(){return["image",this.name]};const we=Ie;function ae(f,d,m,v){if(!(typeof f=="number"&&f>=0&&f<=255&&typeof d=="number"&&d>=0&&d<=255&&typeof m=="number"&&m>=0&&m<=255)){var S=typeof v=="number"?[f,d,m,v]:[f,d,m];return"Invalid rgba value ["+S.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof v>"u"||typeof v=="number"&&v>=0&&v<=1?null:"Invalid rgba value ["+[f,d,m,v].join(", ")+"]: 'a' must be between 0 and 1."}function ce(f){if(f===null)return!0;if(typeof f=="string")return!0;if(typeof f=="boolean")return!0;if(typeof f=="number")return!0;if(f instanceof w)return!0;if(f instanceof D)return!0;if(f instanceof se)return!0;if(f instanceof we)return!0;if(Array.isArray(f)){for(var d=0,m=f;d<m.length;d+=1){var v=m[d];if(!ce(v))return!1}return!0}else if(typeof f=="object"){for(var S in f)if(!ce(f[S]))return!1;return!0}else return!1}function Le(f){if(f===null)return K;if(typeof f=="string")return P;if(typeof f=="boolean")return re;if(typeof f=="number")return Z;if(f instanceof w)return Ee;if(f instanceof D)return de;if(f instanceof se)return qe;if(f instanceof we)return H;if(Array.isArray(f)){for(var d=f.length,m,v=0,S=f;v<S.length;v+=1){var A=S[v],V=Le(A);if(!m)m=V;else{if(m===V)continue;m=ye;break}}return L(m||ye,d)}else return _(typeof f=="object"),q}function je(f){var d=typeof f;return f===null?"":d==="string"||d==="number"||d==="boolean"?String(f):f instanceof w||f instanceof se||f instanceof we?f.toString():JSON.stringify(f)}var Et=function(d,m){this.type=d,this.value=m};Et.parse=function(d,m){if(d.length!==2)return m.error("'literal' expression requires exactly one argument, but found "+(d.length-1)+" instead.");if(!ce(d[1]))return m.error("invalid value");var v=d[1],S=Le(v),A=m.expectedType;return S.kind==="array"&&S.N===0&&A&&A.kind==="array"&&(typeof A.N!="number"||A.N===0)&&(S=A),new Et(S,v)},Et.prototype.evaluate=function(){return this.value},Et.prototype.eachChild=function(){},Et.prototype.outputDefined=function(){return!0},Et.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof w?["rgba"].concat(this.value.toArray()):this.value instanceof se?this.value.serialize():(_(this.value===null||typeof this.value=="string"||typeof this.value=="number"||typeof this.value=="boolean"),this.value)};const nn=Et;var bn=function(d){this.name="ExpressionEvaluationError",this.message=d};bn.prototype.toJSON=function(){return this.message};const Wt=bn;var Ei={string:P,number:Z,boolean:re,object:q},Ai=function(d,m){this.type=d,this.args=m};Ai.parse=function(d,m){if(d.length<2)return m.error("Expected at least one argument.");var v=1,S,A=d[0];if(A==="array"){var V;if(d.length>2){var ee=d[1];if(typeof ee!="string"||!(ee in Ei)||ee==="object")return m.error('The item type argument of "array" must be one of string, number, boolean',1);V=Ei[ee],v++}else V=ye;var fe;if(d.length>3){if(d[2]!==null&&(typeof d[2]!="number"||d[2]<0||d[2]!==Math.floor(d[2])))return m.error('The length argument to "array" must be a positive integer literal',2);fe=d[2],v++}S=L(V,fe)}else _(Ei[A],A),S=Ei[A];for(var le=[];v<d.length;v++){var me=m.parse(d[v],v,ye);if(!me)return null;le.push(me)}return new Ai(S,le)},Ai.prototype.evaluate=function(d){for(var m=0;m<this.args.length;m++){var v=this.args[m].evaluate(d),S=J(this.type,Le(v));if(S){if(m===this.args.length-1)throw new Wt("Expected value to be of type "+O(this.type)+", but found "+O(Le(v))+" instead.")}else return v}return _(!1),null},Ai.prototype.eachChild=function(d){this.args.forEach(d)},Ai.prototype.outputDefined=function(){return this.args.every(function(d){return d.outputDefined()})},Ai.prototype.serialize=function(){var d=this.type,m=[d.kind];if(d.kind==="array"){var v=d.itemType;if(v.kind==="string"||v.kind==="number"||v.kind==="boolean"){m.push(v.kind);var S=d.N;(typeof S=="number"||this.args.length>1)&&m.push(S)}}return m.concat(this.args.map(function(A){return A.serialize()}))};const Kt=Ai;var oe=function(d){this.type=qe,this.sections=d};oe.parse=function(d,m){if(d.length<2)return m.error("Expected at least one argument.");var v=d[1];if(!Array.isArray(v)&&typeof v=="object")return m.error("First argument must be an image or text section.");for(var S=[],A=!1,V=1;V<=d.length-1;++V){var ee=d[V];if(A&&typeof ee=="object"&&!Array.isArray(ee)){A=!1;var fe=null;if(ee["font-scale"]&&(fe=m.parse(ee["font-scale"],1,Z),!fe))return null;var le=null;if(ee["text-font"]&&(le=m.parse(ee["text-font"],1,L(P)),!le))return null;var me=null;if(ee["text-color"]&&(me=m.parse(ee["text-color"],1,Ee),!me))return null;var Ce=S[S.length-1];Ce.scale=fe,Ce.font=le,Ce.textColor=me}else{var Fe=m.parse(d[V],1,ye);if(!Fe)return null;var Ne=Fe.type.kind;if(Ne!=="string"&&Ne!=="value"&&Ne!=="null"&&Ne!=="resolvedImage")return m.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");A=!0,S.push({content:Fe,scale:null,font:null,textColor:null})}}return new oe(S)},oe.prototype.evaluate=function(d){var m=function(v){var S=v.content.evaluate(d);return Le(S)===H?new $("",S,null,null,null):new $(je(S),null,v.scale?v.scale.evaluate(d):null,v.font?v.font.evaluate(d).join(","):null,v.textColor?v.textColor.evaluate(d):null)};return new se(this.sections.map(m))},oe.prototype.eachChild=function(d){for(var m=0,v=this.sections;m<v.length;m+=1){var S=v[m];d(S.content),S.scale&&d(S.scale),S.font&&d(S.font),S.textColor&&d(S.textColor)}},oe.prototype.outputDefined=function(){return!1},oe.prototype.serialize=function(){for(var d=["format"],m=0,v=this.sections;m<v.length;m+=1){var S=v[m];d.push(S.content.serialize());var A={};S.scale&&(A["font-scale"]=S.scale.serialize()),S.font&&(A["text-font"]=S.font.serialize()),S.textColor&&(A["text-color"]=S.textColor.serialize()),d.push(A)}return d};const Oe=oe;var ge=function(d){this.type=H,this.input=d};ge.parse=function(d,m){if(d.length!==2)return m.error("Expected two arguments.");var v=m.parse(d[1],1,P);return v?new ge(v):m.error("No image name provided.")},ge.prototype.evaluate=function(d){var m=this.input.evaluate(d),v=we.fromString(m);return v&&d.availableImages&&(v.available=d.availableImages.indexOf(m)>-1),v},ge.prototype.eachChild=function(d){d(this.input)},ge.prototype.outputDefined=function(){return!1},ge.prototype.serialize=function(){return["image",this.input.serialize()]};const Pe=ge;var Be={"to-boolean":re,"to-color":Ee,"to-number":Z,"to-string":P},Zt=function(d,m){this.type=d,this.args=m};Zt.parse=function(d,m){if(d.length<2)return m.error("Expected at least one argument.");var v=d[0];if(_(Be[v],v),(v==="to-boolean"||v==="to-string")&&d.length!==2)return m.error("Expected one argument.");for(var S=Be[v],A=[],V=1;V<d.length;V++){var ee=m.parse(d[V],V,ye);if(!ee)return null;A.push(ee)}return new Zt(S,A)},Zt.prototype.evaluate=function(d){if(this.type.kind==="boolean")return!!this.args[0].evaluate(d);if(this.type.kind==="color"){for(var m,v,S=0,A=this.args;S<A.length;S+=1){var V=A[S];if(m=V.evaluate(d),v=null,m instanceof w)return m;if(typeof m=="string"){var ee=d.parseColor(m);if(ee)return ee}else if(Array.isArray(m)&&(m.length<3||m.length>4?v="Invalid rbga value "+JSON.stringify(m)+": expected an array containing either three or four numeric values.":v=ae(m[0],m[1],m[2],m[3]),!v))return new w(m[0]/255,m[1]/255,m[2]/255,m[3])}throw new Wt(v||"Could not parse color from value '"+(typeof m=="string"?m:String(JSON.stringify(m)))+"'")}else if(this.type.kind==="number"){for(var fe=null,le=0,me=this.args;le<me.length;le+=1){var Ce=me[le];if(fe=Ce.evaluate(d),fe===null)return 0;var Fe=Number(fe);if(!isNaN(Fe))return Fe}throw new Wt("Could not convert "+JSON.stringify(fe)+" to number.")}else return this.type.kind==="formatted"?se.fromString(je(this.args[0].evaluate(d))):this.type.kind==="resolvedImage"?we.fromString(je(this.args[0].evaluate(d))):je(this.args[0].evaluate(d))},Zt.prototype.eachChild=function(d){this.args.forEach(d)},Zt.prototype.outputDefined=function(){return this.args.every(function(d){return d.outputDefined()})},Zt.prototype.serialize=function(){if(this.type.kind==="formatted")return new Oe([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Pe(this.args[0]).serialize();var d=["to-"+this.type.kind];return this.eachChild(function(m){d.push(m.serialize())}),d};const hn=Zt;var Cr=["Unknown","Point","LineString","Polygon"],Oi=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null};Oi.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Oi.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Cr[this.feature.type]:this.feature.type:null},Oi.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Oi.prototype.canonicalID=function(){return this.canonical},Oi.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Oi.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var d=this.featureDistanceData.center,m=this.featureDistanceData.scale,v=this.featureTileCoord,S=v.x,A=v.y,V=S*m-d[0],ee=A*m-d[1],fe=this.featureDistanceData.bearing[0],le=this.featureDistanceData.bearing[1],me=fe*V+le*ee;return me}return 0},Oi.prototype.parseColor=function(d){var m=this._parseColorCache[d];return m||(m=this._parseColorCache[d]=w.parse(d)),m};const Dn=Oi;var Jt=function(d,m,v,S){this.name=d,this.type=m,this._evaluate=v,this.args=S};Jt.prototype.evaluate=function(d){return this._evaluate(d,this.args)},Jt.prototype.eachChild=function(d){this.args.forEach(d)},Jt.prototype.outputDefined=function(){return!1},Jt.prototype.serialize=function(){return[this.name].concat(this.args.map(function(d){return d.serialize()}))},Jt.parse=function(d,m){var v,S=d[0],A=Jt.definitions[S];if(!A)return m.error('Unknown expression "'+S+'". If you wanted a literal array, use ["literal", [...]].',0);for(var V=Array.isArray(A)?A[0]:A.type,ee=Array.isArray(A)?[[A[1],A[2]]]:A.overloads,fe=ee.filter(function(Fn){var cs=Fn[0];return!Array.isArray(cs)||cs.length===d.length-1}),le=null,me=0,Ce=fe;me<Ce.length;me+=1){var Fe=Ce[me],Ne=Fe[0],it=Fe[1];le=new Nb(m.registry,m.path,null,m.scope);for(var He=[],$e=!1,ln=1;ln<d.length;ln++){var Pt=d[ln],Ln=Array.isArray(Ne)?Ne[ln-1]:Ne.type,rn=le.parse(Pt,1+He.length,Ln);if(!rn){$e=!0;break}He.push(rn)}if(!$e){if(Array.isArray(Ne)&&Ne.length!==He.length){le.error("Expected "+Ne.length+" arguments, but found "+He.length+" instead.");continue}for(var Rt=0;Rt<He.length;Rt++){var Jn=Array.isArray(Ne)?Ne[Rt]:Ne.type,Mi=He[Rt];le.concat(Rt+1).checkSubtype(Jn,Mi.type)}if(le.errors.length===0)return new Jt(S,V,it,He)}}if(_(!le||le.errors.length>0),fe.length===1)(v=m.errors).push.apply(v,le.errors);else{for(var hi=fe.length?fe:ee,Ui=hi.map(function(Fn){var cs=Fn[0];return ci(cs)}).join(" | "),jr=[],us=1;us<d.length;us++){var va=m.parse(d[us],1+jr.length);if(!va)return null;jr.push(O(va.type))}m.error("Expected arguments of type "+Ui+", but found ("+jr.join(", ")+") instead.")}return null},Jt.register=function(d,m){_(!Jt.definitions),Jt.definitions=m;for(var v in m)d[v]=Jt};function ci(f){return Array.isArray(f)?"("+f.map(O).join(", ")+")":"("+O(f.type)+"...)"}const Zn=Jt;var Wn=function(d,m,v){this.type=de,this.locale=v,this.caseSensitive=d,this.diacriticSensitive=m};Wn.parse=function(d,m){if(d.length!==2)return m.error("Expected one argument.");var v=d[1];if(typeof v!="object"||Array.isArray(v))return m.error("Collator options argument must be an object.");var S=m.parse(v["case-sensitive"]===void 0?!1:v["case-sensitive"],1,re);if(!S)return null;var A=m.parse(v["diacritic-sensitive"]===void 0?!1:v["diacritic-sensitive"],1,re);if(!A)return null;var V=null;return v.locale&&(V=m.parse(v.locale,1,P),!V)?null:new Wn(S,A,V)},Wn.prototype.evaluate=function(d){return new D(this.caseSensitive.evaluate(d),this.diacriticSensitive.evaluate(d),this.locale?this.locale.evaluate(d):null)},Wn.prototype.eachChild=function(d){d(this.caseSensitive),d(this.diacriticSensitive),this.locale&&d(this.locale)},Wn.prototype.outputDefined=function(){return!1},Wn.prototype.serialize=function(){var d={};return d["case-sensitive"]=this.caseSensitive.serialize(),d["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(d.locale=this.locale.serialize()),["collator",d]};const Sr=Wn;kt(338);var di=8192;function on(f,d){f[0]=Math.min(f[0],d[0]),f[1]=Math.min(f[1],d[1]),f[2]=Math.max(f[2],d[0]),f[3]=Math.max(f[3],d[1])}function Ti(f){return(180+f)/360}function $r(f){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f*Math.PI/360)))/360}function zl(f,d){return!(f[0]<=d[0]||f[2]>=d[2]||f[1]<=d[1]||f[3]>=d[3])}function aM(f,d){var m=Ti(f[0]),v=$r(f[1]),S=Math.pow(2,d.z);return[Math.round(m*S*di),Math.round(v*S*di)]}function oM(f,d,m){var v=f[0]-d[0],S=f[1]-d[1],A=f[0]-m[0],V=f[1]-m[1];return v*V-A*S===0&&v*A<=0&&S*V<=0}function lM(f,d,m){return d[1]>f[1]!=m[1]>f[1]&&f[0]<(m[0]-d[0])*(f[1]-d[1])/(m[1]-d[1])+d[0]}function fg(f,d){for(var m=!1,v=0,S=d.length;v<S;v++)for(var A=d[v],V=0,ee=A.length;V<ee-1;V++){if(oM(f,A[V],A[V+1]))return!1;lM(f,A[V],A[V+1])&&(m=!m)}return m}function uM(f,d){for(var m=0;m<d.length;m++)if(fg(f,d[m]))return!0;return!1}function cM(f,d){return f[0]*d[1]-f[1]*d[0]}function Ab(f,d,m,v){var S=f[0]-m[0],A=f[1]-m[1],V=d[0]-m[0],ee=d[1]-m[1],fe=v[0]-m[0],le=v[1]-m[1],me=S*le-fe*A,Ce=V*le-fe*ee;return me>0&&Ce<0||me<0&&Ce>0}function dM(f,d,m,v){var S=[d[0]-f[0],d[1]-f[1]],A=[v[0]-m[0],v[1]-m[1]];return cM(A,S)===0?!1:!!(Ab(f,d,m,v)&&Ab(m,v,f,d))}function hM(f,d,m){for(var v=0,S=m;v<S.length;v+=1)for(var A=S[v],V=0;V<A.length-1;++V)if(dM(f,d,A[V],A[V+1]))return!0;return!1}function Ob(f,d){for(var m=0;m<f.length;++m)if(!fg(f[m],d))return!1;for(var v=0;v<f.length-1;++v)if(hM(f[v],f[v+1],d))return!1;return!0}function fM(f,d){for(var m=0;m<d.length;m++)if(Ob(f,d[m]))return!0;return!1}function pg(f,d,m){for(var v=[],S=0;S<f.length;S++){for(var A=[],V=0;V<f[S].length;V++){var ee=aM(f[S][V],m);on(d,ee),A.push(ee)}v.push(A)}return v}function Mb(f,d,m){for(var v=[],S=0;S<f.length;S++){var A=pg(f[S],d,m);v.push(A)}return v}function Pb(f,d,m,v){if(f[0]<m[0]||f[0]>m[2]){var S=v*.5,A=f[0]-m[0]>S?-v:m[0]-f[0]>S?v:0;A===0&&(A=f[0]-m[2]>S?-v:m[2]-f[0]>S?v:0),f[0]+=A}on(d,f)}function pM(f){f[0]=f[1]=1/0,f[2]=f[3]=-1/0}function Db(f,d,m,v){for(var S=Math.pow(2,v.z)*di,A=[v.x*di,v.y*di],V=[],ee=0,fe=f;ee<fe.length;ee+=1)for(var le=fe[ee],me=0,Ce=le;me<Ce.length;me+=1){var Fe=Ce[me],Ne=[Fe.x+A[0],Fe.y+A[1]];Pb(Ne,d,m,S),V.push(Ne)}return V}function Lb(f,d,m,v){for(var S=Math.pow(2,v.z)*di,A=[v.x*di,v.y*di],V=[],ee=0,fe=f;ee<fe.length;ee+=1){for(var le=fe[ee],me=[],Ce=0,Fe=le;Ce<Fe.length;Ce+=1){var Ne=Fe[Ce],it=[Ne.x+A[0],Ne.y+A[1]];on(d,it),me.push(it)}V.push(me)}if(d[2]-d[0]<=S/2){pM(d);for(var He=0,$e=V;He<$e.length;He+=1)for(var ln=$e[He],Pt=0,Ln=ln;Pt<Ln.length;Pt+=1){var rn=Ln[Pt];Pb(rn,d,m,S)}}return V}function mM(f,d){var m=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],S=f.canonicalID();if(d.type==="Polygon"){var A=pg(d.coordinates,v,S),V=Db(f.geometry(),m,v,S);if(!zl(m,v))return!1;for(var ee=0,fe=V;ee<fe.length;ee+=1){var le=fe[ee];if(!fg(le,A))return!1}}if(d.type==="MultiPolygon"){var me=Mb(d.coordinates,v,S),Ce=Db(f.geometry(),m,v,S);if(!zl(m,v))return!1;for(var Fe=0,Ne=Ce;Fe<Ne.length;Fe+=1){var it=Ne[Fe];if(!uM(it,me))return!1}}return!0}function gM(f,d){var m=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],S=f.canonicalID();if(d.type==="Polygon"){var A=pg(d.coordinates,v,S),V=Lb(f.geometry(),m,v,S);if(!zl(m,v))return!1;for(var ee=0,fe=V;ee<fe.length;ee+=1){var le=fe[ee];if(!Ob(le,A))return!1}}if(d.type==="MultiPolygon"){var me=Mb(d.coordinates,v,S),Ce=Lb(f.geometry(),m,v,S);if(!zl(m,v))return!1;for(var Fe=0,Ne=Ce;Fe<Ne.length;Fe+=1){var it=Ne[Fe];if(!fM(it,me))return!1}}return!0}var Os=function(d,m){this.type=re,this.geojson=d,this.geometries=m};Os.parse=function(d,m){if(d.length!==2)return m.error("'within' expression requires exactly one argument, but found "+(d.length-1)+" instead.");if(ce(d[1])){var v=d[1];if(v.type==="FeatureCollection")for(var S=0;S<v.features.length;++S){var A=v.features[S].geometry.type;if(A==="Polygon"||A==="MultiPolygon")return new Os(v,v.features[S].geometry)}else if(v.type==="Feature"){var V=v.geometry.type;if(V==="Polygon"||V==="MultiPolygon")return new Os(v,v.geometry)}else if(v.type==="Polygon"||v.type==="MultiPolygon")return new Os(v,v)}return m.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Os.prototype.evaluate=function(d){if(d.geometry()!=null&&d.canonicalID()!=null){if(d.geometryType()==="Point")return mM(d,this.geometries);if(d.geometryType()==="LineString")return gM(d,this.geometries)}return!1},Os.prototype.eachChild=function(){},Os.prototype.outputDefined=function(){return!0},Os.prototype.serialize=function(){return["within",this.geojson]};const mg=Os;function Mh(f){if(f instanceof Zn){if(f.name==="get"&&f.args.length===1)return!1;if(f.name==="feature-state")return!1;if(f.name==="has"&&f.args.length===1)return!1;if(f.name==="properties"||f.name==="geometry-type"||f.name==="id")return!1;if(/^filter-/.test(f.name))return!1}if(f instanceof mg)return!1;var d=!0;return f.eachChild(function(m){d&&!Mh(m)&&(d=!1)}),d}function gg(f){if(f instanceof Zn&&f.name==="feature-state")return!1;var d=!0;return f.eachChild(function(m){d&&!gg(m)&&(d=!1)}),d}function yg(f,d){if(f instanceof Zn&&d.indexOf(f.name)>=0)return!1;var m=!0;return f.eachChild(function(v){m&&!yg(v,d)&&(m=!1)}),m}var ko=function(d,m){this.type=m.type,this.name=d,this.boundExpression=m};ko.parse=function(d,m){if(d.length!==2||typeof d[1]!="string")return m.error("'var' expression requires exactly one string literal argument.");var v=d[1];return m.scope.has(v)?new ko(v,m.scope.get(v)):m.error('Unknown variable "'+v+'". Make sure "'+v+'" has been bound in an enclosing "let" expression before using it.',1)},ko.prototype.evaluate=function(d){return this.boundExpression.evaluate(d)},ko.prototype.eachChild=function(){},ko.prototype.outputDefined=function(){return!1},ko.prototype.serialize=function(){return["var",this.name]};const Fb=ko;var Ro=function(d,m,v,S,A){m===void 0&&(m=[]),S===void 0&&(S=new xe),A===void 0&&(A=[]),this.registry=d,this.path=m,this.key=m.map(function(V){return"["+V+"]"}).join(""),this.scope=S,this.errors=A,this.expectedType=v};Ro.prototype.parse=function(d,m,v,S,A){return A===void 0&&(A={}),m?this.concat(m,v,S)._parse(d,A):this._parse(d,A)},Ro.prototype._parse=function(d,m){(d===null||typeof d=="string"||typeof d=="boolean"||typeof d=="number")&&(d=["literal",d]);function v(me,Ce,Fe){return Fe==="assert"?new Kt(Ce,[me]):Fe==="coerce"?new hn(Ce,[me]):me}if(Array.isArray(d)){if(d.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var S=d[0];if(typeof S!="string")return this.error("Expression name must be a string, but found "+typeof S+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var A=this.registry[S];if(A){var V=A.parse(d,this);if(!V)return null;if(this.expectedType){var ee=this.expectedType,fe=V.type;if((ee.kind==="string"||ee.kind==="number"||ee.kind==="boolean"||ee.kind==="object"||ee.kind==="array")&&fe.kind==="value")V=v(V,ee,m.typeAnnotation||"assert");else if((ee.kind==="color"||ee.kind==="formatted"||ee.kind==="resolvedImage")&&(fe.kind==="value"||fe.kind==="string"))V=v(V,ee,m.typeAnnotation||"coerce");else if(this.checkSubtype(ee,fe))return null}if(!(V instanceof nn)&&V.type.kind!=="resolvedImage"&&_g(V)){var le=new Dn;try{V=new nn(V.type,V.evaluate(le))}catch(me){return this.error(me.message),null}}return V}return this.error('Unknown expression "'+S+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof d>"u"?this.error("'undefined' value invalid. Use null instead."):typeof d=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof d+" instead.")},Ro.prototype.concat=function(d,m,v){var S=typeof d=="number"?this.path.concat(d):this.path,A=v?this.scope.concat(v):this.scope;return new Ro(this.registry,S,m||null,A,this.errors)},Ro.prototype.error=function(d){for(var m=[],v=arguments.length-1;v-- >0;)m[v]=arguments[v+1];var S=""+this.key+m.map(function(A){return"["+A+"]"}).join("");this.errors.push(new _e(S,d))},Ro.prototype.checkSubtype=function(d,m){var v=J(d,m);return v&&this.error(v),v};const Nb=Ro;function _g(f){if(f instanceof Fb)return _g(f.boundExpression);if(f instanceof Zn&&f.name==="error")return!1;if(f instanceof Sr)return!1;if(f instanceof mg)return!1;var d=f instanceof hn||f instanceof Kt,m=!0;return f.eachChild(function(v){d?m=m&&_g(v):m=m&&v instanceof nn}),m?Mh(f)&&yg(f,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function $b(f,d){for(var m=f.length-1,v=0,S=m,A=0,V,ee;v<=S;)if(A=Math.floor((v+S)/2),V=f[A],ee=f[A+1],V<=d){if(A===m||d<ee)return A;v=A+1}else if(V>d)S=A-1;else throw new Wt("Input is not a number.");return 0}var Io=function(d,m,v){this.type=d,this.input=m,this.labels=[],this.outputs=[];for(var S=0,A=v;S<A.length;S+=1){var V=A[S],ee=V[0],fe=V[1];this.labels.push(ee),this.outputs.push(fe)}};Io.parse=function(d,m){if(d.length-1<4)return m.error("Expected at least 4 arguments, but found only "+(d.length-1)+".");if((d.length-1)%2!==0)return m.error("Expected an even number of arguments.");var v=m.parse(d[1],1,Z);if(!v)return null;var S=[],A=null;m.expectedType&&m.expectedType.kind!=="value"&&(A=m.expectedType);for(var V=1;V<d.length;V+=2){var ee=V===1?-1/0:d[V],fe=d[V+1],le=V,me=V+1;if(typeof ee!="number")return m.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',le);if(S.length&&S[S.length-1][0]>=ee)return m.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',le);var Ce=m.parse(fe,me,A);if(!Ce)return null;A=A||Ce.type,S.push([ee,Ce])}return new Io(A,v,S)},Io.prototype.evaluate=function(d){var m=this.labels,v=this.outputs;if(m.length===1)return v[0].evaluate(d);var S=this.input.evaluate(d);if(S<=m[0])return v[0].evaluate(d);var A=m.length;if(S>=m[A-1])return v[A-1].evaluate(d);var V=$b(m,S);return v[V].evaluate(d)},Io.prototype.eachChild=function(d){d(this.input);for(var m=0,v=this.outputs;m<v.length;m+=1){var S=v[m];d(S)}},Io.prototype.outputDefined=function(){return this.outputs.every(function(d){return d.outputDefined()})},Io.prototype.serialize=function(){for(var d=["step",this.input.serialize()],m=0;m<this.labels.length;m++)m>0&&d.push(this.labels[m]),d.push(this.outputs[m].serialize());return d};const jb=Io;var yM=kt(946);function hr(f,d,m){return f*(1-m)+d*m}function _M(f,d,m){return new w(hr(f.r,d.r,m),hr(f.g,d.g,m),hr(f.b,d.b,m),hr(f.a,d.a,m))}function vM(f,d,m){return f.map(function(v,S){return hr(v,d[S],m)})}var Bb=.95047,Vb=1,Gb=1.08883,zb=4/29,Ul=6/29,Ub=3*Ul*Ul,bM=Ul*Ul*Ul,wM=Math.PI/180,EM=180/Math.PI;function vg(f){return f>bM?Math.pow(f,1/3):f/Ub+zb}function bg(f){return f>Ul?f*f*f:Ub*(f-zb)}function wg(f){return 255*(f<=.0031308?12.92*f:1.055*Math.pow(f,1/2.4)-.055)}function Eg(f){return f/=255,f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function Hb(f){var d=Eg(f.r),m=Eg(f.g),v=Eg(f.b),S=vg((.4124564*d+.3575761*m+.1804375*v)/Bb),A=vg((.2126729*d+.7151522*m+.072175*v)/Vb),V=vg((.0193339*d+.119192*m+.9503041*v)/Gb);return{l:116*A-16,a:500*(S-A),b:200*(A-V),alpha:f.a}}function Yb(f){var d=(f.l+16)/116,m=isNaN(f.a)?d:d+f.a/500,v=isNaN(f.b)?d:d-f.b/200;return d=Vb*bg(d),m=Bb*bg(m),v=Gb*bg(v),new w(wg(3.2404542*m-1.5371385*d-.4985314*v),wg(-.969266*m+1.8760108*d+.041556*v),wg(.0556434*m-.2040259*d+1.0572252*v),f.alpha)}function TM(f,d,m){return{l:hr(f.l,d.l,m),a:hr(f.a,d.a,m),b:hr(f.b,d.b,m),alpha:hr(f.alpha,d.alpha,m)}}function xM(f){var d=Hb(f),m=d.l,v=d.a,S=d.b,A=Math.atan2(S,v)*EM;return{h:A<0?A+360:A,c:Math.sqrt(v*v+S*S),l:m,alpha:f.a}}function CM(f){var d=f.h*wM,m=f.c,v=f.l;return Yb({l:v,a:Math.cos(d)*m,b:Math.sin(d)*m,alpha:f.alpha})}function SM(f,d,m){var v=d-f;return f+m*(v>180||v<-180?v-360*Math.round(v/360):v)}function kM(f,d,m){return{h:SM(f.h,d.h,m),c:hr(f.c,d.c,m),l:hr(f.l,d.l,m),alpha:hr(f.alpha,d.alpha,m)}}var Cc={forward:Hb,reverse:Yb,interpolate:TM},Sc={forward:xM,reverse:CM,interpolate:kM},Ms=function(d,m,v,S,A){this.type=d,this.operator=m,this.interpolation=v,this.input=S,this.labels=[],this.outputs=[];for(var V=0,ee=A;V<ee.length;V+=1){var fe=ee[V],le=fe[0],me=fe[1];this.labels.push(le),this.outputs.push(me)}};Ms.interpolationFactor=function(d,m,v,S){var A=0;if(d.name==="exponential")A=Tg(m,d.base,v,S);else if(d.name==="linear")A=Tg(m,1,v,S);else if(d.name==="cubic-bezier"){var V=d.controlPoints,ee=new yM(V[0],V[1],V[2],V[3]);A=ee.solve(Tg(m,1,v,S))}return A},Ms.parse=function(d,m){var v=d[0],S=d[1],A=d[2],V=d.slice(3);if(!Array.isArray(S)||S.length===0)return m.error("Expected an interpolation type expression.",1);if(S[0]==="linear")S={name:"linear"};else if(S[0]==="exponential"){var ee=S[1];if(typeof ee!="number")return m.error("Exponential interpolation requires a numeric base.",1,1);S={name:"exponential",base:ee}}else if(S[0]==="cubic-bezier"){var fe=S.slice(1);if(fe.length!==4||fe.some(function(ln){return typeof ln!="number"||ln<0||ln>1}))return m.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);S={name:"cubic-bezier",controlPoints:fe}}else return m.error("Unknown interpolation type "+String(S[0]),1,0);if(d.length-1<4)return m.error("Expected at least 4 arguments, but found only "+(d.length-1)+".");if((d.length-1)%2!==0)return m.error("Expected an even number of arguments.");if(A=m.parse(A,2,Z),!A)return null;var le=[],me=null;v==="interpolate-hcl"||v==="interpolate-lab"?me=Ee:m.expectedType&&m.expectedType.kind!=="value"&&(me=m.expectedType);for(var Ce=0;Ce<V.length;Ce+=2){var Fe=V[Ce],Ne=V[Ce+1],it=Ce+3,He=Ce+4;if(typeof Fe!="number")return m.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',it);if(le.length&&le[le.length-1][0]>=Fe)return m.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',it);var $e=m.parse(Ne,He,me);if(!$e)return null;me=me||$e.type,le.push([Fe,$e])}return me.kind!=="number"&&me.kind!=="color"&&!(me.kind==="array"&&me.itemType.kind==="number"&&typeof me.N=="number")?m.error("Type "+O(me)+" is not interpolatable."):new Ms(me,v,S,A,le)},Ms.prototype.evaluate=function(d){var m=this.labels,v=this.outputs;if(m.length===1)return v[0].evaluate(d);var S=this.input.evaluate(d);if(S<=m[0])return v[0].evaluate(d);var A=m.length;if(S>=m[A-1])return v[A-1].evaluate(d);var V=$b(m,S),ee=m[V],fe=m[V+1],le=Ms.interpolationFactor(this.interpolation,S,ee,fe),me=v[V].evaluate(d),Ce=v[V+1].evaluate(d);return this.operator==="interpolate"?t[this.type.kind.toLowerCase()](me,Ce,le):this.operator==="interpolate-hcl"?Sc.reverse(Sc.interpolate(Sc.forward(me),Sc.forward(Ce),le)):Cc.reverse(Cc.interpolate(Cc.forward(me),Cc.forward(Ce),le))},Ms.prototype.eachChild=function(d){d(this.input);for(var m=0,v=this.outputs;m<v.length;m+=1){var S=v[m];d(S)}},Ms.prototype.outputDefined=function(){return this.outputs.every(function(d){return d.outputDefined()})},Ms.prototype.serialize=function(){var d;this.interpolation.name==="linear"?d=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?d=["linear"]:d=["exponential",this.interpolation.base]:d=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var m=[this.operator,d,this.input.serialize()],v=0;v<this.labels.length;v++)m.push(this.labels[v],this.outputs[v].serialize());return m};function Tg(f,d,m,v){var S=v-m,A=f-m;return S===0?0:d===1?A/S:(Math.pow(d,A)-1)/(Math.pow(d,S)-1)}const Ao=Ms;var ma=function(d,m){this.type=d,this.args=m};ma.parse=function(d,m){if(d.length<2)return m.error("Expectected at least one argument.");var v=null,S=m.expectedType;S&&S.kind!=="value"&&(v=S);for(var A=[],V=0,ee=d.slice(1);V<ee.length;V+=1){var fe=ee[V],le=m.parse(fe,1+A.length,v,void 0,{typeAnnotation:"omit"});if(!le)return null;v=v||le.type,A.push(le)}_(v);var me=S&&A.some(function(Ce){return J(S,Ce.type)});return me?new ma(ye,A):new ma(v,A)},ma.prototype.evaluate=function(d){for(var m=null,v=0,S,A=0,V=this.args;A<V.length;A+=1){var ee=V[A];if(v++,m=ee.evaluate(d),m&&m instanceof we&&!m.available&&(S||(S=m),m=null,v===this.args.length))return S;if(m!==null)break}return m},ma.prototype.eachChild=function(d){this.args.forEach(d)},ma.prototype.outputDefined=function(){return this.args.every(function(d){return d.outputDefined()})},ma.prototype.serialize=function(){var d=["coalesce"];return this.eachChild(function(m){d.push(m.serialize())}),d};const Wb=ma;var Oo=function(d,m){this.type=m.type,this.bindings=[].concat(d),this.result=m};Oo.prototype.evaluate=function(d){return this.result.evaluate(d)},Oo.prototype.eachChild=function(d){for(var m=0,v=this.bindings;m<v.length;m+=1){var S=v[m];d(S[1])}d(this.result)},Oo.parse=function(d,m){if(d.length<4)return m.error("Expected at least 3 arguments, but found "+(d.length-1)+" instead.");for(var v=[],S=1;S<d.length-1;S+=2){var A=d[S];if(typeof A!="string")return m.error("Expected string, but found "+typeof A+" instead.",S);if(/[^a-zA-Z0-9_]/.test(A))return m.error("Variable names must contain only alphanumeric characters or '_'.",S);var V=m.parse(d[S+1],S+1);if(!V)return null;v.push([A,V])}var ee=m.parse(d[d.length-1],d.length-1,m.expectedType,v);return ee?new Oo(v,ee):null},Oo.prototype.outputDefined=function(){return this.result.outputDefined()},Oo.prototype.serialize=function(){for(var d=["let"],m=0,v=this.bindings;m<v.length;m+=1){var S=v[m],A=S[0],V=S[1];d.push(A,V.serialize())}return d.push(this.result.serialize()),d};const Kb=Oo;var Mo=function(d,m,v){this.type=d,this.index=m,this.input=v};Mo.parse=function(d,m){if(d.length!==3)return m.error("Expected 2 arguments, but found "+(d.length-1)+" instead.");var v=m.parse(d[1],1,Z),S=m.parse(d[2],2,L(m.expectedType||ye));if(!v||!S)return null;var A=S.type;return new Mo(A.itemType,v,S)},Mo.prototype.evaluate=function(d){var m=this.index.evaluate(d),v=this.input.evaluate(d);if(m<0)throw new Wt("Array index out of bounds: "+m+" < 0.");if(m>=v.length)throw new Wt("Array index out of bounds: "+m+" > "+(v.length-1)+".");if(m!==Math.floor(m))throw new Wt("Array index must be an integer, but found "+m+" instead.");return v[m]},Mo.prototype.eachChild=function(d){d(this.index),d(this.input)},Mo.prototype.outputDefined=function(){return!1},Mo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};const RM=Mo;var Po=function(d,m){this.type=re,this.needle=d,this.haystack=m};Po.parse=function(d,m){if(d.length!==3)return m.error("Expected 2 arguments, but found "+(d.length-1)+" instead.");var v=m.parse(d[1],1,ye),S=m.parse(d[2],2,ye);return!v||!S?null:he(v.type,[re,P,Z,K,ye])?new Po(v,S):m.error("Expected first argument to be of type boolean, string, number or null, but found "+O(v.type)+" instead")},Po.prototype.evaluate=function(d){var m=this.needle.evaluate(d),v=this.haystack.evaluate(d);if(!v)return!1;if(!Y(m,["boolean","string","number","null"]))throw new Wt("Expected first argument to be of type boolean, string, number or null, but found "+O(Le(m))+" instead.");if(!Y(v,["string","array"]))throw new Wt("Expected second argument to be of type array or string, but found "+O(Le(v))+" instead.");return v.indexOf(m)>=0},Po.prototype.eachChild=function(d){d(this.needle),d(this.haystack)},Po.prototype.outputDefined=function(){return!0},Po.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};const IM=Po;var ga=function(d,m,v){this.type=Z,this.needle=d,this.haystack=m,this.fromIndex=v};ga.parse=function(d,m){if(d.length<=2||d.length>=5)return m.error("Expected 3 or 4 arguments, but found "+(d.length-1)+" instead.");var v=m.parse(d[1],1,ye),S=m.parse(d[2],2,ye);if(!v||!S)return null;if(!he(v.type,[re,P,Z,K,ye]))return m.error("Expected first argument to be of type boolean, string, number or null, but found "+O(v.type)+" instead");if(d.length===4){var A=m.parse(d[3],3,Z);return A?new ga(v,S,A):null}else return new ga(v,S)},ga.prototype.evaluate=function(d){var m=this.needle.evaluate(d),v=this.haystack.evaluate(d);if(!Y(m,["boolean","string","number","null"]))throw new Wt("Expected first argument to be of type boolean, string, number or null, but found "+O(Le(m))+" instead.");if(!Y(v,["string","array"]))throw new Wt("Expected second argument to be of type array or string, but found "+O(Le(v))+" instead.");if(this.fromIndex){var S=this.fromIndex.evaluate(d);return v.indexOf(m,S)}return v.indexOf(m)},ga.prototype.eachChild=function(d){d(this.needle),d(this.haystack),this.fromIndex&&d(this.fromIndex)},ga.prototype.outputDefined=function(){return!1},ga.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var d=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),d]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};const AM=ga;var Do=function(d,m,v,S,A,V){this.inputType=d,this.type=m,this.input=v,this.cases=S,this.outputs=A,this.otherwise=V};Do.parse=function(d,m){if(d.length<5)return m.error("Expected at least 4 arguments, but found only "+(d.length-1)+".");if(d.length%2!==1)return m.error("Expected an even number of arguments.");var v,S;m.expectedType&&m.expectedType.kind!=="value"&&(S=m.expectedType);for(var A={},V=[],ee=2;ee<d.length-1;ee+=2){var fe=d[ee],le=d[ee+1];Array.isArray(fe)||(fe=[fe]);var me=m.concat(ee);if(fe.length===0)return me.error("Expected at least one branch label.");for(var Ce=0,Fe=fe;Ce<Fe.length;Ce+=1){var Ne=Fe[Ce];if(typeof Ne!="number"&&typeof Ne!="string")return me.error("Branch labels must be numbers or strings.");if(typeof Ne=="number"&&Math.abs(Ne)>Number.MAX_SAFE_INTEGER)return me.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Ne=="number"&&Math.floor(Ne)!==Ne)return me.error("Numeric branch labels must be integer values.");if(!v)v=Le(Ne);else if(me.checkSubtype(v,Le(Ne)))return null;if(typeof A[String(Ne)]<"u")return me.error("Branch labels must be unique.");A[String(Ne)]=V.length}var it=m.parse(le,ee,S);if(!it)return null;S=S||it.type,V.push(it)}var He=m.parse(d[1],1,ye);if(!He)return null;var $e=m.parse(d[d.length-1],d.length-1,S);return!$e||(_(v&&S),He.type.kind!=="value"&&m.concat(1).checkSubtype(v,He.type))?null:new Do(v,S,He,A,V,$e)},Do.prototype.evaluate=function(d){var m=this.input.evaluate(d),v=Le(m)===this.inputType&&this.outputs[this.cases[m]]||this.otherwise;return v.evaluate(d)},Do.prototype.eachChild=function(d){d(this.input),this.outputs.forEach(d),d(this.otherwise)},Do.prototype.outputDefined=function(){return this.outputs.every(function(d){return d.outputDefined()})&&this.otherwise.outputDefined()},Do.prototype.serialize=function(){for(var d=this,m=["match",this.input.serialize()],v=Object.keys(this.cases).sort(),S=[],A={},V=0,ee=v;V<ee.length;V+=1){var fe=ee[V],le=A[this.cases[fe]];le===void 0?(A[this.cases[fe]]=S.length,S.push([this.cases[fe],[fe]])):S[le][1].push(fe)}for(var me=function(He){return d.inputType.kind==="number"?Number(He):He},Ce=0,Fe=S;Ce<Fe.length;Ce+=1){var Ne=Fe[Ce],le=Ne[0],it=Ne[1];it.length===1?m.push(me(it[0])):m.push(it.map(me)),m.push(this.outputs[outputIndex$1].serialize())}return m.push(this.otherwise.serialize()),m};const OM=Do;var Lo=function(d,m,v){this.type=d,this.branches=m,this.otherwise=v};Lo.parse=function(d,m){if(d.length<4)return m.error("Expected at least 3 arguments, but found only "+(d.length-1)+".");if(d.length%2!==0)return m.error("Expected an odd number of arguments.");var v;m.expectedType&&m.expectedType.kind!=="value"&&(v=m.expectedType);for(var S=[],A=1;A<d.length-1;A+=2){var V=m.parse(d[A],A,re);if(!V)return null;var ee=m.parse(d[A+1],A+1,v);if(!ee)return null;S.push([V,ee]),v=v||ee.type}var fe=m.parse(d[d.length-1],d.length-1,v);return fe?(_(v),new Lo(v,S,fe)):null},Lo.prototype.evaluate=function(d){for(var m=0,v=this.branches;m<v.length;m+=1){var S=v[m],A=S[0],V=S[1];if(A.evaluate(d))return V.evaluate(d)}return this.otherwise.evaluate(d)},Lo.prototype.eachChild=function(d){for(var m=0,v=this.branches;m<v.length;m+=1){var S=v[m],A=S[0],V=S[1];d(A),d(V)}d(this.otherwise)},Lo.prototype.outputDefined=function(){return this.branches.every(function(d){d[0];var m=d[1];return m.outputDefined()})&&this.otherwise.outputDefined()},Lo.prototype.serialize=function(){var d=["case"];return this.eachChild(function(m){d.push(m.serialize())}),d};const MM=Lo;var ya=function(d,m,v,S){this.type=d,this.input=m,this.beginIndex=v,this.endIndex=S};ya.parse=function(d,m){if(d.length<=2||d.length>=5)return m.error("Expected 3 or 4 arguments, but found "+(d.length-1)+" instead.");var v=m.parse(d[1],1,ye),S=m.parse(d[2],2,Z);if(!v||!S)return null;if(!he(v.type,[L(ye),P,ye]))return m.error("Expected first argument to be of type array or string, but found "+O(v.type)+" instead");if(d.length===4){var A=m.parse(d[3],3,Z);return A?new ya(v.type,v,S,A):null}else return new ya(v.type,v,S)},ya.prototype.evaluate=function(d){var m=this.input.evaluate(d),v=this.beginIndex.evaluate(d);if(!Y(m,["string","array"]))throw new Wt("Expected first argument to be of type array or string, but found "+O(Le(m))+" instead.");if(this.endIndex){var S=this.endIndex.evaluate(d);return m.slice(v,S)}return m.slice(v)},ya.prototype.eachChild=function(d){d(this.input),d(this.beginIndex),this.endIndex&&d(this.endIndex)},ya.prototype.outputDefined=function(){return!1},ya.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var d=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),d]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};const PM=ya;function qb(f,d){return f==="=="||f==="!="?d.kind==="boolean"||d.kind==="string"||d.kind==="number"||d.kind==="null"||d.kind==="value":d.kind==="string"||d.kind==="number"||d.kind==="value"}function DM(f,d,m){return d===m}function LM(f,d,m){return d!==m}function FM(f,d,m){return d<m}function NM(f,d,m){return d>m}function $M(f,d,m){return d<=m}function jM(f,d,m){return d>=m}function Xb(f,d,m,v){return v.compare(d,m)===0}function BM(f,d,m,v){return!Xb(f,d,m,v)}function VM(f,d,m,v){return v.compare(d,m)<0}function GM(f,d,m,v){return v.compare(d,m)>0}function zM(f,d,m,v){return v.compare(d,m)<=0}function UM(f,d,m,v){return v.compare(d,m)>=0}function Hl(f,d,m){var v=f!=="=="&&f!=="!=";return function(){function S(A,V,ee){this.type=re,this.lhs=A,this.rhs=V,this.collator=ee,this.hasUntypedArgument=A.type.kind==="value"||V.type.kind==="value"}return S.parse=function(V,ee){if(V.length!==3&&V.length!==4)return ee.error("Expected two or three arguments.");var fe=V[0],le=ee.parse(V[1],1,ye);if(!le)return null;if(!qb(fe,le.type))return ee.concat(1).error('"'+fe+`" comparisons are not supported for type '`+O(le.type)+"'.");var me=ee.parse(V[2],2,ye);if(!me)return null;if(!qb(fe,me.type))return ee.concat(2).error('"'+fe+`" comparisons are not supported for type '`+O(me.type)+"'.");if(le.type.kind!==me.type.kind&&le.type.kind!=="value"&&me.type.kind!=="value")return ee.error("Cannot compare types '"+O(le.type)+"' and '"+O(me.type)+"'.");v&&(le.type.kind==="value"&&me.type.kind!=="value"?le=new Kt(me.type,[le]):le.type.kind!=="value"&&me.type.kind==="value"&&(me=new Kt(le.type,[me])));var Ce=null;if(V.length===4){if(le.type.kind!=="string"&&me.type.kind!=="string"&&le.type.kind!=="value"&&me.type.kind!=="value")return ee.error("Cannot use collator to compare non-string types.");if(Ce=ee.parse(V[3],3,de),!Ce)return null}return new S(le,me,Ce)},S.prototype.evaluate=function(V){var ee=this.lhs.evaluate(V),fe=this.rhs.evaluate(V);if(v&&this.hasUntypedArgument){var le=Le(ee),me=Le(fe);if(le.kind!==me.kind||!(le.kind==="string"||le.kind==="number"))throw new Wt('Expected arguments for "'+f+'" to be (string, string) or (number, number), but found ('+le.kind+", "+me.kind+") instead.")}if(this.collator&&!v&&this.hasUntypedArgument){var Ce=Le(ee),Fe=Le(fe);if(Ce.kind!=="string"||Fe.kind!=="string")return d(V,ee,fe)}return this.collator?m(V,ee,fe,this.collator.evaluate(V)):d(V,ee,fe)},S.prototype.eachChild=function(V){V(this.lhs),V(this.rhs),this.collator&&V(this.collator)},S.prototype.outputDefined=function(){return!0},S.prototype.serialize=function(){var V=[f];return this.eachChild(function(ee){V.push(ee.serialize())}),V},S}()}var HM=Hl("==",DM,Xb),YM=Hl("!=",LM,BM),WM=Hl("<",FM,VM),KM=Hl(">",NM,GM),qM=Hl("<=",$M,zM),XM=Hl(">=",jM,UM),Fo=function(d,m,v,S,A){this.type=P,this.number=d,this.locale=m,this.currency=v,this.minFractionDigits=S,this.maxFractionDigits=A};Fo.parse=function(d,m){if(d.length!==3)return m.error("Expected two arguments.");var v=m.parse(d[1],1,Z);if(!v)return null;var S=d[2];if(typeof S!="object"||Array.isArray(S))return m.error("NumberFormat options argument must be an object.");var A=null;if(S.locale&&(A=m.parse(S.locale,1,P),!A))return null;var V=null;if(S.currency&&(V=m.parse(S.currency,1,P),!V))return null;var ee=null;if(S["min-fraction-digits"]&&(ee=m.parse(S["min-fraction-digits"],1,Z),!ee))return null;var fe=null;return S["max-fraction-digits"]&&(fe=m.parse(S["max-fraction-digits"],1,Z),!fe)?null:new Fo(v,A,V,ee,fe)},Fo.prototype.evaluate=function(d){return new Intl.NumberFormat(this.locale?this.locale.evaluate(d):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(d):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(d):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(d):void 0}).format(this.number.evaluate(d))},Fo.prototype.eachChild=function(d){d(this.number),this.locale&&d(this.locale),this.currency&&d(this.currency),this.minFractionDigits&&d(this.minFractionDigits),this.maxFractionDigits&&d(this.maxFractionDigits)},Fo.prototype.outputDefined=function(){return!1},Fo.prototype.serialize=function(){var d={};return this.locale&&(d.locale=this.locale.serialize()),this.currency&&(d.currency=this.currency.serialize()),this.minFractionDigits&&(d["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(d["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),d]};const ZM=Fo;var No=function(d){this.type=Z,this.input=d};No.parse=function(d,m){if(d.length!==2)return m.error("Expected 1 argument, but found "+(d.length-1)+" instead.");var v=m.parse(d[1],1);return v?v.type.kind!=="array"&&v.type.kind!=="string"&&v.type.kind!=="value"?m.error("Expected argument of type string or array, but found "+O(v.type)+" instead."):new No(v):null},No.prototype.evaluate=function(d){var m=this.input.evaluate(d);if(typeof m=="string")return m.length;if(Array.isArray(m))return m.length;throw new Wt("Expected value to be of type string or array, but found "+O(Le(m))+" instead.")},No.prototype.eachChild=function(d){d(this.input)},No.prototype.outputDefined=function(){return!1},No.prototype.serialize=function(){var d=["length"];return this.eachChild(function(m){d.push(m.serialize())}),d};var Zb={"==":HM,"!=":YM,">":KM,"<":WM,">=":XM,"<=":qM,array:Kt,at:RM,boolean:Kt,case:MM,coalesce:Wb,collator:Sr,format:Oe,image:Pe,in:IM,"index-of":AM,interpolate:Ao,"interpolate-hcl":Ao,"interpolate-lab":Ao,length:No,let:Kb,literal:nn,match:OM,number:Kt,"number-format":ZM,object:Kt,slice:PM,step:jb,string:Kt,"to-boolean":hn,"to-color":hn,"to-number":hn,"to-string":hn,var:Fb,within:mg};function Jb(f,d){var m=d[0],v=d[1],S=d[2],A=d[3];m=m.evaluate(f),v=v.evaluate(f),S=S.evaluate(f);var V=A?A.evaluate(f):1,ee=ae(m,v,S,V);if(ee)throw new Wt(ee);return new w(m/255*V,v/255*V,S/255*V,V)}function Qb(f,d){return f in d}function xg(f,d){var m=d[f];return typeof m>"u"?null:m}function JM(f,d,m,v){for(;m<=v;){var S=m+v>>1;if(d[S]===f)return!0;d[S]>f?v=S-1:m=S+1}return!1}function $o(f){return{type:f}}Zn.register(Zb,{error:[Ze,[P],function(f,d){var m=d[0];throw new Wt(m.evaluate(f))}],typeof:[P,[ye],function(f,d){var m=d[0];return O(Le(m.evaluate(f)))}],"to-rgba":[L(Z,4),[Ee],function(f,d){var m=d[0];return m.evaluate(f).toArray()}],rgb:[Ee,[Z,Z,Z],Jb],rgba:[Ee,[Z,Z,Z,Z],Jb],has:{type:re,overloads:[[[P],function(f,d){var m=d[0];return Qb(m.evaluate(f),f.properties())}],[[P,q],function(f,d){var m=d[0],v=d[1];return Qb(m.evaluate(f),v.evaluate(f))}]]},get:{type:ye,overloads:[[[P],function(f,d){var m=d[0];return xg(m.evaluate(f),f.properties())}],[[P,q],function(f,d){var m=d[0],v=d[1];return xg(m.evaluate(f),v.evaluate(f))}]]},"feature-state":[ye,[P],function(f,d){var m=d[0];return xg(m.evaluate(f),f.featureState||{})}],properties:[q,[],function(f){return f.properties()}],"geometry-type":[P,[],function(f){return f.geometryType()}],id:[ye,[],function(f){return f.id()}],zoom:[Z,[],function(f){return f.globals.zoom}],pitch:[Z,[],function(f){return f.globals.pitch||0}],"distance-from-center":[Z,[],function(f){return f.distanceFromCenter()}],"heatmap-density":[Z,[],function(f){return f.globals.heatmapDensity||0}],"line-progress":[Z,[],function(f){return f.globals.lineProgress||0}],"sky-radial-progress":[Z,[],function(f){return f.globals.skyRadialProgress||0}],accumulated:[ye,[],function(f){return f.globals.accumulated===void 0?null:f.globals.accumulated}],"+":[Z,$o(Z),function(f,d){for(var m=0,v=0,S=d;v<S.length;v+=1){var A=S[v];m+=A.evaluate(f)}return m}],"*":[Z,$o(Z),function(f,d){for(var m=1,v=0,S=d;v<S.length;v+=1){var A=S[v];m*=A.evaluate(f)}return m}],"-":{type:Z,overloads:[[[Z,Z],function(f,d){var m=d[0],v=d[1];return m.evaluate(f)-v.evaluate(f)}],[[Z],function(f,d){var m=d[0];return-m.evaluate(f)}]]},"/":[Z,[Z,Z],function(f,d){var m=d[0],v=d[1];return m.evaluate(f)/v.evaluate(f)}],"%":[Z,[Z,Z],function(f,d){var m=d[0],v=d[1];return m.evaluate(f)%v.evaluate(f)}],ln2:[Z,[],function(){return Math.LN2}],pi:[Z,[],function(){return Math.PI}],e:[Z,[],function(){return Math.E}],"^":[Z,[Z,Z],function(f,d){var m=d[0],v=d[1];return Math.pow(m.evaluate(f),v.evaluate(f))}],sqrt:[Z,[Z],function(f,d){var m=d[0];return Math.sqrt(m.evaluate(f))}],log10:[Z,[Z],function(f,d){var m=d[0];return Math.log(m.evaluate(f))/Math.LN10}],ln:[Z,[Z],function(f,d){var m=d[0];return Math.log(m.evaluate(f))}],log2:[Z,[Z],function(f,d){var m=d[0];return Math.log(m.evaluate(f))/Math.LN2}],sin:[Z,[Z],function(f,d){var m=d[0];return Math.sin(m.evaluate(f))}],cos:[Z,[Z],function(f,d){var m=d[0];return Math.cos(m.evaluate(f))}],tan:[Z,[Z],function(f,d){var m=d[0];return Math.tan(m.evaluate(f))}],asin:[Z,[Z],function(f,d){var m=d[0];return Math.asin(m.evaluate(f))}],acos:[Z,[Z],function(f,d){var m=d[0];return Math.acos(m.evaluate(f))}],atan:[Z,[Z],function(f,d){var m=d[0];return Math.atan(m.evaluate(f))}],min:[Z,$o(Z),function(f,d){return Math.min.apply(Math,d.map(function(m){return m.evaluate(f)}))}],max:[Z,$o(Z),function(f,d){return Math.max.apply(Math,d.map(function(m){return m.evaluate(f)}))}],abs:[Z,[Z],function(f,d){var m=d[0];return Math.abs(m.evaluate(f))}],round:[Z,[Z],function(f,d){var m=d[0],v=m.evaluate(f);return v<0?-Math.round(-v):Math.round(v)}],floor:[Z,[Z],function(f,d){var m=d[0];return Math.floor(m.evaluate(f))}],ceil:[Z,[Z],function(f,d){var m=d[0];return Math.ceil(m.evaluate(f))}],"filter-==":[re,[P,ye],function(f,d){var m=d[0],v=d[1];return f.properties()[m.value]===v.value}],"filter-id-==":[re,[ye],function(f,d){var m=d[0];return f.id()===m.value}],"filter-type-==":[re,[P],function(f,d){var m=d[0];return f.geometryType()===m.value}],"filter-<":[re,[P,ye],function(f,d){var m=d[0],v=d[1],S=f.properties()[m.value],A=v.value;return typeof S==typeof A&&S<A}],"filter-id-<":[re,[ye],function(f,d){var m=d[0],v=f.id(),S=m.value;return typeof v==typeof S&&v<S}],"filter->":[re,[P,ye],function(f,d){var m=d[0],v=d[1],S=f.properties()[m.value],A=v.value;return typeof S==typeof A&&S>A}],"filter-id->":[re,[ye],function(f,d){var m=d[0],v=f.id(),S=m.value;return typeof v==typeof S&&v>S}],"filter-<=":[re,[P,ye],function(f,d){var m=d[0],v=d[1],S=f.properties()[m.value],A=v.value;return typeof S==typeof A&&S<=A}],"filter-id-<=":[re,[ye],function(f,d){var m=d[0],v=f.id(),S=m.value;return typeof v==typeof S&&v<=S}],"filter->=":[re,[P,ye],function(f,d){var m=d[0],v=d[1],S=f.properties()[m.value],A=v.value;return typeof S==typeof A&&S>=A}],"filter-id->=":[re,[ye],function(f,d){var m=d[0],v=f.id(),S=m.value;return typeof v==typeof S&&v>=S}],"filter-has":[re,[ye],function(f,d){var m=d[0];return m.value in f.properties()}],"filter-has-id":[re,[],function(f){return f.id()!==null&&f.id()!==void 0}],"filter-type-in":[re,[L(P)],function(f,d){var m=d[0];return m.value.indexOf(f.geometryType())>=0}],"filter-id-in":[re,[L(ye)],function(f,d){var m=d[0];return m.value.indexOf(f.id())>=0}],"filter-in-small":[re,[P,L(ye)],function(f,d){var m=d[0],v=d[1];return v.value.indexOf(f.properties()[m.value])>=0}],"filter-in-large":[re,[P,L(ye)],function(f,d){var m=d[0],v=d[1];return JM(f.properties()[m.value],v.value,0,v.value.length-1)}],all:{type:re,overloads:[[[re,re],function(f,d){var m=d[0],v=d[1];return m.evaluate(f)&&v.evaluate(f)}],[$o(re),function(f,d){for(var m=0,v=d;m<v.length;m+=1){var S=v[m];if(!S.evaluate(f))return!1}return!0}]]},any:{type:re,overloads:[[[re,re],function(f,d){var m=d[0],v=d[1];return m.evaluate(f)||v.evaluate(f)}],[$o(re),function(f,d){for(var m=0,v=d;m<v.length;m+=1){var S=v[m];if(S.evaluate(f))return!0}return!1}]]},"!":[re,[re],function(f,d){var m=d[0];return!m.evaluate(f)}],"is-supported-script":[re,[P],function(f,d){var m=d[0],v=f.globals&&f.globals.isSupportedScript;return v?v(m.evaluate(f)):!0}],upcase:[P,[P],function(f,d){var m=d[0];return m.evaluate(f).toUpperCase()}],downcase:[P,[P],function(f,d){var m=d[0];return m.evaluate(f).toLowerCase()}],concat:[P,$o(ye),function(f,d){return d.map(function(m){return je(m.evaluate(f))}).join("")}],"resolved-locale":[P,[de],function(f,d){var m=d[0];return m.evaluate(f).resolvedLocale()}]});const ew=Zb;function Cg(f){return{result:"success",value:f}}function Yl(f){return{result:"error",value:f}}function QM(f){return f["property-type"]==="data-driven"||f["property-type"]==="cross-faded-data-driven"}function eP(f){return!!f.expression&&f.expression.parameters.indexOf("zoom")>-1}function tP(f){return!!f.expression&&f.expression.interpolated}function tw(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)}var Sg=function(d,m){this.expression=d,this._warningHistory={},this._evaluator=new Dn,this._defaultValue=m?sP(m):null,this._enumValues=m&&m.type==="enum"?m.values:null};Sg.prototype.evaluateWithoutErrorHandling=function(d,m,v,S,A,V,ee,fe){return this._evaluator.globals=d,this._evaluator.feature=m,this._evaluator.featureState=v,this._evaluator.canonical=S,this._evaluator.availableImages=A||null,this._evaluator.formattedSection=V,this._evaluator.featureTileCoord=ee||null,this._evaluator.featureDistanceData=fe||null,this.expression.evaluate(this._evaluator)},Sg.prototype.evaluate=function(d,m,v,S,A,V,ee,fe){this._evaluator.globals=d,this._evaluator.feature=m||null,this._evaluator.featureState=v||null,this._evaluator.canonical=S,this._evaluator.availableImages=A||null,this._evaluator.formattedSection=V||null,this._evaluator.featureTileCoord=ee||null,this._evaluator.featureDistanceData=fe||null;try{var le=this.expression.evaluate(this._evaluator);if(le==null||typeof le=="number"&&le!==le)return this._defaultValue;if(this._enumValues&&!(le in this._enumValues))throw new Wt("Expected value to be one of "+Object.keys(this._enumValues).map(function(me){return JSON.stringify(me)}).join(", ")+", but found "+JSON.stringify(le)+" instead.");return le}catch(me){return this._warningHistory[me.message]||(this._warningHistory[me.message]=!0,typeof console<"u"&&console.warn(me.message)),this._defaultValue}};function nP(f){return Array.isArray(f)&&f.length>0&&typeof f[0]=="string"&&f[0]in ew}function kg(f,d){var m=new Nb(ew,[],d?rP(d):void 0),v=m.parse(f,void 0,void 0,void 0,d&&d.type==="string"?{typeAnnotation:"coerce"}:void 0);return v?Cg(new Sg(v,d)):(_(m.errors.length>0),Yl(m.errors))}var Ph=function(d,m){this.kind=d,this._styleExpression=m,this.isStateDependent=d!=="constant"&&!gg(m.expression)};Ph.prototype.evaluateWithoutErrorHandling=function(d,m,v,S,A,V){return this._styleExpression.evaluateWithoutErrorHandling(d,m,v,S,A,V)},Ph.prototype.evaluate=function(d,m,v,S,A,V){return this._styleExpression.evaluate(d,m,v,S,A,V)};var kc=function(d,m,v,S){this.kind=d,this.zoomStops=v,this._styleExpression=m,this.isStateDependent=d!=="camera"&&!gg(m.expression),this.interpolationType=S};kc.prototype.evaluateWithoutErrorHandling=function(d,m,v,S,A,V){return this._styleExpression.evaluateWithoutErrorHandling(d,m,v,S,A,V)},kc.prototype.evaluate=function(d,m,v,S,A,V){return this._styleExpression.evaluate(d,m,v,S,A,V)},kc.prototype.interpolationFactor=function(d,m,v){return this.interpolationType?Ao.interpolationFactor(this.interpolationType,d,m,v):0};function iP(f,d){if(f=kg(f,d),f.result==="error")return f;var m=f.value.expression,v=Mh(m);if(!v&&!QM(d))return Yl([new _e("","data expressions not supported")]);var S=yg(m,["zoom","pitch","distance-from-center"]);if(!S&&!eP(d))return Yl([new _e("","zoom expressions not supported")]);var A=Dh(m);if(!A&&!S)return Yl([new _e("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(A instanceof _e)return Yl([A]);if(A instanceof Ao&&!tP(d))return Yl([new _e("",'"interpolate" expressions cannot be used with this property')]);if(!A)return Cg(v?new Ph("constant",f.value):new Ph("source",f.value));var V=A instanceof Ao?A.interpolation:void 0;return Cg(v?new kc("camera",f.value,A.labels,V):new kc("composite",f.value,A.labels,V))}function Dh(f){var d=null;if(f instanceof Kb)d=Dh(f.result);else if(f instanceof Wb)for(var m=0,v=f.args;m<v.length;m+=1){var S=v[m];if(d=Dh(S),d)break}else(f instanceof jb||f instanceof Ao)&&f.input instanceof Zn&&f.input.name==="zoom"&&(d=f);return d instanceof _e||f.eachChild(function(A){var V=Dh(A);V instanceof _e?d=V:!d&&V?d=new _e("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):d&&V&&d!==V&&(d=new _e("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),d}function rP(f){var d={color:Ee,string:P,number:Z,enum:P,boolean:re,formatted:qe,resolvedImage:H};return f.type==="array"?L(d[f.value]||ye,f.length):d[f.type]}function sP(f){return f.type==="color"&&tw(f.default)?new w(0,0,0,0):f.type==="color"?w.parse(f.default)||null:f.default===void 0?null:f.default}function aP(f){return f instanceof Number||f instanceof String||f instanceof Boolean?f.valueOf():f}function Rg(f){if(Array.isArray(f))return f.map(Rg);if(f instanceof Object&&!(f instanceof Number||f instanceof String||f instanceof Boolean)){var d={};for(var m in f)d[m]=Rg(f[m]);return d}return aP(f)}var nw=kt(954);const oP=nw,lP=uP;function iw(f){if(f===!0||f===!1)return!0;if(!Array.isArray(f)||f.length===0)return!1;switch(f[0]){case"has":return f.length>=2&&f[1]!=="$id"&&f[1]!=="$type";case"in":return f.length>=3&&(typeof f[1]!="string"||Array.isArray(f[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return f.length!==3||Array.isArray(f[1])||Array.isArray(f[2]);case"any":case"all":for(var d=0,m=f.slice(1);d<m.length;d+=1){var v=m[d];if(!iw(v)&&typeof v!="boolean")return!1}return!0;default:return!0}}function uP(f,d){if(d===void 0&&(d="fill"),f==null)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};iw(f)||(f=Lh(f));var m=f,v=!0;try{v=cP(m)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
`+JSON.stringify(m,null,2)+`
        `)}var S=oP["filter_"+d],A=kg(v,S),V=null;if(A.result==="error")throw new Error(A.value.map(function(Ce){return Ce.key+": "+Ce.message}).join(", "));V=function(Ce,Fe,Ne){return A.value.evaluate(Ce,Fe,{},Ne)};var ee=null,fe=null;if(v!==m){var le=kg(m,S);if(le.result==="error")throw new Error(le.value.map(function(Ce){return Ce.key+": "+Ce.message}).join(", "));ee=function(Ce,Fe,Ne,it,He){return le.value.evaluate(Ce,Fe,{},Ne,void 0,void 0,it,He)},fe=!Mh(le.value.expression)}V=V;var me=aw(v);return{filter:V,dynamicFilter:ee||void 0,needGeometry:me,needFeature:!!fe}}function cP(f){if(!Wl(f))return f;var d=Rg(f);return sw(d),d=rw(d),d}function rw(f){if(!Array.isArray(f))return f;var d=fP(f);return d===!0?d:d.map(function(m){return rw(m)})}function sw(f){var d=!1,m=[];if(f[0]==="case"){for(var v=1;v<f.length-1;v+=2)d=d||Wl(f[v]),m.push(f[v+1]);m.push(f[f.length-1])}else if(f[0]==="match"){d=d||Wl(f[1]);for(var S=2;S<f.length-1;S+=2)m.push(f[S+1]);m.push(f[f.length-1])}else if(f[0]==="step"){d=d||Wl(f[1]);for(var A=1;A<f.length-1;A+=2)m.push(f[A+1])}d&&(f.length=0,f.push.apply(f,["any"].concat(m)));for(var V=1;V<f.length;V++)sw(f[V])}function Wl(f){if(!Array.isArray(f))return!1;if(dP(f[0]))return!0;for(var d=1;d<f.length;d++){var m=f[d];if(Wl(m))return!0}return!1}function dP(f){return f==="pitch"||f==="distance-from-center"}var hP=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function fP(f){if(hP.has(f[0]))for(var d=1;d<f.length;d++){var m=f[d];if(Wl(m))return!0}return f}function pP(f,d){return f<d?-1:f>d?1:0}function aw(f){if(!Array.isArray(f))return!1;if(f[0]==="within")return!0;for(var d=1;d<f.length;d++)if(aw(f[d]))return!0;return!1}function Lh(f){if(!f)return!0;var d=f[0];if(f.length<=1)return d!=="any";var m=d==="=="?Ig(f[1],f[2],"=="):d==="!="?Fh(Ig(f[1],f[2],"==")):d==="<"||d===">"||d==="<="||d===">="?Ig(f[1],f[2],d):d==="any"?mP(f.slice(1)):d==="all"?["all"].concat(f.slice(1).map(Lh)):d==="none"?["all"].concat(f.slice(1).map(Lh).map(Fh)):d==="in"?ow(f[1],f.slice(2)):d==="!in"?Fh(ow(f[1],f.slice(2))):d==="has"?lw(f[1]):d==="!has"?Fh(lw(f[1])):d==="within"?f:!0;return m}function Ig(f,d,m){switch(f){case"$type":return["filter-type-"+m,d];case"$id":return["filter-id-"+m,d];default:return["filter-"+m,f,d]}}function mP(f){return["any"].concat(f.map(Lh))}function ow(f,d){if(d.length===0)return!1;switch(f){case"$type":return["filter-type-in",["literal",d]];case"$id":return["filter-id-in",["literal",d]];default:return d.length>200&&!d.some(function(m){return typeof m!=typeof d[0]})?["filter-in-large",f,["literal",d.sort(pP)]]:["filter-in-small",f,["literal",d]]}}function lw(f){switch(f){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",f]}}function Fh(f){return["!",f]}const gP=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function yP(f,d){var m={};for(var v in f)v!=="ref"&&(m[v]=f[v]);return gP.forEach(function(S){S in d&&(m[S]=d[S])}),m}const _P=vP;function vP(f){f=f.slice();for(var d=Object.create(null),m=0;m<f.length;m++)d[f[m].id]=f[m];for(var v=0;v<f.length;v++)"ref"in f[v]&&(f[v]=yP(f[v],d[f[v].ref]));return f}var Ag=kt(523),bP=kt(422),wP=f=>{var d={};return kt.d(d,f),d};const jo=wP({assign:()=>{}});var uw="https://api.mapbox.com";function Og(f){var d="mapbox://";return f.indexOf(d)!==0?"":f.slice(d.length)}function EP(f,d,m){var v=Og(f);if(!v)return decodeURI(new URL(f,m).href);var S="sprites/";if(v.indexOf(S)!==0)throw new Error("unexpected sprites url: "+f);var A=v.slice(S.length);return uw+"/styles/v1/"+A+"/sprite?access_token="+d}function Mg(f,d){var m=Og(f);if(!m)return decodeURI(new URL(f,location.href).href);var v="styles/";if(m.indexOf(v)!==0)throw new Error("unexpected style url: "+f);var S=m.slice(v.length);return uw+"/styles/v1/"+S+"?&access_token="+d}function Nh(f,d,m,v){var S=new URL(f,v),A=Og(f);return A?"https://{a-d}.tiles.mapbox.com/v4/"+A+"/{z}/{x}/{y}.vector.pbf?access_token="+d:(d&&S.searchParams.set(m,d),decodeURI(S.href))}function Pg(f){return f*Math.PI/180}var Kl=function(){for(var f=[],d=78271.51696402048;f.length<=24;d/=2)f.push(d);return f}();function cw(f,d){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(f,d);var m=document.createElement("canvas");return m.width=f,m.height=d,m}function TP(f,d){for(var m=0,v=d.length;m<v;++m){var S=d[m];if(S<f&&m+1<v){var A=d[m]/d[m+1];return m+Math.log(d[m]/f)/Math.log(A)}}return v-1}var Rc={};function $h(f,d,m){if(m===void 0&&(m={}),d in Rc)return Rc[d];var v=m.transformRequest?m.transformRequest(d,f)||new Request(d):new Request(d),S=fetch(v).then(function(A){return delete Rc[d],A.ok?A.json():Promise.reject(new Error("Error fetching source "+d))}).catch(function(A){return delete Rc[d],Promise.reject(new Error("Error fetching source "+d))});return Rc[d]=S,S}function Dg(f,d){if(typeof f=="string")if(f.trim().startsWith("{"))try{var m=JSON.parse(f);return Promise.resolve(m)}catch(v){return Promise.reject(v)}else return f=Mg(f,d.accessToken),$h("Style",f,d);else return Promise.resolve(f)}var dw={};function hw(f,d,m){m===void 0&&(m={});var v=[d,JSON.stringify(f)].toString(),S=dw[v];if(!S||m.transformRequest){var A=f.url;if(A){var V=Nh(A,m.accessToken,m.accessTokenParam||"access_token",d||location.href);A.startsWith("mapbox://")?S=Promise.resolve((0,jo.assign)({},f,{url:void 0,tiles:V})):S=$h("Source",V,m).then(function(ee){for(var fe=0,le=ee.tiles.length;fe<le;++fe){var me=ee.tiles[fe],Ce=Nh(me,m.accessToken,m.accessTokenParam||"access_token",V||location.href);if(m.transformRequest){var Fe=m.transformRequest(Ce,"Tiles");Fe instanceof Request&&(Ce=decodeURI(Fe.url))}ee.tiles[fe]=Ce}return Promise.resolve(ee)})}else f=(0,jo.assign)({},f,{tiles:f.tiles.map(function(ee){return Nh(ee,m.accessToken,m.accessTokenParam||"access_token",d||location.href)})}),S=Promise.resolve((0,jo.assign)({},f));m.transformRequest||(dw[v]=S)}return S}var xP=Array(256).join(" ");function Lg(f,d){if(d>=.05){for(var m="",v=f.split(`
`),S=xP.slice(0,Math.round(d/.1)),A=0,V=v.length;A<V;++A)A>0&&(m+=`
`),m+=v[A].split("").join(S);return m}return f}var Fg;function fw(){return Fg||(Fg=cw(1,1).getContext("2d")),Fg}function Bo(f,d){return fw().measureText(f).width+(f.length-1)*d}var pw={};function Ng(f,d,m,v){if(f.indexOf(`
`)!==-1){for(var S=f.split(`
`),A=[],V=0,ee=S.length;V<ee;++V)A.push(Ng(S[V],d,m,v));return A.join(`
`)}var fe=m+","+d+","+f+","+v,le=pw[fe];if(!le){var me=f.split(" ");if(me.length>1){var Ce=fw();Ce.font=d;for(var Fe=Ce.measureText("M").width,Ne=Fe*m,it="",He=[],$e=0,ln=me.length;$e<ln;++$e){var Pt=me[$e],Ln=it+(it?" ":"")+Pt;Bo(Ln,v)<=Ne?it=Ln:(it&&He.push(it),it=Pt)}it&&He.push(it);for(var rn=0,Rt=He.length;rn<Rt&&Rt>1;++rn){var Jn=He[rn];if(Bo(Jn,v)<Ne*.35){var Mi=rn>0?Bo(He[rn-1],v):1/0,hi=rn<Rt-1?Bo(He[rn+1],v):1/0;He.splice(rn,1),Rt-=1,Mi<hi?(He[rn-1]+=" "+Jn,rn-=1):He[rn]=Jn+" "+He[rn]}}for(var Ui=0,jr=He.length-1;Ui<jr;++Ui){var us=He[Ui],va=He[Ui+1];if(Bo(us,v)>Ne*.7&&Bo(va,v)<Ne*.6){var Fn=us.split(" "),cs=Fn.pop();Bo(cs,v)<Ne*.2&&(He[Ui]=Fn.join(" "),He[Ui+1]=cs+" "+va),jr-=1}}le=He.join(`
`)}else le=f;le=Lg(le,v),pw[fe]=le}return le}var CP=/font-family: ?([^;]*);/,SP=/("|')/g,jh;function kP(f){if(!jh){jh={};for(var d=document.styleSheets,m=0,v=d.length;m<v;++m){var S=d[m];try{var A=S.rules||S.cssRules;if(A)for(var V=0,ee=A.length;V<ee;++V){var fe=A[V];if(fe.type==5){var le=fe.cssText.match(CP);jh[le[1].replace(SP,"")]=!0}}}catch{}}}return f in jh}var mw={},RP=bP.getNames();function IP(f){var d=f.toString();if(d in mw)return f;for(var m=f.map(function(le){var me=Ag(le,1).split(" ");return[me.slice(3).join(" ").replace(/"/g,""),me[1]+me[0]]}),v=0,S=m.length;v<S;++v){var A=m[v],V=A[0];if(!kP(V)&&RP.indexOf(V)!==-1){var ee="https://fonts.googleapis.com/css?family="+V.replace(/ /g,"+")+":"+A[1];if(!document.querySelector('link[href="'+ee+'"]')){var fe=document.createElement("link");fe.href=ee,fe.rel="stylesheet",document.head.appendChild(fe)}}}return mw[d]=!0,f}var AP={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},OP={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},MP=function(f,d){var m=iP(f,d);if(m.result==="error")throw new Error(m.value.map(function(v){return v.key+": "+v.message}).join(", "));return m.value},$g={},Bh={zoom:0},Vh,jg;function dt(f,d,m,v,S,A,V){var ee=f.id;A||(A={},console.warn("No functionCache provided to getValue()")),A[ee]||(A[ee]={});var fe=A[ee];if(!fe[m]){var le=(f[d]||$g)[m],me=nw[d+"_"+f.type][m];le===void 0&&(le=me.default);var Ce=nP(le);if(!Ce&&tw(le)&&(le=x(le,me),Ce=!0),Ce){var Fe=MP(le,me);fe[m]=Fe.evaluate.bind(Fe)}else me.type=="color"&&(le=w.parse(le)),fe[m]=function(){return le}}return Bh.zoom=v,fe[m](Bh,S,V)}function PP(f,d,m,v,S){return S||console.warn("No filterCache provided to evaluateFilter()"),f in S||(S[f]=lP(d).filter),Bh.zoom=v,S[f](Bh,m)}var gw=!1;function DP(f){gw=f}function _a(f,d){if(f){if(!gw&&(f.a===0||d===0))return;var m=f.a;return d=d===void 0?1:d,m===0?"transparent":"rgba("+Math.round(f.r*255/m)+","+Math.round(f.g*255/m)+","+Math.round(f.b*255/m)+","+m*d+")"}return f}var LP=/^([^]*)\{(.*)\}([^]*)$/;function Bg(f,d){var m;do if(m=f.match(LP),m){var v=d[m[2]]||"";f=m[1]+v+m[3]}while(m);return f}var yw=!1;function FP(f){yw=f}function _w(f,d,m,v,S,A,V){if(v===void 0&&(v=Kl),typeof d=="string"&&(d=JSON.parse(d)),d.version!=8)throw new Error("glStyle version 8 required.");var ee,fe;if(A){if(typeof Image<"u"){var le=new Image;le.crossOrigin="anonymous",le.onload=function(){ee=le,fe=[le.width,le.height],f.changed(),le.onload=null},le.src=A}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var me=self;me.postMessage({action:"loadImage",src:A}),me.addEventListener("message",function(wa){wa.data.action==="imageLoaded"&&wa.data.src===A&&(ee=wa.data.image,fe=[ee.width,ee.height])})}}for(var Ce=_P(d.layers),Fe={},Ne=[],it={},He={},$e={},ln={},Pt,Ln=0,rn=Ce.length;Ln<rn;++Ln){var Rt=Ce[Ln],Jn=Rt.id;if(typeof m=="string"&&Rt.source==m||m.indexOf(Jn)!==-1){var Mi=Rt["source-layer"];if(Pt){if(Rt.source!==Pt)throw new Error('Layer "'+Jn+'" does not use source "'+Pt)}else{Pt=Rt.source;var hi=d.sources[Pt];if(!hi)throw new Error('Source "'+Pt+'" is not defined');var Ui=hi.type;if(Ui!=="vector"&&Ui!=="geojson")throw new Error('Source "'+Pt+'" is not of type "vector" or "geojson", but "'+Ui+'"')}var jr=Fe[Mi];jr||(jr=[],Fe[Mi]=jr),jr.push({layer:Rt,index:Ln}),Ne.push(Jn)}}var us=new h.default,va=new s.default,Fn=[],cs=function(ba,wa){var Ac=ba.getProperties(),Ug=Fe[Ac.layer];if(Ug){var at=v.indexOf(wa);at==-1&&(at=TP(wa,v));for(var Br=AP[ba.getGeometry().getType()],gt={properties:Ac,type:Br},vt=f.get("mapbox-featurestate")[ba.getId()],Kn=-1,Hg,Yg=0,dD=Ug.length;Yg<dD;++Yg){var Lw=Ug[Yg],Xe=Lw.layer,hD=Xe.id,Oc=Xe.layout||$g,Vo=Xe.paint||$g;if(!(Oc.visibility==="none"||"minzoom"in Xe&&at<Xe.minzoom||"maxzoom"in Xe&&at>=Xe.maxzoom)){var Fw=Xe.filter;if(!Fw||PP(hD,Fw,gt,at,ln)){Hg=Xe;var Vr=void 0,Ps=void 0,zh=void 0,ds=void 0,Ds=void 0,Ke=void 0,ql=Lw.index;if(Br==3&&(Xe.type=="fill"||Xe.type=="fill-extrusion"))if(Ps=dt(Xe,"paint",Xe.type+"-opacity",at,gt,$e,vt),Xe.type+"-pattern"in Vo){var Uh=dt(Xe,"paint",Xe.type+"-pattern",at,gt,$e,vt);if(Uh){var Wg=typeof Uh=="string"?Bg(Uh,Ac):Uh.toString();if(ee&&S&&S[Wg]){++Kn,Ke=Fn[Kn],(!Ke||!Ke.getFill()||Ke.getStroke()||Ke.getText())&&(Ke=new g.default({fill:new s.default}),Fn[Kn]=Ke),zh=Ke.getFill(),Ke.setZIndex(ql);var Nw=Wg+"."+Ps,Hh=He[Nw];if(!Hh){var Ea=S[Wg],$w=cw(Ea.width,Ea.height),Kg=$w.getContext("2d");Kg.globalAlpha=Ps,Kg.drawImage(ee,Ea.x,Ea.y,Ea.width,Ea.height,0,0,Ea.width,Ea.height),Hh=Kg.createPattern($w,"repeat"),He[Nw]=Hh}zh.setColor(Hh)}}}else Vr=_a(dt(Xe,"paint",Xe.type+"-color",at,gt,$e,vt),Ps),Xe.type+"-outline-color"in Vo&&(Ds=_a(dt(Xe,"paint",Xe.type+"-outline-color",at,gt,$e,vt),Ps)),Ds||(Ds=Vr),(Vr||Ds)&&(++Kn,Ke=Fn[Kn],(!Ke||Vr&&!Ke.getFill()||!Vr&&Ke.getFill()||Ds&&!Ke.getStroke()||!Ds&&Ke.getStroke()||Ke.getText())&&(Ke=new g.default({fill:Vr?new s.default:void 0,stroke:Ds?new h.default:void 0}),Fn[Kn]=Ke),Vr&&(zh=Ke.getFill(),zh.setColor(Vr)),Ds&&(ds=Ke.getStroke(),ds.setColor(Ds),ds.setWidth(.5)),Ke.setZIndex(ql));if(Br!=1&&Xe.type=="line"){Vr=!("line-pattern"in Vo)&&"line-color"in Vo?_a(dt(Xe,"paint","line-color",at,gt,$e,vt),dt(Xe,"paint","line-opacity",at,gt,$e,vt)):void 0;var qg=dt(Xe,"paint","line-width",at,gt,$e,vt);Vr&&qg>0&&(++Kn,Ke=Fn[Kn],(!Ke||!Ke.getStroke()||Ke.getFill()||Ke.getText())&&(Ke=new g.default({stroke:new h.default}),Fn[Kn]=Ke),ds=Ke.getStroke(),ds.setLineCap(dt(Xe,"layout","line-cap",at,gt,$e,vt)),ds.setLineJoin(dt(Xe,"layout","line-join",at,gt,$e,vt)),ds.setMiterLimit(dt(Xe,"layout","line-miter-limit",at,gt,$e,vt)),ds.setColor(Vr),ds.setWidth(qg),ds.setLineDash(Vo["line-dasharray"]?dt(Xe,"paint","line-dasharray",at,gt,$e,vt).map(function(Pi){return Pi*qg}):null),Ke.setZIndex(ql))}var Yh=!1,Nn=null,jw=0,Wh=void 0,Zi=void 0,Xg=void 0;if((Br==1||Br==2)&&"icon-image"in Oc){var Kh=dt(Xe,"layout","icon-image",at,gt,$e,vt);if(Kh){Wh=typeof Kh=="string"?Bg(Kh,Ac):Kh.toString();var Zg=void 0;if(ee&&S&&S[Wh]){var Bw=dt(Xe,"layout","icon-rotation-alignment",at,gt,$e,vt);if(Br==2){var Ta=ba.getGeometry();if(Ta.getFlatMidpoint||Ta.getFlatMidpoints){var qh=Ta.getExtent(),fD=Math.sqrt(Math.max(Math.pow((qh[2]-qh[0])/wa,2),Math.pow((qh[3]-qh[1])/wa,2)));if(fD>150){var Xl=Ta.getType()==="MultiLineString"?Ta.getFlatMidpoints():Ta.getFlatMidpoint();jg||(Vh=[NaN,NaN],jg=new u.default("Point",Vh,[],{},null)),Zg=jg,Vh[0]=Xl[0],Vh[1]=Xl[1];var pD=dt(Xe,"layout","symbol-placement",at,gt,$e,vt);if(pD==="line"&&Bw==="map")for(var Xh=Ta.getStride(),Mc=Ta.getFlatCoordinates(),Zl=0,mD=Mc.length-Xh;Zl<mD;Zl+=Xh){var Jg=Mc[Zl],Qg=Mc[Zl+1],e0=Mc[Zl+Xh],t0=Mc[Zl+Xh+1],gD=Math.min(Jg,e0),yD=Math.min(Qg,t0),_D=Math.max(Jg,e0),vD=Math.max(Qg,t0);if(Xl[0]>=gD&&Xl[0]<=_D&&Xl[1]>=yD&&Xl[1]<=vD){jw=Math.atan2(Qg-t0,e0-Jg);break}}}}}if(Br!==2||Zg){var Vw=dt(Xe,"layout","icon-size",at,gt,$e,vt),Ls=Vo["icon-color"]!==void 0?dt(Xe,"paint","icon-color",at,gt,$e,vt):null;if(!Ls||Ls.a!==0){var n0=Wh+"."+Vw;if(Ls!==null&&(n0+="."+Ls),Zi=it[n0],!Zi){var Jl=S[Wh];Zi=new o.default({color:Ls?[Ls.r*255,Ls.g*255,Ls.b*255,Ls.a]:void 0,img:ee,imgSize:fe,size:[Jl.width,Jl.height],offset:[Jl.x,Jl.y],rotateWithView:Bw==="map",scale:Vw/Jl.pixelRatio,displacement:"icon-offset"in Oc?dt(Xe,"layout","icon-offset",at,gt,$e,vt).map(function(Pi){return-Pi*Jl.pixelRatio}):void 0}),it[n0]=Zi}}Zi&&(++Kn,Ke=Fn[Kn],(!Ke||!Ke.getImage()||Ke.getFill()||Ke.getStroke())&&(Ke=new g.default,Fn[Kn]=Ke),Ke.setGeometry(Zg),Zi.setRotation(jw+Pg(dt(Xe,"layout","icon-rotate",at,gt,$e,vt))),Zi.setOpacity(dt(Xe,"paint","icon-opacity",at,gt,$e,vt)),Zi.setAnchor(OP[dt(Xe,"layout","icon-anchor",at,gt,$e,vt)]),Ke.setImage(Zi),Nn=Ke.getText(),Ke.setText(void 0),Ke.setZIndex(ql),Yh=!0,Xg=!1)}else Xg=!0}}}if(Br==1&&Xe.type==="circle"){++Kn,Ke=Fn[Kn],(!Ke||!Ke.getImage()||Ke.getFill()||Ke.getStroke())&&(Ke=new g.default,Fn[Kn]=Ke);var Gw="circle-radius"in Vo?dt(Xe,"paint","circle-radius",at,gt,$e,vt):5,i0=_a(dt(Xe,"paint","circle-stroke-color",at,gt,$e,vt),dt(Xe,"paint","circle-stroke-opacity",at,gt,$e,vt)),r0=_a(dt(Xe,"paint","circle-color",at,gt,$e,vt),dt(Xe,"paint","circle-opacity",at,gt,$e,vt)),s0=dt(Xe,"paint","circle-stroke-width",at,gt,$e,vt),zw=Gw+"."+i0+"."+r0+"."+s0;Zi=it[zw],Zi||(Zi=new i.default({radius:Gw,stroke:i0&&s0>0?new h.default({width:s0,color:i0}):void 0,fill:r0?new s.default({color:r0}):void 0}),it[zw]=Zi),Ke.setImage(Zi),Nn=Ke.getText(),Ke.setText(void 0),Ke.setGeometry(void 0),Ke.setZIndex(ql),Yh=!0}var xi=void 0,a0=void 0,Pc=void 0,xa=void 0,Dc=void 0,o0=void 0;if("text-field"in Oc){xa=Math.round(dt(Xe,"layout","text-size",at,gt,$e,vt));var l0=dt(Xe,"layout","text-font",at,gt,$e,vt);Pc=dt(Xe,"layout","text-line-height",at,gt,$e,vt),a0=Ag(V?V(l0):l0,xa,Pc),Dc=dt(Xe,"layout","text-letter-spacing",at,gt,$e,vt),o0=dt(Xe,"layout","text-max-width",at,gt,$e,vt);var Ql=dt(Xe,"layout","text-field",at,gt,$e,vt);typeof Ql=="object"&&Ql.sections?Ql.sections.length===1?xi=Ql.toString():xi=Ql.sections.reduce(function(Pi,Ca,Jie){var Xw=Ca.fontStack?Ca.fontStack.split(","):l0,p0=Ag(V?V(Xw):Xw,xa*(Ca.scale||1),Pc),eu=Ca.text;if(eu===`
`)return Pi.push(`
`,""),Pi;if(Br==2){Pi.push(Lg(eu,Dc),p0);return}eu=Ng(eu,p0,o0,Dc).split(`
`);for(var Jh=0,wD=eu.length;Jh<wD;++Jh)Jh>0&&Pi.push(`
`,""),Pi.push(eu[Jh],p0);return Pi},[]):xi=Bg(Ql,Ac).trim(),Ps=dt(Xe,"paint","text-opacity",at,gt,$e,vt)}if(xi&&Ps&&!Xg){Yh||(++Kn,Ke=Fn[Kn],(!Ke||!Ke.getText()||Ke.getFill()||Ke.getStroke())&&(Ke=new g.default,Fn[Kn]=Ke),Ke.setImage(void 0),Ke.setGeometry(void 0)),Ke.getText()||Ke.setText(Nn||new b.default({padding:[2,2,2,2]})),Nn=Ke.getText();var Uw=Oc["text-transform"];Uw=="uppercase"?xi=Array.isArray(xi)?xi.map(function(Pi,Ca){return Ca%2?Pi:Pi.toUpperCase()}):xi.toUpperCase():Uw=="lowercase"&&(xi=Array.isArray(xi)?xi.map(function(Pi,Ca){return Ca%2?Pi:Pi.toLowerCase()}):xi.toLowerCase());var Hw=Array.isArray(xi)?xi:Br==2?Lg(xi,Dc):Ng(xi,a0,o0,Dc);Nn.setText(Hw),Nn.setFont(a0),Nn.setRotation(Pg(dt(Xe,"layout","text-rotate",at,gt,$e,vt)));var Zh=dt(Xe,"layout","text-anchor",at,gt,$e,vt),u0=Yh||Br==1?"point":dt(Xe,"layout","symbol-placement",at,gt,$e,vt);Nn.setPlacement(u0),Nn.setOverflow(u0==="point");var Go=dt(Xe,"paint","text-halo-width",at,gt,$e,vt),Yw=dt(Xe,"layout","text-offset",at,gt,$e,vt),Ww=dt(Xe,"paint","text-translate",at,gt,$e,vt),c0=0,d0=0;if(u0=="point"){var h0="center";Zh.indexOf("left")!==-1?(h0="left",d0=Go):Zh.indexOf("right")!==-1&&(h0="right",d0=-Go),Nn.setTextAlign(h0);var bD=dt(Xe,"layout","text-rotation-alignment",at,gt,$e,vt);Nn.setRotateWithView(bD=="map")}else Nn.setMaxAngle(Pg(dt(Xe,"layout","text-max-angle",at,gt,$e,vt))*xi.length/Hw.length),Nn.setTextAlign(),Nn.setRotateWithView(!1);var f0="middle";Zh.indexOf("bottom")==0?(f0="bottom",c0=-Go-.5*(Pc-1)*xa):Zh.indexOf("top")==0&&(f0="top",c0=Go+.5*(Pc-1)*xa),Nn.setTextBaseline(f0),Nn.setOffsetX(Yw[0]*xa+d0+Ww[0]),Nn.setOffsetY(Yw[1]*xa+c0+Ww[1]),va.setColor(_a(dt(Xe,"paint","text-color",at,gt,$e,vt),Ps)),Nn.setFill(va);var Kw=_a(dt(Xe,"paint","text-halo-color",at,gt,$e,vt),Ps);if(Kw){us.setColor(Kw),Go*=2;var qw=.5*xa;us.setWidth(Go<=qw?Go:qw),Nn.setStroke(us)}else Nn.setStroke(void 0);var Lc=dt(Xe,"layout","text-padding",at,gt,$e,vt),Fc=Nn.getPadding();Lc!==Fc[0]&&(Fc[0]=Lc,Fc[1]=Lc,Fc[2]=Lc,Fc[3]=Lc),Ke.setZIndex(ql)}}}}if(Kn>-1)return Fn.length=Kn+1,yw&&(typeof ba.set=="function"?ba.set("mapbox-layer",Hg):ba.getProperties()["mapbox-layer"]=Hg),Fn}};return f.setStyle(cs),f.set("mapbox-source",Pt),f.set("mapbox-layers",Ne),f.set("mapbox-featurestate",{}),cs}var NP=f=>{var d={};return kt.d(d,f),d};const $P=NP({default:()=>S1});var jP=f=>{var d={};return kt.d(d,f),d};const BP=jP({default:()=>R7});var VP=f=>{var d={};return kt.d(d,f),d};const GP=VP({default:()=>MO});var zP=f=>{var d={};return kt.d(d,f),d};const vw=zP({default:()=>ng});var UP=f=>{var d={};return kt.d(d,f),d};const bw=UP({default:()=>l7});var HP=f=>{var d={};return kt.d(d,f),d};const YP=HP({default:()=>_O});var WP=f=>{var d={};return kt.d(d,f),d};const ww=WP({default:()=>kW});var KP=f=>{var d={};return kt.d(d,f),d};const Ew=KP({default:()=>N1});var qP=f=>{var d={};return kt.d(d,f),d};const Gh=qP({default:()=>GW});var XP=f=>{var d={};return kt.d(d,f),d};const Vg=XP({default:()=>n7,defaultLoadFunction:()=>TO});var ZP=f=>{var d={};return kt.d(d,f),d};const JP=ZP({default:()=>Wr});var QP=f=>{var d={};return kt.d(d,f),d};const eD=QP({createXYZ:()=>ig});var tD=f=>{var d={};return kt.d(d,f),d};const Ic=tD({equivalent:()=>Ya,fromLonLat:()=>e2,getUserProjection:()=>t2});function Tw(f,d){if(!d.accessToken){d=(0,jo.assign)({},d);var m=new URL(f).searchParams;m.forEach(function(v,S){d.accessToken=v,d.accessTokenParam=S})}return d}function xw(f,d,m,v,S){v===void 0&&(v={});var A,V,ee;return typeof v=="string"?(A=v,ee={}):(A=v.styleUrl,ee=v),!A&&typeof d=="string"&&!d.trim().startsWith("{")&&(A=d),A&&(A=A.startsWith("data:")?location.href:Mg(A,ee.accessToken),ee=Tw(A,ee)),new Promise(function(fe,le){Dg(d,ee).then(function(me){if(me.version!=8)return le(new Error("glStyle version 8 required."));if(!(f instanceof ww.default||f instanceof Gh.default))return le(new Error("Can only apply to VectorLayer or VectorTileLayer"));var Ce=f instanceof Gh.default?"vector":"geojson";if(m)Array.isArray(m)?V=me.layers.find(function(Rt){return Rt.id===m[0]}).source:V=m;else if(V=Object.keys(me.sources).find(function(Rt){return me.sources[Rt].type===Ce}),!V)return le(new Error("No "+Ce+" source found in the glStyle."));function Fe(){if(f instanceof Gh.default)return Rw(me.sources[V],A,ee).then(function(Mi){var hi=f.getSource();if(hi?Mi!==hi&&(hi.setTileUrlFunction(Mi.getTileUrlFunction()),hi.format_||(hi.format_=Mi.format_),hi.getAttributions()||hi.setAttributions(Mi.getAttributions()),hi.getTileLoadFunction()===Vg.defaultLoadFunction&&hi.setTileLoadFunction(Mi.getTileLoadFunction()),(0,Ic.equivalent)(hi.getProjection(),Mi.getProjection())&&(hi.tileGrid=Mi.getTileGrid())):f.setSource(Mi),!isFinite(f.getMaxResolution())&&!isFinite(f.getMinZoom())){var Ui=f.getSource().getTileGrid();f.setMaxResolution(Ui.getResolution(Ui.getMinZoom()))}});var Rt=Aw(me.sources[V],A,ee),Jn=f.getSource();return Jn?Rt!==Jn&&(Jn.getAttributions()||Jn.setAttributions(Rt.getAttributions()),Jn.format_||(Jn.format_=Rt.getFormat()),Jn.url_=Rt.getUrl()):f.setSource(Rt),Promise.resolve()}var Ne,it,He,$e;function ln(){!$e&&(!me.sprite||it)?($e=_w(f,me,V,S,it,He,IP),f.getStyle()?Fe().then(fe).catch(le):le(new Error("Nothing to show for source ["+V+"]"))):$e?(f.setStyle($e),Fe().then(fe).catch(le)):le(new Error("Something went wrong trying to apply style."))}if(me.sprite){var Pt=new URL(EP(me.sprite,ee.accessToken,A||location.href));Ne=window.devicePixelRatio>=1.5?.5:1;var Ln=Ne==.5?"@2x":"",rn=Pt.origin+Pt.pathname+Ln+".json"+Pt.search;new Promise(function(Rt,Jn){$h("Sprite",rn,ee).then(Rt).catch(function(Mi){rn=Pt.origin+Pt.pathname+".json"+Pt.search,$h("Sprite",rn,ee).then(Rt).catch(Jn)})}).then(function(Rt){Rt===void 0&&le(new Error("No sprites found.")),it=Rt,He=Pt.origin+Pt.pathname+Ln+".png"+Pt.search,ln()}).catch(function(Rt){le(new Error("Sprites cannot be loaded: "+rn+": "+Rt.message))})}else ln()}).catch(le)})}var Gg={};function Cw(f,d){var m={id:d.id,type:d.type},v={};function S(A){var V=d.layout||{},ee=d.paint||{};m.paint=ee;var fe=typeof f.getSource=="function"?f.getSource().getTileGrid().getZForResolution(A):f.getView().getZoom(),le=typeof f.getTargetElement=="function"?f.getTargetElement():void 0,me,Ce;if(ee["background-color"]!==void 0&&(me=dt(m,"paint","background-color",fe,Gg,v),le&&(le.style.background=w.parse(me).toString())),ee["background-opacity"]!==void 0&&(Ce=dt(m,"paint","background-opacity",fe,Gg,v),le&&(le.style.opacity=Ce)),V.visibility=="none"){le&&(le.style.backgroundColor="",le.style.opacity="");return}return _a(me,Ce)}if(typeof f.getTargetElement=="function")f.getTargetElement()&&S(),f.on(["change:resolution","change:target"],S);else if(typeof f.setBackground=="function")f.setBackground(S);else throw new Error("Unable to apply background.")}function Sw(f,d){d.layers.some(function(m){if(m.type==="background")return Cw(f,m),!0})}function nD(f,d,m){return m===void 0&&(m={}),typeof d=="object"?(Sw(f,d),Promise.resolve()):Dg(d,m).then(function(v){Sw(f,v)})}function iD(f,d){var m;return f.some(function(v){if(v.id==d)return m=v.source,!0}),m}function kw(f){var d=f.bounds;if(d){var m=(0,Ic.fromLonLat)([d[0],d[1]]),v=(0,Ic.fromLonLat)([d[2],d[3]]);return[m[0],m[1],v[0],v[1]]}}function Rw(f,d,m){return new Promise(function(v,S){hw(f,d,m).then(function(A){var V=new bw.default({tileJSON:A}),ee=V.getTileJSON(),fe=V.getTileGrid(),le=kw(ee),me=ee.minzoom||0,Ce=ee.maxzoom||22,Fe=V.get("ol-source");if(Fe===void 0){var Ne={attributions:V.getAttributions(),format:new BP.default,tileGrid:new vw.default({origin:fe.getOrigin(0),extent:le||fe.getExtent(),minZoom:me,resolutions:Kl.slice(0,Ce+1),tileSize:512})};Array.isArray(ee.tiles)?Ne.urls=ee.tiles:Ne.url=ee.tiles,A.olSourceOptions&&Object.assign(Ne,A.olSourceOptions),Fe=new Vg.default(Ne),V.set("ol-source",Fe)}v(Fe)}).catch(S)})}function rD(f,d,m){var v=new Gh.default({declutter:!0,visible:!1});return Rw(f,d,m).then(function(S){v.setSource(S)}).catch(function(S){v.setSource(void 0)}),v}function sD(f,d,m){var v=new YP.default;return hw(f,d,m).then(function(S){var A=new bw.default({transition:0,crossOrigin:"anonymous",tileJSON:S}),V=kw(S),ee=A.getTileGrid(),fe=f.tileSize||S.tileSize||512,le=S.minzoom||0,me=S.maxzoom||22;A.tileGrid=new vw.default({origin:ee.getOrigin(0),extent:V||ee.getExtent(),minZoom:le,resolutions:(0,eD.createXYZ)({maxZoom:me,tileSize:fe}).getResolutions(),tileSize:fe});var Ce=A.getTileUrlFunction();A.setTileUrlFunction(function(Fe,Ne,it){var He=Ce(Fe,Ne,it);if(He.indexOf("{bbox-epsg-3857}")!=-1){var $e=A.getTileGrid().getTileCoordExtent(Fe);He=He.replace("{bbox-epsg-3857}",$e.toString())}return He}),v.setSource(A)}).catch(function(S){v.setSource(void 0)}),v}var Iw=new $P.default;function Aw(f,d,m){var v=f.data,S={};if(typeof v=="string"){var A=Nh(v,m.accessToken,m.accessTokenParam||"access_token",d||location.href);if(m.transformRequest){var V=m.transformRequest(A,"GeoJSON");V instanceof Request&&(A=encodeURI(V.url))}S.url=A}else S.features=Iw.readFeatures(v,{featureProjection:(0,Ic.getUserProjection)()||"EPSG:3857"});return new Ew.default((0,jo.assign)({attributions:f.attribution,format:Iw},S))}function aD(f,d,m){return new ww.default({declutter:!0,source:Aw(f,d,m),visible:!1})}function Ow(f,d,m,v){var S=m.getZoom(),A=dt(f,"paint","raster-opacity",S,Gg,v);d.setOpacity(A)}function Mw(f,d,m,v){var S=[],A=d.getView();!A.isDef()&&!A.getRotation()&&!A.getResolutions()&&(A=new JP.default((0,jo.assign)(A.getProperties(),{maxResolution:Kl[0]})),d.setView(A)),"center"in f&&!A.getCenter()&&A.setCenter((0,Ic.fromLonLat)(f.center)),"zoom"in f&&A.getZoom()===void 0&&A.setResolution(Kl[0]/Math.pow(2,f.zoom)),(!A.getCenter()||A.getZoom()===void 0)&&A.fit(A.getProjection().getExtent(),{nearest:!0,size:d.getSize()});for(var V=f.layers,ee=[],fe,le,me,Ce,Fe,Ne=0,it=V.length;Ne<it;++Ne){fe=V[Ne];var He=fe.type;if(He=="heatmap"||He=="hillshade")throw new Error(He+" layers are not supported");if(He=="background")Cw(d,fe);else{if(Ce=fe.source||iD(V,fe.ref),Ce!=me){if(ee.length&&(S.push(Dw(Fe,ee,f,m,d,v)),ee=[]),le=f.sources[Ce],le.type=="vector")Fe=rD(le,m,v);else if(le.type=="raster"){Fe=sD(le,m,v),Fe.setVisible(fe.layout?fe.layout.visibility!=="none":!0);var $e={};A.on("change:resolution",Ow.bind(this,fe,Fe,A,$e)),Ow(fe,Fe,A,$e)}else le.type=="geojson"&&(Fe=aD(le,m,v));me=Ce,Fe&&Fe.set("mapbox-source",me)}ee.push(fe.id)}}return S.push(Dw(Fe,ee,f,m,d,v)),d.set("mapbox-style",f),Promise.all(S)}function Pw(f,d,m){m===void 0&&(m={});var v;if((typeof f=="string"||f instanceof HTMLElement)&&(f=new GP.default({target:f})),typeof d=="string"){var S=d.startsWith("data:")?location.href:Mg(d,m.accessToken);m=Tw(S,m),v=new Promise(function(A,V){Dg(d,m).then(function(ee){Mw(ee,f,S,m).then(function(){A(f)}).catch(V)}).catch(function(ee){V(new Error("Could not load "+d+": "+ee.message))})})}else v=new Promise(function(A,V){Mw(d,f,"",m).then(function(){A(f)}).catch(V)});return v}function Dw(f,d,m,v,S,A){A===void 0&&(A={});for(var V=24,ee=0,fe=m.layers,le=0,me=fe.length;le<me;++le){var Ce=fe[le];d.indexOf(Ce.id)!==-1&&(V=Math.min("minzoom"in Ce?Ce.minzoom:0,V),ee=Math.max("maxzoom"in Ce?Ce.maxzoom:24,ee))}return new Promise(function(Fe,Ne){var it=function(){var He=f.getSource();if(!He||He.getState()==="error"){Ne(new Error("Error accessing data for source "+f.get("mapbox-source")));return}if("getTileGrid"in He){var $e=He.getTileGrid();if($e){var ln=$e.getMinZoom();(V>0||ln>0)&&f.setMaxResolution(Math.min(Kl[V],$e.getResolution(ln))+1e-9),ee<24&&f.setMinResolution(Kl[ee]+1e-9)}}He instanceof Ew.default||He instanceof Vg.default?xw(f,m,d,(0,jo.assign)({styleUrl:v},A)).then(function(){f.setVisible(!0),Fe()}).catch(Ne):Fe()};f.set("mapbox-layers",d),S.getLayers().getArray().indexOf(f)===-1&&S.addLayer(f),f.getSource()?it():f.once("change:source",it)})}function oD(f,d){for(var m=f.getLayers().getArray(),v=0,S=m.length;v<S;++v){var A=m[v].get("mapbox-layers");if(A&&A.indexOf(d)!==-1)return m[v]}}function zg(f,d){for(var m=[],v=f.getAllLayers(),S=0,A=v.length;S<A;++S)v[S].get("mapbox-source")===d&&m.push(v[S]);return m}function lD(f,d){for(var m=f.getLayers().getArray(),v=0,S=m.length;v<S;++v){var A=m[v].getSource();if(m[v].get("mapbox-source")===d)return A}}function uD(f,d,m){for(var v=("getLayers"in f)?zg(f,d.source):[f],S=0,A=v.length;S<A;++S){var V=v[S].get("mapbox-featurestate");if(V)m?V[d.id]=m:delete V[d.id],v[S].changed();else throw new Error('Map or layer for source "'+d.source+'" not found.')}}function cD(f,d){for(var m=("getLayers"in f)?zg(f,d.source):[f],v=0,S=m.length;v<S;++v){var A=m[v].get("mapbox-featurestate");if(A&&A[d.id])return A[d.id]}return null}})();let cK,dK;const hK=new _O({source:new r7({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),preload:100}),fK=!1,pK={name:"FieldBackgroundMap",components:{SettingsPanelSection:eg},props:{settings:{type:Object,required:!0}},data(){return{customMapsEnabled:fK}}};function mK(t,e,n,i,r,s){const a=ze("base-radio-button"),o=ze("settings-panel-section");return ne(),tt(o,{title:t.$t("settings.backgroundMap")},{default:pt(()=>[De(a,{key:"default",modelValue:n.settings.backgroundMap,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.backgroundMap=l),"model-value":n.settings.backgroundMap,"own-value":"default",label:t.$t("settings.backgroundMapDefault"),class:"radio-button"},null,8,["modelValue","model-value","label"]),r.customMapsEnabled?(ne(),tt(a,{key:"custom",modelValue:n.settings.backgroundMap,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.backgroundMap=l),"model-value":n.settings.backgroundMap,"own-value":"custom",label:t.$t("settings.backgroundMapCustom"),class:"radio-button"},null,8,["modelValue","model-value","label"])):ke("",!0)]),_:1},8,["title"])}const gK=st(pK,[["render",mK],["__scopeId","data-v-63792073"]]),yK={name:"BaseBackdrop",emits:["click"]};function _K(t,e,n,i,r,s){return ne(),pe("div",{class:"backdrop",onClick:e[0]||(e[0]=a=>t.$emit("click"))})}const sg=st(yK,[["render",_K],["__scopeId","data-v-09156fb4"]]),vK={name:"AppVersion",computed:{appVersion(){return"v3.0.0"}}},bK={class:"row justify-content-center mt-3 app-version"};function wK(t,e,n,i,r,s){return ne(),pe("div",bK,[Me("span",null,bt(s.appVersion),1)])}const EK=st(vK,[["render",wK]]);function TK(){this.__data__=[],this.size=0}var xK=TK;function CK(t,e){return t===e||t!==t&&e!==e}var PO=CK,SK=PO;function kK(t,e){for(var n=t.length;n--;)if(SK(t[n][0],e))return n;return-1}var ag=kK,RK=ag,IK=Array.prototype,AK=IK.splice;function OK(t){var e=this.__data__,n=RK(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():AK.call(e,n,1),--this.size,!0}var MK=OK,PK=ag;function DK(t){var e=this.__data__,n=PK(e,t);return n<0?void 0:e[n][1]}var LK=DK,FK=ag;function NK(t){return FK(this.__data__,t)>-1}var $K=NK,jK=ag;function BK(t,e){var n=this.__data__,i=jK(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var VK=BK,GK=xK,zK=MK,UK=LK,HK=$K,YK=VK;function vc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}vc.prototype.clear=GK;vc.prototype.delete=zK;vc.prototype.get=UK;vc.prototype.has=HK;vc.prototype.set=YK;var og=vc,WK=og;function KK(){this.__data__=new WK,this.size=0}var qK=KK;function XK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var ZK=XK;function JK(t){return this.__data__.get(t)}var QK=JK;function eq(t){return this.__data__.has(t)}var tq=eq,Pf={},nq=typeof Pf=="object"&&Pf&&Pf.Object===Object&&Pf,DO=nq,iq=DO,rq=typeof self=="object"&&self&&self.Object===Object&&self,sq=iq||rq||Function("return this")(),As=sq,aq=As,oq=aq.Symbol,_b=oq,CC=_b,LO=Object.prototype,lq=LO.hasOwnProperty,uq=LO.toString,qc=CC?CC.toStringTag:void 0;function cq(t){var e=lq.call(t,qc),n=t[qc];try{t[qc]=void 0;var i=!0}catch{}var r=uq.call(t);return i&&(e?t[qc]=n:delete t[qc]),r}var dq=cq,hq=Object.prototype,fq=hq.toString;function pq(t){return fq.call(t)}var mq=pq,SC=_b,gq=dq,yq=mq,_q="[object Null]",vq="[object Undefined]",kC=SC?SC.toStringTag:void 0;function bq(t){return t==null?t===void 0?vq:_q:kC&&kC in Object(t)?gq(t):yq(t)}var lg=bq;function wq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ah=wq,Eq=lg,Tq=Ah,xq="[object AsyncFunction]",Cq="[object Function]",Sq="[object GeneratorFunction]",kq="[object Proxy]";function Rq(t){if(!Tq(t))return!1;var e=Eq(t);return e==Cq||e==Sq||e==xq||e==kq}var FO=Rq,Iq=As,Aq=Iq["__core-js_shared__"],Oq=Aq,cy=Oq,RC=function(){var t=/[^.]+$/.exec(cy&&cy.keys&&cy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Mq(t){return!!RC&&RC in t}var Pq=Mq,Dq=Function.prototype,Lq=Dq.toString;function Fq(t){if(t!=null){try{return Lq.call(t)}catch{}try{return t+""}catch{}}return""}var NO=Fq,Nq=FO,$q=Pq,jq=Ah,Bq=NO,Vq=/[\\^$.*+?()[\]{}|]/g,Gq=/^\[object .+?Constructor\]$/,zq=Function.prototype,Uq=Object.prototype,Hq=zq.toString,Yq=Uq.hasOwnProperty,Wq=RegExp("^"+Hq.call(Yq).replace(Vq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kq(t){if(!jq(t)||$q(t))return!1;var e=Nq(t)?Wq:Gq;return e.test(Bq(t))}var qq=Kq;function Xq(t,e){return t==null?void 0:t[e]}var Zq=Xq,Jq=qq,Qq=Zq;function eX(t,e){var n=Qq(t,e);return Jq(n)?n:void 0}var Gl=eX,tX=Gl,nX=As,iX=tX(nX,"Map"),vb=iX,rX=Gl,sX=rX(Object,"create"),ug=sX,IC=ug;function aX(){this.__data__=IC?IC(null):{},this.size=0}var oX=aX;function lX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var uX=lX,cX=ug,dX="__lodash_hash_undefined__",hX=Object.prototype,fX=hX.hasOwnProperty;function pX(t){var e=this.__data__;if(cX){var n=e[t];return n===dX?void 0:n}return fX.call(e,t)?e[t]:void 0}var mX=pX,gX=ug,yX=Object.prototype,_X=yX.hasOwnProperty;function vX(t){var e=this.__data__;return gX?e[t]!==void 0:_X.call(e,t)}var bX=vX,wX=ug,EX="__lodash_hash_undefined__";function TX(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=wX&&e===void 0?EX:e,this}var xX=TX,CX=oX,SX=uX,kX=mX,RX=bX,IX=xX;function bc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}bc.prototype.clear=CX;bc.prototype.delete=SX;bc.prototype.get=kX;bc.prototype.has=RX;bc.prototype.set=IX;var AX=bc,AC=AX,OX=og,MX=vb;function PX(){this.size=0,this.__data__={hash:new AC,map:new(MX||OX),string:new AC}}var DX=PX;function LX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var FX=LX,NX=FX;function $X(t,e){var n=t.__data__;return NX(e)?n[typeof e=="string"?"string":"hash"]:n.map}var cg=$X,jX=cg;function BX(t){var e=jX(this,t).delete(t);return this.size-=e?1:0,e}var VX=BX,GX=cg;function zX(t){return GX(this,t).get(t)}var UX=zX,HX=cg;function YX(t){return HX(this,t).has(t)}var WX=YX,KX=cg;function qX(t,e){var n=KX(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var XX=qX,ZX=DX,JX=VX,QX=UX,e9=WX,t9=XX;function wc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}wc.prototype.clear=ZX;wc.prototype.delete=JX;wc.prototype.get=QX;wc.prototype.has=e9;wc.prototype.set=t9;var n9=wc,i9=og,r9=vb,s9=n9,a9=200;function o9(t,e){var n=this.__data__;if(n instanceof i9){var i=n.__data__;if(!r9||i.length<a9-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new s9(i)}return n.set(t,e),this.size=n.size,this}var l9=o9,u9=og,c9=qK,d9=ZK,h9=QK,f9=tq,p9=l9;function Ec(t){var e=this.__data__=new u9(t);this.size=e.size}Ec.prototype.clear=c9;Ec.prototype.delete=d9;Ec.prototype.get=h9;Ec.prototype.has=f9;Ec.prototype.set=p9;var m9=Ec;function g9(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var y9=g9,_9=Gl,v9=function(){try{var t=_9(Object,"defineProperty");return t({},"",{}),t}catch{}}(),b9=v9,OC=b9;function w9(t,e,n){e=="__proto__"&&OC?OC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var $O=w9,E9=$O,T9=PO,x9=Object.prototype,C9=x9.hasOwnProperty;function S9(t,e,n){var i=t[e];(!(C9.call(t,e)&&T9(i,n))||n===void 0&&!(e in t))&&E9(t,e,n)}var jO=S9,k9=jO,R9=$O;function I9(t,e,n,i){var r=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=i?i(n[o],t[o],o,n,t):void 0;l===void 0&&(l=t[o]),r?R9(n,o,l):k9(n,o,l)}return n}var dg=I9;function A9(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var O9=A9;function M9(t){return t!=null&&typeof t=="object"}var Oh=M9,P9=lg,D9=Oh,L9="[object Arguments]";function F9(t){return D9(t)&&P9(t)==L9}var N9=F9,MC=N9,$9=Oh,BO=Object.prototype,j9=BO.hasOwnProperty,B9=BO.propertyIsEnumerable,V9=MC(function(){return arguments}())?MC:function(t){return $9(t)&&j9.call(t,"callee")&&!B9.call(t,"callee")},G9=V9,z9=Array.isArray,bb=z9,Vp={exports:{}};function U9(){return!1}var H9=U9;Vp.exports;(function(t,e){var n=As,i=H9,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===r,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||i;t.exports=u})(Vp,Vp.exports);var VO=Vp.exports,Y9=9007199254740991,W9=/^(?:0|[1-9]\d*)$/;function K9(t,e){var n=typeof t;return e=e??Y9,!!e&&(n=="number"||n!="symbol"&&W9.test(t))&&t>-1&&t%1==0&&t<e}var q9=K9,X9=9007199254740991;function Z9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=X9}var GO=Z9,J9=lg,Q9=GO,eZ=Oh,tZ="[object Arguments]",nZ="[object Array]",iZ="[object Boolean]",rZ="[object Date]",sZ="[object Error]",aZ="[object Function]",oZ="[object Map]",lZ="[object Number]",uZ="[object Object]",cZ="[object RegExp]",dZ="[object Set]",hZ="[object String]",fZ="[object WeakMap]",pZ="[object ArrayBuffer]",mZ="[object DataView]",gZ="[object Float32Array]",yZ="[object Float64Array]",_Z="[object Int8Array]",vZ="[object Int16Array]",bZ="[object Int32Array]",wZ="[object Uint8Array]",EZ="[object Uint8ClampedArray]",TZ="[object Uint16Array]",xZ="[object Uint32Array]",pn={};pn[gZ]=pn[yZ]=pn[_Z]=pn[vZ]=pn[bZ]=pn[wZ]=pn[EZ]=pn[TZ]=pn[xZ]=!0;pn[tZ]=pn[nZ]=pn[pZ]=pn[iZ]=pn[mZ]=pn[rZ]=pn[sZ]=pn[aZ]=pn[oZ]=pn[lZ]=pn[uZ]=pn[cZ]=pn[dZ]=pn[hZ]=pn[fZ]=!1;function CZ(t){return eZ(t)&&Q9(t.length)&&!!pn[J9(t)]}var SZ=CZ;function kZ(t){return function(e){return t(e)}}var wb=kZ,Gp={exports:{}};Gp.exports;(function(t,e){var n=DO,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===i,a=s&&n.process,o=function(){try{var l=r&&r.require&&r.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Gp,Gp.exports);var Eb=Gp.exports,RZ=SZ,IZ=wb,PC=Eb,DC=PC&&PC.isTypedArray,AZ=DC?IZ(DC):RZ,OZ=AZ,MZ=O9,PZ=G9,DZ=bb,LZ=VO,FZ=q9,NZ=OZ,$Z=Object.prototype,jZ=$Z.hasOwnProperty;function BZ(t,e){var n=DZ(t),i=!n&&PZ(t),r=!n&&!i&&LZ(t),s=!n&&!i&&!r&&NZ(t),a=n||i||r||s,o=a?MZ(t.length,String):[],l=o.length;for(var u in t)(e||jZ.call(t,u))&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||FZ(u,l)))&&o.push(u);return o}var zO=BZ,VZ=Object.prototype;function GZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||VZ;return t===n}var Tb=GZ;function zZ(t,e){return function(n){return t(e(n))}}var UO=zZ,UZ=UO,HZ=UZ(Object.keys,Object),YZ=HZ,WZ=Tb,KZ=YZ,qZ=Object.prototype,XZ=qZ.hasOwnProperty;function ZZ(t){if(!WZ(t))return KZ(t);var e=[];for(var n in Object(t))XZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var JZ=ZZ,QZ=FO,eJ=GO;function tJ(t){return t!=null&&eJ(t.length)&&!QZ(t)}var HO=tJ,nJ=zO,iJ=JZ,rJ=HO;function sJ(t){return rJ(t)?nJ(t):iJ(t)}var xb=sJ,aJ=dg,oJ=xb;function lJ(t,e){return t&&aJ(e,oJ(e),t)}var uJ=lJ;function cJ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var dJ=cJ,hJ=Ah,fJ=Tb,pJ=dJ,mJ=Object.prototype,gJ=mJ.hasOwnProperty;function yJ(t){if(!hJ(t))return pJ(t);var e=fJ(t),n=[];for(var i in t)i=="constructor"&&(e||!gJ.call(t,i))||n.push(i);return n}var _J=yJ,vJ=zO,bJ=_J,wJ=HO;function EJ(t){return wJ(t)?vJ(t,!0):bJ(t)}var Cb=EJ,TJ=dg,xJ=Cb;function CJ(t,e){return t&&TJ(e,xJ(e),t)}var SJ=CJ,zp={exports:{}};zp.exports;(function(t,e){var n=As,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===i,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,p=o?o(h):new u.constructor(h);return u.copy(p),p}t.exports=l})(zp,zp.exports);var kJ=zp.exports;function RJ(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var IJ=RJ;function AJ(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var a=t[n];e(a,n,t)&&(s[r++]=a)}return s}var OJ=AJ;function MJ(){return[]}var YO=MJ,PJ=OJ,DJ=YO,LJ=Object.prototype,FJ=LJ.propertyIsEnumerable,LC=Object.getOwnPropertySymbols,NJ=LC?function(t){return t==null?[]:(t=Object(t),PJ(LC(t),function(e){return FJ.call(t,e)}))}:DJ,Sb=NJ,$J=dg,jJ=Sb;function BJ(t,e){return $J(t,jJ(t),e)}var VJ=BJ;function GJ(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var WO=GJ,zJ=UO,UJ=zJ(Object.getPrototypeOf,Object),KO=UJ,HJ=WO,YJ=KO,WJ=Sb,KJ=YO,qJ=Object.getOwnPropertySymbols,XJ=qJ?function(t){for(var e=[];t;)HJ(e,WJ(t)),t=YJ(t);return e}:KJ,qO=XJ,ZJ=dg,JJ=qO;function QJ(t,e){return ZJ(t,JJ(t),e)}var eQ=QJ,tQ=WO,nQ=bb;function iQ(t,e,n){var i=e(t);return nQ(t)?i:tQ(i,n(t))}var XO=iQ,rQ=XO,sQ=Sb,aQ=xb;function oQ(t){return rQ(t,aQ,sQ)}var lQ=oQ,uQ=XO,cQ=qO,dQ=Cb;function hQ(t){return uQ(t,dQ,cQ)}var fQ=hQ,pQ=Gl,mQ=As,gQ=pQ(mQ,"DataView"),yQ=gQ,_Q=Gl,vQ=As,bQ=_Q(vQ,"Promise"),wQ=bQ,EQ=Gl,TQ=As,xQ=EQ(TQ,"Set"),CQ=xQ,SQ=Gl,kQ=As,RQ=SQ(kQ,"WeakMap"),IQ=RQ,A_=yQ,O_=vb,M_=wQ,P_=CQ,D_=IQ,ZO=lg,Tc=NO,FC="[object Map]",AQ="[object Object]",NC="[object Promise]",$C="[object Set]",jC="[object WeakMap]",BC="[object DataView]",OQ=Tc(A_),MQ=Tc(O_),PQ=Tc(M_),DQ=Tc(P_),LQ=Tc(D_),Qo=ZO;(A_&&Qo(new A_(new ArrayBuffer(1)))!=BC||O_&&Qo(new O_)!=FC||M_&&Qo(M_.resolve())!=NC||P_&&Qo(new P_)!=$C||D_&&Qo(new D_)!=jC)&&(Qo=function(t){var e=ZO(t),n=e==AQ?t.constructor:void 0,i=n?Tc(n):"";if(i)switch(i){case OQ:return BC;case MQ:return FC;case PQ:return NC;case DQ:return $C;case LQ:return jC}return e});var kb=Qo,FQ=Object.prototype,NQ=FQ.hasOwnProperty;function $Q(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&NQ.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var jQ=$Q,BQ=As,VQ=BQ.Uint8Array,GQ=VQ,VC=GQ;function zQ(t){var e=new t.constructor(t.byteLength);return new VC(e).set(new VC(t)),e}var Rb=zQ,UQ=Rb;function HQ(t,e){var n=e?UQ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var YQ=HQ,WQ=/\w*$/;function KQ(t){var e=new t.constructor(t.source,WQ.exec(t));return e.lastIndex=t.lastIndex,e}var qQ=KQ,GC=_b,zC=GC?GC.prototype:void 0,UC=zC?zC.valueOf:void 0;function XQ(t){return UC?Object(UC.call(t)):{}}var ZQ=XQ,JQ=Rb;function QQ(t,e){var n=e?JQ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var eee=QQ,tee=Rb,nee=YQ,iee=qQ,ree=ZQ,see=eee,aee="[object Boolean]",oee="[object Date]",lee="[object Map]",uee="[object Number]",cee="[object RegExp]",dee="[object Set]",hee="[object String]",fee="[object Symbol]",pee="[object ArrayBuffer]",mee="[object DataView]",gee="[object Float32Array]",yee="[object Float64Array]",_ee="[object Int8Array]",vee="[object Int16Array]",bee="[object Int32Array]",wee="[object Uint8Array]",Eee="[object Uint8ClampedArray]",Tee="[object Uint16Array]",xee="[object Uint32Array]";function Cee(t,e,n){var i=t.constructor;switch(e){case pee:return tee(t);case aee:case oee:return new i(+t);case mee:return nee(t,n);case gee:case yee:case _ee:case vee:case bee:case wee:case Eee:case Tee:case xee:return see(t,n);case lee:return new i;case uee:case hee:return new i(t);case cee:return iee(t);case dee:return new i;case fee:return ree(t)}}var See=Cee,kee=Ah,HC=Object.create,Ree=function(){function t(){}return function(e){if(!kee(e))return{};if(HC)return HC(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Iee=Ree,Aee=Iee,Oee=KO,Mee=Tb;function Pee(t){return typeof t.constructor=="function"&&!Mee(t)?Aee(Oee(t)):{}}var Dee=Pee,Lee=kb,Fee=Oh,Nee="[object Map]";function $ee(t){return Fee(t)&&Lee(t)==Nee}var jee=$ee,Bee=jee,Vee=wb,YC=Eb,WC=YC&&YC.isMap,Gee=WC?Vee(WC):Bee,zee=Gee,Uee=kb,Hee=Oh,Yee="[object Set]";function Wee(t){return Hee(t)&&Uee(t)==Yee}var Kee=Wee,qee=Kee,Xee=wb,KC=Eb,qC=KC&&KC.isSet,Zee=qC?Xee(qC):qee,Jee=Zee,Qee=m9,ete=y9,tte=jO,nte=uJ,ite=SJ,rte=kJ,ste=IJ,ate=VJ,ote=eQ,lte=lQ,ute=fQ,cte=kb,dte=jQ,hte=See,fte=Dee,pte=bb,mte=VO,gte=zee,yte=Ah,_te=Jee,vte=xb,bte=Cb,wte=1,Ete=2,Tte=4,JO="[object Arguments]",xte="[object Array]",Cte="[object Boolean]",Ste="[object Date]",kte="[object Error]",QO="[object Function]",Rte="[object GeneratorFunction]",Ite="[object Map]",Ate="[object Number]",eM="[object Object]",Ote="[object RegExp]",Mte="[object Set]",Pte="[object String]",Dte="[object Symbol]",Lte="[object WeakMap]",Fte="[object ArrayBuffer]",Nte="[object DataView]",$te="[object Float32Array]",jte="[object Float64Array]",Bte="[object Int8Array]",Vte="[object Int16Array]",Gte="[object Int32Array]",zte="[object Uint8Array]",Ute="[object Uint8ClampedArray]",Hte="[object Uint16Array]",Yte="[object Uint32Array]",un={};un[JO]=un[xte]=un[Fte]=un[Nte]=un[Cte]=un[Ste]=un[$te]=un[jte]=un[Bte]=un[Vte]=un[Gte]=un[Ite]=un[Ate]=un[eM]=un[Ote]=un[Mte]=un[Pte]=un[Dte]=un[zte]=un[Ute]=un[Hte]=un[Yte]=!0;un[kte]=un[QO]=un[Lte]=!1;function Wf(t,e,n,i,r,s){var a,o=e&wte,l=e&Ete,u=e&Tte;if(n&&(a=r?n(t,i,r,s):n(t)),a!==void 0)return a;if(!yte(t))return t;var c=pte(t);if(c){if(a=dte(t),!o)return ste(t,a)}else{var h=cte(t),p=h==QO||h==Rte;if(mte(t))return rte(t,o);if(h==eM||h==JO||p&&!r){if(a=l||p?{}:fte(t),!o)return l?ote(t,ite(a,t)):ate(t,nte(a,t))}else{if(!un[h])return r?t:{};a=hte(t,h,o)}}s||(s=new Qee);var g=s.get(t);if(g)return g;s.set(t,a),_te(t)?t.forEach(function(T){a.add(Wf(T,e,n,T,t,s))}):gte(t)&&t.forEach(function(T,E){a.set(E,Wf(T,e,n,E,t,s))});var y=u?l?ute:lte:l?bte:vte,b=c?void 0:y(t);return ete(b||t,function(T,E){b&&(E=T,T=t[E]),tte(a,E,Wf(T,e,n,E,t,s))}),a}var Wte=Wf,Kte=Wte,qte=1,Xte=4;function Zte(t){return Kte(t,qte|Xte)}var Jte=Zte;const Df=Hp(Jte),Qte={name:"SettingsPanel",emits:["settingsChanged"],components:{SettingsPanelHeader:fW,FieldLanguage:bW,FieldDateFormat:TW,FieldTimeFormat:SW,FieldBackgroundMap:gK,BaseBackdrop:sg,AppVersion:EK},data:function(){return{isEnabled:!1,settings:new gA}},watch:{settings:{deep:!0,handler(){this.saveSettings()}}},mounted(){mt.$on("settings-panel-open",this.enable),mt.$on("mode-changed",this.modeChange)},methods:{enable(){this.settings=Df(this.$store.state.settings.settings),this.isEnabled=!0,this.$nextTick(()=>{this.$refs.panelBody&&(this.$refs.panelBody.scrollTop=0)})},disable(){this.isEnabled=!1,this.saveSettings()},saveSettings(){this.$store.commit("setSettings",Df(this.settings)),mt.$emit("settingsChanged")},modeChange(t){this.settings=Df(this.$store.state.settings.settings),this.settings.mode=t,this.$store.commit("setSettings",Df(this.settings))}}},ene={class:"settings-panel"},tne={ref:"panelBody",class:"settings-panel-body"};function nne(t,e,n,i,r,s){const a=ze("base-backdrop"),o=ze("settings-panel-header"),l=ze("field-language"),u=ze("field-date-format"),c=ze("field-time-format"),h=ze("field-background-map"),p=ze("app-version");return oi((ne(),pe("div",null,[De(a,{onClick:s.disable},null,8,["onClick"]),Me("div",ene,[De(o,{onClose:s.disable},null,8,["onClose"]),Me("div",tne,[De(l,{settings:t.settings},null,8,["settings"]),De(u,{settings:t.settings},null,8,["settings"]),De(c,{settings:t.settings},null,8,["settings"]),De(h,{settings:t.settings},null,8,["settings"]),De(p)],512)])],512)),[[li,t.isEnabled]])}const ine=st(Qte,[["render",nne]]),rne={name:"InfoPanelHeader",emits:["close"]},sne={class:"info-panel-header opendata-row"};function ane(t,e,n,i,r,s){return ne(),pe("div",sne,[Me("span",null,bt(t.$t("info.title")),1),Me("span",{class:"close-button",onClick:e[0]||(e[0]=a=>t.$emit("close"))},"×")])}const one=st(rne,[["render",ane],["__scopeId","data-v-c5fc465f"]]),lne={name:"InfoPanel",components:{InfoPanelHeader:one,BaseBackdrop:sg},data:function(){return{isEnabled:!1}},mounted(){mt.$on("info-panel-open",this.enable)},methods:{enable(){this.isEnabled=!0,this.$nextTick(()=>{this.$refs.panelBody&&(this.$refs.panelBody.scrollTop=0)})},disable(){this.isEnabled=!1}}},une={class:"info-panel"},cne={class:"info-panel-body"},dne=["innerHTML"];function hne(t,e,n,i,r,s){const a=ze("base-backdrop"),o=ze("info-panel-header");return oi((ne(),pe("div",null,[De(a,{onClick:s.disable},null,8,["onClick"]),Me("div",une,[De(o,{onClose:s.disable},null,8,["onClose"]),Me("div",cne,[Me("p",null,bt(t.$t("info.p1")),1),Me("p",{innerHTML:t.$t("info.p2")},null,8,dne)])])],512)),[[li,t.isEnabled]])}const fne=st(lne,[["render",hne]]),pne={name:"MediaControllerButton",emits:["click"],props:{icon:{type:String,default:""},text:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{style(){return this.icon?{backgroundImage:`url(/icons/${this.icon}.svg)`}:{}}}},mne=["disabled"];function gne(t,e,n,i,r,s){return ne(),pe("button",{style:Vn(s.style),disabled:n.disabled,onClick:e[0]||(e[0]=a=>t.$emit("click"))},bt(n.text),13,mne)}const Ib=st(pne,[["render",gne],["__scopeId","data-v-16ae4414"]]),yne={name:"ButtonPlaybackState",components:{MediaControllerButton:Ib},props:{mediaController:{type:Object,required:!0}},computed:{icon(){return this.mediaController.state.isPlaybackEnabled?"media-pause":"media-play"},disabled(){return this.mediaController.isPlaybackFinished()},title(){if(this.disabled){if(this.mediaController.state.playbackMode==="time")return this.$t("playback.title.disabled.time");if(this.mediaController.state.playbackMode==="date")return this.$t("playback.title.disabled.date")}else return this.mediaController.state.isPlaybackEnabled?this.$t("playback.title.stop"):this.$t("playback.title.start");return""}},methods:{handleClick(){this.mediaController.togglePlayback()}}};function _ne(t,e,n,i,r,s){const a=ze("media-controller-button");return ne(),tt(a,{icon:s.icon,disabled:s.disabled,title:s.title,onClick:s.handleClick},null,8,["icon","disabled","title","onClick"])}const vne=st(yne,[["render",_ne]]),bne={name:"ButtonPlaybackMode",components:{MediaControllerButton:Ib},props:{mediaController:{type:Object,required:!0}},computed:{icon(){return this.mediaController.state.playbackMode==="time"?"clock":"calendar"},title(){return this.mediaController.state.playbackMode==="time"?this.$t("playback.title.time"):this.$t("playback.title.date")}},methods:{handleClick(){this.mediaController.toggleMode()}}};function wne(t,e,n,i,r,s){const a=ze("media-controller-button");return ne(),tt(a,{icon:s.icon,title:s.title,onClick:s.handleClick},null,8,["icon","title","onClick"])}const Ene=st(bne,[["render",wne]]),Tne={name:"ButtonPlaybackSpeed",components:{MediaControllerButton:Ib},props:{mediaController:{type:Object,required:!0}},computed:{playbackSpeed(){return this.mediaController.state.playbackSpeed/1e3+" s"}},methods:{handleClick(){this.mediaController.toggleSpeed()}}};function xne(t,e,n,i,r,s){const a=ze("media-controller-button");return ne(),tt(a,{text:s.playbackSpeed,title:t.$t("playback.title.speed"),onClick:s.handleClick},null,8,["text","title","onClick"])}const Cne=st(Tne,[["render",xne]]);let Sne=class{constructor(){this.state=Nr({isPlaybackEnabled:!1,playbackMode:"time",playbackSpeed:1e3,playbackSpeeds:[500,1e3,2e3],playbackTimeoutId:void 0})}play(){this.state.isPlaybackEnabled||(this.state.isPlaybackEnabled=!0,this.tick())}stop(){this.state.isPlaybackEnabled=!1,clearTimeout(this.state.playbackTimeoutId)}async tick(){if(this.state.isPlaybackEnabled){if(this.isPlaybackFinished()){this.stop();return}this.state.playbackMode==="date"?await Cu.dispatch("incrementDate"):this.state.playbackMode==="time"&&await Cu.dispatch("incrementTime"),this.state.playbackTimeoutId=setTimeout(()=>this.tick(),this.state.playbackSpeed)}}togglePlayback(){this.state.isPlaybackEnabled?this.stop():this.play()}toggleMode(){this.state.playbackMode=this.state.playbackMode==="date"?"time":"date"}toggleSpeed(){const e=this.state.playbackSpeeds.indexOf(this.state.playbackSpeed);this.state.playbackSpeed=e>=this.state.playbackSpeeds.length-1?this.state.playbackSpeeds[0]:this.state.playbackSpeeds[e+1]}isPlaybackFinished(){return this.state.playbackMode==="time"&&Cu.getters.isNewestTimeSelected||this.state.playbackMode==="date"&&Cu.getters.isNewestDateSelected}};function kne(){return new Sne}const Rne={name:"MediaController",components:{ButtonPlaybackState:vne,ButtonPlaybackMode:Ene,ButtonPlaybackSpeed:Cne},data(){return{mediaController:kne()}}},Ine={class:"media-controller"};function Ane(t,e,n,i,r,s){const a=ze("button-playback-mode"),o=ze("button-playback-state"),l=ze("button-playback-speed");return ne(),pe("div",Ine,[De(a,{"media-controller":r.mediaController},null,8,["media-controller"]),De(o,{"media-controller":r.mediaController},null,8,["media-controller"]),De(l,{"media-controller":r.mediaController},null,8,["media-controller"])])}const One=st(Rne,[["render",Ane]]),Mne={name:"SearchSuggestListItem",emits:["click"],props:{suggestion:{type:String,required:!0}}};function Pne(t,e,n,i,r,s){return ne(),pe("p",{class:"search-suggest-list-item",onClick:e[0]||(e[0]=a=>t.$emit("click"))},bt(n.suggestion),1)}const Dne=st(Mne,[["render",Pne]]),Lne={name:"SearchSuggestList",emits:["select"],components:{SearchSuggestListItem:Dne},props:{searchTerm:{type:String,required:!0},sites:{type:Array,required:!0}},data:function(){return{isEnabled:!1}},computed:{suggestions(){let t=[];return this.sites.forEach(e=>{e.toLowerCase().indexOf(this.searchTerm.toLowerCase())>=0&&(t.includes(e)||t.push(e))}),t.sort()}},methods:{show(){this.isEnabled=!0},hide(){this.isEnabled=!1}}},Fne={class:"search-suggest-list"},Nne={class:"list-container"};function $ne(t,e,n,i,r,s){const a=ze("search-suggest-list-item");return oi((ne(),pe("div",Fne,[Me("div",Nne,[(ne(!0),pe(Je,null,Ht(s.suggestions,o=>(ne(),tt(a,{key:o,suggestion:o,onClick:l=>t.$emit("select",o)},null,8,["suggestion","onClick"]))),128))])],512)),[[li,t.isEnabled&&s.suggestions.length>0]])}const jne=st(Lne,[["render",$ne]]),tM=function(){return document.ontouchstart!==null?"click":"touchstart"},Up="__vue_click_away__",nM=function(t,e,n){iM(t);let i=n.context,r=e.value,s=!1;setTimeout(function(){s=!0},0),t[Up]=function(a){if((!t||!t.contains(a.target))&&r&&s&&typeof r=="function")return r.call(i,a)},document.addEventListener(tM(),t[Up],!1)},iM=function(t){document.removeEventListener(tM(),t[Up],!1),delete t[Up]},Bne=function(t,e,n){e.value!==e.oldValue&&nM(t,e,n)},rM={install:function(t){t.directive("click-away",Vne)}},Vne={mounted:nM,updated:Bne,unmounted:iM},Gne={name:"SearchBar",emits:["featureSelectedViaSearch"],components:{SearchSuggestList:jne},mixins:[rM],data(){return{searchTerm:"",features:[]}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRateMode(){return this.mode==="dose_rates"},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"},sites(){let t=[];for(let e=0;e<this.features.length;++e){const n=this.features[e].get("site");t.includes(n)||t.push(n)}return t}},watch:{mode(t){(t==="dose_rates"||t==="air_radionuclides")&&this.updateFeatures()}},mounted(){this.isDoseRateMode?mt.$on("doseRateLayerChanged",this.onDoseRateLayerChanged):this.isAirRadionuclidesMode&&mt.$on("radionuclideLayerChanged",this.onRadionuclideLayerChanged)},methods:{updateFeatures(){this.features=[],this.isDoseRateMode?(mt.$off("radionuclideLayerChanged",this.onRadionuclideLayerChanged),mt.$on("doseRateLayerChanged",this.onDoseRateLayerChanged)):this.isAirRadionuclidesMode&&(mt.$off("doseRateLayerChanged",this.onDoseRateLayerChanged),mt.$on("radionuclideLayerChanged",this.onRadionuclideLayerChanged))},onDoseRateLayerChanged(t){this.features=t.getSource().getFeatures()},onRadionuclideLayerChanged(t){this.features=t.getSource().getFeatures()},onSuggestionSelected(t){this.searchTerm=t,this.search()},search(){if(this.searchTerm.length>0){const t=this.isDoseRateMode?"dose_rates":"air_radionuclides";for(let e=0;e<this.features.length;++e){const n=this.features[e].get("site");if(n.toLowerCase()===this.searchTerm.toLowerCase()){this.searchTerm=n,this.blur(),mt.$emit("featureSelectedViaSearch",this.features[e],t);break}}}},showSuggestions(){this.$refs.searchSuggestList.show()},hideSuggestions(){this.$refs.searchSuggestList.hide()},blur(){this.$refs.searchBarInput.blur(),this.hideSuggestions()}}},zne=["value"];function Une(t,e,n,i,r,s){const a=ze("search-suggest-list"),o=tv("click-away");return oi((ne(),pe("div",{class:ct(["search-bar",{"dose-rate-mode":s.isDoseRateMode,"air-radionuclides-mode":s.isAirRadionuclidesMode}])},[Me("span",{class:"search-bar__icon",onClick:e[0]||(e[0]=l=>s.search())}),Me("input",{ref:"searchBarInput",value:r.searchTerm,type:"text",maxlength:"28",spellcheck:!1,class:"search-bar__input",onInput:e[1]||(e[1]=l=>r.searchTerm=l.target.value),onClick:e[2]||(e[2]=l=>s.showSuggestions()),onFocus:e[3]||(e[3]=l=>s.showSuggestions()),onKeyup:e[4]||(e[4]=ym(l=>s.search(),["enter"]))},null,40,zne),De(a,{ref:"searchSuggestList","search-term":r.searchTerm,sites:s.sites,onSelect:s.onSuggestionSelected},null,8,["search-term","sites","onSelect"])],2)),[[o,s.blur]])}const Hne=st(Gne,[["render",Une]]),Yne={name:"ButtonDateTime",emits:["click"],props:{icon:{type:String,required:!0},disabled:{type:Boolean,default:!1}},data(){return{iconStyle:{backgroundImage:"none"}}},watch:{icon:"updateStyle",disabled:"updateStyle"},mounted(){this.updateStyle()},methods:{async updateStyle(){if(this.disabled)this.iconStyle={backgroundImage:"none"};else try{const t=`/icons/${this.icon}.svg`;this.disabled||(this.iconStyle={backgroundImage:`url(${t})`})}catch{this.iconStyle={backgroundImage:"none"}}}}},Wne=["disabled"];function Kne(t,e,n,i,r,s){return ne(),pe("button",{style:Vn(r.iconStyle),disabled:n.disabled,onClick:e[0]||(e[0]=a=>t.$emit("click"))},null,12,Wne)}const hg=st(Yne,[["render",Kne],["__scopeId","data-v-80944962"]]),qne={name:"ButtonDecrementDate",components:{ButtonDateTime:hg},computed:{isOldestDateSelected(){return this.$store.getters.isOldestDateSelected}},methods:{decrementDate(){this.$store.dispatch("decrementDate")}}};function Xne(t,e,n,i,r,s){const a=ze("button-date-time");return ne(),tt(a,{icon:"caret-left",disabled:s.isOldestDateSelected,onClick:e[0]||(e[0]=o=>s.decrementDate())},null,8,["disabled"])}const Zne=st(qne,[["render",Xne],["__scopeId","data-v-fbb26811"]]),Jne={name:"ButtonIncrementDate",components:{ButtonDateTime:hg},computed:{isNewestDateSelected(){return this.$store.getters.isNewestDateSelected}},methods:{incrementDate(){this.$store.dispatch("incrementDate")}}};function Qne(t,e,n,i,r,s){const a=ze("button-date-time");return ne(),tt(a,{icon:"caret-right",disabled:s.isNewestDateSelected,onClick:e[0]||(e[0]=o=>s.incrementDate())},null,8,["disabled"])}const eie=st(Jne,[["render",Qne],["__scopeId","data-v-3c041075"]]),tie={name:"ButtonDatepicker",emits:["calendar-popup-open"],computed:{selectedDate(){const t=this.$store.state.datetime.selectedDate;if(t)switch(this.$store.state.settings.settings.dateFormat){case"fi":default:return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear();case"iso":return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}},methods:{openCalendar(){mt.$emit("calendar-popup-open")}}};function nie(t,e,n,i,r,s){return ne(),pe("div",{class:"datepicker-button opendata-row",onClick:e[0]||(e[0]=(...a)=>s.openCalendar&&s.openCalendar(...a))},bt(s.selectedDate),1)}const iie=st(tie,[["render",nie]]),rie={name:"DateWidget",components:{ButtonDecrementDate:Zne,ButtonIncrementDate:eie,ButtonDatepicker:iie}},sie={class:"date-widget"};function aie(t,e,n,i,r,s){const a=ze("button-decrement-date"),o=ze("button-datepicker"),l=ze("button-increment-date");return ne(),pe("div",sie,[De(a),De(o),De(l)])}const oie=st(rie,[["render",aie],["__scopeId","data-v-90531585"]]),lie={name:"ButtonDecrementTime",components:{ButtonDateTime:hg},computed:{isOldestTimeSelected(){return this.$store.getters.isOldestTimeSelected}},methods:{decrementTime(){this.$store.dispatch("decrementTime")}}};function uie(t,e,n,i,r,s){const a=ze("button-date-time");return ne(),tt(a,{icon:"caret-left",disabled:s.isOldestTimeSelected,onClick:e[0]||(e[0]=o=>s.decrementTime())},null,8,["disabled"])}const cie=st(lie,[["render",uie],["__scopeId","data-v-d2bbd66d"]]),die={name:"ButtonIncrementTime",components:{ButtonDateTime:hg},computed:{isNewestTimeSelected(){return this.$store.getters.isNewestTimeSelected}},methods:{incrementTime(){this.$store.dispatch("incrementTime")}}};function hie(t,e,n,i,r,s){const a=ze("button-date-time");return ne(),tt(a,{icon:"caret-right",disabled:s.isNewestTimeSelected,onClick:e[0]||(e[0]=o=>s.incrementTime())},null,8,["disabled"])}const fie=st(die,[["render",hie],["__scopeId","data-v-719478c8"]]),pie={name:"Timepicker",emits:["timepicker-list-toggle"],computed:{formattedTime(){let t=this.$store.state.datetime.selectedTime;if(t)switch(t=t.slice(0,2)+":"+t.slice(2,4),this.$store.state.settings.settings.timeFormat){case"12h":return t=H1.convertTimeTo12HourClock(t),t.split(" ")[0]+"Z "+t.split(" ")[1];case"24h":default:return t+"Z"}}},methods:{toggleTimeList(){mt.$emit("timepicker-list-toggle")}}},mie={class:"timepicker"};function gie(t,e,n,i,r,s){return ne(),pe("div",mie,[Me("div",{class:"timepicker-button opendata-row",onClick:e[0]||(e[0]=(...a)=>s.toggleTimeList&&s.toggleTimeList(...a))},bt(s.formattedTime),1)])}const yie=st(pie,[["render",gie]]),_ie={name:"TimeWidget",components:{ButtonDecrementTime:cie,ButtonIncrementTime:fie,Timepicker:yie}},vie={class:"time-widget"};function bie(t,e,n,i,r,s){const a=ze("button-decrement-time"),o=ze("timepicker"),l=ze("button-increment-time");return ne(),pe("div",vie,[De(a),De(o),De(l)])}const wie=st(_ie,[["render",bie],["__scopeId","data-v-41c67fbc"]]),Eie={name:"TheHeader",components:{DateWidget:oie,TimeWidget:wie}},Tie={class:"header"};function xie(t,e,n,i,r,s){const a=ze("date-widget"),o=ze("time-widget");return ne(),pe("div",Tie,[De(a),De(o)])}const Cie=st(Eie,[["render",xie],["__scopeId","data-v-a996c134"]]),Sie={name:"TimepickerListItem",emits:["click"],props:{time:{type:String,default:""}},computed:{selectedTime(){return this.$store.state.datetime.selectedTime},formattedTime(){let t=this.time.slice(0,2)+":"+this.time.slice(2,4);switch(this.$store.state.settings.settings.timeFormat){case"12h":return H1.convertTimeTo12HourClock(t);case"24h":default:return t}}},methods:{setTime(){this.$store.commit("setTime",this.time),this.$emit("click")}}};function kie(t,e,n,i,r,s){return ne(),pe("li",{class:ct({selected:n.time==s.selectedTime}),onClick:e[0]||(e[0]=(...a)=>s.setTime&&s.setTime(...a))},bt(s.formattedTime),3)}const Rie=st(Sie,[["render",kie]]),Iie={name:"TimepickerList",components:{TimepickerListItem:Rie,BaseBackdrop:sg},data:function(){return{isEnabled:!1}},computed:{availableTimesForSelectedDate(){return this.$store.getters.availableTimesForSelectedDate}},mounted(){mt.$on("timepicker-list-toggle",this.toggle)},methods:{close(){this.isEnabled=!1},toggle(){this.isEnabled=!this.isEnabled}}},Aie={class:"timepicker-list"},Oie={class:"list-container"};function Mie(t,e,n,i,r,s){const a=ze("base-backdrop"),o=ze("timepicker-list-item");return oi((ne(),pe("div",null,[De(a,{onClick:s.close},null,8,["onClick"]),Me("ul",Aie,[Me("div",Oie,[(ne(!0),pe(Je,null,Ht(s.availableTimesForSelectedDate.slice().reverse(),(l,u)=>(ne(),tt(o,{key:u,time:l,onClick:e[0]||(e[0]=c=>s.close())},null,8,["time"]))),128))])])],512)),[[li,t.isEnabled]])}const Pie=st(Iie,[["render",Mie],["__scopeId","data-v-7ae93c4c"]]),Die={name:"DatepickerPopup",components:{VueDatePicker:Qm,BaseBackdrop:sg},data:function(){return{isEnabled:!1,fi:"fi",en:"en"}},computed:{language:{get(){switch(this.$store.state.settings.settings.locale){case"en":default:return this.en;case"fi":return this.fi}}},date:{get(){return this.$store.state.datetime.selectedDate},set(t){this.$store.dispatch("setDate",t)}},allowedDates(){var t=this.$store.state.datetime.availableDatasets,e=[];return t.length===0||t.forEach(n=>{e.push(new Date(n.date))}),e}},mounted(){mt.$on("calendar-popup-open",this.open)},methods:{formatDate(t){switch(this.$store.state.settings.settings.dateFormat){case"fi":default:return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear();case"iso":return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},open(){this.isEnabled=!0},close(){this.isEnabled=!1}}};function Lie(t,e,n,i,r,s){const a=ze("base-backdrop"),o=ze("VueDatePicker");return oi((ne(),pe("div",null,[De(a,{onClick:s.close},null,8,["onClick"]),De(o,{modelValue:s.date,"onUpdate:modelValue":e[0]||(e[0]=l=>s.date=l),inline:!0,"menu-class-name":"dp-custom-menu",locale:s.language,"auto-apply":"","hide-offset-dates":"","allowed-dates":s.allowedDates,onDateUpdate:s.close},null,8,["modelValue","locale","allowed-dates","onDateUpdate"])],512)),[[li,t.isEnabled]])}const Fie=st(Die,[["render",Lie]]),dy="units",Nie=[1,2,5],Xc=25.4/.28;class $ie extends kh{constructor(e){e=e||{};const n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:e.render,target:e.target}),this.on,this.once,this.un;const i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+kl,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(dy,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(dy)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(dy,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=e.center,i=e.projection,r=this.getUnits(),s=r=="degrees"?"degrees":"m";let a=Cp(i,e.resolution,n,s);const o=this.minWidth_*(this.dpi_||Xc)/Xc,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Xc)/Xc:void 0;let u=o*a,c="";if(r=="degrees"){const _=Qu.degrees;u*=_,u<_/60?(c="″",a*=3600):u<_?(c="′",a*=60):c="°"}else if(r=="imperial")u<.9144?(c="in",a/=.0254):u<1609.344?(c="ft",a/=.3048):(c="mi",a/=1609.344);else if(r=="nautical")a/=1852,c="NM";else if(r=="metric")u<1e-6?(c="nm",a*=1e9):u<.001?(c="μm",a*=1e6):u<1?(c="mm",a*=1e3):u<1e3?c="m":(c="km",a/=1e3);else if(r=="us")u<.9144?(c="in",a*=39.37):u<1609.344?(c="ft",a/=.30480061):(c="mi",a/=1609.3472);else throw new Error("Invalid units");let h=3*Math.floor(Math.log(o*a)/Math.log(10)),p,g,y,b,T,E;for(;;){y=Math.floor(h/3);const _=Math.pow(10,y);if(p=Nie[(h%3+3)%3]*_,g=Math.round(p/a),isNaN(g)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&g>=l){p=b,g=T,y=E;break}else if(g>=o)break;b=p,T=g,E=y,++h}const w=this.scaleBar_?this.createScaleBar(g,p,c):p.toFixed(y<0?-y:0)+" "+c;this.renderedHTML_!=w&&(this.innerElement_.innerHTML=w,this.renderedHTML_=w),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,n,i){const r=this.getScaleForResolution(),s=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),a=this.scaleBarSteps_,o=e/a,l=[this.createMarker("absolute")];for(let c=0;c<a;++c){const h=c%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${h}" style="width: ${o}px;"></div>`+this.createMarker("relative")+(c%2===0||a===2?this.createStepText(c,e,!1,n,i):"")+"</div>")}return l.push(this.createStepText(a,e,!0,n,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+s+"</div>":"")+l.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,n,i,r,s){const o=(e===0?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+s),l=e===0?-3:n/this.scaleBarSteps_*-1,u=e===0?0:n/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${e===0?"left":"center"};min-width: ${u}px;left: ${i?n+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){const e=Cp(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),n=this.dpi_||Xc,i=1e3/25.4;return e*i*n}render(e){const n=e.frameState;n?this.viewState_=n.viewState:this.viewState_=null,this.updateElement_()}}const Zc={VERTICAL:0,HORIZONTAL:1};class jie extends kh{constructor(e){e=e||{},super({target:e.target,element:document.createElement("div"),render:e.render}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=Zc.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.startX_,this.startY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=e.duration!==void 0?e.duration:200;const n=e.className!==void 0?e.className:"ol-zoomslider",i=document.createElement("button");i.setAttribute("type","button"),i.className=n+"-thumb "+kl;const r=this.element;r.className=n+" "+kl+" "+Cm,r.appendChild(i),r.addEventListener(Wa.POINTERDOWN,this.handleDraggerStart_.bind(this),!1),r.addEventListener(Wa.POINTERMOVE,this.handleDraggerDrag_.bind(this),!1),r.addEventListener(Wa.POINTERUP,this.handleDraggerEnd_.bind(this),!1),r.addEventListener(lt.CLICK,this.handleContainerClick_.bind(this),!1),i.addEventListener(lt.CLICK,mj,!1)}setMap(e){super.setMap(e),e&&e.render()}initSlider_(){const e=this.element;let n=e.offsetWidth,i=e.offsetHeight;if(n===0&&i===0)return this.sliderInitialized_=!1;const r=getComputedStyle(e);n-=parseFloat(r.paddingRight)+parseFloat(r.paddingLeft),i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom);const s=e.firstElementChild,a=getComputedStyle(s),o=s.offsetWidth+parseFloat(a.marginRight)+parseFloat(a.marginLeft),l=s.offsetHeight+parseFloat(a.marginTop)+parseFloat(a.marginBottom);return this.thumbSize_=[o,l],n>i?(this.direction_=Zc.HORIZONTAL,this.widthLimit_=n-o):(this.direction_=Zc.VERTICAL,this.heightLimit_=i-l),this.sliderInitialized_=!0}handleContainerClick_(e){const n=this.getMap().getView(),i=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(i),s=n.getConstrainedZoom(n.getZoomForResolution(r));n.animateInternal({zoom:s,duration:this.duration_,easing:$l})}handleDraggerStart_(e){if(!this.dragging_&&e.target===this.element.firstElementChild){const n=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=e.clientX-parseFloat(n.style.left),this.startY_=e.clientY-parseFloat(n.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){const i=this.handleDraggerDrag_,r=this.handleDraggerEnd_,s=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Mt(s,Wa.POINTERMOVE,i,this),Mt(s,Wa.POINTERUP,r,this))}}}handleDraggerDrag_(e){if(this.dragging_){const n=e.clientX-this.startX_,i=e.clientY-this.startY_,r=this.getRelativePosition_(n,i);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_)}}handleDraggerEnd_(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(an),this.dragListenerKeys_.length=0)}setThumbPosition_(e){const n=this.getPositionForResolution_(e),i=this.element.firstElementChild;this.direction_==Zc.HORIZONTAL?i.style.left=this.widthLimit_*n+"px":i.style.top=this.heightLimit_*n+"px"}getRelativePosition_(e,n){let i;return this.direction_===Zc.HORIZONTAL?i=e/this.widthLimit_:i=n/this.heightLimit_,Mn(i,0,1)}getResolutionForPosition_(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)}getPositionForResolution_(e){const n=this.getMap().getView().getValueForResolutionFunction();return Mn(1-n(e),0,1)}render(e){if(!e.frameState||!this.sliderInitialized_&&!this.initSlider_())return;const n=e.frameState.viewState.resolution;this.currentResolution_=n,this.setThumbPosition_(n)}}const Bie={name:"TheMap",components:{DoseRateLayer:o6,RadionuclideLayer:c6,FeaturePopover:A6,FeaturePopup:UY,MapLegend:y6,SearchBar:Hne,ButtonOpenSettings:XY,ButtonOpenInfo:iW,ButtonChangeMode:uW,SettingsPanel:ine,InfoPanel:fne,MediaController:One,TheHeader:Cie,TimepickerList:Pie,DatepickerPopup:Fie},emits:["featureClicked","featureHovered","emptyMapLocationClicked","emptyMapLocationHovered"],data(){return{map:null,baseLayer:null,default:hK,custom:cK,customStyle:dK}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRatesMode(){return this.mode==="dose_rates"},selectedBaseLayer(){return this.getBaseLayer()}},watch:{selectedBaseLayer(t){this.map&&this.map.getLayers().setAt(0,t)},mode(t){this.switchLayers(t==="dose_rates")}},mounted(){this.baseLayer=this.selectedBaseLayer,this.map=new MO({target:"map",layers:[this.baseLayer],controls:[new CO,new jie,new $ie],view:new Wr({center:e2([25.75,65.75]),enableRotation:!1,minZoom:4,maxZoom:16,zoom:5})}),this.custom===void 0?this.custom=this.default:this.customStyle!==void 0&&this.customStyle(this.custom),this.map.on("click",this.onMapInteraction),this.map.on("pointermove",this.onMapInteraction),this.map.on("moveend",this.onZoomChange),mt.$on("featurePopupOpened",this.centerViewOnFeaturePopup),this.$refs.featurePopover&&this.$refs.featurePopover.overlay&&this.map.addOverlay(this.$refs.featurePopover.overlay),this.$refs.featurePopup&&this.$refs.featurePopup.overlay&&this.map.addOverlay(this.$refs.featurePopup.overlay),this.switchLayers(this.mode==="dose_rates")},methods:{getBaseLayer(){switch(this.$store.state.settings.settings.backgroundMap){case"custom":return this.custom;case"default":return this.default;default:return this.default}},switchLayers(t){if(this.map){const e=this.$refs.doseRateLayer?this.$refs.doseRateLayer.vectorLayer:null,n=this.$refs.radionuclideLayer?this.$refs.radionuclideLayer.vectorLayer:null;t?(n&&this.map.removeLayer(n),e&&(this.map.addLayer(e),this.onZoomChange())):(e&&this.map.removeLayer(e),n&&(this.map.addLayer(n),this.onZoomChange()))}},onMapInteraction(t){var e=this.map.getEventPixel(t.originalEvent),n=this.map.getFeaturesAtPixel(e,{layerFilter:i=>i!==this.custom});n.length>0?t.type=="click"?mt.$emit("featureClicked",n[0]):t.type=="pointermove"&&mt.$emit("featureHovered",n[0]):t.type=="click"?mt.$emit("emptyMapLocationClicked"):t.type=="pointermove"&&mt.$emit("emptyMapLocationHovered")},onZoomChange(){const t=this.map.getView().getZoom();this.$refs.doseRateLayer.updateFeatureRadius(t),this.$refs.radionuclideLayer.updateFeatureRadius(t)},centerViewOnFeaturePopup(t){if(this.map&&this.$refs.featurePopup&&this.$refs.featurePopup.$el){const e=t.getGeometry().getCoordinates(),n=this.map.getPixelFromCoordinate(e);n[1]-=this.$refs.featurePopup.$el.clientHeight*.58;const i=this.map.getCoordinateFromPixel(n);this.map.getView().animate({center:i,duration:750})}}}},Vie={id:"map"};function Gie(t,e,n,i,r,s){const a=ze("dose-rate-layer"),o=ze("radionuclide-layer"),l=ze("feature-popover"),u=ze("feature-popup"),c=ze("map-legend"),h=ze("search-bar"),p=ze("button-open-settings"),g=ze("button-open-info"),y=ze("button-change-mode"),b=ze("settings-panel"),T=ze("info-panel"),E=ze("media-controller"),w=ze("the-header"),_=ze("timepicker-list"),x=ze("datepicker-popup"),C=ze("vue-progress-bar");return ne(),pe("div",Vie,[De(a,{ref:"doseRateLayer"},null,512),De(o,{ref:"radionuclideLayer"},null,512),De(l,{ref:"featurePopover"},null,512),De(u,{ref:"featurePopup"},null,512),s.isDoseRatesMode?(ne(),tt(c,{key:0})):ke("",!0),De(h),De(p),De(g),De(y),De(b),De(T),s.isDoseRatesMode?(ne(),tt(E,{key:1})):ke("",!0),s.isDoseRatesMode?(ne(),tt(w,{key:2})):ke("",!0),De(_),De(x),De(C)])}const zie=st(Bie,[["render",Gie]]),Uie={name:"App",components:{TheMap:zie},mounted(){this.$store.dispatch("initialize")}};function Hie(t,e,n,i,r,s){const a=ze("the-map");return ne(),tt(a)}const Yie=st(Uie,[["render",Hie]]);var sM={exports:{}};const Wie=CD(c$);(function(t){t.exports=function(e){var n={};function i(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=n,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(s&1&&(r=i(r)),s&8||s&4&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),s&2&&typeof r!="string")for(var o in r)i.d(a,o,(function(l){return r[l]}).bind(null,o));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="",i(i.s="fb15")}({8875:function(e,n,i){var r,s,a;(function(o,l){s=[],r=l,a=typeof r=="function"?r.apply(n,s):r,a!==void 0&&(e.exports=a)})(typeof self<"u"?self:this,function(){function o(){var l=Object.getOwnPropertyDescriptor(document,"currentScript");if(!l&&"currentScript"in document&&document.currentScript||l&&l.get!==o&&document.currentScript)return document.currentScript;try{throw new Error}catch(x){var u=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,c=/@([^@]*):(\d+):(\d+)\s*$/ig,h=u.exec(x.stack)||c.exec(x.stack),p=h&&h[1]||!1,g=h&&h[2]||!1,y=document.location.href.replace(document.location.hash,""),b,T,E,w=document.getElementsByTagName("script");p===y&&(b=document.documentElement.outerHTML,T=new RegExp("(?:[^\\n]+?\\n){0,"+(g-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),E=b.replace(T,"$1").trim());for(var _=0;_<w.length;_++)if(w[_].readyState==="interactive"||w[_].src===p||p===y&&w[_].innerHTML&&w[_].innerHTML.trim()===E)return w[_];return null}}return o})},"8bbf":function(e,n){e.exports=Wie},fb15:function(e,n,i){if(i.r(n),typeof window<"u"){var r=window.document.currentScript;{var s=i("8875");r=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s})}var a=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(i.p=a[1])}var o=i("8bbf");function l(y,b,T,E,w,_){return Object(o.openBlock)(),Object(o.createBlock)("div",{style:E.finalStyle},null,4)}var u=typeof window<"u",c={name:"VueProgress",serverCacheKey:function(){return"Progress"},setup:function(){var b=u?Object(o.inject)("RADON_LOADING_BAR"):{percent:0,options:{canSuccess:!0,show:!1,color:"rgb(19, 91, 55)",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},location:"top",autoRevert:!0,inverse:!1}},T=Object(o.computed)(function(){var E=b.options,w=!!E.show,_=E.location,x={"z-index":999999,"background-color":E.canSuccess?E.color:E.failedColor,opacity:E.show?1:0,position:E.position};return _==="top"||_==="bottom"?(_==="top"?x.top="0px":x.bottom="0px",E.inverse?x.right="0px":x.left="0px",x.width=b.percent+"%",x.height=E.thickness,x.transition=(w?"width "+E.transition.speed+", ":"")+"opacity "+E.transition.opacity):(_==="left"||_==="right")&&(_==="left"?x.left="0px":x.right="0px",E.inverse?x.top="0px":x.bottom="0px",x.height=b.percent+"%",x.width=E.thickness,x.transition=(w?"height "+E.transition.speed+", ":"")+"opacity "+E.transition.opacity),x});return{progress:b,finalStyle:T}}};c.render=l;var h=c;function p(y,b){for(var T=1,E,w;T<arguments.length;++T){w=arguments[T];for(E in w)Object.prototype.hasOwnProperty.call(w,E)&&(y[E]=w[E])}return y}var g={install:function(b,T){var E={canSuccess:!0,show:!1,color:"#73ccec",position:"fixed",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1,autoFinish:!0},w=p(E,T),_=Object(o.reactive)({percent:0,options:w});b.provide("RADON_LOADING_BAR",_);var x={state:{tFailColor:"",tColor:"",timer:null,cut:0},start:function(k){var R=this;k||(k=3e3),_.percent=0,_.options.show=!0,_.options.canSuccess=!0,this.state.cut=1e4/Math.floor(k),clearInterval(this.state.timer),this.state.timer=setInterval(function(){R.increase(R.state.cut*Math.random()),_.percent>95&&_.options.autoFinish&&R.finish()},100)},set:function(k){_.options.show=!0,_.options.canSuccess=!0,_.percent=Math.floor(k)},get:function(){return Math.floor(_.percent)},increase:function(k){_.percent=Math.min(99,_.percent+Math.floor(k))},decrease:function(k){_.percent=_.percent-Math.floor(k)},hide:function(){var k=this;clearInterval(this.state.timer),this.state.timer=null,setTimeout(function(){_.options.show=!1,Object(o.nextTick)(function(){setTimeout(function(){_.percent=0},100),_.options.autoRevert&&setTimeout(function(){k.revert()},300)})},_.options.transition.termination)},pause:function(){clearInterval(this.state.timer)},finish:function(){_.percent=100,this.hide()},fail:function(){_.options.canSuccess=!1,_.percent=100,this.hide()},setFailColor:function(k){_.options.failedColor=k},setColor:function(k){_.options.color=k},setLocation:function(k){_.options.location=k},setTransition:function(k){_.options.transition=k},tempFailColor:function(k){this.state.tFailColor=_.options.failedColor,_.options.failedColor=k},tempColor:function(k){this.state.tColor=_.options.color,_.options.color=k},tempLocation:function(k){this.state.tLocation=_.options.location,_.options.location=k},tempTransition:function(k){this.state.tTransition=_.options.transition,_.options.transition=k},revertColor:function(){_.options.color=this.state.tColor,this.state.tColor=""},revertFailColor:function(){_.options.failedColor=this.state.tFailColor,this.state.tFailColor=""},revertLocation:function(){_.options.location=this.state.tLocation,this.state.tLocation=""},revertTransition:function(){_.options.transition=this.state.tTransition,this.state.tTransition={}},revert:function(){_.options.autoRevert&&(this.state.tColor&&this.revertColor(),this.state.tFailColor&&this.revertFailColor(),this.state.tLocation&&this.revertLocation(),this.state.tTransition&&(this.state.tTransition.speed!==void 0||this.state.tTransition.opacity!==void 0)&&this.revertTransition())},parseMeta:function(k){for(var R in k.func){var M=k.func[R];switch(M.call){case"color":switch(M.modifier){case"set":this.setColor(M.argument);break;case"temp":this.tempColor(M.argument);break}break;case"fail":switch(M.modifier){case"set":this.setFailColor(M.argument);break;case"temp":this.tempFailColor(M.argument);break}break;case"location":switch(M.modifier){case"set":this.setLocation(M.argument);break;case"temp":this.tempLocation(M.argument);break}break;case"transition":switch(M.modifier){case"set":this.setTransition(M.argument);break;case"temp":this.tempTransition(M.argument);break}break}}}};b.component("vue-progress-bar",h),b.config.globalProperties.$Progress=x}};n.default=g}})})(sM);var Kie=sM.exports;const qie=Hp(Kie),Xie={color:"white",failedColor:"#e95024",thickness:"0.25em"},xc=Av(Yie);xc.use(Cu);xc.use(qy);xc.use(qie,Xie);xc.use(rM);xc.use(Z$);xc.mount("#app");
