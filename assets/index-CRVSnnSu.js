import{g as Hp,P as ZC,l as CD,a as SD}from"./plotly.js-CFcruHfa.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Zw={};/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Kf=typeof window<"u",mo=(t,e=!1)=>e?Symbol.for(t):Symbol(t),kD=(t,e,n)=>RD({l:t,k:e,s:n}),RD=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ei=t=>typeof t=="number"&&isFinite(t),ID=t=>QC(t)==="[object Date]",oo=t=>QC(t)==="[object RegExp]",Yp=t=>_t(t)&&Object.keys(t).length===0,Ri=Object.assign;let Jw;const qs=()=>Jw||(Jw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof Zw<"u"?Zw:{});function Qw(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const AD=Object.prototype.hasOwnProperty;function qf(t,e){return AD.call(t,e)}const pn=Array.isArray,un=t=>typeof t=="function",Ge=t=>typeof t=="string",Rt=t=>typeof t=="boolean",qt=t=>t!==null&&typeof t=="object",MD=t=>qt(t)&&un(t.then)&&un(t.catch),JC=Object.prototype.toString,QC=t=>JC.call(t),_t=t=>{if(!qt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},OD=t=>t==null?"":pn(t)||_t(t)&&t.toString===JC?JSON.stringify(t,null,2):String(t);function PD(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}function Wp(t){let e=t;return()=>++e}function DD(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Qh=t=>!qt(t)||pn(t);function Lf(t,e){if(Qh(t)||Qh(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:i,des:r}=n.pop();Object.keys(i).forEach(s=>{Qh(i[s])||Qh(r[s])?r[s]=i[s]:n.push({src:i[s],des:r[s]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function LD(t,e,n){return{line:t,column:e,offset:n}}function Xf(t,e,n){return{start:t,end:e}}const FD=/\{([0-9a-zA-Z]+)\}/g;function eS(t,...e){return e.length===1&&ND(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(FD,(n,i)=>e.hasOwnProperty(i)?e[i]:"")}const tS=Object.assign,eE=t=>typeof t=="string",ND=t=>t!==null&&typeof t=="object";function nS(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}const L_={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},$D={[L_.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function jD(t,e,...n){const i=eS($D[t],...n||[]),r={message:String(i),code:t};return e&&(r.location=e),r}const ot={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},BD={[ot.EXPECTED_TOKEN]:"Expected token: '{0}'",[ot.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ot.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ot.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ot.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ot.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ot.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ot.EMPTY_PLACEHOLDER]:"Empty placeholder",[ot.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ot.INVALID_LINKED_FORMAT]:"Invalid linked format",[ot.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ot.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ot.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ot.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ot.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ot.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function ac(t,e,n={}){const{domain:i,messages:r,args:s}=n,a=eS((r||BD)[t]||"",...s||[]),o=new SyntaxError(String(a));return o.code=t,e&&(o.location=e),o.domain=i,o}function VD(t){throw t}const Ls=" ",GD="\r",Wi=`
`,zD="\u2028",UD="\u2029";function HD(t){const e=t;let n=0,i=1,r=1,s=0;const a=A=>e[A]===GD&&e[A+1]===Wi,o=A=>e[A]===Wi,l=A=>e[A]===UD,u=A=>e[A]===zD,c=A=>a(A)||o(A)||l(A)||u(A),h=()=>n,m=()=>i,g=()=>r,y=()=>s,b=A=>a(A)||l(A)||u(A)?Wi:e[A],w=()=>b(n),E=()=>b(n+s);function x(){return s=0,c(n)&&(i++,r=0),a(n)&&n++,n++,r++,e[n]}function _(){return a(n+s)&&s++,s++,e[n+s]}function T(){n=0,i=1,r=1,s=0}function C(A=0){s=A}function k(){const A=n+s;for(;A!==n;)x();s=0}return{index:h,line:m,column:g,peekOffset:y,charAt:b,currentChar:w,currentPeek:E,next:x,peek:_,reset:T,resetPeek:C,skipToPeek:k}}const Ca=void 0,YD=".",tE="'",WD="tokenizer";function KD(t,e={}){const n=e.location!==!1,i=HD(t),r=()=>i.index(),s=()=>LD(i.line(),i.column(),i.index()),a=s(),o=r(),l={currentType:14,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=e;function h(P,$,X,...se){const Ie=u();if($.column+=X,$.offset+=X,c){const we=n?Xf(Ie.startLoc,$):null,ae=ac(P,we,{domain:WD,args:se});c(ae)}}function m(P,$,X){P.endLoc=s(),P.currentType=$;const se={type:$};return n&&(se.loc=Xf(P.startLoc,P.endLoc)),X!=null&&(se.value=X),se}const g=P=>m(P,14);function y(P,$){return P.currentChar()===$?(P.next(),$):(h(ot.EXPECTED_TOKEN,s(),0,$),"")}function b(P){let $="";for(;P.currentPeek()===Ls||P.currentPeek()===Wi;)$+=P.currentPeek(),P.peek();return $}function w(P){const $=b(P);return P.skipToPeek(),$}function E(P){if(P===Ca)return!1;const $=P.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$===95}function x(P){if(P===Ca)return!1;const $=P.charCodeAt(0);return $>=48&&$<=57}function _(P,$){const{currentType:X}=$;if(X!==2)return!1;b(P);const se=E(P.currentPeek());return P.resetPeek(),se}function T(P,$){const{currentType:X}=$;if(X!==2)return!1;b(P);const se=P.currentPeek()==="-"?P.peek():P.currentPeek(),Ie=x(se);return P.resetPeek(),Ie}function C(P,$){const{currentType:X}=$;if(X!==2)return!1;b(P);const se=P.currentPeek()===tE;return P.resetPeek(),se}function k(P,$){const{currentType:X}=$;if(X!==8)return!1;b(P);const se=P.currentPeek()===".";return P.resetPeek(),se}function A(P,$){const{currentType:X}=$;if(X!==9)return!1;b(P);const se=E(P.currentPeek());return P.resetPeek(),se}function L(P,$){const{currentType:X}=$;if(!(X===8||X===12))return!1;b(P);const se=P.currentPeek()===":";return P.resetPeek(),se}function R(P,$){const{currentType:X}=$;if(X!==10)return!1;const se=()=>{const we=P.currentPeek();return we==="{"?E(P.peek()):we==="@"||we==="%"||we==="|"||we===":"||we==="."||we===Ls||!we?!1:we===Wi?(P.peek(),se()):G(P,!1)},Ie=se();return P.resetPeek(),Ie}function j(P){b(P);const $=P.currentPeek()==="|";return P.resetPeek(),$}function U(P){const $=b(P),X=P.currentPeek()==="%"&&P.peek()==="{";return P.resetPeek(),{isModulo:X,hasSpace:$.length>0}}function G(P,$=!0){const X=(Ie=!1,we="",ae=!1)=>{const ce=P.currentPeek();return ce==="{"?we==="%"?!1:Ie:ce==="@"||!ce?we==="%"?!0:Ie:ce==="%"?(P.peek(),X(Ie,"%",!0)):ce==="|"?we==="%"||ae?!0:!(we===Ls||we===Wi):ce===Ls?(P.peek(),X(!0,Ls,ae)):ce===Wi?(P.peek(),X(!0,Wi,ae)):!0},se=X();return $&&P.resetPeek(),se}function ne(P,$){const X=P.currentChar();return X===Ca?Ca:$(X)?(P.next(),X):null}function W(P){const $=P.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36}function F(P){return ne(P,W)}function B(P){const $=P.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36||$===45}function N(P){return ne(P,B)}function Q(P){const $=P.charCodeAt(0);return $>=48&&$<=57}function _e(P){return ne(P,Q)}function be(P){const $=P.charCodeAt(0);return $>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102}function xe(P){return ne(P,be)}function K(P){let $="",X="";for(;$=_e(P);)X+=$;return X}function Z(P){w(P);const $=P.currentChar();return $!=="%"&&h(ot.EXPECTED_TOKEN,s(),0,$),P.next(),"%"}function O(P){let $="";for(;;){const X=P.currentChar();if(X==="{"||X==="}"||X==="@"||X==="|"||!X)break;if(X==="%")if(G(P))$+=X,P.next();else break;else if(X===Ls||X===Wi)if(G(P))$+=X,P.next();else{if(j(P))break;$+=X,P.next()}else $+=X,P.next()}return $}function re(P){w(P);let $="",X="";for(;$=N(P);)X+=$;return P.currentChar()===Ca&&h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),X}function Ee(P){w(P);let $="";return P.currentChar()==="-"?(P.next(),$+=`-${K(P)}`):$+=K(P),P.currentChar()===Ca&&h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),$}function q(P){return P!==tE&&P!==Wi}function ye(P){w(P),y(P,"'");let $="",X="";for(;$=ne(P,q);)$==="\\"?X+=Xe(P):X+=$;const se=P.currentChar();return se===Wi||se===Ca?(h(ot.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),se===Wi&&(P.next(),y(P,"'")),X):(y(P,"'"),X)}function Xe(P){const $=P.currentChar();switch($){case"\\":case"'":return P.next(),`\\${$}`;case"u":return de(P,$,4);case"U":return de(P,$,6);default:return h(ot.UNKNOWN_ESCAPE_SEQUENCE,s(),0,$),""}}function de(P,$,X){y(P,$);let se="";for(let Ie=0;Ie<X;Ie++){const we=xe(P);if(!we){h(ot.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${$}${se}${P.currentChar()}`);break}se+=we}return`\\${$}${se}`}function Ke(P){return P!=="{"&&P!=="}"&&P!==Ls&&P!==Wi}function H(P){w(P);let $="",X="";for(;$=ne(P,Ke);)X+=$;return X}function D(P){let $="",X="";for(;$=F(P);)X+=$;return X}function M(P){const $=X=>{const se=P.currentChar();return se==="{"||se==="%"||se==="@"||se==="|"||se==="("||se===")"||!se||se===Ls?X:(X+=se,P.next(),$(X))};return $("")}function z(P){w(P);const $=y(P,"|");return w(P),$}function J(P,$){let X=null;switch(P.currentChar()){case"{":return $.braceNest>=1&&h(ot.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),P.next(),X=m($,2,"{"),w(P),$.braceNest++,X;case"}":return $.braceNest>0&&$.currentType===2&&h(ot.EMPTY_PLACEHOLDER,s(),0),P.next(),X=m($,3,"}"),$.braceNest--,$.braceNest>0&&w(P),$.inLinked&&$.braceNest===0&&($.inLinked=!1),X;case"@":return $.braceNest>0&&h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),X=he(P,$)||g($),$.braceNest=0,X;default:{let Ie=!0,we=!0,ae=!0;if(j(P))return $.braceNest>0&&h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),X=m($,1,z(P)),$.braceNest=0,$.inLinked=!1,X;if($.braceNest>0&&($.currentType===5||$.currentType===6||$.currentType===7))return h(ot.UNTERMINATED_CLOSING_BRACE,s(),0),$.braceNest=0,Y(P,$);if(Ie=_(P,$))return X=m($,5,re(P)),w(P),X;if(we=T(P,$))return X=m($,6,Ee(P)),w(P),X;if(ae=C(P,$))return X=m($,7,ye(P)),w(P),X;if(!Ie&&!we&&!ae)return X=m($,13,H(P)),h(ot.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,X.value),w(P),X;break}}return X}function he(P,$){const{currentType:X}=$;let se=null;const Ie=P.currentChar();switch((X===8||X===9||X===12||X===10)&&(Ie===Wi||Ie===Ls)&&h(ot.INVALID_LINKED_FORMAT,s(),0),Ie){case"@":return P.next(),se=m($,8,"@"),$.inLinked=!0,se;case".":return w(P),P.next(),m($,9,".");case":":return w(P),P.next(),m($,10,":");default:return j(P)?(se=m($,1,z(P)),$.braceNest=0,$.inLinked=!1,se):k(P,$)||L(P,$)?(w(P),he(P,$)):A(P,$)?(w(P),m($,12,D(P))):R(P,$)?(w(P),Ie==="{"?J(P,$)||se:m($,11,M(P))):(X===8&&h(ot.INVALID_LINKED_FORMAT,s(),0),$.braceNest=0,$.inLinked=!1,Y(P,$))}}function Y(P,$){let X={type:14};if($.braceNest>0)return J(P,$)||g($);if($.inLinked)return he(P,$)||g($);switch(P.currentChar()){case"{":return J(P,$)||g($);case"}":return h(ot.UNBALANCED_CLOSING_BRACE,s(),0),P.next(),m($,3,"}");case"@":return he(P,$)||g($);default:{if(j(P))return X=m($,1,z(P)),$.braceNest=0,$.inLinked=!1,X;const{isModulo:Ie,hasSpace:we}=U(P);if(Ie)return we?m($,0,O(P)):m($,4,Z(P));if(G(P))return m($,0,O(P));break}}return X}function ue(){const{currentType:P,offset:$,startLoc:X,endLoc:se}=l;return l.lastType=P,l.lastOffset=$,l.lastStartLoc=X,l.lastEndLoc=se,l.offset=r(),l.startLoc=s(),i.currentChar()===Ca?m(l,14):Y(i,l)}return{nextToken:ue,currentOffset:r,currentPosition:s,context:u}}const qD="parser",XD=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function ZD(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"�"}}}function JD(t={}){const e=t.location!==!1,{onError:n,onWarn:i}=t;function r(_,T,C,k,...A){const L=_.currentPosition();if(L.offset+=k,L.column+=k,n){const R=e?Xf(C,L):null,j=ac(T,R,{domain:qD,args:A});n(j)}}function s(_,T,C,k,...A){const L=_.currentPosition();if(L.offset+=k,L.column+=k,i){const R=e?Xf(C,L):null;i(jD(T,R,A))}}function a(_,T,C){const k={type:_};return e&&(k.start=T,k.end=T,k.loc={start:C,end:C}),k}function o(_,T,C,k){e&&(_.end=T,_.loc&&(_.loc.end=C))}function l(_,T){const C=_.context(),k=a(3,C.offset,C.startLoc);return k.value=T,o(k,_.currentOffset(),_.currentPosition()),k}function u(_,T){const C=_.context(),{lastOffset:k,lastStartLoc:A}=C,L=a(5,k,A);return L.index=parseInt(T,10),_.nextToken(),o(L,_.currentOffset(),_.currentPosition()),L}function c(_,T,C){const k=_.context(),{lastOffset:A,lastStartLoc:L}=k,R=a(4,A,L);return R.key=T,C===!0&&(R.modulo=!0),_.nextToken(),o(R,_.currentOffset(),_.currentPosition()),R}function h(_,T){const C=_.context(),{lastOffset:k,lastStartLoc:A}=C,L=a(9,k,A);return L.value=T.replace(XD,ZD),_.nextToken(),o(L,_.currentOffset(),_.currentPosition()),L}function m(_){const T=_.nextToken(),C=_.context(),{lastOffset:k,lastStartLoc:A}=C,L=a(8,k,A);return T.type!==12?(r(_,ot.UNEXPECTED_EMPTY_LINKED_MODIFIER,C.lastStartLoc,0),L.value="",o(L,k,A),{nextConsumeToken:T,node:L}):(T.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Vr(T)),L.value=T.value||"",o(L,_.currentOffset(),_.currentPosition()),{node:L})}function g(_,T){const C=_.context(),k=a(7,C.offset,C.startLoc);return k.value=T,o(k,_.currentOffset(),_.currentPosition()),k}function y(_){const T=_.context(),C=a(6,T.offset,T.startLoc);let k=_.nextToken();if(k.type===9){const A=m(_);C.modifier=A.node,k=A.nextConsumeToken||_.nextToken()}switch(k.type!==10&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Vr(k)),k=_.nextToken(),k.type===2&&(k=_.nextToken()),k.type){case 11:k.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Vr(k)),C.key=g(_,k.value||"");break;case 5:k.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Vr(k)),C.key=c(_,k.value||"");break;case 6:k.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Vr(k)),C.key=u(_,k.value||"");break;case 7:k.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Vr(k)),C.key=h(_,k.value||"");break;default:{r(_,ot.UNEXPECTED_EMPTY_LINKED_KEY,T.lastStartLoc,0);const A=_.context(),L=a(7,A.offset,A.startLoc);return L.value="",o(L,A.offset,A.startLoc),C.key=L,o(C,A.offset,A.startLoc),{nextConsumeToken:k,node:C}}}return o(C,_.currentOffset(),_.currentPosition()),{node:C}}function b(_){const T=_.context(),C=T.currentType===1?_.currentOffset():T.offset,k=T.currentType===1?T.endLoc:T.startLoc,A=a(2,C,k);A.items=[];let L=null,R=null;do{const G=L||_.nextToken();switch(L=null,G.type){case 0:G.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Vr(G)),A.items.push(l(_,G.value||""));break;case 6:G.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Vr(G)),A.items.push(u(_,G.value||""));break;case 4:R=!0;break;case 5:G.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Vr(G)),A.items.push(c(_,G.value||"",!!R)),R&&(s(_,L_.USE_MODULO_SYNTAX,T.lastStartLoc,0,Vr(G)),R=null);break;case 7:G.value==null&&r(_,ot.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,Vr(G)),A.items.push(h(_,G.value||""));break;case 8:{const ne=y(_);A.items.push(ne.node),L=ne.nextConsumeToken||null;break}}}while(T.currentType!==14&&T.currentType!==1);const j=T.currentType===1?T.lastOffset:_.currentOffset(),U=T.currentType===1?T.lastEndLoc:_.currentPosition();return o(A,j,U),A}function w(_,T,C,k){const A=_.context();let L=k.items.length===0;const R=a(1,T,C);R.cases=[],R.cases.push(k);do{const j=b(_);L||(L=j.items.length===0),R.cases.push(j)}while(A.currentType!==14);return L&&r(_,ot.MUST_HAVE_MESSAGES_IN_PLURAL,C,0),o(R,_.currentOffset(),_.currentPosition()),R}function E(_){const T=_.context(),{offset:C,startLoc:k}=T,A=b(_);return T.currentType===14?A:w(_,C,k,A)}function x(_){const T=KD(_,tS({},t)),C=T.context(),k=a(0,C.offset,C.startLoc);return e&&k.loc&&(k.loc.source=_),k.body=E(T),t.onCacheKey&&(k.cacheKey=t.onCacheKey(_)),C.currentType!==14&&r(T,ot.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,_[C.offset]||""),o(k,T.currentOffset(),T.currentPosition()),k}return{parse:x}}function Vr(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function QD(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function nE(t,e){for(let n=0;n<t.length;n++)F_(t[n],e)}function F_(t,e){switch(t.type){case 1:nE(t.cases,e),e.helper("plural");break;case 2:nE(t.items,e);break;case 6:{F_(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function eL(t,e={}){const n=QD(t);n.helper("normalize"),t.body&&F_(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function tL(t){const e=t.body;return e.type===2?iE(e):e.cases.forEach(n=>iE(n)),t}function iE(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=nS(e);for(let n=0;n<t.items.length;n++){const i=t.items[n];(i.type===3||i.type===9)&&delete i.value}}}}const nL="minifier";function pu(t){switch(t.t=t.type,t.type){case 0:{const e=t;pu(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let i=0;i<n.length;i++)pu(n[i]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let i=0;i<n.length;i++)pu(n[i]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;pu(e.key),e.k=e.key,delete e.key,e.modifier&&(pu(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw ac(ot.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:nL,args:[t.type]})}delete t.type}const iL="parser";function rL(t,e){const{sourceMap:n,filename:i,breakLineCode:r,needIndent:s}=e,a=e.location!==!1,o={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};a&&t.loc&&(o.source=t.loc.source);const l=()=>o;function u(w,E){o.code+=w}function c(w,E=!0){const x=E?r:"";u(s?x+"  ".repeat(w):x)}function h(w=!0){const E=++o.indentLevel;w&&c(E)}function m(w=!0){const E=--o.indentLevel;w&&c(E)}function g(){c(o.indentLevel)}return{context:l,push:u,indent:h,deindent:m,newline:g,helper:w=>`_${w}`,needIndent:()=>o.needIndent}}function sL(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Nu(t,e.key),e.modifier?(t.push(", "),Nu(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function aL(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const r=e.items.length;for(let s=0;s<r&&(Nu(t,e.items[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}function oL(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const r=e.cases.length;for(let s=0;s<r&&(Nu(t,e.cases[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}}function lL(t,e){e.body?Nu(t,e.body):t.push("null")}function Nu(t,e){const{helper:n}=t;switch(e.type){case 0:lL(t,e);break;case 1:oL(t,e);break;case 2:aL(t,e);break;case 6:sL(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw ac(ot.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:iL,args:[e.type]})}}const uL=(t,e={})=>{const n=eE(e.mode)?e.mode:"normal",i=eE(e.filename)?e.filename:"message.intl",r=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],l=rL(t,{mode:n,filename:i,sourceMap:r,breakLineCode:s,needIndent:a});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),o.length>0&&(l.push(`const { ${nS(o.map(h=>`${h}: _${h}`),", ")} } = ctx`),l.newline()),l.push("return "),Nu(l,t),l.deindent(a),l.push("}"),delete t.helpers;const{code:u,map:c}=l.context();return{ast:t,code:u,map:c?c.toJSON():void 0}};function cL(t,e={}){const n=tS({},e),i=!!n.jit,r=!!n.minify,s=n.optimize==null?!0:n.optimize,o=JD(n).parse(t);return i?(s&&tL(o),r&&pu(o),{ast:o,code:""}):(eL(o,n),uL(o,n))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function dL(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qs().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(qs().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(qs().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const go=[];go[0]={w:[0],i:[3,0],"[":[4],o:[7]};go[1]={w:[1],".":[2],"[":[4],o:[7]};go[2]={w:[2],i:[3,0],0:[3,0]};go[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};go[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};go[5]={"'":[4,0],o:8,l:[5,0]};go[6]={'"':[4,0],o:8,l:[6,0]};const hL=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function fL(t){return hL.test(t)}function pL(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function mL(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function gL(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:fL(e)?pL(e):"*"+e}function yL(t){const e=[];let n=-1,i=0,r=0,s,a,o,l,u,c,h;const m=[];m[0]=()=>{a===void 0?a=o:a+=o},m[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},m[2]=()=>{m[0](),r++},m[3]=()=>{if(r>0)r--,i=4,m[0]();else{if(r=0,a===void 0||(a=gL(a),a===!1))return!1;m[1]()}};function g(){const y=t[n+1];if(i===5&&y==="'"||i===6&&y==='"')return n++,o="\\"+y,m[0](),!0}for(;i!==null;)if(n++,s=t[n],!(s==="\\"&&g())){if(l=mL(s),h=go[i],u=h[l]||h.l||8,u===8||(i=u[0],u[1]!==void 0&&(c=m[u[1]],c&&(o=s,c()===!1))))return;if(i===7)return e}}const rE=new Map;function _L(t,e){return qt(t)?t[e]:null}function vL(t,e){if(!qt(t))return null;let n=rE.get(e);if(n||(n=yL(e),n&&rE.set(e,n)),!n)return null;const i=n.length;let r=t,s=0;for(;s<i;){const a=r[n[s]];if(a===void 0||un(r))return null;r=a,s++}return r}const bL=t=>t,wL=t=>"",EL="text",TL=t=>t.length===0?"":PD(t),xL=OD;function sE(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function CL(t){const e=ei(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ei(t.named.count)||ei(t.named.n))?ei(t.named.count)?t.named.count:ei(t.named.n)?t.named.n:e:e}function SL(t,e){e.count||(e.count=t),e.n||(e.n=t)}function kL(t={}){const e=t.locale,n=CL(t),i=qt(t.pluralRules)&&Ge(e)&&un(t.pluralRules[e])?t.pluralRules[e]:sE,r=qt(t.pluralRules)&&Ge(e)&&un(t.pluralRules[e])?sE:void 0,s=E=>E[i(n,E.length,r)],a=t.list||[],o=E=>a[E],l=t.named||{};ei(t.pluralIndex)&&SL(n,l);const u=E=>l[E];function c(E){const x=un(t.messages)?t.messages(E):qt(t.messages)?t.messages[E]:!1;return x||(t.parent?t.parent.message(E):wL)}const h=E=>t.modifiers?t.modifiers[E]:bL,m=_t(t.processor)&&un(t.processor.normalize)?t.processor.normalize:TL,g=_t(t.processor)&&un(t.processor.interpolate)?t.processor.interpolate:xL,y=_t(t.processor)&&Ge(t.processor.type)?t.processor.type:EL,w={list:o,named:u,plural:s,linked:(E,...x)=>{const[_,T]=x;let C="text",k="";x.length===1?qt(_)?(k=_.modifier||k,C=_.type||C):Ge(_)&&(k=_||k):x.length===2&&(Ge(_)&&(k=_||k),Ge(T)&&(C=T||C));const A=c(E)(w),L=C==="vnode"&&pn(A)&&k?A[0]:A;return k?h(k)(L,C):L},message:c,type:y,interpolate:g,normalize:m,values:Ri({},a,l)};return w}let hd=null;function RL(t){hd=t}function IL(t,e,n){hd&&hd.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const AL=ML("function:translate");function ML(t){return e=>hd&&hd.emit(t,e)}const iS=L_.__EXTEND_POINT__,Go=Wp(iS),OL={NOT_FOUND_KEY:iS,FALLBACK_TO_TRANSLATE:Go(),CANNOT_FORMAT_NUMBER:Go(),FALLBACK_TO_NUMBER_FORMAT:Go(),CANNOT_FORMAT_DATE:Go(),FALLBACK_TO_DATE_FORMAT:Go(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Go(),__EXTEND_POINT__:Go()},rS=ot.__EXTEND_POINT__,zo=Wp(rS),qr={INVALID_ARGUMENT:rS,INVALID_DATE_ARGUMENT:zo(),INVALID_ISO_DATE_ARGUMENT:zo(),NOT_SUPPORT_NON_STRING_MESSAGE:zo(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:zo(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:zo(),NOT_SUPPORT_LOCALE_TYPE:zo(),__EXTEND_POINT__:zo()};function ms(t){return ac(t,null,void 0)}function N_(t,e){return e.locale!=null?aE(e.locale):aE(t.locale)}let m0;function aE(t){if(Ge(t))return t;if(un(t)){if(t.resolvedOnce&&m0!=null)return m0;if(t.constructor.name==="Function"){const e=t();if(MD(e))throw ms(qr.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return m0=e}else throw ms(qr.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ms(qr.NOT_SUPPORT_LOCALE_TYPE)}function PL(t,e,n){return[...new Set([n,...pn(e)?e:qt(e)?Object.keys(e):Ge(e)?[e]:[n]])]}function sS(t,e,n){const i=Ge(n)?n:$u,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(i);if(!s){s=[];let a=[n];for(;pn(a);)a=oE(s,a,e);const o=pn(e)||!_t(e)?e:e.default?e.default:null;a=Ge(o)?[o]:o,pn(a)&&oE(s,a,!1),r.__localeChainCache.set(i,s)}return s}function oE(t,e,n){let i=!0;for(let r=0;r<e.length&&Rt(i);r++){const s=e[r];Ge(s)&&(i=DL(t,e[r],n))}return i}function DL(t,e,n){let i;const r=e.split("-");do{const s=r.join("-");i=LL(t,s,n),r.splice(-1,1)}while(r.length&&i===!0);return i}function LL(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(pn(n)||_t(n))&&n[r]&&(i=n[r])}return i}const FL="9.13.1",Kp=-1,$u="en-US",lE="",uE=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function NL(){return{upper:(t,e)=>e==="text"&&Ge(t)?t.toUpperCase():e==="vnode"&&qt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ge(t)?t.toLowerCase():e==="vnode"&&qt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ge(t)?uE(t):e==="vnode"&&qt(t)&&"__v_isVNode"in t?uE(t.children):t}}let aS;function cE(t){aS=t}let oS;function $L(t){oS=t}let lS;function jL(t){lS=t}let uS=null;const BL=t=>{uS=t},VL=()=>uS;let cS=null;const dE=t=>{cS=t},GL=()=>cS;let hE=0;function zL(t={}){const e=un(t.onWarn)?t.onWarn:DD,n=Ge(t.version)?t.version:FL,i=Ge(t.locale)||un(t.locale)?t.locale:$u,r=un(i)?$u:i,s=pn(t.fallbackLocale)||_t(t.fallbackLocale)||Ge(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,a=_t(t.messages)?t.messages:{[r]:{}},o=_t(t.datetimeFormats)?t.datetimeFormats:{[r]:{}},l=_t(t.numberFormats)?t.numberFormats:{[r]:{}},u=Ri({},t.modifiers||{},NL()),c=t.pluralRules||{},h=un(t.missing)?t.missing:null,m=Rt(t.missingWarn)||oo(t.missingWarn)?t.missingWarn:!0,g=Rt(t.fallbackWarn)||oo(t.fallbackWarn)?t.fallbackWarn:!0,y=!!t.fallbackFormat,b=!!t.unresolving,w=un(t.postTranslation)?t.postTranslation:null,E=_t(t.processor)?t.processor:null,x=Rt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter,T=un(t.messageCompiler)?t.messageCompiler:aS,C=un(t.messageResolver)?t.messageResolver:oS||_L,k=un(t.localeFallbacker)?t.localeFallbacker:lS||PL,A=qt(t.fallbackContext)?t.fallbackContext:void 0,L=t,R=qt(L.__datetimeFormatters)?L.__datetimeFormatters:new Map,j=qt(L.__numberFormatters)?L.__numberFormatters:new Map,U=qt(L.__meta)?L.__meta:{};hE++;const G={version:n,cid:hE,locale:i,fallbackLocale:s,messages:a,modifiers:u,pluralRules:c,missing:h,missingWarn:m,fallbackWarn:g,fallbackFormat:y,unresolving:b,postTranslation:w,processor:E,warnHtmlMessage:x,escapeParameter:_,messageCompiler:T,messageResolver:C,localeFallbacker:k,fallbackContext:A,onWarn:e,__meta:U};return G.datetimeFormats=o,G.numberFormats=l,G.__datetimeFormatters=R,G.__numberFormatters=j,__INTLIFY_PROD_DEVTOOLS__&&IL(G,n,U),G}function $_(t,e,n,i,r){const{missing:s,onWarn:a}=t;if(s!==null){const o=s(t,n,e,r);return Ge(o)?o:e}else return e}function Nc(t,e,n){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function UL(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function HL(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let i=n+1;i<e.length;i++)if(UL(t,e[i]))return!0;return!1}function g0(t){return n=>YL(n,t)}function YL(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const i=n,r=i.c||i.cases;return t.plural(r.reduce((s,a)=>[...s,fE(t,a)],[]))}else return fE(t,n)}function fE(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const i=(e.i||e.items).reduce((r,s)=>[...r,hy(t,s)],[]);return t.normalize(i)}}function hy(t,e){const n=e.t||e.type;switch(n){case 3:{const i=e;return i.v||i.value}case 9:{const i=e;return i.v||i.value}case 4:{const i=e;return t.interpolate(t.named(i.k||i.key))}case 5:{const i=e;return t.interpolate(t.list(i.i!=null?i.i:i.index))}case 6:{const i=e,r=i.m||i.modifier;return t.linked(hy(t,i.k||i.key),r?hy(t,r):void 0,t.type)}case 7:{const i=e;return i.v||i.value}case 8:{const i=e;return i.v||i.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const dS=t=>t;let Eu=Object.create(null);const ju=t=>qt(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function hS(t,e={}){let n=!1;const i=e.onError||VD;return e.onError=r=>{n=!0,i(r)},{...cL(t,e),detectError:n}}const WL=(t,e)=>{if(!Ge(t))throw ms(qr.NOT_SUPPORT_NON_STRING_MESSAGE);{Rt(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||dS)(t),r=Eu[i];if(r)return r;const{code:s,detectError:a}=hS(t,e),o=new Function(`return ${s}`)();return a?o:Eu[i]=o}};function KL(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ge(t)){Rt(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||dS)(t),r=Eu[i];if(r)return r;const{ast:s,detectError:a}=hS(t,{...e,location:!1,jit:!0}),o=g0(s);return a?o:Eu[i]=o}else{const n=t.cacheKey;if(n){const i=Eu[n];return i||(Eu[n]=g0(t))}else return g0(t)}}const pE=()=>"",Ir=t=>un(t);function mE(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:s,fallbackLocale:a,messages:o}=t,[l,u]=fy(...e),c=Rt(u.missingWarn)?u.missingWarn:t.missingWarn,h=Rt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,m=Rt(u.escapeParameter)?u.escapeParameter:t.escapeParameter,g=!!u.resolvedMessage,y=Ge(u.default)||Rt(u.default)?Rt(u.default)?s?l:()=>l:u.default:n?s?l:()=>l:"",b=n||y!=="",w=N_(t,u);m&&qL(u);let[E,x,_]=g?[l,w,o[w]||{}]:fS(t,l,w,a,h,c),T=E,C=l;if(!g&&!(Ge(T)||ju(T)||Ir(T))&&b&&(T=y,C=T),!g&&(!(Ge(T)||ju(T)||Ir(T))||!Ge(x)))return r?Kp:l;let k=!1;const A=()=>{k=!0},L=Ir(T)?T:pS(t,l,x,T,C,A);if(k)return T;const R=JL(t,x,_,u),j=kL(R),U=XL(t,L,j),G=i?i(U,l):U;if(__INTLIFY_PROD_DEVTOOLS__){const ne={timestamp:Date.now(),key:Ge(l)?l:Ir(T)?T.key:"",locale:x||(Ir(T)?T.locale:""),format:Ge(T)?T:Ir(T)?T.source:"",message:G};ne.meta=Ri({},t.__meta,VL()||{}),AL(ne)}return G}function qL(t){pn(t.list)?t.list=t.list.map(e=>Ge(e)?Qw(e):e):qt(t.named)&&Object.keys(t.named).forEach(e=>{Ge(t.named[e])&&(t.named[e]=Qw(t.named[e]))})}function fS(t,e,n,i,r,s){const{messages:a,onWarn:o,messageResolver:l,localeFallbacker:u}=t,c=u(t,i,n);let h={},m,g=null;const y="translate";for(let b=0;b<c.length&&(m=c[b],h=a[m]||{},(g=l(h,e))===null&&(g=h[e]),!(Ge(g)||ju(g)||Ir(g)));b++)if(!HL(m,c)){const w=$_(t,e,m,s,y);w!==e&&(g=w)}return[g,m,h]}function pS(t,e,n,i,r,s){const{messageCompiler:a,warnHtmlMessage:o}=t;if(Ir(i)){const u=i;return u.locale=u.locale||n,u.key=u.key||e,u}if(a==null){const u=()=>i;return u.locale=n,u.key=e,u}const l=a(i,ZL(t,n,r,i,o,s));return l.locale=n,l.key=e,l.source=i,l}function XL(t,e,n){return e(n)}function fy(...t){const[e,n,i]=t,r={};if(!Ge(e)&&!ei(e)&&!Ir(e)&&!ju(e))throw ms(qr.INVALID_ARGUMENT);const s=ei(e)?String(e):(Ir(e),e);return ei(n)?r.plural=n:Ge(n)?r.default=n:_t(n)&&!Yp(n)?r.named=n:pn(n)&&(r.list=n),ei(i)?r.plural=i:Ge(i)?r.default=i:_t(i)&&Ri(r,i),[s,r]}function ZL(t,e,n,i,r,s){return{locale:e,key:n,warnHtmlMessage:r,onError:a=>{throw s&&s(a),a},onCacheKey:a=>kD(e,n,a)}}function JL(t,e,n,i){const{modifiers:r,pluralRules:s,messageResolver:a,fallbackLocale:o,fallbackWarn:l,missingWarn:u,fallbackContext:c}=t,m={locale:e,modifiers:r,pluralRules:s,messages:g=>{let y=a(n,g);if(y==null&&c){const[,,b]=fS(c,g,e,o,l,u);y=a(b,g)}if(Ge(y)||ju(y)){let b=!1;const E=pS(t,g,e,y,g,()=>{b=!0});return b?pE:E}else return Ir(y)?y:pE}};return t.processor&&(m.processor=t.processor),i.list&&(m.list=i.list),i.named&&(m.named=i.named),ei(i.plural)&&(m.pluralIndex=i.plural),m}function gE(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=t,{__datetimeFormatters:o}=t,[l,u,c,h]=py(...e),m=Rt(c.missingWarn)?c.missingWarn:t.missingWarn;Rt(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const g=!!c.part,y=N_(t,c),b=a(t,r,y);if(!Ge(l)||l==="")return new Intl.DateTimeFormat(y,h).format(u);let w={},E,x=null;const _="datetime format";for(let k=0;k<b.length&&(E=b[k],w=n[E]||{},x=w[l],!_t(x));k++)$_(t,l,E,m,_);if(!_t(x)||!Ge(E))return i?Kp:l;let T=`${E}__${l}`;Yp(h)||(T=`${T}__${JSON.stringify(h)}`);let C=o.get(T);return C||(C=new Intl.DateTimeFormat(E,Ri({},x,h)),o.set(T,C)),g?C.formatToParts(u):C.format(u)}const mS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function py(...t){const[e,n,i,r]=t,s={};let a={},o;if(Ge(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw ms(qr.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(u);try{o.toISOString()}catch{throw ms(qr.INVALID_ISO_DATE_ARGUMENT)}}else if(ID(e)){if(isNaN(e.getTime()))throw ms(qr.INVALID_DATE_ARGUMENT);o=e}else if(ei(e))o=e;else throw ms(qr.INVALID_ARGUMENT);return Ge(n)?s.key=n:_t(n)&&Object.keys(n).forEach(l=>{mS.includes(l)?a[l]=n[l]:s[l]=n[l]}),Ge(i)?s.locale=i:_t(i)&&(a=i),_t(r)&&(a=r),[s.key||"",o,s,a]}function yE(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function _E(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=t,{__numberFormatters:o}=t,[l,u,c,h]=my(...e),m=Rt(c.missingWarn)?c.missingWarn:t.missingWarn;Rt(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const g=!!c.part,y=N_(t,c),b=a(t,r,y);if(!Ge(l)||l==="")return new Intl.NumberFormat(y,h).format(u);let w={},E,x=null;const _="number format";for(let k=0;k<b.length&&(E=b[k],w=n[E]||{},x=w[l],!_t(x));k++)$_(t,l,E,m,_);if(!_t(x)||!Ge(E))return i?Kp:l;let T=`${E}__${l}`;Yp(h)||(T=`${T}__${JSON.stringify(h)}`);let C=o.get(T);return C||(C=new Intl.NumberFormat(E,Ri({},x,h)),o.set(T,C)),g?C.formatToParts(u):C.format(u)}const gS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function my(...t){const[e,n,i,r]=t,s={};let a={};if(!ei(e))throw ms(qr.INVALID_ARGUMENT);const o=e;return Ge(n)?s.key=n:_t(n)&&Object.keys(n).forEach(l=>{gS.includes(l)?a[l]=n[l]:s[l]=n[l]}),Ge(i)?s.locale=i:_t(i)&&(a=i),_t(r)&&(a=r),[s.key||"",o,s,a]}function vE(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}dL();var bE={};/**
* @vue/shared v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tr(t,e){const n=new Set(t.split(","));return e?i=>n.has(i.toLowerCase()):i=>n.has(i)}const jt={},ku=[],ri=()=>{},Ff=()=>!1,Ml=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),j_=t=>t.startsWith("onUpdate:"),Ft=Object.assign,B_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},QL=Object.prototype.hasOwnProperty,$t=(t,e)=>QL.call(t,e),Ye=Array.isArray,Ru=t=>oc(t)==="[object Map]",Ol=t=>oc(t)==="[object Set]",wE=t=>oc(t)==="[object Date]",eF=t=>oc(t)==="[object RegExp]",ut=t=>typeof t=="function",Tt=t=>typeof t=="string",Dr=t=>typeof t=="symbol",en=t=>t!==null&&typeof t=="object",V_=t=>(en(t)||ut(t))&&ut(t.then)&&ut(t.catch),yS=Object.prototype.toString,oc=t=>yS.call(t),tF=t=>oc(t).slice(8,-1),_S=t=>oc(t)==="[object Object]",G_=t=>Tt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ja=Tr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nF=Tr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),qp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},iF=/-(\w)/g,yn=qp(t=>t.replace(iF,(e,n)=>n?n.toUpperCase():"")),rF=/\B([A-Z])/g,yr=qp(t=>t.replace(rF,"-$1").toLowerCase()),yo=qp(t=>t.charAt(0).toUpperCase()+t.slice(1)),ll=qp(t=>t?`on${yo(t)}`:""),Qr=(t,e)=>!Object.is(t,e),Iu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},vS=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Zf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Jf=t=>{const e=Tt(t)?Number(t):NaN;return isNaN(e)?t:e};let EE;const bS=()=>EE||(EE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof bE<"u"?bE:{}),sF="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",aF=Tr(sF);function Bn(t){if(Ye(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=Tt(i)?wS(i):Bn(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(Tt(t)||en(t))return t}const oF=/;(?![^(]*\))/g,lF=/:([^]+)/,uF=/\/\*[^]*?\*\//g;function wS(t){const e={};return t.replace(uF,"").split(oF).forEach(n=>{if(n){const i=n.split(lF);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function rt(t){let e="";if(Tt(t))e=t;else if(Ye(t))for(let n=0;n<t.length;n++){const i=rt(t[n]);i&&(e+=i+" ")}else if(en(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Kn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Tt(e)&&(t.class=rt(e)),n&&(t.style=Bn(n)),t}const cF="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",dF="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",hF="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",fF="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",pF=Tr(cF),mF=Tr(dF),gF=Tr(hF),yF=Tr(fF),_F="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vF=Tr(_F);function ES(t){return!!t||t===""}function bF(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=lo(t[i],e[i]);return n}function lo(t,e){if(t===e)return!0;let n=wE(t),i=wE(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Dr(t),i=Dr(e),n||i)return t===e;if(n=Ye(t),i=Ye(e),n||i)return n&&i?bF(t,e):!1;if(n=en(t),i=en(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!lo(t[a],e[a]))return!1}}return String(t)===String(e)}function Xp(t,e){return t.findIndex(n=>lo(n,e))}const ht=t=>Tt(t)?t:t==null?"":Ye(t)||en(t)&&(t.toString===yS||!ut(t.toString))?JSON.stringify(t,TS,2):String(t),TS=(t,e)=>e&&e.__v_isRef?TS(t,e.value):Ru(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[y0(i,s)+" =>"]=r,n),{})}:Ol(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>y0(n))}:Dr(e)?y0(e):en(e)&&!Ye(e)&&!_S(e)?String(e):e,y0=(t,e="")=>{var n;return Dr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hr;class Zp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=hr,!e&&hr&&(this.index=(hr.scopes||(hr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=hr;try{return hr=this,e()}finally{hr=n}}}on(){hr=this}off(){hr=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Jp(t){return new Zp(t)}function xS(t,e=hr){e&&e.active&&e.effects.push(t)}function Qp(){return hr}function z_(t){hr&&hr.cleanups.push(t)}let ul;class vl{constructor(e,n,i,r){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,xS(this,r)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,_o();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed){if(n.computed.effect._dirtyLevel===2)return!0;if(wF(n.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),vo()}return this._dirtyLevel>=5}set dirty(e){this._dirtyLevel=e?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Qa,n=ul;try{return Qa=!0,ul=this,this._runnings++,TE(this),this.fn()}finally{xE(this),this._runnings--,ul=n,Qa=e}}stop(){this.active&&(TE(this),xE(this),this.onStop&&this.onStop(),this.active=!1)}}function wF(t){return t.value}function TE(t){t._trackId++,t._depsLength=0}function xE(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)CS(t.deps[e],t);t.deps.length=t._depsLength}}function CS(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function SS(t,e){t.effect instanceof vl&&(t=t.effect.fn);const n=new vl(t,ri,()=>{n.dirty&&n.run()});e&&(Ft(n,e),e.scope&&xS(n,e.scope)),(!e||!e.lazy)&&n.run();const i=n.run.bind(n);return i.effect=n,i}function kS(t){t.effect.stop()}let Qa=!0,gy=0;const RS=[];function _o(){RS.push(Qa),Qa=!1}function vo(){const t=RS.pop();Qa=t===void 0?!0:t}function U_(){gy++}function H_(){for(gy--;!gy&&yy.length;)yy.shift()()}function IS(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&CS(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const yy=[];function AS(t,e,n){U_();for(const i of t.keys()){if(!t.computed&&i.computed&&t.get(i)===i._trackId&&i._runnings>0){i._dirtyLevel=2;continue}let r;i._dirtyLevel<e&&(r??(r=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i.computed&&i._dirtyLevel===2&&(i._shouldSchedule=!0),i._dirtyLevel=e),i._shouldSchedule&&(r??(r=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==3&&(i._shouldSchedule=!1,i.scheduler&&yy.push(i.scheduler)))}H_()}const MS=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Qf=new WeakMap,cl=Symbol(""),_y=Symbol("");function ur(t,e,n){if(Qa&&ul){let i=Qf.get(t);i||Qf.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=MS(()=>i.delete(n))),IS(ul,r)}}function ea(t,e,n,i,r,s){const a=Qf.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&Ye(t)){const l=Number(i);a.forEach((u,c)=>{(c==="length"||!Dr(c)&&c>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":Ye(t)?G_(n)&&o.push(a.get("length")):(o.push(a.get(cl)),Ru(t)&&o.push(a.get(_y)));break;case"delete":Ye(t)||(o.push(a.get(cl)),Ru(t)&&o.push(a.get(_y)));break;case"set":Ru(t)&&o.push(a.get(cl));break}U_();for(const l of o)l&&AS(l,5);H_()}function EF(t,e){const n=Qf.get(t);return n&&n.get(e)}const TF=Tr("__proto__,__v_isRef,__isVue"),OS=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Dr)),CE=xF();function xF(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Pt(this);for(let s=0,a=this.length;s<a;s++)ur(i,"get",s+"");const r=i[e](...n);return r===-1||r===!1?i[e](...n.map(Pt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){_o(),U_();const i=Pt(this)[e].apply(this,n);return H_(),vo(),i}}),t}function CF(t){Dr(t)||(t=String(t));const e=Pt(this);return ur(e,"has",t),e.hasOwnProperty(t)}class PS{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?jS:$S:s?NS:FS).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=Ye(e);if(!r){if(a&&$t(CE,n))return Reflect.get(CE,n,i);if(n==="hasOwnProperty")return CF}const o=Reflect.get(e,n,i);return(Dr(n)?OS.has(n):TF(n))||(r||ur(e,"get",n),s)?o:Hn(o)?a&&G_(n)?o:o.value:en(o)?r?nm(o):Fr(o):o}}class DS extends PS{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=bl(s);if(!Bu(i)&&!bl(i)&&(s=Pt(s),i=Pt(i)),!Ye(e)&&Hn(s)&&!Hn(i))return l?!1:(s.value=i,!0)}const a=Ye(e)&&G_(n)?Number(n)<e.length:$t(e,n),o=Reflect.set(e,n,i,r);return e===Pt(r)&&(a?Qr(i,s)&&ea(e,"set",n,i):ea(e,"add",n,i)),o}deleteProperty(e,n){const i=$t(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&ea(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Dr(n)||!OS.has(n))&&ur(e,"has",n),i}ownKeys(e){return ur(e,"iterate",Ye(e)?"length":cl),Reflect.ownKeys(e)}}class LS extends PS{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const SF=new DS,kF=new LS,RF=new DS(!0),IF=new LS(!0),Y_=t=>t,em=t=>Reflect.getPrototypeOf(t);function ef(t,e,n=!1,i=!1){t=t.__v_raw;const r=Pt(t),s=Pt(e);n||(Qr(e,s)&&ur(r,"get",e),ur(r,"get",s));const{has:a}=em(r),o=i?Y_:n?q_:fd;if(a.call(r,e))return o(t.get(e));if(a.call(r,s))return o(t.get(s));t!==r&&t.get(e)}function tf(t,e=!1){const n=this.__v_raw,i=Pt(n),r=Pt(t);return e||(Qr(t,r)&&ur(i,"has",t),ur(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function nf(t,e=!1){return t=t.__v_raw,!e&&ur(Pt(t),"iterate",cl),Reflect.get(t,"size",t)}function SE(t){t=Pt(t);const e=Pt(this);return em(e).has.call(e,t)||(e.add(t),ea(e,"add",t,t)),this}function kE(t,e){e=Pt(e);const n=Pt(this),{has:i,get:r}=em(n);let s=i.call(n,t);s||(t=Pt(t),s=i.call(n,t));const a=r.call(n,t);return n.set(t,e),s?Qr(e,a)&&ea(n,"set",t,e):ea(n,"add",t,e),this}function RE(t){const e=Pt(this),{has:n,get:i}=em(e);let r=n.call(e,t);r||(t=Pt(t),r=n.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return r&&ea(e,"delete",t,void 0),s}function IE(){const t=Pt(this),e=t.size!==0,n=t.clear();return e&&ea(t,"clear",void 0,void 0),n}function rf(t,e){return function(i,r){const s=this,a=s.__v_raw,o=Pt(a),l=e?Y_:t?q_:fd;return!t&&ur(o,"iterate",cl),a.forEach((u,c)=>i.call(r,l(u),l(c),s))}}function sf(t,e,n){return function(...i){const r=this.__v_raw,s=Pt(r),a=Ru(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=r[t](...i),c=n?Y_:e?q_:fd;return!e&&ur(s,"iterate",l?_y:cl),{next(){const{value:h,done:m}=u.next();return m?{value:h,done:m}:{value:o?[c(h[0]),c(h[1])]:c(h),done:m}},[Symbol.iterator](){return this}}}}function Sa(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function AF(){const t={get(s){return ef(this,s)},get size(){return nf(this)},has:tf,add:SE,set:kE,delete:RE,clear:IE,forEach:rf(!1,!1)},e={get(s){return ef(this,s,!1,!0)},get size(){return nf(this)},has:tf,add:SE,set:kE,delete:RE,clear:IE,forEach:rf(!1,!0)},n={get(s){return ef(this,s,!0)},get size(){return nf(this,!0)},has(s){return tf.call(this,s,!0)},add:Sa("add"),set:Sa("set"),delete:Sa("delete"),clear:Sa("clear"),forEach:rf(!0,!1)},i={get(s){return ef(this,s,!0,!0)},get size(){return nf(this,!0)},has(s){return tf.call(this,s,!0)},add:Sa("add"),set:Sa("set"),delete:Sa("delete"),clear:Sa("clear"),forEach:rf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=sf(s,!1,!1),n[s]=sf(s,!0,!1),e[s]=sf(s,!1,!0),i[s]=sf(s,!0,!0)}),[t,n,e,i]}const[MF,OF,PF,DF]=AF();function tm(t,e){const n=e?t?DF:PF:t?OF:MF;return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get($t(n,r)&&r in i?n:i,r,s)}const LF={get:tm(!1,!1)},FF={get:tm(!1,!0)},NF={get:tm(!0,!1)},$F={get:tm(!0,!0)},FS=new WeakMap,NS=new WeakMap,$S=new WeakMap,jS=new WeakMap;function jF(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function BF(t){return t.__v_skip||!Object.isExtensible(t)?0:jF(tF(t))}function Fr(t){return bl(t)?t:im(t,!1,SF,LF,FS)}function W_(t){return im(t,!1,RF,FF,NS)}function nm(t){return im(t,!0,kF,NF,$S)}function BS(t){return im(t,!0,IF,$F,jS)}function im(t,e,n,i,r){if(!en(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const a=BF(t);if(a===0)return t;const o=new Proxy(t,a===2?i:n);return r.set(t,o),o}function dl(t){return bl(t)?dl(t.__v_raw):!!(t&&t.__v_isReactive)}function bl(t){return!!(t&&t.__v_isReadonly)}function Bu(t){return!!(t&&t.__v_isShallow)}function rm(t){return t?!!t.__v_raw:!1}function Pt(t){const e=t&&t.__v_raw;return e?Pt(e):t}function K_(t){return Object.isExtensible(t)&&vS(t,"__v_skip",!0),t}const fd=t=>en(t)?Fr(t):t,q_=t=>en(t)?nm(t):t;class VS{constructor(e,n,i,r){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new vl(()=>e(this._value),()=>Au(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=Pt(this);return(!e._cacheable||e.effect.dirty)&&Qr(e._value,e._value=e.effect.run())&&Au(e,5),X_(e),e.effect._dirtyLevel>=2&&Au(e,3),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function VF(t,e,n=!1){let i,r;const s=ut(t);return s?(i=t,r=ri):(i=t.get,r=t.set),new VS(i,r,s||!r,n)}function X_(t){var e;Qa&&ul&&(t=Pt(t),IS(ul,(e=t.dep)!=null?e:t.dep=MS(()=>t.dep=void 0,t instanceof VS?t:void 0)))}function Au(t,e=5,n,i){t=Pt(t);const r=t.dep;r&&AS(r,e)}function Hn(t){return!!(t&&t.__v_isRef===!0)}function Me(t){return GS(t,!1)}function sm(t){return GS(t,!0)}function GS(t,e){return Hn(t)?t:new GF(t,e)}class GF{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Pt(e),this._value=n?e:fd(e)}get value(){return X_(this),this._value}set value(e){const n=this.__v_isShallow||Bu(e)||bl(e);e=n?e:Pt(e),Qr(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:fd(e),Au(this,5))}}function zS(t){Au(t,5)}function te(t){return Hn(t)?t.value:t}function US(t){return ut(t)?t():te(t)}const zF={get:(t,e,n)=>te(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Hn(r)&&!Hn(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function am(t){return dl(t)?t:new Proxy(t,zF)}class UF{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:i}=e(()=>X_(this),()=>Au(this));this._get=n,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function Z_(t){return new UF(t)}function HS(t){const e=Ye(t)?new Array(t.length):{};for(const n in t)e[n]=YS(t,n);return e}class HF{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return EF(Pt(this._object),this._key)}}class YF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function wl(t,e,n){return Hn(t)?t:ut(t)?new YF(t):en(t)&&arguments.length>1?YS(t,e,n):Me(t)}function YS(t,e,n){const i=t[e];return Hn(i)?i:new HF(t,e,n)}const WS={GET:"get",HAS:"has",ITERATE:"iterate"},KS={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qS(t,e){}const XS={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},WF={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function bs(t,e,n,i){try{return i?t(...i):t()}catch(r){bo(r,e,n)}}function or(t,e,n,i){if(ut(t)){const r=bs(t,e,n,i);return r&&V_(r)&&r.catch(s=>{bo(s,e,n)}),r}if(Ye(t)){const r=[];for(let s=0;s<t.length;s++)r.push(or(t[s],e,n,i));return r}}function bo(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){_o(),bs(l,null,10,[t,a,o]),vo();return}}KF(t,n,r,i)}function KF(t,e,n,i=!0){console.error(t)}let pd=!1,vy=!1;const Vi=[];let hs=0;const Mu=[];let ja=null,Qo=0;const ZS=Promise.resolve();let J_=null;function vi(t){const e=J_||ZS;return t?e.then(this?t.bind(this):t):e}function qF(t){let e=hs+1,n=Vi.length;for(;e<n;){const i=e+n>>>1,r=Vi[i],s=gd(r);s<t||s===t&&r.pre?e=i+1:n=i}return e}function om(t){(!Vi.length||!Vi.includes(t,pd&&t.allowRecurse?hs+1:hs))&&(t.id==null?Vi.push(t):Vi.splice(qF(t.id),0,t),JS())}function JS(){!pd&&!vy&&(vy=!0,J_=ZS.then(QS))}function XF(t){const e=Vi.indexOf(t);e>hs&&Vi.splice(e,1)}function md(t){Ye(t)?Mu.push(...t):(!ja||!ja.includes(t,t.allowRecurse?Qo+1:Qo))&&Mu.push(t),JS()}function AE(t,e,n=pd?hs+1:0){for(;n<Vi.length;n++){const i=Vi[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;Vi.splice(n,1),n--,i()}}}function ep(t){if(Mu.length){const e=[...new Set(Mu)].sort((n,i)=>gd(n)-gd(i));if(Mu.length=0,ja){ja.push(...e);return}for(ja=e,Qo=0;Qo<ja.length;Qo++){const n=ja[Qo];n.active!==!1&&n()}ja=null,Qo=0}}const gd=t=>t.id==null?1/0:t.id,ZF=(t,e)=>{const n=gd(t)-gd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function QS(t){vy=!1,pd=!0,Vi.sort(ZF);try{for(hs=0;hs<Vi.length;hs++){const e=Vi[hs];e&&e.active!==!1&&bs(e,null,14)}}finally{hs=0,Vi.length=0,ep(),pd=!1,J_=null,(Vi.length||Mu.length)&&QS()}}let mu,af=[];function ek(t,e){var n,i;mu=t,mu?(mu.enabled=!0,af.forEach(({event:r,args:s})=>mu.emit(r,...s)),af=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{ek(s,e)}),setTimeout(()=>{mu||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,af=[])},3e3)):af=[]}function JF(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||jt;let r=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:m}=i[c]||jt;m&&(r=n.map(g=>Tt(g)?g.trim():g)),h&&(r=n.map(Zf))}let o,l=i[o=ll(e)]||i[o=ll(yn(e))];!l&&s&&(l=i[o=ll(yr(e))]),l&&or(l,t,6,r);const u=i[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,or(u,t,6,r)}}function tk(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let a={},o=!1;if(!ut(t)){const l=u=>{const c=tk(u,e,!0);c&&(o=!0,Ft(a,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(en(t)&&i.set(t,null),null):(Ye(s)?s.forEach(l=>a[l]=null):Ft(a,s),en(t)&&i.set(t,a),a)}function lm(t,e){return!t||!Ml(e)?!1:(e=e.slice(2).replace(/Once$/,""),$t(t,e[0].toLowerCase()+e.slice(1))||$t(t,yr(e))||$t(t,e))}let si=null,um=null;function yd(t){const e=si;return si=t,um=t&&t.type.__scopeId||null,e}function qd(t){um=t}function Xd(){um=null}const nk=t=>pt;function pt(t,e=si,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&rp(-1);const s=yd(e);let a;try{a=t(...r)}finally{yd(s),i._d&&rp(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Nf(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:h,data:m,setupState:g,ctx:y,inheritAttrs:b}=t,w=yd(t);let E,x;try{if(n.shapeFlag&4){const T=r||i,C=T;E=pr(u.call(C,T,c,h,g,m,y)),x=o}else{const T=e;E=pr(T.length>1?T(h,{attrs:o,slots:a,emit:l}):T(h,null)),x=e.props?o:eN(o)}}catch(T){sd.length=0,bo(T,t,1),E=De(ti)}let _=E;if(x&&b!==!1){const T=Object.keys(x),{shapeFlag:C}=_;T.length&&C&7&&(s&&T.some(j_)&&(x=tN(x,s)),_=es(_,x,!1,!0))}return n.dirs&&(_=es(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),E=_,yd(w),E}function QF(t,e=!0){let n;for(let i=0;i<t.length;i++){const r=t[i];if(aa(r)){if(r.type!==ti||r.children==="v-if"){if(n)return;n=r}}else return}return n}const eN=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ml(n))&&((e||(e={}))[n]=t[n]);return e},tN=(t,e)=>{const n={};for(const i in t)(!j_(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function nN(t,e,n){const{props:i,children:r,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?ME(i,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const m=c[h];if(a[m]!==i[m]&&!lm(u,m))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?ME(i,a,u):!0:!!a;return!1}function ME(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!lm(n,s))return!0}return!1}function Q_({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const ev="components",iN="directives";function ze(t,e){return nv(ev,t,!0,e)||t}const ik=Symbol.for("v-ndc");function lc(t){return Tt(t)?nv(ev,t,!1)||t:t||ik}function tv(t){return nv(iN,t)}function nv(t,e,n=!0,i=!1){const r=si||ni;if(r){const s=r.type;if(t===ev){const o=Oy(s,!1);if(o&&(o===e||o===yn(e)||o===yo(yn(e))))return s}const a=OE(r[t]||s[t],e)||OE(r.appContext[t],e);return!a&&i?s:a}}function OE(t,e){return t&&(t[e]||t[yn(e)]||t[yo(yn(e))])}const by=t=>t.__isSuspense;let wy=0;const rN={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,s,a,o,l,u){if(t==null)sN(e,n,i,r,s,a,o,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}aN(t,e,n,i,r,a,o,l,u)}},hydrate:oN,create:iv,normalize:lN},rk=rN;function _d(t,e){const n=t.props&&t.props[e];ut(n)&&n()}function sN(t,e,n,i,r,s,a,o,l){const{p:u,o:{createElement:c}}=l,h=c("div"),m=t.suspense=iv(t,r,i,e,h,n,s,a,o,l);u(null,m.pendingBranch=t.ssContent,h,null,i,m,s,a),m.deps>0?(_d(t,"onPending"),_d(t,"onFallback"),u(null,t.ssFallback,e,n,i,null,s,a),Ou(m,t.ssFallback)):m.resolve(!1,!0)}function aN(t,e,n,i,r,s,a,o,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const m=e.ssContent,g=e.ssFallback,{activeBranch:y,pendingBranch:b,isInFallback:w,isHydrating:E}=h;if(b)h.pendingBranch=m,Hr(m,b)?(l(b,m,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0?h.resolve():w&&(E||(l(y,g,n,i,r,null,s,a,o),Ou(h,g)))):(h.pendingId=wy++,E?(h.isHydrating=!1,h.activeBranch=b):u(b,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),w?(l(null,m,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0?h.resolve():(l(y,g,n,i,r,null,s,a,o),Ou(h,g))):y&&Hr(m,y)?(l(y,m,n,i,r,h,s,a,o),h.resolve(!0)):(l(null,m,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0&&h.resolve()));else if(y&&Hr(m,y))l(y,m,n,i,r,h,s,a,o),Ou(h,m);else if(_d(e,"onPending"),h.pendingBranch=m,m.shapeFlag&512?h.pendingId=m.component.suspenseId:h.pendingId=wy++,l(null,m,h.hiddenContainer,null,r,h,s,a,o),h.deps<=0)h.resolve();else{const{timeout:x,pendingId:_}=h;x>0?setTimeout(()=>{h.pendingId===_&&h.fallback(g)},x):x===0&&h.fallback(g)}}function iv(t,e,n,i,r,s,a,o,l,u,c=!1){const{p:h,m,um:g,n:y,o:{parentNode:b,remove:w}}=u;let E;const x=uN(t);x&&e&&e.pendingBranch&&(E=e.pendingId,e.deps++);const _=t.props?Jf(t.props.timeout):void 0,T=s,C={vnode:t,parent:e,parentComponent:n,namespace:a,container:i,hiddenContainer:r,deps:0,pendingId:wy++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(k=!1,A=!1){const{vnode:L,activeBranch:R,pendingBranch:j,pendingId:U,effects:G,parentComponent:ne,container:W}=C;let F=!1;C.isHydrating?C.isHydrating=!1:k||(F=R&&j.transition&&j.transition.mode==="out-in",F&&(R.transition.afterLeave=()=>{U===C.pendingId&&(m(j,W,s===T?y(R):s,0),md(G))}),R&&(b(R.el)!==C.hiddenContainer&&(s=y(R)),g(R,ne,C,!0)),F||m(j,W,s,0)),Ou(C,j),C.pendingBranch=null,C.isInFallback=!1;let B=C.parent,N=!1;for(;B;){if(B.pendingBranch){B.effects.push(...G),N=!0;break}B=B.parent}!N&&!F&&md(G),C.effects=[],x&&e&&e.pendingBranch&&E===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),_d(L,"onResolve")},fallback(k){if(!C.pendingBranch)return;const{vnode:A,activeBranch:L,parentComponent:R,container:j,namespace:U}=C;_d(A,"onFallback");const G=y(L),ne=()=>{C.isInFallback&&(h(null,k,j,G,R,null,U,o,l),Ou(C,k))},W=k.transition&&k.transition.mode==="out-in";W&&(L.transition.afterLeave=ne),C.isInFallback=!0,g(L,R,null,!0),W||ne()},move(k,A,L){C.activeBranch&&m(C.activeBranch,k,A,L),C.container=k},next(){return C.activeBranch&&y(C.activeBranch)},registerDep(k,A,L){const R=!!C.pendingBranch;R&&C.deps++;const j=k.vnode.el;k.asyncDep.catch(U=>{bo(U,k,0)}).then(U=>{if(k.isUnmounted||C.isUnmounted||C.pendingId!==k.suspenseId)return;k.asyncResolved=!0;const{vnode:G}=k;Ay(k,U,!1),j&&(G.el=j);const ne=!j&&k.subTree.el;A(k,G,b(j||k.subTree.el),j?null:y(k.subTree),C,a,L),ne&&w(ne),Q_(k,G.el),R&&--C.deps===0&&C.resolve()})},unmount(k,A){C.isUnmounted=!0,C.activeBranch&&g(C.activeBranch,n,k,A),C.pendingBranch&&g(C.pendingBranch,n,k,A)}};return C}function oN(t,e,n,i,r,s,a,o,l){const u=e.suspense=iv(e,i,n,t.parentNode,document.createElement("div"),null,r,s,a,o,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,a);return u.deps===0&&u.resolve(!1,!0),c}function lN(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=PE(i?n.default:n),t.ssFallback=i?PE(n.fallback):De(ti)}function PE(t){let e;if(ut(t)){const n=Tl&&t._c;n&&(t._d=!1,ie()),t=t(),n&&(t._d=!0,e=rr,zk())}return Ye(t)&&(t=QF(t)),t=pr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function sk(t,e){e&&e.pendingBranch?Ye(t)?e.effects.push(...t):e.effects.push(t):md(t)}function Ou(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;n.el=r,i&&i.subTree===n&&(i.vnode.el=r,Q_(i,r))}function uN(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}function cm(t,e,n=ni,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{_o();const o=xl(n),l=or(e,n,t,a);return o(),vo(),l});return i?r.unshift(s):r.push(s),s}}const ca=t=>(e,n=ni)=>{(!nh||t==="sp")&&cm(t,(...i)=>e(...i),n)},dm=ca("bm"),xn=ca("m"),hm=ca("bu"),Zd=ca("u"),Jd=ca("bum"),ks=ca("um"),rv=ca("sp"),sv=ca("rtg"),av=ca("rtc");function ov(t,e=ni){cm("ec",t,e)}function ai(t,e){if(si===null)return t;const n=ih(si),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,a,o,l=jt]=e[r];s&&(ut(s)&&(s={mounted:s,updated:s}),s.deep&&Ua(a),i.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function ds(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];s&&(o.oldValue=s[a].value);let l=o.dir[i];l&&(_o(),or(l,n,8,[t.el,o,t,e]),vo())}}function Ut(t,e,n,i){let r;const s=n&&n[i];if(Ye(t)||Tt(t)){r=new Array(t.length);for(let a=0,o=t.length;a<o;a++)r[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s&&s[a])}else if(en(t))if(t[Symbol.iterator])r=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);r=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];r[o]=e(t[u],u,o,s&&s[o])}}else r=[];return n&&(n[i]=r),r}function yi(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(Ye(i))for(let r=0;r<i.length;r++)t[i[r].name]=i[r].fn;else i&&(t[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return t}/*! #__NO_SIDE_EFFECTS__ */function _n(t,e){return ut(t)?Ft({name:t.name},e,{setup:t}):t}const hl=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function ak(t){ut(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,timeout:s,suspensible:a=!0,onError:o}=t;let l=null,u,c=0;const h=()=>(c++,l=null,m()),m=()=>{let g;return l||(g=l=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),o)return new Promise((b,w)=>{o(y,()=>b(h()),()=>w(y),c+1)});throw y}).then(y=>g!==l&&l?l:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),u=y,y)))};return _n({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return u},setup(){const g=ni;if(u)return()=>_0(u,g);const y=x=>{l=null,bo(x,g,13,!i)};if(a&&g.suspense||nh)return m().then(x=>()=>_0(x,g)).catch(x=>(y(x),()=>i?De(i,{error:x}):null));const b=Me(!1),w=Me(),E=Me(!!r);return r&&setTimeout(()=>{E.value=!1},r),s!=null&&setTimeout(()=>{if(!b.value&&!w.value){const x=new Error(`Async component timed out after ${s}ms.`);y(x),w.value=x}},s),m().then(()=>{b.value=!0,g.parent&&eh(g.parent.vnode)&&(g.parent.effect.dirty=!0,om(g.parent.update))}).catch(x=>{y(x),w.value=x}),()=>{if(b.value&&u)return _0(u,g);if(w.value&&i)return De(i,{error:w.value});if(n&&!E.value)return De(n)}}})}function _0(t,e){const{ref:n,props:i,children:r,ce:s}=e.vnode,a=De(t,i,r);return a.ref=n,a.ce=s,delete e.vnode.ce,a}function Ue(t,e,n={},i,r){if(si.isCE||si.parent&&hl(si.parent)&&si.parent.isCE)return e!=="default"&&(n.name=e),De("slot",n,i&&i());let s=t[e];s&&s._c&&(s._d=!1),ie();const a=s&&ok(s(n)),o=et(Ze,{key:n.key||a&&a.key||`_${e}`},a||(i?i():[]),a&&t._===1?64:-2);return!r&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function ok(t){return t.some(e=>aa(e)?!(e.type===ti||e.type===Ze&&!ok(e.children)):!0)?t:null}function lk(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:ll(i)]=t[i];return n}const Ey=t=>t?qk(t)?ih(t):Ey(t.parent):null,id=Ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ey(t.parent),$root:t=>Ey(t.root),$emit:t=>t.emit,$options:t=>lv(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,om(t.update)}),$nextTick:t=>t.n||(t.n=vi.bind(t.proxy)),$watch:t=>kN.bind(t)}),v0=(t,e)=>t!==jt&&!t.__isScriptSetup&&$t(t,e),Ty={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const g=a[e];if(g!==void 0)switch(g){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(v0(i,e))return a[e]=1,i[e];if(r!==jt&&$t(r,e))return a[e]=2,r[e];if((u=t.propsOptions[0])&&$t(u,e))return a[e]=3,s[e];if(n!==jt&&$t(n,e))return a[e]=4,n[e];xy&&(a[e]=0)}}const c=id[e];let h,m;if(c)return e==="$attrs"&&ur(t.attrs,"get",""),c(t);if((h=o.__cssModules)&&(h=h[e]))return h;if(n!==jt&&$t(n,e))return a[e]=4,n[e];if(m=l.config.globalProperties,$t(m,e))return m[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return v0(r,e)?(r[e]=n,!0):i!==jt&&$t(i,e)?(i[e]=n,!0):$t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},a){let o;return!!n[a]||t!==jt&&$t(t,a)||v0(e,a)||(o=s[0])&&$t(o,a)||$t(i,a)||$t(id,a)||$t(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:$t(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},cN=Ft({},Ty,{get(t,e){if(e!==Symbol.unscopables)return Ty.get(t,e,t)},has(t,e){return e[0]!=="_"&&!aF(e)}});function uk(){return null}function ck(){return null}function dk(t){}function hk(t){}function fk(){return null}function pk(){}function mk(t,e){return null}function da(){return yk().slots}function gk(){return yk().attrs}function yk(){const t=qi();return t.setupContext||(t.setupContext=Qk(t))}function vd(t){return Ye(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function _k(t,e){const n=vd(t);for(const i in e){if(i.startsWith("__skip"))continue;let r=n[i];r?Ye(r)||ut(r)?r=n[i]={type:r,default:e[i]}:r.default=e[i]:r===null&&(r=n[i]={default:e[i]}),r&&e[`__skip_${i}`]&&(r.skipFactory=!0)}return n}function vk(t,e){return!t||!e?t||e:Ye(t)&&Ye(e)?t.concat(e):Ft({},vd(t),vd(e))}function bk(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function wk(t){const e=qi();let n=t();return Iy(),V_(n)&&(n=n.catch(i=>{throw xl(e),i})),[n,()=>xl(e)]}let xy=!0;function dN(t){const e=lv(t),n=t.proxy,i=t.ctx;xy=!1,e.beforeCreate&&DE(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:h,mounted:m,beforeUpdate:g,updated:y,activated:b,deactivated:w,beforeDestroy:E,beforeUnmount:x,destroyed:_,unmounted:T,render:C,renderTracked:k,renderTriggered:A,errorCaptured:L,serverPrefetch:R,expose:j,inheritAttrs:U,components:G,directives:ne,filters:W}=e;if(u&&hN(u,i,null),a)for(const N in a){const Q=a[N];ut(Q)&&(i[N]=Q.bind(n))}if(r){const N=r.call(n,n);en(N)&&(t.data=Fr(N))}if(xy=!0,s)for(const N in s){const Q=s[N],_e=ut(Q)?Q.bind(n,n):ut(Q.get)?Q.get.bind(n,n):ri,be=!ut(Q)&&ut(Q.set)?Q.set.bind(n):ri,xe=Se({get:_e,set:be});Object.defineProperty(i,N,{enumerable:!0,configurable:!0,get:()=>xe.value,set:K=>xe.value=K})}if(o)for(const N in o)Ek(o[N],i,n,N);if(l){const N=ut(l)?l.call(n):l;Reflect.ownKeys(N).forEach(Q=>{uv(Q,N[Q])})}c&&DE(c,t,"c");function B(N,Q){Ye(Q)?Q.forEach(_e=>N(_e.bind(n))):Q&&N(Q.bind(n))}if(B(dm,h),B(xn,m),B(hm,g),B(Zd,y),B(_v,b),B(vv,w),B(ov,L),B(av,k),B(sv,A),B(Jd,x),B(ks,T),B(rv,R),Ye(j))if(j.length){const N=t.exposed||(t.exposed={});j.forEach(Q=>{Object.defineProperty(N,Q,{get:()=>n[Q],set:_e=>n[Q]=_e})})}else t.exposed||(t.exposed={});C&&t.render===ri&&(t.render=C),U!=null&&(t.inheritAttrs=U),G&&(t.components=G),ne&&(t.directives=ne)}function hN(t,e,n=ri){Ye(t)&&(t=Cy(t));for(const i in t){const r=t[i];let s;en(r)?"default"in r?s=fl(r.from||i,r.default,!0):s=fl(r.from||i):s=fl(r),Hn(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function DE(t,e,n){or(Ye(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ek(t,e,n,i){const r=i.includes(".")?Nk(n,i):()=>n[i];if(Tt(t)){const s=e[t];ut(s)&&Tn(r,s)}else if(ut(t))Tn(r,t.bind(n));else if(en(t))if(Ye(t))t.forEach(s=>Ek(s,e,n,i));else{const s=ut(t.handler)?t.handler.bind(n):e[t.handler];ut(s)&&Tn(r,s,t)}}function lv(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(u=>tp(l,u,a,!0)),tp(l,e,a)),en(e)&&s.set(e,l),l}function tp(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&tp(t,s,n,!0),r&&r.forEach(a=>tp(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const o=fN[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const fN={data:LE,props:FE,emits:FE,methods:Jc,computed:Jc,beforeCreate:Hi,created:Hi,beforeMount:Hi,mounted:Hi,beforeUpdate:Hi,updated:Hi,beforeDestroy:Hi,beforeUnmount:Hi,destroyed:Hi,unmounted:Hi,activated:Hi,deactivated:Hi,errorCaptured:Hi,serverPrefetch:Hi,components:Jc,directives:Jc,watch:mN,provide:LE,inject:pN};function LE(t,e){return e?t?function(){return Ft(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function pN(t,e){return Jc(Cy(t),Cy(e))}function Cy(t){if(Ye(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Hi(t,e){return t?[...new Set([].concat(t,e))]:e}function Jc(t,e){return t?Ft(Object.create(null),t,e):e}function FE(t,e){return t?Ye(t)&&Ye(e)?[...new Set([...t,...e])]:Ft(Object.create(null),vd(t),vd(e??{})):e}function mN(t,e){if(!t)return e;if(!e)return t;const n=Ft(Object.create(null),t);for(const i in e)n[i]=Hi(t[i],e[i]);return n}function Tk(){return{app:null,config:{isNativeTag:Ff,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gN=0;function yN(t,e){return function(i,r=null){ut(i)||(i=Ft({},i)),r!=null&&!en(r)&&(r=null);const s=Tk(),a=new WeakSet;let o=!1;const l=s.app={_uid:gN++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Cv,get config(){return s.config},set config(u){},use(u,...c){return a.has(u)||(u&&ut(u.install)?(a.add(u),u.install(l,...c)):ut(u)&&(a.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,h){if(!o){const m=De(i,r);return m.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),c&&e?e(m,u):t(m,u,h),o=!0,l._container=u,u.__vue_app__=l,ih(m.component)}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=Pu;Pu=l;try{return u()}finally{Pu=c}}};return l}}let Pu=null;function uv(t,e){if(ni){let n=ni.provides;const i=ni.parent&&ni.parent.provides;i===n&&(n=ni.provides=Object.create(i)),n[t]=e}}function fl(t,e,n=!1){const i=ni||si;if(i||Pu){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Pu._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ut(e)?e.call(i&&i.proxy):e}}function xk(){return!!(ni||si||Pu)}const Ck={},Sk=()=>Object.create(Ck),kk=t=>Object.getPrototypeOf(t)===Ck;function _N(t,e,n,i=!1){const r={},s=Sk();t.propsDefaults=Object.create(null),Rk(t,e,r,s);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=i?r:W_(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function vN(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:a}}=t,o=Pt(r),[l]=t.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let m=c[h];if(lm(t.emitsOptions,m))continue;const g=e[m];if(l)if($t(s,m))g!==s[m]&&(s[m]=g,u=!0);else{const y=yn(m);r[y]=Sy(l,o,y,g,t,!1)}else g!==s[m]&&(s[m]=g,u=!0)}}}else{Rk(t,e,r,s)&&(u=!0);let c;for(const h in o)(!e||!$t(e,h)&&((c=yr(h))===h||!$t(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(r[h]=Sy(l,o,h,void 0,t,!0)):delete r[h]);if(s!==o)for(const h in s)(!e||!$t(e,h))&&(delete s[h],u=!0)}u&&ea(t.attrs,"set","")}function Rk(t,e,n,i){const[r,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Ja(l))continue;const u=e[l];let c;r&&$t(r,c=yn(l))?!s||!s.includes(c)?n[c]=u:(o||(o={}))[c]=u:lm(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(s){const l=Pt(n),u=o||jt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=Sy(r,l,h,u[h],t,!$t(u,h))}}return a}function Sy(t,e,n,i,r,s){const a=t[n];if(a!=null){const o=$t(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ut(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const c=xl(r);i=u[n]=l.call(null,e),c()}}else i=l}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===yr(n))&&(i=!0))}return i}function Ik(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const s=t.props,a={},o=[];let l=!1;if(!ut(t)){const c=h=>{l=!0;const[m,g]=Ik(h,e,!0);Ft(a,m),g&&o.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return en(t)&&i.set(t,ku),ku;if(Ye(s))for(let c=0;c<s.length;c++){const h=yn(s[c]);NE(h)&&(a[h]=jt)}else if(s)for(const c in s){const h=yn(c);if(NE(h)){const m=s[c],g=a[h]=Ye(m)||ut(m)?{type:m}:Ft({},m);if(g){const y=BE(Boolean,g.type),b=BE(String,g.type);g[0]=y>-1,g[1]=b<0||y<b,(y>-1||$t(g,"default"))&&o.push(h)}}}const u=[a,o];return en(t)&&i.set(t,u),u}function NE(t){return t[0]!=="$"&&!Ja(t)}function $E(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function jE(t,e){return $E(t)===$E(e)}function BE(t,e){return Ye(e)?e.findIndex(n=>jE(n,t)):ut(e)&&jE(e,t)?0:-1}const Ak=t=>t[0]==="_"||t==="$stable",cv=t=>Ye(t)?t.map(pr):[pr(t)],bN=(t,e,n)=>{if(e._n)return e;const i=pt((...r)=>cv(e(...r)),n);return i._c=!1,i},Mk=(t,e,n)=>{const i=t._ctx;for(const r in t){if(Ak(r))continue;const s=t[r];if(ut(s))e[r]=bN(r,s,i);else if(s!=null){const a=cv(s);e[r]=()=>a}}},Ok=(t,e)=>{const n=cv(e);t.slots.default=()=>n},wN=(t,e)=>{const n=t.slots=Sk();if(t.vnode.shapeFlag&32){const i=e._;i?(Ft(n,e),vS(n,"_",i,!0)):Mk(e,n)}else e&&Ok(t,e)},EN=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,a=jt;if(i.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:(Ft(r,e),!n&&o===1&&delete r._):(s=!e.$stable,Mk(e,r)),a=e}else e&&(Ok(t,e),a={default:1});if(s)for(const o in r)!Ak(o)&&a[o]==null&&delete r[o]};function np(t,e,n,i,r=!1){if(Ye(t)){t.forEach((m,g)=>np(m,e&&(Ye(e)?e[g]:e),n,i,r));return}if(hl(i)&&!r)return;const s=i.shapeFlag&4?ih(i.component):i.el,a=r?null:s,{i:o,r:l}=t,u=e&&e.r,c=o.refs===jt?o.refs={}:o.refs,h=o.setupState;if(u!=null&&u!==l&&(Tt(u)?(c[u]=null,$t(h,u)&&(h[u]=null)):Hn(u)&&(u.value=null)),ut(l))bs(l,o,12,[a,c]);else{const m=Tt(l),g=Hn(l);if(m||g){const y=()=>{if(t.f){const b=m?$t(h,l)?h[l]:c[l]:l.value;r?Ye(b)&&B_(b,s):Ye(b)?b.includes(s)||b.push(s):m?(c[l]=[s],$t(h,l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else m?(c[l]=a,$t(h,l)&&(h[l]=a)):g&&(l.value=a,t.k&&(c[t.k]=a))};a?(y.id=-1,fi(y,n)):y()}}}let VE=!1;const tu=()=>{VE||(console.error("Hydration completed but contains mismatches."),VE=!0)},TN=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",xN=t=>t.namespaceURI.includes("MathML"),of=t=>{if(TN(t))return"svg";if(xN(t))return"mathml"},lf=t=>t.nodeType===8;function CN(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:u}}=t,c=(_,T)=>{if(!T.hasChildNodes()){n(null,_,T),ep(),T._vnode=_;return}h(T.firstChild,_,null,null,null),ep(),T._vnode=_},h=(_,T,C,k,A,L=!1)=>{L=L||!!T.dynamicChildren;const R=lf(_)&&_.data==="[",j=()=>b(_,T,C,k,A,R),{type:U,ref:G,shapeFlag:ne,patchFlag:W}=T;let F=_.nodeType;T.el=_,W===-2&&(L=!1,T.dynamicChildren=null);let B=null;switch(U){case sa:F!==3?T.children===""?(l(T.el=r(""),a(_),_),B=_):B=j():(_.data!==T.children&&(tu(),_.data=T.children),B=s(_));break;case ti:x(_)?(B=s(_),E(T.el=_.content.firstChild,_,C)):F!==8||R?B=j():B=s(_);break;case eo:if(R&&(_=s(_),F=_.nodeType),F===1||F===3){B=_;const N=!T.children.length;for(let Q=0;Q<T.staticCount;Q++)N&&(T.children+=B.nodeType===1?B.outerHTML:B.data),Q===T.staticCount-1&&(T.anchor=B),B=s(B);return R?s(B):B}else j();break;case Ze:R?B=y(_,T,C,k,A,L):B=j();break;default:if(ne&1)(F!==1||T.type.toLowerCase()!==_.tagName.toLowerCase())&&!x(_)?B=j():B=m(_,T,C,k,A,L);else if(ne&6){T.slotScopeIds=A;const N=a(_);if(R?B=w(_):lf(_)&&_.data==="teleport start"?B=w(_,_.data,"teleport end"):B=s(_),e(T,N,null,C,k,of(N),L),hl(T)){let Q;R?(Q=De(Ze),Q.anchor=B?B.previousSibling:N.lastChild):Q=_.nodeType===3?Ii(""):De("div"),Q.el=_,T.component.subTree=Q}}else ne&64?F!==8?B=j():B=T.type.hydrate(_,T,C,k,A,L,t,g):ne&128&&(B=T.type.hydrate(_,T,C,k,of(a(_)),A,L,t,h))}return G!=null&&np(G,null,k,T),B},m=(_,T,C,k,A,L)=>{L=L||!!T.dynamicChildren;const{type:R,props:j,patchFlag:U,shapeFlag:G,dirs:ne,transition:W}=T,F=R==="input"||R==="option";if(F||U!==-1){ne&&ds(T,null,C,"created");let B=!1;if(x(_)){B=Dk(k,W)&&C&&C.vnode.props&&C.vnode.props.appear;const Q=_.content.firstChild;B&&W.beforeEnter(Q),E(Q,_,C),T.el=_=Q}if(G&16&&!(j&&(j.innerHTML||j.textContent))){let Q=g(_.firstChild,T,_,C,k,A,L);for(;Q;){tu();const _e=Q;Q=Q.nextSibling,o(_e)}}else G&8&&_.textContent!==T.children&&(tu(),_.textContent=T.children);if(j)if(F||!L||U&48)for(const Q in j)(F&&(Q.endsWith("value")||Q==="indeterminate")||Ml(Q)&&!Ja(Q)||Q[0]===".")&&i(_,Q,null,j[Q],void 0,void 0,C);else j.onClick&&i(_,"onClick",null,j.onClick,void 0,void 0,C);let N;(N=j&&j.onVnodeBeforeMount)&&er(N,C,T),ne&&ds(T,null,C,"beforeMount"),((N=j&&j.onVnodeMounted)||ne||B)&&sk(()=>{N&&er(N,C,T),B&&W.enter(_),ne&&ds(T,null,C,"mounted")},k)}return _.nextSibling},g=(_,T,C,k,A,L,R)=>{R=R||!!T.dynamicChildren;const j=T.children,U=j.length;for(let G=0;G<U;G++){const ne=R?j[G]:j[G]=pr(j[G]);_?_=h(_,ne,k,A,L,R):ne.type===sa&&!ne.children?l(ne.el=r(""),C):(tu(),n(null,ne,C,null,k,A,of(C),L))}return _},y=(_,T,C,k,A,L)=>{const{slotScopeIds:R}=T;R&&(A=A?A.concat(R):R);const j=a(_),U=g(s(_),T,j,C,k,A,L);return U&&lf(U)&&U.data==="]"?s(T.anchor=U):(tu(),l(T.anchor=u("]"),j,U),U)},b=(_,T,C,k,A,L)=>{if(tu(),T.el=null,L){const U=w(_);for(;;){const G=s(_);if(G&&G!==U)o(G);else break}}const R=s(_),j=a(_);return o(_),n(null,T,j,R,C,k,of(j),A),R},w=(_,T="[",C="]")=>{let k=0;for(;_;)if(_=s(_),_&&lf(_)&&(_.data===T&&k++,_.data===C)){if(k===0)return s(_);k--}return _},E=(_,T,C)=>{const k=T.parentNode;k&&k.replaceChild(_,T);let A=C;for(;A;)A.vnode.el===T&&(A.vnode.el=A.subTree.el=_),A=A.parent},x=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[c,h]}const fi=sk;function dv(t){return Pk(t)}function hv(t){return Pk(t,CN)}function Pk(t,e){const n=bS();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:m,setScopeId:g=ri,insertStaticContent:y}=t,b=(D,M,z,J=null,he=null,Y=null,ue=void 0,P=null,$=!!M.dynamicChildren)=>{if(D===M)return;D&&!Hr(D,M)&&(J=q(D),K(D,he,Y,!0),D=null),M.patchFlag===-2&&($=!1,M.dynamicChildren=null);const{type:X,ref:se,shapeFlag:Ie}=M;switch(X){case sa:w(D,M,z,J);break;case ti:E(D,M,z,J);break;case eo:D==null&&x(M,z,J,ue);break;case Ze:G(D,M,z,J,he,Y,ue,P,$);break;default:Ie&1?C(D,M,z,J,he,Y,ue,P,$):Ie&6?ne(D,M,z,J,he,Y,ue,P,$):(Ie&64||Ie&128)&&X.process(D,M,z,J,he,Y,ue,P,$,de)}se!=null&&he&&np(se,D&&D.ref,Y,M||D,!M)},w=(D,M,z,J)=>{if(D==null)i(M.el=o(M.children),z,J);else{const he=M.el=D.el;M.children!==D.children&&u(he,M.children)}},E=(D,M,z,J)=>{D==null?i(M.el=l(M.children||""),z,J):M.el=D.el},x=(D,M,z,J)=>{[D.el,D.anchor]=y(D.children,M,z,J,D.el,D.anchor)},_=({el:D,anchor:M},z,J)=>{let he;for(;D&&D!==M;)he=m(D),i(D,z,J),D=he;i(M,z,J)},T=({el:D,anchor:M})=>{let z;for(;D&&D!==M;)z=m(D),r(D),D=z;r(M)},C=(D,M,z,J,he,Y,ue,P,$)=>{M.type==="svg"?ue="svg":M.type==="math"&&(ue="mathml"),D==null?k(M,z,J,he,Y,ue,P,$):R(D,M,he,Y,ue,P,$)},k=(D,M,z,J,he,Y,ue,P)=>{let $,X;const{props:se,shapeFlag:Ie,transition:we,dirs:ae}=D;if($=D.el=a(D.type,Y,se&&se.is,se),Ie&8?c($,D.children):Ie&16&&L(D.children,$,null,J,he,b0(D,Y),ue,P),ae&&ds(D,null,J,"created"),A($,D,D.scopeId,ue,J),se){for(const Le in se)Le!=="value"&&!Ja(Le)&&s($,Le,null,se[Le],Y,D.children,J,he,Ee);"value"in se&&s($,"value",null,se.value,Y),(X=se.onVnodeBeforeMount)&&er(X,J,D)}ae&&ds(D,null,J,"beforeMount");const ce=Dk(he,we);ce&&we.beforeEnter($),i($,M,z),((X=se&&se.onVnodeMounted)||ce||ae)&&fi(()=>{X&&er(X,J,D),ce&&we.enter($),ae&&ds(D,null,J,"mounted")},he)},A=(D,M,z,J,he)=>{if(z&&g(D,z),J)for(let Y=0;Y<J.length;Y++)g(D,J[Y]);if(he){let Y=he.subTree;if(M===Y){const ue=he.vnode;A(D,ue,ue.scopeId,ue.slotScopeIds,he.parent)}}},L=(D,M,z,J,he,Y,ue,P,$=0)=>{for(let X=$;X<D.length;X++){const se=D[X]=P?Va(D[X]):pr(D[X]);b(null,se,M,z,J,he,Y,ue,P)}},R=(D,M,z,J,he,Y,ue)=>{const P=M.el=D.el;let{patchFlag:$,dynamicChildren:X,dirs:se}=M;$|=D.patchFlag&16;const Ie=D.props||jt,we=M.props||jt;let ae;if(z&&Uo(z,!1),(ae=we.onVnodeBeforeUpdate)&&er(ae,z,M,D),se&&ds(M,D,z,"beforeUpdate"),z&&Uo(z,!0),X?j(D.dynamicChildren,X,P,z,J,b0(M,he),Y):ue||Q(D,M,P,null,z,J,b0(M,he),Y,!1),$>0){if($&16)U(P,M,Ie,we,z,J,he);else if($&2&&Ie.class!==we.class&&s(P,"class",null,we.class,he),$&4&&s(P,"style",Ie.style,we.style,he),$&8){const ce=M.dynamicProps;for(let Le=0;Le<ce.length;Le++){const je=ce[Le],wt=Ie[je],tn=we[je];(tn!==wt||je==="value")&&s(P,je,wt,tn,he,D.children,z,J,Ee)}}$&1&&D.children!==M.children&&c(P,M.children)}else!ue&&X==null&&U(P,M,Ie,we,z,J,he);((ae=we.onVnodeUpdated)||se)&&fi(()=>{ae&&er(ae,z,M,D),se&&ds(M,D,z,"updated")},J)},j=(D,M,z,J,he,Y,ue)=>{for(let P=0;P<M.length;P++){const $=D[P],X=M[P],se=$.el&&($.type===Ze||!Hr($,X)||$.shapeFlag&70)?h($.el):z;b($,X,se,null,J,he,Y,ue,!0)}},U=(D,M,z,J,he,Y,ue)=>{if(z!==J){if(z!==jt)for(const P in z)!Ja(P)&&!(P in J)&&s(D,P,z[P],null,ue,M.children,he,Y,Ee);for(const P in J){if(Ja(P))continue;const $=J[P],X=z[P];$!==X&&P!=="value"&&s(D,P,X,$,ue,M.children,he,Y,Ee)}"value"in J&&s(D,"value",z.value,J.value,ue)}},G=(D,M,z,J,he,Y,ue,P,$)=>{const X=M.el=D?D.el:o(""),se=M.anchor=D?D.anchor:o("");let{patchFlag:Ie,dynamicChildren:we,slotScopeIds:ae}=M;ae&&(P=P?P.concat(ae):ae),D==null?(i(X,z,J),i(se,z,J),L(M.children||[],z,se,he,Y,ue,P,$)):Ie>0&&Ie&64&&we&&D.dynamicChildren?(j(D.dynamicChildren,we,z,he,Y,ue,P),(M.key!=null||he&&M===he.subTree)&&fv(D,M,!0)):Q(D,M,z,se,he,Y,ue,P,$)},ne=(D,M,z,J,he,Y,ue,P,$)=>{M.slotScopeIds=P,D==null?M.shapeFlag&512?he.ctx.activate(M,z,J,ue,$):W(M,z,J,he,Y,ue,$):F(D,M,$)},W=(D,M,z,J,he,Y,ue)=>{const P=D.component=Kk(D,J,he);if(eh(D)&&(P.ctx.renderer=de),Xk(P),P.asyncDep){if(he&&he.registerDep(P,B,ue),!D.el){const $=P.subTree=De(ti);E(null,$,M,z)}}else B(P,D,M,z,he,Y,ue)},F=(D,M,z)=>{const J=M.component=D.component;if(nN(D,M,z))if(J.asyncDep&&!J.asyncResolved){N(J,M,z);return}else J.next=M,XF(J.update),J.effect.dirty=!0,J.update();else M.el=D.el,J.vnode=M},B=(D,M,z,J,he,Y,ue)=>{const P=()=>{if(D.isMounted){let{next:se,bu:Ie,u:we,parent:ae,vnode:ce}=D;{const vn=Lk(D);if(vn){se&&(se.el=ce.el,N(D,se,ue)),vn.asyncDep.then(()=>{D.isUnmounted||P()});return}}let Le=se,je;Uo(D,!1),se?(se.el=ce.el,N(D,se,ue)):se=ce,Ie&&Iu(Ie),(je=se.props&&se.props.onVnodeBeforeUpdate)&&er(je,ae,se,ce),Uo(D,!0);const wt=Nf(D),tn=D.subTree;D.subTree=wt,b(tn,wt,h(tn.el),q(tn),D,he,Y),se.el=wt.el,Le===null&&Q_(D,wt.el),we&&fi(we,he),(je=se.props&&se.props.onVnodeUpdated)&&fi(()=>er(je,ae,se,ce),he)}else{let se;const{el:Ie,props:we}=M,{bm:ae,m:ce,parent:Le}=D,je=hl(M);if(Uo(D,!1),ae&&Iu(ae),!je&&(se=we&&we.onVnodeBeforeMount)&&er(se,Le,M),Uo(D,!0),Ie&&H){const wt=()=>{D.subTree=Nf(D),H(Ie,D.subTree,D,he,null)};je?M.type.__asyncLoader().then(()=>!D.isUnmounted&&wt()):wt()}else{const wt=D.subTree=Nf(D);b(null,wt,z,J,D,he,Y),M.el=wt.el}if(ce&&fi(ce,he),!je&&(se=we&&we.onVnodeMounted)){const wt=M;fi(()=>er(se,Le,wt),he)}(M.shapeFlag&256||Le&&hl(Le.vnode)&&Le.vnode.shapeFlag&256)&&D.a&&fi(D.a,he),D.isMounted=!0,M=z=J=null}},$=D.effect=new vl(P,ri,()=>om(X),D.scope),X=D.update=()=>{$.dirty&&$.run()};X.id=D.uid,Uo(D,!0),X()},N=(D,M,z)=>{M.component=D;const J=D.vnode.props;D.vnode=M,D.next=null,vN(D,M.props,J,z),EN(D,M.children,z),_o(),AE(D),vo()},Q=(D,M,z,J,he,Y,ue,P,$=!1)=>{const X=D&&D.children,se=D?D.shapeFlag:0,Ie=M.children,{patchFlag:we,shapeFlag:ae}=M;if(we>0){if(we&128){be(X,Ie,z,J,he,Y,ue,P,$);return}else if(we&256){_e(X,Ie,z,J,he,Y,ue,P,$);return}}ae&8?(se&16&&Ee(X,he,Y),Ie!==X&&c(z,Ie)):se&16?ae&16?be(X,Ie,z,J,he,Y,ue,P,$):Ee(X,he,Y,!0):(se&8&&c(z,""),ae&16&&L(Ie,z,J,he,Y,ue,P,$))},_e=(D,M,z,J,he,Y,ue,P,$)=>{D=D||ku,M=M||ku;const X=D.length,se=M.length,Ie=Math.min(X,se);let we;for(we=0;we<Ie;we++){const ae=M[we]=$?Va(M[we]):pr(M[we]);b(D[we],ae,z,null,he,Y,ue,P,$)}X>se?Ee(D,he,Y,!0,!1,Ie):L(M,z,J,he,Y,ue,P,$,Ie)},be=(D,M,z,J,he,Y,ue,P,$)=>{let X=0;const se=M.length;let Ie=D.length-1,we=se-1;for(;X<=Ie&&X<=we;){const ae=D[X],ce=M[X]=$?Va(M[X]):pr(M[X]);if(Hr(ae,ce))b(ae,ce,z,null,he,Y,ue,P,$);else break;X++}for(;X<=Ie&&X<=we;){const ae=D[Ie],ce=M[we]=$?Va(M[we]):pr(M[we]);if(Hr(ae,ce))b(ae,ce,z,null,he,Y,ue,P,$);else break;Ie--,we--}if(X>Ie){if(X<=we){const ae=we+1,ce=ae<se?M[ae].el:J;for(;X<=we;)b(null,M[X]=$?Va(M[X]):pr(M[X]),z,ce,he,Y,ue,P,$),X++}}else if(X>we)for(;X<=Ie;)K(D[X],he,Y,!0),X++;else{const ae=X,ce=X,Le=new Map;for(X=ce;X<=we;X++){const Wt=M[X]=$?Va(M[X]):pr(M[X]);Wt.key!=null&&Le.set(Wt.key,X)}let je,wt=0;const tn=we-ce+1;let vn=!1,Yt=0;const wi=new Array(tn);for(X=0;X<tn;X++)wi[X]=0;for(X=ae;X<=Ie;X++){const Wt=D[X];if(wt>=tn){K(Wt,he,Y,!0);continue}let oe;if(Wt.key!=null)oe=Le.get(Wt.key);else for(je=ce;je<=we;je++)if(wi[je-ce]===0&&Hr(Wt,M[je])){oe=je;break}oe===void 0?K(Wt,he,Y,!0):(wi[oe-ce]=X+1,oe>=Yt?Yt=oe:vn=!0,b(Wt,M[oe],z,null,he,Y,ue,P,$),wt++)}const Ai=vn?SN(wi):ku;for(je=Ai.length-1,X=tn-1;X>=0;X--){const Wt=ce+X,oe=M[Wt],Oe=Wt+1<se?M[Wt+1].el:J;wi[X]===0?b(null,oe,z,Oe,he,Y,ue,P,$):vn&&(je<0||X!==Ai[je]?xe(oe,z,Oe,2):je--)}}},xe=(D,M,z,J,he=null)=>{const{el:Y,type:ue,transition:P,children:$,shapeFlag:X}=D;if(X&6){xe(D.component.subTree,M,z,J);return}if(X&128){D.suspense.move(M,z,J);return}if(X&64){ue.move(D,M,z,de);return}if(ue===Ze){i(Y,M,z);for(let Ie=0;Ie<$.length;Ie++)xe($[Ie],M,z,J);i(D.anchor,M,z);return}if(ue===eo){_(D,M,z);return}if(J!==2&&X&1&&P)if(J===0)P.beforeEnter(Y),i(Y,M,z),fi(()=>P.enter(Y),he);else{const{leave:Ie,delayLeave:we,afterLeave:ae}=P,ce=()=>i(Y,M,z),Le=()=>{Ie(Y,()=>{ce(),ae&&ae()})};we?we(Y,ce,Le):Le()}else i(Y,M,z)},K=(D,M,z,J=!1,he=!1)=>{const{type:Y,props:ue,ref:P,children:$,dynamicChildren:X,shapeFlag:se,patchFlag:Ie,dirs:we,memoIndex:ae}=D;if(P!=null&&np(P,null,z,D,!0),ae!=null&&(M.renderCache[ae]=void 0),se&256){M.ctx.deactivate(D);return}const ce=se&1&&we,Le=!hl(D);let je;if(Le&&(je=ue&&ue.onVnodeBeforeUnmount)&&er(je,M,D),se&6)re(D.component,z,J);else{if(se&128){D.suspense.unmount(z,J);return}ce&&ds(D,null,M,"beforeUnmount"),se&64?D.type.remove(D,M,z,he,de,J):X&&(Y!==Ze||Ie>0&&Ie&64)?Ee(X,M,z,!1,!0):(Y===Ze&&Ie&384||!he&&se&16)&&Ee($,M,z),J&&Z(D)}(Le&&(je=ue&&ue.onVnodeUnmounted)||ce)&&fi(()=>{je&&er(je,M,D),ce&&ds(D,null,M,"unmounted")},z)},Z=D=>{const{type:M,el:z,anchor:J,transition:he}=D;if(M===Ze){O(z,J);return}if(M===eo){T(D);return}const Y=()=>{r(z),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(D.shapeFlag&1&&he&&!he.persisted){const{leave:ue,delayLeave:P}=he,$=()=>ue(z,Y);P?P(D.el,Y,$):$()}else Y()},O=(D,M)=>{let z;for(;D!==M;)z=m(D),r(D),D=z;r(M)},re=(D,M,z)=>{const{bum:J,scope:he,update:Y,subTree:ue,um:P,m:$,a:X}=D;ip($),ip(X),J&&Iu(J),he.stop(),Y&&(Y.active=!1,K(ue,D,M,z)),P&&fi(P,M),fi(()=>{D.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},Ee=(D,M,z,J=!1,he=!1,Y=0)=>{for(let ue=Y;ue<D.length;ue++)K(D[ue],M,z,J,he)},q=D=>D.shapeFlag&6?q(D.component.subTree):D.shapeFlag&128?D.suspense.next():m(D.anchor||D.el);let ye=!1;const Xe=(D,M,z)=>{D==null?M._vnode&&K(M._vnode,null,null,!0):b(M._vnode||null,D,M,null,null,null,z),ye||(ye=!0,AE(),ep(),ye=!1),M._vnode=D},de={p:b,um:K,m:xe,r:Z,mt:W,mc:L,pc:Q,pbc:j,n:q,o:t};let Ke,H;return e&&([Ke,H]=e(de)),{render:Xe,hydrate:Ke,createApp:yN(Xe,Ke)}}function b0({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Uo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Dk(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function fv(t,e,n=!1){const i=t.children,r=e.children;if(Ye(i)&&Ye(r))for(let s=0;s<i.length;s++){const a=i[s];let o=r[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[s]=Va(r[s]),o.el=a.el),!n&&o.patchFlag!==-2&&fv(a,o)),o.type===sa&&(o.el=a.el)}}function SN(t){const e=t.slice(),n=[0];let i,r,s,a,o;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(r=n[n.length-1],t[r]<u){e[i]=r,n.push(i);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function Lk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Lk(e)}function ip(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const pv=Symbol.for("v-scx"),mv=()=>fl(pv);function Fk(t,e){return Qd(t,null,e)}function gv(t,e){return Qd(t,null,{flush:"post"})}function yv(t,e){return Qd(t,null,{flush:"sync"})}const uf={};function Tn(t,e,n){return Qd(t,e,n)}function Qd(t,e,{immediate:n,deep:i,flush:r,once:s,onTrack:a,onTrigger:o}=jt){if(e&&s){const k=e;e=(...A)=>{k(...A),C()}}const l=ni,u=k=>i===!0?k:Ua(k,i===!1?1:void 0);let c,h=!1,m=!1;if(Hn(t)?(c=()=>t.value,h=Bu(t)):dl(t)?(c=()=>u(t),h=!0):Ye(t)?(m=!0,h=t.some(k=>dl(k)||Bu(k)),c=()=>t.map(k=>{if(Hn(k))return k.value;if(dl(k))return u(k);if(ut(k))return bs(k,l,2)})):ut(t)?e?c=()=>bs(t,l,2):c=()=>(g&&g(),or(t,l,3,[y])):c=ri,e&&i){const k=c;c=()=>Ua(k())}let g,y=k=>{g=_.onStop=()=>{bs(k,l,4),g=_.onStop=void 0}},b;if(nh)if(y=ri,e?n&&or(e,l,3,[c(),m?[]:void 0,y]):c(),r==="sync"){const k=mv();b=k.__watcherHandles||(k.__watcherHandles=[])}else return ri;let w=m?new Array(t.length).fill(uf):uf;const E=()=>{if(!(!_.active||!_.dirty))if(e){const k=_.run();(i||h||(m?k.some((A,L)=>Qr(A,w[L])):Qr(k,w)))&&(g&&g(),or(e,l,3,[k,w===uf?void 0:m&&w[0]===uf?[]:w,y]),w=k)}else _.run()};E.allowRecurse=!!e;let x;r==="sync"?x=E:r==="post"?x=()=>fi(E,l&&l.suspense):(E.pre=!0,l&&(E.id=l.uid),x=()=>om(E));const _=new vl(c,ri,x),T=Qp(),C=()=>{_.stop(),T&&B_(T.effects,_)};return e?n?E():w=_.run():r==="post"?fi(_.run.bind(_),l&&l.suspense):_.run(),b&&b.push(C),C}function kN(t,e,n){const i=this.proxy,r=Tt(t)?t.includes(".")?Nk(i,t):()=>i[t]:t.bind(i,i);let s;ut(e)?s=e:(s=e.handler,n=e);const a=xl(this),o=Qd(r,s.bind(i),n);return a(),o}function Nk(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function Ua(t,e=1/0,n){if(e<=0||!en(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Hn(t))Ua(t.value,e,n);else if(Ye(t))for(let i=0;i<t.length;i++)Ua(t[i],e,n);else if(Ol(t)||Ru(t))t.forEach(i=>{Ua(i,e,n)});else if(_S(t)){for(const i in t)Ua(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Ua(t[i],e,n)}return t}const eh=t=>t.type.__isKeepAlive,RN={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=qi(),i=n.ctx;if(!i.renderer)return()=>{const x=e.default&&e.default();return x&&x.length===1?x[0]:x};const r=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=i,m=h("div");i.activate=(x,_,T,C,k)=>{const A=x.component;u(x,_,T,0,o),l(A.vnode,x,_,T,A,o,C,x.slotScopeIds,k),fi(()=>{A.isDeactivated=!1,A.a&&Iu(A.a);const L=x.props&&x.props.onVnodeMounted;L&&er(L,A.parent,x)},o)},i.deactivate=x=>{const _=x.component;ip(_.m),ip(_.a),u(x,m,null,1,o),fi(()=>{_.da&&Iu(_.da);const T=x.props&&x.props.onVnodeUnmounted;T&&er(T,_.parent,x),_.isDeactivated=!0},o)};function g(x){w0(x),c(x,n,o,!0)}function y(x){r.forEach((_,T)=>{const C=Oy(_.type);C&&(!x||!x(C))&&b(T)})}function b(x){const _=r.get(x);!a||!Hr(_,a)?g(_):a&&w0(a),r.delete(x),s.delete(x)}Tn(()=>[t.include,t.exclude],([x,_])=>{x&&y(T=>Qc(x,T)),_&&y(T=>!Qc(_,T))},{flush:"post",deep:!0});let w=null;const E=()=>{w!=null&&(by(n.subTree.type)?fi(()=>{r.set(w,cf(n.subTree))},n.subTree.suspense):r.set(w,cf(n.subTree)))};return xn(E),Zd(E),Jd(()=>{r.forEach(x=>{const{subTree:_,suspense:T}=n,C=cf(_);if(x.type===C.type&&x.key===C.key){w0(C);const k=C.component.da;k&&fi(k,T);return}g(x)})}),()=>{if(w=null,!e.default)return null;const x=e.default(),_=x[0];if(x.length>1)return a=null,x;if(!aa(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return a=null,_;let T=cf(_);const C=T.type,k=Oy(hl(T)?T.type.__asyncResolved||{}:C),{include:A,exclude:L,max:R}=t;if(A&&(!k||!Qc(A,k))||L&&k&&Qc(L,k))return a=T,_;const j=T.key==null?C:T.key,U=r.get(j);return T.el&&(T=es(T),_.shapeFlag&128&&(_.ssContent=T)),w=j,U?(T.el=U.el,T.component=U.component,T.transition&&ra(T,T.transition),T.shapeFlag|=512,s.delete(j),s.add(j)):(s.add(j),R&&s.size>parseInt(R,10)&&b(s.values().next().value)),T.shapeFlag|=256,a=T,by(_.type)?_:T}}},$k=RN;function Qc(t,e){return Ye(t)?t.some(n=>Qc(n,e)):Tt(t)?t.split(",").includes(e):eF(t)?t.test(e):!1}function _v(t,e){jk(t,"a",e)}function vv(t,e){jk(t,"da",e)}function jk(t,e,n=ni){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(cm(e,i,n),n){let r=n.parent;for(;r&&r.parent;)eh(r.parent.vnode)&&IN(i,e,n,r),r=r.parent}}function IN(t,e,n,i){const r=cm(e,t,i,!0);ks(()=>{B_(i[e],r)},n)}function w0(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function cf(t){return t.shapeFlag&128?t.ssContent:t}const Ba=Symbol("_leaveCb"),df=Symbol("_enterCb");function fm(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xn(()=>{t.isMounted=!0}),Jd(()=>{t.isUnmounting=!0}),t}const kr=[Function,Array],pm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kr,onEnter:kr,onAfterEnter:kr,onEnterCancelled:kr,onBeforeLeave:kr,onLeave:kr,onAfterLeave:kr,onLeaveCancelled:kr,onBeforeAppear:kr,onAppear:kr,onAfterAppear:kr,onAppearCancelled:kr},Bk=t=>{const e=t.subTree;return e.component?Bk(e.component):e},AN={name:"BaseTransition",props:pm,setup(t,{slots:e}){const n=qi(),i=fm();return()=>{const r=e.default&&th(e.default(),!0);if(!r||!r.length)return;let s=r[0];if(r.length>1){for(const m of r)if(m.type!==ti){s=m;break}}const a=Pt(t),{mode:o}=a;if(i.isLeaving)return E0(s);const l=GE(s);if(!l)return E0(s);let u=El(l,a,i,n,m=>u=m);ra(l,u);const c=n.subTree,h=c&&GE(c);if(h&&h.type!==ti&&!Hr(l,h)&&Bk(n).type!==ti){const m=El(h,a,i,n);if(ra(h,m),o==="out-in"&&l.type!==ti)return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},E0(s);o==="in-out"&&l.type!==ti&&(m.delayLeave=(g,y,b)=>{const w=Vk(i,h);w[String(h.key)]=h,g[Ba]=()=>{y(),g[Ba]=void 0,delete u.delayedLeave},u.delayedLeave=b})}return s}}},bv=AN;function Vk(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function El(t,e,n,i,r){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:m,onLeave:g,onAfterLeave:y,onLeaveCancelled:b,onBeforeAppear:w,onAppear:E,onAfterAppear:x,onAppearCancelled:_}=e,T=String(t.key),C=Vk(n,t),k=(R,j)=>{R&&or(R,i,9,j)},A=(R,j)=>{const U=j[1];k(R,j),Ye(R)?R.every(G=>G.length<=1)&&U():R.length<=1&&U()},L={mode:a,persisted:o,beforeEnter(R){let j=l;if(!n.isMounted)if(s)j=w||l;else return;R[Ba]&&R[Ba](!0);const U=C[T];U&&Hr(t,U)&&U.el[Ba]&&U.el[Ba](),k(j,[R])},enter(R){let j=u,U=c,G=h;if(!n.isMounted)if(s)j=E||u,U=x||c,G=_||h;else return;let ne=!1;const W=R[df]=F=>{ne||(ne=!0,F?k(G,[R]):k(U,[R]),L.delayedLeave&&L.delayedLeave(),R[df]=void 0)};j?A(j,[R,W]):W()},leave(R,j){const U=String(t.key);if(R[df]&&R[df](!0),n.isUnmounting)return j();k(m,[R]);let G=!1;const ne=R[Ba]=W=>{G||(G=!0,j(),W?k(b,[R]):k(y,[R]),R[Ba]=void 0,C[U]===t&&delete C[U])};C[U]=t,g?A(g,[R,ne]):ne()},clone(R){const j=El(R,e,n,i,r);return r&&r(j),j}};return L}function E0(t){if(eh(t))return t=es(t),t.children=null,t}function GE(t){if(!eh(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ut(n.default))return n.default()}}function ra(t,e){t.shapeFlag&6&&t.component?ra(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function th(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Ze?(a.patchFlag&128&&r++,i=i.concat(th(a.children,e,o))):(e||a.type!==ti)&&i.push(o!=null?es(a,{key:o}):a)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}const MN=t=>t.__isTeleport,rd=t=>t&&(t.disabled||t.disabled===""),zE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,UE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ky=(t,e)=>{const n=t&&t.to;return Tt(n)?e?e(n):null:n},ON={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,s,a,o,l,u){const{mc:c,pc:h,pbc:m,o:{insert:g,querySelector:y,createText:b,createComment:w}}=u,E=rd(e.props);let{shapeFlag:x,children:_,dynamicChildren:T}=e;if(t==null){const C=e.el=b(""),k=e.anchor=b("");g(C,n,i),g(k,n,i);const A=e.target=ky(e.props,y),L=e.targetAnchor=b("");A&&(g(L,A),a==="svg"||zE(A)?a="svg":(a==="mathml"||UE(A))&&(a="mathml"));const R=(j,U)=>{x&16&&c(_,j,U,r,s,a,o,l)};E?R(n,k):A&&R(A,L)}else{e.el=t.el;const C=e.anchor=t.anchor,k=e.target=t.target,A=e.targetAnchor=t.targetAnchor,L=rd(t.props),R=L?n:k,j=L?C:A;if(a==="svg"||zE(k)?a="svg":(a==="mathml"||UE(k))&&(a="mathml"),T?(m(t.dynamicChildren,T,R,r,s,a,o),fv(t,e,!0)):l||h(t,e,R,j,r,s,a,o,!1),E)L?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):hf(e,n,C,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=ky(e.props,y);U&&hf(e,U,null,u,0)}else L&&hf(e,k,A,u,1)}Gk(e)},remove(t,e,n,i,{um:r,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:u,targetAnchor:c,target:h,props:m}=t;if(h&&s(c),a&&s(u),o&16){const g=a||!rd(m);for(let y=0;y<l.length;y++){const b=l[y];r(b,e,n,g,!!b.dynamicChildren)}}},move:hf,hydrate:PN};function hf(t,e,n,{o:{insert:i},m:r},s=2){s===0&&i(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&i(a,e,n),(!h||rd(c))&&l&16)for(let m=0;m<u.length;m++)r(u[m],e,n,2);h&&i(o,e,n)}function PN(t,e,n,i,r,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},u){const c=e.target=ky(e.props,l);if(c){const h=c._lpa||c.firstChild;if(e.shapeFlag&16)if(rd(e.props))e.anchor=u(a(t),e,o(t),n,i,r,s),e.targetAnchor=h;else{e.anchor=a(t);let m=h;for(;m;)if(m=a(m),m&&m.nodeType===8&&m.data==="teleport anchor"){e.targetAnchor=m,c._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(h,e,c,n,i,r,s)}Gk(e)}return e.anchor&&a(e.anchor)}const wv=ON;function Gk(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ze=Symbol.for("v-fgt"),sa=Symbol.for("v-txt"),ti=Symbol.for("v-cmt"),eo=Symbol.for("v-stc"),sd=[];let rr=null;function ie(t=!1){sd.push(rr=t?null:[])}function zk(){sd.pop(),rr=sd[sd.length-1]||null}let Tl=1;function rp(t){Tl+=t}function Uk(t){return t.dynamicChildren=Tl>0?rr||ku:null,zk(),Tl>0&&rr&&rr.push(t),t}function pe(t,e,n,i,r,s){return Uk(Ae(t,e,n,i,r,s,!0))}function et(t,e,n,i,r){return Uk(De(t,e,n,i,r,!0))}function aa(t){return t?t.__v_isVNode===!0:!1}function Hr(t,e){return t.type===e.type&&t.key===e.key}function Hk(t){}const Yk=({key:t})=>t??null,$f=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Tt(t)||Hn(t)||ut(t)?{i:si,r:t,k:e,f:!!n}:t:null);function Ae(t,e=null,n=null,i=0,r=null,s=t===Ze?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Yk(e),ref:e&&$f(e),scopeId:um,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:si};return o?(Ev(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Tt(n)?8:16),Tl>0&&!a&&rr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&rr.push(l),l}const De=DN;function DN(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===ik)&&(t=ti),aa(t)){const o=es(t,e,!0);return n&&Ev(o,n),Tl>0&&!s&&rr&&(o.shapeFlag&6?rr[rr.indexOf(t)]=o:rr.push(o)),o.patchFlag=-2,o}if(jN(t)&&(t=t.__vccOpts),e){e=Si(e);let{class:o,style:l}=e;o&&!Tt(o)&&(e.class=rt(o)),en(l)&&(rm(l)&&!Ye(l)&&(l=Ft({},l)),e.style=Bn(l))}const a=Tt(t)?1:by(t)?128:MN(t)?64:en(t)?4:ut(t)?2:0;return Ae(t,e,n,i,r,a,s,!0)}function Si(t){return t?rm(t)||kk(t)?Ft({},t):t:null}function es(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:a,children:o,transition:l}=t,u=e?Vn(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Yk(u),ref:e&&e.ref?n&&s?Ye(s)?s.concat($f(e)):[s,$f(e)]:$f(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&es(t.ssContent),ssFallback:t.ssFallback&&es(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&ra(c,l.clone(c)),c}function Ii(t=" ",e=0){return De(sa,null,t,e)}function Wk(t,e){const n=De(eo,null,t);return n.staticCount=e,n}function ke(t="",e=!1){return e?(ie(),et(ti,null,t)):De(ti,null,t)}function pr(t){return t==null||typeof t=="boolean"?De(ti):Ye(t)?De(Ze,null,t.slice()):typeof t=="object"?Va(t):De(sa,null,String(t))}function Va(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:es(t)}function Ev(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ye(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),Ev(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!kk(e)?e._ctx=si:r===3&&si&&(si.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:si},n=32):(e=String(e),i&64?(n=16,e=[Ii(e)]):n=8);t.children=e,t.shapeFlag|=n}function Vn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=rt([e.class,i.class]));else if(r==="style")e.style=Bn([e.style,i.style]);else if(Ml(r)){const s=e[r],a=i[r];a&&s!==a&&!(Ye(s)&&s.includes(a))&&(e[r]=s?[].concat(s,a):a)}else r!==""&&(e[r]=i[r])}return e}function er(t,e,n,i=null){or(t,e,7,[n,i])}const LN=Tk();let FN=0;function Kk(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||LN,s={uid:FN++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ik(i,r),emitsOptions:tk(i,r),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:i.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=JF.bind(null,s),t.ce&&t.ce(s),s}let ni=null;const qi=()=>ni||si;let sp,Ry;{const t=bS(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(a=>a(s)):r[0](s)}};sp=e("__VUE_INSTANCE_SETTERS__",n=>ni=n),Ry=e("__VUE_SSR_SETTERS__",n=>nh=n)}const xl=t=>{const e=ni;return sp(t),t.scope.on(),()=>{t.scope.off(),sp(e)}},Iy=()=>{ni&&ni.scope.off(),sp(null)};function qk(t){return t.vnode.shapeFlag&4}let nh=!1;function Xk(t,e=!1){e&&Ry(e);const{props:n,children:i}=t.vnode,r=qk(t);_N(t,n,r,e),wN(t,i);const s=r?NN(t,e):void 0;return e&&Ry(!1),s}function NN(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ty);const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?Qk(t):null,s=xl(t);_o();const a=bs(i,t,0,[t.props,r]);if(vo(),s(),V_(a)){if(a.then(Iy,Iy),e)return a.then(o=>{Ay(t,o,e)}).catch(o=>{bo(o,t,0)});t.asyncDep=a}else Ay(t,a,e)}else Jk(t,e)}function Ay(t,e,n){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:en(e)&&(t.setupState=am(e)),Jk(t,n)}let ap,My;function Tv(t){ap=t,My=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,cN))}}const Zk=()=>!ap;function Jk(t,e,n){const i=t.type;if(!t.render){if(!e&&ap&&!i.render){const r=i.template||lv(t).template;if(r){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=i,u=Ft(Ft({isCustomElement:s,delimiters:o},a),l);i.render=ap(r,u)}}t.render=i.render||ri,My&&My(t)}{const r=xl(t);_o();try{dN(t)}finally{vo(),r()}}}const $N={get(t,e){return ur(t,"get",""),t[e]}};function Qk(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,$N),slots:t.slots,emit:t.emit,expose:e}}function ih(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(am(K_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in id)return id[n](t)},has(e,n){return n in e||n in id}})):t.proxy}function Oy(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function jN(t){return ut(t)&&"__vccOpts"in t}const Se=(t,e)=>VF(t,e,nh);function eR(t,e,n=jt){const i=qi(),r=yn(e),s=yr(e),a=Z_((l,u)=>{let c;return yv(()=>{const h=t[e];Qr(c,h)&&(c=h,u())}),{get(){return l(),n.get?n.get(c):c},set(h){const m=i.vnode.props;!(m&&(e in m||r in m||s in m)&&(`onUpdate:${e}`in m||`onUpdate:${r}`in m||`onUpdate:${s}`in m))&&Qr(h,c)&&(c=h,u()),i.emit(`update:${e}`,n.set?n.set(h):h)}}}),o=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[o]||{}:a,done:!1}:{done:!0}}}},a}function uc(t,e,n){const i=arguments.length;return i===2?en(e)&&!Ye(e)?aa(e)?De(t,null,[e]):De(t,e):De(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&aa(n)&&(n=[n]),De(t,e,n))}function tR(){}function nR(t,e,n,i){const r=n[i];if(r&&xv(r,t))return r;const s=e();return s.memo=t.slice(),s.memoIndex=i,n[i]=s}function xv(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(Qr(n[i],e[i]))return!1;return Tl>0&&rr&&rr.push(t),!0}const Cv="3.4.29",iR=ri,rR=WF,sR=mu,aR=ek,BN={createComponentInstance:Kk,setupComponent:Xk,renderComponentRoot:Nf,setCurrentRenderingInstance:yd,isVNode:aa,normalizeVNode:pr,getComponentPublicInstance:ih},oR=BN,lR=null,uR=null,cR=null;/**
* @vue/runtime-dom v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const VN="http://www.w3.org/2000/svg",GN="http://www.w3.org/1998/Math/MathML",Hs=typeof document<"u"?document:null,HE=Hs&&Hs.createElement("template"),zN={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Hs.createElementNS(VN,t):e==="mathml"?Hs.createElementNS(GN,t):n?Hs.createElement(t,{is:n}):Hs.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Hs.createTextNode(t),createComment:t=>Hs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Hs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const a=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{HE.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const o=HE.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ka="transition",$c="animation",Vu=Symbol("_vtc"),Rs=(t,{slots:e})=>uc(bv,hR(t),e);Rs.displayName="Transition";const dR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},UN=Rs.props=Ft({},pm,dR),Ho=(t,e=[])=>{Ye(t)?t.forEach(n=>n(...e)):t&&t(...e)},YE=t=>t?Ye(t)?t.some(e=>e.length>1):t.length>1:!1;function hR(t){const e={};for(const G in t)G in dR||(e[G]=t[G]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,y=HN(r),b=y&&y[0],w=y&&y[1],{onBeforeEnter:E,onEnter:x,onEnterCancelled:_,onLeave:T,onLeaveCancelled:C,onBeforeAppear:k=E,onAppear:A=x,onAppearCancelled:L=_}=e,R=(G,ne,W)=>{Na(G,ne?c:o),Na(G,ne?u:a),W&&W()},j=(G,ne)=>{G._isLeaving=!1,Na(G,h),Na(G,g),Na(G,m),ne&&ne()},U=G=>(ne,W)=>{const F=G?A:x,B=()=>R(ne,G,W);Ho(F,[ne,B]),WE(()=>{Na(ne,G?l:s),Vs(ne,G?c:o),YE(F)||KE(ne,i,b,B)})};return Ft(e,{onBeforeEnter(G){Ho(E,[G]),Vs(G,s),Vs(G,a)},onBeforeAppear(G){Ho(k,[G]),Vs(G,l),Vs(G,u)},onEnter:U(!1),onAppear:U(!0),onLeave(G,ne){G._isLeaving=!0;const W=()=>j(G,ne);Vs(G,h),Vs(G,m),pR(),WE(()=>{G._isLeaving&&(Na(G,h),Vs(G,g),YE(T)||KE(G,i,w,W))}),Ho(T,[G,W])},onEnterCancelled(G){R(G,!1),Ho(_,[G])},onAppearCancelled(G){R(G,!0),Ho(L,[G])},onLeaveCancelled(G){j(G),Ho(C,[G])}})}function HN(t){if(t==null)return null;if(en(t))return[T0(t.enter),T0(t.leave)];{const e=T0(t);return[e,e]}}function T0(t){return Jf(t)}function Vs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vu]||(t[Vu]=new Set)).add(e)}function Na(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Vu];n&&(n.delete(e),n.size||(t[Vu]=void 0))}function WE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let YN=0;function KE(t,e,n,i){const r=t._endId=++YN,s=()=>{r===t._endId&&i()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=fR(t,e);if(!a)return i();const u=a+"end";let c=0;const h=()=>{t.removeEventListener(u,m),s()},m=g=>{g.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},o+1),t.addEventListener(u,m)}function fR(t,e){const n=window.getComputedStyle(t),i=y=>(n[y]||"").split(", "),r=i(`${ka}Delay`),s=i(`${ka}Duration`),a=qE(r,s),o=i(`${$c}Delay`),l=i(`${$c}Duration`),u=qE(o,l);let c=null,h=0,m=0;e===ka?a>0&&(c=ka,h=a,m=s.length):e===$c?u>0&&(c=$c,h=u,m=l.length):(h=Math.max(a,u),c=h>0?a>u?ka:$c:null,m=c?c===ka?s.length:l.length:0);const g=c===ka&&/\b(transform|all)(,|$)/.test(i(`${ka}Property`).toString());return{type:c,timeout:h,propCount:m,hasTransform:g}}function qE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>XE(n)+XE(t[i])))}function XE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function pR(){return document.body.offsetHeight}function WN(t,e,n){const i=t[Vu];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const op=Symbol("_vod"),mR=Symbol("_vsh"),oi={beforeMount(t,{value:e},{transition:n}){t[op]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):jc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),jc(t,!0),i.enter(t)):i.leave(t,()=>{jc(t,!1)}):jc(t,e))},beforeUnmount(t,{value:e}){jc(t,e)}};function jc(t,e){t.style.display=e?t[op]:"none",t[mR]=!e}function KN(){oi.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const gR=Symbol("");function yR(t){const e=qi();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Dy(s,r))},i=()=>{const r=t(e.proxy);Py(e.subTree,r),n(r)};xn(()=>{gv(i);const r=new MutationObserver(i);r.observe(e.subTree.el.parentNode,{childList:!0}),ks(()=>r.disconnect())})}function Py(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Py(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Dy(t.el,e);else if(t.type===Ze)t.children.forEach(n=>Py(n,e));else if(t.type===eo){let{el:n,anchor:i}=t;for(;n&&(Dy(n,e),n!==i);)n=n.nextSibling}}function Dy(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const r in e)n.setProperty(`--${r}`,e[r]),i+=`--${r}: ${e[r]};`;n[gR]=i}}const qN=/(^|;)\s*display\s*:/;function XN(t,e,n){const i=t.style,r=Tt(n);let s=!1;if(n&&!r){if(e)if(Tt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&jf(i,o,"")}else for(const a in e)n[a]==null&&jf(i,a,"");for(const a in n)a==="display"&&(s=!0),jf(i,a,n[a])}else if(r){if(e!==n){const a=i[gR];a&&(n+=";"+a),i.cssText=n,s=qN.test(n)}}else e&&t.removeAttribute("style");op in t&&(t[op]=s?i.display:"",t[mR]&&(i.display="none"))}const ZE=/\s*!important$/;function jf(t,e,n){if(Ye(n))n.forEach(i=>jf(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=ZN(t,e);ZE.test(n)?t.setProperty(yr(i),n.replace(ZE,""),"important"):t[i]=n}}const JE=["Webkit","Moz","ms"],x0={};function ZN(t,e){const n=x0[e];if(n)return n;let i=yn(e);if(i!=="filter"&&i in t)return x0[e]=i;i=yo(i);for(let r=0;r<JE.length;r++){const s=JE[r]+i;if(s in t)return x0[e]=s}return e}const QE="http://www.w3.org/1999/xlink";function eT(t,e,n,i,r,s=vF(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(QE,e.slice(6,e.length)):t.setAttributeNS(QE,e,n):n==null||s&&!ES(n)?t.removeAttribute(e):t.setAttribute(e,s?"":String(n))}function JN(t,e,n,i,r,s,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,r,s),t[e]=n??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?"":String(n);(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=ES(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Xs(t,e,n,i){t.addEventListener(e,n,i)}function QN(t,e,n,i){t.removeEventListener(e,n,i)}const tT=Symbol("_vei");function e3(t,e,n,i,r=null){const s=t[tT]||(t[tT]={}),a=s[e];if(i&&a)a.value=i;else{const[o,l]=t3(e);if(i){const u=s[e]=r3(i,r);Xs(t,o,u,l)}else a&&(QN(t,o,a,l),s[e]=void 0)}}const nT=/(?:Once|Passive|Capture)$/;function t3(t){let e;if(nT.test(t)){e={};let i;for(;i=t.match(nT);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):yr(t.slice(2)),e]}let C0=0;const n3=Promise.resolve(),i3=()=>C0||(n3.then(()=>C0=0),C0=Date.now());function r3(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;or(s3(i,n.value),e,5,[i])};return n.value=t,n.attached=i3(),n}function s3(t,e){if(Ye(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const iT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,a3=(t,e,n,i,r,s,a,o,l)=>{const u=r==="svg";e==="class"?WN(t,i,u):e==="style"?XN(t,n,i):Ml(e)?j_(e)||e3(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):o3(t,e,i,u))?(JN(t,e,i,s,a,o,l),(e==="value"||e==="checked"||e==="selected")&&eT(t,e,i,u,a,e!=="value")):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),eT(t,e,i,u))};function o3(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&iT(e)&&ut(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return iT(e)&&Tt(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function Sv(t,e,n){const i=_n(t,e);class r extends rh{constructor(a){super(i,a,n)}}return r.def=i,r}/*! #__NO_SIDE_EFFECTS__ */const _R=(t,e)=>Sv(t,e,Iv),l3=typeof HTMLElement<"u"?HTMLElement:class{};class rh extends l3{constructor(e,n={},i){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,vi(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),zu(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const r of i)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,r=!1)=>{const{props:s,styles:a}=i;let o;if(s&&!Ye(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Jf(this._props[l])),(o||(o=Object.create(null)))[yn(l)]=!0)}this._numberProps=o,r&&this._resolveProps(i),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(i=>e(i,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,i=Ye(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&i.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of i.map(yn))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(s){this._setProp(r,s)}})}_setAttr(e){let n=this.hasAttribute(e)?this.getAttribute(e):void 0;const i=yn(e);this._numberProps&&this._numberProps[i]&&(n=Jf(n)),this._setProp(i,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,i=!0,r=!0){n!==this._props[e]&&(this._props[e]=n,r&&this._instance&&this._update(),i&&(n===!0?this.setAttribute(yr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(yr(e),n+""):n||this.removeAttribute(yr(e))))}_update(){zu(this._createVNode(),this.shadowRoot)}_createVNode(){const e=De(this._def,Ft({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const i=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};n.emit=(s,...a)=>{i(s,a),yr(s)!==s&&i(yr(s),a)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof rh){n.parent=r._instance,n.provides=r._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const i=document.createElement("style");i.textContent=n,this.shadowRoot.appendChild(i)})}}function vR(t="$style"){{const e=qi();if(!e)return jt;const n=e.type.__cssModules;if(!n)return jt;const i=n[t];return i||jt}}const bR=new WeakMap,wR=new WeakMap,lp=Symbol("_moveCb"),rT=Symbol("_enterCb"),ER={name:"TransitionGroup",props:Ft({},UN,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=qi(),i=fm();let r,s;return Zd(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!f3(r[0].el,n.vnode.el,a))return;r.forEach(c3),r.forEach(d3);const o=r.filter(h3);pR(),o.forEach(l=>{const u=l.el,c=u.style;Vs(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[lp]=m=>{m&&m.target!==u||(!m||/transform$/.test(m.propertyName))&&(u.removeEventListener("transitionend",h),u[lp]=null,Na(u,a))};u.addEventListener("transitionend",h)})}),()=>{const a=Pt(t),o=hR(a);let l=a.tag||Ze;if(r=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(r.push(c),ra(c,El(c,o,i,n)),bR.set(c,c.el.getBoundingClientRect()))}s=e.default?th(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&ra(c,El(c,o,i,n))}return De(l,null,s)}}},u3=t=>delete t.mode;ER.props;const TR=ER;function c3(t){const e=t.el;e[lp]&&e[lp](),e[rT]&&e[rT]()}function d3(t){wR.set(t,t.el.getBoundingClientRect())}function h3(t){const e=bR.get(t),n=wR.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",t}}function f3(t,e,n){const i=t.cloneNode(),r=t[Vu];r&&r.forEach(o=>{o.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:a}=fR(i);return s.removeChild(i),a}const uo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ye(e)?n=>Iu(e,n):e};function p3(t){t.target.composing=!0}function sT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Pr=Symbol("_assign"),bd={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[Pr]=uo(r);const s=i||r.props&&r.props.type==="number";Xs(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=Zf(o)),t[Pr](o)}),n&&Xs(t,"change",()=>{t.value=t.value.trim()}),e||(Xs(t,"compositionstart",p3),Xs(t,"compositionend",sT),Xs(t,"change",sT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},a){if(t[Pr]=uo(a),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?Zf(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},mm={deep:!0,created(t,e,n){t[Pr]=uo(n),Xs(t,"change",()=>{const i=t._modelValue,r=Gu(t),s=t.checked,a=t[Pr];if(Ye(i)){const o=Xp(i,r),l=o!==-1;if(s&&!l)a(i.concat(r));else if(!s&&l){const u=[...i];u.splice(o,1),a(u)}}else if(Ol(i)){const o=new Set(i);s?o.add(r):o.delete(r),a(o)}else a(xR(t,s))})},mounted:aT,beforeUpdate(t,e,n){t[Pr]=uo(n),aT(t,e,n)}};function aT(t,{value:e,oldValue:n},i){t._modelValue=e,Ye(e)?t.checked=Xp(e,i.props.value)>-1:Ol(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=lo(e,xR(t,!0)))}const gm={created(t,{value:e},n){t.checked=lo(e,n.props.value),t[Pr]=uo(n),Xs(t,"change",()=>{t[Pr](Gu(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[Pr]=uo(i),e!==n&&(t.checked=lo(e,i.props.value))}},kv={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=Ol(e);Xs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?Zf(Gu(a)):Gu(a));t[Pr](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,vi(()=>{t._assigning=!1})}),t[Pr]=uo(i)},mounted(t,{value:e,modifiers:{number:n}}){oT(t,e)},beforeUpdate(t,e,n){t[Pr]=uo(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||oT(t,e)}};function oT(t,e,n){const i=t.multiple,r=Ye(e);if(!(i&&!r&&!Ol(e))){for(let s=0,a=t.options.length;s<a;s++){const o=t.options[s],l=Gu(o);if(i)if(r){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(c=>String(c)===String(l)):o.selected=Xp(e,l)>-1}else o.selected=e.has(l);else if(lo(Gu(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Gu(t){return"_value"in t?t._value:t.value}function xR(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Rv={created(t,e,n){ff(t,e,n,null,"created")},mounted(t,e,n){ff(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){ff(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){ff(t,e,n,i,"updated")}};function CR(t,e){switch(t){case"SELECT":return kv;case"TEXTAREA":return bd;default:switch(e){case"checkbox":return mm;case"radio":return gm;default:return bd}}}function ff(t,e,n,i,r){const a=CR(t.tagName,n.props&&n.props.type)[r];a&&a(t,e,n,i)}function m3(){bd.getSSRProps=({value:t})=>({value:t}),gm.getSSRProps=({value:t},e)=>{if(e.props&&lo(e.props.value,t))return{checked:!0}},mm.getSSRProps=({value:t},e)=>{if(Ye(t)){if(e.props&&Xp(t,e.props.value)>-1)return{checked:!0}}else if(Ol(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Rv.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=CR(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const g3=["ctrl","shift","alt","meta"],y3={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>g3.some(n=>t[`${n}Key`]&&!e.includes(n))},Cl=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...s)=>{for(let a=0;a<e.length;a++){const o=y3[e[a]];if(o&&o(r,e))return}return t(r,...s)})},_3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ym=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=yr(r.key);if(e.some(a=>a===s||_3[a]===s))return t(r)})},SR=Ft({patchProp:a3},zN);let ad,lT=!1;function kR(){return ad||(ad=dv(SR))}function RR(){return ad=lT?ad:hv(SR),lT=!0,ad}const zu=(...t)=>{kR().render(...t)},Iv=(...t)=>{RR().hydrate(...t)},Av=(...t)=>{const e=kR().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=MR(i);if(!r)return;const s=e._component;!ut(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,AR(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e},IR=(...t)=>{const e=RR().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=MR(i);if(r)return n(r,!0,AR(r))},e};function AR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function MR(t){return Tt(t)?document.querySelector(t):t}let uT=!1;const OR=()=>{uT||(uT=!0,m3(),KN())},v3=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:bv,BaseTransitionPropsValidators:pm,Comment:ti,DeprecationTypes:cR,EffectScope:Zp,ErrorCodes:XS,ErrorTypeStrings:rR,Fragment:Ze,KeepAlive:$k,ReactiveEffect:vl,Static:eo,Suspense:rk,Teleport:wv,Text:sa,TrackOpTypes:WS,Transition:Rs,TransitionGroup:TR,TriggerOpTypes:KS,VueElement:rh,assertNumber:qS,callWithAsyncErrorHandling:or,callWithErrorHandling:bs,camelize:yn,capitalize:yo,cloneVNode:es,compatUtils:uR,computed:Se,createApp:Av,createBlock:et,createCommentVNode:ke,createElementBlock:pe,createElementVNode:Ae,createHydrationRenderer:hv,createPropsRestProxy:bk,createRenderer:dv,createSSRApp:IR,createSlots:yi,createStaticVNode:Wk,createTextVNode:Ii,createVNode:De,customRef:Z_,defineAsyncComponent:ak,defineComponent:_n,defineCustomElement:Sv,defineEmits:ck,defineExpose:dk,defineModel:pk,defineOptions:hk,defineProps:uk,defineSSRCustomElement:_R,defineSlots:fk,devtools:sR,effect:SS,effectScope:Jp,getCurrentInstance:qi,getCurrentScope:Qp,getTransitionRawChildren:th,guardReactiveProps:Si,h:uc,handleError:bo,hasInjectionContext:xk,hydrate:Iv,initCustomFormatter:tR,initDirectivesForSSR:OR,inject:fl,isMemoSame:xv,isProxy:rm,isReactive:dl,isReadonly:bl,isRef:Hn,isRuntimeOnly:Zk,isShallow:Bu,isVNode:aa,markRaw:K_,mergeDefaults:_k,mergeModels:vk,mergeProps:Vn,nextTick:vi,normalizeClass:rt,normalizeProps:Kn,normalizeStyle:Bn,onActivated:_v,onBeforeMount:dm,onBeforeUnmount:Jd,onBeforeUpdate:hm,onDeactivated:vv,onErrorCaptured:ov,onMounted:xn,onRenderTracked:av,onRenderTriggered:sv,onScopeDispose:z_,onServerPrefetch:rv,onUnmounted:ks,onUpdated:Zd,openBlock:ie,popScopeId:Xd,provide:uv,proxyRefs:am,pushScopeId:qd,queuePostFlushCb:md,reactive:Fr,readonly:nm,ref:Me,registerRuntimeCompiler:Tv,render:zu,renderList:Ut,renderSlot:Ue,resolveComponent:ze,resolveDirective:tv,resolveDynamicComponent:lc,resolveFilter:lR,resolveTransitionHooks:El,setBlockTracking:rp,setDevtoolsHook:aR,setTransitionHooks:ra,shallowReactive:W_,shallowReadonly:BS,shallowRef:sm,ssrContextKey:pv,ssrUtils:oR,stop:kS,toDisplayString:ht,toHandlerKey:ll,toHandlers:lk,toRaw:Pt,toRef:wl,toRefs:HS,toValue:US,transformVNodeArgs:Hk,triggerRef:zS,unref:te,useAttrs:gk,useCssModule:vR,useCssVars:yR,useModel:eR,useSSRContext:mv,useSlots:da,useTransitionState:fm,vModelCheckbox:mm,vModelDynamic:Rv,vModelRadio:gm,vModelSelect:kv,vModelText:bd,vShow:oi,version:Cv,warn:iR,watch:Tn,watchEffect:Fk,watchPostEffect:gv,watchSyncEffect:yv,withAsyncContext:wk,withCtx:pt,withDefaults:mk,withDirectives:ai,withKeys:ym,withMemo:nR,withModifiers:Cl,withScopeId:nk},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const wd=Symbol(""),od=Symbol(""),Mv=Symbol(""),up=Symbol(""),PR=Symbol(""),Sl=Symbol(""),DR=Symbol(""),LR=Symbol(""),Ov=Symbol(""),Pv=Symbol(""),sh=Symbol(""),Dv=Symbol(""),FR=Symbol(""),Lv=Symbol(""),Fv=Symbol(""),Nv=Symbol(""),$v=Symbol(""),jv=Symbol(""),Bv=Symbol(""),NR=Symbol(""),$R=Symbol(""),_m=Symbol(""),cp=Symbol(""),Vv=Symbol(""),Gv=Symbol(""),Ed=Symbol(""),ah=Symbol(""),zv=Symbol(""),Ly=Symbol(""),b3=Symbol(""),Fy=Symbol(""),dp=Symbol(""),w3=Symbol(""),E3=Symbol(""),Uv=Symbol(""),T3=Symbol(""),x3=Symbol(""),Hv=Symbol(""),jR=Symbol(""),Uu={[wd]:"Fragment",[od]:"Teleport",[Mv]:"Suspense",[up]:"KeepAlive",[PR]:"BaseTransition",[Sl]:"openBlock",[DR]:"createBlock",[LR]:"createElementBlock",[Ov]:"createVNode",[Pv]:"createElementVNode",[sh]:"createCommentVNode",[Dv]:"createTextVNode",[FR]:"createStaticVNode",[Lv]:"resolveComponent",[Fv]:"resolveDynamicComponent",[Nv]:"resolveDirective",[$v]:"resolveFilter",[jv]:"withDirectives",[Bv]:"renderList",[NR]:"renderSlot",[$R]:"createSlots",[_m]:"toDisplayString",[cp]:"mergeProps",[Vv]:"normalizeClass",[Gv]:"normalizeStyle",[Ed]:"normalizeProps",[ah]:"guardReactiveProps",[zv]:"toHandlers",[Ly]:"camelize",[b3]:"capitalize",[Fy]:"toHandlerKey",[dp]:"setBlockTracking",[w3]:"pushScopeId",[E3]:"popScopeId",[Uv]:"withCtx",[T3]:"unref",[x3]:"isRef",[Hv]:"withMemo",[jR]:"isMemoSame"};function C3(t){Object.getOwnPropertySymbols(t).forEach(e=>{Uu[e]=t[e]})}const xr={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function S3(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:xr}}function Td(t,e,n,i,r,s,a,o=!1,l=!1,u=!1,c=xr){return t&&(o?(t.helper(Sl),t.helper(Wu(t.inSSR,u))):t.helper(Yu(t.inSSR,u)),a&&t.helper(jv)),{type:13,tag:e,props:n,children:i,patchFlag:r,dynamicProps:s,directives:a,isBlock:o,disableTracking:l,isComponent:u,loc:c}}function oh(t,e=xr){return{type:17,loc:e,elements:t}}function Ar(t,e=xr){return{type:15,loc:e,properties:t}}function Gn(t,e){return{type:16,loc:xr,key:Tt(t)?Ct(t,!0):t,value:e}}function Ct(t,e=!1,n=xr,i=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:i}}function Xr(t,e=xr){return{type:8,loc:e,children:t}}function Qn(t,e=[],n=xr){return{type:14,loc:n,callee:t,arguments:e}}function Hu(t,e=void 0,n=!1,i=!1,r=xr){return{type:18,params:t,returns:e,newline:n,isSlot:i,loc:r}}function Ny(t,e,n,i=!0){return{type:19,test:t,consequent:e,alternate:n,newline:i,loc:xr}}function k3(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:xr}}function R3(t){return{type:21,body:t,loc:xr}}function Yu(t,e){return t||e?Ov:Pv}function Wu(t,e){return t||e?DR:LR}function Yv(t,{helper:e,removeHelper:n,inSSR:i}){t.isBlock||(t.isBlock=!0,n(Yu(i,t.isComponent)),e(Sl),e(Wu(i,t.isComponent)))}const cT=new Uint8Array([123,123]),dT=new Uint8Array([125,125]);function hT(t){return t>=97&&t<=122||t>=65&&t<=90}function fr(t){return t===32||t===10||t===9||t===12||t===13}function Ra(t){return t===47||t===62||fr(t)}function hp(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const Di={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class I3{constructor(e,n){this.stack=e,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=cT,this.delimiterClose=dT,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=cT,this.delimiterClose=dT}getPos(e){let n=1,i=e+1;for(let r=this.newlines.length-1;r>=0;r--){const s=this.newlines[r];if(e>s){n=r+2,i=e-s;break}}return{column:i,line:n,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Ra(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||fr(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const i=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=i}this.sectionStart=n+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Di.TitleEnd||this.currentSequence===Di.TextareaEnd&&!this.inSFCRoot?e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===Di.Cdata[this.sequenceIndex]?++this.sequenceIndex===Di.Cdata.length&&(this.state=28,this.currentSequence=Di.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Di.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,n){this.enterRCDATA(e,n),this.state=31}enterRCDATA(e,n){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=n}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):hT(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Ra(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Ra(e)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(hp("</"+n),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){fr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=hT(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||fr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):fr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):fr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Ra(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Ra(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Ra(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Ra(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Ra(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):fr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):fr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,n){(e===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){fr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=Di.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===Di.ScriptEnd[3]?this.startSpecial(Di.ScriptEnd,4):e===Di.StyleEnd[3]?this.startSpecial(Di.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===Di.TitleEnd[3]?this.startSpecial(Di.TitleEnd,4):e===Di.TextareaEnd[3]?this.startSpecial(Di.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===Di.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){}}function fT(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function pl(t,e){const n=fT("MODE",e),i=fT(t,e);return n===3?i===!0:i!==!1}function xd(t,e,n,...i){return pl(t,e)}function Wv(t){throw t}function BR(t){}function gn(t,e,n,i){const r=`https://vuejs.org/error-reference/#compiler-${t}`,s=new SyntaxError(String(r));return s.code=t,s.loc=e,s}const sr=t=>t.type===4&&t.isStatic;function VR(t){switch(t){case"Teleport":case"teleport":return od;case"Suspense":case"suspense":return Mv;case"KeepAlive":case"keep-alive":return up;case"BaseTransition":case"base-transition":return PR}}const A3=/^\d|[^\$\w\xA0-\uFFFF]/,Kv=t=>!A3.test(t),M3=/[A-Za-z_$\xA0-\uFFFF]/,O3=/[\.\?\w$\xA0-\uFFFF]/,P3=/\s+[.[]\s*|\s*[.[]\s+/g,D3=t=>{t=t.trim().replace(P3,a=>a.trim());let e=0,n=[],i=0,r=0,s=null;for(let a=0;a<t.length;a++){const o=t.charAt(a);switch(e){case 0:if(o==="[")n.push(e),e=1,i++;else if(o==="(")n.push(e),e=2,r++;else if(!(a===0?M3:O3).test(o))return!1;break;case 1:o==="'"||o==='"'||o==="`"?(n.push(e),e=3,s=o):o==="["?i++:o==="]"&&(--i||(e=n.pop()));break;case 2:if(o==="'"||o==='"'||o==="`")n.push(e),e=3,s=o;else if(o==="(")r++;else if(o===")"){if(a===t.length-1)return!1;--r||(e=n.pop())}break;case 3:o===s&&(e=n.pop(),s=null);break}}return!i&&!r},GR=D3;function Ur(t,e,n=!1){for(let i=0;i<t.props.length;i++){const r=t.props[i];if(r.type===7&&(n||r.exp)&&(Tt(e)?r.name===e:e.test(r.name)))return r}}function vm(t,e,n=!1,i=!1){for(let r=0;r<t.props.length;r++){const s=t.props[r];if(s.type===6){if(n)continue;if(s.name===e&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&el(s.arg,e))return s}}function el(t,e){return!!(t&&sr(t)&&t.content===e)}function L3(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function S0(t){return t.type===5||t.type===2}function F3(t){return t.type===7&&t.name==="slot"}function fp(t){return t.type===1&&t.tagType===3}function pp(t){return t.type===1&&t.tagType===2}const N3=new Set([Ed,ah]);function zR(t,e=[]){if(t&&!Tt(t)&&t.type===14){const n=t.callee;if(!Tt(n)&&N3.has(n))return zR(t.arguments[0],e.concat(t))}return[t,e]}function mp(t,e,n){let i,r=t.type===13?t.props:t.arguments[2],s=[],a;if(r&&!Tt(r)&&r.type===14){const o=zR(r);r=o[0],s=o[1],a=s[s.length-1]}if(r==null||Tt(r))i=Ar([e]);else if(r.type===14){const o=r.arguments[0];!Tt(o)&&o.type===15?pT(e,o)||o.properties.unshift(e):r.callee===zv?i=Qn(n.helper(cp),[Ar([e]),r]):r.arguments.unshift(Ar([e])),!i&&(i=r)}else r.type===15?(pT(e,r)||r.properties.unshift(e),i=r):(i=Qn(n.helper(cp),[Ar([e]),r]),a&&a.callee===ah&&(a=s[s.length-2]));t.type===13?a?a.arguments[0]=i:t.props=i:a?a.arguments[0]=i:t.arguments[2]=i}function pT(t,e){let n=!1;if(t.key.type===4){const i=t.key.content;n=e.properties.some(r=>r.key.type===4&&r.key.content===i)}return n}function Cd(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,i)=>n==="-"?"_":t.charCodeAt(i).toString())}`}function $3(t){return t.type===14&&t.callee===Hv?t.arguments[1].returns:t}const j3=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,UR={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Ff,isPreTag:Ff,isCustomElement:Ff,onError:Wv,onWarn:BR,comments:!1,prefixIdentifiers:!1};let Gt=UR,Sd=null,ta="",ji=null,Dt=null,Qi="",Gs=-1,Ko=-1,gp=0,Ga=!1,$y=null;const mn=[],In=new I3(mn,{onerr:Fs,ontext(t,e){pf(xi(t,e),t,e)},ontextentity(t,e,n){pf(t,e,n)},oninterpolation(t,e){if(Ga)return pf(xi(t,e),t,e);let n=t+In.delimiterOpen.length,i=e-In.delimiterClose.length;for(;fr(ta.charCodeAt(n));)n++;for(;fr(ta.charCodeAt(i-1));)i--;let r=xi(n,i);r.includes("&")&&(r=Gt.decodeEntities(r,!1)),jy({type:5,content:Vf(r,!1,Jn(n,i)),loc:Jn(t,e)})},onopentagname(t,e){const n=xi(t,e);ji={type:1,tag:n,ns:Gt.getNamespace(n,mn[0],Gt.ns),tagType:0,props:[],children:[],loc:Jn(t-1,e),codegenNode:void 0}},onopentagend(t){gT(t)},onclosetag(t,e){const n=xi(t,e);if(!Gt.isVoidTag(n)){let i=!1;for(let r=0;r<mn.length;r++)if(mn[r].tag.toLowerCase()===n.toLowerCase()){i=!0,r>0&&Fs(24,mn[0].loc.start.offset);for(let a=0;a<=r;a++){const o=mn.shift();Bf(o,e,a<r)}break}i||Fs(23,HR(t,60))}},onselfclosingtag(t){const e=ji.tag;ji.isSelfClosing=!0,gT(t),mn[0]&&mn[0].tag===e&&Bf(mn.shift(),t)},onattribname(t,e){Dt={type:6,name:xi(t,e),nameLoc:Jn(t,e),value:void 0,loc:Jn(t)}},ondirname(t,e){const n=xi(t,e),i=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Ga&&i===""&&Fs(26,t),Ga||i==="")Dt={type:6,name:n,nameLoc:Jn(t,e),value:void 0,loc:Jn(t)};else if(Dt={type:7,name:i,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?["prop"]:[],loc:Jn(t)},i==="pre"){Ga=In.inVPre=!0,$y=ji;const r=ji.props;for(let s=0;s<r.length;s++)r[s].type===7&&(r[s]=q3(r[s]))}},ondirarg(t,e){if(t===e)return;const n=xi(t,e);if(Ga)Dt.name+=n,tl(Dt.nameLoc,e);else{const i=n[0]!=="[";Dt.arg=Vf(i?n:n.slice(1,-1),i,Jn(t,e),i?3:0)}},ondirmodifier(t,e){const n=xi(t,e);if(Ga)Dt.name+="."+n,tl(Dt.nameLoc,e);else if(Dt.name==="slot"){const i=Dt.arg;i&&(i.content+="."+n,tl(i.loc,e))}else Dt.modifiers.push(n)},onattribdata(t,e){Qi+=xi(t,e),Gs<0&&(Gs=t),Ko=e},onattribentity(t,e,n){Qi+=t,Gs<0&&(Gs=e),Ko=n},onattribnameend(t){const e=Dt.loc.start.offset,n=xi(e,t);Dt.type===7&&(Dt.rawName=n),ji.props.some(i=>(i.type===7?i.rawName:i.name)===n)&&Fs(2,e)},onattribend(t,e){if(ji&&Dt){if(tl(Dt.loc,e),t!==0)if(Qi.includes("&")&&(Qi=Gt.decodeEntities(Qi,!0)),Dt.type===6)Dt.name==="class"&&(Qi=WR(Qi).trim()),t===1&&!Qi&&Fs(13,e),Dt.value={type:2,content:Qi,loc:t===1?Jn(Gs,Ko):Jn(Gs-1,Ko+1)},In.inSFCRoot&&ji.tag==="template"&&Dt.name==="lang"&&Qi&&Qi!=="html"&&In.enterRCDATA(hp("</template"),0);else{let n=0;Dt.exp=Vf(Qi,!1,Jn(Gs,Ko),0,n),Dt.name==="for"&&(Dt.forParseResult=V3(Dt.exp));let i=-1;Dt.name==="bind"&&(i=Dt.modifiers.indexOf("sync"))>-1&&xd("COMPILER_V_BIND_SYNC",Gt,Dt.loc,Dt.rawName)&&(Dt.name="model",Dt.modifiers.splice(i,1))}(Dt.type!==7||Dt.name!=="pre")&&ji.props.push(Dt)}Qi="",Gs=Ko=-1},oncomment(t,e){Gt.comments&&jy({type:3,content:xi(t,e),loc:Jn(t-4,e+3)})},onend(){const t=ta.length;for(let e=0;e<mn.length;e++)Bf(mn[e],t-1),Fs(24,mn[e].loc.start.offset)},oncdata(t,e){mn[0].ns!==0?pf(xi(t,e),t,e):Fs(1,t-9)},onprocessinginstruction(t){(mn[0]?mn[0].ns:Gt.ns)===0&&Fs(21,t-1)}}),mT=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,B3=/^\(|\)$/g;function V3(t){const e=t.loc,n=t.content,i=n.match(j3);if(!i)return;const[,r,s]=i,a=(h,m,g=!1)=>{const y=e.start.offset+m,b=y+h.length;return Vf(h,!1,Jn(y,b),0,g?1:0)},o={source:a(s.trim(),n.indexOf(s,r.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=r.trim().replace(B3,"").trim();const u=r.indexOf(l),c=l.match(mT);if(c){l=l.replace(mT,"").trim();const h=c[1].trim();let m;if(h&&(m=n.indexOf(h,u+l.length),o.key=a(h,m,!0)),c[2]){const g=c[2].trim();g&&(o.index=a(g,n.indexOf(g,o.key?m+h.length:u+l.length),!0))}}return l&&(o.value=a(l,u,!0)),o}function xi(t,e){return ta.slice(t,e)}function gT(t){In.inSFCRoot&&(ji.innerLoc=Jn(t+1,t+1)),jy(ji);const{tag:e,ns:n}=ji;n===0&&Gt.isPreTag(e)&&gp++,Gt.isVoidTag(e)?Bf(ji,t):(mn.unshift(ji),(n===1||n===2)&&(In.inXML=!0)),ji=null}function pf(t,e,n){{const s=mn[0]&&mn[0].tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=Gt.decodeEntities(t,!1))}const i=mn[0]||Sd,r=i.children[i.children.length-1];r&&r.type===2?(r.content+=t,tl(r.loc,n)):i.children.push({type:2,content:t,loc:Jn(e,n)})}function Bf(t,e,n=!1){n?tl(t.loc,HR(e,60)):tl(t.loc,G3(e,62)+1),In.inSFCRoot&&(t.children.length?t.innerLoc.end=Ft({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Ft({},t.innerLoc.start),t.innerLoc.source=xi(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:i,ns:r}=t;Ga||(i==="slot"?t.tagType=2:yT(t)?t.tagType=3:U3(t)&&(t.tagType=1)),In.inRCDATA||(t.children=YR(t.children,t.tag)),r===0&&Gt.isPreTag(i)&&gp--,$y===t&&(Ga=In.inVPre=!1,$y=null),In.inXML&&(mn[0]?mn[0].ns:Gt.ns)===0&&(In.inXML=!1);{const s=t.props;if(!In.inSFCRoot&&pl("COMPILER_NATIVE_TEMPLATE",Gt)&&t.tag==="template"&&!yT(t)){const o=mn[0]||Sd,l=o.children.indexOf(t);o.children.splice(l,1,...t.children)}const a=s.find(o=>o.type===6&&o.name==="inline-template");a&&xd("COMPILER_INLINE_TEMPLATE",Gt,a.loc)&&t.children.length&&(a.value={type:2,content:xi(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function G3(t,e){let n=t;for(;ta.charCodeAt(n)!==e&&n<ta.length-1;)n++;return n}function HR(t,e){let n=t;for(;ta.charCodeAt(n)!==e&&n>=0;)n--;return n}const z3=new Set(["if","else","else-if","for","slot"]);function yT({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&z3.has(e[n].name))return!0}return!1}function U3({tag:t,props:e}){if(Gt.isCustomElement(t))return!1;if(t==="component"||H3(t.charCodeAt(0))||VR(t)||Gt.isBuiltInComponent&&Gt.isBuiltInComponent(t)||Gt.isNativeTag&&!Gt.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const i=e[n];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(xd("COMPILER_IS_ON_ELEMENT",Gt,i.loc))return!0}}else if(i.name==="bind"&&el(i.arg,"is")&&xd("COMPILER_IS_ON_ELEMENT",Gt,i.loc))return!0}return!1}function H3(t){return t>64&&t<91}const Y3=/\r\n/g;function YR(t,e){const n=Gt.whitespace!=="preserve";let i=!1;for(let r=0;r<t.length;r++){const s=t[r];if(s.type===2)if(gp)s.content=s.content.replace(Y3,`
`);else if(W3(s.content)){const a=t[r-1]&&t[r-1].type,o=t[r+1]&&t[r+1].type;!a||!o||n&&(a===3&&(o===3||o===1)||a===1&&(o===3||o===1&&K3(s.content)))?(i=!0,t[r]=null):s.content=" "}else n&&(s.content=WR(s.content))}if(gp&&e&&Gt.isPreTag(e)){const r=t[0];r&&r.type===2&&(r.content=r.content.replace(/^\r?\n/,""))}return i?t.filter(Boolean):t}function W3(t){for(let e=0;e<t.length;e++)if(!fr(t.charCodeAt(e)))return!1;return!0}function K3(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function WR(t){let e="",n=!1;for(let i=0;i<t.length;i++)fr(t.charCodeAt(i))?n||(e+=" ",n=!0):(e+=t[i],n=!1);return e}function jy(t){(mn[0]||Sd).children.push(t)}function Jn(t,e){return{start:In.getPos(t),end:e==null?e:In.getPos(e),source:e==null?e:xi(t,e)}}function tl(t,e){t.end=In.getPos(e),t.source=xi(t.start.offset,e)}function q3(t){const e={type:6,name:t.rawName,nameLoc:Jn(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function Vf(t,e=!1,n,i=0,r=0){return Ct(t,e,n,i)}function Fs(t,e,n){Gt.onError(gn(t,Jn(e,e)))}function X3(){In.reset(),ji=null,Dt=null,Qi="",Gs=-1,Ko=-1,mn.length=0}function Z3(t,e){if(X3(),ta=t,Gt=Ft({},UR),e){let r;for(r in e)e[r]!=null&&(Gt[r]=e[r])}In.mode=Gt.parseMode==="html"?1:Gt.parseMode==="sfc"?2:0,In.inXML=Gt.ns===1||Gt.ns===2;const n=e&&e.delimiters;n&&(In.delimiterOpen=hp(n[0]),In.delimiterClose=hp(n[1]));const i=Sd=S3([],t);return In.parse(ta),i.loc=Jn(0,t.length),i.children=YR(i.children),Sd=null,i}function J3(t,e){Gf(t,e,KR(t,t.children[0]))}function KR(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!pp(e)}function Gf(t,e,n=!1){const{children:i}=t,r=i.length;let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(o.type===1&&o.tagType===0){const l=n?0:Mr(o,e);if(l>0){if(l>=2){o.codegenNode.patchFlag="-1",o.codegenNode=e.hoist(o.codegenNode),s++;continue}}else{const u=o.codegenNode;if(u.type===13){const c=JR(u);if((!c||c===512||c===1)&&XR(o,e)>=2){const h=ZR(o);h&&(u.props=e.hoist(h))}u.dynamicProps&&(u.dynamicProps=e.hoist(u.dynamicProps))}}}if(o.type===1){const l=o.tagType===1;l&&e.scopes.vSlot++,Gf(o,e),l&&e.scopes.vSlot--}else if(o.type===11)Gf(o,e,o.children.length===1);else if(o.type===9)for(let l=0;l<o.branches.length;l++)Gf(o.branches[l],e,o.branches[l].children.length===1)}if(s&&e.transformHoist&&e.transformHoist(i,e,t),s&&s===r&&t.type===1&&t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&Ye(t.codegenNode.children)){const a=e.hoist(oh(t.codegenNode.children));e.hmr&&(a.content=`[...${a.content}]`),t.codegenNode.children=a}}function Mr(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const i=n.get(t);if(i!==void 0)return i;const r=t.codegenNode;if(r.type!==13||r.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(JR(r))return n.set(t,0),0;{let o=3;const l=XR(t,e);if(l===0)return n.set(t,0),0;l<o&&(o=l);for(let u=0;u<t.children.length;u++){const c=Mr(t.children[u],e);if(c===0)return n.set(t,0),0;c<o&&(o=c)}if(o>1)for(let u=0;u<t.props.length;u++){const c=t.props[u];if(c.type===7&&c.name==="bind"&&c.exp){const h=Mr(c.exp,e);if(h===0)return n.set(t,0),0;h<o&&(o=h)}}if(r.isBlock){for(let u=0;u<t.props.length;u++)if(t.props[u].type===7)return n.set(t,0),0;e.removeHelper(Sl),e.removeHelper(Wu(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(Yu(e.inSSR,r.isComponent))}return n.set(t,o),o}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Mr(t.content,e);case 4:return t.constType;case 8:let a=3;for(let o=0;o<t.children.length;o++){const l=t.children[o];if(Tt(l)||Dr(l))continue;const u=Mr(l,e);if(u===0)return 0;u<a&&(a=u)}return a;default:return 0}}const Q3=new Set([Vv,Gv,Ed,ah]);function qR(t,e){if(t.type===14&&!Tt(t.callee)&&Q3.has(t.callee)){const n=t.arguments[0];if(n.type===4)return Mr(n,e);if(n.type===14)return qR(n,e)}return 0}function XR(t,e){let n=3;const i=ZR(t);if(i&&i.type===15){const{properties:r}=i;for(let s=0;s<r.length;s++){const{key:a,value:o}=r[s],l=Mr(a,e);if(l===0)return l;l<n&&(n=l);let u;if(o.type===4?u=Mr(o,e):o.type===14?u=qR(o,e):u=0,u===0)return u;u<n&&(n=u)}}return n}function ZR(t){const e=t.codegenNode;if(e.type===13)return e.props}function JR(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function e$(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:i=!1,hmr:r=!1,cacheHandlers:s=!1,nodeTransforms:a=[],directiveTransforms:o={},transformHoist:l=null,isBuiltInComponent:u=ri,isCustomElement:c=ri,expressionPlugins:h=[],scopeId:m=null,slotted:g=!0,ssr:y=!1,inSSR:b=!1,ssrCssVars:w="",bindingMetadata:E=jt,inline:x=!1,isTS:_=!1,onError:T=Wv,onWarn:C=BR,compatConfig:k}){const A=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),L={filename:e,selfName:A&&yo(yn(A[1])),prefixIdentifiers:n,hoistStatic:i,hmr:r,cacheHandlers:s,nodeTransforms:a,directiveTransforms:o,transformHoist:l,isBuiltInComponent:u,isCustomElement:c,expressionPlugins:h,scopeId:m,slotted:g,ssr:y,inSSR:b,ssrCssVars:w,bindingMetadata:E,inline:x,isTS:_,onError:T,onWarn:C,compatConfig:k,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new WeakMap,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(R){const j=L.helpers.get(R)||0;return L.helpers.set(R,j+1),R},removeHelper(R){const j=L.helpers.get(R);if(j){const U=j-1;U?L.helpers.set(R,U):L.helpers.delete(R)}},helperString(R){return`_${Uu[L.helper(R)]}`},replaceNode(R){L.parent.children[L.childIndex]=L.currentNode=R},removeNode(R){const j=L.parent.children,U=R?j.indexOf(R):L.currentNode?L.childIndex:-1;!R||R===L.currentNode?(L.currentNode=null,L.onNodeRemoved()):L.childIndex>U&&(L.childIndex--,L.onNodeRemoved()),L.parent.children.splice(U,1)},onNodeRemoved:ri,addIdentifiers(R){},removeIdentifiers(R){},hoist(R){Tt(R)&&(R=Ct(R)),L.hoists.push(R);const j=Ct(`_hoisted_${L.hoists.length}`,!1,R.loc,2);return j.hoisted=R,j},cache(R,j=!1){return k3(L.cached++,R,j)}};return L.filters=new Set,L}function t$(t,e){const n=e$(t,e);bm(t,n),e.hoistStatic&&J3(t,n),e.ssr||n$(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function n$(t,e){const{helper:n}=e,{children:i}=t;if(i.length===1){const r=i[0];if(KR(t,r)&&r.codegenNode){const s=r.codegenNode;s.type===13&&Yv(s,e),t.codegenNode=s}else t.codegenNode=r}else if(i.length>1){let r=64;t.codegenNode=Td(e,n(wd),void 0,t.children,r+"",void 0,void 0,!0,void 0,!1)}}function i$(t,e){let n=0;const i=()=>{n--};for(;n<t.children.length;n++){const r=t.children[n];Tt(r)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=i,bm(r,e))}}function bm(t,e){e.currentNode=t;const{nodeTransforms:n}=e,i=[];for(let s=0;s<n.length;s++){const a=n[s](t,e);if(a&&(Ye(a)?i.push(...a):i.push(a)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(sh);break;case 5:e.ssr||e.helper(_m);break;case 9:for(let s=0;s<t.branches.length;s++)bm(t.branches[s],e);break;case 10:case 11:case 1:case 0:i$(t,e);break}e.currentNode=t;let r=i.length;for(;r--;)i[r]()}function QR(t,e){const n=Tt(t)?i=>i===t:i=>t.test(i);return(i,r)=>{if(i.type===1){const{props:s}=i;if(i.tagType===3&&s.some(F3))return;const a=[];for(let o=0;o<s.length;o++){const l=s[o];if(l.type===7&&n(l.name)){s.splice(o,1),o--;const u=e(i,l,r);u&&a.push(u)}}return a}}}const wm="/*#__PURE__*/",eI=t=>`${Uu[t]}: _${Uu[t]}`;function r$(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:i=!1,filename:r="template.vue.html",scopeId:s=null,optimizeImports:a=!1,runtimeGlobalName:o="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:c=!1,isTS:h=!1,inSSR:m=!1}){const g={mode:e,prefixIdentifiers:n,sourceMap:i,filename:r,scopeId:s,optimizeImports:a,runtimeGlobalName:o,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:c,isTS:h,inSSR:m,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${Uu[b]}`},push(b,w=-2,E){g.code+=b},indent(){y(++g.indentLevel)},deindent(b=!1){b?--g.indentLevel:y(--g.indentLevel)},newline(){y(g.indentLevel)}};function y(b){g.push(`
`+"  ".repeat(b),0)}return g}function s$(t,e={}){const n=r$(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:i,push:r,prefixIdentifiers:s,indent:a,deindent:o,newline:l,scopeId:u,ssr:c}=n,h=Array.from(t.helpers),m=h.length>0,g=!s&&i!=="module";a$(t,n);const b=c?"ssrRender":"render",E=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${b}(${E}) {`),a(),g&&(r("with (_ctx) {"),a(),m&&(r(`const { ${h.map(eI).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(k0(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(k0(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),k0(t.filters,"filter",n),l()),t.temps>0){r("let ");for(let x=0;x<t.temps;x++)r(`${x>0?", ":""}_temp${x}`)}return(t.components.length||t.directives.length||t.temps)&&(r(`
`,0),l()),c||r("return "),t.codegenNode?Gi(t.codegenNode,n):r("null"),g&&(o(),r("}")),o(),r("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function a$(t,e){const{ssr:n,prefixIdentifiers:i,push:r,newline:s,runtimeModuleName:a,runtimeGlobalName:o,ssrRuntimeModuleName:l}=e,u=o,c=Array.from(t.helpers);if(c.length>0&&(r(`const _Vue = ${u}
`,-1),t.hoists.length)){const h=[Ov,Pv,sh,Dv,FR].filter(m=>c.includes(m)).map(eI).join(", ");r(`const { ${h} } = _Vue
`,-1)}o$(t.hoists,e),s(),r("return ")}function k0(t,e,{helper:n,push:i,newline:r,isTS:s}){const a=n(e==="filter"?$v:e==="component"?Lv:Nv);for(let o=0;o<t.length;o++){let l=t[o];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),i(`const ${Cd(l,e)} = ${a}(${JSON.stringify(l)}${u?", true":""})${s?"!":""}`),o<t.length-1&&r()}}function o$(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:i,helper:r,scopeId:s,mode:a}=e;i();for(let o=0;o<t.length;o++){const l=t[o];l&&(n(`const _hoisted_${o+1} = `),Gi(l,e),i())}e.pure=!1}function qv(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),lh(t,e,n),n&&e.deindent(),e.push("]")}function lh(t,e,n=!1,i=!0){const{push:r,newline:s}=e;for(let a=0;a<t.length;a++){const o=t[a];Tt(o)?r(o,-3):Ye(o)?qv(o,e):Gi(o,e),a<t.length-1&&(n?(i&&r(","),s()):i&&r(", "))}}function Gi(t,e){if(Tt(t)){e.push(t,-3);return}if(Dr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Gi(t.codegenNode,e);break;case 2:l$(t,e);break;case 4:tI(t,e);break;case 5:u$(t,e);break;case 12:Gi(t.codegenNode,e);break;case 8:nI(t,e);break;case 3:d$(t,e);break;case 13:h$(t,e);break;case 14:p$(t,e);break;case 15:m$(t,e);break;case 17:g$(t,e);break;case 18:y$(t,e);break;case 19:_$(t,e);break;case 20:v$(t,e);break;case 21:lh(t.body,e,!0,!1);break}}function l$(t,e){e.push(JSON.stringify(t.content),-3,t)}function tI(t,e){const{content:n,isStatic:i}=t;e.push(i?JSON.stringify(n):n,-3,t)}function u$(t,e){const{push:n,helper:i,pure:r}=e;r&&n(wm),n(`${i(_m)}(`),Gi(t.content,e),n(")")}function nI(t,e){for(let n=0;n<t.children.length;n++){const i=t.children[n];Tt(i)?e.push(i,-3):Gi(i,e)}}function c$(t,e){const{push:n}=e;if(t.type===8)n("["),nI(t,e),n("]");else if(t.isStatic){const i=Kv(t.content)?t.content:JSON.stringify(t.content);n(i,-2,t)}else n(`[${t.content}]`,-3,t)}function d$(t,e){const{push:n,helper:i,pure:r}=e;r&&n(wm),n(`${i(sh)}(${JSON.stringify(t.content)})`,-3,t)}function h$(t,e){const{push:n,helper:i,pure:r}=e,{tag:s,props:a,children:o,patchFlag:l,dynamicProps:u,directives:c,isBlock:h,disableTracking:m,isComponent:g}=t;c&&n(i(jv)+"("),h&&n(`(${i(Sl)}(${m?"true":""}), `),r&&n(wm);const y=h?Wu(e.inSSR,g):Yu(e.inSSR,g);n(i(y)+"(",-2,t),lh(f$([s,a,o,l,u]),e),n(")"),h&&n(")"),c&&(n(", "),Gi(c,e),n(")"))}function f$(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function p$(t,e){const{push:n,helper:i,pure:r}=e,s=Tt(t.callee)?t.callee:i(t.callee);r&&n(wm),n(s+"(",-2,t),lh(t.arguments,e),n(")")}function m$(t,e){const{push:n,indent:i,deindent:r,newline:s}=e,{properties:a}=t;if(!a.length){n("{}",-2,t);return}const o=a.length>1||!1;n(o?"{":"{ "),o&&i();for(let l=0;l<a.length;l++){const{key:u,value:c}=a[l];c$(u,e),n(": "),Gi(c,e),l<a.length-1&&(n(","),s())}o&&r(),n(o?"}":" }")}function g$(t,e){qv(t.elements,e)}function y$(t,e){const{push:n,indent:i,deindent:r}=e,{params:s,returns:a,body:o,newline:l,isSlot:u}=t;u&&n(`_${Uu[Uv]}(`),n("(",-2,t),Ye(s)?lh(s,e):s&&Gi(s,e),n(") => "),(l||o)&&(n("{"),i()),a?(l&&n("return "),Ye(a)?qv(a,e):Gi(a,e)):o&&Gi(o,e),(l||o)&&(r(),n("}")),u&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function _$(t,e){const{test:n,consequent:i,alternate:r,newline:s}=t,{push:a,indent:o,deindent:l,newline:u}=e;if(n.type===4){const h=!Kv(n.content);h&&a("("),tI(n,e),h&&a(")")}else a("("),Gi(n,e),a(")");s&&o(),e.indentLevel++,s||a(" "),a("? "),Gi(i,e),e.indentLevel--,s&&u(),s||a(" "),a(": ");const c=r.type===19;c||e.indentLevel++,Gi(r,e),c||e.indentLevel--,s&&l(!0)}function v$(t,e){const{push:n,helper:i,indent:r,deindent:s,newline:a}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(r(),n(`${i(dp)}(-1),`),a()),n(`_cache[${t.index}] = `),Gi(t.value,e),t.isVNode&&(n(","),a(),n(`${i(dp)}(1),`),a(),n(`_cache[${t.index}]`),s()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const b$=QR(/^(if|else|else-if)$/,(t,e,n)=>w$(t,e,n,(i,r,s)=>{const a=n.parent.children;let o=a.indexOf(i),l=0;for(;o-->=0;){const u=a[o];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(s)i.codegenNode=vT(r,l,n);else{const u=E$(i.codegenNode);u.alternate=vT(r,l+i.branches.length-1,n)}}}));function w$(t,e,n,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const r=e.exp?e.exp.loc:t.loc;n.onError(gn(28,e.loc)),e.exp=Ct("true",!1,r)}if(e.name==="if"){const r=_T(t,e),s={type:9,loc:t.loc,branches:[r]};if(n.replaceNode(s),i)return i(s,r,!0)}else{const r=n.parent.children;let s=r.indexOf(t);for(;s-->=-1;){const a=r[s];if(a&&a.type===3){n.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){n.removeNode(a);continue}if(a&&a.type===9){e.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&n.onError(gn(30,t.loc)),n.removeNode();const o=_T(t,e);a.branches.push(o);const l=i&&i(a,o,!1);bm(o,n),l&&l(),n.currentNode=null}else n.onError(gn(30,t.loc));break}}}function _T(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!Ur(t,"for")?t.children:[t],userKey:vm(t,"key"),isTemplateIf:n}}function vT(t,e,n){return t.condition?Ny(t.condition,bT(t,e,n),Qn(n.helper(sh),['""',"true"])):bT(t,e,n)}function bT(t,e,n){const{helper:i}=n,r=Gn("key",Ct(`${e}`,!1,xr,2)),{children:s}=t,a=s[0];if(s.length!==1||a.type!==1)if(s.length===1&&a.type===11){const l=a.codegenNode;return mp(l,r,n),l}else return Td(n,i(wd),Ar([r]),s,64+"",void 0,void 0,!0,!1,!1,t.loc);else{const l=a.codegenNode,u=$3(l);return u.type===13&&Yv(u,n),mp(u,r,n),l}}function E$(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const T$=(t,e,n)=>{const{modifiers:i,loc:r}=t,s=t.arg;let{exp:a}=t;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(s.type!==4||!s.isStatic)return n.onError(gn(52,s.loc)),{props:[Gn(s,Ct("",!0,r))]};iI(t),a=t.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.includes("camel")&&(s.type===4?s.isStatic?s.content=yn(s.content):s.content=`${n.helperString(Ly)}(${s.content})`:(s.children.unshift(`${n.helperString(Ly)}(`),s.children.push(")"))),n.inSSR||(i.includes("prop")&&wT(s,"."),i.includes("attr")&&wT(s,"^")),{props:[Gn(s,a)]}},iI=(t,e)=>{const n=t.arg,i=yn(n.content);t.exp=Ct(i,!1,n.loc)},wT=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},x$=QR("for",(t,e,n)=>{const{helper:i,removeHelper:r}=n;return C$(t,e,n,s=>{const a=Qn(i(Bv),[s.source]),o=fp(t),l=Ur(t,"memo"),u=vm(t,"key",!1,!0);u&&u.type===7&&!u.exp&&iI(u);const c=u&&(u.type===6?u.value?Ct(u.value.content,!0):void 0:u.exp),h=u&&c?Gn("key",c):null,m=s.source.type===4&&s.source.constType>0,g=m?64:u?128:256;return s.codegenNode=Td(n,i(wd),void 0,a,g+"",void 0,void 0,!0,!m,!1,t.loc),()=>{let y;const{children:b}=s,w=b.length!==1||b[0].type!==1,E=pp(t)?t:o&&t.children.length===1&&pp(t.children[0])?t.children[0]:null;if(E?(y=E.codegenNode,o&&h&&mp(y,h,n)):w?y=Td(n,i(wd),h?Ar([h]):void 0,t.children,"64",void 0,void 0,!0,void 0,!1):(y=b[0].codegenNode,o&&h&&mp(y,h,n),y.isBlock!==!m&&(y.isBlock?(r(Sl),r(Wu(n.inSSR,y.isComponent))):r(Yu(n.inSSR,y.isComponent))),y.isBlock=!m,y.isBlock?(i(Sl),i(Wu(n.inSSR,y.isComponent))):i(Yu(n.inSSR,y.isComponent))),l){const x=Hu(By(s.parseResult,[Ct("_cached")]));x.body=R3([Xr(["const _memo = (",l.exp,")"]),Xr(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${n.helperString(jR)}(_cached, _memo)) return _cached`]),Xr(["const _item = ",y]),Ct("_item.memo = _memo"),Ct("return _item")]),a.arguments.push(x,Ct("_cache"),Ct(String(n.cached++)))}else a.arguments.push(Hu(By(s.parseResult),y,!0))}})});function C$(t,e,n,i){if(!e.exp){n.onError(gn(31,e.loc));return}const r=e.forParseResult;if(!r){n.onError(gn(32,e.loc));return}rI(r);const{addIdentifiers:s,removeIdentifiers:a,scopes:o}=n,{source:l,value:u,key:c,index:h}=r,m={type:11,loc:e.loc,source:l,valueAlias:u,keyAlias:c,objectIndexAlias:h,parseResult:r,children:fp(t)?t.children:[t]};n.replaceNode(m),o.vFor++;const g=i&&i(m);return()=>{o.vFor--,g&&g()}}function rI(t,e){t.finalized||(t.finalized=!0)}function By({value:t,key:e,index:n},i=[]){return S$([t,e,n,...i])}function S$(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,i)=>n||Ct("_".repeat(i+1),!1))}const ET=Ct("undefined",!1),k$=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=Ur(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},R$=(t,e,n,i)=>Hu(t,n,!1,!0,n.length?n[0].loc:i);function I$(t,e,n=R$){e.helper(Uv);const{children:i,loc:r}=t,s=[],a=[];let o=e.scopes.vSlot>0||e.scopes.vFor>0;const l=Ur(t,"slot",!0);if(l){const{arg:w,exp:E}=l;w&&!sr(w)&&(o=!0),s.push(Gn(w||Ct("default",!0),n(E,void 0,i,r)))}let u=!1,c=!1;const h=[],m=new Set;let g=0;for(let w=0;w<i.length;w++){const E=i[w];let x;if(!fp(E)||!(x=Ur(E,"slot",!0))){E.type!==3&&h.push(E);continue}if(l){e.onError(gn(37,x.loc));break}u=!0;const{children:_,loc:T}=E,{arg:C=Ct("default",!0),exp:k,loc:A}=x;let L;sr(C)?L=C?C.content:"default":o=!0;const R=Ur(E,"for"),j=n(k,R,_,T);let U,G;if(U=Ur(E,"if"))o=!0,a.push(Ny(U.exp,mf(C,j,g++),ET));else if(G=Ur(E,/^else(-if)?$/,!0)){let ne=w,W;for(;ne--&&(W=i[ne],W.type===3););if(W&&fp(W)&&Ur(W,"if")){i.splice(w,1),w--;let F=a[a.length-1];for(;F.alternate.type===19;)F=F.alternate;F.alternate=G.exp?Ny(G.exp,mf(C,j,g++),ET):mf(C,j,g++)}else e.onError(gn(30,G.loc))}else if(R){o=!0;const ne=R.forParseResult;ne?(rI(ne),a.push(Qn(e.helper(Bv),[ne.source,Hu(By(ne),mf(C,j),!0)]))):e.onError(gn(32,R.loc))}else{if(L){if(m.has(L)){e.onError(gn(38,A));continue}m.add(L),L==="default"&&(c=!0)}s.push(Gn(C,j))}}if(!l){const w=(E,x)=>{const _=n(E,void 0,x,r);return e.compatConfig&&(_.isNonScopedSlot=!0),Gn("default",_)};u?h.length&&h.some(E=>sI(E))&&(c?e.onError(gn(39,h[0].loc)):s.push(w(void 0,h))):s.push(w(void 0,i))}const y=o?2:zf(t.children)?3:1;let b=Ar(s.concat(Gn("_",Ct(y+"",!1))),r);return a.length&&(b=Qn(e.helper($R),[b,oh(a)])),{slots:b,hasDynamicSlots:o}}function mf(t,e,n){const i=[Gn("name",t),Gn("fn",e)];return n!=null&&i.push(Gn("key",Ct(String(n),!0))),Ar(i)}function zf(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||zf(n.children))return!0;break;case 9:if(zf(n.branches))return!0;break;case 10:case 11:if(zf(n.children))return!0;break}}return!1}function sI(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():sI(t.content)}const aI=new WeakMap,A$=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:i,props:r}=t,s=t.tagType===1;let a=s?M$(t,e):`"${i}"`;const o=en(a)&&a.callee===Fv;let l,u,c,h=0,m,g,y,b=o||a===od||a===Mv||!s&&(i==="svg"||i==="foreignObject"||i==="math");if(r.length>0){const w=oI(t,e,void 0,s,o);l=w.props,h=w.patchFlag,g=w.dynamicPropNames;const E=w.directives;y=E&&E.length?oh(E.map(x=>P$(x,e))):void 0,w.shouldUseBlock&&(b=!0)}if(t.children.length>0)if(a===up&&(b=!0,h|=1024),s&&a!==od&&a!==up){const{slots:E,hasDynamicSlots:x}=I$(t,e);u=E,x&&(h|=1024)}else if(t.children.length===1&&a!==od){const E=t.children[0],x=E.type,_=x===5||x===8;_&&Mr(E,e)===0&&(h|=1),_||x===2?u=E:u=t.children}else u=t.children;h!==0&&(c=String(h),g&&g.length&&(m=D$(g))),t.codegenNode=Td(e,a,l,u,c,m,y,!!b,!1,s,t.loc)};function M$(t,e,n=!1){let{tag:i}=t;const r=Vy(i),s=vm(t,"is",!1,!0);if(s)if(r||pl("COMPILER_IS_ON_ELEMENT",e)){let o;if(s.type===6?o=s.value&&Ct(s.value.content,!0):(o=s.exp,o||(o=Ct("is",!1,s.loc))),o)return Qn(e.helper(Fv),[o])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));const a=VR(i)||e.isBuiltInComponent(i);return a?(n||e.helper(a),a):(e.helper(Lv),e.components.add(i),Cd(i,"component"))}function oI(t,e,n=t.props,i,r,s=!1){const{tag:a,loc:o,children:l}=t;let u=[];const c=[],h=[],m=l.length>0;let g=!1,y=0,b=!1,w=!1,E=!1,x=!1,_=!1,T=!1;const C=[],k=j=>{u.length&&(c.push(Ar(TT(u),o)),u=[]),j&&c.push(j)},A=()=>{e.scopes.vFor>0&&u.push(Gn(Ct("ref_for",!0),Ct("true")))},L=({key:j,value:U})=>{if(sr(j)){const G=j.content,ne=Ml(G);if(ne&&(!i||r)&&G.toLowerCase()!=="onclick"&&G!=="onUpdate:modelValue"&&!Ja(G)&&(x=!0),ne&&Ja(G)&&(T=!0),ne&&U.type===14&&(U=U.arguments[0]),U.type===20||(U.type===4||U.type===8)&&Mr(U,e)>0)return;G==="ref"?b=!0:G==="class"?w=!0:G==="style"?E=!0:G!=="key"&&!C.includes(G)&&C.push(G),i&&(G==="class"||G==="style")&&!C.includes(G)&&C.push(G)}else _=!0};for(let j=0;j<n.length;j++){const U=n[j];if(U.type===6){const{loc:G,name:ne,nameLoc:W,value:F}=U;let B=!0;if(ne==="ref"&&(b=!0,A()),ne==="is"&&(Vy(a)||F&&F.content.startsWith("vue:")||pl("COMPILER_IS_ON_ELEMENT",e)))continue;u.push(Gn(Ct(ne,!0,W),Ct(F?F.content:"",B,F?F.loc:G)))}else{const{name:G,arg:ne,exp:W,loc:F,modifiers:B}=U,N=G==="bind",Q=G==="on";if(G==="slot"){i||e.onError(gn(40,F));continue}if(G==="once"||G==="memo"||G==="is"||N&&el(ne,"is")&&(Vy(a)||pl("COMPILER_IS_ON_ELEMENT",e))||Q&&s)continue;if((N&&el(ne,"key")||Q&&m&&el(ne,"vue:before-update"))&&(g=!0),N&&el(ne,"ref")&&A(),!ne&&(N||Q)){if(_=!0,W)if(N){if(A(),k(),pl("COMPILER_V_BIND_OBJECT_ORDER",e)){c.unshift(W);continue}c.push(W)}else k({type:14,loc:F,callee:e.helper(zv),arguments:i?[W]:[W,"true"]});else e.onError(gn(N?34:35,F));continue}N&&B.includes("prop")&&(y|=32);const _e=e.directiveTransforms[G];if(_e){const{props:be,needRuntime:xe}=_e(U,t,e);!s&&be.forEach(L),Q&&ne&&!sr(ne)?k(Ar(be,o)):u.push(...be),xe&&(h.push(U),Dr(xe)&&aI.set(U,xe))}else nF(G)||(h.push(U),m&&(g=!0))}}let R;if(c.length?(k(),c.length>1?R=Qn(e.helper(cp),c,o):R=c[0]):u.length&&(R=Ar(TT(u),o)),_?y|=16:(w&&!i&&(y|=2),E&&!i&&(y|=4),C.length&&(y|=8),x&&(y|=32)),!g&&(y===0||y===32)&&(b||T||h.length>0)&&(y|=512),!e.inSSR&&R)switch(R.type){case 15:let j=-1,U=-1,G=!1;for(let F=0;F<R.properties.length;F++){const B=R.properties[F].key;sr(B)?B.content==="class"?j=F:B.content==="style"&&(U=F):B.isHandlerKey||(G=!0)}const ne=R.properties[j],W=R.properties[U];G?R=Qn(e.helper(Ed),[R]):(ne&&!sr(ne.value)&&(ne.value=Qn(e.helper(Vv),[ne.value])),W&&(E||W.value.type===4&&W.value.content.trim()[0]==="["||W.value.type===17)&&(W.value=Qn(e.helper(Gv),[W.value])));break;case 14:break;default:R=Qn(e.helper(Ed),[Qn(e.helper(ah),[R])]);break}return{props:R,directives:h,patchFlag:y,dynamicPropNames:C,shouldUseBlock:g}}function TT(t){const e=new Map,n=[];for(let i=0;i<t.length;i++){const r=t[i];if(r.key.type===8||!r.key.isStatic){n.push(r);continue}const s=r.key.content,a=e.get(s);a?(s==="style"||s==="class"||Ml(s))&&O$(a,r):(e.set(s,r),n.push(r))}return n}function O$(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=oh([t.value,e.value],t.loc)}function P$(t,e){const n=[],i=aI.get(t);i?n.push(e.helperString(i)):(e.helper(Nv),e.directives.add(t.name),n.push(Cd(t.name,"directive")));const{loc:r}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const s=Ct("true",!1,r);n.push(Ar(t.modifiers.map(a=>Gn(a,s)),r))}return oh(n,t.loc)}function D$(t){let e="[";for(let n=0,i=t.length;n<i;n++)e+=JSON.stringify(t[n]),n<i-1&&(e+=", ");return e+"]"}function Vy(t){return t==="component"||t==="Component"}const L$=(t,e)=>{if(pp(t)){const{children:n,loc:i}=t,{slotName:r,slotProps:s}=F$(t,e),a=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let o=2;s&&(a[2]=s,o=3),n.length&&(a[3]=Hu([],n,!1,!1,i),o=4),e.scopeId&&!e.slotted&&(o=5),a.splice(o),t.codegenNode=Qn(e.helper(NR),a,i)}};function F$(t,e){let n='"default"',i;const r=[];for(let s=0;s<t.props.length;s++){const a=t.props[s];if(a.type===6)a.value&&(a.name==="name"?n=JSON.stringify(a.value.content):(a.name=yn(a.name),r.push(a)));else if(a.name==="bind"&&el(a.arg,"name")){if(a.exp)n=a.exp;else if(a.arg&&a.arg.type===4){const o=yn(a.arg.content);n=a.exp=Ct(o,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&sr(a.arg)&&(a.arg.content=yn(a.arg.content)),r.push(a)}if(r.length>0){const{props:s,directives:a}=oI(t,e,r,!1,!1);i=s,a.length&&e.onError(gn(36,a[0].loc))}return{slotName:n,slotProps:i}}const N$=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,lI=(t,e,n,i)=>{const{loc:r,modifiers:s,arg:a}=t;!t.exp&&!s.length&&n.onError(gn(35,r));let o;if(a.type===4)if(a.isStatic){let h=a.content;h.startsWith("vue:")&&(h=`vnode-${h.slice(4)}`);const m=e.tagType!==0||h.startsWith("vnode")||!/[A-Z]/.test(h)?ll(yn(h)):`on:${h}`;o=Ct(m,!0,a.loc)}else o=Xr([`${n.helperString(Fy)}(`,a,")"]);else o=a,o.children.unshift(`${n.helperString(Fy)}(`),o.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let u=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const h=GR(l.content),m=!(h||N$.test(l.content)),g=l.content.includes(";");(m||u&&h)&&(l=Xr([`${m?"$event":"(...args)"} => ${g?"{":"("}`,l,g?"}":")"]))}let c={props:[Gn(o,l||Ct("() => {}",!1,r))]};return i&&(c=i(c)),u&&(c.props[0].value=n.cache(c.props[0].value)),c.props.forEach(h=>h.key.isHandlerKey=!0),c},$$=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let i,r=!1;for(let s=0;s<n.length;s++){const a=n[s];if(S0(a)){r=!0;for(let o=s+1;o<n.length;o++){const l=n[o];if(S0(l))i||(i=n[s]=Xr([a],a.loc)),i.children.push(" + ",l),n.splice(o,1),o--;else{i=void 0;break}}}}if(!(!r||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&t.tag!=="template")))for(let s=0;s<n.length;s++){const a=n[s];if(S0(a)||a.type===8){const o=[];(a.type!==2||a.content!==" ")&&o.push(a),!e.ssr&&Mr(a,e)===0&&o.push("1"),n[s]={type:12,content:a,loc:a.loc,codegenNode:Qn(e.helper(Dv),o)}}}}},xT=new WeakSet,j$=(t,e)=>{if(t.type===1&&Ur(t,"once",!0))return xT.has(t)||e.inVOnce||e.inSSR?void 0:(xT.add(t),e.inVOnce=!0,e.helper(dp),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},uI=(t,e,n)=>{const{exp:i,arg:r}=t;if(!i)return n.onError(gn(41,t.loc)),gf();const s=i.loc.source,a=i.type===4?i.content:s,o=n.bindingMetadata[s];if(o==="props"||o==="props-aliased")return n.onError(gn(44,i.loc)),gf();if(!a.trim()||!GR(a)&&!!1)return n.onError(gn(42,i.loc)),gf();const u=r||Ct("modelValue",!0),c=r?sr(r)?`onUpdate:${yn(r.content)}`:Xr(['"onUpdate:" + ',r]):"onUpdate:modelValue";let h;const m=n.isTS?"($event: any)":"$event";h=Xr([`${m} => ((`,i,") = $event)"]);const g=[Gn(u,t.exp),Gn(c,h)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(w=>(Kv(w)?w:JSON.stringify(w))+": true").join(", "),b=r?sr(r)?`${r.content}Modifiers`:Xr([r,' + "Modifiers"']):"modelModifiers";g.push(Gn(b,Ct(`{ ${y} }`,!1,t.loc,2)))}return gf(g)};function gf(t=[]){return{props:t}}const B$=/[\w).+\-_$\]]/,V$=(t,e)=>{pl("COMPILER_FILTERS",e)&&(t.type===5&&yp(t.content,e),t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&yp(n.exp,e)}))};function yp(t,e){if(t.type===4)CT(t,e);else for(let n=0;n<t.children.length;n++){const i=t.children[n];typeof i=="object"&&(i.type===4?CT(i,e):i.type===8?yp(t,e):i.type===5&&yp(i.content,e))}}function CT(t,e){const n=t.content;let i=!1,r=!1,s=!1,a=!1,o=0,l=0,u=0,c=0,h,m,g,y,b=[];for(g=0;g<n.length;g++)if(m=h,h=n.charCodeAt(g),i)h===39&&m!==92&&(i=!1);else if(r)h===34&&m!==92&&(r=!1);else if(s)h===96&&m!==92&&(s=!1);else if(a)h===47&&m!==92&&(a=!1);else if(h===124&&n.charCodeAt(g+1)!==124&&n.charCodeAt(g-1)!==124&&!o&&!l&&!u)y===void 0?(c=g+1,y=n.slice(0,g).trim()):w();else{switch(h){case 34:r=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:o++;break;case 125:o--;break}if(h===47){let E=g-1,x;for(;E>=0&&(x=n.charAt(E),x===" ");E--);(!x||!B$.test(x))&&(a=!0)}}y===void 0?y=n.slice(0,g).trim():c!==0&&w();function w(){b.push(n.slice(c,g).trim()),c=g+1}if(b.length){for(g=0;g<b.length;g++)y=G$(y,b[g],e);t.content=y,t.ast=void 0}}function G$(t,e,n){n.helper($v);const i=e.indexOf("(");if(i<0)return n.filters.add(e),`${Cd(e,"filter")}(${t})`;{const r=e.slice(0,i),s=e.slice(i+1);return n.filters.add(r),`${Cd(r,"filter")}(${t}${s!==")"?","+s:s}`}}const ST=new WeakSet,z$=(t,e)=>{if(t.type===1){const n=Ur(t,"memo");return!n||ST.has(t)?void 0:(ST.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(t.tagType!==1&&Yv(i,e),t.codegenNode=Qn(e.helper(Hv),[n.exp,Hu(void 0,i),"_cache",String(e.cached++)]))})}};function U$(t){return[[j$,b$,z$,x$,V$,L$,A$,k$,$$],{on:lI,bind:T$,model:uI}]}function H$(t,e={}){const n=e.onError||Wv,i=e.mode==="module";e.prefixIdentifiers===!0?n(gn(47)):i&&n(gn(48));const r=!1;e.cacheHandlers&&n(gn(49)),e.scopeId&&!i&&n(gn(50));const s=Ft({},e,{prefixIdentifiers:r}),a=Tt(t)?Z3(t,s):t,[o,l]=U$();return t$(a,Ft({},s,{nodeTransforms:[...o,...e.nodeTransforms||[]],directiveTransforms:Ft({},l,e.directiveTransforms||{})})),s$(a,s)}const Y$=()=>({props:[]});/**
* @vue/compiler-dom v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const cI=Symbol(""),dI=Symbol(""),hI=Symbol(""),fI=Symbol(""),Gy=Symbol(""),pI=Symbol(""),mI=Symbol(""),gI=Symbol(""),yI=Symbol(""),_I=Symbol("");C3({[cI]:"vModelRadio",[dI]:"vModelCheckbox",[hI]:"vModelText",[fI]:"vModelSelect",[Gy]:"vModelDynamic",[pI]:"withModifiers",[mI]:"withKeys",[gI]:"vShow",[yI]:"Transition",[_I]:"TransitionGroup"});let nu;function W$(t,e=!1){return nu||(nu=document.createElement("div")),e?(nu.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,nu.children[0].getAttribute("foo")):(nu.innerHTML=t,nu.textContent)}const K$={parseMode:"html",isVoidTag:yF,isNativeTag:t=>pF(t)||mF(t)||gF(t),isPreTag:t=>t==="pre",decodeEntities:W$,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return yI;if(t==="TransitionGroup"||t==="transition-group")return _I},getNamespace(t,e,n){let i=e?e.ns:n;if(e&&i===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(t==="svg")return 1;if(t==="math")return 2}return i}},q$=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:Ct("style",!0,e.loc),exp:X$(e.value.content,e.loc),modifiers:[],loc:e.loc})})},X$=(t,e)=>{const n=wS(t);return Ct(JSON.stringify(n),!1,e,3)};function to(t,e){return gn(t,e)}const Z$=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(to(53,r)),e.children.length&&(n.onError(to(54,r)),e.children.length=0),{props:[Gn(Ct("innerHTML",!0,r),i||Ct("",!0))]}},J$=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(to(55,r)),e.children.length&&(n.onError(to(56,r)),e.children.length=0),{props:[Gn(Ct("textContent",!0),i?Mr(i,n)>0?i:Qn(n.helperString(_m),[i],r):Ct("",!0))]}},Q$=(t,e,n)=>{const i=uI(t,e,n);if(!i.props.length||e.tagType===1)return i;t.arg&&n.onError(to(58,t.arg.loc));const{tag:r}=e,s=n.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||s){let a=hI,o=!1;if(r==="input"||s){const l=vm(e,"type");if(l){if(l.type===7)a=Gy;else if(l.value)switch(l.value.content){case"radio":a=cI;break;case"checkbox":a=dI;break;case"file":o=!0,n.onError(to(59,t.loc));break}}else L3(e)&&(a=Gy)}else r==="select"&&(a=fI);o||(i.needRuntime=n.helper(a))}else n.onError(to(57,t.loc));return i.props=i.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),i},e5=Tr("passive,once,capture"),t5=Tr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),n5=Tr("left,right"),vI=Tr("onkeyup,onkeydown,onkeypress",!0),i5=(t,e,n,i)=>{const r=[],s=[],a=[];for(let o=0;o<e.length;o++){const l=e[o];l==="native"&&xd("COMPILER_V_ON_NATIVE",n)||e5(l)?a.push(l):n5(l)?sr(t)?vI(t.content)?r.push(l):s.push(l):(r.push(l),s.push(l)):t5(l)?s.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:s,eventOptionModifiers:a}},kT=(t,e)=>sr(t)&&t.content.toLowerCase()==="onclick"?Ct(e,!0):t.type!==4?Xr(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,r5=(t,e,n)=>lI(t,e,n,i=>{const{modifiers:r}=t;if(!r.length)return i;let{key:s,value:a}=i.props[0];const{keyModifiers:o,nonKeyModifiers:l,eventOptionModifiers:u}=i5(s,r,n,t.loc);if(l.includes("right")&&(s=kT(s,"onContextmenu")),l.includes("middle")&&(s=kT(s,"onMouseup")),l.length&&(a=Qn(n.helper(pI),[a,JSON.stringify(l)])),o.length&&(!sr(s)||vI(s.content))&&(a=Qn(n.helper(mI),[a,JSON.stringify(o)])),u.length){const c=u.map(yo).join("");s=sr(s)?Ct(`${s.content}${c}`,!0):Xr(["(",s,`) + "${c}"`])}return{props:[Gn(s,a)]}}),s5=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(to(61,r)),{props:[],needRuntime:n.helper(gI)}},a5=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},o5=[q$],l5={cloak:Y$,html:Z$,text:J$,model:Q$,on:r5,show:s5};function u5(t,e={}){return H$(t,Ft({},K$,e,{nodeTransforms:[a5,...o5,...e.nodeTransforms||[]],directiveTransforms:Ft({},l5,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const RT=new WeakMap;function c5(t){let e=RT.get(t??jt);return e||(e=Object.create(null),RT.set(t??jt,e)),e}function bI(t,e){if(!Tt(t))if(t.nodeType)t=t.innerHTML;else return ri;const n=t,i=c5(e),r=i[n];if(r)return r;if(t[0]==="#"){const l=document.querySelector(t);t=l?l.innerHTML:""}const s=Ft({hoistStatic:!0,onError:void 0,onWarn:ri},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=l=>!!customElements.get(l));const{code:a}=u5(t,s),o=new Function("Vue",a)(v3);return o._rc=!0,i[n]=o}Tv(bI);const d5=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:bv,BaseTransitionPropsValidators:pm,Comment:ti,DeprecationTypes:cR,EffectScope:Zp,ErrorCodes:XS,ErrorTypeStrings:rR,Fragment:Ze,KeepAlive:$k,ReactiveEffect:vl,Static:eo,Suspense:rk,Teleport:wv,Text:sa,TrackOpTypes:WS,Transition:Rs,TransitionGroup:TR,TriggerOpTypes:KS,VueElement:rh,assertNumber:qS,callWithAsyncErrorHandling:or,callWithErrorHandling:bs,camelize:yn,capitalize:yo,cloneVNode:es,compatUtils:uR,compile:bI,computed:Se,createApp:Av,createBlock:et,createCommentVNode:ke,createElementBlock:pe,createElementVNode:Ae,createHydrationRenderer:hv,createPropsRestProxy:bk,createRenderer:dv,createSSRApp:IR,createSlots:yi,createStaticVNode:Wk,createTextVNode:Ii,createVNode:De,customRef:Z_,defineAsyncComponent:ak,defineComponent:_n,defineCustomElement:Sv,defineEmits:ck,defineExpose:dk,defineModel:pk,defineOptions:hk,defineProps:uk,defineSSRCustomElement:_R,defineSlots:fk,devtools:sR,effect:SS,effectScope:Jp,getCurrentInstance:qi,getCurrentScope:Qp,getTransitionRawChildren:th,guardReactiveProps:Si,h:uc,handleError:bo,hasInjectionContext:xk,hydrate:Iv,initCustomFormatter:tR,initDirectivesForSSR:OR,inject:fl,isMemoSame:xv,isProxy:rm,isReactive:dl,isReadonly:bl,isRef:Hn,isRuntimeOnly:Zk,isShallow:Bu,isVNode:aa,markRaw:K_,mergeDefaults:_k,mergeModels:vk,mergeProps:Vn,nextTick:vi,normalizeClass:rt,normalizeProps:Kn,normalizeStyle:Bn,onActivated:_v,onBeforeMount:dm,onBeforeUnmount:Jd,onBeforeUpdate:hm,onDeactivated:vv,onErrorCaptured:ov,onMounted:xn,onRenderTracked:av,onRenderTriggered:sv,onScopeDispose:z_,onServerPrefetch:rv,onUnmounted:ks,onUpdated:Zd,openBlock:ie,popScopeId:Xd,provide:uv,proxyRefs:am,pushScopeId:qd,queuePostFlushCb:md,reactive:Fr,readonly:nm,ref:Me,registerRuntimeCompiler:Tv,render:zu,renderList:Ut,renderSlot:Ue,resolveComponent:ze,resolveDirective:tv,resolveDynamicComponent:lc,resolveFilter:lR,resolveTransitionHooks:El,setBlockTracking:rp,setDevtoolsHook:aR,setTransitionHooks:ra,shallowReactive:W_,shallowReadonly:BS,shallowRef:sm,ssrContextKey:pv,ssrUtils:oR,stop:kS,toDisplayString:ht,toHandlerKey:ll,toHandlers:lk,toRaw:Pt,toRef:wl,toRefs:HS,toValue:US,transformVNodeArgs:Hk,triggerRef:zS,unref:te,useAttrs:gk,useCssModule:vR,useCssVars:yR,useModel:eR,useSSRContext:mv,useSlots:da,useTransitionState:fm,vModelCheckbox:mm,vModelDynamic:Rv,vModelRadio:gm,vModelSelect:kv,vModelText:bd,vShow:oi,version:Cv,warn:iR,watch:Tn,watchEffect:Fk,watchPostEffect:gv,watchSyncEffect:yv,withAsyncContext:wk,withCtx:pt,withDefaults:mk,withDirectives:ai,withKeys:ym,withMemo:nR,withModifiers:Cl,withScopeId:nk},Symbol.toStringTag,{value:"Module"}));function h5(){return wI().__VUE_DEVTOOLS_GLOBAL_HOOK__}function wI(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const f5=typeof Proxy=="function",p5="devtools-plugin:setup",m5="plugin:settings:set";let iu,zy;function g5(){var t;return iu!==void 0||(typeof window<"u"&&window.performance?(iu=!0,zy=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(iu=!0,zy=globalThis.perf_hooks.performance):iu=!1),iu}function y5(){return g5()?zy.now():Date.now()}class _5{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const a in e.settings){const o=e.settings[a];i[a]=o.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},i);try{const a=localStorage.getItem(r),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(r,JSON.stringify(a))}catch{}s=a},now(){return y5()}},n&&n.on(m5,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(u=>{this.targetQueue.push({method:o,args:l,resolve:u})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function v5(t,e){const n=t,i=wI(),r=h5(),s=f5&&n.enableEarlyProxy;if(r&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))r.emit(p5,t,e);else{const a=s?new _5(n,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const b5="9.13.1";function w5(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(qs().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(qs().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(qs().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(qs().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qs().__INTLIFY_PROD_DEVTOOLS__=!1)}const EI=OL.__EXTEND_POINT__,Ns=Wp(EI);Ns(),Ns(),Ns(),Ns(),Ns(),Ns(),Ns(),Ns(),Ns();const TI=qr.__EXTEND_POINT__,Ji=Wp(TI),li={UNEXPECTED_RETURN_TYPE:TI,INVALID_ARGUMENT:Ji(),MUST_BE_CALL_SETUP_TOP:Ji(),NOT_INSTALLED:Ji(),NOT_AVAILABLE_IN_LEGACY_MODE:Ji(),REQUIRED_VALUE:Ji(),INVALID_VALUE:Ji(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ji(),NOT_INSTALLED_WITH_PROVIDE:Ji(),UNEXPECTED_ERROR:Ji(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ji(),BRIDGE_SUPPORT_VUE_2_ONLY:Ji(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ji(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ji(),__EXTEND_POINT__:Ji()};function _i(t,...e){return ac(t,null,void 0)}const Uy=mo("__translateVNode"),Hy=mo("__datetimeParts"),Yy=mo("__numberParts"),xI=mo("__setPluralRules"),CI=mo("__injectWithOption"),Wy=mo("__dispose");function kd(t){if(!qt(t))return t;for(const e in t)if(qf(t,e))if(!e.includes("."))qt(t[e])&&kd(t[e]);else{const n=e.split("."),i=n.length-1;let r=t,s=!1;for(let a=0;a<i;a++){if(n[a]in r||(r[n[a]]={}),!qt(r[n[a]])){s=!0;break}r=r[n[a]]}s||(r[n[i]]=t[e],delete t[e]),qt(r[n[i]])&&kd(r[n[i]])}return t}function Em(t,e){const{messages:n,__i18n:i,messageResolver:r,flatJson:s}=e,a=_t(n)?n:pn(i)?{}:{[t]:{}};if(pn(i)&&i.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:u}=o;l?(a[l]=a[l]||{},Lf(u,a[l])):Lf(u,a)}else Ge(o)&&Lf(JSON.parse(o),a)}),r==null&&s)for(const o in a)qf(a,o)&&kd(a[o]);return a}function SI(t){return t.type}function kI(t,e,n){let i=qt(e.messages)?e.messages:{};"__i18nGlobal"in n&&(i=Em(t.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);r.length&&r.forEach(s=>{t.mergeLocaleMessage(s,i[s])});{if(qt(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(qt(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function IT(t){return De(sa,null,t,0)}const AT="__INTLIFY_META__",MT=()=>[],E5=()=>!1;let OT=0;function PT(t){return(e,n,i,r)=>t(n,i,qi()||void 0,r)}const T5=()=>{const t=qi();let e=null;return t&&(e=SI(t)[AT])?{[AT]:e}:null};function Xv(t={},e){const{__root:n,__injectWithOption:i}=t,r=n===void 0,s=t.flatJson,a=Kf?Me:sm,o=!!t.translateExistCompatible;let l=Rt(t.inheritLocale)?t.inheritLocale:!0;const u=a(n&&l?n.locale.value:Ge(t.locale)?t.locale:$u),c=a(n&&l?n.fallbackLocale.value:Ge(t.fallbackLocale)||pn(t.fallbackLocale)||_t(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:u.value),h=a(Em(u.value,t)),m=a(_t(t.datetimeFormats)?t.datetimeFormats:{[u.value]:{}}),g=a(_t(t.numberFormats)?t.numberFormats:{[u.value]:{}});let y=n?n.missingWarn:Rt(t.missingWarn)||oo(t.missingWarn)?t.missingWarn:!0,b=n?n.fallbackWarn:Rt(t.fallbackWarn)||oo(t.fallbackWarn)?t.fallbackWarn:!0,w=n?n.fallbackRoot:Rt(t.fallbackRoot)?t.fallbackRoot:!0,E=!!t.fallbackFormat,x=un(t.missing)?t.missing:null,_=un(t.missing)?PT(t.missing):null,T=un(t.postTranslation)?t.postTranslation:null,C=n?n.warnHtmlMessage:Rt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,k=!!t.escapeParameter;const A=n?n.modifiers:_t(t.modifiers)?t.modifiers:{};let L=t.pluralRules||n&&n.pluralRules,R;R=(()=>{r&&dE(null);const ae={version:b5,locale:u.value,fallbackLocale:c.value,messages:h.value,modifiers:A,pluralRules:L,missing:_===null?void 0:_,missingWarn:y,fallbackWarn:b,fallbackFormat:E,unresolving:!0,postTranslation:T===null?void 0:T,warnHtmlMessage:C,escapeParameter:k,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ae.datetimeFormats=m.value,ae.numberFormats=g.value,ae.__datetimeFormatters=_t(R)?R.__datetimeFormatters:void 0,ae.__numberFormatters=_t(R)?R.__numberFormatters:void 0;const ce=zL(ae);return r&&dE(ce),ce})(),Nc(R,u.value,c.value);function U(){return[u.value,c.value,h.value,m.value,g.value]}const G=Se({get:()=>u.value,set:ae=>{u.value=ae,R.locale=u.value}}),ne=Se({get:()=>c.value,set:ae=>{c.value=ae,R.fallbackLocale=c.value,Nc(R,u.value,ae)}}),W=Se(()=>h.value),F=Se(()=>m.value),B=Se(()=>g.value);function N(){return un(T)?T:null}function Q(ae){T=ae,R.postTranslation=ae}function _e(){return x}function be(ae){ae!==null&&(_=PT(ae)),x=ae,R.missing=_}const xe=(ae,ce,Le,je,wt,tn)=>{U();let vn;try{__INTLIFY_PROD_DEVTOOLS__,r||(R.fallbackContext=n?GL():void 0),vn=ae(R)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(R.fallbackContext=void 0)}if(Le!=="translate exists"&&ei(vn)&&vn===Kp||Le==="translate exists"&&!vn){const[Yt,wi]=ce();return n&&w?je(n):wt(Yt)}else{if(tn(vn))return vn;throw _i(li.UNEXPECTED_RETURN_TYPE)}};function K(...ae){return xe(ce=>Reflect.apply(mE,null,[ce,...ae]),()=>fy(...ae),"translate",ce=>Reflect.apply(ce.t,ce,[...ae]),ce=>ce,ce=>Ge(ce))}function Z(...ae){const[ce,Le,je]=ae;if(je&&!qt(je))throw _i(li.INVALID_ARGUMENT);return K(ce,Le,Ri({resolvedMessage:!0},je||{}))}function O(...ae){return xe(ce=>Reflect.apply(gE,null,[ce,...ae]),()=>py(...ae),"datetime format",ce=>Reflect.apply(ce.d,ce,[...ae]),()=>lE,ce=>Ge(ce))}function re(...ae){return xe(ce=>Reflect.apply(_E,null,[ce,...ae]),()=>my(...ae),"number format",ce=>Reflect.apply(ce.n,ce,[...ae]),()=>lE,ce=>Ge(ce))}function Ee(ae){return ae.map(ce=>Ge(ce)||ei(ce)||Rt(ce)?IT(String(ce)):ce)}const ye={normalize:Ee,interpolate:ae=>ae,type:"vnode"};function Xe(...ae){return xe(ce=>{let Le;const je=ce;try{je.processor=ye,Le=Reflect.apply(mE,null,[je,...ae])}finally{je.processor=null}return Le},()=>fy(...ae),"translate",ce=>ce[Uy](...ae),ce=>[IT(ce)],ce=>pn(ce))}function de(...ae){return xe(ce=>Reflect.apply(_E,null,[ce,...ae]),()=>my(...ae),"number format",ce=>ce[Yy](...ae),MT,ce=>Ge(ce)||pn(ce))}function Ke(...ae){return xe(ce=>Reflect.apply(gE,null,[ce,...ae]),()=>py(...ae),"datetime format",ce=>ce[Hy](...ae),MT,ce=>Ge(ce)||pn(ce))}function H(ae){L=ae,R.pluralRules=L}function D(ae,ce){return xe(()=>{if(!ae)return!1;const Le=Ge(ce)?ce:u.value,je=J(Le),wt=R.messageResolver(je,ae);return o?wt!=null:ju(wt)||Ir(wt)||Ge(wt)},()=>[ae],"translate exists",Le=>Reflect.apply(Le.te,Le,[ae,ce]),E5,Le=>Rt(Le))}function M(ae){let ce=null;const Le=sS(R,c.value,u.value);for(let je=0;je<Le.length;je++){const wt=h.value[Le[je]]||{},tn=R.messageResolver(wt,ae);if(tn!=null){ce=tn;break}}return ce}function z(ae){const ce=M(ae);return ce??(n?n.tm(ae)||{}:{})}function J(ae){return h.value[ae]||{}}function he(ae,ce){if(s){const Le={[ae]:ce};for(const je in Le)qf(Le,je)&&kd(Le[je]);ce=Le[ae]}h.value[ae]=ce,R.messages=h.value}function Y(ae,ce){h.value[ae]=h.value[ae]||{};const Le={[ae]:ce};if(s)for(const je in Le)qf(Le,je)&&kd(Le[je]);ce=Le[ae],Lf(ce,h.value[ae]),R.messages=h.value}function ue(ae){return m.value[ae]||{}}function P(ae,ce){m.value[ae]=ce,R.datetimeFormats=m.value,yE(R,ae,ce)}function $(ae,ce){m.value[ae]=Ri(m.value[ae]||{},ce),R.datetimeFormats=m.value,yE(R,ae,ce)}function X(ae){return g.value[ae]||{}}function se(ae,ce){g.value[ae]=ce,R.numberFormats=g.value,vE(R,ae,ce)}function Ie(ae,ce){g.value[ae]=Ri(g.value[ae]||{},ce),R.numberFormats=g.value,vE(R,ae,ce)}OT++,n&&Kf&&(Tn(n.locale,ae=>{l&&(u.value=ae,R.locale=ae,Nc(R,u.value,c.value))}),Tn(n.fallbackLocale,ae=>{l&&(c.value=ae,R.fallbackLocale=ae,Nc(R,u.value,c.value))}));const we={id:OT,locale:G,fallbackLocale:ne,get inheritLocale(){return l},set inheritLocale(ae){l=ae,ae&&n&&(u.value=n.locale.value,c.value=n.fallbackLocale.value,Nc(R,u.value,c.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:W,get modifiers(){return A},get pluralRules(){return L||{}},get isGlobal(){return r},get missingWarn(){return y},set missingWarn(ae){y=ae,R.missingWarn=y},get fallbackWarn(){return b},set fallbackWarn(ae){b=ae,R.fallbackWarn=b},get fallbackRoot(){return w},set fallbackRoot(ae){w=ae},get fallbackFormat(){return E},set fallbackFormat(ae){E=ae,R.fallbackFormat=E},get warnHtmlMessage(){return C},set warnHtmlMessage(ae){C=ae,R.warnHtmlMessage=ae},get escapeParameter(){return k},set escapeParameter(ae){k=ae,R.escapeParameter=ae},t:K,getLocaleMessage:J,setLocaleMessage:he,mergeLocaleMessage:Y,getPostTranslationHandler:N,setPostTranslationHandler:Q,getMissingHandler:_e,setMissingHandler:be,[xI]:H};return we.datetimeFormats=F,we.numberFormats=B,we.rt=Z,we.te=D,we.tm=z,we.d=O,we.n=re,we.getDateTimeFormat=ue,we.setDateTimeFormat=P,we.mergeDateTimeFormat=$,we.getNumberFormat=X,we.setNumberFormat=se,we.mergeNumberFormat=Ie,we[CI]=i,we[Uy]=Xe,we[Hy]=Ke,we[Yy]=de,we}function x5(t){const e=Ge(t.locale)?t.locale:$u,n=Ge(t.fallbackLocale)||pn(t.fallbackLocale)||_t(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=un(t.missing)?t.missing:void 0,r=Rt(t.silentTranslationWarn)||oo(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=Rt(t.silentFallbackWarn)||oo(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,a=Rt(t.fallbackRoot)?t.fallbackRoot:!0,o=!!t.formatFallbackMessages,l=_t(t.modifiers)?t.modifiers:{},u=t.pluralizationRules,c=un(t.postTranslation)?t.postTranslation:void 0,h=Ge(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,m=!!t.escapeParameterHtml,g=Rt(t.sync)?t.sync:!0;let y=t.messages;if(_t(t.sharedMessages)){const k=t.sharedMessages;y=Object.keys(k).reduce((L,R)=>{const j=L[R]||(L[R]={});return Ri(j,k[R]),L},y||{})}const{__i18n:b,__root:w,__injectWithOption:E}=t,x=t.datetimeFormats,_=t.numberFormats,T=t.flatJson,C=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:y,flatJson:T,datetimeFormats:x,numberFormats:_,missing:i,missingWarn:r,fallbackWarn:s,fallbackRoot:a,fallbackFormat:o,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:h,escapeParameter:m,messageResolver:t.messageResolver,inheritLocale:g,translateExistCompatible:C,__i18n:b,__root:w,__injectWithOption:E}}function Ky(t={},e){{const n=Xv(x5(t)),{__extender:i}=t,r={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return Rt(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=Rt(s)?!s:s},get silentFallbackWarn(){return Rt(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=Rt(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[a,o,l]=s,u={};let c=null,h=null;if(!Ge(a))throw _i(li.INVALID_ARGUMENT);const m=a;return Ge(o)?u.locale=o:pn(o)?c=o:_t(o)&&(h=o),pn(l)?c=l:_t(l)&&(h=l),Reflect.apply(n.t,n,[m,c||h||{},u])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[a,o,l]=s,u={plural:1};let c=null,h=null;if(!Ge(a))throw _i(li.INVALID_ARGUMENT);const m=a;return Ge(o)?u.locale=o:ei(o)?u.plural=o:pn(o)?c=o:_t(o)&&(h=o),Ge(l)?u.locale=l:pn(l)?c=l:_t(l)&&(h=l),Reflect.apply(n.t,n,[m,c||h||{},u])},te(s,a){return n.te(s,a)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,a){n.setLocaleMessage(s,a)},mergeLocaleMessage(s,a){n.mergeLocaleMessage(s,a)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,a){n.setDateTimeFormat(s,a)},mergeDateTimeFormat(s,a){n.mergeDateTimeFormat(s,a)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,a){n.setNumberFormat(s,a)},mergeNumberFormat(s,a){n.mergeNumberFormat(s,a)},getChoiceIndex(s,a){return-1}};return r.__extender=i,r}}const Zv={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function C5({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((i,r)=>[...i,...r.type===Ze?r.children:[r]],[]):e.reduce((n,i)=>{const r=t[i];return r&&(n[i]=r()),n},{})}function RI(t){return Ze}const S5=_n({name:"i18n-t",props:Ri({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ei(t)||!isNaN(t)}},Zv),setup(t,e){const{slots:n,attrs:i}=e,r=t.i18n||Jv({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(h=>h!=="_"),a={};t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=Ge(t.plural)?+t.plural:t.plural);const o=C5(e,s),l=r[Uy](t.keypath,o,a),u=Ri({},i),c=Ge(t.tag)||qt(t.tag)?t.tag:RI();return uc(c,u,l)}}}),DT=S5;function k5(t){return pn(t)&&!Ge(t[0])}function II(t,e,n,i){const{slots:r,attrs:s}=e;return()=>{const a={part:!0};let o={};t.locale&&(a.locale=t.locale),Ge(t.format)?a.key=t.format:qt(t.format)&&(Ge(t.format.key)&&(a.key=t.format.key),o=Object.keys(t.format).reduce((m,g)=>n.includes(g)?Ri({},m,{[g]:t.format[g]}):m,{}));const l=i(t.value,a,o);let u=[a.key];pn(l)?u=l.map((m,g)=>{const y=r[m.type],b=y?y({[m.type]:m.value,index:g,parts:l}):[m.value];return k5(b)&&(b[0].key=`${m.type}-${g}`),b}):Ge(l)&&(u=[l]);const c=Ri({},s),h=Ge(t.tag)||qt(t.tag)?t.tag:RI();return uc(h,c,u)}}const R5=_n({name:"i18n-n",props:Ri({value:{type:Number,required:!0},format:{type:[String,Object]}},Zv),setup(t,e){const n=t.i18n||Jv({useScope:t.scope,__useComponent:!0});return II(t,e,gS,(...i)=>n[Yy](...i))}}),LT=R5,I5=_n({name:"i18n-d",props:Ri({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Zv),setup(t,e){const n=t.i18n||Jv({useScope:t.scope,__useComponent:!0});return II(t,e,mS,(...i)=>n[Hy](...i))}}),FT=I5;function A5(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function M5(t){const e=a=>{const{instance:o,modifiers:l,value:u}=a;if(!o||!o.$)throw _i(li.UNEXPECTED_ERROR);const c=A5(t,o.$),h=NT(u);return[Reflect.apply(c.t,c,[...$T(h)]),c]};return{created:(a,o)=>{const[l,u]=e(o);Kf&&t.global===u&&(a.__i18nWatcher=Tn(u.locale,()=>{o.instance&&o.instance.$forceUpdate()})),a.__composer=u,a.textContent=l},unmounted:a=>{Kf&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:o})=>{if(a.__composer){const l=a.__composer,u=NT(o);a.textContent=Reflect.apply(l.t,l,[...$T(u)])}},getSSRProps:a=>{const[o]=e(a);return{textContent:o}}}}function NT(t){if(Ge(t))return{path:t};if(_t(t)){if(!("path"in t))throw _i(li.REQUIRED_VALUE,"path");return t}else throw _i(li.INVALID_VALUE)}function $T(t){const{path:e,locale:n,args:i,choice:r,plural:s}=t,a={},o=i||{};return Ge(n)&&(a.locale=n),ei(r)&&(a.plural=r),ei(s)&&(a.plural=s),[e,o,a]}function O5(t,e,...n){const i=_t(n[0])?n[0]:{},r=!!i.useI18nComponentName;(Rt(i.globalInstall)?i.globalInstall:!0)&&([r?"i18n":DT.name,"I18nT"].forEach(a=>t.component(a,DT)),[LT.name,"I18nN"].forEach(a=>t.component(a,LT)),[FT.name,"I18nD"].forEach(a=>t.component(a,FT))),t.directive("t",M5(e))}function P5(t,e,n){return{beforeCreate(){const i=qi();if(!i)throw _i(li.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const s=r.i18n;if(r.__i18n&&(s.__i18n=r.__i18n),s.__root=e,this===this.$root)this.$i18n=jT(t,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=Ky(s);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=jT(t,r);else{this.$i18n=Ky({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;r.__i18nGlobal&&kI(e,r,r),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,a)=>this.$i18n.te(s,a),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=qi();if(!i)throw _i(li.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(i),delete this.$i18n}}}function jT(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[xI](e.pluralizationRules||t.pluralizationRules);const n=Em(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(i=>t.mergeLocaleMessage(i,n[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}const D5=mo("global-vue-i18n");function L5(t={},e){const n=__VUE_I18N_LEGACY_API__&&Rt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,i=Rt(t.globalInjection)?t.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,s=new Map,[a,o]=F5(t,n),l=mo("");function u(m){return s.get(m)||null}function c(m,g){s.set(m,g)}function h(m){s.delete(m)}{const m={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return r},async install(g,...y){if(g.__VUE_I18N_SYMBOL__=l,g.provide(g.__VUE_I18N_SYMBOL__,m),_t(y[0])){const E=y[0];m.__composerExtend=E.__composerExtend,m.__vueI18nExtend=E.__vueI18nExtend}let b=null;!n&&i&&(b=H5(g,m.global)),__VUE_I18N_FULL_INSTALL__&&O5(g,m,...y),__VUE_I18N_LEGACY_API__&&n&&g.mixin(P5(o,o.__composer,m));const w=g.unmount;g.unmount=()=>{b&&b(),m.dispose(),w()}},get global(){return o},dispose(){a.stop()},__instances:s,__getInstance:u,__setInstance:c,__deleteInstance:h};return m}}function Jv(t={}){const e=qi();if(e==null)throw _i(li.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw _i(li.NOT_INSTALLED);const n=N5(e),i=j5(n),r=SI(e),s=$5(t,r);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw _i(li.NOT_AVAILABLE_IN_LEGACY_MODE);return z5(e,s,i,t)}if(s==="global")return kI(i,t,r),i;if(s==="parent"){let l=B5(n,e,t.__useComponent);return l==null&&(l=i),l}const a=n;let o=a.__getInstance(e);if(o==null){const l=Ri({},t);"__i18n"in r&&(l.__i18n=r.__i18n),i&&(l.__root=i),o=Xv(l),a.__composerExtend&&(o[Wy]=a.__composerExtend(o)),G5(a,e,o),a.__setInstance(e,o)}return o}function F5(t,e,n){const i=Jp();{const r=__VUE_I18N_LEGACY_API__&&e?i.run(()=>Ky(t)):i.run(()=>Xv(t));if(r==null)throw _i(li.UNEXPECTED_ERROR);return[i,r]}}function N5(t){{const e=fl(t.isCE?D5:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw _i(t.isCE?li.NOT_INSTALLED_WITH_PROVIDE:li.UNEXPECTED_ERROR);return e}}function $5(t,e){return Yp(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function j5(t){return t.mode==="composition"?t.global:t.global.__composer}function B5(t,e,n=!1){let i=null;const r=e.root;let s=V5(e,n);for(;s!=null;){const a=t;if(t.mode==="composition")i=a.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const o=a.__getInstance(s);o!=null&&(i=o.__composer,n&&i&&!i[CI]&&(i=null))}if(i!=null||r===s)break;s=s.parent}return i}function V5(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function G5(t,e,n){xn(()=>{},e),ks(()=>{const i=n;t.__deleteInstance(e);const r=i[Wy];r&&(r(),delete i[Wy])},e)}function z5(t,e,n,i={}){const r=e==="local",s=sm(null);if(r&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw _i(li.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=Rt(i.inheritLocale)?i.inheritLocale:!Ge(i.locale),o=Me(!r||a?n.locale.value:Ge(i.locale)?i.locale:$u),l=Me(!r||a?n.fallbackLocale.value:Ge(i.fallbackLocale)||pn(i.fallbackLocale)||_t(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:o.value),u=Me(Em(o.value,i)),c=Me(_t(i.datetimeFormats)?i.datetimeFormats:{[o.value]:{}}),h=Me(_t(i.numberFormats)?i.numberFormats:{[o.value]:{}}),m=r?n.missingWarn:Rt(i.missingWarn)||oo(i.missingWarn)?i.missingWarn:!0,g=r?n.fallbackWarn:Rt(i.fallbackWarn)||oo(i.fallbackWarn)?i.fallbackWarn:!0,y=r?n.fallbackRoot:Rt(i.fallbackRoot)?i.fallbackRoot:!0,b=!!i.fallbackFormat,w=un(i.missing)?i.missing:null,E=un(i.postTranslation)?i.postTranslation:null,x=r?n.warnHtmlMessage:Rt(i.warnHtmlMessage)?i.warnHtmlMessage:!0,_=!!i.escapeParameter,T=r?n.modifiers:_t(i.modifiers)?i.modifiers:{},C=i.pluralRules||r&&n.pluralRules;function k(){return[o.value,l.value,u.value,c.value,h.value]}const A=Se({get:()=>s.value?s.value.locale.value:o.value,set:M=>{s.value&&(s.value.locale.value=M),o.value=M}}),L=Se({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:M=>{s.value&&(s.value.fallbackLocale.value=M),l.value=M}}),R=Se(()=>s.value?s.value.messages.value:u.value),j=Se(()=>c.value),U=Se(()=>h.value);function G(){return s.value?s.value.getPostTranslationHandler():E}function ne(M){s.value&&s.value.setPostTranslationHandler(M)}function W(){return s.value?s.value.getMissingHandler():w}function F(M){s.value&&s.value.setMissingHandler(M)}function B(M){return k(),M()}function N(...M){return s.value?B(()=>Reflect.apply(s.value.t,null,[...M])):B(()=>"")}function Q(...M){return s.value?Reflect.apply(s.value.rt,null,[...M]):""}function _e(...M){return s.value?B(()=>Reflect.apply(s.value.d,null,[...M])):B(()=>"")}function be(...M){return s.value?B(()=>Reflect.apply(s.value.n,null,[...M])):B(()=>"")}function xe(M){return s.value?s.value.tm(M):{}}function K(M,z){return s.value?s.value.te(M,z):!1}function Z(M){return s.value?s.value.getLocaleMessage(M):{}}function O(M,z){s.value&&(s.value.setLocaleMessage(M,z),u.value[M]=z)}function re(M,z){s.value&&s.value.mergeLocaleMessage(M,z)}function Ee(M){return s.value?s.value.getDateTimeFormat(M):{}}function q(M,z){s.value&&(s.value.setDateTimeFormat(M,z),c.value[M]=z)}function ye(M,z){s.value&&s.value.mergeDateTimeFormat(M,z)}function Xe(M){return s.value?s.value.getNumberFormat(M):{}}function de(M,z){s.value&&(s.value.setNumberFormat(M,z),h.value[M]=z)}function Ke(M,z){s.value&&s.value.mergeNumberFormat(M,z)}const H={get id(){return s.value?s.value.id:-1},locale:A,fallbackLocale:L,messages:R,datetimeFormats:j,numberFormats:U,get inheritLocale(){return s.value?s.value.inheritLocale:a},set inheritLocale(M){s.value&&(s.value.inheritLocale=M)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(u.value)},get modifiers(){return s.value?s.value.modifiers:T},get pluralRules(){return s.value?s.value.pluralRules:C},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:m},set missingWarn(M){s.value&&(s.value.missingWarn=M)},get fallbackWarn(){return s.value?s.value.fallbackWarn:g},set fallbackWarn(M){s.value&&(s.value.missingWarn=M)},get fallbackRoot(){return s.value?s.value.fallbackRoot:y},set fallbackRoot(M){s.value&&(s.value.fallbackRoot=M)},get fallbackFormat(){return s.value?s.value.fallbackFormat:b},set fallbackFormat(M){s.value&&(s.value.fallbackFormat=M)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:x},set warnHtmlMessage(M){s.value&&(s.value.warnHtmlMessage=M)},get escapeParameter(){return s.value?s.value.escapeParameter:_},set escapeParameter(M){s.value&&(s.value.escapeParameter=M)},t:N,getPostTranslationHandler:G,setPostTranslationHandler:ne,getMissingHandler:W,setMissingHandler:F,rt:Q,d:_e,n:be,tm:xe,te:K,getLocaleMessage:Z,setLocaleMessage:O,mergeLocaleMessage:re,getDateTimeFormat:Ee,setDateTimeFormat:q,mergeDateTimeFormat:ye,getNumberFormat:Xe,setNumberFormat:de,mergeNumberFormat:Ke};function D(M){M.locale.value=o.value,M.fallbackLocale.value=l.value,Object.keys(u.value).forEach(z=>{M.mergeLocaleMessage(z,u.value[z])}),Object.keys(c.value).forEach(z=>{M.mergeDateTimeFormat(z,c.value[z])}),Object.keys(h.value).forEach(z=>{M.mergeNumberFormat(z,h.value[z])}),M.escapeParameter=_,M.fallbackFormat=b,M.fallbackRoot=y,M.fallbackWarn=g,M.missingWarn=m,M.warnHtmlMessage=x}return dm(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw _i(li.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const M=s.value=t.proxy.$i18n.__composer;e==="global"?(o.value=M.locale.value,l.value=M.fallbackLocale.value,u.value=M.messages.value,c.value=M.datetimeFormats.value,h.value=M.numberFormats.value):r&&D(M)}),H}const U5=["locale","fallbackLocale","availableLocales"],BT=["t","rt","d","n","tm","te"];function H5(t,e){const n=Object.create(null);return U5.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s)throw _i(li.UNEXPECTED_ERROR);const a=Hn(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,r,a)}),t.config.globalProperties.$i18n=n,BT.forEach(r=>{const s=Object.getOwnPropertyDescriptor(e,r);if(!s||!s.value)throw _i(li.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${r}`,s)}),()=>{delete t.config.globalProperties.$i18n,BT.forEach(r=>{delete t.config.globalProperties[`$${r}`]})}}w5();__INTLIFY_JIT_COMPILATION__?cE(KL):cE(WL);$L(vL);jL(sS);if(__INTLIFY_PROD_DEVTOOLS__){const t=qs();t.__INTLIFY__=!0,RL(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var Y5={VITE_MML_API_KEY:"ba40e643-3a55-487f-aea4-c5906b1b597f",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,APP_VERSION:"3.0.0",NODE_ENV:"production"},qy=L5({inheriteLocale:!0,globalInjection:!0,legacy:!1,locale:localStorage.getItem("locale"),fallbackLocale:Y5.VUE_APP_I18N_FALLBACK_LOCALE||"fi",preserveDirectiveContent:!1,messages:{fi:{info:{header:"Tietoa",title:"Tietoa",p1:"Opendata on STUKin kehittämä avoimen lähdekoodin applikaatio, jolla voit tarkastella Suomen ulkoisen säteilyn valvontaverkon mittaustuloksia. Applikaatio saa datansa Ilmatieteen laitoksen avoimen datan rajapinnasta.",p2:"Lue lisää projektin ",p3:"GitHub-sivuilta"},settings:{title:"Asetukset",header:"Asetukset",language:"Kieli",date:"Päivitä päivämäärää",time:"Päivitä kellonaikaa",dateFormat:"Päiväyksen muoto",dateFormatA:"PP.KK.VVVV",dateFormatB:"VVVV-KK-PP",labelFinnish:"Suomi",labelEnglish:"Englanti",timeFormat:"Ajan esitysmuoto",timeFormatA:"24 tunnin kello",timeFormatB:"12 tunnin kello",backgroundMap:"Kartta",backgroundMapDefault:"Oletus (OSM)",backgroundMapCustom:"Mukautettu"},changeMode:{title:"Vaihda näkymää (annosnopeudet/ilman radioaktiivisuus)"},playback:{title:{date:"Päivitä päiväämäärää",time:"Päivitä kellonaikaa",disabled:{date:"Valitse aikaisempi päivämäärä",time:"Valitse aikaisempi kellonaika"},start:"Aloita toisto",stop:"Pysäytä toisto",speed:"Toistonopeus"}},dose:{doseRateTresholds:"Annosnopeusrajat"},radionuclideMode:{date:"Keräysjakso",concentration:"Aktiivisuuspitoisuus",uncertainty:"Epävarmuus",noData:"Tälle aikajaksolle ei ole saatavilla dataa",info:"Pääkaupunkiseudun mittauspiste on muuttanut vuoden 2022 toukokuun alusta Helsingistä Vantaalle. Vuoden 2022 huhtikuun loppuun saakka mittaustuloksia voi hakea Helsingistä. Toukokuusta 2022 alkaen tulokset löytyvät Vantaalta."},doseRate:"Annosnopeudet",airRadionuclides:"Ilman Radionuklidit"},en:{info:{header:"About",title:"About",p1:"Opendata is an open source application developed by STUK that enables viewing of external radiation results from around Finland. The application gets its data from the Finnish Meteorological Institute's open data API.",p2:"To learn more visit the project on ",p3:"GitHub"},settings:{title:"Settings",header:"Settings",language:"Language",date:"Update date",time:"Update time",dateFormat:"Date format",dateFormatA:"DD.MM.YYYY",dateFormatB:"YYYY.MM.DD",labelFinnish:"Finnish",labelEnglish:"English",timeFormat:"Time notation",timeFormatA:"24-hour clock",timeFormatB:"12-hour clock",backgroundMap:"Map",backgroundMapDefault:"Default (OSM)",backgroundMapCustom:"Custom"},changeMode:{title:"Change mode (dose rates/air radionuclides)"},playback:{title:{date:"Update date",time:"Update time",disabled:{date:"Choose an earlier date to enable playback",time:"Choose an earlier time to enable playback"},start:"Start playback",stop:"Stop playback",speed:"Playback speed"}},dose:{doseRateTresholds:"Dose rate thresholds"},radionuclideMode:{date:"Collection Period",concentration:"Concentration",uncertainty:"Uncertainty",noData:"No data available for this time period",info:"The measurement point for the capital region has moved from Helsinki to Vantaa at the beginning of May 2022. Until the end of April 2022, you can view measurement results from Helsinki. From may 2022, the results can be found from Vantaa."},doseRate:"Dose Rates",airRadionuclides:"Air Radionuclides"}}});const st=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},W5={name:"BaseRadioButton",props:{label:{type:String,required:!0},ownValue:{type:String,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],data(){return{id:String(Math.random())}},computed:{isChecked(){return this.ownValue===this.modelValue}},methods:{onChange(){this.$emit("update:modelValue",this.ownValue)}}},K5=["id","checked"],q5=["for"];function X5(t,e,n,i,r,s){return ie(),pe("div",{key:n.label,class:"container"},[Ae("input",{id:r.id,type:"radio",class:"radio-button-input",checked:s.isChecked,onChange:e[0]||(e[0]=(...a)=>s.onChange&&s.onChange(...a))},null,40,K5),Ae("label",{class:"label",for:r.id},ht(n.label),9,q5)])}const Z5=st(W5,[["render",X5],["__scopeId","data-v-21683c87"]]),J5={install(t){t.component("BaseRadioButton",Z5)}},it={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function ft(){throw new Error("Unimplemented abstract method.")}let Q5=0;function bt(t){return t.ol_uid||(t.ol_uid=String(++Q5))}function VT(t){return t[0]>0&&t[1]>0}function ej(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Ki(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class Tm{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Ki(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Tm({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ft()}getImage(e){return ft()}getHitDetectionImage(){return ft()}getPixelRatio(e){return 1}getImageState(){return ft()}getImageSize(){return ft()}getOrigin(){return ft()}getSize(){return ft()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ki(e)}listenImageChange(e){ft()}load(){ft()}unlistenImageChange(e){ft()}ready(){return Promise.resolve()}}const Rd={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var ki={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};ki.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};ki.max=ki.whitepoint[2].D65;ki.rgb=function(t,e){e=e||ki.whitepoint[2].E;var n=t[0]/e[0],i=t[1]/e[1],r=t[2]/e[2],s,a,o;return s=n*3.240969941904521+i*-1.537383177570093+r*-.498610760293,a=n*-.96924363628087+i*1.87596750150772+r*.041555057407175,o=n*.055630079696993+i*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[s*255,a*255,o*255]};Rd.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,r=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=n*.41239079926595+i*.35758433938387+r*.18048078840183,a=n*.21263900587151+i*.71516867876775+r*.072192315360733,o=n*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||ki.whitepoint[2].E,[s*e[0],a*e[1],o*e[2]]};const Qv={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,r,s,a,o,l,u,c,h,m,g,y,b;if(s=t[0],a=t[1],o=t[2],s===0)return[0,0,0];var w=.0011070564598794539;return e=e||"D65",n=n||2,h=ki.whitepoint[n][e][0],m=ki.whitepoint[n][e][1],g=ki.whitepoint[n][e][2],y=4*h/(h+15*m+3*g),b=9*m/(h+15*m+3*g),i=a/(13*s)+y||0,r=o/(13*s)+b||0,u=s>8?m*Math.pow((s+16)/116,3):m*s*w,l=u*9*i/(4*r)||0,c=u*(12-3*i-20*r)/(4*r)||0,[l,u,c]}};ki.luv=function(t,e,n){var i,r,s,a,o,l,u,c,h,m,g,y,b,w=.008856451679035631,E=903.2962962962961;e=e||"D65",n=n||2,h=ki.whitepoint[n][e][0],m=ki.whitepoint[n][e][1],g=ki.whitepoint[n][e][2],y=4*h/(h+15*m+3*g),b=9*m/(h+15*m+3*g),l=t[0],u=t[1],c=t[2],i=4*l/(l+15*u+3*c)||0,r=9*u/(l+15*u+3*c)||0;var x=u/m;return s=x<=w?E*x:116*Math.pow(x,1/3)-16,a=13*s*(i-y),o=13*s*(r-b),[s,a,o]};var AI={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],i=t[2],r,s,a;return a=i/360*2*Math.PI,r=n*Math.cos(a),s=n*Math.sin(a),[e,r,s]},xyz:function(t){return Qv.xyz(AI.luv(t))}};Qv.lchuv=function(t){var e=t[0],n=t[1],i=t[2],r=Math.sqrt(n*n+i*i),s=Math.atan2(i,n),a=s*360/2/Math.PI;return a<0&&(a+=360),[e,r,a]};ki.lchuv=function(t){return Qv.lchuv(ki.luv(t))};const GT={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var zT={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function tj(t){var e,n=[],i=1,r;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),GT[t])n=GT[t].slice(),r="rgb";else if(t==="transparent")i=0,r="rgb",n=[0,0,0];else if(t[0]==="#"){var s=t.slice(1),a=s.length,o=a<=4;i=1,o?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],a===4&&(i=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],a===8&&(i=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];r=l.replace(/a$/,"");var u=r==="cmyk"?4:r==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=n.shift()),n=n.map(function(c,h){if(c[c.length-1]==="%")return c=parseFloat(c)/100,h===3?c:r==="rgb"?c*255:r[0]==="h"||r[0]==="l"&&!h?c*100:r==="lab"?c*125:r==="lch"?h<2?c*150:c*360:r[0]==="o"&&!h?c:r==="oklab"?c*.4:r==="oklch"?h<2?c*.4:c*360:c;if(r[h]==="h"||h===2&&r[r.length-1]==="h"){if(zT[c]!==void 0)return zT[c];if(c.endsWith("deg"))return parseFloat(c);if(c.endsWith("turn"))return parseFloat(c)*360;if(c.endsWith("grad"))return parseFloat(c)*360/400;if(c.endsWith("rad"))return parseFloat(c)*180/Math.PI}return c==="none"?0:parseFloat(c)}),i=n.length>u?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(c){return parseFloat(c)}),r=t.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:r,values:n,alpha:i}}const R0={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,r,s,a,o,l,u=0;if(n===0)return l=i*255,[l,l,l];for(s=i<.5?i*(1+n):i+n-i*n,r=2*i-s,o=[0,0,0];u<3;)a=e+1/3*-(u-1),a<0?a++:a>1&&a--,l=6*a<1?r+(s-r)*6*a:2*a<1?s:3*a<2?r+(s-r)*(2/3-a)*6:r,o[u++]=l*255;return o}};Rd.hsl=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,r=Math.min(e,n,i),s=Math.max(e,n,i),a=s-r,o,l,u;return s===r?o=0:e===s?o=(n-i)/a:n===s?o=2+(i-e)/a:i===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360),u=(r+s)/2,s===r?l=0:u<=.5?l=a/(s+r):l=a/(2-s-r),[o,l*100,u*100]};function nj(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=tj(t);if(!n.space)return[];const i=n.space[0]==="h"?R0.min:Rd.min,r=n.space[0]==="h"?R0.max:Rd.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],i[0]),r[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),r[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),r[2]),n.space[0]==="h"&&(e=R0.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}function Mn(t,e,n){return Math.min(Math.max(t,e),n)}function ij(t,e,n,i,r,s){const a=r-n,o=s-i;if(a!==0||o!==0){const l=((t-n)*a+(e-i)*o)/(a*a+o*o);l>1?(n=r,i=s):l>0&&(n+=a*l,i+=o*l)}return ml(t,e,n,i)}function ml(t,e,n,i){const r=n-t,s=i-e;return r*r+s*s}function rj(t){const e=t.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(t[i][i]);for(let o=i+1;o<e;o++){const l=Math.abs(t[o][i]);l>s&&(s=l,r=o)}if(s===0)return null;const a=t[r];t[r]=t[i],t[i]=a;for(let o=i+1;o<e;o++){const l=-t[o][i]/t[i][i];for(let u=i;u<e+1;u++)i==u?t[o][u]=0:t[o][u]+=l*t[i][u]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}function Uf(t){return t*Math.PI/180}function Du(t,e){const n=t%e;return n*e<0?n+e:n}function mr(t,e,n){return t+n*(e-t)}function e1(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function yf(t,e){return Math.floor(e1(t,e))}function _f(t,e){return Math.ceil(e1(t,e))}function sj(t){return typeof t=="string"?t:n1(t)}const aj=1024,Bc={};let I0=0;function oj(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function UT(t){const e=ki.lchuv(Rd.xyz(t));return e[3]=t[3],e}function lj(t){const e=ki.rgb(AI.xyz(t));return e[3]=t[3],e}function t1(t){if(Bc.hasOwnProperty(t))return Bc[t];if(I0>=aj){let n=0;for(const i in Bc)n++&3||(delete Bc[i],--I0)}const e=nj(t);if(e.length!==4)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return MI(e),Bc[t]=e,++I0,e}function Id(t){return Array.isArray(t)?t:t1(t)}function MI(t){return t[0]=Mn(t[0]+.5|0,0,255),t[1]=Mn(t[1]+.5|0,0,255),t[2]=Mn(t[2]+.5|0,0,255),t[3]=Mn(t[3],0,1),t}function n1(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const r=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+r+")"}function uj(t){try{return t1(t),!0}catch{return!1}}const co=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",cj=co.includes("firefox"),dj=co.includes("safari")&&!co.includes("chrom");dj&&(co.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(co));const hj=co.includes("webkit")&&!co.includes("edge"),OI=co.includes("macintosh"),PI=typeof devicePixelRatio<"u"?devicePixelRatio:1,DI=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,LI=typeof Image<"u"&&Image.prototype.decode,FI=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function bi(t,e,n,i){let r;return n&&n.length?r=n.shift():DI?r=new OffscreenCanvas(t||300,e||300):r=document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}let A0;function _p(){return A0||(A0=bi(1,1)),A0}function uh(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function fj(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function pj(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function HT(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function vp(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function NI(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function mj(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){t.appendChild(s);continue}if(!s){t.removeChild(r),--i;continue}t.insertBefore(s,r)}}}class i1{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}class ha{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function gj(t){t.stopPropagation()}function yj(t,e,n){let i,r;n=n||ws;let s=0,a=t.length,o=!1;for(;s<a;)i=s+(a-s>>1),r=+n(t[i],e),r<0?s=i+1:(a=i,o=!r);return o?s:~s}function ws(t,e){return t>e?1:t<e?-1:0}function r1(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){const s=t[r];if(s===e)return r;if(s<e)return n(e,t[r-1],s)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(t[r]<e)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(t[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function _j(t,e,n){for(;e<n;){const i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Es(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function wo(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function vj(t,e,n){const i=e||ws;return t.every(function(r,s){if(s===0)return!0;const a=i(t[s-1],r);return!(a>0||a===0)})}function Ad(){return!0}function xm(){return!1}function Ku(){}function $I(t){let e=!1,n,i,r;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==r||!wo(s,i))&&(e=!0,r=this,i=s,n=t.apply(this,arguments)),n}}function jI(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function ch(t){for(const e in t)delete t[e]}function ho(t){let e;for(e in t)return!1;return!e}class dh extends i1{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(n)||r.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=n?new ha(e):e;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});i in a||(a[i]=0,o[i]=0),++a[i];let l;for(let u=0,c=r.length;u<c;++u)if("handleEvent"in r[u]?l=r[u].handleEvent(s):l=r[u].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--a[i]===0){let u=o[i];for(delete o[i];u--;)this.removeEventListener(i,Ku);delete a[i]}return l}disposeInternal(){this.listeners_&&ch(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Ku,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}const lt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Mt(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){const a=n;n=function(){t.removeEventListener(e,n),a.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function bp(t,e,n,i){return Mt(t,e,n,i,!0)}function sn(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ch(t))}class bj extends dh{constructor(e,n,i,r){super(),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=typeof r=="function"?it.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(lt.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==it.IDLE&&this.loader){this.state=it.LOADING,this.changed();const e=this.getResolution(),n=Array.isArray(e)?e[0]:e;jI(()=>this.loader(this.getExtent(),n,this.getPixelRatio())).then(i=>{"image"in i&&(this.image_=i.image),"extent"in i&&(this.extent=i.extent),"resolution"in i&&(this.resolution=i.resolution),"pixelRatio"in i&&(this.pixelRatio_=i.pixelRatio),(i instanceof HTMLImageElement||i instanceof ImageBitmap||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement)&&(this.image_=i),this.state=it.LOADED}).catch(i=>{this.state=it.ERROR,console.error(i)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function wj(t,e,n){const i=t;let r=!0,s=!1,a=!1;const o=[bp(i,lt.LOAD,function(){a=!0,s||e()})];return i.src&&LI?(s=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(a?e():n())})):o.push(bp(i,lt.ERROR,n)),function(){r=!1,o.forEach(sn)}}function Ej(t,e){return new Promise((n,i)=>{function r(){a(),n(t)}function s(){a(),i(new Error("Image load error"))}function a(){t.removeEventListener("load",r),t.removeEventListener("error",s)}t.addEventListener("load",r),t.addEventListener("error",s)})}function Tj(t,e){return e&&(t.src=e),t.src&&LI?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(r=>t.complete&&t.width?n(t):i(r))):Ej(t)}class xj{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const r=M0(e,n,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,n,i){const r=M0(e,n,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,n,i,r,s){const a=M0(e,n,i),o=a in this.cache_;this.cache_[a]=r,s&&(r.getImageState()===it.IDLE&&r.load(),r.getImageState()===it.LOADING?r.ready().then(()=>{this.patternCache_[a]=_p().createPattern(r.getImage(1),"repeat")}):this.patternCache_[a]=_p().createPattern(r.getImage(1),"repeat")),o||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function M0(t,e,n){const i=n?Id(n):"null";return e+":"+t+":"+i}const gs=new xj;let Vc=null;class Cj extends dh{constructor(e,n,i,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?it.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===it.LOADED){Vc||(Vc=bi(1,1,void 0,{willReadFrequently:!0})),Vc.drawImage(this.image_,0,0);try{Vc.getImageData(0,0,1,1),this.tainted_=!1}catch{Vc=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(lt.CHANGE)}handleImageError_(){this.imageState_=it.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=it.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=bi(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===it.IDLE){this.image_||this.initializeImage_(),this.imageState_=it.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Tj(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==it.LOADED)return;const n=this.image_,i=document.createElement("canvas");i.width=Math.ceil(n.width*e),i.height=Math.ceil(n.height*e);const r=i.getContext("2d");r.scale(e,e),r.drawImage(n,0,0),r.globalCompositeOperation="multiply",r.fillStyle=sj(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(n,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{this.imageState_===it.LOADED||this.imageState_===it.ERROR?e():this.addEventListener(lt.CHANGE,function n(){(this.imageState_===it.LOADED||this.imageState_===it.ERROR)&&(this.removeEventListener(lt.CHANGE,n),e())})})),this.ready_}}function s1(t,e,n,i,r,s){let a=e===void 0?void 0:gs.get(e,n,r);return a||(a=new Cj(t,t&&"src"in t?t.src||void 0:e,n,i,r),gs.set(e,n,r,a,s)),s&&a&&!gs.getPattern(e,n,r)&&gs.set(e,n,r,a,s),a}function ys(t){return t?Array.isArray(t)?n1(t):typeof t=="object"&&"src"in t?Sj(t):t:null}function Sj(t){if(!t.offset||!t.size)return gs.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=gs.getPattern(e,void 0,t.color);if(n)return n;const i=gs.get(t.src,"anonymous",null);if(i.getImageState()!==it.LOADED)return null;const r=bi(t.size[0],t.size[1]);return r.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),s1(r.canvas,e,void 0,it.LOADED,t.color,!0),gs.getPattern(e,void 0,t.color)}const qu={PROPERTYCHANGE:"propertychange"};class hh extends dh{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(lt.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Mt(this,e[s],n);return r}return Mt(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=bp(this,e[s],n)}else i=bp(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)kj(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],n);else this.removeEventListener(e,n)}}hh.prototype.on;hh.prototype.once;hh.prototype.un;function kj(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)sn(t[e]);else sn(t)}class YT extends ha{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class rs extends hh{constructor(e){super(),this.on,this.once,this.un,bt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new YT(i,e,n)),i=qu.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new YT(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const r=this.values_||(this.values_={});if(i)r[e]=n;else{const s=r[e];r[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],ho(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const vf="ol-hidden",Rj="ol-selectable",kl="ol-unselectable",Cm="ol-control",WT="ol-collapsed",Ij=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),KT=["style","variant","weight","size","lineHeight","family"],BI=function(t){const e=t.match(Ij);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=KT.length;i<r;++i){const s=e[i+1];s!==void 0&&(n[KT[i]]=s)}return n.families=n.family.split(/,\s?/),n},VI="10px sans-serif",tr="#000",Xu="round",na=[],ia=0,Zu="round",Md=10,Od="#000",Pd="center",wp="middle",nl=[0,0,0,0],Dd=1,zs=new rs;let gu=null,Xy;const Zy={},Aj=function(){const e="32px ",n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10";let s,a;function o(u,c,h){let m=!0;for(let g=0;g<i;++g){const y=n[g];if(a=Ep(u+" "+c+" "+e+y,r),h!=y){const b=Ep(u+" "+c+" "+e+h+","+y,r);m=m&&b!=a}}return!!m}function l(){let u=!0;const c=zs.getKeys();for(let h=0,m=c.length;h<m;++h){const g=c[h];zs.get(g)<100&&(o.apply(this,g.split(`
`))?(ch(Zy),gu=null,Xy=void 0,zs.set(g,100)):(zs.set(g,zs.get(g)+1,!0),u=!1))}u&&(clearInterval(s),s=void 0)}return function(u){const c=BI(u);if(!c)return;const h=c.families;for(let m=0,g=h.length;m<g;++m){const y=h[m],b=c.style+`
`+c.weight+`
`+y;zs.get(b)===void 0&&(zs.set(b,100,!0),o(c.style,c.weight,y)||(zs.set(b,0,!0),s===void 0&&(s=setInterval(l,32))))}}}(),Mj=function(){let t;return function(e){let n=Zy[e];if(n==null){if(DI){const i=BI(e),r=GI(e,"Žg");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);Zy[e]=n}return n}}();function GI(t,e){return gu||(gu=bi(1,1)),t!=Xy&&(gu.font=t,Xy=gu.font),gu.measureText(e)}function Ep(t,e){return GI(t,e).width}function qT(t,e,n){if(e in n)return n[e];const i=e.split(`
`).reduce((r,s)=>Math.max(r,Ep(t,s)),0);return n[e]=i,i}function Oj(t,e){const n=[],i=[],r=[];let s=0,a=0,o=0,l=0;for(let u=0,c=e.length;u<=c;u+=2){const h=e[u];if(h===`
`||u===c){s=Math.max(s,a),r.push(a),a=0,o+=l,l=0;continue}const m=e[u+1]||t.font,g=Ep(m,h);n.push(g),a+=g;const y=Mj(m);i.push(y),l=Math.max(l,y)}return{width:s,height:o,widths:n,heights:i,lineWidths:r}}function Pj(t,e,n,i,r,s,a,o,l,u,c){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=h=>h.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(c[0],c[1]),Dj(i,t)):c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(i,r,s,a,o,0,0,a,o)):t.drawImage(i,r,s,a,o,l,u,a*c[0],o*c[1]),t.restore()}function Dj(t,e){const n=t.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}class Sm extends Tm{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?it.LOADING:it.LOADED,this.imageState_===it.LOADING&&this.ready().then(()=>this.imageState_=it.LOADED),this.render()}clone(){const e=this.getScale(),n=new Sm({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const i=this.renderOptions_,r=bi(i.size*e,i.size*e);this.draw_(i,r,e),n=r.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let r=this.radius_,s=this.radius2_===void 0?r:this.radius2_;if(r<s){const k=r;r=s,s=k}const a=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/a,l=s*Math.sin(o),u=Math.sqrt(s*s-l*l),c=r-u,h=Math.sqrt(l*l+c*c),m=h/l;if(e==="miter"&&m<=i)return m*n;const g=n/2/m,y=n/2*(c/h),w=Math.sqrt((r+g)*(r+g)+y*y)-r;if(this.radius2_===void 0||e==="bevel")return w*2;const E=r*Math.sin(o),x=Math.sqrt(r*r-E*E),_=s-x,C=Math.sqrt(E*E+_*_)/E;if(C<=i){const k=C*n/2-s-r;return 2*Math.max(w,k)}return w*2}createRenderOptions(){let e=Xu,n=Zu,i=0,r=null,s=0,a,o=0;this.stroke_&&(a=ys(this.stroke_.getColor()??Od),o=this.stroke_.getWidth()??Dd,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Zu,e=this.stroke_.getLineCap()??Xu,i=this.stroke_.getMiterLimit()??Md);const l=this.calculateLineJoinSize_(n,o,i),u=Math.max(this.radius_,this.radius2_||0),c=Math.ceil(2*u+l);return{strokeStyle:a,strokeWidth:o,size:c,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=tr),n.fillStyle=ys(r),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Id(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=bi(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius_;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,a=2*Math.PI/n;for(let o=0;o<n;o++){const l=s+o*a,u=o%2===0?i:r;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=tr,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Pl extends Sm{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new Pl({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}function Lt(t,e){if(!t)throw new Error(e)}class cc extends rs{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new cc(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(sn(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=Mt(e,lt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?Lj(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function Lj(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(Lt(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}const zI=new Array(6);function br(){return[1,0,0,1,0,0]}function XT(t){return o1(t,1,0,0,1,0,0)}function a1(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=e[0],u=e[1],c=e[2],h=e[3],m=e[4],g=e[5];return t[0]=n*l+r*u,t[1]=i*l+s*u,t[2]=n*c+r*h,t[3]=i*c+s*h,t[4]=n*m+r*g+a,t[5]=i*m+s*g+o,t}function o1(t,e,n,i,r,s,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=a,t}function Fj(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function jn(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function O0(t,e,n){return a1(t,o1(zI,e,0,0,n,0,0))}function Nj(t,e,n){return a1(t,o1(zI,1,0,0,1,e,n))}function ts(t,e,n,i,r,s,a,o){const l=Math.sin(s),u=Math.cos(s);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=a*i*u-o*i*l+e,t[5]=a*r*l+o*r*u+n,t}function UI(t,e){const n=$j(e);Lt(n!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5];return t[0]=a/n,t[1]=-r/n,t[2]=-s/n,t[3]=i/n,t[4]=(s*l-a*o)/n,t[5]=-(i*l-r*o)/n,t}function $j(t){return t[0]*t[3]-t[1]*t[2]}const ZT=[1e6,1e6,1e6,1e6,2,2];function jj(t){return"matrix("+t.map((n,i)=>Math.round(n*ZT[i])/ZT[i]).join(", ")+")"}const pi={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Jy(t){const e=Lr();for(let n=0,i=t.length;n<i;++n)ld(e,t[n]);return e}function Bj(t,e,n){const i=Math.min.apply(null,t),r=Math.min.apply(null,e),s=Math.max.apply(null,t),a=Math.max.apply(null,e);return oa(i,r,s,a,n)}function no(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function HI(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Dl(t,e,n){let i,r;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?r=t[1]-n:t[3]<n?r=n-t[3]:r=0,i*i+r*r}function Rl(t,e){return l1(t,e[0],e[1])}function Zs(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function l1(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Qy(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],a=e[0],o=e[1];let l=pi.UNKNOWN;return a<n?l=l|pi.LEFT:a>r&&(l=l|pi.RIGHT),o<i?l=l|pi.BELOW:o>s&&(l=l|pi.ABOVE),l===pi.UNKNOWN&&(l=pi.INTERSECTING),l}function Lr(){return[1/0,1/0,-1/0,-1/0]}function oa(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function dc(t){return oa(1/0,1/0,-1/0,-1/0,t)}function YI(t,e){const n=t[0],i=t[1];return oa(n,i,n,i,e)}function u1(t,e,n,i,r){const s=dc(r);return KI(s,t,e,n,i)}function Ju(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function WI(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function ld(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function KI(t,e,n,i,r){for(;n<i;n+=r)Vj(t,e[n],e[n+1]);return t}function Vj(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function qI(t,e){let n;return n=e(km(t)),n||(n=e(Rm(t)),n)||(n=e(Im(t)),n)||(n=e(Eo(t)),n)?n:!1}function e_(t){let e=0;return Ll(t)||(e=Bt(t)*gi(t)),e}function km(t){return[t[0],t[1]]}function Rm(t){return[t[2],t[1]]}function fo(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Gj(t,e){let n;if(e==="bottom-left")n=km(t);else if(e==="bottom-right")n=Rm(t);else if(e==="top-left")n=Eo(t);else if(e==="top-right")n=Im(t);else throw new Error("Invalid corner");return n}function t_(t,e,n,i,r){const[s,a,o,l,u,c,h,m]=n_(t,e,n,i);return oa(Math.min(s,o,u,h),Math.min(a,l,c,m),Math.max(s,o,u,h),Math.max(a,l,c,m),r)}function n_(t,e,n,i){const r=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),o=Math.sin(n),l=r*a,u=r*o,c=s*a,h=s*o,m=t[0],g=t[1];return[m-l+h,g-u-c,m-l-h,g-u+c,m+l-h,g+u+c,m+l+h,g+u-c,m-l+h,g-u-c]}function gi(t){return t[3]-t[1]}function io(t,e,n){const i=n||Lr();return An(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):dc(i),i}function Eo(t){return[t[0],t[3]]}function Im(t){return[t[2],t[3]]}function Bt(t){return t[2]-t[0]}function An(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Ll(t){return t[2]<t[0]||t[3]<t[1]}function zj(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Uj(t,e){const n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function Hj(t,e,n){let i=!1;const r=Qy(t,e),s=Qy(t,n);if(r===pi.INTERSECTING||s===pi.INTERSECTING)i=!0;else{const a=t[0],o=t[1],l=t[2],u=t[3],c=e[0],h=e[1],m=n[0],g=n[1],y=(g-h)/(m-c);let b,w;s&pi.ABOVE&&!(r&pi.ABOVE)&&(b=m-(g-u)/y,i=b>=a&&b<=l),!i&&s&pi.RIGHT&&!(r&pi.RIGHT)&&(w=g-(m-l)*y,i=w>=o&&w<=u),!i&&s&pi.BELOW&&!(r&pi.BELOW)&&(b=m-(g-o)/y,i=b>=a&&b<=l),!i&&s&pi.LEFT&&!(r&pi.LEFT)&&(w=g-(m-a)*y,i=w>=o&&w<=u)}return i}function Yj(t,e,n,i){if(Ll(t))return dc(n);let r=[];r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]],e(r,r,2);const s=[],a=[];for(let o=0,l=r.length;o<l;o+=2)s.push(r[o]),a.push(r[o+1]);return Bj(s,a,n)}function XI(t,e){const n=e.getExtent(),i=fo(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const r=Bt(n),a=Math.floor((i[0]-n[0])/r)*r;t[0]-=a,t[2]-=a}return t}function ZI(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];XI(t,e);const r=Bt(i);if(Bt(t)>r&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}const Qu={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class c1{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Qu[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const fh=6378137,Tu=Math.PI*fh,Wj=[-Tu,-Tu,Tu,Tu],Kj=[-180,-85,180,85],bf=fh*Math.log(Math.tan(Math.PI/2));class ru extends c1{constructor(e){super({code:e,units:"m",extent:Wj,global:!0,worldExtent:Kj,getPointResolution:function(n,i){return n/Math.cosh(i[1]/fh)}})}}const JT=[new ru("EPSG:3857"),new ru("EPSG:102100"),new ru("EPSG:102113"),new ru("EPSG:900913"),new ru("http://www.opengis.net/def/crs/EPSG/0/3857"),new ru("http://www.opengis.net/gml/srs/epsg.xml#3857")];function qj(t,e,n){const i=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let r=0;r<i;r+=n){e[r]=Tu*t[r]/180;let s=fh*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));s>bf?s=bf:s<-bf&&(s=-bf),e[r+1]=s}return e}function Xj(t,e,n){const i=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(i));for(let r=0;r<i;r+=n)e[r]=180*t[r]/Tu,e[r+1]=360*Math.atan(Math.exp(t[r+1]/fh))/Math.PI-90;return e}const Zj=6378137,QT=[-180,-90,180,90],Jj=Math.PI*Zj/180;class Yo extends c1{constructor(e,n){super({code:e,units:"degrees",extent:QT,axisOrientation:n,global:!0,metersPerUnit:Jj,worldExtent:QT})}}const ex=[new Yo("CRS:84"),new Yo("EPSG:4326","neu"),new Yo("urn:ogc:def:crs:OGC:1.3:CRS84"),new Yo("urn:ogc:def:crs:OGC:2:84"),new Yo("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Yo("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Yo("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let i_={};function Qj(t){return i_[t]||i_[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function e4(t,e){i_[t]=e}let Lu={};function Tp(t,e,n){const i=t.getCode(),r=e.getCode();i in Lu||(Lu[i]={}),Lu[i][r]=n}function t4(t,e){let n;return t in Lu&&e in Lu[t]&&(n=Lu[t][e]),n}function n4(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function xp(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function d1(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,s=t[1]*n+t[0]*i;return t[0]=r,t[1]=s,t}function i4(t,e){return t[0]*=e,t[1]*=e,t}function h1(t,e){if(e.canWrapX()){const n=Bt(e.getExtent()),i=r4(t,e,n);i&&(t[0]-=i*n)}return t}function r4(t,e,n){const i=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||Bt(i),r=Math.floor((t[0]-i[0])/n)),r}const s4=63710088e-1;function tx(t,e,n){n=n||s4;const i=Uf(t[1]),r=Uf(e[1]),s=(r-i)/2,a=Uf(e[0]-t[0])/2,o=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function JI(...t){console.warn(...t)}let r_=!0;function QI(t){r_=!1}function f1(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function e2(t,e){if(e!==void 0&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function a4(t){e4(t.getCode(),t),Tp(t,t,f1)}function o4(t){t.forEach(a4)}function En(t){return typeof t=="string"?Qj(t):t||null}function Cp(t,e,n,i){t=En(t);let r;const s=t.getPointResolutionFunc();if(s){if(r=s(e,n),i&&i!==t.getUnits()){const a=t.getMetersPerUnit();a&&(r=r*a/Qu[i])}}else{const a=t.getUnits();if(a=="degrees"&&!i||i=="degrees")r=e;else{const o=ph(t,En("EPSG:4326"));if(o===e2&&a!=="degrees")r=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=o(u,u,2);const c=tx(u.slice(0,2),u.slice(2,4)),h=tx(u.slice(4,6),u.slice(6,8));r=(c+h)/2}const l=i?Qu[i]:t.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function nx(t){o4(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Tp(e,n,f1)})})}function l4(t,e,n,i){t.forEach(function(r){e.forEach(function(s){Tp(r,s,n),Tp(s,r,i)})})}function p1(t,e){return t?typeof t=="string"?En(t):t:En(e)}function t2(t,e){return QI(),Am(t,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function Ha(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||ph(t,e)===f1)&&n}function ph(t,e){const n=t.getCode(),i=e.getCode();let r=t4(n,i);return r||(r=e2),r}function Ld(t,e){const n=En(t),i=En(e);return ph(n,i)}function Am(t,e,n){return Ld(e,n)(t,void 0,t.length)}let u4=null;function n2(){return u4}function s_(t,e){return t}function Us(t,e){return r_&&!xp(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(r_=!1,JI("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function m1(t,e){return t}function Js(t,e){return t}function c4(){nx(JT),nx(ex),l4(ex,JT,qj,Xj)}c4();function ro(t,e,n,i,r,s){s=s||[];let a=0;for(let o=e;o<n;o+=i){const l=t[o],u=t[o+1];s[a++]=r[0]*l+r[2]*u+r[4],s[a++]=r[1]*l+r[3]*u+r[5]}return s&&s.length!=a&&(s.length=a),s}function i2(t,e,n,i,r,s,a){a=a||[];const o=Math.cos(r),l=Math.sin(r),u=s[0],c=s[1];let h=0;for(let m=e;m<n;m+=i){const g=t[m]-u,y=t[m+1]-c;a[h++]=u+g*o-y*l,a[h++]=c+g*l+y*o;for(let b=m+2;b<m+i;++b)a[h++]=t[b]}return a&&a.length!=h&&(a.length=h),a}function d4(t,e,n,i,r,s,a,o){o=o||[];const l=a[0],u=a[1];let c=0;for(let h=e;h<n;h+=i){const m=t[h]-l,g=t[h+1]-u;o[c++]=l+r*m,o[c++]=u+s*g;for(let y=h+2;y<h+i;++y)o[c++]=t[y]}return o&&o.length!=c&&(o.length=c),o}function h4(t,e,n,i,r,s,a){a=a||[];let o=0;for(let l=e;l<n;l+=i){a[o++]=t[l]+r,a[o++]=t[l+1]+s;for(let u=l+2;u<l+i;++u)a[o++]=t[u]}return a&&a.length!=o&&(a.length=o),a}const ix=br();class r2 extends rs{constructor(){super(),this.extent_=Lr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=$I((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return ft()}closestPointXY(e,n,i,r){return ft()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ft()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&dc(n),this.extentRevision_=this.getRevision()}return zj(this.extent_,e)}rotate(e,n){ft()}scale(e,n,i){ft()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ft()}getType(){return ft()}applyTransform(e){ft()}intersectsExtent(e){return ft()}translate(e,n){ft()}transform(e,n){const i=En(e),r=i.getUnits()=="tile-pixels"?function(s,a,o){const l=i.getExtent(),u=i.getWorldExtent(),c=gi(u)/gi(l);return ts(ix,u[0],u[3],c,-c,0,0,0),ro(s,0,s.length,o,ix,a),Ld(i,n)(s,a,o)}:Ld(i,n);return this.applyTransform(r),this}}class Fl extends r2{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return u1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ft()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=rx(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){ft()}setLayout(e,n,i){let r;if(e)r=rx(e);else{for(let s=0;s<i;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,e=Nl(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();i2(i,0,i.length,r,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=fo(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();d4(r,0,r.length,s,e,n,i,r),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();h4(i,0,i.length,r,e,n,i),this.changed()}}}function Nl(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function rx(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function f4(t,e,n){const i=t.getFlatCoordinates();if(!i)return null;const r=t.getStride();return ro(i,0,i.length,r,e,n)}function p4(t,e,n,i){for(let r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}function Mm(t,e,n,i){for(let r=0,s=n.length;r<s;++r){const a=n[r];for(let o=0;o<i;++o)t[e++]=a[o]}return e}function mh(t,e,n,i,r){r=r||[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=Mm(t,e,n[a],i);r[s++]=l,e=l}return r.length=s,r}function s2(t,e,n,i,r){r=r||[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=mh(t,e,n[a],i,r[s]);l.length===0&&(l[0]=e),r[s++]=l,e=l[l.length-1]}return r.length=s,r}class Sp extends r2{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(sn),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)this.changeEventsKeys_.push(Mt(e[n],lt.CHANGE,this.changed,this))}clone(){const e=new Sp(P0(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,n,i,r){if(r<Dl(this.getExtent(),e,n))return r;const s=this.geometries_;for(let a=0,o=s.length;a<o;++a)r=s[a].closestPointXY(e,n,i,r);return r}containsXY(e,n){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)if(i[r].containsXY(e,n))return!0;return!1}computeExtent(e){dc(e);const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)WI(e,n[i].getExtent());return e}getGeometries(){return P0(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].getType()===this.getType()?e=e.concat(n[i].getGeometriesArrayRecursive()):e.push(n[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],i=this.geometries_;let r=!1;for(let s=0,a=i.length;s<a;++s){const o=i[s],l=o.getSimplifiedGeometry(e);n.push(l),l!==o&&(r=!0)}return r?new Sp(n):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].rotate(e,n);this.changed()}scale(e,n,i){i||(i=fo(this.getExtent()));const r=this.geometries_;for(let s=0,a=r.length;s<a;++s)r[s].scale(e,n,i);this.changed()}setGeometries(e){this.setGeometriesArray(P0(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].applyTransform(e);this.changed()}translate(e,n){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function P0(t){return t.map(e=>e.clone())}function sx(t,e,n,i,r,s,a){const o=t[e],l=t[e+1],u=t[n]-o,c=t[n+1]-l;let h;if(u===0&&c===0)h=e;else{const m=((r-o)*u+(s-l)*c)/(u*u+c*c);if(m>1)h=n;else if(m>0){for(let g=0;g<i;++g)a[g]=mr(t[e+g],t[n+g],m);a.length=i;return}else h=e}for(let m=0;m<i;++m)a[m]=t[h+m];a.length=i}function g1(t,e,n,i,r){let s=t[e],a=t[e+1];for(e+=i;e<n;e+=i){const o=t[e],l=t[e+1],u=ml(s,a,o,l);u>r&&(r=u),s=o,a=l}return r}function y1(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const o=n[s];r=g1(t,e,o,i,r),e=o}return r}function m4(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const o=n[s];r=y1(t,e,o,i,r),e=o[o.length-1]}return r}function _1(t,e,n,i,r,s,a,o,l,u,c){if(e==n)return u;let h,m;if(r===0){if(m=ml(a,o,t[e],t[e+1]),m<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,m}return u}c=c||[NaN,NaN];let g=e+i;for(;g<n;)if(sx(t,g-i,g,i,a,o,c),m=ml(a,o,c[0],c[1]),m<u){for(u=m,h=0;h<i;++h)l[h]=c[h];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(m)-Math.sqrt(u))/r|0,1);if(s&&(sx(t,n-i,e,i,a,o,c),m=ml(a,o,c[0],c[1]),m<u)){for(u=m,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function v1(t,e,n,i,r,s,a,o,l,u,c){c=c||[NaN,NaN];for(let h=0,m=n.length;h<m;++h){const g=n[h];u=_1(t,e,g,i,r,s,a,o,l,u,c),e=g}return u}function g4(t,e,n,i,r,s,a,o,l,u,c){c=c||[NaN,NaN];for(let h=0,m=n.length;h<m;++h){const g=n[h];u=v1(t,e,g,i,r,s,a,o,l,u,c),e=g[g.length-1]}return u}function Om(t,e,n,i,r,s,a){const o=(n-e)/i;if(o<3){for(;e<n;e+=i)s[a++]=t[e],s[a++]=t[e+1];return a}const l=new Array(o);l[0]=1,l[o-1]=1;const u=[e,n-i];let c=0;for(;u.length>0;){const h=u.pop(),m=u.pop();let g=0;const y=t[m],b=t[m+1],w=t[h],E=t[h+1];for(let x=m+i;x<h;x+=i){const _=t[x],T=t[x+1],C=ij(_,T,y,b,w,E);C>g&&(c=x,g=C)}g>r&&(l[(c-e)/i]=1,m+i<c&&u.push(m,c),c+i<h&&u.push(c,h))}for(let h=0;h<o;++h)l[h]&&(s[a++]=t[e+h*i],s[a++]=t[e+h*i+1]);return a}function a2(t,e,n,i,r,s,a,o){for(let l=0,u=n.length;l<u;++l){const c=n[l];a=Om(t,e,c,i,r,s,a),o.push(a),e=c}return a}function qo(t,e){return e*Math.round(t/e)}function y4(t,e,n,i,r,s,a){if(e==n)return a;let o=qo(t[e],r),l=qo(t[e+1],r);e+=i,s[a++]=o,s[a++]=l;let u,c;do if(u=qo(t[e],r),c=qo(t[e+1],r),e+=i,e==n)return s[a++]=u,s[a++]=c,a;while(u==o&&c==l);for(;e<n;){const h=qo(t[e],r),m=qo(t[e+1],r);if(e+=i,h==u&&m==c)continue;const g=u-o,y=c-l,b=h-o,w=m-l;if(g*w==y*b&&(g<0&&b<g||g==b||g>0&&b>g)&&(y<0&&w<y||y==w||y>0&&w>y)){u=h,c=m;continue}s[a++]=u,s[a++]=c,o=u,l=c,u=h,c=m}return s[a++]=u,s[a++]=c,a}function b1(t,e,n,i,r,s,a,o){for(let l=0,u=n.length;l<u;++l){const c=n[l];a=y4(t,e,c,i,r,s,a),o.push(a),e=c}return a}function _4(t,e,n,i,r,s,a,o){for(let l=0,u=n.length;l<u;++l){const c=n[l],h=[];a=b1(t,e,c,i,r,s,a,h),o.push(h),e=c[c.length-1]}return a}function Wa(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let a=e;a<n;a+=i)r[s++]=t.slice(a,a+i);return r.length=s,r}function Fd(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];r[s++]=Wa(t,e,l,i,r[s]),e=l}return r.length=s,r}function a_(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];r[s++]=l.length===1&&l[0]===e?[]:Fd(t,e,l,i,r[s]),e=l[l.length-1]}return r.length=s,r}function o2(t,e,n,i){let r=0,s=t[n-i],a=t[n-i+1];for(;e<n;e+=i){const o=t[e],l=t[e+1];r+=a*o-s*l,s=o,a=l}return r/2}function l2(t,e,n,i){let r=0;for(let s=0,a=n.length;s<a;++s){const o=n[s];r+=o2(t,e,o,i),e=o}return r}function v4(t,e,n,i){let r=0;for(let s=0,a=n.length;s<a;++s){const o=n[s];r+=l2(t,e,o,i),e=o[o.length-1]}return r}class Nd extends Fl{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Nd(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(g1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,r))}getArea(){return o2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Wa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Om(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Nd(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Mm(this.flatCoordinates,0,e,this.stride),this.changed()}}function u2(t,e,n,i,r){let s;for(e+=i;e<n;e+=i)if(s=r(t.slice(e-i,e),t.slice(e,e+i)),s)return s;return!1}function kp(t,e,n,i,r,s,a){let o,l;const u=(n-e)/i;if(u===1)o=e;else if(u===2)o=e,l=r;else if(u!==0){let c=t[e],h=t[e+1],m=0;const g=[0];for(let w=e+i;w<n;w+=i){const E=t[w],x=t[w+1];m+=Math.sqrt((E-c)*(E-c)+(x-h)*(x-h)),g.push(m),c=E,h=x}const y=r*m,b=yj(g,y);b<0?(l=(y-g[-b-2])/(g[-b-1]-g[-b-2]),o=e+(-b-2)*i):o=e+b*i}a=a>1?a:2,s=s||new Array(a);for(let c=0;c<a;++c)s[c]=o===void 0?NaN:l===void 0?t[o+c]:mr(t[o+c],t[o+i+c],l);return s}function o_(t,e,n,i,r,s){if(n==e)return null;let a;if(r<t[e+i-1])return s?(a=t.slice(e,e+i),a[i-1]=r,a):null;if(t[n-1]<r)return s?(a=t.slice(n-i,n),a[i-1]=r,a):null;if(r==t[e+i-1])return t.slice(e,e+i);let o=e/i,l=n/i;for(;o<l;){const m=o+l>>1;r<t[(m+1)*i-1]?l=m:o=m+1}const u=t[o*i-1];if(r==u)return t.slice((o-1)*i,(o-1)*i+i);const c=t[(o+1)*i-1],h=(r-u)/(c-u);a=[];for(let m=0;m<i-1;++m)a.push(mr(t[(o-1)*i+m],t[o*i+m],h));return a.push(r),a}function b4(t,e,n,i,r,s,a){if(a)return o_(t,e,n[n.length-1],i,r,s);let o;if(r<t[i-1])return s?(o=t.slice(0,i),o[i-1]=r,o):null;if(t[t.length-1]<r)return s?(o=t.slice(t.length-i),o[i-1]=r,o):null;for(let l=0,u=n.length;l<u;++l){const c=n[l];if(e!=c){if(r<t[e+i-1])return null;if(r<=t[c-1])return o_(t,e,c,i,r,!1);e=c}}return null}function w4(t,e,n,i,r){return!qI(r,function(a){return!il(t,e,n,i,a[0],a[1])})}function il(t,e,n,i,r,s){let a=0,o=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const u=t[e],c=t[e+1];l<=s?c>s&&(u-o)*(s-l)-(r-o)*(c-l)>0&&a++:c<=s&&(u-o)*(s-l)-(r-o)*(c-l)<0&&a--,o=u,l=c}return a!==0}function w1(t,e,n,i,r,s){if(n.length===0||!il(t,e,n[0],i,r,s))return!1;for(let a=1,o=n.length;a<o;++a)if(il(t,n[a-1],n[a],i,r,s))return!1;return!0}function E4(t,e,n,i,r,s){if(n.length===0)return!1;for(let a=0,o=n.length;a<o;++a){const l=n[a];if(w1(t,e,l,i,r,s))return!0;e=l[l.length-1]}return!1}function Pm(t,e,n,i,r){const s=KI(Lr(),t,e,n,i);return An(r,s)?Zs(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:u2(t,e,n,i,function(a,o){return Hj(r,a,o)}):!1}function T4(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){if(Pm(t,e,n[s],i,r))return!0;e=n[s]}return!1}function c2(t,e,n,i,r){return!!(Pm(t,e,n,i,r)||il(t,e,n,i,r[0],r[1])||il(t,e,n,i,r[0],r[3])||il(t,e,n,i,r[2],r[1])||il(t,e,n,i,r[2],r[3]))}function d2(t,e,n,i,r){if(!c2(t,e,n[0],i,r))return!1;if(n.length===1)return!0;for(let s=1,a=n.length;s<a;++s)if(w4(t,n[s-1],n[s],i,r)&&!Pm(t,n[s-1],n[s],i,r))return!1;return!0}function x4(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const o=n[s];if(d2(t,e,o,i,r))return!0;e=o[o.length-1]}return!1}function h2(t,e,n,i){let r=t[e],s=t[e+1],a=0;for(let o=e+i;o<n;o+=i){const l=t[o],u=t[o+1];a+=Math.sqrt((l-r)*(l-r)+(u-s)*(u-s)),r=l,s=u}return a}class Il extends Fl{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){Es(this.flatCoordinates,e),this.changed()}clone(){const e=new Il(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(g1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,i,r))}forEachSegment(e){return u2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,o_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return Wa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return kp(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return h2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=Om(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Il(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return Pm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Mm(this.flatCoordinates,0,e,this.stride),this.changed()}}class $d extends Fl{constructor(e,n,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{const r=e,s=[],a=[];for(let l=0,u=r.length;l<u;++l){const c=r[l];Es(s,c.getFlatCoordinates()),a.push(s.length)}const o=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(o,s),this.ends_=a}}appendLineString(e){Es(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new $d(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(y1(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),v1(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,i,r))}getCoordinateAtM(e,n,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,i=i!==void 0?i:!1,b4(this.flatCoordinates,0,this.ends_,this.stride,e,n,i))}getCoordinates(){return Fd(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Il(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,i=this.layout,r=[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a],u=new Il(e.slice(s,l),i);r.push(u),s=l}return r}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let i=0;const r=this.ends_,s=this.stride;for(let a=0,o=r.length;a<o;++a){const l=r[a],u=kp(n,i,l,s,.5);Es(e,u),i=l}return e}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=a2(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,i),new $d(n,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return T4(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=mh(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class la extends Fl{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new la(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){const s=this.flatCoordinates,a=ml(e,n,s[0],s[1]);if(a<r){const o=this.stride;for(let l=0;l<o;++l)i[l]=s[l];return i.length=o,a}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return YI(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return l1(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=p4(this.flatCoordinates,0,e,this.stride),this.changed()}}class gh extends Fl{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){Es(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new gh(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){if(r<Dl(this.getExtent(),e,n))return r;const s=this.flatCoordinates,a=this.stride;for(let o=0,l=s.length;o<l;o+=a){const u=ml(e,n,s[o],s[o+1]);if(u<r){r=u;for(let c=0;c<a;++c)i[c]=s[o+c];i.length=a}}return r}getCoordinates(){return Wa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new la(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,i=this.stride,r=[];for(let s=0,a=e.length;s<a;s+=i){const o=new la(e.slice(s,s+i),n);r.push(o)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,i=this.stride;for(let r=0,s=n.length;r<s;r+=i){const a=n[r],o=n[r+1];if(l1(e,a,o))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Mm(this.flatCoordinates,0,e,this.stride),this.changed()}}function E1(t,e,n,i,r,s,a){let o,l,u,c,h,m,g;const y=r[s+1],b=[];for(let x=0,_=n.length;x<_;++x){const T=n[x];for(c=t[T-i],m=t[T-i+1],o=e;o<T;o+=i)h=t[o],g=t[o+1],(y<=m&&g<=y||m<=y&&y<=g)&&(u=(y-m)/(g-m)*(h-c)+c,b.push(u)),c=h,m=g}let w=NaN,E=-1/0;for(b.sort(ws),c=b[0],o=1,l=b.length;o<l;++o){h=b[o];const x=Math.abs(h-c);x>E&&(u=(c+h)/2,w1(t,e,n,i,u,y)&&(w=u,E=x)),c=h}return isNaN(w)&&(w=r[s]),a?(a.push(w,y,E),a):[w,y,E]}function f2(t,e,n,i,r){let s=[];for(let a=0,o=n.length;a<o;++a){const l=n[a];s=E1(t,e,l,i,r,2*a,s),e=l[l.length-1]}return s}function C4(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function T1(t,e,n,i){let r=0,s=t[n-i],a=t[n-i+1];for(;e<n;e+=i){const o=t[e],l=t[e+1];r+=(o-s)*(l+a),s=o,a=l}return r===0?void 0:r>0}function x1(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,a=n.length;s<a;++s){const o=n[s],l=T1(t,e,o,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=o}return!0}function p2(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s){const o=n[s];if(!x1(t,e,o,i,r))return!1;o.length&&(e=o[o.length-1])}return!0}function Rp(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,a=n.length;s<a;++s){const o=n[s],l=T1(t,e,o,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&C4(t,e,o,i),e=o}return e}function l_(t,e,n,i,r){for(let s=0,a=n.length;s<a;++s)e=Rp(t,e,n[s],i,r);return e}function m2(t,e){const n=[];let i=0,r=0,s;for(let a=0,o=e.length;a<o;++a){const l=e[a],u=T1(t,i,l,2);if(s===void 0&&(s=u),u===s)n.push(e.slice(r,a+1));else{if(n.length===0)continue;n[n.length-1].push(e[r])}r=a+1,i=l}return n}class jd extends Fl{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?Es(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new jd(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(y1(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),v1(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return w1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return l2(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Rp(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Fd(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=fo(this.getExtent());this.flatInteriorPoint_=E1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new la(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Nd(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let a=0,o=i.length;a<o;++a){const l=i[a],u=new Nd(n.slice(s,l),e);r.push(u),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;x1(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Rp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=b1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new jd(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return d2(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=mh(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}const Bd=jd;function ax(t){if(Ll(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new jd(s,"XY",[s.length])}function g2(t,e,n,i){const r=[];let s=Lr();for(let a=0,o=n.length;a<o;++a){const l=n[a];s=u1(t,e,l[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return r}class Vd extends Fl{constructor(e,n,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const r=e,s=[],a=[];for(let o=0,l=r.length;o<l;++o){const u=r[o],c=s.length,h=u.getEnds();for(let m=0,g=h.length;m<g;++m)h[m]+=c;Es(s,u.getFlatCoordinates()),a.push(h)}n=r.length===0?this.getLayout():r[0].getLayout(),e=s,i=a}n!==void 0&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Es(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let r=0,s=n.length;r<s;++r)n[r]+=i}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let r=0;r<e;++r)n[r]=this.endss_[r].slice();const i=new Vd(this.flatCoordinates.slice(),this.layout,n);return i.applyProperties(this),i}closestPointXY(e,n,i,r){return r<Dl(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(m4(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),g4(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return E4(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return v4(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),l_(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,a_(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=g2(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=f2(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new gh(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;p2(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=l_(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=_4(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,i),new Vd(n,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(n!==0)for(let s=0,a=i.length;s<a;++s)i[s]-=n;return new Bd(this.flatCoordinates.slice(n,r),this.layout,i)}getPolygons(){const e=this.layout,n=this.flatCoordinates,i=this.endss_,r=[];let s=0;for(let a=0,o=i.length;a<o;++a){const l=i[a].slice(),u=l[l.length-1];if(s!==0)for(let h=0,m=l.length;h<m;++h)l[h]-=s;const c=new Bd(n.slice(s,u),e,l);r.push(c),s=u}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return x4(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=s2(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const ox=br();class Ci{constructor(e,n,i,r,s,a){this.styleFunction,this.extent_,this.id_=a,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?YI(this.flatCoordinates_):u1(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=fo(this.getExtent());this.flatInteriorPoints_=E1(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=m2(this.flatCoordinates_,this.ends_),n=g2(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=f2(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=kp(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const i=this.ends_;for(let r=0,s=i.length;r<s;++r){const a=i[r],o=kp(e,n,a,2,.5);Es(this.flatMidpoints_,o),n=a}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=En(e);const n=e.getExtent(),i=e.getWorldExtent();if(n&&i){const r=gi(i)/gi(n);ts(ox,i[0],i[3],r,-r,0,0,0),ro(this.flatCoordinates_,0,this.flatCoordinates_.length,2,ox,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Ci(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=$I((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=Om(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=a2(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=b1(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break}return r&&(this.simplifiedGeometry_=new Ci(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Ci.prototype.getFlatCoordinates=Ci.prototype.getOrientedFlatCoordinates;class S4{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=cc,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let i=n.dataProjection?En(n.dataProjection):this.readProjection(e);n.extent&&i&&i.getUnits()==="tile-pixels"&&(i=En(i),i.setWorldExtent(n.extent)),n={dataProjection:i,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return ft()}readFeature(e,n){return ft()}readFeatures(e,n){return ft()}readGeometry(e,n){return ft()}readProjection(e){return ft()}writeFeature(e,n){return ft()}writeFeatures(e,n){return ft()}writeGeometry(e,n){return ft()}}const y2=S4;function Dm(t,e,n){const i=n?En(n.featureProjection):null,r=n?En(n.dataProjection):null;let s=t;if(i&&r&&!Ha(i,r)){e&&(s=t.clone());const a=e?i:r,o=e?r:i;a.getUnits()==="tile-pixels"?s.transform(a,o):s.applyTransform(Ld(a,o))}if(e&&n&&n.decimals!==void 0){const a=Math.pow(10,n.decimals),o=function(l){for(let u=0,c=l.length;u<c;++u)l[u]=Math.round(l[u]*a)/a;return l};s===t&&(s=t.clone()),s.applyTransform(o)}return s}const k4={Point:la,LineString:Il,Polygon:Bd,MultiPoint:gh,MultiLineString:$d,MultiPolygon:Vd};function R4(t,e,n){return Array.isArray(e[0])?(p2(t,0,e,n)||(t=t.slice(),l_(t,0,e,n)),t):(x1(t,0,e,n)||(t=t.slice(),Rp(t,0,e,n)),t)}function _2(t,e){const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map(s=>_2({...t,geometry:s})).flat();const i=n.type==="MultiPolygon"?"Polygon":n.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const r=n.layout.length;return Dm(new Ci(i,i==="Polygon"?R4(n.flatCoordinates,n.ends,r):n.flatCoordinates,n.ends?.flat(),r,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function C1(t,e){if(!t)return null;if(Array.isArray(t)){const i=t.map(r=>C1(r,e));return new Sp(i)}const n=k4[t.type];return Dm(new n(t.flatCoordinates,t.layout,t.ends),!1,e)}class I4 extends y2{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(wf(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(wf(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return ft()}readFeaturesFromObject(e,n){return ft()}readGeometry(e,n){return this.readGeometryFromObject(wf(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return ft()}readProjection(e){return this.readProjectionFromObject(wf(e))}readProjectionFromObject(e){return ft()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return ft()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return ft()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return ft()}}function wf(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}class S1 extends I4{constructor(e){e=e||{},super(),this.dataProjection=En(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=En(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const r=k1(i.geometry);if(this.featureClass===Ci)return _2({geometry:r,id:i.id,properties:i.properties},n);const s=new cc;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&s.setGeometryName(i.geometry_name),s.setGeometry(C1(r,n)),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s}readFeaturesFromObject(e,n){const i=e;let r=null;if(i.type==="FeatureCollection"){const s=e;r=[];const a=s.features;for(let o=0,l=a.length;o<l;++o){const u=this.readFeatureFromObject(a[o],n);u&&r.push(u)}}else r=[this.readFeatureFromObject(e,n)];return r.flat()}readGeometryFromObject(e,n){return A4(e,n)}readProjectionFromObject(e){const n=e.crs;let i;if(n)if(n.type=="name")i=En(n.properties.name);else if(n.type==="EPSG")i=En("EPSG:"+n.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,n){n=this.adaptOptions(n);const i={type:"Feature",geometry:null,properties:null},r=e.getId();if(r!==void 0&&(i.id=r),!e.hasProperties())return i;const s=e.getProperties(),a=e.getGeometry();return a&&(i.geometry=u_(a,n),delete s[e.getGeometryName()]),ho(s)||(i.properties=s),i}writeFeaturesObject(e,n){n=this.adaptOptions(n);const i=[];for(let r=0,s=e.length;r<s;++r)i.push(this.writeFeatureObject(e[r],n));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,n){return u_(e,this.adaptOptions(n))}}function k1(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=O4(t);break}case"LineString":{n=P4(t);break}case"Polygon":{n=N4(t);break}case"MultiPoint":{n=L4(t);break}case"MultiLineString":{n=D4(t);break}case"MultiPolygon":{n=F4(t);break}case"GeometryCollection":{n=M4(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function A4(t,e){const n=k1(t);return C1(n,e)}function M4(t,e){return t.geometries.map(function(i){return k1(i)})}function O4(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:Nl(e.length)}}function P4(t){const e=t.coordinates,n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:Nl(e[0]?.length||2)}}function D4(t){const e=t.coordinates,n=e[0]?.[0]?.length||2,i=[],r=mh(i,0,e,n);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:Nl(n)}}function L4(t){const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:Nl(e[0]?.length||2)}}function F4(t){const e=t.coordinates,n=[],i=e[0]?.[0]?.[0].length||2,r=s2(n,0,e,i);return{type:"MultiPolygon",flatCoordinates:n,ends:r,layout:Nl(i)}}function N4(t){const e=t.coordinates,n=[],i=e[0]?.[0]?.length,r=mh(n,0,e,i);return{type:"Polygon",flatCoordinates:n,ends:r,layout:Nl(i)}}function u_(t,e){t=Dm(t,!0,e);const n=t.getType();let i;switch(n){case"Point":{i=z4(t);break}case"LineString":{i=j4(t);break}case"Polygon":{i=U4(t,e);break}case"MultiPoint":{i=V4(t);break}case"MultiLineString":{i=B4(t);break}case"MultiPolygon":{i=G4(t,e);break}case"GeometryCollection":{i=$4(t,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return i}function $4(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(i){return u_(i,e)})}}function j4(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function B4(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function V4(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function G4(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function z4(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function U4(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}class To{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new To({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=s1(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===it.IDLE&&n.load(),n.getImageState()===it.LOADING&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class yh{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new yh({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Ts{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=lx,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Ts({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=lx,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function H4(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(Lt(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let D0=null;function v2(t,e){if(!D0){const n=new To({color:"rgba(255,255,255,0.4)"}),i=new yh({color:"#3399CC",width:1.25});D0=[new Ts({image:new Pl({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return D0}function lx(t){return t.getGeometry()}const Jt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class b2 extends rs{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Jt.OPACITY]=e.opacity!==void 0?e.opacity:1,Lt(typeof n[Jt.OPACITY]=="number","Layer opacity must be a number"),n[Jt.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Jt.Z_INDEX]=e.zIndex,n[Jt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Jt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Jt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Jt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=Mn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return ft()}getLayerStatesArray(e){return ft()}getExtent(){return this.get(Jt.EXTENT)}getMaxResolution(){return this.get(Jt.MAX_RESOLUTION)}getMinResolution(){return this.get(Jt.MIN_RESOLUTION)}getMinZoom(){return this.get(Jt.MIN_ZOOM)}getMaxZoom(){return this.get(Jt.MAX_ZOOM)}getOpacity(){return this.get(Jt.OPACITY)}getSourceState(){return ft()}getVisible(){return this.get(Jt.VISIBLE)}getZIndex(){return this.get(Jt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Jt.EXTENT,e)}setMaxResolution(e){this.set(Jt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Jt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Jt.MAX_ZOOM,e)}setMinZoom(e){this.set(Jt.MIN_ZOOM,e)}setOpacity(e){Lt(typeof e=="number","Layer opacity must be a number"),this.set(Jt.OPACITY,e)}setVisible(e){this.set(Jt.VISIBLE,e)}setZIndex(e){this.set(Jt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Or={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},cn={ANIMATING:0,INTERACTING:1},Gr={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},w2=42,R1=256;function ux(t,e,n){return function(i,r,s,a,o){if(!i)return;if(!r&&!e)return i;const l=e?0:s[0]*r,u=e?0:s[1]*r,c=o?o[0]:0,h=o?o[1]:0;let m=t[0]+l/2+c,g=t[2]-l/2+c,y=t[1]+u/2+h,b=t[3]-u/2+h;m>g&&(m=(g+m)/2,g=m),y>b&&(y=(b+y)/2,b=y);let w=Mn(i[0],m,g),E=Mn(i[1],y,b);if(a&&n&&r){const x=30*r;w+=-x*Math.log(1+Math.max(0,m-i[0])/x)+x*Math.log(1+Math.max(0,i[0]-g)/x),E+=-x*Math.log(1+Math.max(0,y-i[1])/x)+x*Math.log(1+Math.max(0,i[1]-b)/x)}return[w,E]}}function Y4(t){return t}function I1(t,e,n,i){const r=Bt(e)/n[0],s=gi(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function A1(t,e,n){let i=Math.min(t,e);const r=50;return i*=Math.log(1+r*Math.max(0,t/e-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/t-1))/r+1),Mn(i,n/2,e*2)}function W4(t,e,n,i){return e=e!==void 0?e:!0,function(r,s,a,o){if(r!==void 0){const l=t[0],u=t[t.length-1],c=n?I1(l,n,a,i):l;if(o)return e?A1(r,c,u):Mn(r,u,c);const h=Math.min(c,r),m=Math.floor(r1(t,h,s));return t[m]>c&&m<t.length-1?t[m+1]:t[m]}}}function K4(t,e,n,i,r,s){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(a,o,l,u){if(a!==void 0){const c=r?I1(e,r,l,s):e;if(u)return i?A1(a,c,n):Mn(a,n,c);const h=1e-9,m=Math.ceil(Math.log(e/c)/Math.log(t)-h),g=-o*(.5-h)+.5,y=Math.min(c,a),b=Math.floor(Math.log(e/y)/Math.log(t)+g),w=Math.max(m,b),E=e/Math.pow(t,w);return Mn(E,n,c)}}}function cx(t,e,n,i,r){return n=n!==void 0?n:!0,function(s,a,o,l){if(s!==void 0){const u=i?I1(t,i,o,r):t;return!n||!l?Mn(s,e,u):A1(s,u,e)}}}function M1(t){if(t!==void 0)return 0}function dx(t){if(t!==void 0)return t}function q4(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function X4(t){const e=Uf(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}function E2(t){return Math.pow(t,3)}function $l(t){return 1-E2(1-t)}function Z4(t){return 3*t*t-2*t*t*t}function J4(t){return t}const L0=0;class Yr extends rs{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=p1(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&QI(),e.center&&(e.center=Us(e.center,this.projection_)),e.extent&&(e.extent=Js(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const o in Gr)delete n[o];this.setProperties(n,!0);const i=eB(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=Q4(e),s=i.constraint,a=tB(e);this.constraints_={center:r,resolution:s,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),a=s/2*(r[3]-n[3]+n[1]-r[1]),o=s/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([i[0]+a,i[1]-o])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Us(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Us(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const c=arguments[r];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(r===n){i&&Ef(i,!0);return}let s=Date.now(),a=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const u=[];for(;r<n;++r){const c=arguments[r],h={start:s,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||Z4,callback:i};if(c.center&&(h.sourceCenter=a,h.targetCenter=c.center.slice(),a=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=o,h.targetResolution=this.getResolutionForZoom(c.zoom),o=h.targetResolution):c.resolution&&(h.sourceResolution=o,h.targetResolution=c.resolution,o=h.targetResolution),c.rotation!==void 0){h.sourceRotation=l;const m=Du(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+m,l=h.targetRotation}nB(h)?h.complete=!0:s+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(cn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[cn.ANIMATING]>0}getInteracting(){return this.hints_[cn.INTERACTING]>0}cancelAnimations(){this.setHint(cn.ANIMATING,-this.hints_[cn.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const r=this.animations_[n];if(r[0].callback&&Ef(r[0].callback,!1),!e)for(let s=0,a=r.length;s<a;++s){const o=r[s];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let s=!0;for(let a=0,o=r.length;a<o;++a){const l=r[a];if(l.complete)continue;const u=e-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):s=!1;const h=l.easing(c);if(l.sourceCenter){const m=l.sourceCenter[0],g=l.sourceCenter[1],y=l.targetCenter[0],b=l.targetCenter[1];this.nextCenter_=l.targetCenter;const w=m+h*(y-m),E=g+h*(b-g);this.targetCenter_=[w,E]}if(l.sourceResolution&&l.targetResolution){const m=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const g=this.getViewportSize_(this.getRotation()),y=this.constraints_.resolution(m,0,g,!0);this.targetCenter_=this.calculateCenterZoom(y,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=m,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const m=h===1?Du(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const g=this.constraints_.rotation(m,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=m}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(cn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=r[0].callback;a&&Ef(a,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-n[0],r[1]-n[1]],d1(i,e-this.getRotation()),n4(i,n)),i}calculateCenterZoom(e,n){let i;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const a=n[0]-e*(n[0]-r[0])/s,o=n[1]-e*(n[1]-r[1])/s;i=[a,o]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],r=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&s_(e,this.getProjection())}getCenterInternal(){return this.get(Gr.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return m1(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Lt(n,"The view center is not defined");const i=this.getResolution();Lt(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return Lt(r!==void 0,"The view rotation is not defined"),t_(n,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Gr.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Js(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=Bt(e)/n[0],r=gi(e)/n[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(s){return n/Math.pow(e,s*r)}}getRotation(){return this.get(Gr.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/n;return function(a){return Math.log(i/a)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const a=this.getViewportSizeMinusPadding_();r=F0(r,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],n,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,r;if(this.resolutions_){const s=r1(this.resolutions_,e,1);n=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Mn(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Mn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(Lt(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Lt(!Ll(e),"Cannot fit empty extent provided as `geometry`");const r=Js(e,this.getProjection());i=ax(r)}else if(e.getType()==="Circle"){const r=Js(e.getExtent(),this.getProjection());i=ax(r),i.rotate(this.getRotation(),fo(r))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),s=e.getFlatCoordinates(),a=e.getStride();let o=1/0,l=1/0,u=-1/0,c=-1/0;for(let h=0,m=s.length;h<m;h+=a){const g=s[h]*i-s[h+1]*r,y=s[h]*r+s[h+1]*i;o=Math.min(o,g),l=Math.min(l,y),u=Math.max(u,g),c=Math.max(c,y)}return[o,l,u,c]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let a;n.minResolution!==void 0?a=n.minResolution:n.maxZoom!==void 0?a=this.getResolutionForZoom(n.maxZoom):a=0;const o=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(o,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?a:Math.max(l,a),l=this.getConstrainedResolution(l,s?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),m=fo(o);m[0]+=(r[1]-r[3])/2*l,m[1]+=(r[0]-r[2])/2*l;const g=m[0]*h-m[1]*c,y=m[1]*h+m[0]*c,b=this.getConstrainedCenter([g,y],l),w=n.callback?n.callback:Ku;n.duration!==void 0?this.animateInternal({resolution:l,center:b,duration:n.duration,easing:n.easing},w):(this.targetResolution_=l,this.targetCenter_=b,this.applyTargetState_(!1,!0),Ef(w,!0))}centerOn(e,n,i){this.centerOnInternal(Us(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(F0(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,r){let s;const a=this.padding_;if(a&&e){const o=this.getViewportSizeMinusPadding_(-i),l=F0(e,r,[o[0]/2+a[3],o[1]/2+a[0]],n,i);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=s_(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Us(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Us(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Us(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,0,s,i),o=this.constraints_.center(this.targetCenter_,a,s,i,this.calculateCenterShift(this.targetCenter_,a,r,s));this.get(Gr.ROTATION)!==r&&this.set(Gr.ROTATION,r),this.get(Gr.RESOLUTION)!==a&&(this.set(Gr.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(Gr.CENTER)||!xp(this.get(Gr.CENTER),o))&&this.set(Gr.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const r=n||0,s=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,r,a),l=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,s,a));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==s||!this.getCenterInternal()||!xp(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:o,duration:e,easing:$l,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(cn.INTERACTING,1)}endInteraction(e,n,i){i=i&&Us(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(cn.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function Ef(t,e){setTimeout(function(){t(e)},0)}function Q4(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return ux(t.extent,t.constrainOnlyCenter,n)}const e=p1(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,ux(n,!1,!1)}return Y4}function eB(t){let e,n,i,a=t.minZoom!==void 0?t.minZoom:L0,o=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,u=t.multiWorld!==void 0?t.multiWorld:!1,c=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,h=t.showFullExtent!==void 0?t.showFullExtent:!1,m=p1(t.projection,"EPSG:3857"),g=m.getExtent();let y=t.constrainOnlyCenter,b=t.extent;if(!u&&!b&&m.isGlobal()&&(y=!1,b=g),t.resolutions!==void 0){const w=t.resolutions;n=w[a],i=w[o]!==void 0?w[o]:w[w.length-1],t.constrainResolution?e=W4(w,c,!y&&b,h):e=cx(n,i,c,!y&&b,h)}else{const E=(g?Math.max(Bt(g),gi(g)):360*Qu.degrees/m.getMetersPerUnit())/R1/Math.pow(2,L0),x=E/Math.pow(2,28-L0);n=t.maxResolution,n!==void 0?a=0:n=E/Math.pow(l,a),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(l,o):i=E/Math.pow(l,o):i=x),o=a+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,o-a),t.constrainResolution?e=K4(l,n,i,c,!y&&b,h):e=cx(n,i,c,!y&&b,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:a,zoomFactor:l}}function tB(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?X4():n===!1?dx:typeof n=="number"?q4(n):dx}return M1}function nB(t){return!(t.sourceCenter&&t.targetCenter&&!xp(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function F0(t,e,n,i,r){const s=Math.cos(-r);let a=Math.sin(-r),o=t[0]*s-t[1]*a,l=t[1]*s+t[0]*a;o+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,a=-a;const u=o*s-l*a,c=l*s+o*a;return[u,c]}class Lm extends b2{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Jt.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Jt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(sn(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Mt(e,lt.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Yr?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;n.layerStatesArray?r=n.layerStatesArray.find(a=>a.layer===this):r=this.getLayerState();const s=this.getExtent();return O1(r,n.viewState)&&(!s||An(s,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const i=this.getSource();if(i&&(n=i.getAttributions()),!n)return[];const r=e instanceof Yr?e.getViewStateAndExtent():e;let s=n(r);return Array.isArray(s)||(s=[s]),s}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Jt.MAP,e)}getMapInternal(){return this.get(Jt.MAP)}setMap(e){this.mapPrecomposeKey_&&(sn(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(sn(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Mt(e,Or.PRECOMPOSE,function(n){const r=n.frameState.layerStatesArray,s=this.getLayerState(!1);Lt(!r.some(function(a){return a.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(s)},this),this.mapRenderKey_=Mt(this,lt.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Jt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function O1(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function iB(t,e,n,i,r){T2(t,e,n||0,i||t.length-1,r||rB)}function T2(t,e,n,i,r){for(;i>n;){if(i-n>600){var s=i-n+1,a=e-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1),c=Math.max(n,Math.floor(e-a*l/s+u)),h=Math.min(i,Math.floor(e+(s-a)*l/s+u));T2(t,e,c,h,r)}var m=t[e],g=n,y=i;for(Gc(t,n,e),r(t[i],m)>0&&Gc(t,n,i);g<y;){for(Gc(t,g,y),g++,y--;r(t[g],m)<0;)g++;for(;r(t[y],m)>0;)y--}r(t[n],m)===0?Gc(t,n,y):(y++,Gc(t,y,i)),y<=e&&(n=y+1),e<=y&&(i=y-1)}}function Gc(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function rB(t,e){return t<e?-1:t>e?1:0}let P1=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!xf(e,n))return i;const r=this.toBBox,s=[];for(;n;){for(let a=0;a<n.children.length;a++){const o=n.children[a],l=n.leaf?r(o):o;xf(e,l)&&(n.leaf?i.push(o):$0(e,l)?this._all(o,i):s.push(o))}n=s.pop()}return i}collides(e){let n=this.data;if(!xf(e,n))return!1;const i=[];for(;n;){for(let r=0;r<n.children.length;r++){const s=n.children[r],a=n.leaf?this.toBBox(s):s;if(xf(e,a)){if(n.leaf||$0(e,a))return!0;i.push(s)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=yu([]),this}remove(e,n){if(!e)return this;let i=this.data;const r=this.toBBox(e),s=[],a=[];let o,l,u;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],o=a.pop(),u=!0),i.leaf){const c=sB(e,i.children,n);if(c!==-1)return i.children.splice(c,1),s.push(i),this._condense(s),this}!u&&!i.leaf&&$0(i,r)?(s.push(i),a.push(o),o=0,l=i,i=i.children[0]):l?(o++,i=l.children[o],u=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,r){const s=i-n+1;let a=this._maxEntries,o;if(s<=a)return o=yu(e.slice(n,i+1)),su(o,this.toBBox),o;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),o=yu([]),o.leaf=!1,o.height=r;const l=Math.ceil(s/a),u=l*Math.ceil(Math.sqrt(a));hx(e,n,i,u,this.compareMinX);for(let c=n;c<=i;c+=u){const h=Math.min(c+u-1,i);hx(e,c,h,l,this.compareMinY);for(let m=c;m<=h;m+=l){const g=Math.min(m+l-1,h);o.children.push(this._build(e,m,g,r-1))}}return su(o,this.toBBox),o}_chooseSubtree(e,n,i,r){for(;r.push(n),!(n.leaf||r.length-1===i);){let s=1/0,a=1/0,o;for(let l=0;l<n.children.length;l++){const u=n.children[l],c=N0(u),h=lB(e,u)-c;h<a?(a=h,s=c<s?c:s,o=u):h===a&&c<s&&(s=c,o=u)}n=o||n.children[0]}return n}_insert(e,n,i){const r=i?e:this.toBBox(e),s=[],a=this._chooseSubtree(r,this.data,n,s);for(a.children.push(e),td(a,r);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(r,s,n)}_split(e,n){const i=e[n],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);const a=this._chooseSplitIndex(i,s,r),o=yu(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,su(i,this.toBBox),su(o,this.toBBox),n?e[n-1].children.push(o):this._splitRoot(i,o)}_splitRoot(e,n){this.data=yu([e,n]),this.data.height=e.height+1,this.data.leaf=!1,su(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let r,s=1/0,a=1/0;for(let o=n;o<=i-n;o++){const l=ed(e,0,o,this.toBBox),u=ed(e,o,i,this.toBBox),c=uB(l,u),h=N0(l)+N0(u);c<s?(s=c,r=o,a=h<a?h:a):c===s&&h<a&&(a=h,r=o)}return r||i-n}_chooseSplitAxis(e,n,i){const r=e.leaf?this.compareMinX:aB,s=e.leaf?this.compareMinY:oB,a=this._allDistMargin(e,n,i,r),o=this._allDistMargin(e,n,i,s);a<o&&e.children.sort(r)}_allDistMargin(e,n,i,r){e.children.sort(r);const s=this.toBBox,a=ed(e,0,n,s),o=ed(e,i-n,i,s);let l=Tf(a)+Tf(o);for(let u=n;u<i-n;u++){const c=e.children[u];td(a,e.leaf?s(c):c),l+=Tf(a)}for(let u=i-n-1;u>=n;u--){const c=e.children[u];td(o,e.leaf?s(c):c),l+=Tf(o)}return l}_adjustParentBBoxes(e,n,i){for(let r=i;r>=0;r--)td(n[r],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():su(e[n],this.toBBox)}};function sB(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function su(t,e){ed(t,0,t.children.length,e,t)}function ed(t,e,n,i,r){r||(r=yu(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<n;s++){const a=t.children[s];td(r,t.leaf?i(a):a)}return r}function td(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function aB(t,e){return t.minX-e.minX}function oB(t,e){return t.minY-e.minY}function N0(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Tf(t){return t.maxX-t.minX+(t.maxY-t.minY)}function lB(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function uB(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function $0(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function xf(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function yu(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function hx(t,e,n,i,r){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=i)continue;const a=e+Math.ceil((n-e)/i/2)*i;iB(t,a,e,n,r),s.push(e,a,a,n)}}function fx(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class _h extends Tm{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const a=e.img!==void 0?e.img:null;let o=e.src;Lt(!(o!==void 0&&a),"`image` and `src` cannot be provided at the same time"),(o===void 0||o.length===0)&&a&&(o=a.src||bt(a)),Lt(o!==void 0&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),Lt(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=it.IDLE:a!==void 0&&("complete"in a?a.complete?l=a.src?it.LOADED:it.IDLE:l=it.LOADING:l=it.LOADED),this.color_=e.color!==void 0?Id(e.color):null,this.iconImage_=s1(a,o,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,e.width!==void 0||e.height!==void 0){let u,c;if(e.size)[u,c]=e.size;else{const h=this.getImage(1);if(h.width&&h.height)u=h.width,c=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;const m=()=>{if(this.unlistenImageChange(m),!this.initialOptions_)return;const g=this.iconImage_.getSize();this.setScale(fx(g[0],g[1],e.width,e.height))};this.listenImageChange(m);return}}u!==void 0&&this.setScale(fx(u,c,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new _h({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==it.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==it.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(lt.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(lt.CHANGE,e)}ready(){return this.iconImage_.ready()}}const cB="#333";class Fm{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Ki(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new To({color:cB}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Fm({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Ki(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let jl=0;const hc=0,Sn=1<<jl++,Qe=1<<jl++,gr=1<<jl++,mi=1<<jl++,xs=1<<jl++,ud=1<<jl++,Ni=Math.pow(2,jl)-1,x2={[Sn]:"boolean",[Qe]:"number",[gr]:"string",[mi]:"color",[xs]:"number[]",[ud]:"size"},dB=Object.keys(x2).map(Number).sort(ws);function zi(t){const e=[];for(const n of dB)hB(t,n)&&e.push(x2[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function hB(t,e){return(t&e)===e}function Cs(t,e){return!!(t&e)}function Nm(t,e){return t===e}class Ka{constructor(e,n){this.type=e,this.value=n}}class fB{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function C2(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function pB(t){switch(t){case"string":return gr;case"color":return mi;case"number":return Qe;case"boolean":return Sn;case"number[]":return xs;default:throw new Error(`Unrecognized type hint: ${t}`)}}function Kt(t,e,n){switch(typeof t){case"boolean":return new Ka(Sn,t);case"number":return new Ka(n===ud?ud:Qe,t);case"string":{let r=gr;return uj(t)&&(r|=mi),Nm(r&n,hc)||(r&=n),new Ka(r,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(t.length===0)throw new Error("Empty expression");if(typeof t[0]=="string")return SB(t,e,n);for(const r of t)if(typeof r!="number")throw new Error("Expected an array of numbers");let i=xs;return t.length===2?i|=ud:(t.length===3||t.length===4)&&(i|=mi),n&&(i&=n),new Ka(i,t)}const Te={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},mB={[Te.Get]:yt(([t,e])=>e!==void 0?pB(e.value):Ni,xt(1,2),gB),[Te.Var]:yt(([t])=>t.type,xt(1,1),yB),[Te.Id]:yt(Qe|gr,zc,_B),[Te.Concat]:yt(gr,xt(2,1/0),Nt(Ni)),[Te.GeometryType]:yt(gr,zc,vB),[Te.Resolution]:yt(Qe,zc),[Te.Zoom]:yt(Qe,zc),[Te.Time]:yt(Qe,zc),[Te.Any]:yt(Sn,xt(2,1/0),Nt(Sn)),[Te.All]:yt(Sn,xt(2,1/0),Nt(Sn)),[Te.Not]:yt(Sn,xt(1,1),Nt(Sn)),[Te.Equal]:yt(Sn,xt(2,2),Nt(Ni),Ia),[Te.NotEqual]:yt(Sn,xt(2,2),Nt(Ni),Ia),[Te.GreaterThan]:yt(Sn,xt(2,2),Nt(Ni),Ia),[Te.GreaterThanOrEqualTo]:yt(Sn,xt(2,2),Nt(Ni),Ia),[Te.LessThan]:yt(Sn,xt(2,2),Nt(Ni),Ia),[Te.LessThanOrEqualTo]:yt(Sn,xt(2,2),Nt(Ni),Ia),[Te.Multiply]:yt(t=>{let e=Qe|mi;for(let n=0;n<t.length;n++)e&=t[n].type;return e},xt(2,1/0),Nt(Qe|mi),Ia),[Te.Coalesce]:yt(t=>{let e=Ni;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},xt(2,1/0),Nt(Ni),Ia),[Te.Divide]:yt(Qe,xt(2,2),Nt(Qe)),[Te.Add]:yt(Qe,xt(2,1/0),Nt(Qe)),[Te.Subtract]:yt(Qe,xt(2,2),Nt(Qe)),[Te.Clamp]:yt(Qe,xt(3,3),Nt(Qe)),[Te.Mod]:yt(Qe,xt(2,2),Nt(Qe)),[Te.Pow]:yt(Qe,xt(2,2),Nt(Qe)),[Te.Abs]:yt(Qe,xt(1,1),Nt(Qe)),[Te.Floor]:yt(Qe,xt(1,1),Nt(Qe)),[Te.Ceil]:yt(Qe,xt(1,1),Nt(Qe)),[Te.Round]:yt(Qe,xt(1,1),Nt(Qe)),[Te.Sin]:yt(Qe,xt(1,1),Nt(Qe)),[Te.Cos]:yt(Qe,xt(1,1),Nt(Qe)),[Te.Atan]:yt(Qe,xt(1,2),Nt(Qe)),[Te.Sqrt]:yt(Qe,xt(1,1),Nt(Qe)),[Te.Match]:yt(t=>{let e=Ni;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},xt(4,1/0),px,wB),[Te.Between]:yt(Sn,xt(3,3),Nt(Qe)),[Te.Interpolate]:yt(t=>{let e=mi|Qe;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e},xt(6,1/0),px,EB),[Te.Case]:yt(t=>{let e=Ni;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},xt(3,1/0),bB,TB),[Te.In]:yt(Sn,xt(2,2),xB),[Te.Number]:yt(Qe,xt(1,1/0),Nt(Ni)),[Te.String]:yt(gr,xt(1,1/0),Nt(Ni)),[Te.Array]:yt(t=>t.length===2?xs|ud:t.length===3||t.length===4?xs|mi:xs,xt(1,1/0),Nt(Qe)),[Te.Color]:yt(mi,xt(1,4),Nt(Qe)),[Te.Band]:yt(Qe,xt(1,3),Nt(Qe)),[Te.Palette]:yt(mi,xt(2,2),CB),[Te.ToString]:yt(gr,xt(1,1),Nt(Sn|Qe|gr|mi))};function gB(t,e){const n=Kt(t[1],e);if(!(n instanceof Ka))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),t.length===3){const i=Kt(t[2],e);return[n,i]}return[n]}function yB(t,e,n,i){const r=t[1];if(typeof r!="string")throw new Error("Expected a string argument for var operation");if(e.variables.add(r),!("variables"in e.style)||e.style.variables[r]===void 0)return[new Ka(Ni,r)];const s=e.style.variables[r],a=Kt(s,e);if(a.value=r,i&&!Cs(i,a.type))throw new Error(`The variable ${r} has type ${zi(a.type)} but the following type was expected: ${zi(i)}`);return[a]}function _B(t,e){e.featureId=!0}function vB(t,e){e.geometryType=!0}function zc(t,e){const n=t[0];if(t.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function xt(t,e){return function(n,i){const r=n[0],s=n.length-1;if(t===e){if(s!==t){const a=t===1?"":"s";throw new Error(`Expected ${t} argument${a} for ${r}, got ${s}`)}}else if(s<t||s>e){const a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`Expected ${a} arguments for ${r}, got ${s}`)}}}function Nt(t){return function(e,n){const i=e[0],r=e.length-1,s=new Array(r);for(let a=0;a<r;++a){const o=Kt(e[a+1],n);if(!Cs(t,o.type)){const l=zi(t),u=zi(o.type);throw new Error(`Unexpected type for argument ${a} of ${i} operation, got ${l} but expected ${u}`)}o.type&=t,s[a]=o}return s}}function Ia(t,e,n){const i=t[0],r=t.length-1;let s=Ni;for(let o=0;o<n.length;++o)s&=n[o].type;if(s===hc)throw new Error(`No common type could be found for arguments of ${i} operation`);const a=new Array(r);for(let o=0;o<r;++o)a[o]=Kt(t[o+1],e,s);return a}function bB(t,e){const n=t[0],i=t.length-1;if(i%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function px(t,e){const n=t[0],i=t.length-1;if(i%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function wB(t,e,n,i){const r=t.length-1;let a=Kt(t[1],e).type;const o=Kt(t[t.length-1],e);let l=i!==void 0?i&o.type:o.type;const u=new Array(r-2);for(let h=0;h<r-2;h+=2){const m=Kt(t[h+2],e),g=Kt(t[h+3],e);a&=m.type,l&=g.type,u[h]=m,u[h+1]=g}const c=gr|Qe|Sn;if(!Cs(c,a))throw new Error(`Expected an input of type ${zi(c)} for the interpolate operation, got ${zi(a)} instead`);if(a&=c,Nm(l,hc))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let h=0;h<r-2;h+=2){const m=Kt(t[h+2],e,a),g=Kt(t[h+3],e,l);u[h]=m,u[h+1]=g}return[Kt(t[1],e,a),...u,Kt(t[t.length-1],e,l)]}function EB(t,e,n,i){const r=t[1];let s;switch(r[0]){case"linear":s=1;break;case"exponential":if(s=r[1],typeof s!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(r)}`);s=Kt(s,e);let a=Kt(t[2],e);if(!Cs(Qe,a.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${zi(a.type)} instead`);a=Kt(t[2],e,Qe);const o=new Array(t.length-3);for(let l=0;l<o.length;l+=2){let u=Kt(t[l+3],e);if(!Cs(Qe,u.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${zi(u.type)} at position ${l+2} instead`);let c=Kt(t[l+4],e);if(!Cs(Qe|mi,c.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${zi(c.type)} at position ${l+3} instead`);u=Kt(t[l+3],e,Qe),c=Kt(t[l+4],e,Qe|mi),o[l]=u,o[l+1]=c}return[s,a,...o]}function TB(t,e,n,i){const r=Kt(t[t.length-1],e,i);let s=i!==void 0?i&r.type:r.type;const a=new Array(t.length-1);for(let o=0;o<a.length-1;o+=2){const l=Kt(t[o+1],e),u=Kt(t[o+2],e,i);if(!Cs(Sn,l.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${zi(l.type)} at position ${o} instead`);s&=u.type,a[o]=l,a[o+1]=u}if(Nm(s,hc))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let o=0;o<a.length-1;o+=2)a[o+1]=Kt(t[o+2],e,s);return a[a.length-1]=Kt(t[t.length-1],e,s),a}function xB(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let i=gr|Qe;const r=new Array(n.length);for(let a=0;a<r.length;a++){const o=Kt(n[a],e);i&=o.type,r[a]=o}if(Nm(i,hc))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[Kt(t[1],e,i),...r]}function CB(t,e){const n=Kt(t[1],e,Qe);if(n.type!==Qe)throw new Error(`The first argument of palette must be an number, got ${zi(n.type)} instead`);const i=t[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const r=new Array(i.length);for(let s=0;s<r.length;s++){const a=Kt(i[s],e,mi);if(!(a instanceof Ka))throw new Error(`The palette color at index ${s} must be a literal value`);if(!Cs(a.type,mi))throw new Error(`The palette color at index ${s} should be of type color, got ${zi(a.type)} instead`);r[s]=a}return[n,...r]}function yt(t,...e){return function(n,i,r){const s=n[0];let a=[];for(let l=0;l<e.length;l++)a=e[l](n,i,a,r)||a;let o=typeof t=="function"?t(a):t;if(r!==void 0){if(!Cs(o,r))throw new Error(`The following expression was expected to return ${zi(r)}, but returns ${zi(o)} instead: ${JSON.stringify(n)}`);o&=r}if(o===hc)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new fB(o,s,...a)}}function SB(t,e,n){const i=t[0],r=mB[i];if(!r)throw new Error(`Unknown operator: ${i}`);return r(t,e,n)}function S2(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return S2(t.getGeometries()[0]);default:return""}}function k2(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function fa(t,e,n){const i=Kt(t,n);if(!Cs(e,i.type)){const r=zi(e),s=zi(i.type);throw new Error(`Expected expression to be of type ${r}, got ${s}`)}return ns(i)}function ns(t,e){if(t instanceof Ka){if(t.type===mi&&typeof t.value=="string"){const i=t1(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case Te.Number:case Te.String:case Te.Coalesce:return kB(t);case Te.Get:case Te.Var:return RB(t);case Te.Id:return i=>i.featureId;case Te.GeometryType:return i=>i.geometryType;case Te.Concat:{const i=t.args.map(r=>ns(r));return r=>"".concat(...i.map(s=>s(r).toString()))}case Te.Resolution:return i=>i.resolution;case Te.Any:case Te.All:case Te.Between:case Te.In:case Te.Not:return AB(t);case Te.Equal:case Te.NotEqual:case Te.LessThan:case Te.LessThanOrEqualTo:case Te.GreaterThan:case Te.GreaterThanOrEqualTo:return IB(t);case Te.Multiply:case Te.Divide:case Te.Add:case Te.Subtract:case Te.Clamp:case Te.Mod:case Te.Pow:case Te.Abs:case Te.Floor:case Te.Ceil:case Te.Round:case Te.Sin:case Te.Cos:case Te.Atan:case Te.Sqrt:return MB(t);case Te.Case:return OB(t);case Te.Match:return PB(t);case Te.Interpolate:return DB(t);case Te.ToString:return LB(t);default:throw new Error(`Unsupported operator ${n}`)}}function kB(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=ns(t.args[s]);switch(n){case Te.Coalesce:return s=>{for(let a=0;a<i;++a){const o=r[a](s);if(typeof o<"u"&&o!==null)return o}throw new Error("Expected one of the values to be non-null")};case Te.Number:case Te.String:return s=>{for(let a=0;a<i;++a){const o=r[a](s);if(typeof o===n)return o}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function RB(t,e){const i=t.args[0].value;switch(t.operator){case Te.Get:return r=>r.properties[i];case Te.Var:return r=>r.variables[i];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function IB(t,e){const n=t.operator,i=ns(t.args[0]),r=ns(t.args[1]);switch(n){case Te.Equal:return s=>i(s)===r(s);case Te.NotEqual:return s=>i(s)!==r(s);case Te.LessThan:return s=>i(s)<r(s);case Te.LessThanOrEqualTo:return s=>i(s)<=r(s);case Te.GreaterThan:return s=>i(s)>r(s);case Te.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${n}`)}}function AB(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=ns(t.args[s]);switch(n){case Te.Any:return s=>{for(let a=0;a<i;++a)if(r[a](s))return!0;return!1};case Te.All:return s=>{for(let a=0;a<i;++a)if(!r[a](s))return!1;return!0};case Te.Between:return s=>{const a=r[0](s),o=r[1](s),l=r[2](s);return a>=o&&a<=l};case Te.In:return s=>{const a=r[0](s);for(let o=1;o<i;++o)if(a===r[o](s))return!0;return!1};case Te.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${n}`)}}function MB(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=ns(t.args[s]);switch(n){case Te.Multiply:return s=>{let a=1;for(let o=0;o<i;++o)a*=r[o](s);return a};case Te.Divide:return s=>r[0](s)/r[1](s);case Te.Add:return s=>{let a=0;for(let o=0;o<i;++o)a+=r[o](s);return a};case Te.Subtract:return s=>r[0](s)-r[1](s);case Te.Clamp:return s=>{const a=r[0](s),o=r[1](s);if(a<o)return o;const l=r[2](s);return a>l?l:a};case Te.Mod:return s=>r[0](s)%r[1](s);case Te.Pow:return s=>Math.pow(r[0](s),r[1](s));case Te.Abs:return s=>Math.abs(r[0](s));case Te.Floor:return s=>Math.floor(r[0](s));case Te.Ceil:return s=>Math.ceil(r[0](s));case Te.Round:return s=>Math.round(r[0](s));case Te.Sin:return s=>Math.sin(r[0](s));case Te.Cos:return s=>Math.cos(r[0](s));case Te.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case Te.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${n}`)}}function OB(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ns(t.args[r]);return r=>{for(let s=0;s<n-1;s+=2)if(i[s](r))return i[s+1](r);return i[n-1](r)}}function PB(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ns(t.args[r]);return r=>{const s=i[0](r);for(let a=1;a<n;a+=2)if(s===i[a](r))return i[a+1](r);return i[n-1](r)}}function DB(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=ns(t.args[r]);return r=>{const s=i[0](r),a=i[1](r);let o,l;for(let u=2;u<n;u+=2){const c=i[u](r);let h=i[u+1](r);const m=Array.isArray(h);if(m&&(h=oj(h)),c>=a)return u===2?h:m?FB(s,a,o,l,c,h):nd(s,a,o,l,c,h);o=c,l=h}return l}}function LB(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=ns(t.args[s]);switch(n){case Te.ToString:return s=>{const a=r[0](s);return t.args[0].type===mi?n1(a):a.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function nd(t,e,n,i,r,s){const a=r-n;if(a===0)return i;const o=e-n,l=t===1?o/a:(Math.pow(t,o)-1)/(Math.pow(t,a)-1);return i+l*(s-i)}function FB(t,e,n,i,r,s){if(r-n===0)return i;const o=UT(i),l=UT(s);let u=l[2]-o[2];u>180?u-=360:u<-180&&(u+=360);const c=[nd(t,e,n,o[0],r,l[0]),nd(t,e,n,o[1],r,l[1]),o[2]+nd(t,e,n,0,r,u),nd(t,e,n,i[3],r,s[3])];return MI(lj(c))}function NB(t){return!0}function $B(t){const e=C2(),n=jB(t,e),i=k2();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,e.featureId){const a=r.getId();a!==void 0?i.featureId=a:i.featureId=null}return e.geometryType&&(i.geometryType=S2(r.getGeometry())),n(i)}}function mx(t){const e=C2(),n=t.length,i=new Array(n);for(let a=0;a<n;++a)i[a]=c_(t[a],e);const r=k2(),s=new Array(n);return function(a,o){if(r.properties=a.getPropertiesInternal(),r.resolution=o,e.featureId){const u=a.getId();u!==void 0?r.featureId=u:r.featureId=null}let l=0;for(let u=0;u<n;++u){const c=i[u](r);c&&(s[l]=c,l+=1)}return s.length=l,s}}function jB(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const s=t[r],a="filter"in s?fa(s.filter,Sn,e):NB;let o;if(Array.isArray(s.style)){const l=s.style.length;o=new Array(l);for(let u=0;u<l;++u)o[u]=c_(s.style[u],e)}else o=[c_(s.style,e)];i[r]={filter:a,styles:o}}return function(r){const s=[];let a=!1;for(let o=0;o<n;++o){const l=i[o].filter;if(l(r)&&!(t[o].else&&a)){a=!0;for(const u of i[o].styles){const c=u(r);c&&s.push(c)}}}return s}}function c_(t,e){const n=Gd(t,"",e),i=zd(t,"",e),r=BB(t,e),s=VB(t,e),a=ir(t,"z-index",e);if(!n&&!i&&!r&&!s&&!ho(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const o=new Ts;return function(l){let u=!0;if(n){const c=n(l);c&&(u=!1),o.setFill(c)}if(i){const c=i(l);c&&(u=!1),o.setStroke(c)}if(r){const c=r(l);c&&(u=!1),o.setText(c)}if(s){const c=s(l);c&&(u=!1),o.setImage(c)}return a&&o.setZIndex(a(l)),u?null:o}}function Gd(t,e,n){let i;if(e+"fill-pattern-src"in t?i=HB(t,e+"fill-",n):i=D1(t,e+"fill-color",n),!i)return null;const r=new To;return function(s){const a=i(s);return a==="none"?null:(r.setColor(a),r)}}function zd(t,e,n){const i=ir(t,e+"stroke-width",n),r=D1(t,e+"stroke-color",n);if(!i&&!r)return null;const s=Ws(t,e+"stroke-line-cap",n),a=Ws(t,e+"stroke-line-join",n),o=R2(t,e+"stroke-line-dash",n),l=ir(t,e+"stroke-line-dash-offset",n),u=ir(t,e+"stroke-miter-limit",n),c=new yh;return function(h){if(r){const m=r(h);if(m==="none")return null;c.setColor(m)}if(i&&c.setWidth(i(h)),s){const m=s(h);if(m!=="butt"&&m!=="round"&&m!=="square")throw new Error("Expected butt, round, or square line cap");c.setLineCap(m)}if(a){const m=a(h);if(m!=="bevel"&&m!=="round"&&m!=="miter")throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(m)}return o&&c.setLineDash(o(h)),l&&c.setLineDashOffset(l(h)),u&&c.setMiterLimit(u(h)),c}}function BB(t,e){const n="text-",i=Ws(t,n+"value",e);if(!i)return null;const r=Gd(t,n,e),s=Gd(t,n+"background-",e),a=zd(t,n,e),o=zd(t,n+"background-",e),l=Ws(t,n+"font",e),u=ir(t,n+"max-angle",e),c=ir(t,n+"offset-x",e),h=ir(t,n+"offset-y",e),m=Ud(t,n+"overflow",e),g=Ws(t,n+"placement",e),y=ir(t,n+"repeat",e),b=$m(t,n+"scale",e),w=Ud(t,n+"rotate-with-view",e),E=ir(t,n+"rotation",e),x=Ws(t,n+"align",e),_=Ws(t,n+"justify",e),T=Ws(t,n+"baseline",e),C=R2(t,n+"padding",e),k=jm(t,n+"declutter-mode"),A=new Fm({declutterMode:k});return function(L){if(A.setText(i(L)),r&&A.setFill(r(L)),s&&A.setBackgroundFill(s(L)),a&&A.setStroke(a(L)),o&&A.setBackgroundStroke(o(L)),l&&A.setFont(l(L)),u&&A.setMaxAngle(u(L)),c&&A.setOffsetX(c(L)),h&&A.setOffsetY(h(L)),m&&A.setOverflow(m(L)),g){const R=g(L);if(R!=="point"&&R!=="line")throw new Error("Expected point or line for text-placement");A.setPlacement(R)}if(y&&A.setRepeat(y(L)),b&&A.setScale(b(L)),w&&A.setRotateWithView(w(L)),E&&A.setRotation(E(L)),x){const R=x(L);if(R!=="left"&&R!=="center"&&R!=="right"&&R!=="end"&&R!=="start")throw new Error("Expected left, right, center, start, or end for text-align");A.setTextAlign(R)}if(_){const R=_(L);if(R!=="left"&&R!=="right"&&R!=="center")throw new Error("Expected left, right, or center for text-justify");A.setJustify(R)}if(T){const R=T(L);if(R!=="bottom"&&R!=="top"&&R!=="middle"&&R!=="alphabetic"&&R!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");A.setTextBaseline(R)}return C&&A.setPadding(C(L)),A}}function VB(t,e){return"icon-src"in t?GB(t,e):"shape-points"in t?zB(t,e):"circle-radius"in t?UB(t,e):null}function GB(t,e){const n="icon-",i=n+"src",r=I2(t[i],i),s=Ip(t,n+"anchor",e),a=$m(t,n+"scale",e),o=ir(t,n+"opacity",e),l=Ip(t,n+"displacement",e),u=ir(t,n+"rotation",e),c=Ud(t,n+"rotate-with-view",e),h=yx(t,n+"anchor-origin"),m=_x(t,n+"anchor-x-units"),g=_x(t,n+"anchor-y-units"),y=qB(t,n+"color"),b=WB(t,n+"cross-origin"),w=KB(t,n+"offset"),E=yx(t,n+"offset-origin"),x=Ap(t,n+"width"),_=Ap(t,n+"height"),T=YB(t,n+"size"),C=jm(t,n+"declutter-mode"),k=new _h({src:r,anchorOrigin:h,anchorXUnits:m,anchorYUnits:g,color:y,crossOrigin:b,offset:w,offsetOrigin:E,height:_,width:x,size:T,declutterMode:C});return function(A){return o&&k.setOpacity(o(A)),l&&k.setDisplacement(l(A)),u&&k.setRotation(u(A)),c&&k.setRotateWithView(c(A)),a&&k.setScale(a(A)),s&&k.setAnchor(s(A)),k}}function zB(t,e){const n="shape-",i=n+"points",r=n+"radius",s=d_(t[i],i),a=d_(t[r],r),o=Gd(t,n,e),l=zd(t,n,e),u=$m(t,n+"scale",e),c=Ip(t,n+"displacement",e),h=ir(t,n+"rotation",e),m=Ud(t,n+"rotate-with-view",e),g=Ap(t,n+"radius2"),y=Ap(t,n+"angle"),b=jm(t,n+"declutter-mode"),w=new Sm({points:s,radius:a,radius2:g,angle:y,declutterMode:b});return function(E){return o&&w.setFill(o(E)),l&&w.setStroke(l(E)),c&&w.setDisplacement(c(E)),h&&w.setRotation(h(E)),m&&w.setRotateWithView(m(E)),u&&w.setScale(u(E)),w}}function UB(t,e){const n="circle-",i=Gd(t,n,e),r=zd(t,n,e),s=ir(t,n+"radius",e),a=$m(t,n+"scale",e),o=Ip(t,n+"displacement",e),l=ir(t,n+"rotation",e),u=Ud(t,n+"rotate-with-view",e),c=jm(t,n+"declutter-mode"),h=new Pl({radius:5,declutterMode:c});return function(m){return s&&h.setRadius(s(m)),i&&h.setFill(i(m)),r&&h.setStroke(r(m)),o&&h.setDisplacement(o(m)),l&&h.setRotation(l(m)),u&&h.setRotateWithView(u(m)),a&&h.setScale(a(m)),h}}function ir(t,e,n){if(!(e in t))return;const i=fa(t[e],Qe,n);return function(r){return d_(i(r),e)}}function Ws(t,e,n){if(!(e in t))return null;const i=fa(t[e],gr,n);return function(r){return I2(i(r),e)}}function HB(t,e,n){const i=Ws(t,e+"pattern-src",n),r=gx(t,e+"pattern-offset",n),s=gx(t,e+"pattern-size",n),a=D1(t,e+"color",n);return function(o){return{src:i(o),offset:r&&r(o),size:s&&s(o),color:a&&a(o)}}}function Ud(t,e,n){if(!(e in t))return null;const i=fa(t[e],Sn,n);return function(r){const s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function D1(t,e,n){if(!(e in t))return null;const i=fa(t[e],mi|gr,n);return function(r){return A2(i(r),e)}}function R2(t,e,n){if(!(e in t))return null;const i=fa(t[e],xs,n);return function(r){return vh(i(r),e)}}function Ip(t,e,n){if(!(e in t))return null;const i=fa(t[e],xs,n);return function(r){const s=vh(i(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function gx(t,e,n){if(!(e in t))return null;const i=fa(t[e],xs,n);return function(r){return M2(i(r),e)}}function $m(t,e,n){if(!(e in t))return null;const i=fa(t[e],xs|Qe,n);return function(r){return XB(i(r),e)}}function Ap(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function YB(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return Ki(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function WB(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function yx(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function _x(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function KB(t,e){const n=t[e];if(n!==void 0)return vh(n,e)}function jm(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function qB(t,e){const n=t[e];if(n!==void 0)return A2(n,e)}function vh(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function I2(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function d_(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function A2(t,e){if(typeof t=="string")return t;const n=vh(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function M2(t,e){const n=vh(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function XB(t,e){return typeof t=="number"?t:M2(t,e)}const vx={RENDER_ORDER:"renderOrder"};class Bm extends Lm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(vx.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new P1(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(vx.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?v2:e;const n=ZB(e);this.styleFunction_=e===null?void 0:H4(n),this.changed()}}function ZB(t){if(t===void 0)return v2;if(!t)return null;if(typeof t=="function"||t instanceof Ts)return t;if(!Array.isArray(t))return mx([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof Ts){const r=new Array(e);for(let s=0;s<e;++s){const a=t[s];if(!(a instanceof Ts))throw new Error("Expected a list of style instances");r[s]=a}return r}if("style"in n){const r=new Array(e);for(let s=0;s<e;++s){const a=t[s];if(!("style"in a))throw new Error("Expected a list of rules with a style property");r[s]=a}return $B(r)}return mx(t)}class JB extends hh{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e}getFeatures(e){return ft()}getData(e){return null}prepareFrame(e){return ft()}renderFrame(e,n){return ft()}loadedTileCallback(e,n,i){e[n]||(e[n]={}),e[n][i.tileCoord.toString()]=i}createLoadedTileFinder(e,n,i){return(r,s)=>{const a=this.loadedTileCallback.bind(this,i,r);return e.forEachLoadedTile(n,r,s,a)}}forEachFeatureAtCoordinate(e,n,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===it.LOADED||n.getState()===it.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=it.LOADED&&n!=it.ERROR&&e.addEventListener(lt.CHANGE,this.boundHandleImageChange_),n==it.IDLE&&(e.load(),n=e.getState()),n==it.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class O2 extends ha{constructor(e,n,i,r){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=r}}class L1{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(_p(),{get:(e,n)=>{if(typeof _p()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){const s=n[i];if(typeof s=="function"){s(e);continue}const a=n[++i];if(typeof e[s]=="function")e[s](...a);else{if(typeof a=="function"){e[s]=a(e);continue}e[s]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const bx=[];let _u=null;function QB(){_u=bi(1,1,void 0,{willReadFrequently:!0})}class F1 extends JB{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=br(),this.pixelTransform=br(),this.inversePixelTransform=br(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,i){_u||QB(),_u.clearRect(0,0,1,1);let r;try{_u.drawImage(e,n,i,1,1,0,0,1,1),r=_u.getImageData(0,0,1,1).data}catch{return _u=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const r=this.getLayer().getClassName();let s,a;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&wo(Id(e.style.backgroundColor),Id(i)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}if(a&&a.canvas.style.transform===n?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let o=s.style;o.position="absolute",o.width="100%",o.height="100%",a=bi();const l=a.canvas;s.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const r=Eo(i),s=Im(i),a=Rm(i),o=km(i);jn(n.coordinateToPixelTransform,r),jn(n.coordinateToPixelTransform,s),jn(n.coordinateToPixelTransform,a),jn(n.coordinateToPixelTransform,o);const l=this.inversePixelTransform;jn(l,r),jn(l,s),jn(l,a),jn(l,o),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,n){const i=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,a=e.pixelRatio,o=Math.round(Bt(i)/r*a),l=Math.round(gi(i)/r*a);ts(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,s,-o/2,-l/2),UI(this.inversePixelTransform,this.pixelTransform);const u=jj(this.pixelTransform);if(this.useContainer(n,u,this.getBackground(e)),!this.containerReused){const c=this.context.canvas;c.width!=o||c.height!=l?(c.width=o,c.height=l):this.context.clearRect(0,0,o,l),u!==c.style.transform&&(c.style.transform=u)}}dispatchRenderEvent_(e,n,i){const r=this.getLayer();if(r.hasListener(e)){const s=new O2(e,this.inversePixelTransform,i,n);r.dispatchEvent(s)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Or.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(Or.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new L1),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Or.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Or.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,r,s,a,o){const l=s/2,u=a/2,c=r/n,h=-c,m=-e[0]+o,g=-e[1];return ts(this.tempTransform,l,u,c,h,-i,m,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class eV extends F1{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const n=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,r=e.viewState,s=r.resolution,a=this.getLayer().getSource(),o=e.viewHints;let l=e.extent;if(n.extent!==void 0&&(l=io(l,Js(n.extent,r.projection))),!o[cn.ANIMATING]&&!o[cn.INTERACTING]&&!Ll(l))if(a){const u=r.projection,c=a.getImage(l,s,i,u);c&&(this.loadImage(c)?this.image_=c:c.getState()===it.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=jn(n.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Rl(s,r))return null;const a=this.image_.getExtent(),o=this.image_.getImage(),l=Bt(a),u=Math.floor(o.width*((r[0]-a[0])/l));if(u<0||u>=o.width)return null;const c=gi(a),h=Math.floor(o.height*((a[3]-r[1])/c));return h<0||h>=o.height?null:this.getImageData(o,u,h)}renderFrame(e,n){const i=this.image_,r=i.getExtent(),s=i.getResolution(),[a,o]=Array.isArray(s)?s:[s,s],l=i.getPixelRatio(),u=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,h=e.viewState,m=h.center,g=h.resolution,y=c*a/(g*l),b=c*o/(g*l);this.prepareContainer(e,n);const w=this.context.canvas.width,E=this.context.canvas.height,x=this.getRenderContext(e);let _=!1,T=!0;if(u.extent){const R=Js(u.extent,h.projection);T=An(R,e.extent),_=T&&!Zs(R,e.extent),_&&this.clipUnrotated(x,e,R)}const C=i.getImage(),k=ts(this.tempTransform,w/2,E/2,y,b,0,l*(r[0]-m[0])/a,l*(m[1]-r[3])/o);this.renderedResolution=o*c/l;const A=C.width*k[0],L=C.height*k[3];if(this.getLayer().getSource().getInterpolate()||(x.imageSmoothingEnabled=!1),this.preRender(x,e),T&&A>=.5&&L>=.5){const R=k[4],j=k[5],U=u.opacity;U!==1&&(x.save(),x.globalAlpha=U),x.drawImage(C,0,0,+C.width,+C.height,R,j,A,L),U!==1&&x.restore()}return this.postRender(this.context,e),_&&x.restore(),x.imageSmoothingEnabled=!0,this.container}}const tt={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Cf=[tt.FILL],qa=[tt.STROKE],rl=[tt.BEGIN_PATH],wx=[tt.CLOSE_PATH];class P2{drawCustom(e,n,i,r,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,i){}drawFeature(e,n,i){}drawGeometryCollection(e,n,i){}drawLineString(e,n,i){}drawMultiLineString(e,n,i){}drawMultiPoint(e,n,i){}drawMultiPolygon(e,n,i){}drawPoint(e,n,i){}drawPolygon(e,n,i){}drawText(e,n,i){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class bh extends P2{constructor(e,n,i,r){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(i){return i*n})}appendFlatPointCoordinates(e,n){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates;let a=s.length;for(let o=0,l=e.length;o<l;o+=n)r[0]=e[o],r[1]=e[o+1],Rl(i,r)&&(s[a++]=r[0],s[a++]=r[1]);return a}appendFlatLineCoordinates(e,n,i,r,s,a){const o=this.coordinates;let l=o.length;const u=this.getBufferedMaxExtent();a&&(n+=r);let c=e[n],h=e[n+1];const m=this.tmpCoordinate_;let g=!0,y,b,w;for(y=n+r;y<i;y+=r)m[0]=e[y],m[1]=e[y+1],w=Qy(u,m),w!==b?(g&&(o[l++]=c,o[l++]=h,g=!1),o[l++]=m[0],o[l++]=m[1]):w===pi.INTERSECTING?(o[l++]=m[0],o[l++]=m[1],g=!1):g=!0,c=m[0],h=m[1],b=w;return(s&&g||y===n+r)&&(o[l++]=c,o[l++]=h),l}drawCustomCoordinates_(e,n,i,r,s){for(let a=0,o=i.length;a<o;++a){const l=i[a],u=this.appendFlatLineCoordinates(e,n,l,r,!1,!1);s.push(u),n=l}return n}drawCustom(e,n,i,r,s){this.beginGeometry(e,n,s);const a=e.getType(),o=e.getStride(),l=this.coordinates.length;let u,c,h,m,g;switch(a){case"MultiPolygon":u=e.getOrientedFlatCoordinates(),m=[];const y=e.getEndss();g=0;for(let b=0,w=y.length;b<w;++b){const E=[];g=this.drawCustomCoordinates_(u,g,y[b],o,E),m.push(E)}this.instructions.push([tt.CUSTOM,l,m,e,i,a_,s]),this.hitDetectionInstructions.push([tt.CUSTOM,l,m,e,r||i,a_,s]);break;case"Polygon":case"MultiLineString":h=[],u=a=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),g=this.drawCustomCoordinates_(u,0,e.getEnds(),o,h),this.instructions.push([tt.CUSTOM,l,h,e,i,Fd,s]),this.hitDetectionInstructions.push([tt.CUSTOM,l,h,e,r||i,Fd,s]);break;case"LineString":case"Circle":u=e.getFlatCoordinates(),c=this.appendFlatLineCoordinates(u,0,u.length,o,!1,!1),this.instructions.push([tt.CUSTOM,l,c,e,i,Wa,s]),this.hitDetectionInstructions.push([tt.CUSTOM,l,c,e,r||i,Wa,s]);break;case"MultiPoint":u=e.getFlatCoordinates(),c=this.appendFlatPointCoordinates(u,o),c>l&&(this.instructions.push([tt.CUSTOM,l,c,e,i,Wa,s]),this.hitDetectionInstructions.push([tt.CUSTOM,l,c,e,r||i,Wa,s]));break;case"Point":u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),c=this.coordinates.length,this.instructions.push([tt.CUSTOM,l,c,e,i,void 0,s]),this.hitDetectionInstructions.push([tt.CUSTOM,l,c,e,r||i,void 0,s]);break}this.endGeometry(n)}beginGeometry(e,n,i){this.beginGeometryInstruction1_=[tt.BEGIN_GEOMETRY,n,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[tt.BEGIN_GEOMETRY,n,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const i=e.length;let r,s,a=-1;for(n=0;n<i;++n)r=e[n],s=r[0],s==tt.END_GEOMETRY?a=n:s==tt.BEGIN_GEOMETRY&&(r[2]=n,_j(this.hitDetectionInstructions,a,n),a=-1)}setFillStrokeStyle(e,n){const i=this.state;if(e){const r=e.getColor();i.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,i.fillStyle=ys(r||tr)}else i.fillStyle=void 0;if(n){const r=n.getColor();i.strokeStyle=ys(r||Od);const s=n.getLineCap();i.lineCap=s!==void 0?s:Xu;const a=n.getLineDash();i.lineDash=a?a.slice():na;const o=n.getLineDashOffset();i.lineDashOffset=o||ia;const l=n.getLineJoin();i.lineJoin=l!==void 0?l:Zu;const u=n.getWidth();i.lineWidth=u!==void 0?u:Dd;const c=n.getMiterLimit();i.miterLimit=c!==void 0?c:Md,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(e){const n=e.fillStyle,i=[tt.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[tt.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,n){const i=e.strokeStyle,r=e.lineCap,s=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||s!=e.currentLineDash&&!wo(e.currentLineDash,s)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(i!==void 0&&n.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=s,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=l,e.currentMiterLimit=u)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[tt.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=HI(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;no(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class tV extends bh{constructor(e,n,i,r){super(e,n,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,i){if(!this.image_||this.maxExtent&&!Rl(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,i);const r=e.getFlatCoordinates(),s=e.getStride(),a=this.coordinates.length,o=this.appendFlatPointCoordinates(r,s);this.instructions.push([tt.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([tt.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,i){if(!this.image_)return;this.beginGeometry(e,n,i);const r=e.getFlatCoordinates(),s=[];for(let l=0,u=r.length;l<u;l+=e.getStride())(!this.maxExtent||Rl(this.maxExtent,r.slice(l,l+2)))&&s.push(r[l],r[l+1]);const a=this.coordinates.length,o=this.appendFlatPointCoordinates(s,2);this.instructions.push([tt.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([tt.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const i=e.getAnchor(),r=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class nV extends bh{constructor(e,n,i,r){super(e,n,i,r)}drawFlatCoordinates_(e,n,i,r){const s=this.coordinates.length,a=this.appendFlatLineCoordinates(e,n,i,r,!1,!1),o=[tt.MOVE_TO_LINE_TO,s,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),i}drawLineString(e,n,i){const r=this.state,s=r.strokeStyle,a=r.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,na,ia],rl);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(qa),this.endGeometry(n)}drawMultiLineString(e,n,i){const r=this.state,s=r.strokeStyle,a=r.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,n,i),this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,na,ia],rl);const o=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride();let c=0;for(let h=0,m=o.length;h<m;++h)c=this.drawFlatCoordinates_(l,c,o[h],u);this.hitDetectionInstructions.push(qa),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(qa),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(qa),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(rl)}}class Ex extends bh{constructor(e,n,i,r){super(e,n,i,r)}drawFlatCoordinatess_(e,n,i,r){const s=this.state,a=s.fillStyle!==void 0,o=s.strokeStyle!==void 0,l=i.length;this.instructions.push(rl),this.hitDetectionInstructions.push(rl);for(let u=0;u<l;++u){const c=i[u],h=this.coordinates.length,m=this.appendFlatLineCoordinates(e,n,c,r,!0,!o),g=[tt.MOVE_TO_LINE_TO,h,m];this.instructions.push(g),this.hitDetectionInstructions.push(g),o&&(this.instructions.push(wx),this.hitDetectionInstructions.push(wx)),n=c}return a&&(this.instructions.push(Cf),this.hitDetectionInstructions.push(Cf)),o&&(this.instructions.push(qa),this.hitDetectionInstructions.push(qa)),n}drawCircle(e,n,i){const r=this.state,s=r.fillStyle,a=r.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([tt.SET_FILL_STYLE,tr]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,na,ia]);const o=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const c=[tt.CIRCLE,u];this.instructions.push(rl,c),this.hitDetectionInstructions.push(rl,c),r.fillStyle!==void 0&&(this.instructions.push(Cf),this.hitDetectionInstructions.push(Cf)),r.strokeStyle!==void 0&&(this.instructions.push(qa),this.hitDetectionInstructions.push(qa)),this.endGeometry(n)}drawPolygon(e,n,i){const r=this.state,s=r.fillStyle,a=r.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([tt.SET_FILL_STYLE,tr]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,na,ia]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,o,u),this.endGeometry(n)}drawMultiPolygon(e,n,i){const r=this.state,s=r.fillStyle,a=r.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([tt.SET_FILL_STYLE,tr]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,na,ia]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride();let c=0;for(let h=0,m=o.length;h<m;++h)c=this.drawFlatCoordinatess_(l,c,o[h],u);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let i=0,r=n.length;i<r;++i)n[i]=qo(n[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function iV(t,e,n,i,r){const s=[];let a=n,o=0,l=e.slice(n,2);for(;o<t&&a+r<i;){const[u,c]=l.slice(-2),h=e[a+r],m=e[a+r+1],g=Math.sqrt((h-u)*(h-u)+(m-c)*(m-c));if(o+=g,o>=t){const y=(t-o+g)/g,b=mr(u,h,y),w=mr(c,m,y);l.push(b,w),s.push(l),l=[b,w],o==t&&(a+=r),o=0}else if(o<t)l.push(e[a+r],e[a+r+1]),a+=r;else{const y=g-o,b=mr(u,h,y/g),w=mr(c,m,y/g);l.push(b,w),s.push(l),l=[b,w],o=0,a+=r}}return o>0&&s.push(l),s}function rV(t,e,n,i,r){let s=n,a=n,o=0,l=0,u=n,c,h,m,g,y,b,w,E,x,_;for(h=n;h<i;h+=r){const T=e[h],C=e[h+1];y!==void 0&&(x=T-y,_=C-b,g=Math.sqrt(x*x+_*_),w!==void 0&&(l+=m,c=Math.acos((w*x+E*_)/(m*g)),c>t&&(l>o&&(o=l,s=u,a=h),l=0,u=h-r)),m=g,w=x,E=_),y=T,b=C}return l+=g,l>o?[u,h]:[s,a]}const Mp={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class sV extends bh{constructor(e,n,i,r){super(e,n,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[tr]={fillStyle:tr},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,i){const r=this.textFillState_,s=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!r&&!s)return;const o=this.coordinates;let l=o.length;const u=e.getType();let c=null,h=e.getStride();if(a.placement==="line"&&(u=="LineString"||u=="MultiLineString"||u=="Polygon"||u=="MultiPolygon")){if(!An(this.maxExtent,e.getExtent()))return;let m;if(c=e.getFlatCoordinates(),u=="LineString")m=[c.length];else if(u=="MultiLineString")m=e.getEnds();else if(u=="Polygon")m=e.getEnds().slice(0,1);else if(u=="MultiPolygon"){const w=e.getEndss();m=[];for(let E=0,x=w.length;E<x;++E)m.push(w[E][0])}this.beginGeometry(e,n,i);const g=a.repeat,y=g?void 0:a.textAlign;let b=0;for(let w=0,E=m.length;w<E;++w){let x;g?x=iV(g*this.resolution,c,b,m[w],h):x=[c.slice(b,m[w])];for(let _=0,T=x.length;_<T;++_){const C=x[_];let k=0,A=C.length;if(y==null){const R=rV(a.maxAngle,C,0,C.length,2);k=R[0],A=R[1]}for(let R=k;R<A;R+=h)o.push(C[R],C[R+1]);const L=o.length;b=m[w],this.drawChars_(l,L),l=L}}this.endGeometry(n)}else{let m=a.overflow?null:[];switch(u){case"Point":case"MultiPoint":c=e.getFlatCoordinates();break;case"LineString":c=e.getFlatMidpoint();break;case"Circle":c=e.getCenter();break;case"MultiLineString":c=e.getFlatMidpoints(),h=2;break;case"Polygon":c=e.getFlatInteriorPoint(),a.overflow||m.push(c[2]/this.resolution),h=3;break;case"MultiPolygon":const x=e.getFlatInteriorPoints();c=[];for(let _=0,T=x.length;_<T;_+=3)a.overflow||m.push(x[_+2]/this.resolution),c.push(x[_],x[_+1]);if(c.length===0)return;h=2;break}const g=this.appendFlatPointCoordinates(c,h);if(g===l)return;if(m&&(g-l)/2!==c.length/h){let x=l/2;m=m.filter((_,T)=>{const C=o[(x+T)*2]===c[T*h]&&o[(x+T)*2+1]===c[T*h+1];return C||--x,C})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&this.updateFillStyle(this.state,this.createFill),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n,i);let y=a.padding;if(y!=nl&&(a.scale[0]<0||a.scale[1]<0)){let x=a.padding[0],_=a.padding[1],T=a.padding[2],C=a.padding[3];a.scale[0]<0&&(_=-_,C=-C),a.scale[1]<0&&(x=-x,T=-T),y=[x,_,T,C]}const b=this.pixelRatio;this.instructions.push([tt.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,y==nl?nl:y.map(function(x){return x*b}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,m]);const w=1/b,E=this.state.fillStyle;a.backgroundFill&&(this.state.fillStyle=tr,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([tt.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,this.declutterMode_,this.declutterImageWithText_,y,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?tr:this.fillKey_,this.textOffsetX_,this.textOffsetY_,m]),a.backgroundFill&&(this.state.fillStyle=E,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||Pd,justify:n.justify,textBaseline:n.textBaseline||wp,scale:n.scale});const a=this.fillKey_;i&&(a in this.fillStates||(this.fillStates[a]={fillStyle:i.fillStyle}))}drawChars_(e,n){const i=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,a=this.textKey_,o=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,u=Mp[r.textBaseline],c=this.textOffsetY_*l,h=this.text_,m=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([tt.DRAW_CHARS,e,n,u,r.overflow,o,r.maxAngle,l,c,s,m*l,h,a,1,this.declutterMode_]),this.hitDetectionInstructions.push([tt.DRAW_CHARS,e,n,u,r.overflow,o&&tr,r.maxAngle,l,c,s,m*l,h,a,1/l,this.declutterMode_])}setTextStyle(e,n){let i,r,s;if(!e)this.text_="";else{const a=e.getFill();a?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=ys(a.getColor()||tr)):(r=null,this.textFillState_=r);const o=e.getStroke();if(!o)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const y=o.getLineDash(),b=o.getLineDashOffset(),w=o.getWidth(),E=o.getMiterLimit();s.lineCap=o.getLineCap()||Xu,s.lineDash=y?y.slice():na,s.lineDashOffset=b===void 0?ia:b,s.lineJoin=o.getLineJoin()||Zu,s.lineWidth=w===void 0?Dd:w,s.miterLimit=E===void 0?Md:E,s.strokeStyle=ys(o.getColor()||Od)}i=this.textState_;const l=e.getFont()||VI;Aj(l);const u=e.getScaleArray();i.overflow=e.getOverflow(),i.font=l,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||wp,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||nl,i.scale=u===void 0?[1,1]:u;const c=e.getOffsetX(),h=e.getOffsetY(),m=e.getRotateWithView(),g=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=c===void 0?0:c,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=m===void 0?!1:m,this.textRotation_=g===void 0?0:g,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:bt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+bt(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const aV={Circle:Ex,Default:bh,Image:tV,LineString:nV,Polygon:Ex,Text:sV};class D2{constructor(e,n,i,r){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const i=this.buildersByZIndex_[n];for(const r in i){const s=i[r].finish();e[n][r]=s}}return e}getBuilder(e,n){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let s=r[n];if(s===void 0){const a=aV[n];s=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=s}return s}}function oV(t,e,n,i,r,s,a,o,l,u,c,h){let m=t[e],g=t[e+1],y=0,b=0,w=0,E=0;function x(){y=m,b=g,e+=i,m=t[e],g=t[e+1],E+=w,w=Math.sqrt((m-y)*(m-y)+(g-b)*(g-b))}do x();while(e<n-i&&E+w<s);let _=w===0?0:(s-E)/w;const T=mr(y,m,_),C=mr(b,g,_),k=e-i,A=E,L=s+o*l(u,r,c);for(;e<n-i&&E+w<L;)x();_=w===0?0:(L-E)/w;const R=mr(y,m,_),j=mr(b,g,_);let U;if(h){const B=[T,C,R,j];i2(B,0,4,2,h,B,B),U=B[0]>B[2]}else U=T>R;const G=Math.PI,ne=[],W=k+i===e;e=k,w=0,E=A,m=t[e],g=t[e+1];let F;if(W){x(),F=Math.atan2(g-b,m-y),U&&(F+=F>0?-G:G);const B=(R+T)/2,N=(j+C)/2;return ne[0]=[B,N,(L-s)/2,F,r],ne}r=r.replace(/\n/g," ");for(let B=0,N=r.length;B<N;){x();let Q=Math.atan2(g-b,m-y);if(U&&(Q+=Q>0?-G:G),F!==void 0){let O=Q-F;if(O+=O>G?-2*G:O<-G?2*G:0,Math.abs(O)>a)return null}F=Q;const _e=B;let be=0;for(;B<N;++B){const O=U?N-B-1:B,re=o*l(u,r[O],c);if(e+i<n&&E+w<s+be+re/2)break;be+=re}if(B===_e)continue;const xe=U?r.substring(N-_e,N-B):r.substring(_e,B);_=w===0?0:(s+be/2-E)/w;const K=mr(y,m,_),Z=mr(b,g,_);ne.push([K,Z,be/2,Q,xe]),s+=be}return ne}const au=Lr(),Aa=[],$s=[],js=[],Ma=[];function Tx(t){return t[3].declutterBox}const xx=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function j0(t,e){return e==="start"?e=xx.test(t)?"right":"left":e==="end"&&(e=xx.test(t)?"left":"right"),Mp[e]}function lV(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class uV{constructor(e,n,i,r,s){this.overlaps=i,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=br(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new L1:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,i,r){const s=e+n+i+r;if(this.labels_[s])return this.labels_[s];const a=r?this.strokeStates[r]:null,o=i?this.fillStates[i]:null,l=this.textStates[n],u=this.pixelRatio,c=[l.scale[0]*u,l.scale[1]*u],h=Array.isArray(e),m=l.justify?Mp[l.justify]:j0(Array.isArray(e)?e[0]:e,l.textAlign||Pd),g=r&&a.lineWidth?a.lineWidth:0,y=h?e:e.split(`
`).reduce(lV,[]),{width:b,height:w,widths:E,heights:x,lineWidths:_}=Oj(l,y),T=b+g,C=[],k=(T+2)*c[0],A=(w+g)*c[1],L={width:k<0?Math.floor(k):Math.ceil(k),height:A<0?Math.floor(A):Math.ceil(A),contextInstructions:C};(c[0]!=1||c[1]!=1)&&C.push("scale",c),r&&(C.push("strokeStyle",a.strokeStyle),C.push("lineWidth",g),C.push("lineCap",a.lineCap),C.push("lineJoin",a.lineJoin),C.push("miterLimit",a.miterLimit),C.push("setLineDash",[a.lineDash]),C.push("lineDashOffset",a.lineDashOffset)),i&&C.push("fillStyle",o.fillStyle),C.push("textBaseline","middle"),C.push("textAlign","center");const R=.5-m;let j=m*T+R*g;const U=[],G=[];let ne=0,W=0,F=0,B=0,N;for(let Q=0,_e=y.length;Q<_e;Q+=2){const be=y[Q];if(be===`
`){W+=ne,ne=0,j=m*T+R*g,++B;continue}const xe=y[Q+1]||l.font;xe!==N&&(r&&U.push("font",xe),i&&G.push("font",xe),N=xe),ne=Math.max(ne,x[F]);const K=[be,j+R*E[F]+m*(E[F]-_[B]),.5*(g+ne)+W];j+=E[F],r&&U.push("strokeText",K),i&&G.push("fillText",K),++F}return Array.prototype.push.apply(C,U),Array.prototype.push.apply(C,G),this.labels_[s]=L,L}replayTextBackground_(e,n,i,r,s,a,o){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,s),e.lineTo.apply(e,n),a&&(this.alignAndScaleFill_=a[2],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}calculateImageOrLabelDimensions_(e,n,i,r,s,a,o,l,u,c,h,m,g,y,b,w){o*=m[0],l*=m[1];let E=i-o,x=r-l;const _=s+u>e?e-u:s,T=a+c>n?n-c:a,C=y[3]+_*m[0]+y[1],k=y[0]+T*m[1]+y[2],A=E-y[3],L=x-y[0];(b||h!==0)&&(Aa[0]=A,Ma[0]=A,Aa[1]=L,$s[1]=L,$s[0]=A+C,js[0]=$s[0],js[1]=L+k,Ma[1]=js[1]);let R;return h!==0?(R=ts(br(),i,r,1,1,h,-i,-r),jn(R,Aa),jn(R,$s),jn(R,js),jn(R,Ma),oa(Math.min(Aa[0],$s[0],js[0],Ma[0]),Math.min(Aa[1],$s[1],js[1],Ma[1]),Math.max(Aa[0],$s[0],js[0],Ma[0]),Math.max(Aa[1],$s[1],js[1],Ma[1]),au)):oa(Math.min(A,A+C),Math.min(L,L+k),Math.max(A,A+C),Math.max(L,L+k),au),g&&(E=Math.round(E),x=Math.round(x)),{drawImageX:E,drawImageY:x,drawImageW:_,drawImageH:T,originX:u,originY:c,declutterBox:{minX:au[0],minY:au[1],maxX:au[2],maxY:au[3],value:w},canvasTransform:R,scale:m}}replayImageOrLabel_(e,n,i,r,s,a,o){const l=!!(a||o),u=r.declutterBox,c=o?o[2]*r.scale[0]/2:0;return u.minX-c<=n[0]&&u.maxX+c>=0&&u.minY-c<=n[1]&&u.maxY+c>=0&&(l&&this.replayTextBackground_(e,Aa,$s,js,Ma,a,o),Pj(e,r.canvasTransform,s,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const i=jn(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,i,r){const s=this.textStates[n],a=this.createLabel(e,n,r,i),o=this.strokeStates[i],l=this.pixelRatio,u=j0(Array.isArray(e)?e[0]:e,s.textAlign||Pd),c=Mp[s.textBaseline||wp],h=o&&o.lineWidth?o.lineWidth:0,m=a.width/l-2*s.scale[0],g=u*m+2*(.5-u)*h,y=c*a.height/l+2*(.5-c)*h;return{label:a,anchorX:g,anchorY:y}}execute_(e,n,i,r,s,a,o,l){const u=this.zIndexContext_;let c;this.pixelCoordinates_&&wo(i,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=ro(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Fj(this.renderedTransform_,i));let h=0;const m=r.length;let g=0,y,b,w,E,x,_,T,C,k,A,L,R,j,U=0,G=0,ne=null,W=null;const F=this.coordinateCache_,B=this.viewRotation_,N=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,Q={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:B},_e=this.instructions!=r||this.overlaps?0:200;let be,xe,K,Z;for(;h<m;){const O=r[h];switch(O[0]){case tt.BEGIN_GEOMETRY:be=O[1],Z=O[3],be.getGeometry()?o!==void 0&&!An(o,Z.getExtent())?h=O[2]+1:++h:h=O[2],u&&(u.zIndex=O[4]);break;case tt.BEGIN_PATH:U>_e&&(this.fill_(e),U=0),G>_e&&(e.stroke(),G=0),!U&&!G&&(e.beginPath(),x=NaN,_=NaN),++h;break;case tt.CIRCLE:g=O[1];const Ee=c[g],q=c[g+1],ye=c[g+2],Xe=c[g+3],de=ye-Ee,Ke=Xe-q,H=Math.sqrt(de*de+Ke*Ke);e.moveTo(Ee+H,q),e.arc(Ee,q,H,0,2*Math.PI,!0),++h;break;case tt.CLOSE_PATH:e.closePath(),++h;break;case tt.CUSTOM:g=O[1],y=O[2];const D=O[3],M=O[4],z=O[5];Q.geometry=D,Q.feature=be,h in F||(F[h]=[]);const J=F[h];z?z(c,g,y,2,J):(J[0]=c[g],J[1]=c[g+1],J.length=2),u&&(u.zIndex=O[6]),M(J,Q),++h;break;case tt.DRAW_IMAGE:g=O[1],y=O[2],k=O[3],b=O[4],w=O[5];let he=O[6];const Y=O[7],ue=O[8],P=O[9],$=O[10];let X=O[11];const se=O[12];let Ie=O[13];E=O[14]||"declutter";const we=O[15];if(!k&&O.length>=20){A=O[19],L=O[20],R=O[21],j=O[22];const Pn=this.drawLabelWithPointPlacement_(A,L,R,j);k=Pn.label,O[3]=k;const Zt=O[23];b=(Pn.anchorX-Zt)*this.pixelRatio,O[4]=b;const ui=O[24];w=(Pn.anchorY-ui)*this.pixelRatio,O[5]=w,he=k.height,O[6]=he,Ie=k.width,O[13]=Ie}let ae;O.length>25&&(ae=O[25]);let ce,Le,je;O.length>17?(ce=O[16],Le=O[17],je=O[18]):(ce=nl,Le=!1,je=!1),$&&N?X+=B:!$&&!N&&(X-=B);let wt=0;for(;g<y;g+=2){if(ae&&ae[wt++]<Ie/this.pixelRatio)continue;const Pn=this.calculateImageOrLabelDimensions_(k.width,k.height,c[g],c[g+1],Ie,he,b,w,ue,P,X,se,s,ce,Le||je,be),Zt=[e,n,k,Pn,Y,Le?ne:null,je?W:null];if(l){let ui,Xn,Yn;if(we){const an=y-g;if(!we[an]){we[an]={args:Zt,declutterMode:E};continue}const Ei=we[an];ui=Ei.args,Xn=Ei.declutterMode,delete we[an],Yn=Tx(ui)}let Sr,ci;if(ui&&(Xn!=="declutter"||!l.collides(Yn))&&(Sr=!0),(E!=="declutter"||!l.collides(Pn.declutterBox))&&(ci=!0),Xn==="declutter"&&E==="declutter"){const an=Sr&&ci;Sr=an,ci=an}Sr&&(Xn!=="none"&&l.insert(Yn),this.replayImageOrLabel_.apply(this,ui)),ci&&(E!=="none"&&l.insert(Pn.declutterBox),this.replayImageOrLabel_.apply(this,Zt))}else this.replayImageOrLabel_.apply(this,Zt)}++h;break;case tt.DRAW_CHARS:const tn=O[1],vn=O[2],Yt=O[3],wi=O[4];j=O[5];const Ai=O[6],Wt=O[7],oe=O[8];R=O[9];const Oe=O[10];A=O[11],L=O[12];const ge=[O[13],O[13]];E=O[14]||"declutter";const Pe=this.textStates[L],Be=Pe.font,Xt=[Pe.scale[0]*Wt,Pe.scale[1]*Wt];let dn;Be in this.widths_?dn=this.widths_[Be]:(dn={},this.widths_[Be]=dn);const Cr=h2(c,tn,vn,2),Mi=Math.abs(Xt[0])*qT(Be,A,dn);if(wi||Mi<=Cr){const Pn=this.textStates[L].textAlign,Zt=(Cr-Mi)*j0(A,Pn),ui=oV(c,tn,vn,2,A,Zt,Ai,Math.abs(Xt[0]),qT,Be,dn,N?0:this.viewRotation_);e:if(ui){const Xn=[];let Yn,Sr,ci,an,Ei;if(R)for(Yn=0,Sr=ui.length;Yn<Sr;++Yn){Ei=ui[Yn],ci=Ei[4],an=this.createLabel(ci,L,"",R),b=Ei[2]+(Xt[0]<0?-Oe:Oe),w=Yt*an.height+(.5-Yt)*2*Oe*Xt[1]/Xt[0]-oe;const Nr=this.calculateImageOrLabelDimensions_(an.width,an.height,Ei[0],Ei[1],an.width,an.height,b,w,0,0,Ei[3],ge,!1,nl,!1,be);if(l&&E==="declutter"&&l.collides(Nr.declutterBox))break e;Xn.push([e,n,an,Nr,1,null,null])}if(j)for(Yn=0,Sr=ui.length;Yn<Sr;++Yn){Ei=ui[Yn],ci=Ei[4],an=this.createLabel(ci,L,j,""),b=Ei[2],w=Yt*an.height-oe;const Nr=this.calculateImageOrLabelDimensions_(an.width,an.height,Ei[0],Ei[1],an.width,an.height,b,w,0,0,Ei[3],ge,!1,nl,!1,be);if(l&&E==="declutter"&&l.collides(Nr.declutterBox))break e;Xn.push([e,n,an,Nr,1,null,null])}l&&E!=="none"&&l.load(Xn.map(Tx));for(let Nr=0,zl=Xn.length;Nr<zl;++Nr)this.replayImageOrLabel_.apply(this,Xn[Nr])}}++h;break;case tt.END_GEOMETRY:if(a!==void 0){be=O[1];const Pn=a(be,Z,E);if(Pn)return Pn}++h;break;case tt.FILL:_e?U++:this.fill_(e),++h;break;case tt.MOVE_TO_LINE_TO:for(g=O[1],y=O[2],xe=c[g],K=c[g+1],e.moveTo(xe,K),x=xe+.5|0,_=K+.5|0,g+=2;g<y;g+=2)xe=c[g],K=c[g+1],T=xe+.5|0,C=K+.5|0,(g==y-2||T!==x||C!==_)&&(e.lineTo(xe,K),x=T,_=C);++h;break;case tt.SET_FILL_STYLE:ne=O,this.alignAndScaleFill_=O[2],U&&(this.fill_(e),U=0,G&&(e.stroke(),G=0)),e.fillStyle=O[1],++h;break;case tt.SET_STROKE_STYLE:W=O,G&&(e.stroke(),G=0),this.setStrokeStyle_(e,O),++h;break;case tt.STROKE:_e?G++:e.stroke(),++h;break;default:++h;break}}U&&this.fill_(e),G&&e.stroke()}execute(e,n,i,r,s,a){this.viewRotation_=r,this.execute_(e,n,i,this.instructions,s,void 0,void 0,a)}executeHitDetection(e,n,i,r,s){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,r,s)}}const xu=["Polygon","Circle","LineString","Image","Text","Default"],Op=["Image","Text"],cV=xu.filter(t=>!Op.includes(t));class L2{constructor(e,n,i,r,s,a,o){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=br(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,o)}clip(e,n){const i=this.getClipCoords(n);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,n){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const s=e[i];for(const a in s){const o=s[a];r[a]=new uV(this.resolution_,this.pixelRatio_,this.overlaps_,o,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let r=0,s=e.length;r<s;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,n,i,r,s,a){r=Math.round(r);const o=r*2+1,l=ts(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-i,-e[0],-e[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=bi(o,o,void 0,{willReadFrequently:!0}));const c=this.hitDetectionContext_;c.canvas.width!==o||c.canvas.height!==o?(c.canvas.width=o,c.canvas.height=o):u||c.clearRect(0,0,o,o);let h;this.renderBuffer_!==void 0&&(h=Lr(),ld(h,e),no(h,n*(this.renderBuffer_+r),h));const m=dV(r);let g;function y(C,k,A){const L=c.getImageData(0,0,o,o).data;for(let R=0,j=m.length;R<j;R++)if(L[m[R]]>0){if(!a||A==="none"||g!=="Image"&&g!=="Text"||a.includes(C)){const U=(m[R]-3)/4,G=r-U%o,ne=r-(U/o|0),W=s(C,k,G*G+ne*ne);if(W)return W}c.clearRect(0,0,o,o);break}}const b=Object.keys(this.executorsByZIndex_).map(Number);b.sort(ws);let w,E,x,_,T;for(w=b.length-1;w>=0;--w){const C=b[w].toString();for(x=this.executorsByZIndex_[C],E=xu.length-1;E>=0;--E)if(g=xu[E],_=x[g],_!==void 0&&(T=_.executeHitDetection(c,l,i,y,h),T))return T}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const i=n[0],r=n[1],s=n[2],a=n[3],o=[i,r,i,a,s,a,s,r];return ro(o,0,8,2,e,o),o}isEmpty(){return ho(this.executorsByZIndex_)}execute(e,n,i,r,s,a,o){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(ws),a=a||xu;const u=xu.length;let c,h,m,g,y;for(o&&l.reverse(),c=0,h=l.length;c<h;++c){const b=l[c].toString();for(y=this.executorsByZIndex_[b],m=0,g=a.length;m<g;++m){const w=a[m],E=y[w];if(E!==void 0){const x=o===null?void 0:E.getZIndexContext(),_=x?x.getContext():e,T=this.maxExtent_&&w!=="Image"&&w!=="Text";if(T&&(_.save(),this.clip(_,i)),!x||w==="Text"||w==="Image"?E.execute(_,n,i,r,s,o):x.pushFunction(C=>E.execute(C,n,i,r,s,o)),T&&_.restore(),x){x.offset();const C=l[c]*u+m;this.deferredZIndexContexts_[C]||(this.deferredZIndexContexts_[C]=[]),this.deferredZIndexContexts_[C].push(x)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(ws);for(let i=0,r=n.length;i<r;++i)e[n[i]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[n[i]].length=0}}const B0={};function dV(t){if(B0[t]!==void 0)return B0[t];const e=t*2+1,n=t*t,i=new Array(n+1);for(let s=0;s<=t;++s)for(let a=0;a<=t;++a){const o=s*s+a*a;if(o>n)break;let l=i[o];l||(l=[],i[o]=l),l.push(((t+s)*e+(t+a))*4+3),s>0&&l.push(((t-s)*e+(t+a))*4+3),a>0&&(l.push(((t+s)*e+(t-a))*4+3),s>0&&l.push(((t-s)*e+(t-a))*4+3))}const r=[];for(let s=0,a=i.length;s<a;++s)i[s]&&r.push(...i[s]);return B0[t]=r,r}class hV extends P2{constructor(e,n,i,r,s,a,o){super(),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.transformRotation_=r?e1(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=a,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=br()}drawImages_(e,n,i,r){if(!this.image_)return;const s=ro(e,n,i,r,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,l=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=l*this.imageOpacity_);let u=this.imageRotation_;this.transformRotation_===0&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(let c=0,h=s.length;c<h;c+=2){const m=s[c]-this.imageAnchorX_,g=s[c+1]-this.imageAnchorY_;if(u!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const y=m+this.imageAnchorX_,b=g+this.imageAnchorY_;ts(o,y,b,1,1,u,-y,-b),a.save(),a.transform.apply(a,o),a.translate(y,b),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,m,g,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=l)}drawText_(e,n,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=ro(e,n,i,r,this.transform_,this.pixelCoordinates_),a=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);n<i;n+=r){const l=s[n]+this.textOffsetX_,u=s[n+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(l-this.textOffsetX_,u-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,l,u),this.textFillState_&&a.fillText(this.text_,l,u))}}moveToLineTo_(e,n,i,r,s){const a=this.context_,o=ro(e,n,i,r,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);let l=o.length;s&&(l-=2);for(let u=2;u<l;u+=2)a.lineTo(o[u],o[u+1]);return s&&a.closePath(),i}drawRings_(e,n,i,r){for(let s=0,a=i.length;s<a;++s)n=this.moveToLineTo_(e,n,i[s],r,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!An(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=f4(e,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],r=n[3]-n[1],s=Math.sqrt(i*i+r*r),a=this.context_;a.beginPath(),a.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const i=n.getGeometryFunction()(e);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let i=0,r=n.length;i<r;++i)this.drawGeometry(n[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!An(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(An(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let s=0;const a=e.getEnds(),o=e.getStride();i.beginPath();for(let l=0,u=a.length;l<u;++l)s=this.moveToLineTo_(r,s,a[l],o,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!An(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!An(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const s=e.getEndss(),a=e.getStride();n.beginPath();for(let o=0,l=s.length;o<l;++o){const u=s[o];r=this.drawRings_(i,r,u,a)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,n.lineCap=e.lineCap),wo(i.lineDash,e.lineDash)||n.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:Pd;i?(i.font!=e.font&&(i.font=e.font,n.font=e.font),i.textAlign!=r&&(i.textAlign=r,n.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=r,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:ys(i||tr)}}if(!n)this.strokeState_=null;else{const i=n.getColor(),r=n.getLineCap(),s=n.getLineDash(),a=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),u=n.getMiterLimit(),c=s||na;this.strokeState_={lineCap:r!==void 0?r:Xu,lineDash:this.pixelRatio_===1?c:c.map(h=>h*this.pixelRatio_),lineDashOffset:(a||ia)*this.pixelRatio_,lineJoin:o!==void 0?o:Zu,lineWidth:(l!==void 0?l:Dd)*this.pixelRatio_,miterLimit:u!==void 0?u:Md,strokeStyle:ys(i||Od)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/i,a[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const g=n.getColor();this.textFillState_={fillStyle:ys(g||tr)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const g=i.getColor(),y=i.getLineCap(),b=i.getLineDash(),w=i.getLineDashOffset(),E=i.getLineJoin(),x=i.getWidth(),_=i.getMiterLimit();this.textStrokeState_={lineCap:y!==void 0?y:Xu,lineDash:b||na,lineDashOffset:w||ia,lineJoin:E!==void 0?E:Zu,lineWidth:x!==void 0?x:Dd,miterLimit:_!==void 0?_:Md,strokeStyle:ys(g||Od)}}const r=e.getFont(),s=e.getOffsetX(),a=e.getOffsetY(),o=e.getRotateWithView(),l=e.getRotation(),u=e.getScaleArray(),c=e.getText(),h=e.getTextAlign(),m=e.getTextBaseline();this.textState_={font:r!==void 0?r:VI,textAlign:h!==void 0?h:Pd,textBaseline:m!==void 0?m:wp},this.text_=c!==void 0?Array.isArray(c)?c.reduce((g,y,b)=>g+=b%2?" ":y,""):c:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*u[0],this.pixelRatio_*u[1]]}}}const _r=.5;function F2(t,e,n,i,r,s,a,o,l){const u=l?m1(r):r,c=t[0]*_r,h=t[1]*_r,m=bi(c,h);m.imageSmoothingEnabled=!1;const g=m.canvas,y=new hV(m,_r,r,null,a,o,l?ph(n2(),l):null),b=n.length,w=Math.floor((256*256*256-1)/b),E={};for(let _=1;_<=b;++_){const T=n[_-1],C=T.getStyleFunction()||i;if(!C)continue;let k=C(T,s);if(!k)continue;Array.isArray(k)||(k=[k]);const L=(_*w).toString(16).padStart(7,"#00000");for(let R=0,j=k.length;R<j;++R){const U=k[R],G=U.getGeometryFunction()(T);if(!G||!An(u,G.getExtent()))continue;const ne=U.clone(),W=ne.getFill();W&&W.setColor(L);const F=ne.getStroke();F&&(F.setColor(L),F.setLineDash(null)),ne.setText(void 0);const B=U.getImage();if(B){const be=B.getImageSize();if(!be)continue;const xe=bi(be[0],be[1],void 0,{alpha:!1}),K=xe.canvas;xe.fillStyle=L,xe.fillRect(0,0,K.width,K.height),ne.setImage(new _h({img:K,anchor:B.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:B.getOrigin(),opacity:1,size:B.getSize(),scale:B.getScale(),rotation:B.getRotation(),rotateWithView:B.getRotateWithView()}))}const N=ne.getZIndex()||0;let Q=E[N];Q||(Q={},E[N]=Q,Q.Polygon=[],Q.Circle=[],Q.LineString=[],Q.Point=[]);const _e=G.getType();if(_e==="GeometryCollection"){const be=G.getGeometriesArrayRecursive();for(let xe=0,K=be.length;xe<K;++xe){const Z=be[xe];Q[Z.getType().replace("Multi","")].push(Z,ne)}}else Q[_e.replace("Multi","")].push(G,ne)}}const x=Object.keys(E).map(Number).sort(ws);for(let _=0,T=x.length;_<T;++_){const C=E[x[_]];for(const k in C){const A=C[k];for(let L=0,R=A.length;L<R;L+=2){y.setStyle(A[L+1]);for(let j=0,U=e.length;j<U;++j)y.setTransform(e[j]),y.drawGeometry(A[L])}}}return m.getImageData(0,0,g.width,g.height)}function N2(t,e,n){const i=[];if(n){const r=Math.floor(Math.round(t[0])*_r),s=Math.floor(Math.round(t[1])*_r),a=(Mn(r,0,n.width-1)+Mn(s,0,n.height-1)*n.width)*4,o=n.data[a],l=n.data[a+1],c=n.data[a+2]+256*(l+256*o),h=Math.floor((256*256*256-1)/e.length);c&&c%h===0&&i.push(e[c/h-1])}return i}const fV=.5,$2={Point:wV,LineString:_V,Polygon:TV,MultiPoint:EV,MultiLineString:vV,MultiPolygon:bV,GeometryCollection:yV,Circle:mV};function pV(t,e){return parseInt(bt(t),10)-parseInt(bt(e),10)}function h_(t,e){const n=j2(t,e);return n*n}function j2(t,e){return fV*t/e}function mV(t,e,n,i,r){const s=n.getFill(),a=n.getStroke();if(s||a){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(s,a),l.drawCircle(e,i,r)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i)}}function Pp(t,e,n,i,r,s,a,o){const l=[],u=n.getImage();if(u){let m=!0;const g=u.getImageState();g==it.LOADED||g==it.ERROR?m=!1:g==it.IDLE&&u.load(),m&&l.push(u.ready())}const c=n.getFill();c&&c.loading()&&l.push(c.ready());const h=l.length>0;return h&&Promise.all(l).then(()=>r(null)),gV(t,e,n,i,s,a,o),h}function gV(t,e,n,i,r,s,a){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(i,r);if(n.getRenderer())B2(t,l,n,e,a);else{const c=$2[l.getType()];c(t,l,n,e,a,s)}}function B2(t,e,n,i,r){if(e.getType()=="GeometryCollection"){const a=e.getGeometries();for(let o=0,l=a.length;o<l;++o)B2(t,a[o],n,i,r);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}function yV(t,e,n,i,r,s){const a=e.getGeometriesArray();let o,l;for(o=0,l=a.length;o<l;++o){const u=$2[a[o].getType()];u(t,a[o],n,i,r,s)}}function _V(t,e,n,i,r){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawLineString(e,i,r)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,r)}}function vV(t,e,n,i,r){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawMultiLineString(e,i,r)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,i,r)}}function bV(t,e,n,i,r){const s=n.getFill(),a=n.getStroke();if(a||s){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,a),l.drawMultiPolygon(e,i,r)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i,r)}}function wV(t,e,n,i,r,s){const a=n.getImage(),o=n.getText(),l=o&&o.getText(),u=s&&a&&l?{}:void 0;if(a){if(a.getImageState()!=it.LOADED)return;const c=t.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,u),c.drawPoint(e,i,r)}if(l){const c=t.getBuilder(n.getZIndex(),"Text");c.setTextStyle(o,u),c.drawText(e,i,r)}}function EV(t,e,n,i,r,s){const a=n.getImage(),o=a&&a.getOpacity()!==0,l=n.getText(),u=l&&l.getText(),c=s&&o&&u?{}:void 0;if(o){if(a.getImageState()!=it.LOADED)return;const h=t.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,c),h.drawMultiPoint(e,i,r)}if(u){const h=t.getBuilder(n.getZIndex(),"Text");h.setTextStyle(l,c),h.drawText(e,i,r)}}function TV(t,e,n,i,r){const s=n.getFill(),a=n.getStroke();if(s||a){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,a),l.drawPolygon(e,i,r)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,i,r)}}class V2 extends F1{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Lr(),this.wrappedRenderedExtent_=Lr(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,i){const r=n.extent,s=n.viewState,a=s.center,o=s.resolution,l=s.projection,u=s.rotation,c=l.getExtent(),h=this.getLayer().getSource(),m=this.getLayer().getDeclutter(),g=n.pixelRatio,y=n.viewHints,b=!(y[cn.ANIMATING]||y[cn.INTERACTING]),w=this.context,E=Math.round(Bt(r)/o*g),x=Math.round(gi(r)/o*g),_=h.getWrapX()&&l.canWrapX(),T=_?Bt(c):null,C=_?Math.ceil((r[2]-c[2])/T)+1:1;let k=_?Math.floor((r[0]-c[0])/T):0;do{let A=this.getRenderTransform(a,o,0,g,E,x,k*T);n.declutter&&(A=A.slice(0)),e.execute(w,[w.canvas.width,w.canvas.height],A,u,b,i===void 0?xu:i?Op:cV,i?m&&n.declutter[m]:void 0)}while(++k<C)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=bi(this.context.canvas.width,this.context.canvas.height,bx))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,uh(this.context),bx.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,n);const s=this.context,a=this.replayGroup_;let o=a&&!a.isEmpty();if(!o&&!(this.getLayer().hasListener(Or.PRERENDER)||this.getLayer().hasListener(Or.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(s,e),r.projection,this.clipped_=!1,o&&i.extent&&this.clipping){const l=Js(i.extent);o=An(l,e.extent),this.clipped_=o&&!Zs(l,e.extent),this.clipped_&&this.clipUnrotated(s,e,l)}return o&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,u=this.getLayer(),c=[],h=i[0]*_r,m=i[1]*_r;c.push(this.getRenderTransform(r,s,a,_r,h,m,0).slice());const g=u.getSource(),y=o.getExtent();if(g.getWrapX()&&o.canWrapX()&&!Zs(y,l)){let b=l[0];const w=Bt(y);let E=0,x;for(;b<y[0];)--E,x=w*E,c.push(this.getRenderTransform(r,s,a,_r,h,m,x).slice()),b+=w;for(E=0,b=l[2];b>y[2];)++E,x=w*E,c.push(this.getRenderTransform(r,s,a,_r,h,m,x).slice()),b-=w}this.hitDetectionImageData_=F2(i,c,this.renderedFeatures_,u.getStyleFunction(),l,s,a,h_(s,this.renderedPixelRatio_),null)}n(N2(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,i,r,s){if(!this.replayGroup_)return;const a=n.viewState.resolution,o=n.viewState.rotation,l=this.getLayer(),u={},c=function(y,b,w){const E=bt(y),x=u[E];if(x){if(x!==!0&&w<x.distanceSq){if(w===0)return u[E]=!0,s.splice(s.lastIndexOf(x),1),r(y,l,b);x.geometry=b,x.distanceSq=w}}else{if(w===0)return u[E]=!0,r(y,l,b);s.push(u[E]={feature:y,layer:l,geometry:b,distanceSq:w,callback:r})}};let h;const m=[this.replayGroup_],g=this.getLayer().getDeclutter();return m.some(y=>h=y.forEachFeatureAtCoordinate(e,a,o,i,c,g&&n.declutter[g]?n.declutter[g].all().map(b=>b.value):null)),h}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const r=e.viewHints[cn.ANIMATING],s=e.viewHints[cn.INTERACTING],a=n.getUpdateWhileAnimating(),o=n.getUpdateWhileInteracting();if(this.ready&&!a&&r||!o&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,u=e.viewState,c=u.projection,h=u.resolution,m=e.pixelRatio,g=n.getRevision(),y=n.getRenderBuffer();let b=n.getRenderOrder();b===void 0&&(b=pV);const w=u.center.slice(),E=no(l,y*h),x=E.slice(),_=[E.slice()],T=c.getExtent();if(i.getWrapX()&&c.canWrapX()&&!Zs(T,e.extent)){const W=Bt(T),F=Math.max(Bt(E)/2,W);E[0]=T[0]-F,E[2]=T[2]+F,h1(w,c);const B=XI(_[0],c);B[0]<T[0]&&B[2]<T[2]?_.push([B[0]+W,B[1],B[2]+W,B[3]]):B[0]>T[0]&&B[2]>T[2]&&_.push([B[0]-W,B[1],B[2]-W,B[3]])}if(this.ready&&this.renderedResolution_==h&&this.renderedRevision_==g&&this.renderedRenderOrder_==b&&this.renderedFrameDeclutter_===!!e.declutter&&Zs(this.wrappedRenderedExtent_,E))return wo(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=w,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const C=new D2(j2(h,m),E,h,m);let k;for(let W=0,F=_.length;W<F;++W)i.loadFeatures(_[W],h,c);const A=h_(h,m);let L=!0;const R=(W,F)=>{let B;const N=W.getStyleFunction()||n.getStyleFunction();if(N&&(B=N(W,h)),B){const Q=this.renderFeature(W,A,B,C,k,this.getLayer().getDeclutter(),F);L=L&&!Q}},j=m1(E),U=i.getFeaturesInExtent(j);b&&U.sort(b);for(let W=0,F=U.length;W<F;++W)R(U[W],W);this.renderedFeatures_=U,this.ready=L;const G=C.finish(),ne=new L2(E,h,m,i.getOverlaps(),G,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=h,this.renderedRevision_=g,this.renderedRenderOrder_=b,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=x,this.wrappedRenderedExtent_=E,this.renderedCenter_=w,this.renderedProjection_=c,this.renderedPixelRatio_=m,this.replayGroup_=ne,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,i,r,s,a,o){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let u=0,c=i.length;u<c;++u)l=Pp(r,e,i[u],n,this.boundHandleStyleImageChange_,s,a,o)||l;else l=Pp(r,e,i,n,this.boundHandleStyleImageChange_,s,a,o);return l}}class xV extends bj{constructor(e,n,i,r,s){const a=s!==void 0?it.IDLE:it.LOADED;super(e,n,i,a),this.loader_=s!==void 0?s:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=it.ERROR):this.state=it.LOADED,this.changed()}load(){this.state==it.IDLE&&(this.state=it.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}function CV(t){return Array.isArray(t)?Math.min(...t):t}class SV extends eV{constructor(e){super(e),this.vectorRenderer_=new V2(e),this.layerImageRatio_=e.getImageRatio(),this.coordinateToVectorPixelTransform_=br(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(e){if(!this.vectorRenderer_)return Promise.resolve([]);const n=jn(this.coordinateToVectorPixelTransform_,jn(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(n)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(e){const n=e.pixelRatio,i=e.viewState,r=i.resolution,s=e.viewHints,a=this.vectorRenderer_;let o=e.extent;this.layerImageRatio_!==1&&(o=o.slice(0),Uj(o,this.layerImageRatio_));const l=Bt(o)/r,u=gi(o)/r;if(!s[cn.ANIMATING]&&!s[cn.INTERACTING]&&!Ll(o)){a.useContainer(null,null);const c=a.context,h=e.layerStatesArray[e.layerIndex],m=Object.assign({},h,{opacity:1}),g=Object.assign({},e,{extent:o,size:[l,u],viewState:Object.assign({},e.viewState,{rotation:0}),layerStatesArray:[m],layerIndex:0,declutter:null}),y=this.getLayer().getDeclutter();y&&(g.declutter={[y]:new P1(9)});let b=!0;const w=new xV(o,r,n,c.canvas,function(E){a.prepareFrame(g)&&a.replayGroupChanged&&(a.clipping=!1,a.renderFrame(g,null)&&(a.renderDeclutter(g),a.renderDeferred(g),b=!1),E())});w.addEventListener(lt.CHANGE,()=>{if(w.getState()!==it.LOADED)return;this.image_=b?null:w;const E=w.getPixelRatio(),x=CV(w.getResolution())*n/E;this.renderedResolution=x,this.coordinateToVectorPixelTransform_=ts(this.coordinateToVectorPixelTransform_,l/2,u/2,1/x,-1/x,0,-i.center[0],-i.center[1])}),w.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(e,n,i,r,s){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r,s):super.forEachFeatureAtCoordinate(e,n,i,r,s)}}class G2 extends Bm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.imageRatio,super(n),this.imageRatio_=e.imageRatio!==void 0?e.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new SV(this)}}const nr={ADD:"add",REMOVE:"remove"},Cx={LENGTH:"length"};class Sf extends ha{constructor(e,n,i){super(e),this.element=n,this.index=i}}class _s extends rs{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Cx.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Sf(nr.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Sf(nr.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const r=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Sf(nr.REMOVE,r,e)),this.dispatchEvent(new Sf(nr.ADD,n,e))}updateLength_(){this.set(Cx.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}class Sx{constructor(e){this.rbush_=new P1(e),this.items_={}}insert(e,n){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(i),this.items_[bt(n)]=i}load(e,n){const i=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const a=e[r],o=n[r],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};i[r]=l,this.items_[bt(o)]=l}this.rbush_.load(i)}remove(e){const n=bt(e),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(e,n){const i=this.items_[bt(n)],r=[i.minX,i.minY,i.maxX,i.maxY];Ju(r,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let i;for(let r=0,s=e.length;r<s;r++)if(i=n(e[r]),i)return i;return i}isEmpty(){return ho(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return oa(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class z2 extends rs{constructor(e){super(),this.projection=En(e.projection),this.attributions_=kx(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=kx(e),this.changed()}setState(e){this.state_=e,this.changed()}}function kx(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const Rr={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function kV(t,e){return[[-1/0,-1/0,1/0,1/0]]}let RV=!1;function U2(t,e,n,i,r,s,a){const o=new XMLHttpRequest;o.open("GET",typeof t=="function"?t(n,i,r):t,!0),e.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=RV,o.onload=function(l){if(!o.status||o.status>=200&&o.status<300){const u=e.getType();try{let c;u=="text"||u=="json"?c=o.responseText:u=="xml"?c=o.responseXML||o.responseText:u=="arraybuffer"&&(c=o.response),c?s(e.readFeatures(c,{extent:n,featureProjection:r}),e.readProjection(c)):a()}catch{a()}}else a()},o.onerror=a,o.send()}function Rx(t,e){return function(n,i,r,s,a){const o=this;U2(t,e,n,i,r,function(l,u){o.addFeatures(l),s!==void 0&&s(l)},a||Ku)}}class Oa extends ha{constructor(e,n,i){super(e),this.feature=n,this.features=i}}class N1 extends z2{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ku,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Lt(this.format_,"`format` must be set when `url` is set"),this.loader_=Rx(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:kV;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new Sx:null,this.loadedExtentsRtree_=new Sx,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!n&&i===void 0&&(i=new _s(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=bt(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new Oa(Rr.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof Ci||(this.featureChangeKeys_[e]=[Mt(n,lt.CHANGE,this.handleFeatureChange_,this),Mt(n,qu.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let i=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof Ci){const s=this.idIndex_[r];s instanceof Ci?Array.isArray(s)?s.push(n):this.idIndex_[r]=[s,n]:i=!1}else i=!1}return i&&(Lt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],i=[],r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s],l=bt(o);this.addToIndex_(l,o)&&i.push(o)}for(let s=0,a=i.length;s<a;s++){const o=i[s],l=bt(o);this.setupChangeEvents_(l,o);const u=o.getGeometry();if(u){const c=u.getExtent();n.push(c),r.push(o)}else this.nullGeometryFeatures_[l]=o}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(Rr.ADDFEATURE))for(let s=0,a=i.length;s<a;s++)this.dispatchEvent(new Oa(Rr.ADDFEATURE,i[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(Rr.ADDFEATURE,function(i){n||(n=!0,e.push(i.feature),n=!1)}),this.addEventListener(Rr.REMOVEFEATURE,function(i){n||(n=!0,e.remove(i.feature),n=!1)}),e.addEventListener(nr.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),e.addEventListener(nr.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(sn);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=r=>{this.removeFeatureInternal(r)};this.featuresRtree_.forEach(i);for(const r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new Oa(Rr.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const s=r.getGeometry();if(s instanceof Ci||s.intersectsCoordinate(e))return n(r)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof Ci||r.intersectsExtent(e)){const s=n(i);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),ho(this.nullGeometryFeatures_)||Es(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){n.push(i)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=ZI(e,n);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const i=e[0],r=e[1];let s=null;const a=[NaN,NaN];let o=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||Ad,this.featuresRtree_.forEachInExtent(l,function(u){if(n(u)){const c=u.getGeometry(),h=o;if(o=c instanceof Ci?0:c.closestPointXY(i,r,a,o),o<h){s=u;const m=Math.sqrt(o);l[0]=i-m,l[1]=r-m,l[2]=i+m,l[3]=r+m}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,i=bt(n),r=n.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{const a=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}const s=n.getId();if(s!==void 0){const a=s.toString();this.idIndex_[a]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[a]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new Oa(Rr.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:bt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&ho(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,i){const r=this.loadedExtentsRtree_,s=this.strategy_(e,n,i);for(let a=0,o=s.length;a<o;++a){const l=s[a];r.forEachInExtent(l,function(c){return Zs(c.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Oa(Rr.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,c=>{--this.loadingExtentsCount_,this.dispatchEvent(new Oa(Rr.FEATURESLOADEND,void 0,c))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Oa(Rr.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let i;n.forEachInExtent(e,function(r){if(Ju(r.extent,e))return i=r,!0}),i&&n.remove(i)}removeFeatures(e){const n=[];for(let i=0,r=e.length;i<r;++i){const s=e[i],a=this.removeFeatureInternal(s);a&&n.push(a)}n.length>0&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=bt(e);if(!(n in this.uidIndex_))return;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[n]?.forEach(sn),delete this.featureChangeKeys_[n];const r=e.getId();if(r!==void 0){const s=r.toString(),a=this.idIndex_[s];a===e?delete this.idIndex_[s]:Array.isArray(a)&&(a.splice(a.indexOf(e),1),a.length===1&&(this.idIndex_[s]=a[0]))}return delete this.uidIndex_[n],this.hasListener(Rr.REMOVEFEATURE)&&this.dispatchEvent(new Oa(Rr.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const i in this.idIndex_){const r=this.idIndex_[i];if(e instanceof Ci&&Array.isArray(r)&&r.includes(e))r.splice(r.indexOf(e),1);else if(this.idIndex_[i]===e){delete this.idIndex_[i],n=!0;break}}return n}setLoader(e){this.loader_=e}setUrl(e){Lt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Rx(e,this.format_))}}function H2(t,e){return function(){return t.apply(e,arguments)}}var IV={};const{toString:AV}=Object.prototype,{getPrototypeOf:$1}=Object,Vm=(t=>e=>{const n=AV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ss=t=>(t=t.toLowerCase(),e=>Vm(e)===t),Gm=t=>e=>typeof e===t,{isArray:fc}=Array,Hd=Gm("undefined");function MV(t){return t!==null&&!Hd(t)&&t.constructor!==null&&!Hd(t.constructor)&&wr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Y2=ss("ArrayBuffer");function OV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Y2(t.buffer),e}const PV=Gm("string"),wr=Gm("function"),W2=Gm("number"),zm=t=>t!==null&&typeof t=="object",DV=t=>t===!0||t===!1,Hf=t=>{if(Vm(t)!=="object")return!1;const e=$1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},LV=ss("Date"),FV=ss("File"),NV=ss("Blob"),$V=ss("FileList"),jV=t=>zm(t)&&wr(t.pipe),BV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||wr(t.append)&&((e=Vm(t))==="formdata"||e==="object"&&wr(t.toString)&&t.toString()==="[object FormData]"))},VV=ss("URLSearchParams"),[GV,zV,UV,HV]=["ReadableStream","Request","Response","Headers"].map(ss),YV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),fc(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(i=0;i<a;i++)o=s[i],e.call(null,t[o],o,t)}}function K2(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const sl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:IV,q2=t=>!Hd(t)&&t!==sl;function f_(){const{caseless:t}=q2(this)&&this||{},e={},n=(i,r)=>{const s=t&&K2(e,r)||r;Hf(e[s])&&Hf(i)?e[s]=f_(e[s],i):Hf(i)?e[s]=f_({},i):fc(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&wh(arguments[i],n);return e}const WV=(t,e,n,{allOwnKeys:i}={})=>(wh(e,(r,s)=>{n&&wr(r)?t[s]=H2(r,n):t[s]=r},{allOwnKeys:i}),t),KV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),qV=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},XV=(t,e,n,i)=>{let r,s,a;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)a=r[s],(!i||i(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&$1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ZV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},JV=t=>{if(!t)return null;if(fc(t))return t;let e=t.length;if(!W2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},QV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&$1(Uint8Array)),eG=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},tG=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},nG=ss("HTMLFormElement"),iG=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Ix=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),rG=ss("RegExp"),X2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};wh(n,(r,s)=>{let a;(a=e(r,s,t))!==!1&&(i[s]=a||r)}),Object.defineProperties(t,i)},sG=t=>{X2(t,(e,n)=>{if(wr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(wr(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},aG=(t,e)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return fc(t)?i(t):i(String(t).split(e)),n},oG=()=>{},lG=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,V0="abcdefghijklmnopqrstuvwxyz",Ax="0123456789",Z2={DIGIT:Ax,ALPHA:V0,ALPHA_DIGIT:V0+V0.toUpperCase()+Ax},uG=(t=16,e=Z2.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function cG(t){return!!(t&&wr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const dG=t=>{const e=new Array(10),n=(i,r)=>{if(zm(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=fc(i)?[]:{};return wh(i,(a,o)=>{const l=n(a,r+1);!Hd(l)&&(s[o]=l)}),e[r]=void 0,s}}return i};return n(t,0)},hG=ss("AsyncFunction"),fG=t=>t&&(zm(t)||wr(t))&&wr(t.then)&&wr(t.catch),J2=((t,e)=>t?setImmediate:e?((n,i)=>(sl.addEventListener("message",({source:r,data:s})=>{r===sl&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),sl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",wr(sl.postMessage)),pG=typeof queueMicrotask<"u"?queueMicrotask.bind(sl):typeof process<"u"&&process.nextTick||J2,ve={isArray:fc,isArrayBuffer:Y2,isBuffer:MV,isFormData:BV,isArrayBufferView:OV,isString:PV,isNumber:W2,isBoolean:DV,isObject:zm,isPlainObject:Hf,isReadableStream:GV,isRequest:zV,isResponse:UV,isHeaders:HV,isUndefined:Hd,isDate:LV,isFile:FV,isBlob:NV,isRegExp:rG,isFunction:wr,isStream:jV,isURLSearchParams:VV,isTypedArray:QV,isFileList:$V,forEach:wh,merge:f_,extend:WV,trim:YV,stripBOM:KV,inherits:qV,toFlatObject:XV,kindOf:Vm,kindOfTest:ss,endsWith:ZV,toArray:JV,forEachEntry:eG,matchAll:tG,isHTMLForm:nG,hasOwnProperty:Ix,hasOwnProp:Ix,reduceDescriptors:X2,freezeMethods:sG,toObjectSet:aG,toCamelCase:iG,noop:oG,toFiniteNumber:lG,findKey:K2,global:sl,isContextDefined:q2,ALPHABET:Z2,generateString:uG,isSpecCompliantForm:cG,toJSONObject:dG,isAsyncFn:hG,isThenable:fG,setImmediate:J2,asap:pG};function Et(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}ve.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Q2=Et.prototype,eA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{eA[t]={value:t}});Object.defineProperties(Et,eA);Object.defineProperty(Q2,"isAxiosError",{value:!0});Et.from=(t,e,n,i,r,s)=>{const a=Object.create(Q2);return ve.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Et.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const mG=null;function p_(t){return ve.isPlainObject(t)||ve.isArray(t)}function tA(t){return ve.endsWith(t,"[]")?t.slice(0,-2):t}function Mx(t,e,n){return t?t.concat(e).map(function(r,s){return r=tA(r),!n&&s?"["+r+"]":r}).join(n?".":""):e}function gG(t){return ve.isArray(t)&&!t.some(p_)}const yG=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function Um(t,e,n){if(!ve.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!ve.isUndefined(w[b])});const i=n.metaTokens,r=n.visitor||c,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(r))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ve.isDate(y))return y.toISOString();if(!l&&ve.isBlob(y))throw new Et("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(y)||ve.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function c(y,b,w){let E=y;if(y&&!w&&typeof y=="object"){if(ve.endsWith(b,"{}"))b=i?b:b.slice(0,-2),y=JSON.stringify(y);else if(ve.isArray(y)&&gG(y)||(ve.isFileList(y)||ve.endsWith(b,"[]"))&&(E=ve.toArray(y)))return b=tA(b),E.forEach(function(_,T){!(ve.isUndefined(_)||_===null)&&e.append(a===!0?Mx([b],T,s):a===null?b:b+"[]",u(_))}),!1}return p_(y)?!0:(e.append(Mx(w,b,s),u(y)),!1)}const h=[],m=Object.assign(yG,{defaultVisitor:c,convertValue:u,isVisitable:p_});function g(y,b){if(!ve.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(y),ve.forEach(y,function(E,x){(!(ve.isUndefined(E)||E===null)&&r.call(e,E,ve.isString(x)?x.trim():x,b,m))===!0&&g(E,b?b.concat(x):[x])}),h.pop()}}if(!ve.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Ox(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function j1(t,e){this._pairs=[],t&&Um(t,this,e)}const nA=j1.prototype;nA.append=function(e,n){this._pairs.push([e,n])};nA.toString=function(e){const n=e?function(i){return e.call(this,i,Ox)}:Ox;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function _G(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iA(t,e,n){if(!e)return t;const i=n&&n.encode||_G,r=n&&n.serialize;let s;if(r?s=r(e,n):s=ve.isURLSearchParams(e)?e.toString():new j1(e,n).toString(i),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Px{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(i){i!==null&&e(i)})}}const rA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vG=typeof URLSearchParams<"u"?URLSearchParams:j1,bG=typeof FormData<"u"?FormData:null,wG=typeof Blob<"u"?Blob:null,EG={isBrowser:!0,classes:{URLSearchParams:vG,FormData:bG,Blob:wG},protocols:["http","https","file","blob","url","data"]},B1=typeof window<"u"&&typeof document<"u",TG=(t=>B1&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),xG=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",CG=B1&&window.location.href||"http://localhost",SG=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:B1,hasStandardBrowserEnv:TG,hasStandardBrowserWebWorkerEnv:xG,origin:CG},Symbol.toStringTag,{value:"Module"})),Zr={...SG,...EG};function kG(t,e){return Um(t,new Zr.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return Zr.isNode&&ve.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function RG(t){return ve.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function IG(t){const e={},n=Object.keys(t);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],e[s]=t[s];return e}function sA(t){function e(n,i,r,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&ve.isArray(r)?r.length:a,l?(ve.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!o):((!r[a]||!ve.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],s)&&ve.isArray(r[a])&&(r[a]=IG(r[a])),!o)}if(ve.isFormData(t)&&ve.isFunction(t.entries)){const n={};return ve.forEachEntry(t,(i,r)=>{e(RG(i),r,n,0)}),n}return null}function AG(t,e,n){if(ve.isString(t))try{return(e||JSON.parse)(t),ve.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Eh={transitional:rA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=ve.isObject(e);if(s&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return r?JSON.stringify(sA(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return kG(e,this.formSerializer).toString();if((o=ve.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Um(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),AG(e)):e}],transformResponse:[function(e){const n=this.transitional||Eh.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Et.from(o,Et.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],t=>{Eh.headers[t]={}});const MG=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OG=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&MG[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Dx=Symbol("internals");function Uc(t){return t&&String(t).trim().toLowerCase()}function Yf(t){return t===!1||t==null?t:ve.isArray(t)?t.map(Yf):String(t)}function PG(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const DG=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function G0(t,e,n,i,r){if(ve.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!ve.isString(e)){if(ve.isString(i))return e.indexOf(i)!==-1;if(ve.isRegExp(i))return i.test(e)}}function LG(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function FG(t,e){const n=ve.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,s,a){return this[i].call(this,e,r,s,a)},configurable:!0})})}class lr{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function s(o,l,u){const c=Uc(l);if(!c)throw new Error("header name must be a non-empty string");const h=ve.findKey(r,c);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||l]=Yf(o))}const a=(o,l)=>ve.forEach(o,(u,c)=>s(u,c,l));if(ve.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(ve.isString(e)&&(e=e.trim())&&!DG(e))a(OG(e),n);else if(ve.isHeaders(e))for(const[o,l]of e.entries())s(l,o,i);else e!=null&&s(n,e,i);return this}get(e,n){if(e=Uc(e),e){const i=ve.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return PG(r);if(ve.isFunction(n))return n.call(this,r,i);if(ve.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Uc(e),e){const i=ve.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||G0(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function s(a){if(a=Uc(a),a){const o=ve.findKey(i,a);o&&(!n||G0(i,i[o],o,n))&&(delete i[o],r=!0)}}return ve.isArray(e)?e.forEach(s):s(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!e||G0(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const n=this,i={};return ve.forEach(this,(r,s)=>{const a=ve.findKey(i,s);if(a){n[a]=Yf(r),delete n[s];return}const o=e?LG(s):String(s).trim();o!==s&&delete n[s],n[o]=Yf(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ve.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&ve.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Dx]=this[Dx]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=Uc(a);i[o]||(FG(r,a),i[o]=!0)}return ve.isArray(e)?e.forEach(s):s(e),this}}lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(lr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});ve.freezeMethods(lr);function z0(t,e){const n=this||Eh,i=e||n,r=lr.from(i.headers);let s=i.data;return ve.forEach(t,function(o){s=o.call(n,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function aA(t){return!!(t&&t.__CANCEL__)}function pc(t,e,n){Et.call(this,t??"canceled",Et.ERR_CANCELED,e,n),this.name="CanceledError"}ve.inherits(pc,Et,{__CANCEL__:!0});function oA(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Et("Request failed with status code "+n.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NG(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $G(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[s];a||(a=u),n[r]=l,i[r]=u;let h=s,m=0;for(;h!==r;)m+=n[h++],h=h%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),u-a<e)return;const g=c&&u-c;return g?Math.round(m*1e3/g):void 0}}function jG(t,e){let n=0,i=1e3/e,r,s;const a=(u,c=Date.now())=>{n=c,r=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),h=c-n;h>=i?a(u,c):(r=u,s||(s=setTimeout(()=>{s=null,a(r)},i-h)))},()=>r&&a(r)]}const Dp=(t,e,n=3)=>{let i=0;const r=$G(50,250);return jG(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-i,u=r(l),c=a<=o;i=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},Lx=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Fx=t=>(...e)=>ve.asap(()=>t(...e)),BG=Zr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(a){const o=ve.isString(a)?r(a):a;return o.protocol===i.protocol&&o.host===i.host}}():function(){return function(){return!0}}(),VG=Zr.hasStandardBrowserEnv?{write(t,e,n,i,r,s){const a=[t+"="+encodeURIComponent(e)];ve.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ve.isString(i)&&a.push("path="+i),ve.isString(r)&&a.push("domain="+r),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function GG(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zG(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lA(t,e){return t&&!GG(e)?zG(t,e):e}const Nx=t=>t instanceof lr?{...t}:t;function Al(t,e){e=e||{};const n={};function i(u,c,h){return ve.isPlainObject(u)&&ve.isPlainObject(c)?ve.merge.call({caseless:h},u,c):ve.isPlainObject(c)?ve.merge({},c):ve.isArray(c)?c.slice():c}function r(u,c,h){if(ve.isUndefined(c)){if(!ve.isUndefined(u))return i(void 0,u,h)}else return i(u,c,h)}function s(u,c){if(!ve.isUndefined(c))return i(void 0,c)}function a(u,c){if(ve.isUndefined(c)){if(!ve.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function o(u,c,h){if(h in e)return i(u,c);if(h in t)return i(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c)=>r(Nx(u),Nx(c),!0)};return ve.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||r,m=h(t[c],e[c],c);ve.isUndefined(m)&&h!==o||(n[c]=m)}),n}const uA=t=>{const e=Al({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=lr.from(a),e.url=iA(lA(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ve.isFormData(n)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Zr.hasStandardBrowserEnv&&(i&&ve.isFunction(i)&&(i=i(e)),i||i!==!1&&BG(e.url))){const u=r&&s&&VG.read(s);u&&a.set(r,u)}return e},UG=typeof XMLHttpRequest<"u",HG=UG&&function(t){return new Promise(function(n,i){const r=uA(t);let s=r.data;const a=lr.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=r,c,h,m,g,y;function b(){g&&g(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function E(){if(!w)return;const _=lr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:_,config:t,request:w};oA(function(A){n(A),b()},function(A){i(A),b()},C),w=null}"onloadend"in w?w.onloadend=E:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(E)},w.onabort=function(){w&&(i(new Et("Request aborted",Et.ECONNABORTED,t,w)),w=null)},w.onerror=function(){i(new Et("Network Error",Et.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let T=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const C=r.transitional||rA;r.timeoutErrorMessage&&(T=r.timeoutErrorMessage),i(new Et(T,C.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,t,w)),w=null},s===void 0&&a.setContentType(null),"setRequestHeader"in w&&ve.forEach(a.toJSON(),function(T,C){w.setRequestHeader(C,T)}),ve.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),o&&o!=="json"&&(w.responseType=r.responseType),u&&([m,y]=Dp(u,!0),w.addEventListener("progress",m)),l&&w.upload&&([h,g]=Dp(l),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(c=_=>{w&&(i(!_||_.type?new pc(null,t,w):_),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const x=NG(r.url);if(x&&Zr.protocols.indexOf(x)===-1){i(new Et("Unsupported protocol "+x+":",Et.ERR_BAD_REQUEST,t));return}w.send(s||null)})},YG=(t,e)=>{let n=new AbortController,i;const r=function(l){if(!i){i=!0,a();const u=l instanceof Error?l:this.reason;n.abort(u instanceof Et?u:new pc(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{r(new Et(`timeout ${e} of ms exceeded`,Et.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",r):l.unsubscribe(r))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",r));const{signal:o}=n;return o.unsubscribe=a,[o,()=>{s&&clearTimeout(s),s=null}]},WG=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},KG=async function*(t,e,n){for await(const i of t)yield*WG(ArrayBuffer.isView(i)?i:await n(String(i)),e)},$x=(t,e,n,i,r)=>{const s=KG(t,e,r);let a=0,o,l=u=>{o||(o=!0,i&&i(u))};return new ReadableStream({async pull(u){try{const{done:c,value:h}=await s.next();if(c){l(),u.close();return}let m=h.byteLength;if(n){let g=a+=m;n(g)}u.enqueue(new Uint8Array(h))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Hm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cA=Hm&&typeof ReadableStream=="function",m_=Hm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),dA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},qG=cA&&dA(()=>{let t=!1;const e=new Request(Zr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),jx=64*1024,g_=cA&&dA(()=>ve.isReadableStream(new Response("").body)),Lp={stream:g_&&(t=>t.body)};Hm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lp[e]&&(Lp[e]=ve.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Et(`Response type '${e}' is not supported`,Et.ERR_NOT_SUPPORT,i)})})})(new Response);const XG=async t=>{if(t==null)return 0;if(ve.isBlob(t))return t.size;if(ve.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(ve.isArrayBufferView(t)||ve.isArrayBuffer(t))return t.byteLength;if(ve.isURLSearchParams(t)&&(t=t+""),ve.isString(t))return(await m_(t)).byteLength},ZG=async(t,e)=>{const n=ve.toFiniteNumber(t.getContentLength());return n??XG(e)},JG=Hm&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:m}=uA(t);u=u?(u+"").toLowerCase():"text";let[g,y]=r||s||a?YG([r,s],a):[],b,w;const E=()=>{!b&&setTimeout(()=>{g&&g.unsubscribe()}),b=!0};let x;try{if(l&&qG&&n!=="get"&&n!=="head"&&(x=await ZG(c,i))!==0){let k=new Request(e,{method:"POST",body:i,duplex:"half"}),A;if(ve.isFormData(i)&&(A=k.headers.get("content-type"))&&c.setContentType(A),k.body){const[L,R]=Lx(x,Dp(Fx(l)));i=$x(k.body,jx,L,R,m_)}}ve.isString(h)||(h=h?"include":"omit"),w=new Request(e,{...m,signal:g,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",credentials:h});let _=await fetch(w);const T=g_&&(u==="stream"||u==="response");if(g_&&(o||T)){const k={};["status","statusText","headers"].forEach(j=>{k[j]=_[j]});const A=ve.toFiniteNumber(_.headers.get("content-length")),[L,R]=o&&Lx(A,Dp(Fx(o),!0))||[];_=new Response($x(_.body,jx,L,()=>{R&&R(),T&&E()},m_),k)}u=u||"text";let C=await Lp[ve.findKey(Lp,u)||"text"](_,t);return!T&&E(),y&&y(),await new Promise((k,A)=>{oA(k,A,{data:C,headers:lr.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:w})})}catch(_){throw E(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,t,w),{cause:_.cause||_}):Et.from(_,_&&_.code,t,w)}}),y_={http:mG,xhr:HG,fetch:JG};ve.forEach(y_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Bx=t=>`- ${t}`,QG=t=>ve.isFunction(t)||t===null||t===!1,hA={getAdapter:t=>{t=ve.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let s=0;s<e;s++){n=t[s];let a;if(i=n,!QG(n)&&(i=y_[(a=String(n)).toLowerCase()],i===void 0))throw new Et(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+s]=i}if(!i){const s=Object.entries(r).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Bx).join(`
`):" "+Bx(s[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:y_};function U0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pc(null,t)}function Vx(t){return U0(t),t.headers=lr.from(t.headers),t.data=z0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hA.getAdapter(t.adapter||Eh.adapter)(t).then(function(i){return U0(t),i.data=z0.call(t,t.transformResponse,i),i.headers=lr.from(i.headers),i},function(i){return aA(i)||(U0(t),i&&i.response&&(i.response.data=z0.call(t,t.transformResponse,i.response),i.response.headers=lr.from(i.response.headers))),Promise.reject(i)})}const fA="1.7.4",V1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{V1[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Gx={};V1.transitional=function(e,n,i){function r(s,a){return"[Axios v"+fA+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(e===!1)throw new Et(r(a," has been removed"+(n?" in "+n:"")),Et.ERR_DEPRECATED);return n&&!Gx[a]&&(Gx[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};function e6(t,e,n){if(typeof t!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const s=i[r],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Et("option "+s+" must be "+l,Et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Et("Unknown option "+s,Et.ERR_BAD_OPTION)}}const __={assertOptions:e6,validators:V1},Pa=__.validators;class gl{constructor(e){this.defaults=e,this.interceptors={request:new Px,response:new Px}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Al(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&__.assertOptions(i,{silentJSONParsing:Pa.transitional(Pa.boolean),forcedJSONParsing:Pa.transitional(Pa.boolean),clarifyTimeoutError:Pa.transitional(Pa.boolean)},!1),r!=null&&(ve.isFunction(r)?n.paramsSerializer={serialize:r}:__.assertOptions(r,{encode:Pa.function,serialize:Pa.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&ve.merge(s.common,s[n.method]);s&&ve.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=lr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let c,h=0,m;if(!l){const y=[Vx.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,u),m=y.length,c=Promise.resolve(n);h<m;)c=c.then(y[h++],y[h++]);return c}m=o.length;let g=n;for(h=0;h<m;){const y=o[h++],b=o[h++];try{g=y(g)}catch(w){b.call(this,w);break}}try{c=Vx.call(this,g)}catch(y){return Promise.reject(y)}for(h=0,m=u.length;h<m;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=Al(this.defaults,e);const n=lA(e.baseURL,e.url);return iA(n,e.params,e.paramsSerializer)}}ve.forEach(["delete","get","head","options"],function(e){gl.prototype[e]=function(n,i){return this.request(Al(i||{},{method:e,url:n,data:(i||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function n(i){return function(s,a,o){return this.request(Al(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}gl.prototype[e]=n(),gl.prototype[e+"Form"]=n(!0)});class G1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},e(function(s,a,o){i.reason||(i.reason=new pc(s,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new G1(function(r){e=r}),cancel:e}}}function t6(t){return function(n){return t.apply(null,n)}}function n6(t){return ve.isObject(t)&&t.isAxiosError===!0}const v_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(v_).forEach(([t,e])=>{v_[e]=t});function pA(t){const e=new gl(t),n=H2(gl.prototype.request,e);return ve.extend(n,gl.prototype,e,{allOwnKeys:!0}),ve.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return pA(Al(t,r))},n}const qn=pA(Eh);qn.Axios=gl;qn.CanceledError=pc;qn.CancelToken=G1;qn.isCancel=aA;qn.VERSION=fA;qn.toFormData=Um;qn.AxiosError=Et;qn.Cancel=qn.CanceledError;qn.all=function(e){return Promise.all(e)};qn.spread=t6;qn.isAxiosError=n6;qn.mergeConfig=Al;qn.AxiosHeaders=lr;qn.formToJSON=t=>sA(ve.isHTMLForm(t)?new FormData(t):t);qn.getAdapter=hA.getAdapter;qn.HttpStatusCode=v_;qn.default=qn;const al={async get(t){return await qn.get(t)}},i6={async queryAvailableDatasets(){let e=(await al.get("data/dose_rates/metadata.json")).data.available_data;return e.forEach(n=>{n.date=new Date(n.date),n.times.sort()}),e.sort((n,i)=>new Date(n.date)-new Date(i.date)),e},async getDataset(t){return(await al.get(t)).data},async getTimeSeries(t,e){const n=e.toISOString().split("T")[0],i="data/dose_rates/time_series/"+t+"/"+n+".json";return(await al.get(i)).data.data}},b_={async getDataset(t){return(await al.get(t)).data},async getTimeSeries(t,e,n){const i=[],r=new Date(n),s=24*60*60*1e3,a=new Date(r.getTime()-30*s),o=`data/air_radionuclides/time_series/${t}/${e}/available_filenames.json`;try{const u=(await al.get(o)).data;for(const c of u){const h=c.replace(".json","").split("TO");if(h.length===2){const m=new Date(h[0]),g=new Date(h[1]);if(m<=r&&m>=a||g<=r&&g>=a||m<=a&&g>=r){const y=`data/air_radionuclides/time_series/${t}/${e}/${c}`;try{const b=await al.get(y);b.data&&b.data.data&&i.push(...b.data.data)}catch{console.log(`Data not found for file ${c}`)}}}}}catch(l){console.error(`Error fetching available files: ${l}`)}return i},async getAvailableRadionuclides(t){const e=`/data/air_radionuclides/time_series/${t}/available_radionuclides.json`;try{const n=await al.get(e);return n&&n.data&&Array.isArray(n.data)?n.data:(console.error("Invalid response format for available radionuclides:",n),[])}catch(n){return console.error(`Error fetching available radionuclides for site ${t}:`,n),[]}}},Ym={doseRate:i6,airRadionuclide:b_};var z1={exports:{}};function U1(){}U1.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function r(){i.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var s=0,a=i.length;s<a;s++)i[s].fn!==e&&i[s].fn._!==e&&r.push(i[s]);return r.length?n[t]=r:delete n[t],this}};z1.exports=U1;z1.exports.TinyEmitter=U1;var r6=z1.exports,s6=r6,a6=new s6;const kf=Hp(a6),mt={$on:(...t)=>kf.on(...t),$once:(...t)=>kf.once(...t),$off:(...t)=>kf.off(...t),$emit:(...t)=>kf.emit(...t)},o6={name:"DoseRateLayer",emits:["doseRateLayerChanged"],data(){return{vectorLayer:new G2({source:new N1({format:new S1({defaultDataProjection:"EPSG:4326"})}),renderMode:"vector",preload:20,renderBuffer:20,renderOrder:function(t,e){return t.get("doseRate")<e.get("doseRate")?-1:1},style:t=>{let e="#0000";const n=t.get("doseRate"),i=this.$store.state.settings.settings.mapLegend.bars;for(let s=0;s<i.length;++s){const a=i[s].threshold,o=i[s+1]?i[s+1].threshold:1e9;if(n>=a&&n<o)if(i[s].isEnabled){e=i[s].color;break}else return}return[new Ts({image:new Pl({radius:this.featureRadius,fill:new To({color:e})})})]}})}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRateMode(){return this.mode==="dose_rates"},datasetFilePath(){return!this.isDoseRateMode||!this.$store.state.datetime.selectedDate?"":"data/dose_rates/datasets/"+this.$store.state.datetime.selectedDate.toISOString().split("T")[0]+"T"+this.$store.state.datetime.selectedTime+".json"},doseRateRanges(){return this.$store.state.settings.settings.mapLegend.bars}},watch:{datasetFilePath:async function(){if(!this.isDoseRateMode)return"";try{this.$Progress.start();const e=(await Ym.doseRate.getDataset(this.datasetFilePath)).features.map(n=>new cc({geometry:new la(Am(n.geometry.coordinates,"EPSG:4326","EPSG:3857")),id:n.properties.id,site:n.properties.site,doseRate:n.properties.doseRate}));this.vectorLayer.getSource().clear(!0),this.vectorLayer.getSource().addFeatures(e),mt.$emit("doseRateLayerChanged",this.vectorLayer),this.$Progress.finish()}catch{this.$Progress.fail()}},doseRateRanges:{handler:function(){this.isDoseRateMode&&this.redraw()},deep:!0}},mounted(){this.isDoseRateMode&&mt.$on("settingsChanged",this.redraw)},methods:{redraw(){this.isDoseRateMode&&this.vectorLayer.changed()},updateFeatureRadius(t){if(this.isDoseRateMode){const e=this.featureRadius,n=t*2;n!==e&&(this.featureRadius=n,this.redraw())}}}};function l6(t,e,n,i,r,s){return ie(),pe("div")}const u6=st(o6,[["render",l6],["__scopeId","data-v-980e98ae"]]),c6={name:"RadionuclideLayer",emits:["radionuclideLayerChanged"],data(){return{vectorLayer:new G2({source:new N1({format:new S1({defaultDataProjection:"EPSG:4326"})}),renderMode:"vector",preload:20,renderBuffer:20,style:()=>{const t="#1d66af";return[new Ts({image:new Pl({radius:this.featureRadius,fill:new To({color:t})})})]}})}},computed:{mode(){return this.$store.state.settings.settings.mode},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"},datasetFilePath(){return this.isAirRadionuclidesMode?"data/air_radionuclides/time_series/sites.json":""}},watch:{datasetFilePath:async function(){if(this.isAirRadionuclidesMode)try{this.$Progress.start();const e=(await Ym.airRadionuclide.getDataset(this.datasetFilePath)).map(n=>new cc({geometry:new la(Am(n.coordinates,"EPSG:4326","EPSG:3857")),id:n.id,site:n.site}));this.vectorLayer.getSource().clear(!0),this.vectorLayer.getSource().addFeatures(e),mt.$emit("radionuclideLayerChanged",this.vectorLayer),this.$Progress.finish()}catch{this.$Progress.fail()}}},mounted(){this.isAirRadionuclidesMode&&mt.$on("settingsChanged",this.redraw)},methods:{redraw(){this.isAirRadionuclidesMode&&this.vectorLayer.changed()},updateFeatureRadius(t){if(this.isAirRadionuclidesMode){const e=this.featureRadius,n=t*2;n!==e&&(this.featureRadius=n,this.redraw())}}}};function d6(t,e,n,i,r,s){return ie(),pe("div")}const h6=st(c6,[["render",d6],["__scopeId","data-v-fd547418"]]),f6={name:"MapLegendBar",props:{mapLegendBar:{type:Object,required:!0}},emits:["click"]};function p6(t,e,n,i,r,s){return ie(),pe("div",{style:Bn({backgroundColor:n.mapLegendBar.color}),class:rt([{"map-legend__bar--disabled":!n.mapLegendBar.isEnabled},"map-legend__bar"]),onClick:e[0]||(e[0]=a=>t.$emit("click"))},ht(n.mapLegendBar.label),7)}const m6=st(f6,[["render",p6]]),g6={name:"MapLegend",components:{MapLegendBar:m6},computed:{mapLegendBars(){return this.$store.state.settings.settings.mapLegend.bars}},methods:{toggle(t){this.$store.state.settings.settings.mapLegend.toggleBar(t)}}},y6={class:"map-legend"};function _6(t,e,n,i,r,s){const a=ze("map-legend-bar");return ie(),pe("div",y6,[(ie(!0),pe(Ze,null,Ut(s.mapLegendBars,(o,l)=>(ie(),et(a,{key:l,"map-legend-bar":o,onClick:u=>s.toggle(l)},null,8,["map-legend-bar","onClick"]))),128))])}const v6=st(g6,[["render",_6]]),b6={name:"SiteName",props:{feature:{type:Object,default:void 0},disableCloseButton:{type:Boolean,default:!1}},emits:["close"],computed:{site(){return this.feature?this.feature.get("site"):"-"}}},w6={class:"site-header opendata-row"},E6={class:"site-name"};function T6(t,e,n,i,r,s){return ie(),pe("div",w6,[Ae("span",E6,ht(s.site),1),ai(Ae("span",{class:"close-button",onClick:e[0]||(e[0]=a=>t.$emit("close"))},"×",512),[[oi,!n.disableCloseButton]])])}const mA=st(b6,[["render",T6],["__scopeId","data-v-498617e8"]]),x6={name:"SiteDoseRate",props:{feature:{type:Object,default:void 0}},computed:{doseRate(){return this.feature&&this.feature.get("doseRate")!==null?this.feature.get("doseRate"):"-"}}},C6={class:"site-dose-rate"},S6={class:"site-dose-rate__value"},k6=Ae("span",{class:"site-dose-rate__unit"}," µSv/h",-1);function R6(t,e,n,i,r,s){return ie(),pe("div",C6,[Ae("span",S6,[Ii(ht(s.doseRate),1),k6])])}const gA=st(x6,[["render",R6]]),Ys={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Li={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class yA extends rs{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Rj,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Li.ELEMENT,this.handleElementChanged),this.addChangeListener(Li.MAP,this.handleMapChanged),this.addChangeListener(Li.OFFSET,this.handleOffsetChanged),this.addChangeListener(Li.POSITION,this.handlePositionChanged),this.addChangeListener(Li.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Li.ELEMENT)}getId(){return this.id}getMap(){return this.get(Li.MAP)||null}getOffset(){return this.get(Li.OFFSET)}getPosition(){return this.get(Li.POSITION)}getPositioning(){return this.get(Li.POSITIONING)}handleElementChanged(){NI(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(vp(this.element),sn(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=Mt(e,Ys.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Li.ELEMENT,e)}setMap(e){this.set(Li.MAP,e)}setOffset(e){this.set(Li.OFFSET,e)}setPosition(e){this.set(Li.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Li.POSITION))return;const i=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),s=this.getRect(r,[fj(r),pj(r)]);e=e||{};const a=e.margin===void 0?20:e.margin;if(!Zs(i,s)){const o=s[0]-i[0],l=i[2]-s[2],u=s[1]-i[1],c=i[3]-s[3],h=[0,0];if(o<0?h[0]=o-a:l<0&&(h[0]=Math.abs(l)+a),u<0?h[1]=u-a:c<0&&(h[1]=Math.abs(c)+a),h[0]!==0||h[1]!==0){const m=n.getView().getCenterInternal(),g=n.getPixelFromCoordinateInternal(m);if(!g)return;const y=[g[0]+h[0],g[1]+h[1]],b=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(y),duration:b.duration,easing:b.easing})}}}getRect(e,n){const i=e.getBoundingClientRect(),r=i.left+window.pageXOffset,s=i.top+window.pageYOffset;return[r,s,r+n[0],s+n[1]]}setPositioning(e){this.set(Li.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(n),r=e.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(e,n){const i=this.element.style,r=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const a=Math.round(e[0]+r[0])+"px",o=Math.round(e[1]+r[1])+"px";let l="0%",u="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?l="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(l="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?u="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(u="-50%");const c=`translate(${l}, ${u}) translate(${a}, ${o})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,i.transform=c)}getOptions(){return this.options}}const I6={name:"FeaturePopover",components:{SiteName:mA,SiteDoseRate:gA},data(){return{isEnabled:!0,overlay:void 0,feature:void 0,previousFeature:void 0}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRatesMode(){return this.mode==="dose_rates"},isRadionuclideMode(){return this.mode==="air_radionuclides"}},mounted(){mt.$on("featureHovered",this.open),mt.$on("emptyMapLocationHovered",this.close),mt.$on("featurePopupOpened",this.disable),mt.$on("featurePopupClosed",this.enable),mt.$on("doseRateLayerChanged",this.update),mt.$on("radioNuclideLayerChanged",this.update),this.overlay=new yA({element:this.$refs.featurePopover,position:void 0})},methods:{enable(){this.isEnabled=!0},disable(){this.isEnabled=!1,this.close()},open(t){this.isEnabled&&t!==this.previousFeature&&(this.feature=t,this.overlay.setPosition(t.getGeometry().getCoordinates()),this.previousFeature=t)},close(){this.overlay.setPosition(void 0),this.previousFeature=void 0},update(t){var e=t.getSource().getFeatures();if(e.length!=0){for(var n=0;n<e.length;++n)if(e[n].get("id")==this.siteId){this.feature=e[n];return}this.feature=void 0}}}},A6={ref:"featurePopover",class:"feature-popover"};function M6(t,e,n,i,r,s){const a=ze("site-name"),o=ze("site-dose-rate");return ie(),pe("div",A6,[De(a,{feature:r.feature,"disable-close-button":""},null,8,["feature"]),ai(De(o,{feature:r.feature},null,8,["feature"]),[[oi,s.isDoseRatesMode]])],512)}const O6=st(I6,[["render",M6]]),H1={getDatesBetween(t,e){for(var n=[],i=new Date(t),r=new Date(e);i<=r;)n.push(new Date(i)),i.setDate(i.getDate()+1);return n},convertTimeTo12HourClock(t){var e=+t.substr(0,2),n=e%12||12,i=e<12?"am":"pm";return n+t.substr(2,3)+" "+i}};function P6(t){return new Promise(e=>setTimeout(e,t))}const D6={setTime(t,e){t.selectedTime=e},setDate(t,e){t.selectedDate=e},setAvailableDatasets(t,e){t.availableDatasets=e}},L6={async initialize({dispatch:t}){await t("queryAvailableDatasets"),await t("selectNewestDate"),await t("selectNewestTime"),setInterval(()=>{t("queryAvailableDatasets")},6e5)},async queryAvailableDatasets({commit:t}){const e=await Ym.doseRate.queryAvailableDatasets();t("setAvailableDatasets",e)},selectNewestDate({state:t,dispatch:e}){if(t.availableDatasets.length==0)return;const n=t.availableDatasets.slice(-1)[0].date;e("setDate",n)},selectNewestTime({getters:t,commit:e}){const n=t.availableTimesForSelectedDate;if(n.length!=0){var i=n.slice(-1)[0];e("setTime",i)}},decrementTime({commit:t,dispatch:e,getters:n,state:i}){if(n.isOldestDateSelected&&n.isOldestTimeSelected)return;const r=n.availableTimesForSelectedDate.indexOf(i.selectedTime);if(r==0)e("decrementDate"),e("selectNewestTime");else{const a=n.availableTimesForSelectedDate[r-1];t("setTime",a)}},incrementTime({commit:t,dispatch:e,getters:n,state:i}){if(n.isNewestDateSelected&&n.isNewestTimeSelected)return;const r=n.availableTimesForSelectedDate.indexOf(i.selectedTime);if(r==n.availableTimesForSelectedDate.length-1)e("incrementDate"),t("setTime",n.availableTimesForSelectedDate[0]);else{const a=n.availableTimesForSelectedDate[r+1];t("setTime",a)}},decrementDate({dispatch:t,getters:e,state:n}){if(!e.isOldestDateSelected){const r=n.availableDatasets.map(a=>a.date.toDateString()).indexOf(n.selectedDate.toDateString()),s=n.availableDatasets[r-1].date;t("setDate",s)}},incrementDate({dispatch:t,getters:e,state:n}){if(!e.isNewestDateSelected){const r=n.availableDatasets.map(a=>a.date.toDateString()).indexOf(n.selectedDate.toDateString()),s=n.availableDatasets[r+1].date;t("setDate",s)}},setDate({state:t,commit:e,dispatch:n,getters:i},r){e("setDate",r),i.availableTimesForSelectedDate.includes(t.selectedTime)||n("selectNewestTime")}},F6={availableTimesForSelectedDate(t){if(!t.selectedDate)return[];for(let e=0;e<t.availableDatasets.length;++e)if(t.availableDatasets[e].date.toDateString()==t.selectedDate.toDateString())return t.availableDatasets[e].times;return[]},isOldestDateSelected(t){if(t.availableDatasets.length==0||!t.selectedDate)return!1;const e=t.availableDatasets[0].date;return t.selectedDate.toDateString()==e.toDateString()},isNewestDateSelected(t){if(t.availableDatasets.length==0||!t.selectedDate)return!1;const e=t.availableDatasets.slice(-1)[0].date;return t.selectedDate.toDateString()==e.toDateString()},isOldestTimeSelected(t,e){if(e.isOldestDateSelected){const n=e.availableTimesForSelectedDate[0];return t.selectedTime==n}return!1},isNewestTimeSelected(t,e){if(e.isNewestDateSelected){const n=e.availableTimesForSelectedDate.slice(-1)[0];return t.selectedTime==n}return!1}},N6={state:{availableDatasets:[],selectedDate:void 0,selectedTime:void 0},mutations:D6,actions:L6,getters:F6},$6={setSettings(t,e){t.settings=e,t.settings.save()}},j6={initialize({state:t}){t.settings.load()}};class B6{constructor(){this.bars=[],this.addBar(new vu(0,"#1dafaf")),this.addBar(new vu(.1,"#1d8baf")),this.addBar(new vu(.2,"#1d66af")),this.addBar(new vu(.3,"#1d41af")),this.addBar(new vu(.4,"#411daf"))}addBar(e){let n=this.bars.slice(-1)[0];n&&(n.nextBar=e),this.bars.push(e)}toggleBar(e){const n=this.bars[e];n.toggleState(),this.bars[e]=n}clear(){this.bars=[]}toString(){return JSON.stringify(this.bars.map(e=>e.toString()))}}class vu{constructor(e,n){this.nextBar=void 0,this.threshold=e<10?e.toFixed(1):e,this.color=n,this.isEnabled=!0}get label(){return this.nextBar?`${this.threshold} - ${this.nextBar.threshold}`:`> ${this.threshold} µSv/h`}toggleState(){this.isEnabled=!this.isEnabled}toString(){return`{"threshold": ${this.threshold}, "color": "${this.color}"}`}}const zx="locale",Ux="dateFormat",Hx="timeFormat",H0="mapLegend",Yx="backgroundMap",Wx="mode";class _A{constructor(){this.locale="en",this.dateFormat="fi",this.timeFormat="24h",this.mapLegend=new B6,this.backgroundMap="default",this.mode="dose_rates"}save(){qy.global.locale.value=this.locale,localStorage.setItem(zx,this.locale),localStorage.setItem(Ux,this.dateFormat),localStorage.setItem(Hx,this.timeFormat),localStorage.setItem(H0,this.mapLegend),localStorage.setItem(Yx,this.backgroundMap),localStorage.setItem(Wx,this.mode)}load(){this.locale=localStorage.getItem(zx)||this.locale,qy.global.locale.value=this.locale,this.dateFormat=localStorage.getItem(Ux)||this.dateFormat,this.timeFormat=localStorage.getItem(Hx)||this.timeFormat,this.backgroundMap=localStorage.getItem(Yx)||this.backgroundMap,this.mode=localStorage.getItem(Wx)||this.mode;let e=localStorage.getItem(H0);if(e)try{e=JSON.parse(e);const n=e.map(i=>JSON.parse(i));n.length>0&&(this.mapLegend.clear(),n.forEach(i=>{this.mapLegend.addBar(new vu(i.threshold,i.color))}))}catch{localStorage.removeItem(H0)}}}const V6={state:{settings:new _A},mutations:$6,actions:j6};/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var G6="store";function mc(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function z6(t){return t!==null&&typeof t=="object"}function U6(t){return t&&typeof t.then=="function"}function H6(t,e){return function(){return t(e)}}function vA(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function bA(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Wm(t,n,[],t._modules.root,!0),Y1(t,n,e)}function Y1(t,e,n){var i=t._state,r=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,a={},o={},l=Jp(!0);l.run(function(){mc(s,function(u,c){a[c]=H6(u,t),o[c]=Se(function(){return a[c]()}),Object.defineProperty(t.getters,c,{get:function(){return o[c].value},enumerable:!0})})}),t._state=Fr({data:e}),t._scope=l,t.strict&&X6(t),i&&n&&t._withCommit(function(){i.data=null}),r&&r.stop()}function Wm(t,e,n,i,r){var s=!n.length,a=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=i),!s&&!r){var o=W1(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){o[l]=i.state})}var u=i.context=Y6(t,a,n);i.forEachMutation(function(c,h){var m=a+h;W6(t,m,c,u)}),i.forEachAction(function(c,h){var m=c.root?h:a+h,g=c.handler||c;K6(t,m,g,u)}),i.forEachGetter(function(c,h){var m=a+h;q6(t,m,c,u)}),i.forEachChild(function(c,h){Wm(t,e,n.concat(h),c,r)})}function Y6(t,e,n){var i=e==="",r={dispatch:i?t.dispatch:function(s,a,o){var l=Fp(s,a,o),u=l.payload,c=l.options,h=l.type;return(!c||!c.root)&&(h=e+h),t.dispatch(h,u)},commit:i?t.commit:function(s,a,o){var l=Fp(s,a,o),u=l.payload,c=l.options,h=l.type;(!c||!c.root)&&(h=e+h),t.commit(h,u,c)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return wA(t,e)}},state:{get:function(){return W1(t.state,n)}}}),r}function wA(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var s=r.slice(i);Object.defineProperty(n,s,{get:function(){return t.getters[r]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function W6(t,e,n,i){var r=t._mutations[e]||(t._mutations[e]=[]);r.push(function(a){n.call(t,i.state,a)})}function K6(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push(function(a){var o=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},a);return U6(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):o})}function q6(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(i.state,i.getters,s.state,s.getters)})}function X6(t){Tn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function W1(t,e){return e.reduce(function(n,i){return n[i]},t)}function Fp(t,e,n){return z6(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var Z6="vuex bindings",Kx="vuex:mutations",Y0="vuex:actions",ou="vuex",J6=0;function Q6(t,e){v5({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Z6]},function(n){n.addTimelineLayer({id:Kx,label:"Vuex Mutations",color:qx}),n.addTimelineLayer({id:Y0,label:"Vuex Actions",color:qx}),n.addInspector({id:ou,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(i){if(i.app===t&&i.inspectorId===ou)if(i.filter){var r=[];CA(r,e._modules.root,i.filter,""),i.rootNodes=r}else i.rootNodes=[xA(e._modules.root,"")]}),n.on.getInspectorState(function(i){if(i.app===t&&i.inspectorId===ou){var r=i.nodeId;wA(e,r),i.state=nz(rz(e._modules,r),r==="root"?e.getters:e._makeLocalGettersCache,r)}}),n.on.editInspectorState(function(i){if(i.app===t&&i.inspectorId===ou){var r=i.nodeId,s=i.path;r!=="root"&&(s=r.split("/").filter(Boolean).concat(s)),e._withCommit(function(){i.set(e._state.data,s,i.state.value)})}}),e.subscribe(function(i,r){var s={};i.payload&&(s.payload=i.payload),s.state=r,n.notifyComponentUpdate(),n.sendInspectorTree(ou),n.sendInspectorState(ou),n.addTimelineEvent({layerId:Kx,event:{time:Date.now(),title:i.type,data:s}})}),e.subscribeAction({before:function(i,r){var s={};i.payload&&(s.payload=i.payload),i._id=J6++,i._time=Date.now(),s.state=r,n.addTimelineEvent({layerId:Y0,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:s}})},after:function(i,r){var s={},a=Date.now()-i._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},i.payload&&(s.payload=i.payload),s.state=r,n.addTimelineEvent({layerId:Y0,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:s}})}})})}var qx=8702998,ez=6710886,tz=16777215,EA={label:"namespaced",textColor:tz,backgroundColor:ez};function TA(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function xA(t,e){return{id:e||"root",label:TA(e),tags:t.namespaced?[EA]:[],children:Object.keys(t._children).map(function(n){return xA(t._children[n],e+n+"/")})}}function CA(t,e,n,i){i.includes(n)&&t.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[EA]:[]}),Object.keys(e._children).forEach(function(r){CA(t,e._children[r],n,i+r+"/")})}function nz(t,e,n){e=n==="root"?e:e[n];var i=Object.keys(e),r={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(i.length){var s=iz(e);r.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?TA(a):a,editable:!1,value:w_(function(){return s[a]})}})}return r}function iz(t){var e={};return Object.keys(t).forEach(function(n){var i=n.split("/");if(i.length>1){var r=e,s=i.pop();i.forEach(function(a){r[a]||(r[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),r=r[a]._custom.value}),r[s]=w_(function(){return t[n]})}else e[n]=w_(function(){return t[n]})}),e}function rz(t,e){var n=e.split("/").filter(function(i){return i});return n.reduce(function(i,r,s){var a=i[r];if(!a)throw new Error('Missing module "'+r+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function w_(t){try{return t()}catch(e){return e}}var as=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=(typeof i=="function"?i():i)||{}},SA={namespaced:{configurable:!0}};SA.namespaced.get=function(){return!!this._rawModule.namespaced};as.prototype.addChild=function(e,n){this._children[e]=n};as.prototype.removeChild=function(e){delete this._children[e]};as.prototype.getChild=function(e){return this._children[e]};as.prototype.hasChild=function(e){return e in this._children};as.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};as.prototype.forEachChild=function(e){mc(this._children,e)};as.prototype.forEachGetter=function(e){this._rawModule.getters&&mc(this._rawModule.getters,e)};as.prototype.forEachAction=function(e){this._rawModule.actions&&mc(this._rawModule.actions,e)};as.prototype.forEachMutation=function(e){this._rawModule.mutations&&mc(this._rawModule.mutations,e)};Object.defineProperties(as.prototype,SA);var Bl=function(e){this.register([],e,!1)};Bl.prototype.get=function(e){return e.reduce(function(n,i){return n.getChild(i)},this.root)};Bl.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(i,r){return n=n.getChild(r),i+(n.namespaced?r+"/":"")},"")};Bl.prototype.update=function(e){kA([],this.root,e)};Bl.prototype.register=function(e,n,i){var r=this;i===void 0&&(i=!0);var s=new as(n,i);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&mc(n.modules,function(o,l){r.register(e.concat(l),o,i)})};Bl.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),i=e[e.length-1],r=n.getChild(i);r&&r.runtime&&n.removeChild(i)};Bl.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),i=e[e.length-1];return n?n.hasChild(i):!1};function kA(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return;kA(t.concat(i),e.getChild(i),n.modules[i])}}function sz(t){return new cr(t)}var cr=function(e){var n=this;e===void 0&&(e={});var i=e.plugins;i===void 0&&(i=[]);var r=e.strict;r===void 0&&(r=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Bl(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,o=this,l=o.dispatch,u=o.commit;this.dispatch=function(m,g){return l.call(a,m,g)},this.commit=function(m,g,y){return u.call(a,m,g,y)},this.strict=r;var c=this._modules.root.state;Wm(this,c,[],this._modules.root),Y1(this,c),i.forEach(function(h){return h(n)})},K1={state:{configurable:!0}};cr.prototype.install=function(e,n){e.provide(n||G6,this),e.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&Q6(e,this)};K1.state.get=function(){return this._state.data};K1.state.set=function(t){};cr.prototype.commit=function(e,n,i){var r=this,s=Fp(e,n,i),a=s.type,o=s.payload,l={type:a,payload:o},u=this._mutations[a];u&&(this._withCommit(function(){u.forEach(function(h){h(o)})}),this._subscribers.slice().forEach(function(c){return c(l,r.state)}))};cr.prototype.dispatch=function(e,n){var i=this,r=Fp(e,n),s=r.type,a=r.payload,o={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(c){return c.before}).forEach(function(c){return c.before(o,i.state)})}catch{}var u=l.length>1?Promise.all(l.map(function(c){return c(a)})):l[0](a);return new Promise(function(c,h){u.then(function(m){try{i._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(o,i.state)})}catch{}c(m)},function(m){try{i._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(o,i.state,m)})}catch{}h(m)})})}};cr.prototype.subscribe=function(e,n){return vA(e,this._subscribers,n)};cr.prototype.subscribeAction=function(e,n){var i=typeof e=="function"?{before:e}:e;return vA(i,this._actionSubscribers,n)};cr.prototype.watch=function(e,n,i){var r=this;return Tn(function(){return e(r.state,r.getters)},n,Object.assign({},i))};cr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};cr.prototype.registerModule=function(e,n,i){i===void 0&&(i={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Wm(this,this.state,e,this._modules.get(e),i.preserveState),Y1(this,this.state)};cr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var i=W1(n.state,e.slice(0,-1));delete i[e[e.length-1]]}),bA(this)};cr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};cr.prototype.hotUpdate=function(e){this._modules.update(e),bA(this,!0)};cr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(cr.prototype,K1);const Cu=sz({modules:{datetime:N6,settings:V6}});class az{constructor(e,n){this.date=e,this.dataPoints=n}}let Xx=class{constructor(e){this.siteId=e,this.dataPoints=[],this.datasets=[],this.startDate=void 0,this.endDate=void 0,this.onUpdate=()=>{},this.isLoading=!1}loadTimespan(e,n){this.startDate=e,this.endDate=n,this.startDate&&this.endDate&&this.siteId&&this.update()}async update(){let e=H1.getDatesBetween(this.startDate,this.endDate);e=e.filter(n=>{const i=this.datasets.some(s=>s.date.getTime()==n.getTime()),r=Cu.state.datetime.availableDatasets.some(s=>s.date.getTime()==n.getTime());return!i&&r}),e.length>0&&(this.isLoading=!0,await Promise.allSettled(e.map(async n=>{let i;try{i=await Ym.doseRate.getTimeSeries(this.siteId,n)}finally{this.datasets.push(new az(n,i))}})),await P6(250),this.datasets.sort((n,i)=>n.date<i.date?-1:1),this.generateDataPoints(),this.isLoading=!1),this.onUpdate()}generateDataPoints(){let e=[],n=[];for(var i=0;i<this.datasets.length;++i)if(this.datasets[i].dataPoints)for(var r=0;r<this.datasets[i].dataPoints.length;++r){const s=this.datasets[i].dataPoints[r];e.push(new Date(s.e).toISOString()),n.push(s.r)}this.dataPoints=[{x:e,y:n}]}};const oz={name:"LoadingSpinner",props:{isEnabled:{type:Boolean,default:!1}}},lz=t=>(qd("data-v-3f037726"),t=t(),Xd(),t),uz={class:"spinner-container"},cz=lz(()=>Ae("div",{class:"spinner"},null,-1)),dz=[cz];function hz(t,e,n,i,r,s){return ai((ie(),pe("div",uz,dz,512)),[[oi,n.isEnabled]])}const RA=st(oz,[["render",hz],["__scopeId","data-v-3f037726"]]);ZC.register(CD);const fz={name:"TimeSeriesGraph",components:{LoadingSpinner:RA},props:{feature:{type:Object,default:void 0}},data:function(){return{timeSeriesGraph:new Xx,plotlyLayout:{},defaultPlotlyLayout:{width:0,height:0,dragmode:"pan",margin:{t:20,r:0,b:50,l:50,pad:15},yaxis:{range:[0,.4]},font:{size:12,family:"RedHatText-Medium"}},plotlyConfig:{scrollZoom:!0,connectGaps:!0,displayModeBar:!1,locale:"en"}}},computed:{selectedDate(){return this.$store.state.datetime.selectedDate},locale(){return this.$store.state.settings.settings.locale},isLoading(){return this.timeSeriesGraph.isLoading},featureId(){return this.feature?this.feature.get("id"):void 0},mode(){return this.$store.state.settings.settings.mode},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"}},watch:{featureId:function(){this.reset()},selectedDate:function(){this.reset()},locale:function(t){this.plotlyConfig.locale=t,this.draw()}},mounted(){this.updateSize(!0),this.$refs.graphContainer.on("plotly_relayout",this.onPlotlyRelayout),window.onresize=this.updateSize},methods:{draw(){this.isAirRadionuclidesMode||(this.updateSize(),ZC.react(this.$refs.graphContainer,this.timeSeriesGraph.dataPoints,this.plotlyLayout,this.plotlyConfig))},async onPlotlyRelayout(t){if(!this.isAirRadionuclidesMode){if(!t||!t["xaxis.range[0]"]||!t["xaxis.range[1]"])return;const e=new Date(t["xaxis.range[0]"].split(" ")[0]),n=new Date(t["xaxis.range[1]"].split(" ")[0]);await this.timeSeriesGraph.loadTimespan(e,n)}},updateSize(t=!1){this.isAirRadionuclidesMode||(window.innerWidth>=1024?(this.plotlyLayout.width=475,this.plotlyLayout.height=400,this.plotlyLayout.font={size:14}):window.innerWidth>=768?(this.plotlyLayout.width=300,this.plotlyLayout.height=220,this.plotlyLayout.font={size:12}):(this.plotlyLayout.width=300,this.plotlyLayout.height=180,this.plotlyLayout.font={size:10}),t&&this.draw())},reset(){this.isAirRadionuclidesMode||(this.plotlyLayout=JSON.parse(JSON.stringify(this.defaultPlotlyLayout)),this.timeSeriesGraph=new Xx(this.featureId),this.timeSeriesGraph.onUpdate=this.draw.bind(this),this.timeSeriesGraph.loadTimespan(this.selectedDate,this.selectedDate))}}},pz={class:"wrapper"},mz={ref:"graphContainer"};function gz(t,e,n,i,r,s){const a=ze("loading-spinner");return ie(),pe("div",pz,[Ae("div",mz,[De(a,{"is-enabled":s.isLoading},null,8,["is-enabled"])],512)])}const yz=st(fz,[["render",gz],["__scopeId","data-v-7520aac4"]]),_z={name:"RadionuclideTables",components:{LoadingSpinner:RA},props:{feature:{type:Object,default:()=>({})},date:Date},data(){return{tablesData:[],isLoading:!1,helsinkiVantaa:!1}},computed:{formatDates(){return t=>{switch(this.$store.state.settings.settings.dateFormat){case"fi":default:return`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`;case"iso":return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}}},hasData(){return this.tablesData.some(t=>t.entries.length>0)},mode(){return this.$store.state.settings.settings.mode},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"},sortedTablesData(){const t=["Be-7","Cs-137","Pb-210","Na-22"];return this.tablesData.slice().sort((e,n)=>{const i=t.indexOf(e.radionuclide),r=t.indexOf(n.radionuclide);return i===-1&&r===-1?0:i===-1?1:r===-1?-1:i-r})}},watch:{feature:{immediate:!0,handler(){this.fetchData(new Date)}}},mounted(){mt.$on("dateChanged",this.fetchData)},methods:{async fetchData(t){if(!this.feature||!this.feature.get)return;const e=this.feature.get("id");if(e&&(e==103428||e==107554?this.helsinkiVantaa=!0:this.helsinkiVantaa=!1,this.isAirRadionuclidesMode))try{this.isLoading=!0;let n=await b_.getAvailableRadionuclides(e);if(n=n.filter(r=>r!=="air-volume"),!n||n.length===0)return;const i=n.map(async r=>{try{const s=await b_.getTimeSeries(e,r,t),a=this.removeDuplicates(s||[]).sort((o,l)=>new Date(l.s)-new Date(o.s));return{radionuclide:r,entries:a}}catch(s){return console.error(`Error fetching data for radionuclide ${r}:`,s),{radionuclide:r,entries:[]}}});this.tablesData=await Promise.all(i)}catch(n){console.error("Error in fetching data:",n)}finally{this.isLoading=!1}},removeDuplicates(t){const e=new Set;return t.filter(n=>{const i=`${n.s}-${n.e}-${n.c}-${n.u}`;return e.has(i)?!1:(e.add(i),!0)})},isPriorityNuclide(t){return["Be-7","Cs-137","Pb-210","Na-22"].includes(t)}}},vz={class:"radionuclide-tables"},bz={key:0},wz={key:0},Ez={key:0},Tz={key:1},xz={key:0};function Cz(t,e,n,i,r,s){const a=ze("loading-spinner");return ie(),pe("div",vz,[De(a,{"is-enabled":r.isLoading},null,8,["is-enabled"]),r.isLoading?ke("",!0):(ie(),pe("div",bz,[s.hasData?(ie(),pe("div",wz,[(ie(!0),pe(Ze,null,Ut(s.sortedTablesData,(o,l)=>(ie(),pe("div",{key:l,class:"table-container"},[o.entries.length>0?(ie(),pe("div",Ez,[Ae("p",{class:rt({"bold-header":!s.isPriorityNuclide(o.radionuclide)})},ht(o.radionuclide),3),Ae("table",null,[Ae("thead",null,[Ae("tr",null,[Ae("th",null,ht(t.$t("radionuclideMode.date")),1),Ae("th",null,ht(t.$t("radionuclideMode.concentration"))+" µBq/m3",1),Ae("th",null,ht(t.$t("radionuclideMode.uncertainty"))+"-%",1)])]),Ae("tbody",null,[(ie(!0),pe(Ze,null,Ut(o.entries,u=>(ie(),pe("tr",{key:u.s},[Ae("td",null,ht(s.formatDates(new Date(u.s)))+" - "+ht(s.formatDates(new Date(u.e))),1),Ae("td",null,ht(u.c),1),Ae("td",null,ht(u.u),1)]))),128))])])])):ke("",!0)]))),128))])):ke("",!0),s.hasData?ke("",!0):(ie(),pe("div",Tz,[Ae("p",null,ht(t.$t("radionuclideMode.noData")),1),r.helsinkiVantaa?(ie(),pe("p",xz,ht(t.$t("radionuclideMode.info")),1)):ke("",!0)]))]))])}const Sz=st(_z,[["render",Cz],["__scopeId","data-v-4d03d4a2"]]);function Je(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function zt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Wr(t,e){const n=Je(t);return isNaN(e)?zt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Jr(t,e){const n=Je(t);if(isNaN(e))return zt(t,NaN);if(!e)return n;const i=n.getDate(),r=zt(t,n.getTime());r.setMonth(n.getMonth()+e+1,0);const s=r.getDate();return i>=s?r:(n.setFullYear(r.getFullYear(),r.getMonth(),i),n)}function IA(t,e){const{years:n=0,months:i=0,weeks:r=0,days:s=0,hours:a=0,minutes:o=0,seconds:l=0}=e,u=Je(t),c=i||n?Jr(u,i+n*12):u,h=s||r?Wr(c,s+r*7):c,m=o+a*60,y=(l+m*60)*1e3;return zt(t,h.getTime()+y)}function kz(t,e){const n=+Je(t);return zt(t,n+e)}const AA=6048e5,Rz=864e5,Iz=6e4,MA=36e5,Az=1e3;function Mz(t,e){return kz(t,e*MA)}let Oz={};function Vl(){return Oz}function is(t,e){const n=Vl(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Je(t),s=r.getDay(),a=(s<i?7:0)+s-i;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}function ec(t){return is(t,{weekStartsOn:1})}function OA(t){const e=Je(t),n=e.getFullYear(),i=zt(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const r=ec(i),s=zt(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=ec(s);return e.getTime()>=r.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Zx(t){const e=Je(t);return e.setHours(0,0,0,0),e}function Np(t){const e=Je(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function PA(t,e){const n=Zx(t),i=Zx(e),r=+n-Np(n),s=+i-Np(i);return Math.round((r-s)/Rz)}function Pz(t){const e=OA(t),n=zt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ec(n)}function Dz(t,e){const n=e*3;return Jr(t,n)}function q1(t,e){return Jr(t,e*12)}function Jx(t,e){const n=Je(t),i=Je(e),r=n.getTime()-i.getTime();return r<0?-1:r>0?1:r}function DA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cd(t){if(!DA(t)&&typeof t!="number")return!1;const e=Je(t);return!isNaN(Number(e))}function Qx(t){const e=Je(t);return Math.trunc(e.getMonth()/3)+1}function Lz(t,e){const n=Je(t),i=Je(e);return n.getFullYear()-i.getFullYear()}function Fz(t,e){const n=Je(t),i=Je(e),r=Jx(n,i),s=Math.abs(Lz(n,i));n.setFullYear(1584),i.setFullYear(1584);const a=Jx(n,i)===-r,o=r*(s-+a);return o===0?0:o}function LA(t,e){const n=Je(t.start),i=Je(t.end);let r=+n>+i;const s=r?+n:+i,a=r?i:n;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=s;)l.push(Je(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return r?l.reverse():l}function ol(t){const e=Je(t),n=e.getMonth(),i=n-n%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}function Nz(t,e){const n=Je(t.start),i=Je(t.end);let r=+n>+i;const s=r?+ol(n):+ol(i);let a=ol(r?i:n),o=1;const l=[];for(;+a<=s;)l.push(Je(a)),a=Dz(a,o);return r?l.reverse():l}function $z(t){const e=Je(t);return e.setDate(1),e.setHours(0,0,0,0),e}function FA(t){const e=Je(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Yd(t){const e=Je(t),n=zt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function NA(t,e){const n=Vl(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Je(t),s=r.getDay(),a=(s<i?-7:0)+6-(s-i);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}function eC(t){const e=Je(t),n=e.getMonth(),i=n-n%3+3;return e.setMonth(i,0),e.setHours(23,59,59,999),e}const jz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bz=(t,e,n)=>{let i;const r=jz[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function W0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Vz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uz={date:W0({formats:Vz,defaultWidth:"full"}),time:W0({formats:Gz,defaultWidth:"full"}),dateTime:W0({formats:zz,defaultWidth:"full"})},Hz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yz=(t,e,n,i)=>Hz[t];function Hc(t){return(e,n)=>{const i=n?.context?String(n.context):"standalone";let r;if(i==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;r=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;r=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return r[s]}}const Wz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qz=(t,e)=>{const n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},e8={ordinalNumber:Qz,era:Hc({values:Wz,defaultWidth:"wide"}),quarter:Hc({values:Kz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hc({values:qz,defaultWidth:"wide"}),day:Hc({values:Xz,defaultWidth:"wide"}),dayPeriod:Hc({values:Zz,defaultWidth:"wide",formattingValues:Jz,defaultFormattingWidth:"wide"})};function Yc(t){return(e,n={})=>{const i=n.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=e.match(r);if(!s)return null;const a=s[0],o=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?n8(o,h=>h.test(a)):t8(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function t8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function n8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function i8(t){return(e,n={})=>{const i=e.match(t.matchPattern);if(!i)return null;const r=i[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(r.length);return{value:a,rest:o}}}const r8=/^(\d+)(th|st|nd|rd)?/i,s8=/\d+/i,a8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},o8={any:[/^b/i,/^(a|c)/i]},l8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u8={any:[/1/i,/2/i,/3/i,/4/i]},c8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},g8={ordinalNumber:i8({matchPattern:r8,parsePattern:s8,valueCallback:t=>parseInt(t,10)}),era:Yc({matchPatterns:a8,defaultMatchWidth:"wide",parsePatterns:o8,defaultParseWidth:"any"}),quarter:Yc({matchPatterns:l8,defaultMatchWidth:"wide",parsePatterns:u8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yc({matchPatterns:c8,defaultMatchWidth:"wide",parsePatterns:d8,defaultParseWidth:"any"}),day:Yc({matchPatterns:h8,defaultMatchWidth:"wide",parsePatterns:f8,defaultParseWidth:"any"}),dayPeriod:Yc({matchPatterns:p8,defaultMatchWidth:"any",parsePatterns:m8,defaultParseWidth:"any"})},$A={code:"en-US",formatDistance:Bz,formatLong:Uz,formatRelative:Yz,localize:e8,match:g8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y8(t){const e=Je(t);return PA(e,Yd(e))+1}function X1(t){const e=Je(t),n=+ec(e)-+Pz(e);return Math.round(n/AA)+1}function Z1(t,e){const n=Je(t),i=n.getFullYear(),r=Vl(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=zt(t,0);a.setFullYear(i+1,0,s),a.setHours(0,0,0,0);const o=is(a,e),l=zt(t,0);l.setFullYear(i,0,s),l.setHours(0,0,0,0);const u=is(l,e);return n.getTime()>=o.getTime()?i+1:n.getTime()>=u.getTime()?i:i-1}function _8(t,e){const n=Vl(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Z1(t,e),s=zt(t,0);return s.setFullYear(r,0,i),s.setHours(0,0,0,0),is(s,e)}function J1(t,e){const n=Je(t),i=+is(n,e)-+_8(n,e);return Math.round(i/AA)+1}function Qt(t,e){const n=t<0?"-":"",i=Math.abs(t).toString().padStart(e,"0");return n+i}const Da={y(t,e){const n=t.getFullYear(),i=n>0?n:1-n;return Qt(e==="yy"?i%100:i,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Qt(n+1,2)},d(t,e){return Qt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Qt(t.getHours()%12||12,e.length)},H(t,e){return Qt(t.getHours(),e.length)},m(t,e){return Qt(t.getMinutes(),e.length)},s(t,e){return Qt(t.getSeconds(),e.length)},S(t,e){const n=e.length,i=t.getMilliseconds(),r=Math.trunc(i*Math.pow(10,n-3));return Qt(r,e.length)}},lu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tC={G:function(t,e,n){const i=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const i=t.getFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Da.y(t,e)},Y:function(t,e,n,i){const r=Z1(t,i),s=r>0?r:1-r;if(e==="YY"){const a=s%100;return Qt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Qt(s,e.length)},R:function(t,e){const n=OA(t);return Qt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Qt(n,e.length)},Q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Qt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){const i=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Qt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){const i=t.getMonth();switch(e){case"M":case"MM":return Da.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){const i=t.getMonth();switch(e){case"L":return String(i+1);case"LL":return Qt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){const r=J1(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):Qt(r,e.length)},I:function(t,e,n){const i=X1(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):Qt(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Da.d(t,e)},D:function(t,e,n){const i=y8(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Qt(i,e.length)},E:function(t,e,n){const i=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Qt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){const r=t.getDay(),s=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Qt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const i=t.getDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return Qt(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const i=t.getHours();let r;switch(i===12?r=lu.noon:i===0?r=lu.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const i=t.getHours();let r;switch(i>=17?r=lu.evening:i>=12?r=lu.afternoon:i>=4?r=lu.morning:r=lu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let i=t.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Da.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Da.H(t,e)},K:function(t,e,n){const i=t.getHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Qt(i,e.length)},k:function(t,e,n){let i=t.getHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):Qt(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Da.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Da.s(t,e)},S:function(t,e){return Da.S(t,e)},X:function(t,e,n){const i=t.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return iC(i);case"XXXX":case"XX":return Xo(i);case"XXXXX":case"XXX":default:return Xo(i,":")}},x:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"x":return iC(i);case"xxxx":case"xx":return Xo(i);case"xxxxx":case"xxx":default:return Xo(i,":")}},O:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nC(i,":");case"OOOO":default:return"GMT"+Xo(i,":")}},z:function(t,e,n){const i=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nC(i,":");case"zzzz":default:return"GMT"+Xo(i,":")}},t:function(t,e,n){const i=Math.trunc(t.getTime()/1e3);return Qt(i,e.length)},T:function(t,e,n){const i=t.getTime();return Qt(i,e.length)}};function nC(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Math.trunc(i/60),s=i%60;return s===0?n+String(r):n+String(r)+e+Qt(s,2)}function iC(t,e){return t%60===0?(t>0?"-":"+")+Qt(Math.abs(t)/60,2):Xo(t,e)}function Xo(t,e=""){const n=t>0?"-":"+",i=Math.abs(t),r=Qt(Math.trunc(i/60),2),s=Qt(i%60,2);return n+r+e+s}const rC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},v8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return rC(t,e);let s;switch(i){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",rC(i,e)).replace("{{time}}",jA(r,e))},E_={p:jA,P:v8},b8=/^D+$/,w8=/^Y+$/,E8=["D","DD","YY","YYYY"];function BA(t){return b8.test(t)}function VA(t){return w8.test(t)}function T_(t,e,n){const i=T8(t,e,n);if(console.warn(i),E8.includes(t))throw new RangeError(i)}function T8(t,e,n){const i=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const x8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S8=/^'([^]*?)'?$/,k8=/''/g,R8=/[a-zA-Z]/;function Ss(t,e,n){const i=Vl(),r=n?.locale??i.locale??$A,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,o=Je(t);if(!cd(o))throw new RangeError("Invalid time value");let l=e.match(C8).map(c=>{const h=c[0];if(h==="p"||h==="P"){const m=E_[h];return m(c,r.formatLong)}return c}).join("").match(x8).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const h=c[0];if(h==="'")return{isToken:!1,value:I8(c)};if(tC[h])return{isToken:!0,value:c};if(h.match(R8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:c}});r.localize.preprocessor&&(l=r.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:r};return l.map(c=>{if(!c.isToken)return c.value;const h=c.value;(!n?.useAdditionalWeekYearTokens&&VA(h)||!n?.useAdditionalDayOfYearTokens&&BA(h))&&T_(h,e,String(t));const m=tC[h[0]];return m(o,h,r.localize,u)}).join("")}function I8(t){const e=t.match(S8);return e?e[1].replace(k8,"'"):t}function A8(t){return Je(t).getDay()}function M8(t){const e=Je(t),n=e.getFullYear(),i=e.getMonth(),r=zt(t,0);return r.setFullYear(n,i+1,0),r.setHours(0,0,0,0),r.getDate()}function O8(){return Object.assign({},Vl())}function ua(t){return Je(t).getHours()}function P8(t){let n=Je(t).getDay();return n===0&&(n=7),n}function po(t){return Je(t).getMinutes()}function It(t){return Je(t).getMonth()}function tc(t){return Je(t).getSeconds()}function dt(t){return Je(t).getFullYear()}function nc(t,e){const n=Je(t),i=Je(e);return n.getTime()>i.getTime()}function Wd(t,e){const n=Je(t),i=Je(e);return+n<+i}function Su(t,e){const n=Je(t),i=Je(e);return+n==+i}function D8(t,e){const n=e instanceof Date?zt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const L8=10;class GA{subPriority=0;validate(e,n){return!0}}class F8 extends GA{constructor(e,n,i,r,s){super(),this.value=e,this.validateValue=n,this.setValue=i,this.priority=r,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,i){return this.setValue(e,n,this.value,i)}}class N8 extends GA{priority=L8;subPriority=-1;set(e,n){return n.timestampIsSet?e:zt(e,D8(e,Date))}}class Ht{run(e,n,i,r){const s=this.parse(e,n,i,r);return s?{setter:new F8(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,i){return!0}}class $8 extends Ht{priority=140;parse(e,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"});case"GGGGG":return i.era(e,{width:"narrow"});case"GGGG":default:return i.era(e,{width:"wide"})||i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"})}}set(e,n,i){return n.era=i,e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const zn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},fs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Un(t,e){return t&&{value:e(t.value),rest:t.rest}}function wn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ps(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const i=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:i*(r*MA+s*Iz+a*Az),rest:e.slice(n[0].length)}}function zA(t){return wn(zn.anyDigitsSigned,t)}function On(t,e){switch(t){case 1:return wn(zn.singleDigit,e);case 2:return wn(zn.twoDigits,e);case 3:return wn(zn.threeDigits,e);case 4:return wn(zn.fourDigits,e);default:return wn(new RegExp("^\\d{1,"+t+"}"),e)}}function $p(t,e){switch(t){case 1:return wn(zn.singleDigitSigned,e);case 2:return wn(zn.twoDigitsSigned,e);case 3:return wn(zn.threeDigitsSigned,e);case 4:return wn(zn.fourDigitsSigned,e);default:return wn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Q1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function UA(t,e){const n=e>0,i=n?e:1-e;let r;if(i<=50)r=t||100;else{const s=i+50,a=Math.trunc(s/100)*100,o=t>=s%100;r=t+a-(o?100:0)}return n?r:1-r}function HA(t){return t%400===0||t%4===0&&t%100!==0}class j8 extends Ht{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,n,i){const r=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return Un(On(4,e),r);case"yo":return Un(i.ordinalNumber(e,{unit:"year"}),r);default:return Un(On(n.length,e),r)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,i){const r=e.getFullYear();if(i.isTwoDigitYear){const a=UA(i.year,r);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const s=!("era"in n)||n.era===1?i.year:1-i.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class B8 extends Ht{priority=130;parse(e,n,i){const r=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Un(On(4,e),r);case"Yo":return Un(i.ordinalNumber(e,{unit:"year"}),r);default:return Un(On(n.length,e),r)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,i,r){const s=Z1(e,r);if(i.isTwoDigitYear){const o=UA(i.year,s);return e.setFullYear(o,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),is(e,r)}const a=!("era"in n)||n.era===1?i.year:1-i.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),is(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class V8 extends Ht{priority=130;parse(e,n){return $p(n==="R"?4:n.length,e)}set(e,n,i){const r=zt(e,0);return r.setFullYear(i,0,4),r.setHours(0,0,0,0),ec(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class G8 extends Ht{priority=130;parse(e,n){return $p(n==="u"?4:n.length,e)}set(e,n,i){return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class z8 extends Ht{priority=120;parse(e,n,i){switch(n){case"Q":case"QQ":return On(n.length,e);case"Qo":return i.ordinalNumber(e,{unit:"quarter"});case"QQQ":return i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(e,{width:"wide",context:"formatting"})||i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class U8 extends Ht{priority=120;parse(e,n,i){switch(n){case"q":case"qq":return On(n.length,e);case"qo":return i.ordinalNumber(e,{unit:"quarter"});case"qqq":return i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(e,{width:"wide",context:"standalone"})||i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class H8 extends Ht{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,n,i){const r=s=>s-1;switch(n){case"M":return Un(wn(zn.month,e),r);case"MM":return Un(On(2,e),r);case"Mo":return Un(i.ordinalNumber(e,{unit:"month"}),r);case"MMM":return i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(e,{width:"wide",context:"formatting"})||i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}}class Y8 extends Ht{priority=110;parse(e,n,i){const r=s=>s-1;switch(n){case"L":return Un(wn(zn.month,e),r);case"LL":return Un(On(2,e),r);case"Lo":return Un(i.ordinalNumber(e,{unit:"month"}),r);case"LLL":return i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(e,{width:"wide",context:"standalone"})||i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function W8(t,e,n){const i=Je(t),r=J1(i,n)-e;return i.setDate(i.getDate()-r*7),i}class K8 extends Ht{priority=100;parse(e,n,i){switch(n){case"w":return wn(zn.week,e);case"wo":return i.ordinalNumber(e,{unit:"week"});default:return On(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,i,r){return is(W8(e,i,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function q8(t,e){const n=Je(t),i=X1(n)-e;return n.setDate(n.getDate()-i*7),n}class X8 extends Ht{priority=100;parse(e,n,i){switch(n){case"I":return wn(zn.week,e);case"Io":return i.ordinalNumber(e,{unit:"week"});default:return On(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,i){return ec(q8(e,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Z8=[31,28,31,30,31,30,31,31,30,31,30,31],J8=[31,29,31,30,31,30,31,31,30,31,30,31];class Q8 extends Ht{priority=90;subPriority=1;parse(e,n,i){switch(n){case"d":return wn(zn.date,e);case"do":return i.ordinalNumber(e,{unit:"date"});default:return On(n.length,e)}}validate(e,n){const i=e.getFullYear(),r=HA(i),s=e.getMonth();return r?n>=1&&n<=J8[s]:n>=1&&n<=Z8[s]}set(e,n,i){return e.setDate(i),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class eU extends Ht{priority=90;subpriority=1;parse(e,n,i){switch(n){case"D":case"DD":return wn(zn.dayOfYear,e);case"Do":return i.ordinalNumber(e,{unit:"date"});default:return On(n.length,e)}}validate(e,n){const i=e.getFullYear();return HA(i)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,i){return e.setMonth(0,i),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function eb(t,e,n){const i=Vl(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,s=Je(t),a=s.getDay(),l=(e%7+7)%7,u=7-r,c=e<0||e>6?e-(a+u)%7:(l+u)%7-(a+u)%7;return Wr(s,c)}class tU extends Ht{priority=90;parse(e,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,r){return e=eb(e,i,r),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class nU extends Ht{priority=90;parse(e,n,i,r){const s=a=>{const o=Math.floor((a-1)/7)*7;return(a+r.weekStartsOn+6)%7+o};switch(n){case"e":case"ee":return Un(On(n.length,e),s);case"eo":return Un(i.ordinalNumber(e,{unit:"day"}),s);case"eee":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeeee":return i.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,r){return e=eb(e,i,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class iU extends Ht{priority=90;parse(e,n,i,r){const s=a=>{const o=Math.floor((a-1)/7)*7;return(a+r.weekStartsOn+6)%7+o};switch(n){case"c":case"cc":return Un(On(n.length,e),s);case"co":return Un(i.ordinalNumber(e,{unit:"day"}),s);case"ccc":return i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"ccccc":return i.day(e,{width:"narrow",context:"standalone"});case"cccccc":return i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(e,{width:"wide",context:"standalone"})||i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,i,r){return e=eb(e,i,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function rU(t,e){const n=Je(t),i=P8(n),r=e-i;return Wr(n,r)}class sU extends Ht{priority=90;parse(e,n,i){const r=s=>s===0?7:s;switch(n){case"i":case"ii":return On(n.length,e);case"io":return i.ordinalNumber(e,{unit:"day"});case"iii":return Un(i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Un(i.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Un(i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),r);case"iiii":default:return Un(i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,n){return n>=1&&n<=7}set(e,n,i){return e=rU(e,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class aU extends Ht{priority=80;parse(e,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setHours(Q1(i),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class oU extends Ht{priority=80;parse(e,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setHours(Q1(i),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class lU extends Ht{priority=80;parse(e,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,i){return e.setHours(Q1(i),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class uU extends Ht{priority=70;parse(e,n,i){switch(n){case"h":return wn(zn.hour12h,e);case"ho":return i.ordinalNumber(e,{unit:"hour"});default:return On(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,i){const r=e.getHours()>=12;return r&&i<12?e.setHours(i+12,0,0,0):!r&&i===12?e.setHours(0,0,0,0):e.setHours(i,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class cU extends Ht{priority=70;parse(e,n,i){switch(n){case"H":return wn(zn.hour23h,e);case"Ho":return i.ordinalNumber(e,{unit:"hour"});default:return On(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,i){return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class dU extends Ht{priority=70;parse(e,n,i){switch(n){case"K":return wn(zn.hour11h,e);case"Ko":return i.ordinalNumber(e,{unit:"hour"});default:return On(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,i){return e.getHours()>=12&&i<12?e.setHours(i+12,0,0,0):e.setHours(i,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class hU extends Ht{priority=70;parse(e,n,i){switch(n){case"k":return wn(zn.hour24h,e);case"ko":return i.ordinalNumber(e,{unit:"hour"});default:return On(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,i){const r=i<=24?i%24:i;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class fU extends Ht{priority=60;parse(e,n,i){switch(n){case"m":return wn(zn.minute,e);case"mo":return i.ordinalNumber(e,{unit:"minute"});default:return On(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,i){return e.setMinutes(i,0,0),e}incompatibleTokens=["t","T"]}class pU extends Ht{priority=50;parse(e,n,i){switch(n){case"s":return wn(zn.second,e);case"so":return i.ordinalNumber(e,{unit:"second"});default:return On(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,i){return e.setSeconds(i,0),e}incompatibleTokens=["t","T"]}class mU extends Ht{priority=30;parse(e,n){const i=r=>Math.trunc(r*Math.pow(10,-n.length+3));return Un(On(n.length,e),i)}set(e,n,i){return e.setMilliseconds(i),e}incompatibleTokens=["t","T"]}class gU extends Ht{priority=10;parse(e,n){switch(n){case"X":return ps(fs.basicOptionalMinutes,e);case"XX":return ps(fs.basic,e);case"XXXX":return ps(fs.basicOptionalSeconds,e);case"XXXXX":return ps(fs.extendedOptionalSeconds,e);case"XXX":default:return ps(fs.extended,e)}}set(e,n,i){return n.timestampIsSet?e:zt(e,e.getTime()-Np(e)-i)}incompatibleTokens=["t","T","x"]}class yU extends Ht{priority=10;parse(e,n){switch(n){case"x":return ps(fs.basicOptionalMinutes,e);case"xx":return ps(fs.basic,e);case"xxxx":return ps(fs.basicOptionalSeconds,e);case"xxxxx":return ps(fs.extendedOptionalSeconds,e);case"xxx":default:return ps(fs.extended,e)}}set(e,n,i){return n.timestampIsSet?e:zt(e,e.getTime()-Np(e)-i)}incompatibleTokens=["t","T","X"]}class _U extends Ht{priority=40;parse(e){return zA(e)}set(e,n,i){return[zt(e,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class vU extends Ht{priority=20;parse(e){return zA(e)}set(e,n,i){return[zt(e,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const bU={G:new $8,y:new j8,Y:new B8,R:new V8,u:new G8,Q:new z8,q:new U8,M:new H8,L:new Y8,w:new K8,I:new X8,d:new Q8,D:new eU,E:new tU,e:new nU,c:new iU,i:new sU,a:new aU,b:new oU,B:new lU,h:new uU,H:new cU,K:new dU,k:new hU,m:new fU,s:new pU,S:new mU,X:new gU,x:new yU,t:new _U,T:new vU},wU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TU=/^'([^]*?)'?$/,xU=/''/g,CU=/\S/,SU=/[a-zA-Z]/;function x_(t,e,n,i){const r=O8(),s=i?.locale??r.locale??$A,a=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(e==="")return t===""?Je(n):zt(n,NaN);const l={firstWeekContainsDate:a,weekStartsOn:o,locale:s},u=[new N8],c=e.match(EU).map(b=>{const w=b[0];if(w in E_){const E=E_[w];return E(b,s.formatLong)}return b}).join("").match(wU),h=[];for(let b of c){!i?.useAdditionalWeekYearTokens&&VA(b)&&T_(b,e,t),!i?.useAdditionalDayOfYearTokens&&BA(b)&&T_(b,e,t);const w=b[0],E=bU[w];if(E){const{incompatibleTokens:x}=E;if(Array.isArray(x)){const T=h.find(C=>x.includes(C.token)||C.token===w);if(T)throw new RangeError(`The format string mustn't contain \`${T.fullToken}\` and \`${b}\` at the same time`)}else if(E.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);h.push({token:w,fullToken:b});const _=E.run(t,b,s.match,l);if(!_)return zt(n,NaN);u.push(_.setter),t=_.rest}else{if(w.match(SU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(b==="''"?b="'":w==="'"&&(b=kU(b)),t.indexOf(b)===0)t=t.slice(b.length);else return zt(n,NaN)}}if(t.length>0&&CU.test(t))return zt(n,NaN);const m=u.map(b=>b.priority).sort((b,w)=>w-b).filter((b,w,E)=>E.indexOf(b)===w).map(b=>u.filter(w=>w.priority===b).sort((w,E)=>E.subPriority-w.subPriority)).map(b=>b[0]);let g=Je(n);if(isNaN(g.getTime()))return zt(n,NaN);const y={};for(const b of m){if(!b.validate(g,l))return zt(n,NaN);const w=b.set(g,y,l);Array.isArray(w)?(g=w[0],Object.assign(y,w[1])):g=w}return zt(n,g)}function kU(t){return t.match(TU)[1].replace(xU,"'")}function sC(t,e){const n=ol(t),i=ol(e);return+n==+i}function RU(t,e){return Wr(t,-e)}function YA(t,e){const n=Je(t),i=n.getFullYear(),r=n.getDate(),s=zt(t,0);s.setFullYear(i,e,15),s.setHours(0,0,0,0);const a=M8(s);return n.setMonth(e,Math.min(r,a)),n}function rn(t,e){let n=Je(t);return isNaN(+n)?zt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=YA(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function IU(t,e){const n=Je(t);return n.setHours(e),n}function WA(t,e){const n=Je(t);return n.setMilliseconds(e),n}function AU(t,e){const n=Je(t);return n.setMinutes(e),n}function KA(t,e){const n=Je(t);return n.setSeconds(e),n}function vs(t,e){const n=Je(t);return isNaN(+n)?zt(t,NaN):(n.setFullYear(e),n)}function ic(t,e){return Jr(t,-e)}function MU(t,e){const{years:n=0,months:i=0,weeks:r=0,days:s=0,hours:a=0,minutes:o=0,seconds:l=0}=e,u=ic(t,i+n*12),c=RU(u,s+r*7),h=o+a*60,g=(l+h*60)*1e3;return zt(t,c.getTime()-g)}function qA(t,e){return q1(t,-e)}function gc(){return ie(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ae("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ae("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}gc.compatConfig={MODE:3};function XA(){return ie(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ae("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}XA.compatConfig={MODE:3};function tb(){return ie(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}tb.compatConfig={MODE:3};function nb(){return ie(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}nb.compatConfig={MODE:3};function ib(){return ie(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ae("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}ib.compatConfig={MODE:3};function rb(){return ie(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}rb.compatConfig={MODE:3};function sb(){return ie(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ae("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}sb.compatConfig={MODE:3};const Er=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),ab=(t,e,n)=>C_(t,e,n)||Re(),OU=(t,e,n)=>{const i=e.dateInTz?Er(new Date(t),e.dateInTz):Re(t);return n?Xi(i,!0):i},C_=(t,e,n)=>{if(!t)return null;const i=n?Xi(Re(t),!0):Re(t);return e?e.exactMatch?OU(t,e,n):Er(i,e.timezone):i},PU=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),i=new Date(e.toLocaleString("en-US",{timeZone:t})),r=i.getTimezoneOffset()/60;return(+n-+i)/(1e3*60*60)-r};var zr=(t=>(t.month="month",t.year="year",t))(zr||{}),Zo=(t=>(t.top="top",t.bottom="bottom",t))(Zo||{}),yl=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(yl||{}),Bi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Bi||{});const DU=["timestamp","date","iso"];var Yi=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(Yi||{}),bn=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(bn||{});function aC(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function LU(t){return e=>Ss(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const FU=(t,e,n)=>{const i=[1,2,3,4,5,6,7];let r;if(t!==null)try{r=i.map(LU(t))}catch{r=i.map(aC(e))}else r=i.map(aC(e));const s=r.slice(0,n),a=r.slice(n+1,r.length);return[r[n]].concat(...a).concat(...s)},ob=(t,e,n)=>{const i=[];for(let r=+t[0];r<=+t[1];r++)i.push({value:+r,text:eM(r,e)});return n?i.reverse():i},ZA=(t,e,n)=>{const i=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const a=s<10?`0${s}`:s;return new Date(`2017-${a}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"LLLL":"LLL";return i.map((a,o)=>{const l=Ss(Er(a,"UTC"),s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:o}})}catch{}const r=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return i.map((s,a)=>{const o=r.format(s);return{text:o.charAt(0).toUpperCase()+o.substring(1),value:a}})},NU=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ii=t=>{const e=te(t);return e!=null&&e.$el?e?.$el:e},$U=t=>({type:"dot",...t??{}}),JA=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,lb={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},hi=t=>t,oC=t=>t===0?t:!t||isNaN(+t)?null:+t,lC=t=>t===null,QA=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},jU=t=>{const e=[],n=i=>i.filter(r=>r);for(let i=0;i<t.length;i+=3){const r=[t[i],t[i+1],t[i+2]];e.push(n(r))}return e},Kd=(t,e,n)=>{const i=n!=null,r=e!=null;if(!i&&!r)return!1;const s=+n,a=+e;return i&&r?+t>s||+t<a:i?+t>s:r?+t<a:!1},rc=(t,e)=>jU(t).map(n=>n.map(i=>{const{active:r,disabled:s,isBetween:a,highlighted:o}=e(i);return{...i,active:r,disabled:s,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&r,dp__cell_in_between:a,"dp--highlighted":o}}})),so=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},BU=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function VU(t,e){let n=[...document.querySelectorAll(BU())];n=n.filter(r=>!t.contains(r)||r.hasAttribute("data-datepicker-instance"));const i=n.indexOf(t);if(i>=0&&(e?i-1>=0:i+1<=n.length))return n[i+(e?-1:1)]}const GU=(t,e)=>t?.querySelector(`[data-dp-element="${e}"]`),eM=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),ub=t=>Ss(t,"dd-MM-yyyy"),K0=t=>Array.isArray(t),jp=(t,e)=>e.get(ub(t)),zU=(t,e)=>t?e?e instanceof Map?!!jp(t,e):e(Re(t)):!1:!0,ar=(t,e,n=!1)=>{if(t.key===bn.enter||t.key===bn.space)return n&&t.preventDefault(),e()},uC=(t,e,n,i,r,s)=>{const a=x_(t,e.slice(0,t.length),new Date,{locale:s});return cd(a)&&DA(a)?i||r?a:rn(a,{hours:+n.hours,minutes:+n?.minutes,seconds:+n?.seconds,milliseconds:0}):null},UU=(t,e,n,i,r,s)=>{const a=Array.isArray(n)?n[0]:n;if(typeof e=="string")return uC(t,e,a,i,r,s);if(Array.isArray(e)){let o=null;for(const l of e)if(o=uC(t,l,a,i,r,s),o)break;return o}return typeof e=="function"?e(t):null},Re=t=>t?new Date(t):new Date,HU=(t,e,n)=>{if(e){const r=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),a=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${r}-${s}T${a}:${o}:${l}.000Z`}const i=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(i).toISOString()},Xi=(t,e)=>{const n=Re(JSON.parse(JSON.stringify(t))),i=rn(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?$z(i):i},ao=(t,e,n,i)=>{let r=t?Re(t):Re();return(e||e===0)&&(r=IU(r,+e)),(n||n===0)&&(r=AU(r,+n)),(i||i===0)&&(r=KA(r,+i)),WA(r,0)},Rn=(t,e)=>!t||!e?!1:Wd(Xi(t),Xi(e)),At=(t,e)=>!t||!e?!1:Su(Xi(t),Xi(e)),$n=(t,e)=>!t||!e?!1:nc(Xi(t),Xi(e)),Km=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?$n(n,t[0])&&Rn(n,t[1]):t!=null&&t[0]&&e?$n(n,t[0])&&Rn(n,e)||Rn(n,t[0])&&$n(n,e):!1,Kr=t=>{const e=rn(new Date(t),{date:1});return Xi(e)},q0=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(i=>i===e?[i,n]:[i,isNaN(+t[i])?void 0:+t[i]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},_l=t=>({hours:ua(t),minutes:po(t),seconds:tc(t)}),tM=(t,e)=>{if(e){const n=dt(Re(e));if(n>t)return 12;if(n===t)return It(Re(e))}},nM=(t,e)=>{if(e){const n=dt(Re(e));return n<t?-1:n===t?It(Re(e)):void 0}},sc=t=>{if(t)return dt(Re(t))},iM=(t,e)=>{const n=$n(t,e)?e:t,i=$n(e,t)?e:t;return LA({start:n,end:i})},YU=t=>{const e=Jr(t,1);return{month:It(e),year:dt(e)}},Ks=(t,e)=>{const n=is(t,{weekStartsOn:+e}),i=NA(t,{weekStartsOn:+e});return[n,i]},rM=(t,e)=>{const n={hours:ua(Re()),minutes:po(Re()),seconds:e?tc(Re()):0};return Object.assign(n,t)},Xa=(t,e,n)=>[rn(Re(t),{date:1}),rn(Re(),{month:e,year:n,date:1})],Qs=(t,e,n)=>{let i=t?Re(t):Re();return(e||e===0)&&(i=YA(i,e)),n&&(i=vs(i,n)),i},sM=(t,e,n,i,r)=>{if(!i||r&&!e||!r&&!n)return!1;const s=r?Jr(t,1):ic(t,1),a=[It(s),dt(s)];return r?!KU(...a,e):!WU(...a,n)},WU=(t,e,n)=>Rn(...Xa(n,t,e))||At(...Xa(n,t,e)),KU=(t,e,n)=>$n(...Xa(n,t,e))||At(...Xa(n,t,e)),aM=(t,e,n,i,r,s,a)=>{if(typeof e=="function"&&!a)return e(t);const o=n?{locale:n}:void 0;return Array.isArray(t)?`${Ss(t[0],s,o)}${r&&!t[1]?"":i}${t[1]?Ss(t[1],s,o):""}`:Ss(t,s,o)},uu=t=>{if(t)return null;throw new Error(lb.prop("partial-range"))},Rf=(t,e)=>{if(e)return t();throw new Error(lb.prop("range"))},S_=t=>Array.isArray(t)?cd(t[0])&&(t[1]?cd(t[1]):!0):t?cd(t):!1,qU=(t,e)=>rn(e??Re(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),X0=(t,e,n,i)=>{if(!t)return!0;if(i){const r=n==="max"?Wd(t,e):nc(t,e),s={seconds:0,milliseconds:0};return r||Su(rn(t,s),rn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Z0=(t,e,n)=>t?qU(t,e):Re(n??e),cC=(t,e,n,i,r)=>{if(Array.isArray(i)){const a=Z0(t,i[0],e),o=Z0(t,i[1],e);return X0(i[0],a,n,!!e)&&X0(i[1],o,n,!!e)&&r}const s=Z0(t,i,e);return X0(i,s,n,!!e)&&r},J0=t=>rn(Re(),_l(t)),XU=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>dt(Re(n))===e).map(n=>It(n)):[],oM=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(i=>i.month===e&&i.year===n),cb=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),lM=t=>Ss(t,"yyyy-MM-dd"),Wc=Fr({menuFocused:!1,shiftKeyInMenu:!1}),uM=()=>{const t=n=>{Wc.menuFocused=n},e=n=>{Wc.shiftKeyInMenu!==n&&(Wc.shiftKeyInMenu=n)};return{control:Se(()=>({shiftKeyInMenu:Wc.shiftKeyInMenu,menuFocused:Wc.menuFocused})),setMenuFocused:t,setShiftKey:e}},hn=Fr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Q0=Me(null),If=Me(!1),ey=Me(!1),ty=Me(!1),ny=Me(!1),Fi=Me(0),Nn=Me(0),xo=()=>{const t=Se(()=>If.value?[...hn.selectionGrid,hn.actionRow].filter(h=>h.length):ey.value?[...hn.timePicker[0],...hn.timePicker[1],ny.value?[]:[Q0.value],hn.actionRow].filter(h=>h.length):ty.value?[...hn.monthPicker,hn.actionRow]:[hn.monthYear,...hn.calendar,hn.time,hn.actionRow].filter(h=>h.length)),e=h=>{Fi.value=h?Fi.value+1:Fi.value-1;let m=null;t.value[Nn.value]&&(m=t.value[Nn.value][Fi.value]),!m&&t.value[Nn.value+(h?1:-1)]?(Nn.value=Nn.value+(h?1:-1),Fi.value=h?0:t.value[Nn.value].length-1):m||(Fi.value=h?Fi.value-1:Fi.value+1)},n=h=>{Nn.value===0&&!h||Nn.value===t.value.length&&h||(Nn.value=h?Nn.value+1:Nn.value-1,t.value[Nn.value]?t.value[Nn.value]&&!t.value[Nn.value][Fi.value]&&Fi.value!==0&&(Fi.value=t.value[Nn.value].length-1):Nn.value=h?Nn.value-1:Nn.value+1)},i=h=>{let m=null;t.value[Nn.value]&&(m=t.value[Nn.value][Fi.value]),m?m.focus({preventScroll:!If.value}):Fi.value=h?Fi.value-1:Fi.value+1},r=()=>{e(!0),i(!0)},s=()=>{e(!1),i(!1)},a=()=>{n(!1),i(!0)},o=()=>{n(!0),i(!0)},l=(h,m)=>{hn[m]=h},u=(h,m)=>{hn[m]=h},c=()=>{Fi.value=0,Nn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{Q0.value=h},setSelectionGrid:h=>{If.value=h,c(),h||(hn.selectionGrid=[])},setTimePicker:(h,m=!1)=>{ey.value=h,ny.value=m,c(),h||(hn.timePicker[0]=[],hn.timePicker[1]=[])},setTimePickerElements:(h,m=0)=>{hn.timePicker[m]=h},arrowRight:r,arrowLeft:s,arrowUp:a,arrowDown:o,clearArrowNav:()=>{hn.monthYear=[],hn.calendar=[],hn.time=[],hn.actionRow=[],hn.selectionGrid=[],hn.timePicker[0]=[],hn.timePicker[1]=[],If.value=!1,ey.value=!1,ny.value=!1,ty.value=!1,c(),Q0.value=null},setMonthPicker:h=>{ty.value=h,c()},refSets:hn}},dC=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),ZU=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),hC=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,JU=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:hC(!1)};const i=e?t:{},r=e?i.count??!0:t,s=hC(r);return Object.assign(n,i,{count:s})},QU=(t,e,n)=>t||(typeof n=="string"?n:e),eH=t=>typeof t=="boolean"?t?dC({}):!1:dC(t),tH=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},nH=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),iH=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),rH=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},sH=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),aH=t=>{const e={dates:Array.isArray(t)?t.map(n=>Re(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},oH=t=>typeof t=="object"?{type:t?.type??"local",hideOnOffsetDates:t?.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},lH=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},uH=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},iy=(t,e,n)=>new Map(t.map(i=>{const r=ab(i,e,n);return[ub(r),r]})),cH=(t,e)=>t.length?new Map(t.map(n=>{const i=ab(n.date,e);return[ub(i),n]})):null,dH=t=>{var e;return{minDate:C_(t.minDate,t.timezone,t.isSpecific),maxDate:C_(t.maxDate,t.timezone,t.isSpecific),disabledDates:K0(t.disabledDates)?iy(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:K0(t.allowedDates)?iy(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&K0((e=t.highlight)==null?void 0:e.dates)?iy(t.highlight.dates,t.timezone):t.highlight,markers:cH(t.markers,t.timezone)}},hH=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},fH=t=>({...Object.fromEntries(Object.keys(t).map(e=>{const n=e,i=t[n],r=typeof t[n]=="string"?{[i]:!0}:Object.fromEntries(i.map(s=>[s,!0]));return[e,r]}))}),Cn=t=>{const e=()=>{const k=t.enableSeconds?":ss":"",A=t.enableMinutes?":mm":"";return t.is24?`HH${A}${k}`:`hh${A}${k} aa`},n=()=>{var k;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((k=w.value)==null?void 0:k.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},i=k=>rM(k,t.enableSeconds),r=()=>T.value.enabled?t.startTime&&Array.isArray(t.startTime)?[i(t.startTime[0]),i(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?i(t.startTime):null,s=Se(()=>JU(t.multiCalendars)),a=Se(()=>r()),o=Se(()=>ZU(t.ariaLabels)),l=Se(()=>nH(t.filters)),u=Se(()=>eH(t.transitions)),c=Se(()=>iH(t.actionRow)),h=Se(()=>QU(t.previewFormat,t.format,n())),m=Se(()=>tH(t.textInput)),g=Se(()=>rH(t.inline)),y=Se(()=>sH(t.config)),b=Se(()=>aH(t.highlight)),w=Se(()=>oH(t.weekNumbers)),E=Se(()=>uH(t.timezone,t.emitTimezone)),x=Se(()=>hH(t.multiDates,t.multiDatesLimit)),_=Se(()=>dH({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:b.value,markers:t.markers,timezone:E.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),T=Se(()=>lH(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd})),C=Se(()=>fH(t.ui));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:a,defaultedAriaLabels:o,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:m,defaultedInline:g,defaultedConfig:y,defaultedHighlight:b,defaultedWeekNumbers:w,defaultedRange:T,propDates:_,defaultedTz:E,defaultedMultiDates:x,defaultedUI:C,getDefaultPattern:n,getDefaultStartTime:r}},pH=(t,e,n)=>{const i=Me(),{defaultedTextInput:r,defaultedRange:s,defaultedTz:a,defaultedMultiDates:o,getDefaultPattern:l}=Cn(e),u=Me(""),c=wl(e,"format"),h=wl(e,"formatLocale");Tn(i,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",i.value,Ee(!0))},{deep:!0}),Tn(s,(q,ye)=>{q.enabled!==ye.enabled&&(i.value=null)}),Tn(c,()=>{Q()});const m=q=>a.value.timezone&&a.value.convertModel?Er(q,a.value.timezone):q,g=q=>{if(a.value.timezone&&a.value.convertModel){const ye=PU(a.value.timezone);return Mz(q,ye)}return q},y=(q,ye,Xe=!1)=>aM(q,e.format,e.formatLocale,r.value.rangeSeparator,e.modelAuto,ye??l(),Xe),b=q=>q?e.modelType?be(q):{hours:ua(q),minutes:po(q),seconds:e.enableSeconds?tc(q):0}:null,w=q=>e.modelType?be(q):{month:It(q),year:dt(q)},E=q=>Array.isArray(q)?o.value.enabled?q.map(ye=>x(ye,vs(Re(),ye))):Rf(()=>[vs(Re(),q[0]),q[1]?vs(Re(),q[1]):uu(s.value.partialRange)],s.value.enabled):vs(Re(),+q),x=(q,ye)=>(typeof q=="string"||typeof q=="number")&&e.modelType?_e(q):ye,_=q=>Array.isArray(q)?[x(q[0],ao(null,+q[0].hours,+q[0].minutes,q[0].seconds)),x(q[1],ao(null,+q[1].hours,+q[1].minutes,q[1].seconds))]:x(q,ao(null,q.hours,q.minutes,q.seconds)),T=q=>{const ye=rn(Re(),{date:1});return Array.isArray(q)?o.value.enabled?q.map(Xe=>x(Xe,Qs(ye,+Xe.month,+Xe.year))):Rf(()=>[x(q[0],Qs(ye,+q[0].month,+q[0].year)),x(q[1],q[1]?Qs(ye,+q[1].month,+q[1].year):uu(s.value.partialRange))],s.value.enabled):x(q,Qs(ye,+q.month,+q.year))},C=q=>{if(Array.isArray(q))return q.map(ye=>_e(ye));throw new Error(lb.dateArr("multi-dates"))},k=q=>{if(Array.isArray(q)&&s.value.enabled){const ye=q[0],Xe=q[1];return[Re(Array.isArray(ye)?ye[0]:null),Re(Array.isArray(Xe)?Xe[0]:null)]}return Re(q[0])},A=q=>e.modelAuto?Array.isArray(q)?[_e(q[0]),_e(q[1])]:e.autoApply?[_e(q)]:[_e(q),null]:Array.isArray(q)?Rf(()=>q[1]?[_e(q[0]),q[1]?_e(q[1]):uu(s.value.partialRange)]:[_e(q[0])],s.value.enabled):_e(q),L=()=>{Array.isArray(i.value)&&s.value.enabled&&i.value.length===1&&i.value.push(uu(s.value.partialRange))},R=()=>{const q=i.value;return[be(q[0]),q[1]?be(q[1]):uu(s.value.partialRange)]},j=()=>i.value[1]?R():be(hi(i.value[0])),U=()=>(i.value||[]).map(q=>be(q)),G=(q=!1)=>(q||L(),e.modelAuto?j():o.value.enabled?U():Array.isArray(i.value)?Rf(()=>R(),s.value.enabled):be(hi(i.value))),ne=q=>!q||Array.isArray(q)&&!q.length?null:e.timePicker?_(hi(q)):e.monthPicker?T(hi(q)):e.yearPicker?E(hi(q)):o.value.enabled?C(hi(q)):e.weekPicker?k(hi(q)):A(hi(q)),W=q=>{const ye=ne(q);S_(hi(ye))?(i.value=hi(ye),Q()):(i.value=null,u.value="")},F=()=>{const q=ye=>Ss(ye,r.value.format);return`${q(i.value[0])} ${r.value.rangeSeparator} ${i.value[1]?q(i.value[1]):""}`},B=()=>n.value&&i.value?Array.isArray(i.value)?F():Ss(i.value,r.value.format):y(i.value),N=()=>i.value?o.value.enabled?i.value.map(q=>y(q)).join("; "):r.value.enabled&&typeof r.value.format=="string"?B():y(i.value):"",Q=()=>{!e.format||typeof e.format=="string"||r.value.enabled&&typeof r.value.format=="string"?u.value=N():u.value=e.format(i.value)},_e=q=>{if(e.utc){const ye=new Date(q);return e.utc==="preserve"?new Date(ye.getTime()+ye.getTimezoneOffset()*6e4):ye}return e.modelType?DU.includes(e.modelType)?m(new Date(q)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?m(x_(q,l(),new Date,{locale:h.value})):m(x_(q,e.modelType,new Date,{locale:h.value})):m(new Date(q))},be=q=>q?e.utc?HU(q,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+g(q):e.modelType==="iso"?g(q).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?y(g(q)):y(g(q),e.modelType,!0):g(q):"",xe=(q,ye=!1,Xe=!1)=>{if(Xe)return q;if(t("update:model-value",q),a.value.emitTimezone&&ye){const de=Array.isArray(q)?q.map(Ke=>Er(hi(Ke),a.value.emitTimezone)):Er(hi(q),a.value.emitTimezone);t("update:model-timezone-value",de)}},K=q=>Array.isArray(i.value)?o.value.enabled?i.value.map(ye=>q(ye)):[q(i.value[0]),i.value[1]?q(i.value[1]):uu(s.value.partialRange)]:q(hi(i.value)),Z=()=>{if(Array.isArray(i.value)){const q=Ks(i.value[0],e.weekStart),ye=i.value[1]?Ks(i.value[1],e.weekStart):[];return[q.map(Xe=>Re(Xe)),ye.map(Xe=>Re(Xe))]}return Ks(i.value,e.weekStart).map(q=>Re(q))},O=(q,ye)=>xe(hi(K(q)),!1,ye),re=q=>{const ye=Z();return q?ye:t("update:model-value",Z())},Ee=(q=!1)=>(q||Q(),e.monthPicker?O(w,q):e.timePicker?O(b,q):e.yearPicker?O(dt,q):e.weekPicker?re(q):xe(G(q),!0,q));return{inputValue:u,internalModelValue:i,checkBeforeEmit:()=>i.value?s.value.enabled?s.value.partialRange?i.value.length>=1:i.value.length===2:!!i.value:!1,parseExternalModelValue:W,formatInputValue:Q,emitModelValue:Ee}},mH=(t,e)=>{const{defaultedFilters:n,propDates:i}=Cn(t),{validateMonthYearInRange:r}=Co(t),s=(c,h)=>{let m=c;return n.value.months.includes(It(m))?(m=h?Jr(c,1):ic(c,1),s(m,h)):m},a=(c,h)=>{let m=c;return n.value.years.includes(dt(m))?(m=h?q1(c,1):qA(c,1),a(m,h)):m},o=(c,h=!1)=>{const m=rn(Re(),{month:t.month,year:t.year});let g=c?Jr(m,1):ic(m,1);t.disableYearSelect&&(g=vs(g,t.year));let y=It(g),b=dt(g);n.value.months.includes(y)&&(g=s(g,c),y=It(g),b=dt(g)),n.value.years.includes(b)&&(g=a(g,c),b=dt(g)),r(y,b,c,t.preventMinMaxNavigation)&&l(y,b,h)},l=(c,h,m)=>{e("update-month-year",{month:c,year:h,fromNav:m})},u=Se(()=>c=>sM(rn(Re(),{month:t.month,year:t.year}),i.value.maxDate,i.value.minDate,t.preventMinMaxNavigation,c));return{handleMonthYearChange:o,isDisabled:u,updateMonthYear:l}},qm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},os={...qm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},gH=["title"],yH=["disabled"],_H=_n({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...os},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,i=t,{defaultedActionRow:r,defaultedPreviewFormat:s,defaultedMultiCalendars:a,defaultedTextInput:o,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:h}=Cn(i),{isTimeValid:m,isMonthValid:g}=Co(i),{buildMatrix:y}=xo(),b=Me(null),w=Me(null),E=Me(!1),x=Me({}),_=Me(null),T=Me(null);xn(()=>{i.arrowNavigation&&y([ii(b),ii(w)],"actionRow"),C(),window.addEventListener("resize",C)}),ks(()=>{window.removeEventListener("resize",C)});const C=()=>{E.value=!1,setTimeout(()=>{var F,B;const N=(F=_.value)==null?void 0:F.getBoundingClientRect(),Q=(B=T.value)==null?void 0:B.getBoundingClientRect();N&&Q&&(x.value.maxWidth=`${Q.width-N.width-20}px`),E.value=!0},0)},k=Se(()=>u.value.enabled&&!u.value.partialRange&&i.internalModelValue?i.internalModelValue.length===2:!0),A=Se(()=>!m.value(i.internalModelValue)||!g.value(i.internalModelValue)||!k.value),L=()=>{const F=s.value;return i.timePicker||i.monthPicker,F(hi(i.internalModelValue))},R=()=>{const F=i.internalModelValue;return a.value.count>0?`${j(F[0])} - ${j(F[1])}`:[j(F[0]),j(F[1])]},j=F=>aM(F,s.value,i.formatLocale,o.value.rangeSeparator,i.modelAuto,h()),U=Se(()=>!i.internalModelValue||!i.menuMount?"":typeof s.value=="string"?Array.isArray(i.internalModelValue)?i.internalModelValue.length===2&&i.internalModelValue[1]?R():c.value.enabled?i.internalModelValue.map(F=>`${j(F)}`):i.modelAuto?`${j(i.internalModelValue[0])}`:`${j(i.internalModelValue[0])} -`:j(i.internalModelValue):L()),G=()=>c.value.enabled?"; ":" - ",ne=Se(()=>Array.isArray(U.value)?U.value.join(G()):U.value),W=()=>{m.value(i.internalModelValue)&&g.value(i.internalModelValue)&&k.value?n("select-date"):n("invalid-select")};return(F,B)=>(ie(),pe("div",{ref_key:"actionRowRef",ref:T,class:"dp__action_row"},[F.$slots["action-row"]?Ue(F.$slots,"action-row",Kn(Vn({key:0},{internalModelValue:F.internalModelValue,disabled:A.value,selectDate:()=>F.$emit("select-date"),closePicker:()=>F.$emit("close-picker")}))):(ie(),pe(Ze,{key:1},[te(r).showPreview?(ie(),pe("div",{key:0,class:"dp__selection_preview",title:ne.value,style:Bn(x.value)},[F.$slots["action-preview"]&&E.value?Ue(F.$slots,"action-preview",{key:0,value:F.internalModelValue}):ke("",!0),!F.$slots["action-preview"]&&E.value?(ie(),pe(Ze,{key:1},[Ii(ht(ne.value),1)],64)):ke("",!0)],12,gH)):ke("",!0),Ae("div",{ref_key:"actionBtnContainer",ref:_,class:"dp__action_buttons","data-dp-element":"action-row"},[F.$slots["action-buttons"]?Ue(F.$slots,"action-buttons",{key:0,value:F.internalModelValue}):ke("",!0),F.$slots["action-buttons"]?ke("",!0):(ie(),pe(Ze,{key:1},[!te(l).enabled&&te(r).showCancel?(ie(),pe("button",{key:0,ref_key:"cancelButtonRef",ref:b,type:"button",class:"dp__action_button dp__action_cancel",onClick:B[0]||(B[0]=N=>F.$emit("close-picker")),onKeydown:B[1]||(B[1]=N=>te(ar)(N,()=>F.$emit("close-picker")))},ht(F.cancelText),545)):ke("",!0),te(r).showNow?(ie(),pe("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:B[2]||(B[2]=N=>F.$emit("select-now")),onKeydown:B[3]||(B[3]=N=>te(ar)(N,()=>F.$emit("select-now")))},ht(F.nowButtonLabel),33)):ke("",!0),te(r).showSelect?(ie(),pe("button",{key:2,ref_key:"selectButtonRef",ref:w,type:"button",class:"dp__action_button dp__action_select",disabled:A.value,"data-test":"select-button",onKeydown:B[4]||(B[4]=N=>te(ar)(N,()=>W())),onClick:W},ht(F.selectText),41,yH)):ke("",!0)],64))],512)],64))],512))}}),vH={class:"dp__selection_grid_header"},bH=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],wH=["aria-label"],Th=_n({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:i,buildMultiLevelMatrix:r,setMonthPicker:s}=xo(),a=n,o=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Cn(o),{hideNavigationButtons:h}=Jm(),m=Me(!1),g=Me(null),y=Me(null),b=Me([]),w=Me(),E=Me(null),x=Me(0),_=Me(null);hm(()=>{g.value=null}),xn(()=>{vi().then(()=>U()),o.noOverlayFocus||C(),T(!0)}),ks(()=>T(!1));const T=K=>{var Z;o.arrowNavigation&&((Z=o.headerRefs)!=null&&Z.length?s(K):i(K))},C=()=>{var K;const Z=ii(y);Z&&(u.value.enabled||(g.value?(K=g.value)==null||K.focus({preventScroll:!0}):Z.focus({preventScroll:!0})),m.value=Z.clientHeight<Z.scrollHeight)},k=Se(()=>({dp__overlay:!0,"dp--overlay-absolute":!o.useRelative,"dp--overlay-relative":o.useRelative})),A=Se(()=>o.useRelative?{height:`${o.height}px`,width:"260px"}:void 0),L=Se(()=>({dp__overlay_col:!0})),R=Se(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:m.value,dp__button_bottom:o.isLast})),j=Se(()=>{var K,Z;return{dp__overlay_container:!0,dp__container_flex:((K=o.items)==null?void 0:K.length)<=6,dp__container_block:((Z=o.items)==null?void 0:Z.length)>6}});Tn(()=>o.items,()=>U(!1),{deep:!0});const U=(K=!0)=>{vi().then(()=>{const Z=ii(g),O=ii(y),re=ii(E),Ee=ii(_),q=re?re.getBoundingClientRect().height:0;O&&(O.getBoundingClientRect().height?x.value=O.getBoundingClientRect().height-q:x.value=c.value.modeHeight-q),Z&&Ee&&K&&(Ee.scrollTop=Z.offsetTop-Ee.offsetTop-(x.value/2-Z.getBoundingClientRect().height)-q)})},G=K=>{K.disabled||a("selected",K.value)},ne=()=>{a("toggle"),a("reset-flow")},W=()=>{o.escClose&&ne()},F=(K,Z,O,re)=>{K&&((Z.active||Z.value===o.focusValue)&&(g.value=K),o.arrowNavigation&&(Array.isArray(b.value[O])?b.value[O][re]=K:b.value[O]=[K],B()))},B=()=>{var K,Z;const O=(K=o.headerRefs)!=null&&K.length?[o.headerRefs].concat(b.value):b.value.concat([o.skipButtonRef?[]:[E.value]]);r(hi(O),(Z=o.headerRefs)!=null&&Z.length?"monthPicker":"selectionGrid")},N=K=>{o.arrowNavigation||so(K,c.value,!0)},Q=K=>{w.value=K,a("hover-value",K)},_e=()=>{if(ne(),!o.isLast){const K=GU(o.menuWrapRef??null,"action-row");if(K){const Z=QA(K);Z?.focus()}}},be=K=>{switch(K.key){case bn.esc:return W();case bn.arrowLeft:return N(K);case bn.arrowRight:return N(K);case bn.arrowUp:return N(K);case bn.arrowDown:return N(K);default:return}},xe=K=>{if(K.key===bn.enter)return ne();if(K.key===bn.tab)return _e()};return e({focusGrid:C}),(K,Z)=>{var O;return ie(),pe("div",{ref_key:"gridWrapRef",ref:y,class:rt(k.value),style:Bn(A.value),role:"dialog",tabindex:"0",onKeydown:be,onClick:Z[0]||(Z[0]=Cl(()=>{},["prevent"]))},[Ae("div",{ref_key:"containerRef",ref:_,class:rt(j.value),role:"grid",style:Bn({"--dp-overlay-height":`${x.value}px`})},[Ae("div",vH,[Ue(K.$slots,"header")]),K.$slots.overlay?Ue(K.$slots,"overlay",{key:0}):(ie(!0),pe(Ze,{key:1},Ut(K.items,(re,Ee)=>(ie(),pe("div",{key:Ee,class:rt(["dp__overlay_row",{dp__flex_row:K.items.length>=3}]),role:"row"},[(ie(!0),pe(Ze,null,Ut(re,(q,ye)=>(ie(),pe("div",{key:q.value,ref_for:!0,ref:Xe=>F(Xe,q,Ee,ye),role:"gridcell",class:rt(L.value),"aria-selected":q.active||void 0,"aria-disabled":q.disabled||void 0,tabindex:"0","data-test":q.text,onClick:Cl(Xe=>G(q),["prevent"]),onKeydown:Xe=>te(ar)(Xe,()=>G(q),!0),onMouseover:Xe=>Q(q.value)},[Ae("div",{class:rt(q.className)},[K.$slots.item?Ue(K.$slots,"item",{key:0,item:q}):ke("",!0),K.$slots.item?ke("",!0):(ie(),pe(Ze,{key:1},[Ii(ht(q.text),1)],64))],2)],42,bH))),128))],2))),128))],6),K.$slots["button-icon"]?ai((ie(),pe("button",{key:0,ref_key:"toggleButton",ref:E,type:"button","aria-label":(O=te(l))==null?void 0:O.toggleOverlay,class:rt(R.value),tabindex:"0",onClick:ne,onKeydown:xe},[Ue(K.$slots,"button-icon")],42,wH)),[[oi,!te(h)(K.hideNavigation,K.type)]]):ke("",!0)],38)}}}),Xm=_n({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=Se(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),i=Se(()=>({dp__instance_calendar:e.multiCalendars>0}));return(r,s)=>(ie(),pe("div",{class:rt({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse})},[(ie(!0),pe(Ze,null,Ut(n.value,(a,o)=>(ie(),pe("div",{key:a,class:rt(i.value)},[Ue(r.$slots,"default",{instance:a,index:o})],2))),128))],2))}}),EH=["aria-label","aria-disabled"],dd=_n({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,i=Me(null);return xn(()=>n("set-ref",i)),(r,s)=>(ie(),pe("button",{ref_key:"elRef",ref:i,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:s[0]||(s[0]=a=>r.$emit("activate")),onKeydown:s[1]||(s[1]=a=>te(ar)(a,()=>r.$emit("activate"),!0))},[Ae("span",{class:rt(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[Ue(r.$slots,"default")],2)],40,EH))}}),TH={class:"dp--year-mode-picker"},xH=["aria-label","data-test"],cM=_n({__name:"YearModePicker",props:{...os,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,i=t,{showRightIcon:r,showLeftIcon:s}=Jm(),{defaultedConfig:a,defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:u,defaultedUI:c}=Cn(i),{showTransition:h,transitionName:m}=xh(u),g=(w=!1,E)=>{n("toggle-year-picker",{flow:w,show:E})},y=w=>{n("year-select",w)},b=(w=!1)=>{n("handle-year",w)};return(w,E)=>{var x,_,T,C,k;return ie(),pe("div",TH,[te(s)(te(o),t.instance)?(ie(),et(dd,{key:0,ref:"mpPrevIconRef","aria-label":(x=te(l))==null?void 0:x.prevYear,disabled:t.isDisabled(!1),class:rt((_=te(c))==null?void 0:_.navBtnPrev),onActivate:E[0]||(E[0]=A=>b(!1))},{default:pt(()=>[w.$slots["arrow-left"]?Ue(w.$slots,"arrow-left",{key:0}):ke("",!0),w.$slots["arrow-left"]?ke("",!0):(ie(),et(te(tb),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ke("",!0),Ae("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(T=te(l))==null?void 0:T.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:E[1]||(E[1]=()=>g(!1)),onKeydown:E[2]||(E[2]=ym(()=>g(!1),["enter"]))},[w.$slots.year?Ue(w.$slots,"year",{key:0,year:t.year}):ke("",!0),w.$slots.year?ke("",!0):(ie(),pe(Ze,{key:1},[Ii(ht(t.year),1)],64))],40,xH),te(r)(te(o),t.instance)?(ie(),et(dd,{key:1,ref:"mpNextIconRef","aria-label":(C=te(l))==null?void 0:C.nextYear,disabled:t.isDisabled(!0),class:rt((k=te(c))==null?void 0:k.navBtnNext),onActivate:E[3]||(E[3]=A=>b(!0))},{default:pt(()=>[w.$slots["arrow-right"]?Ue(w.$slots,"arrow-right",{key:0}):ke("",!0),w.$slots["arrow-right"]?ke("",!0):(ie(),et(te(nb),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ke("",!0),De(Rs,{name:te(m)(t.showYearPicker),css:te(h)},{default:pt(()=>[t.showYearPicker?(ie(),et(Th,{key:0,items:t.items,"text-input":w.textInput,"esc-close":w.escClose,config:w.config,"is-last":w.autoApply&&!te(a).keepActionRow,"hide-navigation":w.hideNavigation,"aria-labels":w.ariaLabels,type:"year",onToggle:g,onSelected:E[4]||(E[4]=A=>y(A))},yi({"button-icon":pt(()=>[w.$slots["calendar-icon"]?Ue(w.$slots,"calendar-icon",{key:0}):ke("",!0),w.$slots["calendar-icon"]?ke("",!0):(ie(),et(te(gc),{key:1}))]),_:2},[w.$slots["year-overlay-value"]?{name:"item",fn:pt(({item:A})=>[Ue(w.$slots,"year-overlay-value",{text:A.text,value:A.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):ke("",!0)]),_:3},8,["name","css"])])}}}),db=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(i=>At(t,i))){const i=e.value.filter(r=>!At(r,t));e.value=i.length?i:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},hb=(t,e,n)=>{let i=t.value?t.value.slice():[];return i.length===2&&i[1]!==null&&(i=[]),i.length?Rn(e,i[0])?(i.unshift(e),n("range-start",i[0]),n("range-start",i[1])):(i[1]=e,n("range-end",e)):(i=[e],n("range-start",e)),i},Zm=(t,e,n,i)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&i&&n&&e("auto-apply"))},dM=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Er(Re(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Er(Re(t.value),t.timezone))},hM=(t,e,n,i)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&i.value.partialRange)?i.value.fixedStart&&($n(t,e.value[0])||At(t,e.value[0]))?[e.value[0],t]:i.value.fixedEnd&&(Rn(t,e.value[1])||At(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],fM=({multiCalendars:t,range:e,highlight:n,propDates:i,calendars:r,modelValue:s,props:a,filters:o,year:l,month:u,emit:c})=>{const h=Se(()=>ob(a.yearRange,a.locale,a.reverseYears)),m=Me([!1]),g=Se(()=>(j,U)=>{const G=rn(Kr(new Date),{month:u.value(j),year:l.value(j)}),ne=U?FA(G):Yd(G);return sM(ne,i.value.maxDate,i.value.minDate,a.preventMinMaxNavigation,U)}),y=()=>Array.isArray(s.value)&&t.value.solo&&s.value[1],b=()=>{for(let j=0;j<t.value.count;j++)if(j===0)r.value[j]=r.value[0];else if(j===t.value.count-1&&y())r.value[j]={month:It(s.value[1]),year:dt(s.value[1])};else{const U=rn(Re(),r.value[j-1]);r.value[j]={month:It(U),year:dt(q1(U,1))}}},w=j=>{if(!j)return b();const U=rn(Re(),r.value[j]);return r.value[0].year=dt(qA(U,t.value.count-1)),b()},E=(j,U)=>{const G=Fz(U,j);return e.value.showLastInRange&&G>1?U:j},x=j=>a.focusStartDate||t.value.solo?j[0]:j[1]?E(j[0],j[1]):j[0],_=()=>{if(s.value){const j=Array.isArray(s.value)?x(s.value):s.value;r.value[0]={month:It(j),year:dt(j)}}},T=()=>{_(),t.value.count&&b()};Tn(s,(j,U)=>{a.isTextInputDate&&JSON.stringify(j??{})!==JSON.stringify(U??{})&&T()}),xn(()=>{T()});const C=(j,U)=>{r.value[U].year=j,c("update-month-year",{instance:U,year:j,month:r.value[U].month}),t.value.count&&!t.value.solo&&w(U)},k=Se(()=>j=>rc(h.value,U=>{var G;const ne=l.value(j)===U.value,W=Kd(U.value,sc(i.value.minDate),sc(i.value.maxDate))||((G=o.value.years)==null?void 0:G.includes(l.value(j))),F=cb(n.value,U.value);return{active:ne,disabled:W,highlighted:F}})),A=(j,U)=>{C(j,U),R(U)},L=(j,U=!1)=>{if(!g.value(j,U)){const G=U?l.value(j)+1:l.value(j)-1;C(G,j)}},R=(j,U=!1,G)=>{U||c("reset-flow"),G!==void 0?m.value[j]=G:m.value[j]=!m.value[j],m.value[j]?c("overlay-toggle",{open:!0,overlay:Bi.year}):(c("overlay-closed"),c("overlay-toggle",{open:!1,overlay:Bi.year}))};return{isDisabled:g,groupedYears:k,showYearPicker:m,selectYear:C,toggleYearPicker:R,handleYearSelect:A,handleYear:L}},CH=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:i,defaultedTransitions:r,defaultedConfig:s,defaultedRange:a,defaultedHighlight:o,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:h}=Cn(t),m=()=>{t.isTextInputDate&&T(dt(Re(t.startDate)),0)},{modelValue:g,year:y,month:b,calendars:w}=Ch(t,e,m),E=Se(()=>ZA(t.formatLocale,t.locale,t.monthNameFormat)),x=Me(null),{checkMinMaxRange:_}=Co(t),{selectYear:T,groupedYears:C,showYearPicker:k,toggleYearPicker:A,handleYearSelect:L,handleYear:R,isDisabled:j}=fM({modelValue:g,multiCalendars:n,range:a,highlight:o,calendars:w,year:y,propDates:l,month:b,filters:c,props:t,emit:e});xn(()=>{t.startDate&&(g.value&&t.focusStartDate||!g.value)&&T(dt(Re(t.startDate)),0)});const U=O=>O?{month:It(O),year:dt(O)}:{month:null,year:null},G=()=>g.value?Array.isArray(g.value)?g.value.map(O=>U(O)):U(g.value):U(),ne=(O,re)=>{const Ee=w.value[O],q=G();return Array.isArray(q)?q.some(ye=>ye.year===Ee?.year&&ye.month===re):Ee?.year===q.year&&re===q.month},W=(O,re,Ee)=>{var q,ye;const Xe=G();return Array.isArray(Xe)?y.value(re)===((q=Xe[Ee])==null?void 0:q.year)&&O===((ye=Xe[Ee])==null?void 0:ye.month):!1},F=(O,re)=>{if(a.value.enabled){const Ee=G();if(Array.isArray(g.value)&&Array.isArray(Ee)){const q=W(O,re,0)||W(O,re,1),ye=Qs(Kr(Re()),O,y.value(re));return Km(g.value,x.value,ye)&&!q}return!1}return!1},B=Se(()=>O=>rc(E.value,re=>{var Ee;const q=ne(O,re.value),ye=Kd(re.value,tM(y.value(O),l.value.minDate),nM(y.value(O),l.value.maxDate))||XU(l.value.disabledDates,y.value(O)).includes(re.value)||((Ee=c.value.months)==null?void 0:Ee.includes(re.value)),Xe=F(re.value,O),de=oM(o.value,re.value,y.value(O));return{active:q,disabled:ye,isBetween:Xe,highlighted:de}})),N=(O,re)=>Qs(Kr(Re()),O,y.value(re)),Q=(O,re)=>{const Ee=g.value?g.value:Kr(new Date);g.value=Qs(Ee,O,y.value(re)),e("auto-apply"),e("update-flow-step")},_e=(O,re)=>{const Ee=N(O,re);a.value.fixedEnd||a.value.fixedStart?g.value=hM(Ee,g,e,a):g.value?_(Ee,g.value)&&(g.value=hb(g,N(O,re),e)):g.value=[N(O,re)],vi().then(()=>{Zm(g.value,e,t.autoApply,t.modelAuto)})},be=(O,re)=>{db(N(O,re),g,h.value.limit),e("auto-apply",!0)},xe=(O,re)=>(w.value[re].month=O,Z(re,w.value[re].year,O),h.value.enabled?be(O,re):a.value.enabled?_e(O,re):Q(O,re)),K=(O,re)=>{T(O,re),Z(re,O,null)},Z=(O,re,Ee)=>{let q=Ee;if(!q&&q!==0){const ye=G();q=Array.isArray(ye)?ye[O].month:ye.month}e("update-month-year",{instance:O,year:re,month:q})};return{groupedMonths:B,groupedYears:C,year:y,isDisabled:j,defaultedMultiCalendars:n,defaultedAriaLabels:i,defaultedTransitions:r,defaultedConfig:s,showYearPicker:k,modelValue:g,presetDate:(O,re)=>{dM({value:O,modelValue:g,range:a.value.enabled,timezone:re?void 0:u.value.timezone}),e("auto-apply")},setHoverDate:(O,re)=>{x.value=N(O,re)},selectMonth:xe,selectYear:K,toggleYearPicker:A,handleYearSelect:L,handleYear:R,getModelMonthYear:G}},SH=_n({compatConfig:{MODE:3},__name:"MonthPicker",props:{...os},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=da(),s=vr(r,"yearMode"),a=t;xn(()=>{a.shadow||i("mount",null)});const{groupedMonths:o,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:m,showYearPicker:g,modelValue:y,presetDate:b,setHoverDate:w,selectMonth:E,selectYear:x,toggleYearPicker:_,handleYearSelect:T,handleYear:C,getModelMonthYear:k}=CH(a,i);return e({getSidebarProps:()=>({modelValue:y,year:u,getModelMonthYear:k,selectMonth:E,selectYear:x,handleYear:C}),presetDate:b,toggleYearPicker:A=>_(0,A)}),(A,L)=>(ie(),et(Xm,{"multi-calendars":te(h).count,collapse:A.collapse,stretch:""},{default:pt(({instance:R})=>[A.$slots["top-extra"]?Ue(A.$slots,"top-extra",{key:0,value:A.internalModelValue}):ke("",!0),A.$slots["month-year"]?Ue(A.$slots,"month-year",Kn(Vn({key:1},{year:te(u),months:te(o)(R),years:te(l)(R),selectMonth:te(E),selectYear:te(x),instance:R}))):(ie(),et(Th,{key:2,items:te(o)(R),"arrow-navigation":A.arrowNavigation,"is-last":A.autoApply&&!te(m).keepActionRow,"esc-close":A.escClose,height:te(m).modeHeight,config:A.config,"no-overlay-focus":!!(A.noOverlayFocus||A.textInput),"use-relative":"",type:"month",onSelected:j=>te(E)(j,R),onHoverValue:j=>te(w)(j,R)},yi({header:pt(()=>[De(cM,Vn(A.$props,{items:te(l)(R),instance:R,"show-year-picker":te(g)[R],year:te(u)(R),"is-disabled":j=>te(c)(R,j),onHandleYear:j=>te(C)(R,j),onYearSelect:j=>te(T)(j,R),onToggleYearPicker:j=>te(_)(R,j?.flow,j?.show)}),yi({_:2},[Ut(te(s),(j,U)=>({name:j,fn:pt(G=>[Ue(A.$slots,j,Kn(Si(G)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[A.$slots["month-overlay-value"]?{name:"item",fn:pt(({item:j})=>[Ue(A.$slots,"month-overlay-value",{text:j.text,value:j.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),kH=(t,e)=>{const n=()=>{t.isTextInputDate&&(c.value=dt(Re(t.startDate)))},{modelValue:i}=Ch(t,e,n),r=Me(null),{defaultedHighlight:s,defaultedMultiDates:a,defaultedFilters:o,defaultedRange:l,propDates:u}=Cn(t),c=Me();xn(()=>{t.startDate&&(i.value&&t.focusStartDate||!i.value)&&(c.value=dt(Re(t.startDate)))});const h=b=>Array.isArray(i.value)?i.value.some(w=>dt(w)===b):i.value?dt(i.value)===b:!1,m=b=>l.value.enabled&&Array.isArray(i.value)?Km(i.value,r.value,y(b)):!1,g=Se(()=>rc(ob(t.yearRange,t.locale,t.reverseYears),b=>{const w=h(b.value),E=Kd(b.value,sc(u.value.minDate),sc(u.value.maxDate))||o.value.years.includes(b.value),x=m(b.value)&&!w,_=cb(s.value,b.value);return{active:w,disabled:E,isBetween:x,highlighted:_}})),y=b=>vs(Kr(Yd(new Date)),b);return{groupedYears:g,modelValue:i,focusYear:c,setHoverValue:b=>{r.value=vs(Kr(new Date),b)},selectYear:b=>{var w;if(e("update-month-year",{instance:0,year:b}),a.value.enabled)return i.value?Array.isArray(i.value)&&(((w=i.value)==null?void 0:w.map(E=>dt(E))).includes(b)?i.value=i.value.filter(E=>dt(E)!==b):i.value.push(vs(Xi(Re()),b))):i.value=[vs(Xi(Yd(Re())),b)],e("auto-apply",!0);l.value.enabled?(i.value=hb(i,y(b),e),vi().then(()=>{Zm(i.value,e,t.autoApply,t.modelAuto)})):(i.value=y(b),e("auto-apply"))}}},RH=_n({compatConfig:{MODE:3},__name:"YearPicker",props:{...os},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const i=n,r=t,{groupedYears:s,modelValue:a,focusYear:o,selectYear:l,setHoverValue:u}=kH(r,i),{defaultedConfig:c}=Cn(r);return e({getSidebarProps:()=>({modelValue:a,selectYear:l})}),(h,m)=>(ie(),pe("div",null,[h.$slots["top-extra"]?Ue(h.$slots,"top-extra",{key:0,value:h.internalModelValue}):ke("",!0),h.$slots["month-year"]?Ue(h.$slots,"month-year",Kn(Vn({key:1},{years:te(s),selectYear:te(l)}))):(ie(),et(Th,{key:2,items:te(s),"is-last":h.autoApply&&!te(c).keepActionRow,height:te(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":te(o),type:"year","use-relative":"",onSelected:te(l),onHoverValue:te(u)},yi({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:pt(({item:g})=>[Ue(h.$slots,"year-overlay-value",{text:g.text,value:g.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),IH={key:0,class:"dp__time_input"},AH=["data-test","aria-label","onKeydown","onClick","onMousedown"],MH=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),OH=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),PH=["aria-label","disabled","data-test","onKeydown","onClick"],DH=["data-test","aria-label","onKeydown","onClick","onMousedown"],LH=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),FH=Ae("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),NH={key:0},$H=["aria-label"],jH=_n({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...os},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const i=n,r=t,{setTimePickerElements:s,setTimePickerBackRef:a}=xo(),{defaultedAriaLabels:o,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:h}=Cn(r),{transitionName:m,showTransition:g}=xh(l),y=Fr({hours:!1,minutes:!1,seconds:!1}),b=Me("AM"),w=Me(null),E=Me([]),x=Me();xn(()=>{i("mounted")});const _=H=>rn(new Date,{hours:H.hours,minutes:H.minutes,seconds:r.enableSeconds?H.seconds:0,milliseconds:0}),T=Se(()=>H=>B(H,r[H])||k(H,r[H])),C=Se(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),k=(H,D)=>h.value.enabled&&!h.value.disableTimeRangeValidation?!r.validateTime(H,D):!1,A=(H,D)=>{if(h.value.enabled&&!h.value.disableTimeRangeValidation){const M=D?+r[`${H}Increment`]:-+r[`${H}Increment`],z=r[H]+M;return!r.validateTime(H,z)}return!1},L=Se(()=>H=>!xe(+r[H]+ +r[`${H}Increment`],H)||A(H,!0)),R=Se(()=>H=>!xe(+r[H]-+r[`${H}Increment`],H)||A(H,!1)),j=(H,D)=>IA(rn(Re(),H),D),U=(H,D)=>MU(rn(Re(),H),D),G=Se(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),ne=Se(()=>{const H=[{type:"hours"}];return r.enableMinutes&&H.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&H.push({type:"",separator:!0},{type:"seconds"}),H}),W=Se(()=>ne.value.filter(H=>!H.separator)),F=Se(()=>H=>{if(H==="hours"){const D=q(+r.hours);return{text:D<10?`0${D}`:`${D}`,value:D}}return{text:r[H]<10?`0${r[H]}`:`${r[H]}`,value:r[H]}}),B=(H,D)=>{var M;if(!r.disabledTimesConfig)return!1;const z=r.disabledTimesConfig(r.order,H==="hours"?D:void 0);return z[H]?!!((M=z[H])!=null&&M.includes(D)):!0},N=(H,D)=>D!=="hours"||b.value==="AM"?H:H+12,Q=H=>{const D=r.is24?24:12,M=H==="hours"?D:60,z=+r[`${H}GridIncrement`],J=H==="hours"&&!r.is24?z:0,he=[];for(let Y=J;Y<M;Y+=z)he.push({value:r.is24?Y:N(Y,H),text:Y<10?`0${Y}`:`${Y}`});return H==="hours"&&!r.is24&&he.unshift({value:b.value==="PM"?12:0,text:"12"}),rc(he,Y=>({active:!1,disabled:u.value.times[H].includes(Y.value)||!xe(Y.value,H)||B(H,Y.value)||k(H,Y.value)}))},_e=H=>H>=0?H:59,be=H=>H>=0?H:23,xe=(H,D)=>{const M=r.minTime?_(q0(r.minTime)):null,z=r.maxTime?_(q0(r.maxTime)):null,J=_(q0(C.value,D,D==="minutes"||D==="seconds"?_e(H):be(H)));return M&&z?(Wd(J,z)||Su(J,z))&&(nc(J,M)||Su(J,M)):M?nc(J,M)||Su(J,M):z?Wd(J,z)||Su(J,z):!0},K=H=>r[`no${H[0].toUpperCase()+H.slice(1)}Overlay`],Z=H=>{K(H)||(y[H]=!y[H],y[H]?i("overlay-opened",H):i("overlay-closed",H))},O=H=>H==="hours"?ua:H==="minutes"?po:tc,re=()=>{x.value&&clearTimeout(x.value)},Ee=(H,D=!0,M)=>{const z=D?j:U,J=D?+r[`${H}Increment`]:-+r[`${H}Increment`];xe(+r[H]+J,H)&&i(`update:${H}`,O(H)(z({[H]:+r[H]},{[H]:+r[`${H}Increment`]}))),!(M!=null&&M.keyboard)&&c.value.timeArrowHoldThreshold&&(x.value=setTimeout(()=>{Ee(H,D)},c.value.timeArrowHoldThreshold))},q=H=>r.is24?H:(H>=12?b.value="PM":b.value="AM",NU(H)),ye=()=>{b.value==="PM"?(b.value="AM",i("update:hours",r.hours-12)):(b.value="PM",i("update:hours",r.hours+12)),i("am-pm-change",b.value)},Xe=H=>{y[H]=!0},de=(H,D,M)=>{if(H&&r.arrowNavigation){Array.isArray(E.value[D])?E.value[D][M]=H:E.value[D]=[H];const z=E.value.reduce((J,he)=>he.map((Y,ue)=>[...J[ue]||[],he[ue]]),[]);a(r.closeTimePickerBtn),w.value&&(z[1]=z[1].concat(w.value)),s(z,r.order)}},Ke=(H,D)=>(Z(H),i(`update:${H}`,D));return e({openChildCmp:Xe}),(H,D)=>{var M;return H.disabled?ke("",!0):(ie(),pe("div",IH,[(ie(!0),pe(Ze,null,Ut(ne.value,(z,J)=>{var he,Y,ue;return ie(),pe("div",{key:J,class:rt(G.value)},[z.separator?(ie(),pe(Ze,{key:0},[Ii(" : ")],64)):(ie(),pe(Ze,{key:1},[Ae("button",{ref_for:!0,ref:P=>de(P,J,0),type:"button",class:rt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_top:H.timePickerInline,dp__inc_dec_button_disabled:L.value(z.type)}),"data-test":`${z.type}-time-inc-btn-${r.order}`,"aria-label":(he=te(o))==null?void 0:he.incrementValue(z.type),tabindex:"0",onKeydown:P=>te(ar)(P,()=>Ee(z.type,!0,{keyboard:!0}),!0),onClick:P=>te(c).timeArrowHoldThreshold?void 0:Ee(z.type,!0),onMousedown:P=>te(c).timeArrowHoldThreshold?Ee(z.type,!0):void 0,onMouseup:re},[r.timePickerInline?(ie(),pe(Ze,{key:1},[H.$slots["tp-inline-arrow-up"]?Ue(H.$slots,"tp-inline-arrow-up",{key:0}):(ie(),pe(Ze,{key:1},[MH,OH],64))],64)):(ie(),pe(Ze,{key:0},[H.$slots["arrow-up"]?Ue(H.$slots,"arrow-up",{key:0}):ke("",!0),H.$slots["arrow-up"]?ke("",!0):(ie(),et(te(rb),{key:1}))],64))],42,AH),Ae("button",{ref_for:!0,ref:P=>de(P,J,1),type:"button","aria-label":(Y=te(o))==null?void 0:Y.openTpOverlay(z.type),class:rt({dp__time_display:!0,dp__time_display_block:!H.timePickerInline,dp__time_display_inline:H.timePickerInline,"dp--time-invalid":T.value(z.type),"dp--time-overlay-btn":!T.value(z.type)}),disabled:K(z.type),tabindex:"0","data-test":`${z.type}-toggle-overlay-btn-${r.order}`,onKeydown:P=>te(ar)(P,()=>Z(z.type),!0),onClick:P=>Z(z.type)},[H.$slots[z.type]?Ue(H.$slots,z.type,{key:0,text:F.value(z.type).text,value:F.value(z.type).value}):ke("",!0),H.$slots[z.type]?ke("",!0):(ie(),pe(Ze,{key:1},[Ii(ht(F.value(z.type).text),1)],64))],42,PH),Ae("button",{ref_for:!0,ref:P=>de(P,J,2),type:"button",class:rt({dp__btn:!0,dp__inc_dec_button:!H.timePickerInline,dp__inc_dec_button_inline:H.timePickerInline,dp__tp_inline_btn_bottom:H.timePickerInline,dp__inc_dec_button_disabled:R.value(z.type)}),"data-test":`${z.type}-time-dec-btn-${r.order}`,"aria-label":(ue=te(o))==null?void 0:ue.decrementValue(z.type),tabindex:"0",onKeydown:P=>te(ar)(P,()=>Ee(z.type,!1,{keyboard:!0}),!0),onClick:P=>te(c).timeArrowHoldThreshold?void 0:Ee(z.type,!1),onMousedown:P=>te(c).timeArrowHoldThreshold?Ee(z.type,!1):void 0,onMouseup:re},[r.timePickerInline?(ie(),pe(Ze,{key:1},[H.$slots["tp-inline-arrow-down"]?Ue(H.$slots,"tp-inline-arrow-down",{key:0}):(ie(),pe(Ze,{key:1},[LH,FH],64))],64)):(ie(),pe(Ze,{key:0},[H.$slots["arrow-down"]?Ue(H.$slots,"arrow-down",{key:0}):ke("",!0),H.$slots["arrow-down"]?ke("",!0):(ie(),et(te(sb),{key:1}))],64))],42,DH)],64))],2)}),128)),H.is24?ke("",!0):(ie(),pe("div",NH,[H.$slots["am-pm-button"]?Ue(H.$slots,"am-pm-button",{key:0,toggle:ye,value:b.value}):ke("",!0),H.$slots["am-pm-button"]?ke("",!0):(ie(),pe("button",{key:1,ref_key:"amPmButton",ref:w,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(M=te(o))==null?void 0:M.amPmButton,tabindex:"0",onClick:ye,onKeydown:D[0]||(D[0]=z=>te(ar)(z,()=>ye(),!0))},ht(b.value),41,$H))])),(ie(!0),pe(Ze,null,Ut(W.value,(z,J)=>(ie(),et(Rs,{key:J,name:te(m)(y[z.type]),css:te(g)},{default:pt(()=>[y[z.type]?(ie(),et(Th,{key:0,items:Q(z.type),"is-last":H.autoApply&&!te(c).keepActionRow,"esc-close":H.escClose,type:z.type,"text-input":H.textInput,config:H.config,"arrow-navigation":H.arrowNavigation,"aria-labels":H.ariaLabels,onSelected:he=>Ke(z.type,he),onToggle:he=>Z(z.type),onResetFlow:D[1]||(D[1]=he=>H.$emit("reset-flow"))},yi({"button-icon":pt(()=>[H.$slots["clock-icon"]?Ue(H.$slots,"clock-icon",{key:0}):ke("",!0),H.$slots["clock-icon"]?ke("",!0):(ie(),et(lc(H.timePickerInline?te(gc):te(ib)),{key:1}))]),_:2},[H.$slots[`${z.type}-overlay-value`]?{name:"item",fn:pt(({item:he})=>[Ue(H.$slots,`${z.type}-overlay-value`,{text:he.text,value:he.value})]),key:"0"}:void 0,H.$slots[`${z.type}-overlay-header`]?{name:"header",fn:pt(()=>[Ue(H.$slots,`${z.type}-overlay-header`,{toggle:()=>Z(z.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):ke("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),BH={class:"dp--tp-wrap"},VH=["aria-label","tabindex"],GH=["tabindex"],zH=["aria-label"],pM=_n({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...os},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const i=n,r=t,{buildMatrix:s,setTimePicker:a}=xo(),o=da(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h,defaultedRange:m}=Cn(r),{transitionName:g,showTransition:y}=xh(l),{hideNavigationButtons:b}=Jm(),w=Me(null),E=Me(null),x=Me([]),_=Me(null);xn(()=>{i("mount"),!r.timePicker&&r.arrowNavigation?s([ii(w.value)],"time"):a(!0,r.timePicker)});const T=Se(()=>m.value.enabled&&r.modelAuto?JA(r.internalModelValue):!0),C=Me(!1),k=N=>({hours:Array.isArray(r.hours)?r.hours[N]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[N]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[N]:r.seconds}),A=Se(()=>{const N=[];if(m.value.enabled)for(let Q=0;Q<2;Q++)N.push(k(Q));else N.push(k(0));return N}),L=(N,Q=!1,_e="")=>{Q||i("reset-flow"),C.value=N,i(N?"overlay-opened":"overlay-closed",Bi.time),r.arrowNavigation&&a(N),vi(()=>{_e!==""&&x.value[0]&&x.value[0].openChildCmp(_e)})},R=Se(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!h.value.keepActionRow})),j=vr(o,"timePicker"),U=(N,Q,_e)=>m.value.enabled?Q===0?[N,A.value[1][_e]]:[A.value[0][_e],N]:N,G=N=>{i("update:hours",N)},ne=N=>{i("update:minutes",N)},W=N=>{i("update:seconds",N)},F=()=>{if(_.value&&!c.value.enabled&&!r.noOverlayFocus){const N=QA(_.value);N&&N.focus({preventScroll:!0})}},B=N=>{i("overlay-closed",N)};return e({toggleTimePicker:L}),(N,Q)=>{var _e;return ie(),pe("div",BH,[!N.timePicker&&!N.timePickerInline?ai((ie(),pe("button",{key:0,ref_key:"openTimePickerBtn",ref:w,type:"button",class:rt(R.value),"aria-label":(_e=te(u))==null?void 0:_e.openTimePicker,tabindex:N.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:Q[0]||(Q[0]=be=>te(ar)(be,()=>L(!0))),onClick:Q[1]||(Q[1]=be=>L(!0))},[N.$slots["clock-icon"]?Ue(N.$slots,"clock-icon",{key:0}):ke("",!0),N.$slots["clock-icon"]?ke("",!0):(ie(),et(te(ib),{key:1}))],42,VH)),[[oi,!te(b)(N.hideNavigation,"time")]]):ke("",!0),De(Rs,{name:te(g)(C.value),css:te(y)&&!N.timePickerInline},{default:pt(()=>{var be;return[C.value||N.timePicker||N.timePickerInline?(ie(),pe("div",{key:0,ref_key:"overlayRef",ref:_,class:rt({dp__overlay:!N.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!N.timePickerInline,"dp--overlay-relative":r.timePicker}),style:Bn(N.timePicker?{height:`${te(h).modeHeight}px`}:void 0),tabindex:N.timePickerInline?void 0:0},[Ae("div",{class:rt(N.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[N.$slots["time-picker-overlay"]?Ue(N.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:G,setMinutes:ne,setSeconds:W}):ke("",!0),N.$slots["time-picker-overlay"]?ke("",!0):(ie(),pe("div",{key:1,class:rt(N.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(ie(!0),pe(Ze,null,Ut(A.value,(xe,K)=>ai((ie(),et(jH,Vn({key:K,ref_for:!0},{...N.$props,order:K,hours:xe.hours,minutes:xe.minutes,seconds:xe.seconds,closeTimePickerBtn:E.value,disabledTimesConfig:t.disabledTimesConfig,disabled:K===0?N.fixedStart:N.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:x,"validate-time":(Z,O)=>t.validateTime(Z,U(O,K,Z)),"onUpdate:hours":Z=>G(U(Z,K,"hours")),"onUpdate:minutes":Z=>ne(U(Z,K,"minutes")),"onUpdate:seconds":Z=>W(U(Z,K,"seconds")),onMounted:F,onOverlayClosed:B,onOverlayOpened:Q[2]||(Q[2]=Z=>N.$emit("overlay-opened",Z)),onAmPmChange:Q[3]||(Q[3]=Z=>N.$emit("am-pm-change",Z))}),yi({_:2},[Ut(te(j),(Z,O)=>({name:Z,fn:pt(re=>[Ue(N.$slots,Z,Vn({ref_for:!0},re))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[oi,K===0?!0:T.value]])),128))],2)),!N.timePicker&&!N.timePickerInline?ai((ie(),pe("button",{key:2,ref_key:"closeTimePickerBtn",ref:E,type:"button",class:rt(R.value),"aria-label":(be=te(u))==null?void 0:be.closeTimePicker,tabindex:"0",onKeydown:Q[4]||(Q[4]=xe=>te(ar)(xe,()=>L(!1))),onClick:Q[5]||(Q[5]=xe=>L(!1))},[N.$slots["calendar-icon"]?Ue(N.$slots,"calendar-icon",{key:0}):ke("",!0),N.$slots["calendar-icon"]?ke("",!0):(ie(),et(te(gc),{key:1}))],42,zH)),[[oi,!te(b)(N.hideNavigation,"time")]]):ke("",!0)],2)],14,GH)):ke("",!0)]}),_:3},8,["name","css"])])}}}),mM=(t,e,n,i)=>{const{defaultedRange:r}=Cn(t),s=(_,T)=>Array.isArray(e[_])?e[_][T]:e[_],a=_=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[_]:e.seconds:0,o=(_,T)=>_?T!==void 0?ao(_,s("hours",T),s("minutes",T),a(T)):ao(_,e.hours,e.minutes,a()):KA(Re(),a(T)),l=(_,T)=>{e[_]=T},u=Se(()=>t.modelAuto&&r.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:r.value.enabled),c=(_,T)=>{const C=Object.fromEntries(Object.keys(e).map(k=>k===_?[k,T]:[k,e[k]].slice()));if(u.value&&!r.value.disableTimeRangeValidation){const k=L=>n.value?ao(n.value[L],C.hours[L],C.minutes[L],C.seconds[L]):null,A=L=>WA(n.value[L],0);return!(At(k(0),k(1))&&(nc(k(0),A(1))||Wd(k(1),A(0))))}return!0},h=(_,T)=>{c(_,T)&&(l(_,T),i&&i())},m=_=>{h("hours",_)},g=_=>{h("minutes",_)},y=_=>{h("seconds",_)},b=(_,T,C,k)=>{T&&m(_),!T&&!C&&g(_),C&&y(_),n.value&&k(n.value)},w=_=>{if(_){const T=Array.isArray(_),C=T?[+_[0].hours,+_[1].hours]:+_.hours,k=T?[+_[0].minutes,+_[1].minutes]:+_.minutes,A=T?[+_[0].seconds,+_[1].seconds]:+_.seconds;l("hours",C),l("minutes",k),t.enableSeconds&&l("seconds",A)}},E=(_,T)=>{const C={hours:Array.isArray(e.hours)?e.hours[_]:e.hours,disabledArr:[]};return(T||T===0)&&(C.hours=T),Array.isArray(t.disabledTimes)&&(C.disabledArr=r.value.enabled&&Array.isArray(t.disabledTimes[_])?t.disabledTimes[_]:t.disabledTimes),C},x=Se(()=>(_,T)=>{var C;if(Array.isArray(t.disabledTimes)){const{disabledArr:k,hours:A}=E(_,T),L=k.filter(R=>+R.hours===A);return((C=L[0])==null?void 0:C.minutes)==="*"?{hours:[A],minutes:void 0,seconds:void 0}:{hours:[],minutes:L?.map(R=>+R.minutes)??[],seconds:L?.map(R=>R.seconds?+R.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:m,updateMinutes:g,updateSeconds:y,getSetDateTime:o,updateTimeValues:b,getSecondsValue:a,assignStartTime:w,validateTime:c,disabledTimesConfig:x}},UH=(t,e)=>{const n=()=>{t.isTextInputDate&&T()},{modelValue:i,time:r}=Ch(t,e,n),{defaultedStartTime:s,defaultedRange:a,defaultedTz:o}=Cn(t),{updateTimeValues:l,getSetDateTime:u,setTime:c,assignStartTime:h,disabledTimesConfig:m,validateTime:g}=mM(t,r,i,y);function y(){e("update-flow-step")}const b=k=>{const{hours:A,minutes:L,seconds:R}=k;return{hours:+A,minutes:+L,seconds:R?+R:0}},w=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const A=b(t.startTime[0]),L=b(t.startTime[1]);return[rn(Re(),A),rn(Re(),L)]}const k=b(t.startTime);return rn(Re(),k)}return a.value.enabled?[null,null]:null},E=()=>{if(a.value.enabled){const[k,A]=w();i.value=[Er(u(k,0),o.value.timezone),Er(u(A,1),o.value.timezone)]}else i.value=Er(u(w()),o.value.timezone)},x=k=>Array.isArray(k)?[_l(Re(k[0])),_l(Re(k[1]))]:[_l(k??Re())],_=(k,A,L)=>{c("hours",k),c("minutes",A),c("seconds",t.enableSeconds?L:0)},T=()=>{const[k,A]=x(i.value);return a.value.enabled?_([k.hours,A.hours],[k.minutes,A.minutes],[k.seconds,A.seconds]):_(k.hours,k.minutes,k.seconds)};xn(()=>{if(!t.shadow)return h(s.value),i.value?T():E()});const C=()=>{Array.isArray(i.value)?i.value=i.value.map((k,A)=>k&&u(k,A)):i.value=u(i.value),e("time-update")};return{modelValue:i,time:r,disabledTimesConfig:m,updateTime:(k,A=!0,L=!1)=>{l(k,A,L,C)},validateTime:g}},HH=_n({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...os},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=t,s=da(),a=vr(s,"timePicker"),o=Me(null),{time:l,modelValue:u,disabledTimesConfig:c,updateTime:h,validateTime:m}=UH(r,i);return xn(()=>{r.shadow||i("mount",null)}),e({getSidebarProps:()=>({modelValue:u,time:l,updateTime:h}),toggleTimePicker:(g,y=!1,b="")=>{var w;(w=o.value)==null||w.toggleTimePicker(g,y,b)}}),(g,y)=>(ie(),et(Xm,{"multi-calendars":0,stretch:""},{default:pt(()=>[De(pM,Vn({ref_key:"tpRef",ref:o},g.$props,{hours:te(l).hours,minutes:te(l).minutes,seconds:te(l).seconds,"internal-model-value":g.internalModelValue,"disabled-times-config":te(c),"validate-time":te(m),"onUpdate:hours":y[0]||(y[0]=b=>te(h)(b)),"onUpdate:minutes":y[1]||(y[1]=b=>te(h)(b,!1)),"onUpdate:seconds":y[2]||(y[2]=b=>te(h)(b,!1,!0)),onAmPmChange:y[3]||(y[3]=b=>g.$emit("am-pm-change",b)),onResetFlow:y[4]||(y[4]=b=>g.$emit("reset-flow")),onOverlayClosed:y[5]||(y[5]=b=>g.$emit("overlay-toggle",{open:!1,overlay:b})),onOverlayOpened:y[6]||(y[6]=b=>g.$emit("overlay-toggle",{open:!0,overlay:b}))}),yi({_:2},[Ut(te(a),(b,w)=>({name:b,fn:pt(E=>[Ue(g.$slots,b,Kn(Si(E)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),YH={class:"dp--header-wrap"},WH={key:0,class:"dp__month_year_wrap"},KH={key:0},qH={class:"dp__month_year_wrap"},XH=["aria-label","data-test","onClick","onKeydown"],ZH=_n({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...os},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const i=n,r=t,{defaultedTransitions:s,defaultedAriaLabels:a,defaultedMultiCalendars:o,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:h,defaultedUI:m}=Cn(r),{transitionName:g,showTransition:y}=xh(s),{buildMatrix:b}=xo(),{handleMonthYearChange:w,isDisabled:E,updateMonthYear:x}=mH(r,i),{showLeftIcon:_,showRightIcon:T}=Jm(),C=Me(!1),k=Me(!1),A=Me([null,null,null,null]);xn(()=>{i("mount")});const L=K=>({get:()=>r[K],set:Z=>{const O=K===zr.month?zr.year:zr.month;i("update-month-year",{[K]:Z,[O]:r[O]}),K===zr.month?B(!0):N(!0)}}),R=Se(L(zr.month)),j=Se(L(zr.year)),U=Se(()=>K=>({month:r.month,year:r.year,items:K===zr.month?r.months:r.years,instance:r.instance,updateMonthYear:x,toggle:K===zr.month?B:N})),G=Se(()=>r.months.find(Z=>Z.value===r.month)||{text:"",value:0}),ne=Se(()=>rc(r.months,K=>{const Z=r.month===K.value,O=Kd(K.value,tM(r.year,h.value.minDate),nM(r.year,h.value.maxDate))||l.value.months.includes(K.value),re=oM(c.value,K.value,r.year);return{active:Z,disabled:O,highlighted:re}})),W=Se(()=>rc(r.years,K=>{const Z=r.year===K.value,O=Kd(K.value,sc(h.value.minDate),sc(h.value.maxDate))||l.value.years.includes(K.value),re=cb(c.value,K.value);return{active:Z,disabled:O,highlighted:re}})),F=(K,Z,O)=>{O!==void 0?K.value=O:K.value=!K.value,K.value?i("overlay-opened",Z):i("overlay-closed",Z)},B=(K=!1,Z)=>{Q(K),F(C,Bi.month,Z)},N=(K=!1,Z)=>{Q(K),F(k,Bi.year,Z)},Q=K=>{K||i("reset-flow")},_e=(K,Z)=>{r.arrowNavigation&&(A.value[Z]=ii(K),b(A.value,"monthYear"))},be=Se(()=>{var K,Z;return[{type:zr.month,index:1,toggle:B,modelValue:R.value,updateModelValue:O=>R.value=O,text:G.value.text,showSelectionGrid:C.value,items:ne.value,ariaLabel:(K=a.value)==null?void 0:K.openMonthsOverlay},{type:zr.year,index:2,toggle:N,modelValue:j.value,updateModelValue:O=>j.value=O,text:eM(r.year,r.locale),showSelectionGrid:k.value,items:W.value,ariaLabel:(Z=a.value)==null?void 0:Z.openYearsOverlay}]}),xe=Se(()=>r.disableYearSelect?[be.value[0]]:r.yearFirst?[...be.value].reverse():be.value);return e({toggleMonthPicker:B,toggleYearPicker:N,handleMonthYearChange:w}),(K,Z)=>{var O,re,Ee,q,ye,Xe;return ie(),pe("div",YH,[K.$slots["month-year"]?(ie(),pe("div",WH,[Ue(K.$slots,"month-year",Kn(Si({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:te(x),handleMonthYearChange:te(w),instance:t.instance})))])):(ie(),pe(Ze,{key:1},[K.$slots["top-extra"]?(ie(),pe("div",KH,[Ue(K.$slots,"top-extra",{value:K.internalModelValue})])):ke("",!0),Ae("div",qH,[te(_)(te(o),t.instance)&&!K.vertical?(ie(),et(dd,{key:0,"aria-label":(O=te(a))==null?void 0:O.prevMonth,disabled:te(E)(!1),class:rt((re=te(m))==null?void 0:re.navBtnPrev),onActivate:Z[0]||(Z[0]=de=>te(w)(!1,!0)),onSetRef:Z[1]||(Z[1]=de=>_e(de,0))},{default:pt(()=>[K.$slots["arrow-left"]?Ue(K.$slots,"arrow-left",{key:0}):ke("",!0),K.$slots["arrow-left"]?ke("",!0):(ie(),et(te(tb),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ke("",!0),Ae("div",{class:rt(["dp__month_year_wrap",{dp__year_disable_select:K.disableYearSelect}])},[(ie(!0),pe(Ze,null,Ut(xe.value,(de,Ke)=>(ie(),pe(Ze,{key:de.type},[Ae("button",{ref_for:!0,ref:H=>_e(H,Ke+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":de.ariaLabel,"data-test":`${de.type}-toggle-overlay-${t.instance}`,onClick:de.toggle,onKeydown:H=>te(ar)(H,()=>de.toggle(),!0)},[K.$slots[de.type]?Ue(K.$slots,de.type,{key:0,text:de.text,value:r[de.type]}):ke("",!0),K.$slots[de.type]?ke("",!0):(ie(),pe(Ze,{key:1},[Ii(ht(de.text),1)],64))],40,XH),De(Rs,{name:te(g)(de.showSelectionGrid),css:te(y)},{default:pt(()=>[de.showSelectionGrid?(ie(),et(Th,{key:0,items:de.items,"arrow-navigation":K.arrowNavigation,"hide-navigation":K.hideNavigation,"is-last":K.autoApply&&!te(u).keepActionRow,"skip-button-ref":!1,config:K.config,type:de.type,"header-refs":[],"esc-close":K.escClose,"menu-wrap-ref":K.menuWrapRef,"text-input":K.textInput,"aria-labels":K.ariaLabels,onSelected:de.updateModelValue,onToggle:de.toggle},yi({"button-icon":pt(()=>[K.$slots["calendar-icon"]?Ue(K.$slots,"calendar-icon",{key:0}):ke("",!0),K.$slots["calendar-icon"]?ke("",!0):(ie(),et(te(gc),{key:1}))]),_:2},[K.$slots[`${de.type}-overlay-value`]?{name:"item",fn:pt(({item:H})=>[Ue(K.$slots,`${de.type}-overlay-value`,{text:H.text,value:H.value})]),key:"0"}:void 0,K.$slots[`${de.type}-overlay`]?{name:"overlay",fn:pt(()=>[Ue(K.$slots,`${de.type}-overlay`,Vn({ref_for:!0},U.value(de.type)))]),key:"1"}:void 0,K.$slots[`${de.type}-overlay-header`]?{name:"header",fn:pt(()=>[Ue(K.$slots,`${de.type}-overlay-header`,{toggle:de.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):ke("",!0)]),_:2},1032,["name","css"])],64))),128))],2),te(_)(te(o),t.instance)&&K.vertical?(ie(),et(dd,{key:1,"aria-label":(Ee=te(a))==null?void 0:Ee.prevMonth,disabled:te(E)(!1),class:rt((q=te(m))==null?void 0:q.navBtnPrev),onActivate:Z[2]||(Z[2]=de=>te(w)(!1,!0))},{default:pt(()=>[K.$slots["arrow-up"]?Ue(K.$slots,"arrow-up",{key:0}):ke("",!0),K.$slots["arrow-up"]?ke("",!0):(ie(),et(te(rb),{key:1}))]),_:3},8,["aria-label","disabled","class"])):ke("",!0),te(T)(te(o),t.instance)?(ie(),et(dd,{key:2,ref:"rightIcon",disabled:te(E)(!0),"aria-label":(ye=te(a))==null?void 0:ye.nextMonth,class:rt((Xe=te(m))==null?void 0:Xe.navBtnNext),onActivate:Z[3]||(Z[3]=de=>te(w)(!0,!0)),onSetRef:Z[4]||(Z[4]=de=>_e(de,K.disableYearSelect?2:3))},{default:pt(()=>[K.$slots[K.vertical?"arrow-down":"arrow-right"]?Ue(K.$slots,K.vertical?"arrow-down":"arrow-right",{key:0}):ke("",!0),K.$slots[K.vertical?"arrow-down":"arrow-right"]?ke("",!0):(ie(),et(lc(K.vertical?te(sb):te(nb)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):ke("",!0)])],64))])}}}),JH=["aria-label"],QH={class:"dp__calendar_header",role:"row"},eY={key:0,class:"dp__calendar_header_item",role:"gridcell"},tY=["aria-label"],nY=Ae("div",{class:"dp__calendar_header_separator"},null,-1),iY=["aria-label"],rY={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},sY={class:"dp__cell_inner"},aY=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],oY=_n({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...os},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const i=n,r=t,{buildMultiLevelMatrix:s}=xo(),{defaultedTransitions:a,defaultedConfig:o,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:h,defaultedUI:m}=Cn(r),g=Me(null),y=Me({bottom:"",left:"",transform:""}),b=Me([]),w=Me(null),E=Me(!0),x=Me(""),_=Me({startX:0,endX:0,startY:0,endY:0}),T=Me([]),C=Me({left:"50%"}),k=Me(!1),A=Se(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),L=Se(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):FU(r.formatLocale,r.locale,+r.weekStart));xn(()=>{i("mount",{cmp:"calendar",refs:b}),o.value.noSwipe||w.value&&(w.value.addEventListener("touchstart",_e,{passive:!1}),w.value.addEventListener("touchend",be,{passive:!1}),w.value.addEventListener("touchmove",xe,{passive:!1})),r.monthChangeOnScroll&&w.value&&w.value.addEventListener("wheel",O,{passive:!1})});const R=de=>de?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",j=(de,Ke)=>{if(r.transitions){const H=Xi(Qs(Re(),r.month,r.year));x.value=$n(Xi(Qs(Re(),de,Ke)),H)?a.value[R(!0)]:a.value[R(!1)],E.value=!1,vi(()=>{E.value=!0})}},U=Se(()=>({[r.calendarClassName]:!!r.calendarClassName,...m.value.calendar??{}})),G=Se(()=>de=>{const Ke=$U(de);return{dp__marker_dot:Ke.type==="dot",dp__marker_line:Ke.type==="line"}}),ne=Se(()=>de=>At(de,g.value)),W=Se(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&r.instance!==0})),F=Se(()=>de=>r.hideOffsetDates?de.current:!0),B=async(de,Ke,H)=>{const D=ii(b.value[Ke][H]);if(D){const{width:M,height:z}=D.getBoundingClientRect();g.value=de.value;let J={left:`${M/2}px`},he=-50;if(await vi(),T.value[0]){const{left:Y,width:ue}=T.value[0].getBoundingClientRect();Y<0&&(J={left:"0"},he=0,C.value.left=`${M/2}px`),window.innerWidth<Y+ue&&(J={right:"0"},he=0,C.value.left=`${ue-M/2}px`)}y.value={bottom:`${z}px`,...J,transform:`translateX(${he}%)`},i("tooltip-open",de.marker)}},N=async(de,Ke,H)=>{var D,M;if(k.value&&h.value.enabled&&h.value.dragSelect)return i("select-date",de);i("set-hover-date",de),(M=(D=de.marker)==null?void 0:D.tooltip)!=null&&M.length&&await B(de,Ke,H)},Q=de=>{g.value&&(g.value=null,y.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),i("tooltip-close",de.marker))},_e=de=>{_.value.startX=de.changedTouches[0].screenX,_.value.startY=de.changedTouches[0].screenY},be=de=>{_.value.endX=de.changedTouches[0].screenX,_.value.endY=de.changedTouches[0].screenY,K()},xe=de=>{r.vertical&&!r.inline&&de.preventDefault()},K=()=>{const de=r.vertical?"Y":"X";Math.abs(_.value[`start${de}`]-_.value[`end${de}`])>10&&i("handle-swipe",_.value[`start${de}`]>_.value[`end${de}`]?"right":"left")},Z=(de,Ke,H)=>{de&&(Array.isArray(b.value[Ke])?b.value[Ke][H]=de:b.value[Ke]=[de]),r.arrowNavigation&&s(b.value,"calendar")},O=de=>{r.monthChangeOnScroll&&(de.preventDefault(),i("handle-scroll",de))},re=de=>c.value.type==="local"?J1(de.value,{weekStartsOn:+r.weekStart}):c.value.type==="iso"?X1(de.value):typeof c.value.type=="function"?c.value.type(de.value):"",Ee=de=>{const Ke=de[0];return c.value.hideOnOffsetDates?de.some(H=>H.current)?re(Ke):"":re(Ke)},q=(de,Ke)=>{h.value.enabled||(so(de,o.value),i("select-date",Ke))},ye=de=>{so(de,o.value)},Xe=de=>{h.value.enabled&&h.value.dragSelect?(k.value=!0,i("select-date",de)):h.value.enabled&&i("select-date",de)};return e({triggerTransition:j}),(de,Ke)=>{var H;return ie(),pe("div",{class:rt(W.value)},[Ae("div",{ref_key:"calendarWrapRef",ref:w,role:"grid",class:rt(U.value),"aria-label":(H=te(l))==null?void 0:H.calendarWrap},[Ae("div",QH,[de.weekNumbers?(ie(),pe("div",eY,ht(de.weekNumName),1)):ke("",!0),(ie(!0),pe(Ze,null,Ut(L.value,(D,M)=>{var z,J;return ie(),pe("div",{key:M,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(J=(z=te(l))==null?void 0:z.weekDay)==null?void 0:J.call(z,M)},[de.$slots["calendar-header"]?Ue(de.$slots,"calendar-header",{key:0,day:D,index:M}):ke("",!0),de.$slots["calendar-header"]?ke("",!0):(ie(),pe(Ze,{key:1},[Ii(ht(D),1)],64))],8,tY)}),128))]),nY,De(Rs,{name:x.value,css:!!de.transitions},{default:pt(()=>{var D;return[E.value?(ie(),pe("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((D=te(l))==null?void 0:D.calendarDays)||void 0,onMouseleave:Ke[1]||(Ke[1]=M=>k.value=!1)},[(ie(!0),pe(Ze,null,Ut(A.value,(M,z)=>(ie(),pe("div",{key:z,class:"dp__calendar_row",role:"row"},[de.weekNumbers?(ie(),pe("div",rY,[Ae("div",sY,ht(Ee(M.days)),1)])):ke("",!0),(ie(!0),pe(Ze,null,Ut(M.days,(J,he)=>{var Y,ue,P;return ie(),pe("div",{id:te(lM)(J.value),ref_for:!0,ref:$=>Z($,z,he),key:he+z,role:"gridcell",class:"dp__calendar_item","aria-selected":(J.classData.dp__active_date||J.classData.dp__range_start||J.classData.dp__range_start)??void 0,"aria-disabled":J.classData.dp__cell_disabled||void 0,"aria-label":(ue=(Y=te(l))==null?void 0:Y.day)==null?void 0:ue.call(Y,J),tabindex:"0","data-test":J.value,onClick:Cl($=>q($,J),["prevent"]),onKeydown:$=>te(ar)($,()=>de.$emit("select-date",J)),onMouseenter:$=>N(J,z,he),onMouseleave:$=>Q(J),onMousedown:$=>Xe(J),onMouseup:Ke[0]||(Ke[0]=$=>k.value=!1)},[Ae("div",{class:rt(["dp__cell_inner",J.classData])},[de.$slots.day&&F.value(J)?Ue(de.$slots,"day",{key:0,day:+J.text,date:J.value}):ke("",!0),de.$slots.day?ke("",!0):(ie(),pe(Ze,{key:1},[Ii(ht(J.text),1)],64)),J.marker&&F.value(J)?(ie(),pe(Ze,{key:2},[de.$slots.marker?Ue(de.$slots,"marker",{key:0,marker:J.marker,day:+J.text,date:J.value}):(ie(),pe("div",{key:1,class:rt(G.value(J.marker)),style:Bn(J.marker.color?{backgroundColor:J.marker.color}:{})},null,6))],64)):ke("",!0),ne.value(J.value)?(ie(),pe("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:T,class:"dp__marker_tooltip",style:Bn(y.value)},[(P=J.marker)!=null&&P.tooltip?(ie(),pe("div",{key:0,class:"dp__tooltip_content",onClick:ye},[(ie(!0),pe(Ze,null,Ut(J.marker.tooltip,($,X)=>(ie(),pe("div",{key:X,class:"dp__tooltip_text"},[de.$slots["marker-tooltip"]?Ue(de.$slots,"marker-tooltip",{key:0,tooltip:$,day:J.value}):ke("",!0),de.$slots["marker-tooltip"]?ke("",!0):(ie(),pe(Ze,{key:1},[Ae("div",{class:"dp__tooltip_mark",style:Bn($.color?{backgroundColor:$.color}:{})},null,4),Ae("div",null,ht($.text),1)],64))]))),128)),Ae("div",{class:"dp__arrow_bottom_tp",style:Bn(C.value)},null,4)])):ke("",!0)],4)):ke("",!0)],2)],40,aY)}),128))]))),128))],40,iY)):ke("",!0)]}),_:3},8,["name","css"])],10,JH)],2)}}}),fC=t=>Array.isArray(t),lY=(t,e,n,i)=>{const r=Me([]),s=Me(new Date),a=Me(),o=()=>be(t.isTextInputDate),{modelValue:l,calendars:u,time:c,today:h}=Ch(t,e,o),{defaultedMultiCalendars:m,defaultedStartTime:g,defaultedRange:y,defaultedConfig:b,defaultedTz:w,propDates:E,defaultedMultiDates:x}=Cn(t),{validateMonthYearInRange:_,isDisabled:T,isDateRangeAllowed:C,checkMinMaxRange:k}=Co(t),{updateTimeValues:A,getSetDateTime:L,setTime:R,assignStartTime:j,validateTime:U,disabledTimesConfig:G}=mM(t,c,l,i),ne=Se(()=>oe=>u.value[oe]?u.value[oe].month:0),W=Se(()=>oe=>u.value[oe]?u.value[oe].year:0),F=oe=>!b.value.keepViewOnOffsetClick||oe?!0:!a.value,B=(oe,Oe,ge,Pe=!1)=>{var Be,Xt;F(Pe)&&(u.value[oe]||(u.value[oe]={month:0,year:0}),u.value[oe].month=lC(Oe)?(Be=u.value[oe])==null?void 0:Be.month:Oe,u.value[oe].year=lC(ge)?(Xt=u.value[oe])==null?void 0:Xt.year:ge)},N=()=>{t.autoApply&&e("select-date")};xn(()=>{t.shadow||(l.value||(Ke(),g.value&&j(g.value)),be(!0),t.focusStartDate&&t.startDate&&Ke())});const Q=Se(()=>{var oe;return(oe=t.flow)!=null&&oe.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),_e=()=>{t.autoApply&&Q.value&&e("auto-apply")},be=(oe=!1)=>{if(l.value)return Array.isArray(l.value)?(r.value=l.value,q(oe)):Z(l.value,oe);if(m.value.count&&oe&&!t.startDate)return K(Re(),oe)},xe=()=>Array.isArray(l.value)&&y.value.enabled?It(l.value[0])===It(l.value[1]??l.value[0]):!1,K=(oe=new Date,Oe=!1)=>{if((!m.value.count||!m.value.static||Oe)&&B(0,It(oe),dt(oe)),m.value.count&&(!m.value.solo||!l.value||xe()))for(let ge=1;ge<m.value.count;ge++){const Pe=rn(Re(),{month:ne.value(ge-1),year:W.value(ge-1)}),Be=IA(Pe,{months:1});u.value[ge]={month:It(Be),year:dt(Be)}}},Z=(oe,Oe)=>{K(oe),R("hours",ua(oe)),R("minutes",po(oe)),R("seconds",tc(oe)),m.value.count&&Oe&&de()},O=oe=>{if(m.value.count){if(m.value.solo)return 0;const Oe=It(oe[0]),ge=It(oe[1]);return Math.abs(ge-Oe)<m.value.count?0:1}return 1},re=(oe,Oe)=>{oe[1]&&y.value.showLastInRange?K(oe[O(oe)],Oe):K(oe[0],Oe);const ge=(Pe,Be)=>[Pe(oe[0]),oe[1]?Pe(oe[1]):c[Be][1]];R("hours",ge(ua,"hours")),R("minutes",ge(po,"minutes")),R("seconds",ge(tc,"seconds"))},Ee=(oe,Oe)=>{if((y.value.enabled||t.weekPicker)&&!x.value.enabled)return re(oe,Oe);if(x.value.enabled&&Oe){const ge=oe[oe.length-1];return Z(ge,Oe)}},q=oe=>{const Oe=l.value;Ee(Oe,oe),m.value.count&&m.value.solo&&de()},ye=(oe,Oe)=>{const ge=rn(Re(),{month:ne.value(Oe),year:W.value(Oe)}),Pe=oe<0?Jr(ge,1):ic(ge,1);_(It(Pe),dt(Pe),oe<0,t.preventMinMaxNavigation)&&(B(Oe,It(Pe),dt(Pe)),e("update-month-year",{instance:Oe,month:It(Pe),year:dt(Pe)}),m.value.count&&!m.value.solo&&Xe(Oe),n())},Xe=oe=>{for(let Oe=oe-1;Oe>=0;Oe--){const ge=ic(rn(Re(),{month:ne.value(Oe+1),year:W.value(Oe+1)}),1);B(Oe,It(ge),dt(ge))}for(let Oe=oe+1;Oe<=m.value.count-1;Oe++){const ge=Jr(rn(Re(),{month:ne.value(Oe-1),year:W.value(Oe-1)}),1);B(Oe,It(ge),dt(ge))}},de=()=>{if(Array.isArray(l.value)&&l.value.length===2){const oe=Re(Re(l.value[1]?l.value[1]:Jr(l.value[0],1))),[Oe,ge]=[It(l.value[0]),dt(l.value[0])],[Pe,Be]=[It(l.value[1]),dt(l.value[1])];(Oe!==Pe||Oe===Pe&&ge!==Be)&&m.value.solo&&B(1,It(oe),dt(oe))}else l.value&&!Array.isArray(l.value)&&(B(0,It(l.value),dt(l.value)),K(Re()))},Ke=()=>{t.startDate&&(B(0,It(Re(t.startDate)),dt(Re(t.startDate))),m.value.count&&Xe(0))},H=(oe,Oe)=>{if(t.monthChangeOnScroll){const ge=new Date().getTime()-s.value.getTime(),Pe=Math.abs(oe.deltaY);let Be=500;Pe>1&&(Be=100),Pe>100&&(Be=0),ge>Be&&(s.value=new Date,ye(t.monthChangeOnScroll!=="inverse"?-oe.deltaY:oe.deltaY,Oe))}},D=(oe,Oe,ge=!1)=>{t.monthChangeOnArrows&&t.vertical===ge&&M(oe,Oe)},M=(oe,Oe)=>{ye(oe==="right"?-1:1,Oe)},z=oe=>{if(E.value.markers)return jp(oe.value,E.value.markers)},J=(oe,Oe)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[oe==0,!0];case"fair":return[oe==0||Oe>oe,!0];case"append":return[!1,!1];default:return[!1,!1]}},he=(oe,Oe,ge,Pe)=>{if(t.sixWeeks&&oe.length<6){const Be=6-oe.length,Xt=(Oe.getDay()+7-Pe)%7,dn=6-(ge.getDay()+7-Pe)%7,[Cr,Mi]=J(Xt,dn);for(let Pn=1;Pn<=Be;Pn++)if(Mi?!!(Pn%2)==Cr:Cr){const Zt=oe[0].days[0],ui=Y(Wr(Zt.value,-7),It(Oe));oe.unshift({days:ui})}else{const Zt=oe[oe.length-1],ui=Zt.days[Zt.days.length-1],Xn=Y(Wr(ui.value,1),It(Oe));oe.push({days:Xn})}}return oe},Y=(oe,Oe)=>{const ge=Re(oe),Pe=[];for(let Be=0;Be<7;Be++){const Xt=Wr(ge,Be),dn=It(Xt)!==Oe;Pe.push({text:t.hideOffsetDates&&dn?"":Xt.getDate(),value:Xt,current:!dn,classData:{}})}return Pe},ue=(oe,Oe)=>{const ge=[],Pe=new Date(Oe,oe),Be=new Date(Oe,oe+1,0),Xt=t.weekStart,dn=is(Pe,{weekStartsOn:Xt}),Cr=Mi=>{const Pn=Y(Mi,oe);if(ge.push({days:Pn}),!ge[ge.length-1].days.some(Zt=>At(Xi(Zt.value),Xi(Be)))){const Zt=Wr(Mi,7);Cr(Zt)}};return Cr(dn),he(ge,Pe,Be,Xt)},P=oe=>{const Oe=ao(Re(oe.value),c.hours,c.minutes,ce());e("date-update",Oe),x.value.enabled?db(Oe,l,x.value.limit):l.value=Oe,i(),vi().then(()=>{_e()})},$=oe=>y.value.noDisabledRange?iM(r.value[0],oe).some(Oe=>T(Oe)):!1,X=()=>{r.value=l.value?l.value.slice():[],r.value.length===2&&!(y.value.fixedStart||y.value.fixedEnd)&&(r.value=[])},se=(oe,Oe)=>{const ge=[Re(oe.value),Wr(Re(oe.value),+y.value.autoRange)];C(ge)?(Oe&&Ie(oe.value),r.value=ge):e("invalid-date",oe.value)},Ie=oe=>{const Oe=It(Re(oe)),ge=dt(Re(oe));if(B(0,Oe,ge),m.value.count>0)for(let Pe=1;Pe<m.value.count;Pe++){const Be=YU(rn(Re(oe),{year:ne.value(Pe-1),month:W.value(Pe-1)}));B(Pe,Be.month,Be.year)}},we=oe=>{if($(oe.value)||!k(oe.value,l.value,y.value.fixedStart?0:1))return e("invalid-date",oe.value);r.value=hM(Re(oe.value),l,e,y)},ae=(oe,Oe)=>{if(X(),y.value.autoRange)return se(oe,Oe);if(y.value.fixedStart||y.value.fixedEnd)return we(oe);r.value[0]?k(Re(oe.value),l.value)&&!$(oe.value)?Rn(Re(oe.value),Re(r.value[0]))?(r.value.unshift(Re(oe.value)),e("range-end",r.value[0])):(r.value[1]=Re(oe.value),e("range-end",r.value[1])):(t.autoApply&&e("auto-apply-invalid",oe.value),e("invalid-date",oe.value)):(r.value[0]=Re(oe.value),e("range-start",r.value[0]))},ce=(oe=!0)=>t.enableSeconds?Array.isArray(c.seconds)?oe?c.seconds[0]:c.seconds[1]:c.seconds:0,Le=oe=>{r.value[oe]=ao(r.value[oe],c.hours[oe],c.minutes[oe],ce(oe!==1))},je=()=>{var oe,Oe;r.value[0]&&r.value[1]&&+((oe=r.value)==null?void 0:oe[0])>+((Oe=r.value)==null?void 0:Oe[1])&&(r.value.reverse(),e("range-start",r.value[0]),e("range-end",r.value[1]))},wt=()=>{r.value.length&&(r.value[0]&&!r.value[1]?Le(0):(Le(0),Le(1),i()),je(),l.value=r.value.slice(),Zm(r.value,e,t.autoApply,t.modelAuto))},tn=(oe,Oe=!1)=>{if(T(oe.value)||!oe.current&&t.hideOffsetDates)return e("invalid-date",oe.value);if(a.value=JSON.parse(JSON.stringify(oe)),!y.value.enabled)return P(oe);fC(c.hours)&&fC(c.minutes)&&!x.value.enabled&&(ae(oe,Oe),wt())},vn=(oe,Oe)=>{var ge;B(oe,Oe.month,Oe.year,!0),m.value.count&&!m.value.solo&&Xe(oe),e("update-month-year",{instance:oe,month:Oe.month,year:Oe.year}),n(m.value.solo?oe:void 0);const Pe=(ge=t.flow)!=null&&ge.length?t.flow[t.flowStep]:void 0;!Oe.fromNav&&(Pe===Bi.month||Pe===Bi.year)&&i()},Yt=(oe,Oe)=>{dM({value:oe,modelValue:l,range:y.value.enabled,timezone:Oe?void 0:w.value.timezone}),N(),t.multiCalendars&&vi().then(()=>be(!0))},wi=()=>{const oe=ab(Re(),w.value);y.value.enabled?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=Rn(oe,l.value[0])?[oe,l.value[0]]:[l.value[0],oe]:l.value=[oe]:l.value=oe,N()},Ai=()=>{if(Array.isArray(l.value))if(x.value.enabled){const oe=Wt();l.value[l.value.length-1]=L(oe)}else l.value=l.value.map((oe,Oe)=>oe&&L(oe,Oe));else l.value=L(l.value);e("time-update")},Wt=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:u,modelValue:l,month:ne,year:W,time:c,disabledTimesConfig:G,today:h,validateTime:U,getCalendarDays:ue,getMarker:z,handleScroll:H,handleSwipe:M,handleArrow:D,selectDate:tn,updateMonthYear:vn,presetDate:Yt,selectCurrentDate:wi,updateTime:(oe,Oe=!0,ge=!1)=>{A(oe,Oe,ge,Ai)},assignMonthAndYear:K}},uY={key:0},cY=_n({__name:"DatePicker",props:{...os},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=t,{calendars:s,month:a,year:o,modelValue:l,time:u,disabledTimesConfig:c,today:h,validateTime:m,getCalendarDays:g,getMarker:y,handleArrow:b,handleScroll:w,handleSwipe:E,selectDate:x,updateMonthYear:_,presetDate:T,selectCurrentDate:C,updateTime:k,assignMonthAndYear:A}=lY(r,i,xe,K),L=da(),{setHoverDate:R,getDayClassData:j,clearHoverDate:U}=SY(l,r),{defaultedMultiCalendars:G}=Cn(r),ne=Me([]),W=Me([]),F=Me(null),B=vr(L,"calendar"),N=vr(L,"monthYear"),Q=vr(L,"timePicker"),_e=H=>{r.shadow||i("mount",H)};Tn(s,()=>{r.shadow||setTimeout(()=>{i("recalculate-position")},0)},{deep:!0}),Tn(G,(H,D)=>{H.count-D.count>0&&A()},{deep:!0});const be=Se(()=>H=>g(a.value(H),o.value(H)).map(D=>({...D,days:D.days.map(M=>(M.marker=y(M),M.classData=j(M),M))})));function xe(H){var D;H||H===0?(D=W.value[H])==null||D.triggerTransition(a.value(H),o.value(H)):W.value.forEach((M,z)=>M.triggerTransition(a.value(z),o.value(z)))}function K(){i("update-flow-step")}const Z=(H,D=!1)=>{x(H,D),r.spaceConfirm&&i("select-date")},O=(H,D,M=0)=>{var z;(z=ne.value[M])==null||z.toggleMonthPicker(H,D)},re=(H,D,M=0)=>{var z;(z=ne.value[M])==null||z.toggleYearPicker(H,D)},Ee=(H,D,M)=>{var z;(z=F.value)==null||z.toggleTimePicker(H,D,M)},q=(H,D)=>{var M;if(!r.range){const z=l.value?l.value:h,J=D?new Date(D):z,he=H?is(J,{weekStartsOn:1}):NA(J,{weekStartsOn:1});x({value:he,current:It(J)===a.value(0),text:"",classData:{}}),(M=document.getElementById(lM(he)))==null||M.focus()}},ye=H=>{var D;(D=ne.value[0])==null||D.handleMonthYearChange(H,!0)},Xe=H=>{_(0,{month:a.value(0),year:o.value(0)+(H?1:-1),fromNav:!0})},de=(H,D)=>{H===Bi.time&&i(`time-picker-${D?"open":"close"}`),i("overlay-toggle",{open:D,overlay:H})},Ke=H=>{i("overlay-toggle",{open:!1,overlay:H}),i("focus-menu")};return e({clearHoverDate:U,presetDate:T,selectCurrentDate:C,toggleMonthPicker:O,toggleYearPicker:re,toggleTimePicker:Ee,handleArrow:b,updateMonthYear:_,getSidebarProps:()=>({modelValue:l,month:a,year:o,time:u,updateTime:k,updateMonthYear:_,selectDate:x,presetDate:T}),changeMonth:ye,changeYear:Xe,selectWeekDate:q}),(H,D)=>(ie(),pe(Ze,null,[De(Xm,{"multi-calendars":te(G).count,collapse:H.collapse},{default:pt(({instance:M,index:z})=>[H.disableMonthYearSelect?ke("",!0):(ie(),et(ZH,Vn({key:0,ref:J=>{J&&(ne.value[z]=J)},months:te(ZA)(H.formatLocale,H.locale,H.monthNameFormat),years:te(ob)(H.yearRange,H.locale,H.reverseYears),month:te(a)(M),year:te(o)(M),instance:M},H.$props,{onMount:D[0]||(D[0]=J=>_e(te(yl).header)),onResetFlow:D[1]||(D[1]=J=>H.$emit("reset-flow")),onUpdateMonthYear:J=>te(_)(M,J),onOverlayClosed:Ke,onOverlayOpened:D[2]||(D[2]=J=>H.$emit("overlay-toggle",{open:!0,overlay:J}))}),yi({_:2},[Ut(te(N),(J,he)=>({name:J,fn:pt(Y=>[Ue(H.$slots,J,Kn(Si(Y)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),De(oY,Vn({ref:J=>{J&&(W.value[z]=J)},"mapped-dates":be.value(M),month:te(a)(M),year:te(o)(M),instance:M},H.$props,{onSelectDate:J=>te(x)(J,M!==1),onHandleSpace:J=>Z(J,M!==1),onSetHoverDate:D[3]||(D[3]=J=>te(R)(J)),onHandleScroll:J=>te(w)(J,M),onHandleSwipe:J=>te(E)(J,M),onMount:D[4]||(D[4]=J=>_e(te(yl).calendar)),onResetFlow:D[5]||(D[5]=J=>H.$emit("reset-flow")),onTooltipOpen:D[6]||(D[6]=J=>H.$emit("tooltip-open",J)),onTooltipClose:D[7]||(D[7]=J=>H.$emit("tooltip-close",J))}),yi({_:2},[Ut(te(B),(J,he)=>({name:J,fn:pt(Y=>[Ue(H.$slots,J,Kn(Si({...Y})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),H.enableTimePicker?(ie(),pe("div",uY,[H.$slots["time-picker"]?Ue(H.$slots,"time-picker",Kn(Vn({key:0},{time:te(u),updateTime:te(k)}))):(ie(),et(pM,Vn({key:1,ref_key:"timePickerRef",ref:F},H.$props,{hours:te(u).hours,minutes:te(u).minutes,seconds:te(u).seconds,"internal-model-value":H.internalModelValue,"disabled-times-config":te(c),"validate-time":te(m),onMount:D[8]||(D[8]=M=>_e(te(yl).timePicker)),"onUpdate:hours":D[9]||(D[9]=M=>te(k)(M)),"onUpdate:minutes":D[10]||(D[10]=M=>te(k)(M,!1)),"onUpdate:seconds":D[11]||(D[11]=M=>te(k)(M,!1,!0)),onResetFlow:D[12]||(D[12]=M=>H.$emit("reset-flow")),onOverlayClosed:D[13]||(D[13]=M=>de(M,!1)),onOverlayOpened:D[14]||(D[14]=M=>de(M,!0)),onAmPmChange:D[15]||(D[15]=M=>H.$emit("am-pm-change",M))}),yi({_:2},[Ut(te(Q),(M,z)=>({name:M,fn:pt(J=>[Ue(H.$slots,M,Kn(Si(J)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ke("",!0)],64))}}),dY=(t,e)=>{const n=Me(),{defaultedMultiCalendars:i,defaultedConfig:r,defaultedHighlight:s,defaultedRange:a,propDates:o,defaultedFilters:l,defaultedMultiDates:u}=Cn(t),{modelValue:c,year:h,month:m,calendars:g}=Ch(t,e),{isDisabled:y}=Co(t),{selectYear:b,groupedYears:w,showYearPicker:E,isDisabled:x,toggleYearPicker:_,handleYearSelect:T,handleYear:C}=fM({modelValue:c,multiCalendars:i,range:a,highlight:s,calendars:g,propDates:o,month:m,year:h,filters:l,props:t,emit:e}),k=(F,B)=>[F,B].map(N=>Ss(N,"MMMM",{locale:t.formatLocale})).join("-"),A=Se(()=>F=>c.value?Array.isArray(c.value)?c.value.some(B=>sC(F,B)):sC(c.value,F):!1),L=F=>{if(a.value.enabled){if(Array.isArray(c.value)){const B=At(F,c.value[0])||At(F,c.value[1]);return Km(c.value,n.value,F)&&!B}return!1}return!1},R=(F,B)=>F.quarter===Qx(B)&&F.year===dt(B),j=F=>typeof s.value=="function"?s.value({quarter:Qx(F),year:dt(F)}):!!s.value.quarters.find(B=>R(B,F)),U=Se(()=>F=>{const B=rn(new Date,{year:h.value(F)});return Nz({start:Yd(B),end:FA(B)}).map(N=>{const Q=ol(N),_e=eC(N),be=y(N),xe=L(Q),K=j(Q);return{text:k(Q,_e),value:Q,active:A.value(Q),highlighted:K,disabled:be,isBetween:xe}})}),G=F=>{db(F,c,u.value.limit),e("auto-apply",!0)},ne=F=>{c.value=hb(c,F,e),Zm(c.value,e,t.autoApply,t.modelAuto)},W=F=>{c.value=F,e("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:i,groupedYears:w,year:h,isDisabled:x,quarters:U,showYearPicker:E,modelValue:c,setHoverDate:F=>{n.value=F},selectYear:b,selectQuarter:(F,B,N)=>{if(!N)return g.value[B].month=It(eC(F)),u.value.enabled?G(F):a.value.enabled?ne(F):W(F)},toggleYearPicker:_,handleYearSelect:T,handleYear:C}},hY={class:"dp--quarter-items"},fY=["data-test","disabled","onClick","onMouseover"],pY=_n({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...os},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const i=n,r=t,s=da(),a=vr(s,"yearMode"),{defaultedMultiCalendars:o,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:m,modelValue:g,showYearPicker:y,setHoverDate:b,selectQuarter:w,toggleYearPicker:E,handleYearSelect:x,handleYear:_}=dY(r,i);return e({getSidebarProps:()=>({modelValue:g,year:c,selectQuarter:w,handleYearSelect:x,handleYear:_})}),(T,C)=>(ie(),et(Xm,{"multi-calendars":te(o).count,collapse:T.collapse,stretch:""},{default:pt(({instance:k})=>[Ae("div",{class:"dp-quarter-picker-wrap",style:Bn({minHeight:`${te(l).modeHeight}px`})},[T.$slots["top-extra"]?Ue(T.$slots,"top-extra",{key:0,value:T.internalModelValue}):ke("",!0),Ae("div",null,[De(cM,Vn(T.$props,{items:te(u)(k),instance:k,"show-year-picker":te(y)[k],year:te(c)(k),"is-disabled":A=>te(h)(k,A),onHandleYear:A=>te(_)(k,A),onYearSelect:A=>te(x)(A,k),onToggleYearPicker:A=>te(E)(k,A?.flow,A?.show)}),yi({_:2},[Ut(te(a),(A,L)=>({name:A,fn:pt(R=>[Ue(T.$slots,A,Kn(Si(R)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ae("div",hY,[(ie(!0),pe(Ze,null,Ut(te(m)(k),(A,L)=>(ie(),pe("div",{key:L},[Ae("button",{type:"button",class:rt(["dp--qr-btn",{"dp--qr-btn-active":A.active,"dp--qr-btn-between":A.isBetween,"dp--qr-btn-disabled":A.disabled,"dp--highlighted":A.highlighted}]),"data-test":A.value,disabled:A.disabled,onClick:R=>te(w)(A.value,k,A.disabled),onMouseover:R=>te(b)(A.value)},[T.$slots.quarter?Ue(T.$slots,"quarter",{key:0,value:A.value,text:A.text}):(ie(),pe(Ze,{key:1},[Ii(ht(A.text),1)],64))],42,fY)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),mY=["id","aria-label"],gY={key:0,class:"dp--menu-load-container"},yY=Ae("span",{class:"dp--menu-loader"},null,-1),_Y=[yY],vY={key:0,class:"dp__sidebar_left"},bY=["data-test","onClick","onKeydown"],wY={key:2,class:"dp__sidebar_right"},EY={key:3,class:"dp__action_extra"},pC=_n({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...qm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=t,s=Me(null),a=Se(()=>{const{openOnTop:Y,...ue}=r;return{...ue,flowStep:R.value,collapse:r.collapse,noOverlayFocus:r.noOverlayFocus,menuWrapRef:s.value}}),{setMenuFocused:o,setShiftKey:l,control:u}=uM(),c=da(),{defaultedTextInput:h,defaultedInline:m,defaultedConfig:g,defaultedUI:y}=Cn(r),b=Me(null),w=Me(0),E=Me(null),x=Me(!1),_=Me(null);xn(()=>{if(!r.shadow){x.value=!0,T(),window.addEventListener("resize",T);const Y=ii(s);if(Y&&!h.value.enabled&&!m.value.enabled&&(o(!0),B()),Y){const ue=P=>{g.value.allowPreventDefault&&P.preventDefault(),so(P,g.value,!0)};Y.addEventListener("pointerdown",ue),Y.addEventListener("mousedown",ue)}}}),ks(()=>{window.removeEventListener("resize",T)});const T=()=>{const Y=ii(E);Y&&(w.value=Y.getBoundingClientRect().width)},{arrowRight:C,arrowLeft:k,arrowDown:A,arrowUp:L}=xo(),{flowStep:R,updateFlowStep:j,childMount:U,resetFlow:G,handleFlow:ne}=kY(r,i,_),W=Se(()=>r.monthPicker?SH:r.yearPicker?RH:r.timePicker?HH:r.quarterPicker?pY:cY),F=Se(()=>{var Y;if(g.value.arrowLeft)return g.value.arrowLeft;const ue=(Y=s.value)==null?void 0:Y.getBoundingClientRect(),P=r.getInputRect();return P.width<w.value&&P.left<=(ue?.left??0)?`${P.width/2}px`:"50%"}),B=()=>{const Y=ii(s);Y&&Y.focus({preventScroll:!0})},N=Se(()=>{var Y;return((Y=_.value)==null?void 0:Y.getSidebarProps())||{}}),Q=()=>{r.openOnTop&&i("recalculate-position")},_e=vr(c,"action"),be=Se(()=>r.monthPicker||r.yearPicker?vr(c,"monthYear"):r.timePicker?vr(c,"timePicker"):vr(c,"shared")),xe=Se(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),K=Se(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),Z=Se(()=>({dp__menu:!0,dp__menu_index:!m.value.enabled,dp__relative:m.value.enabled,[r.menuClassName]:!!r.menuClassName,...y.value.menu??{}})),O=Y=>{so(Y,g.value,!0)},re=()=>{r.escClose&&i("close-picker")},Ee=Y=>{if(r.arrowNavigation){if(Y===Yi.up)return L();if(Y===Yi.down)return A();if(Y===Yi.left)return k();if(Y===Yi.right)return C()}else Y===Yi.left||Y===Yi.up?Ke("handleArrow",Yi.left,0,Y===Yi.up):Ke("handleArrow",Yi.right,0,Y===Yi.down)},q=Y=>{l(Y.shiftKey),!r.disableMonthYearSelect&&Y.code===bn.tab&&Y.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&(Y.preventDefault(),so(Y,g.value,!0),i("close-picker"))},ye=()=>{B(),i("time-picker-close")},Xe=Y=>{var ue,P,$;(ue=_.value)==null||ue.toggleTimePicker(!1,!1),(P=_.value)==null||P.toggleMonthPicker(!1,!1,Y),($=_.value)==null||$.toggleYearPicker(!1,!1,Y)},de=(Y,ue=0)=>{var P,$,X;return Y==="month"?(P=_.value)==null?void 0:P.toggleMonthPicker(!1,!0,ue):Y==="year"?($=_.value)==null?void 0:$.toggleYearPicker(!1,!0,ue):Y==="time"?(X=_.value)==null?void 0:X.toggleTimePicker(!0,!1):Xe(ue)},Ke=(Y,...ue)=>{var P,$;(P=_.value)!=null&&P[Y]&&(($=_.value)==null||$[Y](...ue))},H=()=>{Ke("selectCurrentDate")},D=(Y,ue)=>{Ke("presetDate",Y,ue)},M=()=>{Ke("clearHoverDate")},z=(Y,ue)=>{Ke("updateMonthYear",Y,ue)},J=(Y,ue)=>{Y.preventDefault(),Ee(ue)},he=Y=>{var ue;if(q(Y),Y.key===bn.home||Y.key===bn.end)return Ke("selectWeekDate",Y.key===bn.home,Y.target.getAttribute("id"));switch((Y.key===bn.pageUp||Y.key===bn.pageDown)&&(Y.shiftKey?Ke("changeYear",Y.key===bn.pageUp):Ke("changeMonth",Y.key===bn.pageUp),Y.target.getAttribute("id")&&((ue=s.value)==null||ue.focus({preventScroll:!0}))),Y.key){case bn.esc:return re();case bn.arrowLeft:return J(Y,Yi.left);case bn.arrowRight:return J(Y,Yi.right);case bn.arrowUp:return J(Y,Yi.up);case bn.arrowDown:return J(Y,Yi.down);default:return}};return e({updateMonthYear:z,switchView:de,handleFlow:ne}),(Y,ue)=>{var P,$,X;return ie(),pe("div",{id:Y.uid?`dp-menu-${Y.uid}`:void 0,ref_key:"dpMenuRef",ref:s,tabindex:"0",role:"dialog","aria-label":(P=Y.ariaLabels)==null?void 0:P.menu,class:rt(Z.value),style:Bn({"--dp-arrow-left":F.value}),onMouseleave:M,onClick:O,onKeydown:he},[(Y.disabled||Y.readonly)&&te(m).enabled||Y.loading?(ie(),pe("div",{key:0,class:rt(K.value)},[Y.loading?(ie(),pe("div",gY,_Y)):ke("",!0)],2)):ke("",!0),!te(m).enabled&&!Y.teleportCenter?(ie(),pe("div",{key:1,class:rt(xe.value)},null,2)):ke("",!0),Ae("div",{ref_key:"innerMenuRef",ref:E,class:rt({dp__menu_content_wrapper:(($=Y.presetDates)==null?void 0:$.length)||!!Y.$slots["left-sidebar"]||!!Y.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((X=Y.presetDates)==null?void 0:X.length)||!!Y.$slots["left-sidebar"]||!!Y.$slots["right-sidebar"])}),style:Bn({"--dp-menu-width":`${w.value}px`})},[Y.$slots["left-sidebar"]?(ie(),pe("div",vY,[Ue(Y.$slots,"left-sidebar",Kn(Si(N.value)))])):ke("",!0),Y.presetDates.length?(ie(),pe("div",{key:1,class:rt({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(ie(!0),pe(Ze,null,Ut(Y.presetDates,(se,Ie)=>(ie(),pe(Ze,{key:Ie},[se.slot?Ue(Y.$slots,se.slot,{key:0,presetDate:D,label:se.label,value:se.value}):(ie(),pe("button",{key:1,type:"button",style:Bn(se.style||{}),class:rt(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":se.testId??void 0,onClick:Cl(we=>D(se.value,se.noTz),["prevent"]),onKeydown:we=>te(ar)(we,()=>D(se.value,se.noTz),!0)},ht(se.label),47,bY))],64))),128))],2)):ke("",!0),Ae("div",{ref_key:"calendarWrapperRef",ref:b,class:"dp__instance_calendar",role:"document"},[(ie(),et(lc(W.value),Vn({ref_key:"dynCmpRef",ref:_},a.value,{"flow-step":te(R),onMount:te(U),onUpdateFlowStep:te(j),onResetFlow:te(G),onFocusMenu:B,onSelectDate:ue[0]||(ue[0]=se=>Y.$emit("select-date")),onDateUpdate:ue[1]||(ue[1]=se=>Y.$emit("date-update",se)),onTooltipOpen:ue[2]||(ue[2]=se=>Y.$emit("tooltip-open",se)),onTooltipClose:ue[3]||(ue[3]=se=>Y.$emit("tooltip-close",se)),onAutoApply:ue[4]||(ue[4]=se=>Y.$emit("auto-apply",se)),onRangeStart:ue[5]||(ue[5]=se=>Y.$emit("range-start",se)),onRangeEnd:ue[6]||(ue[6]=se=>Y.$emit("range-end",se)),onInvalidFixedRange:ue[7]||(ue[7]=se=>Y.$emit("invalid-fixed-range",se)),onTimeUpdate:ue[8]||(ue[8]=se=>Y.$emit("time-update")),onAmPmChange:ue[9]||(ue[9]=se=>Y.$emit("am-pm-change",se)),onTimePickerOpen:ue[10]||(ue[10]=se=>Y.$emit("time-picker-open",se)),onTimePickerClose:ye,onRecalculatePosition:Q,onUpdateMonthYear:ue[11]||(ue[11]=se=>Y.$emit("update-month-year",se)),onAutoApplyInvalid:ue[12]||(ue[12]=se=>Y.$emit("auto-apply-invalid",se)),onInvalidDate:ue[13]||(ue[13]=se=>Y.$emit("invalid-date",se)),onOverlayToggle:ue[14]||(ue[14]=se=>Y.$emit("overlay-toggle",se)),"onUpdate:internalModelValue":ue[15]||(ue[15]=se=>Y.$emit("update:internal-model-value",se))}),yi({_:2},[Ut(be.value,(se,Ie)=>({name:se,fn:pt(we=>[Ue(Y.$slots,se,Kn(Si({...we})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),Y.$slots["right-sidebar"]?(ie(),pe("div",wY,[Ue(Y.$slots,"right-sidebar",Kn(Si(N.value)))])):ke("",!0),Y.$slots["action-extra"]?(ie(),pe("div",EY,[Y.$slots["action-extra"]?Ue(Y.$slots,"action-extra",{key:0,selectCurrentDate:H}):ke("",!0)])):ke("",!0)],6),!Y.autoApply||te(g).keepActionRow?(ie(),et(_H,Vn({key:2,"menu-mount":x.value},a.value,{"calendar-width":w.value,onClosePicker:ue[16]||(ue[16]=se=>Y.$emit("close-picker")),onSelectDate:ue[17]||(ue[17]=se=>Y.$emit("select-date")),onInvalidSelect:ue[18]||(ue[18]=se=>Y.$emit("invalid-select")),onSelectNow:H}),yi({_:2},[Ut(te(_e),(se,Ie)=>({name:se,fn:pt(we=>[Ue(Y.$slots,se,Kn(Si({...we})))])}))]),1040,["menu-mount","calendar-width"])):ke("",!0)],46,mY)}}});var bu=(t=>(t.center="center",t.left="left",t.right="right",t))(bu||{});const TY=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:i,inline:r,emit:s,props:a,slots:o})=>{const l=Me({}),u=Me(!1),c=Me({top:"0",left:"0"}),h=Me(!1),m=wl(a,"teleportCenter");Tn(m,()=>{c.value=JSON.parse(JSON.stringify({})),T()});const g=F=>{if(a.teleport){const B=F.getBoundingClientRect();return{left:B.left+window.scrollX,top:B.top+window.scrollY}}return{top:0,left:0}},y=(F,B)=>{c.value.left=`${F+B-l.value.width}px`},b=F=>{c.value.left=`${F}px`},w=(F,B)=>{a.position===bu.left&&b(F),a.position===bu.right&&y(F,B),a.position===bu.center&&(c.value.left=`${F+B/2-l.value.width/2}px`)},E=F=>{const{width:B,height:N}=F.getBoundingClientRect(),{top:Q,left:_e}=a.altPosition?a.altPosition(F):g(F);return{top:+Q,left:+_e,width:B,height:N}},x=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},_=()=>{const F=ii(n),{top:B,left:N,transform:Q}=a.altPosition(F);c.value={top:`${B}px`,left:`${N}px`,transform:Q??""}},T=(F=!0)=>{var B;if(!r.value.enabled){if(m.value)return x();if(a.altPosition!==null)return _();if(F){const N=a.teleport?(B=e.value)==null?void 0:B.$el:t.value;N&&(l.value=N.getBoundingClientRect()),s("recalculate-position")}return U()}},C=({inputEl:F,left:B,width:N})=>{window.screen.width>768&&!u.value&&w(B,N),L(F)},k=F=>{const{top:B,left:N,height:Q,width:_e}=E(F);c.value.top=`${Q+B+ +a.offset}px`,h.value=!1,u.value||(c.value.left=`${N+_e/2-l.value.width/2}px`),C({inputEl:F,left:N,width:_e})},A=F=>{const{top:B,left:N,width:Q}=E(F);c.value.top=`${B-+a.offset-l.value.height}px`,h.value=!0,C({inputEl:F,left:N,width:Q})},L=F=>{if(a.autoPosition){const{left:B,width:N}=E(F),{left:Q,right:_e}=l.value;if(!u.value){if(Math.abs(Q)!==Math.abs(_e)){if(Q<=0)return u.value=!0,b(B);if(_e>=document.documentElement.clientWidth)return u.value=!0,y(B,N)}return w(B,N)}}},R=()=>{const F=ii(n);if(F){const{height:B}=l.value,{top:N,height:Q}=F.getBoundingClientRect(),_e=window.innerHeight-N-Q,be=N;return B<=_e?Zo.bottom:B>_e&&B<=be?Zo.top:_e>=be?Zo.bottom:Zo.top}return Zo.bottom},j=F=>R()===Zo.bottom?k(F):A(F),U=()=>{const F=ii(n);if(F)return a.autoPosition?j(F):k(F)},G=function(F){if(F){const B=F.scrollHeight>F.clientHeight,N=window.getComputedStyle(F).overflowY.indexOf("hidden")!==-1;return B&&!N}return!0},ne=function(F){return!F||F===document.body||F.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:G(F)?F:ne(F.assignedSlot?F.assignedSlot.parentNode:F.parentNode)},W=F=>{if(F)switch(a.position){case bu.left:return{left:0,transform:"translateX(0)"};case bu.right:return{left:`${F.width}px`,transform:"translateX(-100%)"};default:return{left:`${F.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:T,getScrollableParent:ne,shadowRender:(F,B)=>{var N,Q,_e;const be=document.createElement("div"),xe=(N=ii(n))==null?void 0:N.getBoundingClientRect();be.setAttribute("id","dp--temp-container");const K=(Q=i.value)!=null&&Q.clientWidth?i.value:document.body;K.append(be);const Z=W(xe),O=uc(F,{...B,shadow:!0,style:{opacity:0,position:"absolute",...Z}},Object.fromEntries(Object.keys(o).filter(re=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(re)).map(re=>[re,o[re]])));zu(O,be),l.value=(_e=O.el)==null?void 0:_e.getBoundingClientRect(),zu(null,be),K.removeChild(be)}}},La=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]}],xY=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],CY={all:()=>La,monthYear:()=>La.filter(t=>t.use.includes("month-year")),input:()=>xY,timePicker:()=>La.filter(t=>t.use.includes("time")),action:()=>La.filter(t=>t.use.includes("action")),calendar:()=>La.filter(t=>t.use.includes("calendar")),menu:()=>La.filter(t=>t.use.includes("menu")),shared:()=>La.filter(t=>t.use.includes("shared")),yearMode:()=>La.filter(t=>t.use.includes("year-mode"))},vr=(t,e,n)=>{const i=[];return CY[e]().forEach(r=>{t[r.name]&&i.push(r.name)}),n!=null&&n.length&&n.forEach(r=>{r.slot&&i.push(r.slot)}),i},xh=t=>{const e=Se(()=>i=>t.value?i?t.value.open:t.value.close:""),n=Se(()=>i=>t.value?i?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Ch=(t,e,n)=>{const{defaultedRange:i,defaultedTz:r}=Cn(t),s=Re(Er(Re(),r.value.timezone)),a=Me([{month:It(s),year:dt(s)}]),o=m=>{const g={hours:ua(s),minutes:po(s),seconds:0};return i.value.enabled?[g[m],g[m]]:g[m]},l=Fr({hours:o("hours"),minutes:o("minutes"),seconds:o("seconds")});Tn(i,(m,g)=>{m.enabled!==g.enabled&&(l.hours=o("hours"),l.minutes=o("minutes"),l.seconds=o("seconds"))},{deep:!0});const u=Se({get:()=>t.internalModelValue,set:m=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",m)}}),c=Se(()=>m=>a.value[m]?a.value[m].month:0),h=Se(()=>m=>a.value[m]?a.value[m].year:0);return Tn(u,(m,g)=>{n&&JSON.stringify(m??{})!==JSON.stringify(g??{})&&n()},{deep:!0}),{calendars:a,time:l,modelValue:u,month:c,year:h,today:s}},SY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:i,defaultedUI:r,defaultedHighlight:s,defaultedTz:a,propDates:o,defaultedRange:l}=Cn(e),{isDisabled:u}=Co(e),c=Me(null),h=Me(Er(new Date,a.value.timezone)),m=O=>{!O.current&&e.hideOffsetDates||(c.value=O.value)},g=()=>{c.value=null},y=O=>Array.isArray(t.value)&&l.value.enabled&&t.value[0]&&c.value?O?$n(c.value,t.value[0]):Rn(c.value,t.value[0]):!0,b=(O,re)=>{const Ee=()=>t.value?re?t.value[0]||null:t.value[1]:null,q=t.value&&Array.isArray(t.value)?Ee():null;return At(Re(O.value),q)},w=O=>{const re=Array.isArray(t.value)?t.value[0]:null;return O?!Rn(c.value??null,re):!0},E=(O,re=!0)=>(l.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!O.current?!1:At(Re(O.value),t.value[re?0:1]):l.value.enabled?b(O,re)&&w(re)||At(O.value,Array.isArray(t.value)?t.value[0]:null)&&y(re):!1,x=(O,re)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const Ee=At(O.value,c.value);return re?$n(t.value[0],O.value)&&Ee:Rn(t.value[0],O.value)&&Ee}return!1},_=O=>!t.value||e.hideOffsetDates&&!O.current?!1:l.value.enabled?e.modelAuto&&Array.isArray(t.value)?At(O.value,t.value[0]?t.value[0]:h.value):!1:i.value.enabled&&Array.isArray(t.value)?t.value.some(re=>At(re,O.value)):At(O.value,t.value?t.value:h.value),T=O=>{if(l.value.autoRange||e.weekPicker){if(c.value){if(e.hideOffsetDates&&!O.current)return!1;const re=Wr(c.value,+l.value.autoRange),Ee=Ks(Re(c.value),e.weekStart);return e.weekPicker?At(Ee[1],Re(O.value)):At(re,Re(O.value))}return!1}return!1},C=O=>{if(l.value.autoRange||e.weekPicker){if(c.value){const re=Wr(c.value,+l.value.autoRange);if(e.hideOffsetDates&&!O.current)return!1;const Ee=Ks(Re(c.value),e.weekStart);return e.weekPicker?$n(O.value,Ee[0])&&Rn(O.value,Ee[1]):$n(O.value,c.value)&&Rn(O.value,re)}return!1}return!1},k=O=>{if(l.value.autoRange||e.weekPicker){if(c.value){if(e.hideOffsetDates&&!O.current)return!1;const re=Ks(Re(c.value),e.weekStart);return e.weekPicker?At(re[0],O.value):At(c.value,O.value)}return!1}return!1},A=O=>Km(t.value,c.value,O.value),L=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,R=()=>e.modelAuto?JA(e.internalModelValue):!0,j=O=>{if(e.weekPicker)return!1;const re=l.value.enabled?!E(O)&&!E(O,!1):!0;return!u(O.value)&&!_(O)&&!(!O.current&&e.hideOffsetDates)&&re},U=O=>l.value.enabled?e.modelAuto?L()&&_(O):!1:_(O),G=O=>s.value?zU(O.value,o.value.highlight):!1,ne=O=>{const re=u(O.value);return re&&(typeof s.value=="function"?!s.value(O.value,re):!s.value.options.highlightDisabled)},W=O=>{var re;return typeof s.value=="function"?s.value(O.value):(re=s.value.weekdays)==null?void 0:re.includes(O.value.getDay())},F=O=>(l.value.enabled||e.weekPicker)&&(!(n.value.count>0)||O.current)&&R()&&!(!O.current&&e.hideOffsetDates)&&!_(O)?A(O):!1,B=O=>{const{isRangeStart:re,isRangeEnd:Ee}=be(O),q=l.value.enabled?re||Ee:!1;return{dp__cell_offset:!O.current,dp__pointer:!e.disabled&&!(!O.current&&e.hideOffsetDates)&&!u(O.value),dp__cell_disabled:u(O.value),dp__cell_highlight:!ne(O)&&(G(O)||W(O))&&!U(O)&&!q&&!k(O)&&!(F(O)&&e.weekPicker)&&!Ee,dp__cell_highlight_active:!ne(O)&&(G(O)||W(O))&&U(O),dp__today:!e.noToday&&At(O.value,h.value)&&O.current,"dp--past":Rn(O.value,h.value),"dp--future":$n(O.value,h.value)}},N=O=>({dp__active_date:U(O),dp__date_hover:j(O)}),Q=O=>{if(t.value&&!Array.isArray(t.value)){const re=Ks(t.value,e.weekStart);return{...K(O),dp__range_start:At(re[0],O.value),dp__range_end:At(re[1],O.value),dp__range_between_week:$n(O.value,re[0])&&Rn(O.value,re[1])}}return{...K(O)}},_e=O=>{if(t.value&&Array.isArray(t.value)){const re=Ks(t.value[0],e.weekStart),Ee=t.value[1]?Ks(t.value[1],e.weekStart):[];return{...K(O),dp__range_start:At(re[0],O.value)||At(Ee[0],O.value),dp__range_end:At(re[1],O.value)||At(Ee[1],O.value),dp__range_between_week:$n(O.value,re[0])&&Rn(O.value,re[1])||$n(O.value,Ee[0])&&Rn(O.value,Ee[1]),dp__range_between:$n(O.value,re[1])&&Rn(O.value,Ee[0])}}return{...K(O)}},be=O=>{const re=n.value.count>0?O.current&&E(O)&&R():E(O)&&R(),Ee=n.value.count>0?O.current&&E(O,!1)&&R():E(O,!1)&&R();return{isRangeStart:re,isRangeEnd:Ee}},xe=O=>{const{isRangeStart:re,isRangeEnd:Ee}=be(O);return{dp__range_start:re,dp__range_end:Ee,dp__range_between:F(O),dp__date_hover:At(O.value,c.value)&&!re&&!Ee&&!e.weekPicker,dp__date_hover_start:x(O,!0),dp__date_hover_end:x(O,!1)}},K=O=>({...xe(O),dp__cell_auto_range:C(O),dp__cell_auto_range_start:k(O),dp__cell_auto_range_end:T(O)}),Z=O=>l.value.enabled?l.value.autoRange?K(O):e.modelAuto?{...N(O),...xe(O)}:e.weekPicker?_e(O):xe(O):e.weekPicker?Q(O):N(O);return{setHoverDate:m,clearHoverDate:g,getDayClassData:O=>e.hideOffsetDates&&!O.current?{}:{...B(O),...Z(O),[e.dayClass?e.dayClass(O.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName,...r.value.calendarCell??{}}}},Co=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:i,defaultedMultiDates:r}=Cn(t),s=W=>i.value.disabledDates?typeof i.value.disabledDates=="function"?i.value.disabledDates(Re(W)):!!jp(W,i.value.disabledDates):!1,a=W=>i.value.maxDate?t.yearPicker?dt(W)>dt(i.value.maxDate):$n(W,i.value.maxDate):!1,o=W=>i.value.minDate?t.yearPicker?dt(W)<dt(i.value.minDate):Rn(W,i.value.minDate):!1,l=W=>{const F=a(W),B=o(W),N=s(W),Q=e.value.months.map(Z=>+Z).includes(It(W)),_e=t.disabledWeekDays.length?t.disabledWeekDays.some(Z=>+Z===A8(W)):!1,be=g(W),xe=dt(W),K=xe<+t.yearRange[0]||xe>+t.yearRange[1];return!(F||B||N||Q||K||_e||be)},u=(W,F)=>Rn(...Xa(i.value.minDate,W,F))||At(...Xa(i.value.minDate,W,F)),c=(W,F)=>$n(...Xa(i.value.maxDate,W,F))||At(...Xa(i.value.maxDate,W,F)),h=(W,F,B)=>{let N=!1;return i.value.maxDate&&B&&c(W,F)&&(N=!0),i.value.minDate&&!B&&u(W,F)&&(N=!0),N},m=(W,F,B,N)=>{let Q=!1;return N?i.value.minDate&&i.value.maxDate?Q=h(W,F,B):(i.value.minDate&&u(W,F)||i.value.maxDate&&c(W,F))&&(Q=!0):Q=!0,Q},g=W=>Array.isArray(i.value.allowedDates)&&!i.value.allowedDates.length?!0:i.value.allowedDates?!jp(W,i.value.allowedDates):!1,y=W=>!l(W),b=W=>n.value.noDisabledRange?!LA({start:W[0],end:W[1]}).some(F=>y(F)):!0,w=W=>{if(W){const F=dt(W);return F>=+t.yearRange[0]&&F<=t.yearRange[1]}return!0},E=(W,F)=>!!(Array.isArray(W)&&W[F]&&(n.value.maxRange||n.value.minRange)&&w(W[F])),x=(W,F,B=0)=>{if(E(F,B)&&w(W)){const N=PA(W,F[B]),Q=iM(F[B],W),_e=Q.length===1?0:Q.filter(xe=>y(xe)).length,be=Math.abs(N)-(n.value.minMaxRawRange?0:_e);if(n.value.minRange&&n.value.maxRange)return be>=+n.value.minRange&&be<=+n.value.maxRange;if(n.value.minRange)return be>=+n.value.minRange;if(n.value.maxRange)return be<=+n.value.maxRange}return!0},_=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,T=W=>Array.isArray(W)?[W[0]?J0(W[0]):null,W[1]?J0(W[1]):null]:J0(W),C=(W,F,B)=>W.find(N=>+N.hours===ua(F)&&N.minutes==="*"?!0:+N.minutes===po(F)&&+N.hours===ua(F))&&B,k=(W,F,B)=>{const[N,Q]=W,[_e,be]=F;return!C(N,_e,B)&&!C(Q,be,B)&&B},A=(W,F)=>{const B=Array.isArray(F)?F:[F];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?k(t.disabledTimes,B,W):!B.some(N=>C(t.disabledTimes,N,W)):W},L=(W,F)=>{const B=Array.isArray(F)?[_l(F[0]),F[1]?_l(F[1]):void 0]:_l(F),N=!t.disabledTimes(B);return W&&N},R=(W,F)=>t.disabledTimes?Array.isArray(t.disabledTimes)?A(F,W):L(F,W):F,j=W=>{let F=!0;if(!W||_())return!0;const B=!i.value.minDate&&!i.value.maxDate?T(W):W;return(t.maxTime||i.value.maxDate)&&(F=cC(t.maxTime,i.value.maxDate,"max",hi(B),F)),(t.minTime||i.value.minDate)&&(F=cC(t.minTime,i.value.minDate,"min",hi(B),F)),R(W,F)},U=W=>{if(!t.monthPicker)return!0;let F=!0;const B=Re(Kr(W));if(i.value.minDate&&i.value.maxDate){const N=Re(Kr(i.value.minDate)),Q=Re(Kr(i.value.maxDate));return $n(B,N)&&Rn(B,Q)||At(B,N)||At(B,Q)}if(i.value.minDate){const N=Re(Kr(i.value.minDate));F=$n(B,N)||At(B,N)}if(i.value.maxDate){const N=Re(Kr(i.value.maxDate));F=Rn(B,N)||At(B,N)}return F},G=Se(()=>W=>!t.enableTimePicker||t.ignoreTimeValidation?!0:j(W)),ne=Se(()=>W=>t.monthPicker?Array.isArray(W)&&(n.value.enabled||r.value.enabled)?!W.filter(F=>!U(F)).length:U(W):!0);return{isDisabled:y,validateDate:l,validateMonthYearInRange:m,isDateRangeAllowed:b,checkMinMaxRange:x,isValidTime:j,isTimeValid:G,isMonthValid:ne}},Jm=()=>{const t=Se(()=>(i,r)=>i?.includes(r)),e=Se(()=>(i,r)=>i.count?i.solo?!0:r===0:!0),n=Se(()=>(i,r)=>i.count?i.solo?!0:r===i.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},kY=(t,e,n)=>{const i=Me(0),r=Fr({[yl.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[yl.calendar]:!1,[yl.header]:!1}),s=Se(()=>t.monthPicker||t.timePicker),a=h=>{var m;if((m=t.flow)!=null&&m.length){if(!h&&s.value)return c();r[h]=!0,Object.keys(r).filter(g=>!r[g]).length||c()}},o=()=>{var h,m;(h=t.flow)!=null&&h.length&&i.value!==-1&&(i.value+=1,e("flow-step",i.value),c()),((m=t.flow)==null?void 0:m.length)===i.value&&vi().then(()=>l())},l=()=>{i.value=-1},u=(h,m,...g)=>{var y,b;t.flow[i.value]===h&&n.value&&((b=(y=n.value)[m])==null||b.call(y,...g))},c=(h=0)=>{h&&(i.value+=h),u(Bi.month,"toggleMonthPicker",!0),u(Bi.year,"toggleYearPicker",!0),u(Bi.calendar,"toggleTimePicker",!1,!0),u(Bi.time,"toggleTimePicker",!0,!0);const m=t.flow[i.value];(m===Bi.hours||m===Bi.minutes||m===Bi.seconds)&&u(m,"toggleTimePicker",!0,!0,m)};return{childMount:a,updateFlowStep:o,resetFlow:l,handleFlow:c,flowStep:i}},RY={key:1,class:"dp__input_wrap"},IY=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],AY={key:2,class:"dp__clear_icon"},MY=_n({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...qm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const i=n,r=t,{defaultedTextInput:s,defaultedAriaLabels:a,defaultedInline:o,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,defaultedUI:h,getDefaultPattern:m,getDefaultStartTime:g}=Cn(r),{checkMinMaxRange:y}=Co(r),b=Me(),w=Me(null),E=Me(!1),x=Me(!1),_=Se(()=>({dp__pointer:!r.disabled&&!r.readonly&&!s.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:!!r.state,dp__input_invalid:r.state===!1,dp__input_focus:E.value||r.isMenuOpen,dp__input_reg:!s.value.enabled,[r.inputClassName]:!!r.inputClassName,...h.value.input??{}})),T=()=>{i("set-input-date",null),r.clearable&&r.autoApply&&(i("set-empty-date"),b.value=null)},C=N=>{const Q=g();return UU(N,s.value.format??m(),Q??rM({},r.enableSeconds),r.inputValue,x.value,r.formatLocale)},k=N=>{const{rangeSeparator:Q}=s.value,[_e,be]=N.split(`${Q}`);if(_e){const xe=C(_e.trim()),K=be?C(be.trim()):null;if(nc(xe,K))return;const Z=xe&&K?[xe,K]:[xe];y(K,Z,0)&&(b.value=xe?Z:null)}},A=()=>{x.value=!0},L=N=>{if(u.value.enabled)k(N);else if(c.value.enabled){const Q=N.split(";");b.value=Q.map(_e=>C(_e.trim())).filter(_e=>_e)}else b.value=C(N)},R=N=>{var Q;const _e=typeof N=="string"?N:(Q=N.target)==null?void 0:Q.value;_e!==""?(s.value.openMenu&&!r.isMenuOpen&&i("open"),L(_e),i("set-input-date",b.value)):T(),x.value=!1,i("update:input-value",_e)},j=N=>{s.value.enabled?(L(N.target.value),s.value.enterSubmit&&S_(b.value)&&r.inputValue!==""?(i("set-input-date",b.value,!0),b.value=null):s.value.enterSubmit&&r.inputValue===""&&(b.value=null,i("clear"))):ne(N)},U=N=>{s.value.enabled&&s.value.tabSubmit&&L(N.target.value),s.value.tabSubmit&&S_(b.value)&&r.inputValue!==""?(i("set-input-date",b.value,!0,!0),b.value=null):s.value.tabSubmit&&r.inputValue===""&&(b.value=null,i("clear",!0))},G=()=>{E.value=!0,i("focus"),vi().then(()=>{var N;s.value.enabled&&s.value.selectOnFocus&&((N=w.value)==null||N.select())})},ne=N=>{N.preventDefault(),so(N,l.value,!0),s.value.enabled&&s.value.openMenu&&!o.value.input&&!r.isMenuOpen?i("open"):s.value.enabled||i("toggle")},W=()=>{i("real-blur"),E.value=!1,(!r.isMenuOpen||o.value.enabled&&o.value.input)&&i("blur"),r.autoApply&&s.value.enabled&&b.value&&!r.isMenuOpen&&(i("set-input-date",b.value),i("select-date"),b.value=null)},F=N=>{so(N,l.value,!0),i("clear")},B=N=>{if(N.key==="Tab"&&U(N),N.key==="Enter"&&j(N),!s.value.enabled){if(N.code==="Tab")return;N.preventDefault()}};return e({focusInput:()=>{var N;(N=w.value)==null||N.focus({preventScroll:!0})},setParsedDate:N=>{b.value=N}}),(N,Q)=>{var _e;return ie(),pe("div",{onClick:ne},[N.$slots.trigger&&!N.$slots["dp-input"]&&!te(o).enabled?Ue(N.$slots,"trigger",{key:0}):ke("",!0),!N.$slots.trigger&&(!te(o).enabled||te(o).input)?(ie(),pe("div",RY,[N.$slots["dp-input"]&&!N.$slots.trigger&&(!te(o).enabled||te(o).enabled&&te(o).input)?Ue(N.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:R,onEnter:j,onTab:U,onClear:F,onBlur:W,onKeypress:B,onPaste:A,onFocus:G,openMenu:()=>N.$emit("open"),closeMenu:()=>N.$emit("close"),toggleMenu:()=>N.$emit("toggle")}):ke("",!0),N.$slots["dp-input"]?ke("",!0):(ie(),pe("input",{key:1,id:N.uid?`dp-input-${N.uid}`:void 0,ref_key:"inputRef",ref:w,"data-test":"dp-input",name:N.name,class:rt(_.value),inputmode:te(s).enabled?"text":"none",placeholder:N.placeholder,disabled:N.disabled,readonly:N.readonly,required:N.required,value:t.inputValue,autocomplete:N.autocomplete,"aria-label":(_e=te(a))==null?void 0:_e.input,"aria-disabled":N.disabled||void 0,"aria-invalid":N.state===!1?!0:void 0,onInput:R,onBlur:W,onFocus:G,onKeypress:B,onKeydown:B,onPaste:A},null,42,IY)),Ae("div",{onClick:Q[2]||(Q[2]=be=>i("toggle"))},[N.$slots["input-icon"]&&!N.hideInputIcon?(ie(),pe("span",{key:0,class:"dp__input_icon",onClick:Q[0]||(Q[0]=be=>i("toggle"))},[Ue(N.$slots,"input-icon")])):ke("",!0),!N.$slots["input-icon"]&&!N.hideInputIcon&&!N.$slots["dp-input"]?(ie(),et(te(gc),{key:1,class:"dp__input_icon dp__input_icons",onClick:Q[1]||(Q[1]=be=>i("toggle"))})):ke("",!0)]),N.$slots["clear-icon"]&&t.inputValue&&N.clearable&&!N.disabled&&!N.readonly?(ie(),pe("span",AY,[Ue(N.$slots,"clear-icon",{clear:F})])):ke("",!0),N.clearable&&!N.$slots["clear-icon"]&&t.inputValue&&!N.disabled&&!N.readonly?(ie(),et(te(XA),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:Q[3]||(Q[3]=Cl(be=>F(be),["prevent"]))})):ke("",!0)])):ke("",!0)])}}}),OY=typeof window<"u"?window:void 0,ry=()=>{},PY=t=>Qp()?(z_(t),!0):!1,DY=(t,e,n,i)=>{if(!t)return ry;let r=ry;const s=Tn(()=>te(t),o=>{r(),o&&(o.addEventListener(e,n,i),r=()=>{o.removeEventListener(e,n,i),r=ry})},{immediate:!0,flush:"post"}),a=()=>{s(),r()};return PY(a),a},LY=(t,e,n,i={})=>{const{window:r=OY,event:s="pointerdown"}=i;return r?DY(r,s,a=>{const o=ii(t),l=ii(e);!o||!l||o===a.target||a.composedPath().includes(o)||a.composedPath().includes(l)||n(a)},{passive:!0}):void 0},FY=_n({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...qm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const i=n,r=t,s=da(),a=Me(!1),o=wl(r,"modelValue"),l=wl(r,"timezone"),u=Me(null),c=Me(null),h=Me(null),m=Me(!1),g=Me(null),y=Me(!1),b=Me(!1),w=Me(!1),E=Me(!1),{setMenuFocused:x,setShiftKey:_}=uM(),{clearArrowNav:T}=xo(),{validateDate:C,isValidTime:k}=Co(r),{defaultedTransitions:A,defaultedTextInput:L,defaultedInline:R,defaultedConfig:j,defaultedRange:U,defaultedMultiDates:G}=Cn(r),{menuTransition:ne,showTransition:W}=xh(A);xn(()=>{re(r.modelValue),vi().then(()=>{if(!R.value.enabled){const ge=xe(g.value);ge?.addEventListener("scroll",z),window?.addEventListener("resize",J)}}),R.value.enabled&&(a.value=!0),window?.addEventListener("keyup",he),window?.addEventListener("keydown",Y)}),ks(()=>{if(!R.value.enabled){const ge=xe(g.value);ge?.removeEventListener("scroll",z),window?.removeEventListener("resize",J)}window?.removeEventListener("keyup",he),window?.removeEventListener("keydown",Y)});const F=vr(s,"all",r.presetDates),B=vr(s,"input");Tn([o,l],()=>{re(o.value)},{deep:!0});const{openOnTop:N,menuStyle:Q,xCorrect:_e,setMenuPosition:be,getScrollableParent:xe,shadowRender:K}=TY({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:g,inline:R,emit:i,props:r,slots:s}),{inputValue:Z,internalModelValue:O,parseExternalModelValue:re,emitModelValue:Ee,formatInputValue:q,checkBeforeEmit:ye}=pH(i,r,m),Xe=Se(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:R.value.enabled,"dp--flex-display-collapsed":w.value,dp__flex_display_with_input:R.value.input})),de=Se(()=>r.dark?"dp__theme_dark":"dp__theme_light"),Ke=Se(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||R.value.enabled}:{}),H=Se(()=>({class:"dp__outer_menu_wrap"})),D=Se(()=>R.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),M=()=>{var ge,Pe;return(Pe=(ge=h.value)==null?void 0:ge.$el)==null?void 0:Pe.getBoundingClientRect()},z=()=>{a.value&&(j.value.closeOnScroll?ce():be())},J=()=>{var ge;a.value&&be();const Pe=(ge=c.value)==null?void 0:ge.$el.getBoundingClientRect().width;w.value=document.body.offsetWidth<=Pe},he=ge=>{ge.key==="Tab"&&!R.value.enabled&&!r.teleport&&j.value.tabOutClosesMenu&&(g.value.contains(document.activeElement)||ce()),b.value=ge.shiftKey},Y=ge=>{b.value=ge.shiftKey},ue=()=>{!r.disabled&&!r.readonly&&(K(pC,r),be(!1),a.value=!0,a.value&&i("open"),a.value||ae(),re(r.modelValue))},P=()=>{var ge;Z.value="",ae(),(ge=h.value)==null||ge.setParsedDate(null),i("update:model-value",null),i("update:model-timezone-value",null),i("cleared"),j.value.closeOnClearValue&&ce()},$=()=>{const ge=O.value;return!ge||!Array.isArray(ge)&&C(ge)?!0:Array.isArray(ge)?G.value.enabled||ge.length===2&&C(ge[0])&&C(ge[1])?!0:U.value.partialRange&&!r.timePicker?C(ge[0]):!1:!1},X=()=>{ye()&&$()?(Ee(),ce()):i("invalid-select",O.value)},se=ge=>{Ie(),Ee(),j.value.closeOnAutoApply&&!ge&&ce()},Ie=()=>{h.value&&L.value.enabled&&h.value.setParsedDate(O.value)},we=(ge=!1)=>{r.autoApply&&k(O.value)&&$()&&(U.value.enabled&&Array.isArray(O.value)?(U.value.partialRange||O.value.length===2)&&se(ge):se(ge))},ae=()=>{L.value.enabled||(O.value=null)},ce=()=>{R.value.enabled||(a.value&&(a.value=!1,_e.value=!1,x(!1),_(!1),T(),i("closed"),Z.value&&re(o.value)),ae(),i("blur"))},Le=(ge,Pe,Be=!1)=>{if(!ge){O.value=null;return}const Xt=Array.isArray(ge)?!ge.some(Cr=>!C(Cr)):C(ge),dn=k(ge);Xt&&dn&&(E.value=!0,O.value=ge,Pe&&(y.value=Be,X(),i("text-submit")),vi().then(()=>{E.value=!1}))},je=()=>{r.autoApply&&k(O.value)&&Ee(),Ie()},wt=()=>a.value?ce():ue(),tn=ge=>{O.value=ge},vn=()=>{L.value.enabled&&(m.value=!0,q()),i("focus")},Yt=()=>{if(L.value.enabled&&(m.value=!1,re(r.modelValue),y.value)){const ge=VU(g.value,b.value);ge?.focus()}i("blur")},wi=ge=>{c.value&&c.value.updateMonthYear(0,{month:oC(ge.month),year:oC(ge.year)})},Ai=ge=>{re(ge??r.modelValue)},Wt=(ge,Pe)=>{var Be;(Be=c.value)==null||Be.switchView(ge,Pe)},oe=ge=>j.value.onClickOutside?j.value.onClickOutside(ge):ce(),Oe=(ge=0)=>{var Pe;(Pe=c.value)==null||Pe.handleFlow(ge)};return LY(u,h,()=>oe($)),e({closeMenu:ce,selectDate:X,clearValue:P,openMenu:ue,onScroll:z,formatInputValue:q,updateInternalModelValue:tn,setMonthYear:wi,parseModel:Ai,switchView:Wt,toggleMenu:wt,handleFlow:Oe}),(ge,Pe)=>(ie(),pe("div",{ref_key:"pickerWrapperRef",ref:g,class:rt(Xe.value),"data-datepicker-instance":""},[De(MY,Vn({ref_key:"inputRef",ref:h,"input-value":te(Z),"onUpdate:inputValue":Pe[0]||(Pe[0]=Be=>Hn(Z)?Z.value=Be:null),"is-menu-open":a.value},ge.$props,{onClear:P,onOpen:ue,onSetInputDate:Le,onSetEmptyDate:te(Ee),onSelectDate:X,onToggle:wt,onClose:ce,onFocus:vn,onBlur:Yt,onRealBlur:Pe[1]||(Pe[1]=Be=>m.value=!1)}),yi({_:2},[Ut(te(B),(Be,Xt)=>({name:Be,fn:pt(dn=>[Ue(ge.$slots,Be,Kn(Si(dn)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(ie(),et(lc(ge.teleport?wv:"div"),Kn(Si(Ke.value)),{default:pt(()=>[De(Rs,{name:te(ne)(te(N)),css:te(W)&&!te(R).enabled},{default:pt(()=>[a.value?(ie(),pe("div",Vn({key:0,ref_key:"dpWrapMenuRef",ref:u},H.value,{class:{"dp--menu-wrapper":!te(R).enabled},style:te(R).enabled?void 0:te(Q)}),[De(pC,Vn({ref_key:"dpMenuRef",ref:c},ge.$props,{"internal-model-value":te(O),"onUpdate:internalModelValue":Pe[2]||(Pe[2]=Be=>Hn(O)?O.value=Be:null),class:{[de.value]:!0,"dp--menu-wrapper":ge.teleport},"open-on-top":te(N),"no-overlay-focus":D.value,collapse:w.value,"get-input-rect":M,"is-text-input-date":E.value,onClosePicker:ce,onSelectDate:X,onAutoApply:we,onTimeUpdate:je,onFlowStep:Pe[3]||(Pe[3]=Be=>ge.$emit("flow-step",Be)),onUpdateMonthYear:Pe[4]||(Pe[4]=Be=>ge.$emit("update-month-year",Be)),onInvalidSelect:Pe[5]||(Pe[5]=Be=>ge.$emit("invalid-select",te(O))),onAutoApplyInvalid:Pe[6]||(Pe[6]=Be=>ge.$emit("invalid-select",Be)),onInvalidFixedRange:Pe[7]||(Pe[7]=Be=>ge.$emit("invalid-fixed-range",Be)),onRecalculatePosition:te(be),onTooltipOpen:Pe[8]||(Pe[8]=Be=>ge.$emit("tooltip-open",Be)),onTooltipClose:Pe[9]||(Pe[9]=Be=>ge.$emit("tooltip-close",Be)),onTimePickerOpen:Pe[10]||(Pe[10]=Be=>ge.$emit("time-picker-open",Be)),onTimePickerClose:Pe[11]||(Pe[11]=Be=>ge.$emit("time-picker-close",Be)),onAmPmChange:Pe[12]||(Pe[12]=Be=>ge.$emit("am-pm-change",Be)),onRangeStart:Pe[13]||(Pe[13]=Be=>ge.$emit("range-start",Be)),onRangeEnd:Pe[14]||(Pe[14]=Be=>ge.$emit("range-end",Be)),onDateUpdate:Pe[15]||(Pe[15]=Be=>ge.$emit("date-update",Be)),onInvalidDate:Pe[16]||(Pe[16]=Be=>ge.$emit("invalid-date",Be)),onOverlayToggle:Pe[17]||(Pe[17]=Be=>ge.$emit("overlay-toggle",Be))}),yi({_:2},[Ut(te(F),(Be,Xt)=>({name:Be,fn:pt(dn=>[Ue(ge.$slots,Be,Kn(Si({...dn})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):ke("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Qm=(()=>{const t=FY;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),NY=Object.freeze(Object.defineProperty({__proto__:null,default:Qm},Symbol.toStringTag,{value:"Module"}));Object.entries(NY).forEach(([t,e])=>{t!=="default"&&(Qm[t]=e)});const $Y={name:"DatePicker",components:{VueDatePicker:Qm},emits:["dateChanged"],data(){return{selectedDate:new Date,fi:"fi",en:"en"}},computed:{language(){switch(this.$store.state.settings.settings.locale){case"en":default:return this.en;case"fi":return this.fi}},pastDate(){const t=new Date(this.selectedDate);return t.setDate(t.getDate()-30),t},isToday(){const t=new Date;return this.selectedDate.getDate()===t.getDate()&&this.selectedDate.getMonth()===t.getMonth()&&this.selectedDate.getFullYear()===t.getFullYear()},mode(){return this.$store.state.settings.settings.mode}},mounted(){mt.$on("featureClicked",this.resetDate)},methods:{formatDates(t){switch(this.$store.state.settings.settings.dateFormat){case"fi":return`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`;case"iso":default:return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}},resetDate(){this.mode=="air_radionuclides"&&(this.selectedDate=new Date)},handleDateChange(t){this.selectedDate=new Date(t),mt.$emit("dateChanged",this.selectedDate)},prevDay(){const t=new Date(this.selectedDate);t.setDate(t.getDate()-1),this.selectedDate=t,mt.$emit("dateChanged",this.selectedDate)},nextDay(){const t=new Date(this.selectedDate);this.isToday||(t.setDate(t.getDate()+1),this.selectedDate=t,mt.$emit("dateChanged",this.selectedDate))}}},jY={class:"date-picker"},BY={class:"controls"};function VY(t,e,n,i,r,s){const a=ze("vue-date-picker");return ie(),pe("div",jY,[Ae("div",BY,[Ae("p",null,ht(s.formatDates(s.pastDate))+" -",1),Ae("button",{onClick:e[0]||(e[0]=(...o)=>s.prevDay&&s.prevDay(...o))}," < "),De(a,{modelValue:r.selectedDate,"onUpdate:modelValue":e[1]||(e[1]=o=>r.selectedDate=o),locale:s.language,format:s.formatDates,"auto-apply":"","enable-time-picker":!1,"max-date":new Date,"hide-input-icon":"",onDateUpdate:s.handleDateChange},null,8,["modelValue","locale","format","max-date","onDateUpdate"]),Ae("button",{class:rt({disabled:s.isToday}),onClick:e[2]||(e[2]=(...o)=>s.nextDay&&s.nextDay(...o))}," > ",2)])])}const GY=st($Y,[["render",VY]]),zY={name:"FeaturePopup",components:{SiteName:mA,SiteDoseRate:gA,TimeSeriesGraph:yz,RadionuclideTables:Sz,DatePicker:GY},emits:["featurepopupOpened","featurepopupClosed"],data(){return{overlay:void 0,feature:void 0}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRatesMode(){return this.mode==="dose_rates"},isRadionuclideMode(){return this.mode==="air_radionuclides"}},watch:{isDoseRatesMode(){this.close()}},mounted(){mt.$on("featureClicked",this.open),mt.$on("emptyMapLocationClicked",this.close),this.overlay=new yA({element:this.$refs.featurePopup,position:void 0}),mt.$on("featureClicked",this.open),mt.$on("featureSelectedViaSearch",this.open),mt.$on("emptyMapLocationClicked",this.close),mt.$on("doseRateLayerChanged",this.update)},methods:{open(t){this.feature=t,this.overlay.setPosition(t.getGeometry().getCoordinates()),mt.$emit("featurePopupOpened",t),this.$nextTick(()=>{this.$refs.panelBody&&(this.$refs.panelBody.scrollTop=0)})},close(){this.feature=void 0,this.overlay.setPosition(void 0),mt.$emit("featurePopupClosed")},update(t){var e=t.getSource().getFeatures();if(!(e.length==0||!this.feature)){for(var n=0;n<e.length;++n)if(e[n].get("id")==this.feature.get("id")){this.feature=e[n];return}this.feature.set("doseRate","-")}}}},UY={ref:"featurePopup",class:"feature-popup"};function HY(t,e,n,i,r,s){const a=ze("site-name"),o=ze("site-dose-rate"),l=ze("time-series-graph"),u=ze("date-picker"),c=ze("radionuclide-tables");return ie(),pe("div",UY,[De(a,{feature:r.feature,onClose:s.close},null,8,["feature","onClose"]),ai(De(o,{feature:r.feature},null,8,["feature"]),[[oi,s.isDoseRatesMode]]),ai(De(l,{feature:r.feature},null,8,["feature"]),[[oi,s.isDoseRatesMode]]),ai(De(u,null,null,512),[[oi,s.isRadionuclideMode]]),ai(De(c,{feature:r.feature},null,8,["feature"]),[[oi,s.isRadionuclideMode]])],512)}const YY=st(zY,[["render",HY],["__scopeId","data-v-5984984b"]]),WY={name:"ButtonOpenSettings",emits:["settings-panel-open"],methods:{handleClick(){mt.$emit("settings-panel-open")}}},KY=["title"],qY=Ae("span",{class:"button-open-settings__icon"},null,-1),XY=[qY];function ZY(t,e,n,i,r,s){return ie(),pe("div",{class:"button-open-settings",title:t.$t("settings.title"),onClick:e[0]||(e[0]=a=>s.handleClick())},XY,8,KY)}const JY=st(WY,[["render",ZY]]),QY={name:"ButtonOpenInfo",emits:["info-panel-open"],methods:{handleClick(){mt.$emit("info-panel-open")}}},eW=t=>(qd("data-v-9c6735c7"),t=t(),Xd(),t),tW=["title"],nW=eW(()=>Ae("span",{class:"button-open-info__icon"},null,-1)),iW=[nW];function rW(t,e,n,i,r,s){return ie(),pe("div",{class:"button-open-info",title:t.$t("info.title"),onClick:e[0]||(e[0]=a=>s.handleClick())},iW,8,tW)}const sW=st(QY,[["render",rW],["__scopeId","data-v-9c6735c7"]]),aW={name:"ButtonChangeMode",computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRate(){return this.mode==="dose_rates"},isAirRadionuclides(){return this.mode==="air_radionuclides"}},methods:{handleClick(){const t=this.mode==="dose_rates"?"air_radionuclides":"dose_rates";mt.$emit("mode-changed",t)}}},oW=t=>(qd("data-v-3898a807"),t=t(),Xd(),t),lW=["title"],uW=oW(()=>Ae("span",{class:"button-change-mode__icon"},null,-1));function cW(t,e,n,i,r,s){return ie(),pe("div",{class:"button-change-mode",title:t.$t("changeMode.title"),onClick:e[0]||(e[0]=(...a)=>s.handleClick&&s.handleClick(...a))},[uW,Ae("h3",null,[Ae("span",{class:rt({selected:s.isDoseRate,notSelected:!s.isDoseRate})},ht(t.$t("doseRate")),3),Ii(" / "),Ae("span",{class:rt({selected:s.isAirRadionuclides,notSelected:!s.isAirRadionuclides})},ht(t.$t("airRadionuclides")),3)])],8,lW)}const dW=st(aW,[["render",cW],["__scopeId","data-v-3898a807"]]),hW={name:"SettingsPanelHeader",emits:["close"]},fW={class:"settings-panel-header opendata-row"};function pW(t,e,n,i,r,s){return ie(),pe("div",fW,[Ae("span",null,ht(t.$t("settings.header")),1),Ae("span",{class:"close-button",onClick:e[0]||(e[0]=a=>t.$emit("close"))},"×")])}const mW=st(hW,[["render",pW],["__scopeId","data-v-79d97c99"]]),gW={name:"SettingsPanelSection",props:{title:{type:String,required:!0}}},yW={class:"section"},_W={class:"title"};function vW(t,e,n,i,r,s){return ie(),pe("div",yW,[Ae("p",_W,ht(n.title),1),Ue(t.$slots,"default",{class:"content"},void 0,!0)])}const eg=st(gW,[["render",vW],["__scopeId","data-v-fed687d3"]]),bW={name:"FieldLanguage",components:{SettingsPanelSection:eg},props:{settings:{type:Object,required:!0}}};function wW(t,e,n,i,r,s){const a=ze("base-radio-button"),o=ze("settings-panel-section");return ie(),et(o,{title:t.$t("settings.language")},{default:pt(()=>[De(a,{key:"fi",modelValue:n.settings.locale,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.locale=l),"model-value":n.settings.locale,"own-value":"fi",label:t.$t("settings.labelFinnish"),class:"radio-button"},null,8,["modelValue","model-value","label"]),De(a,{key:"en",modelValue:n.settings.locale,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.locale=l),"model-value":n.settings.locale,"own-value":"en",label:t.$t("settings.labelEnglish"),class:"radio-button"},null,8,["modelValue","model-value","label"])]),_:1},8,["title"])}const EW=st(bW,[["render",wW],["__scopeId","data-v-bfcd2737"]]),TW={name:"FieldDateFormat",components:{SettingsPanelSection:eg},props:{settings:{type:Object,required:!0}}};function xW(t,e,n,i,r,s){const a=ze("base-radio-button"),o=ze("settings-panel-section");return ie(),et(o,{title:t.$t("settings.dateFormat")},{default:pt(()=>[De(a,{key:"fi",modelValue:n.settings.dateFormat,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.dateFormat=l),"model-value":n.settings.dateFormat,"own-value":"fi",label:t.$t("settings.dateFormatA"),class:"radio-button"},null,8,["modelValue","model-value","label"]),De(a,{key:"iso",modelValue:n.settings.dateFormat,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.dateFormat=l),"model-value":n.settings.dateFormat,"own-value":"iso",label:t.$t("settings.dateFormatB"),class:"radio-button"},null,8,["modelValue","model-value","label"])]),_:1},8,["title"])}const CW=st(TW,[["render",xW],["__scopeId","data-v-b4352245"]]),SW={name:"FieldTimeFormat",components:{SettingsPanelSection:eg},props:{settings:{type:Object,required:!0}}};function kW(t,e,n,i,r,s){const a=ze("base-radio-button"),o=ze("settings-panel-section");return ie(),et(o,{title:t.$t("settings.timeFormat")},{default:pt(()=>[De(a,{key:"24h",modelValue:n.settings.timeFormat,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.timeFormat=l),"model-value":n.settings.timeFormat,"own-value":"24h",label:t.$t("settings.timeFormatA"),class:"radio-button"},null,8,["modelValue","model-value","label"]),De(a,{key:"12h",modelValue:n.settings.timeFormat,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.timeFormat=l),"model-value":n.settings.timeFormat,"own-value":"12h",label:t.$t("settings.timeFormatB"),class:"radio-button"},null,8,["modelValue","model-value","label"])]),_:1},8,["title"])}const RW=st(SW,[["render",kW],["__scopeId","data-v-505c2119"]]);class IW extends Bm{constructor(e){super(e)}createRenderer(){return new V2(this)}}class za extends ha{constructor(e,n){super(e),this.layer=n}}const sy={LAYERS:"layers"};class yc extends b2{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(sy.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new _s(i.slice(),{unique:!0}):Lt(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new _s(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(sn),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(Mt(e,nr.ADD,this.handleLayersAdd_,this),Mt(e,nr.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(sn);ch(this.listenerKeys_);const n=e.getArray();for(let i=0,r=n.length;i<r;i++){const s=n[i];this.registerLayerListeners_(s),this.dispatchEvent(new za("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[Mt(e,qu.PROPERTYCHANGE,this.handleLayerChange_,this),Mt(e,lt.CHANGE,this.handleLayerChange_,this)];e instanceof yc&&n.push(Mt(e,"addlayer",this.handleLayerGroupAdd_,this),Mt(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[bt(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new za("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new za("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new za("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=bt(n);this.listenerKeys_[i].forEach(sn),delete this.listenerKeys_[i],this.dispatchEvent(new za("removelayer",n)),this.changed()}getLayers(){return this.get(sy.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new za("removelayer",i[r]))}this.set(sy.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(n)});const r=this.getLayerState();let s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let a=i,o=n.length;a<o;a++){const l=n[a];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=io(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}const AW=.5,Ve={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class tg extends dh{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(lt.CHANGE)}release(){this.state===Ve.ERROR&&this.setState(Ve.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==Ve.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let n=this;do{if(e.getState()==Ve.LOADED){e.interimTile=null;break}e.getState()==Ve.LOADING?n=e:e.getState()==Ve.IDLE?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Ve.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ft()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=n-i+1e3/60;return r>=this.transition_?1:E2(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}const MW=10,mC=.25;class OW{constructor(e,n,i,r,s,a){this.sourceProj_=e,this.targetProj_=n;let o={};const l=Ld(this.targetProj_,this.sourceProj_);this.transformInv_=function(x){const _=x[0]+"/"+x[1];return o[_]||(o[_]=l(x)),o[_]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Bt(r)>=Bt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Bt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Bt(this.targetProj_.getExtent()):null;const u=Eo(i),c=Im(i),h=Rm(i),m=km(i),g=this.transformInv_(u),y=this.transformInv_(c),b=this.transformInv_(h),w=this.transformInv_(m),E=MW+(a?Math.max(0,Math.ceil(Math.log2(e_(i)/(a*a*256*256)))):0);if(this.addQuad_(u,c,h,m,g,y,b,w,E),this.wrapsXInSource_){let x=1/0;this.triangles_.forEach(function(_,T,C){x=Math.min(x,_.source[0][0],_.source[1][0],_.source[2][0])}),this.triangles_.forEach(_=>{if(Math.max(_.source[0][0],_.source[1][0],_.source[2][0])-x>this.sourceWorldWidth_/2){const T=[[_.source[0][0],_.source[0][1]],[_.source[1][0],_.source[1][1]],[_.source[2][0],_.source[2][1]]];T[0][0]-x>this.sourceWorldWidth_/2&&(T[0][0]-=this.sourceWorldWidth_),T[1][0]-x>this.sourceWorldWidth_/2&&(T[1][0]-=this.sourceWorldWidth_),T[2][0]-x>this.sourceWorldWidth_/2&&(T[2][0]-=this.sourceWorldWidth_);const C=Math.min(T[0][0],T[1][0],T[2][0]);Math.max(T[0][0],T[1][0],T[2][0])-C<this.sourceWorldWidth_/2&&(_.source=T)}})}o={}}addTriangle_(e,n,i,r,s,a){this.triangles_.push({source:[r,s,a],target:[e,n,i]})}addQuad_(e,n,i,r,s,a,o,l,u){const c=Jy([s,a,o,l]),h=this.sourceWorldWidth_?Bt(c)/this.sourceWorldWidth_:null,m=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&h>.5&&h<1;let y=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const w=Jy([e,n,i,r]);y=Bt(w)/this.targetWorldWidth_>mC||y}!g&&this.sourceProj_.isGlobal()&&h&&(y=h>mC||y)}if(!y&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!An(c,this.maxSourceExtent_))return;let b=0;if(!y&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)y=!0;else if(b=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),b!=1&&b!=2&&b!=4&&b!=8)return}if(u>0){if(!y){const w=[(e[0]+i[0])/2,(e[1]+i[1])/2],E=this.transformInv_(w);let x;g?x=(Du(s[0],m)+Du(o[0],m))/2-Du(E[0],m):x=(s[0]+o[0])/2-E[0];const _=(s[1]+o[1])/2-E[1];y=x*x+_*_>this.errorThresholdSquared_}if(y){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const w=[(n[0]+i[0])/2,(n[1]+i[1])/2],E=this.transformInv_(w),x=[(r[0]+e[0])/2,(r[1]+e[1])/2],_=this.transformInv_(x);this.addQuad_(e,n,w,x,s,a,E,_,u-1),this.addQuad_(x,w,i,r,_,E,o,l,u-1)}else{const w=[(e[0]+n[0])/2,(e[1]+n[1])/2],E=this.transformInv_(w),x=[(i[0]+r[0])/2,(i[1]+r[1])/2],_=this.transformInv_(x);this.addQuad_(e,w,x,r,s,E,_,l,u-1),this.addQuad_(w,n,i,x,E,a,o,_,u-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}b&11||this.addTriangle_(e,i,r,s,o,l),b&14||this.addTriangle_(e,i,n,s,o,a),b&&(b&13||this.addTriangle_(n,r,e,a,l,s),b&7||this.addTriangle_(n,r,i,a,l,o))}calculateSourceExtent(){const e=Lr();return this.triangles_.forEach(function(n,i,r){const s=n.source;ld(e,s[0]),ld(e,s[1]),ld(e,s[2])}),e}getTriangles(){return this.triangles_}}let ay;const Fu=[];function gC(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function oy(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function PW(){if(ay===void 0){const t=bi(6,6,Fu);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",gC(t,4,5,4,0),gC(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;ay=oy(e,0)||oy(e,4)||oy(e,8),uh(t),Fu.push(t.canvas)}return ay}function yC(t,e,n,i){const r=Am(n,e,t);let s=Cp(e,i,n);const a=e.getMetersPerUnit();a!==void 0&&(s*=a);const o=t.getMetersPerUnit();o!==void 0&&(s/=o);const l=t.getExtent();if(!l||Rl(l,r)){const u=Cp(t,s,r)/s;isFinite(u)&&u>0&&(s/=u)}return s}function DW(t,e,n,i){const r=fo(n);let s=yC(t,e,r,i);return(!isFinite(s)||s<=0)&&qI(n,function(a){return s=yC(t,e,a,i),isFinite(s)&&s>0}),s}function LW(t,e,n,i,r,s,a,o,l,u,c,h,m,g){const y=bi(Math.round(n*t),Math.round(n*e),Fu);if(h||(y.imageSmoothingEnabled=!1),l.length===0)return y.canvas;y.scale(n,n);function b(C){return Math.round(C*n)/n}y.globalCompositeOperation="lighter";const w=Lr();l.forEach(function(C,k,A){WI(w,C.extent)});let E;const x=n/i,_=(h?1:1+Math.pow(2,-24))/x;{if(E=bi(Math.round(Bt(w)*x),Math.round(gi(w)*x),Fu),h||(E.imageSmoothingEnabled=!1),r&&g){const C=(r[0]-w[0])*x,k=-(r[3]-w[3])*x,A=Bt(r)*x,L=gi(r)*x;E.rect(C,k,A,L),E.clip()}l.forEach(function(C,k,A){if(C.image.width>0&&C.image.height>0){if(C.clipExtent){E.save();const G=(C.clipExtent[0]-w[0])*x,ne=-(C.clipExtent[3]-w[3])*x,W=Bt(C.clipExtent)*x,F=gi(C.clipExtent)*x;E.rect(h?G:Math.round(G),h?ne:Math.round(ne),h?W:Math.round(G+W)-Math.round(G),h?F:Math.round(ne+F)-Math.round(ne)),E.clip()}const L=(C.extent[0]-w[0])*x,R=-(C.extent[3]-w[3])*x,j=Bt(C.extent)*x,U=gi(C.extent)*x;E.drawImage(C.image,u,u,C.image.width-2*u,C.image.height-2*u,h?L:Math.round(L),h?R:Math.round(R),h?j:Math.round(L+j)-Math.round(L),h?U:Math.round(R+U)-Math.round(R)),C.clipExtent&&E.restore()}})}const T=Eo(a);return o.getTriangles().forEach(function(C,k,A){const L=C.source,R=C.target;let j=L[0][0],U=L[0][1],G=L[1][0],ne=L[1][1],W=L[2][0],F=L[2][1];const B=b((R[0][0]-T[0])/s),N=b(-(R[0][1]-T[1])/s),Q=b((R[1][0]-T[0])/s),_e=b(-(R[1][1]-T[1])/s),be=b((R[2][0]-T[0])/s),xe=b(-(R[2][1]-T[1])/s),K=j,Z=U;j=0,U=0,G-=K,ne-=Z,W-=K,F-=Z;const O=[[G,ne,0,0,Q-B],[W,F,0,0,be-B],[0,0,G,ne,_e-N],[0,0,W,F,xe-N]],re=rj(O);if(!re)return;if(y.save(),y.beginPath(),PW()||!h){y.moveTo(Q,_e);const q=4,ye=B-Q,Xe=N-_e;for(let de=0;de<q;de++)y.lineTo(Q+b((de+1)*ye/q),_e+b(de*Xe/(q-1))),de!=q-1&&y.lineTo(Q+b((de+1)*ye/q),_e+b((de+1)*Xe/(q-1)));y.lineTo(be,xe)}else y.moveTo(Q,_e),y.lineTo(B,N),y.lineTo(be,xe);y.clip(),y.transform(re[0],re[2],re[1],re[3],B,N),y.translate(w[0]-K,w[3]-Z);let Ee;if(E)Ee=E.canvas,y.scale(_,-_);else{const q=l[0],ye=q.extent;Ee=q.image,y.scale(Bt(ye)/Ee.width,-gi(ye)/Ee.height)}y.drawImage(Ee,0,0),y.restore()}),E&&(uh(E),Fu.push(E.canvas)),c&&(y.save(),y.globalCompositeOperation="source-over",y.strokeStyle="black",y.lineWidth=1,o.getTriangles().forEach(function(C,k,A){const L=C.target,R=(L[0][0]-T[0])/s,j=-(L[0][1]-T[1])/s,U=(L[1][0]-T[0])/s,G=-(L[1][1]-T[1])/s,ne=(L[2][0]-T[0])/s,W=-(L[2][1]-T[1])/s;y.beginPath(),y.moveTo(U,G),y.lineTo(R,j),y.lineTo(ne,W),y.closePath(),y.stroke()}),y.restore()),y.canvas}class k_ extends tg{constructor(e,n,i,r,s,a,o,l,u,c,h,m){super(s,Ve.IDLE,m),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=o,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=a||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const g=r.getTileCoordExtent(this.wrappedTileCoord_),y=this.targetTileGrid_.getExtent();let b=this.sourceTileGrid_.getExtent();const w=y?io(g,y):g;if(e_(w)===0){this.state=Ve.EMPTY;return}const E=e.getExtent();E&&(b?b=io(b,E):b=E);const x=r.getResolution(this.wrappedTileCoord_[0]),_=DW(e,i,w,x);if(!isFinite(_)||_<=0){this.state=Ve.EMPTY;return}const T=c!==void 0?c:AW;if(this.triangulation_=new OW(e,i,w,b,_*T,x),this.triangulation_.getTriangles().length===0){this.state=Ve.EMPTY;return}this.sourceZ_=n.getZForResolution(_);let C=this.triangulation_.calculateSourceExtent();if(b&&(e.canWrapX()?(C[1]=Mn(C[1],b[1],b[3]),C[3]=Mn(C[3],b[1],b[3])):C=io(C,b)),!e_(C))this.state=Ve.EMPTY;else{let k=0,A=0;e.canWrapX()&&(k=Bt(E),A=Math.floor((C[0]-E[0])/k)),ZI(C.slice(),e,!0).forEach(R=>{const j=n.getTileRangeForExtentAndZ(R,this.sourceZ_);for(let U=j.minX;U<=j.maxX;U++)for(let G=j.minY;G<=j.maxY;G++){const ne=u(this.sourceZ_,U,G,o);if(ne){const W=A*k;this.sourceTiles_.push({tile:ne,offset:W})}}++A}),this.sourceTiles_.length===0&&(this.state=Ve.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{const i=n.tile;if(i&&i.getState()==Ve.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const s=this.clipExtent_?.slice();s&&(s[0]+=n.offset,s[2]+=n.offset),e.push({extent:r,clipExtent:s,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Ve.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],a=this.targetTileGrid_.getResolution(n),o=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=LW(r,s,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Ve.LOADED}this.changed()}load(){if(this.state==Ve.IDLE){this.state=Ve.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==Ve.IDLE||i==Ve.LOADING){e++;const r=Mt(n,lt.CHANGE,function(s){const a=n.getState();(a==Ve.LOADED||a==Ve.ERROR||a==Ve.EMPTY)&&(sn(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==Ve.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(sn),this.sourcesListenerKeys_=null}release(){this.canvas_&&(uh(this.canvas_.getContext("2d")),Fu.push(this.canvas_),this.canvas_=null),super.release()}}class gM extends tg{constructor(e,n,i,r,s,a){super(e,n,a),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Ve.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Ve.ERROR,this.unlistenImage_(),this.image_=FW(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Ve.LOADED:this.state=Ve.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Ve.ERROR&&(this.state=Ve.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Ve.IDLE&&(this.state=Ve.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=wj(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function FW(){const t=bi(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class NW{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return Lt(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return Lt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){Lt(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}class fb{constructor(e,n,i,r){this.minX=e,this.maxX=n,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function cu(t,e,n,i,r){return r!==void 0?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new fb(t,e,n,i)}function _C(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function _c(t,e,n){return t+"/"+e+"/"+n}function yM(t){return _c(t[0],t[1],t[2])}function $W(t){const[e,n,i]=t.substring(t.lastIndexOf("/")+1,t.length).split(",").map(Number);return _c(e,n,i)}function _M(t){return t.split("/").map(Number)}function jW(t){return(t[1]<<t[0])+t[2]}function BW(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(i,r):!0}const Za={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class VW extends Lm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Za.PRELOAD)}setPreload(e){this.set(Za.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Za.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Za.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class vM extends F1{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Lr(),this.tmpTileRange_=new fb(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),i=e.getState(),r=n.getUseInterimTilesOnError();return i==Ve.LOADED||i==Ve.EMPTY||i==Ve.ERROR&&!r}getTile(e,n,i,r){const s=r.pixelRatio,a=r.viewState.projection,o=this.getLayer();let u=o.getSource().getTile(e,n,i,s,a);return u.getState()==Ve.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=jn(n.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Rl(s,r))return null;const a=n.pixelRatio,o=n.viewState.projection,l=n.viewState,u=i.getRenderSource(),c=u.getTileGridForProjection(l.projection),h=u.getTilePixelRatio(n.pixelRatio);for(let m=c.getZForResolution(l.resolution);m>=c.getMinZoom();--m){const g=c.getTileCoordForCoordAndZ(r,m),y=u.getTile(m,g[1],g[2],a,o);if(!(y instanceof gM||y instanceof k_)||y instanceof k_&&y.getState()===Ve.EMPTY)return null;if(y.getState()!==Ve.LOADED)continue;const b=c.getOrigin(m),w=Ki(c.getTileSize(m)),E=c.getResolution(m),x=Math.floor(h*((r[0]-b[0])/E-g[1]*w[0])),_=Math.floor(h*((b[1]-r[1])/E-g[2]*w[1])),T=Math.round(h*u.getGutterForProjection(l.projection));return this.getImageData(y.getImage(),x+T,_+T)}return null}loadedTileCallback(e,n,i){return this.isDrawableTile(i)?super.loadedTileCallback(e,n,i):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,a=r.resolution,o=r.center,l=r.rotation,u=e.pixelRatio,c=this.getLayer(),h=c.getSource(),m=h.getRevision(),g=h.getTileGridForProjection(s),y=g.getZForResolution(a,h.zDirection),b=g.getResolution(y);let w=e.extent;const E=e.viewState.resolution,x=h.getTilePixelRatio(u);this.prepareContainer(e,n);const _=this.context.canvas.width,T=this.context.canvas.height,C=i.extent&&Js(i.extent);C&&(w=io(w,Js(i.extent)));const k=b*_/2/x,A=b*T/2/x,L=[o[0]-k,o[1]-A,o[0]+k,o[1]+A],R=g.getTileRangeForExtentAndZ(w,y),j={};j[y]={};const U=this.createLoadedTileFinder(h,s,j),G=this.tmpExtent,ne=this.tmpTileRange_;this.newTiles_=!1;const W=l?n_(r.center,E,l,e.size):void 0;for(let xe=R.minX;xe<=R.maxX;++xe)for(let K=R.minY;K<=R.maxY;++K){if(l&&!g.tileCoordIntersectsViewport([y,xe,K],W))continue;const Z=this.getTile(y,xe,K,e);if(this.isDrawableTile(Z)){const Ee=bt(this);if(Z.getState()==Ve.LOADED){j[y][Z.tileCoord.toString()]=Z;let q=Z.inTransition(Ee);q&&i.opacity!==1&&(Z.endTransition(Ee),q=!1),!this.newTiles_&&(q||!this.renderedTiles.includes(Z))&&(this.newTiles_=!0)}if(Z.getAlpha(Ee,e.time)===1)continue}const O=g.getTileCoordChildTileRange(Z.tileCoord,ne,G);let re=!1;O&&(re=U(y+1,O)),re||g.forEachTileCoordParentTileRange(Z.tileCoord,U,ne,G)}const F=b/a*u/x,B=this.getRenderContext(e);ts(this.tempTransform,_/2,T/2,F,F,0,-_/2,-T/2),C&&this.clipUnrotated(B,e,C),h.getInterpolate()||(B.imageSmoothingEnabled=!1),this.preRender(B,e),this.renderedTiles.length=0;let N=Object.keys(j).map(Number);N.sort(ws);let Q,_e,be;i.opacity===1&&(!this.containerReused||h.getOpaque(e.viewState.projection))?N=N.reverse():(Q=[],_e=[]);for(let xe=N.length-1;xe>=0;--xe){const K=N[xe],Z=h.getTilePixelSize(K,u,s),re=g.getResolution(K)/b,Ee=Z[0]*re*F,q=Z[1]*re*F,ye=g.getTileCoordForCoordAndZ(Eo(L),K),Xe=g.getTileCoordExtent(ye),de=jn(this.tempTransform,[x*(Xe[0]-L[0])/b,x*(L[3]-Xe[3])/b]),Ke=x*h.getGutterForProjection(s),H=j[K];for(const D in H){const M=H[D],z=M.tileCoord,J=ye[1]-z[1],he=Math.round(de[0]-(J-1)*Ee),Y=ye[2]-z[2],ue=Math.round(de[1]-(Y-1)*q),P=Math.round(de[0]-J*Ee),$=Math.round(de[1]-Y*q),X=he-P,se=ue-$,Ie=y===K,we=Ie&&M.getAlpha(bt(this),e.time)!==1;let ae=!1;if(!we)if(Q){be=[P,$,P+X,$,P+X,$+se,P,$+se];for(let ce=0,Le=Q.length;ce<Le;++ce)if(y!==K&&K<_e[ce]){const je=Q[ce];An([P,$,P+X,$+se],[je[0],je[3],je[4],je[7]])&&(ae||(B.save(),ae=!0),B.beginPath(),B.moveTo(be[0],be[1]),B.lineTo(be[2],be[3]),B.lineTo(be[4],be[5]),B.lineTo(be[6],be[7]),B.moveTo(je[6],je[7]),B.lineTo(je[4],je[5]),B.lineTo(je[2],je[3]),B.lineTo(je[0],je[1]),B.clip())}Q.push(be),_e.push(K)}else B.clearRect(P,$,X,se);this.drawTileImage(M,e,P,$,X,se,Ke,Ie),Q&&!we?(ae&&B.restore(),this.renderedTiles.unshift(M)):this.renderedTiles.push(M),this.updateUsedTiles(e.usedTiles,h,M)}}return this.renderedRevision=m,this.renderedResolution=b,this.extentChanged=!this.renderedExtent_||!Ju(this.renderedExtent_,L),this.renderedExtent_=L,this.renderedPixelRatio=u,this.renderedProjection=s,this.manageTilePyramid(e,h,g,u,s,w,y,c.getPreload()),this.scheduleExpireCache(e,h),this.postRender(this.context,e),i.extent&&B.restore(),B.imageSmoothingEnabled=!0,this.container}drawTileImage(e,n,i,r,s,a,o,l){const u=this.getTileImage(e);if(!u)return;const c=this.getRenderContext(n),h=bt(this),m=n.layerStatesArray[n.layerIndex],g=m.opacity*(l?e.getAlpha(h,n.time):1),y=g!==c.globalAlpha;y&&(c.save(),c.globalAlpha=g),c.drawImage(u,o,o,u.width-2*o,u.height-2*o,i,r,s,a),y&&c.restore(),g!==m.opacity?n.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const i=function(r,s,a){const o=bt(r);o in a.usedTiles&&r.expireCache(a.viewState.projection,a.usedTiles[o])}.bind(null,n);e.postRenderFunctions.push(i)}}updateUsedTiles(e,n,i){const r=bt(n);r in e||(e[r]={}),e[r][i.getKey()]=!0}manageTilePyramid(e,n,i,r,s,a,o,l,u){const c=bt(n);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],m=e.tileQueue,g=i.getMinZoom(),y=e.viewState.rotation,b=y?n_(e.viewState.center,e.viewState.resolution,y,e.size):void 0;let w=0,E,x,_,T,C,k;for(k=g;k<=o;++k)for(x=i.getTileRangeForExtentAndZ(a,k,x),_=i.getResolution(k),T=x.minX;T<=x.maxX;++T)for(C=x.minY;C<=x.maxY;++C)y&&!i.tileCoordIntersectsViewport([k,T,C],b)||(o-k<=l?(++w,E=n.getTile(k,T,C,r,s),E.getState()==Ve.IDLE&&(h[E.getKey()]=!0,m.isKeyQueued(E.getKey())||m.enqueue([E,c,i.getTileCoordCenter(E.tileCoord),_])),u!==void 0&&u(E)):n.useTile(k,T,C,s));n.updateCacheSize(w,s)}}class bM extends VW{constructor(e){super(e)}createRenderer(){return new vM(this)}}const GW={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},vC={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class zW extends vM{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=br(),this.tileClipContexts_=null}prepareTile(e,n,i){let r;const s=e.getState();return(s===Ve.LOADED||s===Ve.ERROR)&&(this.updateExecutorGroup_(e,n,i),this.tileImageNeedsRender_(e)&&(r=!0)),r}getTile(e,n,i,r){const s=r.pixelRatio,a=r.viewState,o=a.resolution,l=a.projection,u=this.getLayer(),c=u.getSource().getTile(e,n,i,s,l),h=r.viewHints,m=!(h[cn.ANIMATING]||h[cn.INTERACTING]);return(m||!c.wantedResolution)&&(c.wantedResolution=o),this.prepareTile(c,s,l)&&(m||Date.now()-r.time<8)&&u.getRenderMode()!=="vector"&&this.renderTileImage_(c,r),super.getTile(e,n,i,r)}isDrawableTile(e){const n=this.getLayer();return super.isDrawableTile(e)&&(n.getRenderMode()==="vector"?bt(n)in e.executorGroups:e.hasContext(n))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){const n=this.getLayer().getRevision();return this.renderedLayerRevision_!==n&&(this.renderedLayerRevision_=n,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,n,i){const r=this.getLayer(),s=r.getRevision(),a=r.getRenderOrder()||null,o=e.wantedResolution,l=e.getReplayState(r);if(!l.dirty&&l.renderedResolution===o&&l.renderedRevision==s&&l.renderedRenderOrder==a)return;const u=r.getSource(),c=!!r.getDeclutter(),h=u.getTileGrid(),g=u.getTileGridForProjection(i).getTileCoordExtent(e.wrappedTileCoord),y=u.getSourceTiles(n,i,e),b=bt(r);delete e.hitDetectionImageData[b],e.executorGroups[b]=[],l.dirty=!1;for(let w=0,E=y.length;w<E;++w){const x=y[w];if(x.getState()!=Ve.LOADED)continue;const _=x.tileCoord,T=h.getTileCoordExtent(_),C=io(g,T),k=no(C,r.getRenderBuffer()*o,this.tmpExtent),A=Ju(T,C)?null:k,L=new D2(0,C,o,n),R=h_(o,n),j=function(F,B){let N;const Q=F.getStyleFunction()||r.getStyleFunction();if(Q&&(N=Q(F,o)),N){const _e=this.renderFeature(F,R,N,L,c,B);l.dirty=l.dirty||_e}},U=x.getFeatures();a&&a!==l.renderedRenderOrder&&U.sort(a);for(let F=0,B=U.length;F<B;++F){const N=U[F];(!A||An(A,N.getGeometry().getExtent()))&&j.call(this,N,F)}const G=L.finish(),ne=r.getRenderMode()!=="vector"&&c&&y.length===1?null:C,W=new L2(ne,o,n,u.getOverlaps(),G,r.getRenderBuffer(),!0);e.executorGroups[b].push(W)}l.renderedRevision=s,l.renderedRenderOrder=a,l.renderedResolution=o}forEachFeatureAtCoordinate(e,n,i,r,s){const a=n.viewState.resolution,o=n.viewState.rotation;i=i??0;const l=this.getLayer(),c=l.getSource().getTileGridForProjection(n.viewState.projection),h=Jy([e]);no(h,a*i,h);const m={},g=function(w,E,x){let _=w.getId();_===void 0&&(_=bt(w));const T=m[_];if(T){if(T!==!0&&x<T.distanceSq){if(x===0)return m[_]=!0,s.splice(s.lastIndexOf(T),1),r(w,l,E);T.geometry=E,T.distanceSq=x}}else{if(x===0)return m[_]=!0,r(w,l,E);s.push(m[_]={feature:w,layer:l,geometry:E,distanceSq:x,callback:r})}},y=this.renderedTiles;let b;for(let w=0,E=y.length;!b&&w<E;++w){const x=y[w],_=c.getTileCoordExtent(x.wrappedTileCoord);if(!An(_,h))continue;const T=bt(l),C=[x.executorGroups[T]],k=l.getDeclutter();C.some(A=>{const L=k?n.declutter[k].all().map(R=>R.value):null;for(let R=0,j=A.length;R<j;++R)if(b=A[R].forEachFeatureAtCoordinate(e,a,o,i,g,L),b)return!0})}return b}getFeatures(e){return new Promise((n,i)=>{const r=this.getLayer(),s=bt(r),a=r.getSource(),o=this.renderedProjection,l=o.getExtent(),u=this.renderedResolution,c=a.getTileGridForProjection(o),h=jn(this.renderedPixelToCoordinateTransform_,e.slice()),m=c.getTileCoordForCoordAndResolution(h,u);let g;for(let _=0,T=this.renderedTiles.length;_<T;++_)if(m.toString()===this.renderedTiles[_].tileCoord.toString()){if(g=this.renderedTiles[_],g.getState()===Ve.LOADED){const C=c.getTileCoordExtent(g.tileCoord);a.getWrapX()&&o.canWrapX()&&!Zs(l,C)&&h1(h,o);break}g=void 0}if(!g||g.loadingSourceTiles>0){n([]);return}const y=c.getTileCoordExtent(g.wrappedTileCoord),b=Eo(y),w=[(h[0]-b[0])/u,(b[1]-h[1])/u],E=g.getSourceTiles().reduce(function(_,T){return _.concat(T.getFeatures())},[]);let x=g.hitDetectionImageData[s];if(!x){const _=Ki(c.getTileSize(c.getZForResolution(u,a.zDirection))),T=this.renderedRotation_,C=[this.getRenderTransform(c.getTileCoordCenter(g.wrappedTileCoord),u,0,_r,_[0]*_r,_[1]*_r,0)];x=F2(_,C,E,r.getStyleFunction(),c.getTileCoordExtent(g.wrappedTileCoord),g.getReplayState(r).renderedResolution,T),g.hitDetectionImageData[s]=x}n(N2(w,E,x))})}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,n){const i=this.context,r=i.globalAlpha;i.globalAlpha=n.opacity;const s=e.viewHints,a=!(s[cn.ANIMATING]||s[cn.INTERACTING]),o=this.renderedTiles;for(let l=0,u=o.length;l<u;++l){const c=o[l],h=c.executorGroups[bt(this.getLayer())],m=this.getLayer().getDeclutter();if(h)for(let g=h.length-1;g>=0;--g)h[g].execute(this.context,[this.context.canvas.width,this.context.canvas.height],this.getTileRenderTransform(c,e),e.viewState.rotation,a,Op,m?e.declutter[m]:void 0)}i.globalAlpha=r}renderDeferredInternal(e){const i=this.renderedTiles.reduce((o,l,u)=>(l.executorGroups[bt(this.getLayer())].forEach(c=>o.push({executorGroup:c,index:u})),o),[]),r=i.map(({executorGroup:o})=>o.getDeferredZIndexContexts()),s={};for(let o=0,l=i.length;o<l;++o){const u=i[o].executorGroup.getDeferredZIndexContexts();for(const c in u)s[c]=!0}Object.keys(s).sort(ws).map(Number).forEach(o=>{r.forEach((l,u)=>{l[o]&&(l[o].forEach(c=>{const{executorGroup:h,index:m}=i[u],g=h.getRenderedContext(),y=g.globalAlpha;g.globalAlpha=this.renderedOpacity_;const b=this.tileClipContexts_[m];b&&b.draw(g),c.draw(g),b&&g.restore(),g.globalAlpha=y,c.clear()}),l[o].length=0)})})}getTileRenderTransform(e,n){const i=n.pixelRatio,r=n.viewState,s=r.center,a=r.resolution,o=r.rotation,l=n.size,u=Math.round(l[0]*i),c=Math.round(l[1]*i),m=this.getLayer().getSource().getTileGridForProjection(n.viewState.projection),g=e.tileCoord,y=m.getTileCoordExtent(e.wrappedTileCoord),b=m.getTileCoordExtent(g,this.tmpExtent)[0]-y[0];return a1(O0(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,a,o,i,u,c,b))}postRender(e,n){const i=n.viewHints,r=!(i[cn.ANIMATING]||i[cn.INTERACTING]);this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation,this.renderedOpacity_=n.layerStatesArray[n.layerIndex].opacity;const s=this.getLayer(),a=s.getRenderMode(),o=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const l=s.getDeclutter(),u=l?vC[a].filter(T=>!Op.includes(T)):vC[a],c=n.viewState,h=c.rotation,m=s.getSource(),y=m.getTileGridForProjection(c.projection).getZForResolution(c.resolution,m.zDirection),b=this.renderedTiles,w=[],E=[],x=[];let _=!0;for(let T=b.length-1;T>=0;--T){const C=b[T];_=_&&!C.getReplayState(s).dirty;const k=C.executorGroups[bt(s)].filter(ne=>ne.hasExecutors(u));if(k.length===0)continue;const A=this.getTileRenderTransform(C,n),L=C.tileCoord[0];let R=!1;const j=k[0].getClipCoords(A);let U=e,G;if(j){G=new L1,U=G.getContext();for(let ne=0,W=w.length;ne<W;++ne)if(y!==L&&L<E[ne]){const F=w[ne];An([j[0],j[3],j[4],j[7]],[F[0],F[3],F[4],F[7]])&&(R||(U.save(),R=!0),U.beginPath(),U.moveTo(j[0],j[1]),U.lineTo(j[2],j[3]),U.lineTo(j[4],j[5]),U.lineTo(j[6],j[7]),U.moveTo(F[6],F[7]),U.lineTo(F[4],F[5]),U.lineTo(F[2],F[3]),U.lineTo(F[0],F[1]),U.clip())}w.push(j),E.push(L)}for(let ne=0,W=k.length;ne<W;++ne)k[ne].execute(e,[e.canvas.width,e.canvas.height],A,h,r,u,n.declutter?.[l]);R&&(U===e?U.restore():x[T]=G)}e.globalAlpha=o,this.ready=_,this.tileClipContexts_=x,n.declutter||this.renderDeferredInternal(n),super.postRender(e,n)}renderFeature(e,n,i,r,s,a){if(!i)return!1;let o=!1;if(Array.isArray(i))for(let l=0,u=i.length;l<u;++l)o=Pp(r,e,i[l],n,this.boundHandleStyleImageChange_,void 0,s,a)||o;else o=Pp(r,e,i,n,this.boundHandleStyleImageChange_,void 0,s,a);return o}tileImageNeedsRender_(e){const n=this.getLayer();if(n.getRenderMode()==="vector")return!1;const i=e.getReplayState(n),r=n.getRevision(),s=e.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==r}renderTileImage_(e,n){const i=this.getLayer(),r=e.getReplayState(i),s=i.getRevision(),a=e.executorGroups[bt(i)];r.renderedTileRevision=s;const o=e.wrappedTileCoord,l=o[0],u=i.getSource();let c=n.pixelRatio;const m=n.viewState.projection,g=u.getTileGridForProjection(m),y=g.getResolution(e.tileCoord[0]),b=n.pixelRatio/e.wantedResolution*y,w=g.getResolution(l),E=e.getContext(i);c=Math.round(Math.max(c,b/c));const x=u.getTilePixelSize(l,c,m);E.canvas.width=x[0],E.canvas.height=x[1];const _=c/b;if(_!==1){const A=XT(this.tmpTransform_);O0(A,_,_),E.setTransform.apply(E,A)}const T=g.getTileCoordExtent(o,this.tmpExtent),C=b/w,k=XT(this.tmpTransform_);O0(k,C,-C),Nj(k,-T[0],-T[3]);for(let A=0,L=a.length;A<L;++A)a[A].execute(E,[E.canvas.width*_,E.canvas.height*_],k,0,!0,GW[i.getRenderMode()],null);r.renderedTileResolution=e.wantedResolution}}class UW extends Bm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un;const i=e.renderMode||"hybrid";Lt(i=="hybrid"||i=="vector","`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=i,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new zW(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Za.PRELOAD)}getUseInterimTilesOnError(){return this.get(Za.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(Za.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(Za.USE_INTERIM_TILES_ON_ERROR,e)}}class pb extends NW{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=_M(e)[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(yM(r.tileCoord)),r.release())})}}const ly={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},du=[0,0,0],Fa=5;class ng{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Lt(vj(this.resolutions_,(r,s)=>s-r),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Lt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Eo(i)),Lt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Lt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:R1,Lt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{const a=new fb(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const o=this.getTileRangeForExtentAndZ(i,s);a.minX=Math.max(o.minX,a.minX),a.maxX=Math.min(o.maxX,a.maxX),a.minY=Math.max(o.minY,a.minY),a.maxY=Math.min(o.maxY,a.maxY)}return a}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const r=this.getTileRangeForExtentAndZ(e,n);for(let s=r.minX,a=r.maxX;s<=a;++s)for(let o=r.minY,l=r.maxY;o<=l;++o)i([n,s,o])}forEachTileCoordParentTileRange(e,n,i,r){let s,a,o,l=null,u=e[0]-1;for(this.zoomFactor_===2?(a=e[1],o=e[2]):l=this.getTileCoordExtent(e,r);u>=this.minZoom;){if(a!==void 0&&o!==void 0?(a=Math.floor(a/2),o=Math.floor(o/2),s=cu(a,a,o,o,i)):s=this.getTileRangeForExtentAndZ(l,u,i),n(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,a=e[2]*2;return cu(s,s+1,a,a+1,n)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const r=e[0],s=e[1],a=e[2];if(n===r)return cu(s,a,s,a,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-r),u=Math.floor(s*l),c=Math.floor(a*l);if(n<r)return cu(u,u,c,c,i);const h=Math.floor(l*(s+1))-1,m=Math.floor(l*(a+1))-1;return cu(u,h,c,m,i)}const o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,du);const r=du[1],s=du[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,du);const a=du[1],o=du[2];return cu(r,a,s,o,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=Ki(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*r[0]*i,n[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=Ki(this.getTileSize(e[0]),this.tmpSize_),a=i[0]+e[1]*s[0]*r,o=i[1]-(e[2]+1)*s[1]*r,l=a+s[0]*r,u=o+s[1]*r;return oa(a,o,l,u,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,r,s){const a=this.getZForResolution(i),o=i/this.getResolution(a),l=this.getOrigin(a),u=Ki(this.getTileSize(a),this.tmpSize_);let c=o*(e-l[0])/i/u[0],h=o*(l[1]-n)/i/u[1];return r?(c=_f(c,Fa)-1,h=_f(h,Fa)-1):(c=yf(c,Fa),h=yf(h,Fa)),_C(a,c,h,s)}getTileCoordForXYAndZ_(e,n,i,r,s){const a=this.getOrigin(i),o=this.getResolution(i),l=Ki(this.getTileSize(i),this.tmpSize_);let u=(e-a[0])/o/l[0],c=(a[1]-n)/o/l[1];return r?(u=_f(u,Fa)-1,c=_f(c,Fa)-1):(u=yf(u,Fa),c=yf(c,Fa)),_C(i,u,c,s)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=r1(this.resolutions_,e,n||0);return Mn(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return c2(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}function wM(t){let e=t.getDefaultTileGrid();return e||(e=WW(t),t.setDefaultTileGrid(e)),e}function HW(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),s=Sh(n);if(!Rl(s,r)){const a=Bt(s),o=Math.ceil((s[0]-r[0])/a);return r[0]+=a*o,t.getTileCoordForCoordAndZ(r,i)}return e}function YW(t,e,n,i){i=i!==void 0?i:"top-left";const r=EM(t,e,n);return new ng({extent:t,origin:Gj(t,i),resolutions:r,tileSize:n})}function ig(t){const e=t||{},n=e.extent||En("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:EM(n,e.maxZoom,e.tileSize,e.maxResolution)};return new ng(i)}function EM(t,e,n,i){e=e!==void 0?e:w2,n=Ki(n!==void 0?n:R1);const r=gi(t),s=Bt(t);i=i>0?i:Math.max(s/n[0],r/n[1]);const a=e+1,o=new Array(a);for(let l=0;l<a;++l)o[l]=i/Math.pow(2,l);return o}function WW(t,e,n,i){const r=Sh(t);return YW(r,e,n,i)}function Sh(t){t=En(t);let e=t.getExtent();if(!e){const n=180*Qu.degrees/t.getMetersPerUnit();e=oa(-n,-n,n,n)}return e}class KW extends z2{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&Ki(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new pb(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const i=this.getTileCacheForProjection(e);i&&i.expireCache(n)}forEachLoadedTile(e,n,i,r){const s=this.getTileCacheForProjection(e);if(!s)return!1;let a=!0,o,l,u;for(let c=i.minX;c<=i.maxX;++c)for(let h=i.minY;h<=i.maxY;++h)l=_c(n,c,h),u=!1,s.containsKey(l)&&(o=s.get(l),u=o.getState()===Ve.LOADED,u&&(u=r(o)!==!1)),u||(a=!1);return a}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,r,s){return ft()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:wM(e)}getTileCacheForProjection(e){const n=this.getProjection();return Lt(n===null||Ha(n,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(n),a=Ki(r.getTileSize(e),this.tmpSize);return s==1?a:ej(a,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=HW(i,e,n)),BW(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const i=this.getTileCacheForProjection(n);e>i.highWaterMark&&(i.highWaterMark=e)}useTile(e,n,i,r){}}class qW extends ha{constructor(e,n){super(e),this.tile=n}}function XW(t,e){const n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(a,o,l){if(a)return t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(r,a[2].toString()).replace(s,function(){const u=a[0],c=e.getFullTileRange(u);if(!c)throw new Error("The {-y} placeholder requires a tile grid with extent");return(c.getHeight()-a[2]-1).toString()})}}function TM(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=XW(t[r],e);return ZW(i)}function ZW(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const r=jW(e),s=Du(r,t.length);return t[s](e,n,i)}}function JW(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}class rg extends KW{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===rg.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=bt(n),r=n.getState();let s;r==Ve.LOADING?(this.tileLoadingKeys_[i]=!0,s=ly.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==Ve.ERROR?ly.TILELOADERROR:r==Ve.LOADED?ly.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new qW(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=JW(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(TM(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}useTile(e,n,i){const r=_c(e,n,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}class xM extends rg{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:QW,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:gM,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?n:{});for(const r in this.tileCacheForProjection){const s=this.tileCacheForProjection[r];s.expireCache(s==i?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Ha(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Ha(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Ha(n,e)))return this.tileGrid;const i=bt(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=wM(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||Ha(n,e))return this.tileCache;const i=bt(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new pb(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,n,i,r,s,a){const o=[e,n,i],l=this.getTileCoordForTileUrlFunction(o,s),u=l?this.tileUrlFunction(l,r,s):void 0,c=new this.tileClass(o,u!==void 0?Ve.IDLE:Ve.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=a,c.addEventListener(lt.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,n,i,r,s){const a=this.getProjection();if(!a||!s||Ha(a,s))return this.getTileInternal(e,n,i,r,a||s);const o=this.getTileCacheForProjection(s),l=[e,n,i];let u;const c=yM(l);o.containsKey(c)&&(u=o.get(c));const h=this.getKey();if(u&&u.key==h)return u;const m=this.getTileGridForProjection(a),g=this.getTileGridForProjection(s),y=this.getTileCoordForTileUrlFunction(l,s),b=new k_(a,m,s,g,l,y,this.getTilePixelRatio(r),this.getGutter(),(w,E,x,_)=>this.getTileInternal(w,E,x,_,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return b.key=h,u?(b.interimTile=u,b.refreshInterimChain(),o.replace(c,b)):o.set(c,b),b}getTileInternal(e,n,i,r,s){let a=null;const o=_c(e,n,i),l=this.getKey();if(!this.tileCache.containsKey(o))a=this.createTile_(e,n,i,r,s,l),this.tileCache.set(o,a);else if(a=this.tileCache.get(o),a.key!=l){const u=a;a=this.createTile_(e,n,i,r,s,l),u.getState()==Ve.IDLE?a.interimTile=u.interimTile:a.interimTile=u,a.refreshInterimChain(),this.tileCache.replace(o,a)}return a}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const i=En(e);if(i){const r=bt(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function QW(t,e){t.getImage().src=e}class e7 extends xM{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:ig({extent:Sh(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}function t7(t,e,n,i){const r=document.createElement("script"),s="olc_"+bt(e);function a(){delete window[s],r.parentNode.removeChild(r)}r.async=!0,r.src=t+(t.includes("?")?"&":"?")+"callback="+s;const o=setTimeout(function(){a(),n&&n()},1e4);window[s]=function(l){clearTimeout(o),a(),e(l)},document.head.appendChild(r)}let n7=class extends tg{constructor(e,n,i,r,s,a){super(e,n,a),this.extent=null,this.format_=r,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=s,this.url_=i,this.key=i}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==Ve.IDLE&&(this.setState(Ve.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,n){this.setFeatures(e)}onError(){this.setState(Ve.ERROR)}setFeatures(e){this.features_=e,this.setState(Ve.LOADED)}setLoader(e){this.loader_=e}};const bC=[];class i7 extends tg{constructor(e,n,i,r){super(e,n,{transition:0}),this.context_={},this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=r.bind(void 0,this),this.wrappedTileCoord=i}getContext(e){const n=bt(e);return n in this.context_||(this.context_[n]=bi(1,1,bC)),this.context_[n]}hasContext(e){return bt(e)in this.context_}getImage(e){return this.hasContext(e)?this.getContext(e).canvas:null}getReplayState(e){const n=bt(e);return n in this.replayState_||(this.replayState_[n]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[n]}load(){this.getSourceTiles()}release(){for(const e in this.context_){const n=this.context_[e];uh(n),bC.push(n.canvas),delete this.context_[e]}super.release()}}class r7 extends rg{constructor(e){const n=e.projection||"EPSG:3857",i=e.extent||Sh(n),r=e.tileGrid||ig({extent:i,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:n,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:CM,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.sourceTileCache=new pb(this.tileCache.highWaterMark),this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:n7,this.tileGrids_={}}getFeaturesInExtent(e){const n=[],i=this.tileCache;if(i.getCount()===0)return n;const r=_M(i.peekFirstKey())[0],s=this.tileGrid;return i.forEach(function(a){if(a.tileCoord[0]!==r||a.getState()!==Ve.LOADED)return;const o=a.getSourceTiles();for(let l=0,u=o.length;l<u;++l){const c=o[l],h=c.tileCoord;if(An(e,s.getTileCoordExtent(h))){const m=c.getFeatures();if(m)for(let g=0,y=m.length;g<y;++g){const b=m[g],w=b.getGeometry();An(e,w.getExtent())&&n.push(b)}}}}),n}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(e,n){const i=this.getTileCacheForProjection(e),r=Object.keys(n).reduce((s,a)=>{const o=$W(a),l=i.peek(o);if(l){const u=l.sourceTiles;for(let c=0,h=u.length;c<h;++c)s[u[c].getKey()]=!0}return s},{});super.expireCache(e,n),this.sourceTileCache.expireCache(r)}getSourceTiles(e,n,i){if(i.getState()===Ve.IDLE){i.setState(Ve.LOADING);const r=i.wrappedTileCoord,s=this.getTileGridForProjection(n),a=s.getTileCoordExtent(r),o=r[0],l=s.getResolution(o);no(a,-l,a);const u=this.tileGrid,c=u.getExtent();c&&io(a,c,a);const h=u.getZForResolution(l,this.zDirection);u.forEachTileCoord(a,h,m=>{const g=this.tileUrlFunction(m,e,n),y=this.sourceTileCache.containsKey(g)?this.sourceTileCache.get(g):new this.tileClass(m,g?Ve.IDLE:Ve.EMPTY,g,this.format_,this.tileLoadFunction);i.sourceTiles.push(y);const b=y.getState();if(b<Ve.LOADED){const w=E=>{this.handleTileChange(E);const x=y.getState();if(x===Ve.LOADED||x===Ve.ERROR){const _=y.getKey();_ in i.errorTileKeys?y.getState()===Ve.LOADED&&delete i.errorTileKeys[_]:i.loadingSourceTiles--,x===Ve.ERROR?i.errorTileKeys[_]=!0:y.removeEventListener(lt.CHANGE,w),i.loadingSourceTiles===0&&i.setState(ho(i.errorTileKeys)?Ve.LOADED:Ve.ERROR)}};y.addEventListener(lt.CHANGE,w),i.loadingSourceTiles++}b===Ve.IDLE&&(y.extent=u.getTileCoordExtent(m),y.projection=n,y.resolution=u.getResolution(m[0]),this.sourceTileCache.set(g,y),y.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(m=>m.getState()===Ve.ERROR)?Ve.ERROR:Ve.LOADED)}return i.sourceTiles}getTile(e,n,i,r,s){const a=_c(e,n,i),o=this.getKey();let l;if(this.tileCache.containsKey(a)&&(l=this.tileCache.get(a),l.key===o))return l;const u=[e,n,i];let c=this.getTileCoordForTileUrlFunction(u,s);const h=this.getTileGrid().getExtent(),m=this.getTileGridForProjection(s);if(c&&h){const b=m.getTileCoordExtent(c);no(b,-m.getResolution(e),b),An(h,b)||(c=null)}let g=!0;if(c!==null){const b=this.tileGrid,w=m.getResolution(e),E=b.getZForResolution(w,1),x=m.getTileCoordExtent(c);no(x,-w,x),b.forEachTileCoord(x,E,_=>{g=g&&!this.tileUrlFunction(_,r,s)})}const y=new i7(u,g?Ve.EMPTY:Ve.IDLE,c,this.getSourceTiles.bind(this,r,s));return y.key=o,l?(y.interimTile=l,y.refreshInterimChain(),this.tileCache.replace(a,y)):this.tileCache.set(a,y),y}getTileGridForProjection(e){const n=e.getCode();let i=this.tileGrids_[n];if(!i){const r=this.tileGrid,s=r.getResolutions().slice(),a=s.map(function(u,c){return r.getOrigin(c)}),o=s.map(function(u,c){return r.getTileSize(c)}),l=w2+1;for(let u=s.length;u<l;++u)s.push(s[u-1]/2),a.push(a[u-1]),o.push(o[u-1]);i=new ng({extent:r.getExtent(),origins:a,resolutions:s,tileSizes:o}),this.tileGrids_[n]=i}return i}getTilePixelRatio(e){return e}getTilePixelSize(e,n,i){const r=this.getTileGridForProjection(i),s=Ki(r.getTileSize(e),this.tmpSize);return[Math.round(s[0]*n),Math.round(s[1]*n)]}updateCacheSize(e,n){super.updateCacheSize(e*2,n),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(n).highWaterMark}}function CM(t,e){t.setLoader(function(n,i,r){U2(e,t.getFormat(),n,i,r,t.onLoad.bind(t),t.onError.bind(t))})}const s7='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class a7 extends e7{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[s7];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}}const Bp=1/0;class o7{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ch(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Lt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=Bp?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,r=n.length,s=n[e],a=i[e],o=e;for(;e<r>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<r&&i[u]<i[l]?u:l;n[e]=n[c],i[e]=i[c],e=c}n[e]=s,i[e]=a,this.siftDown_(o,e)}siftDown_(e,n){const i=this.elements_,r=this.priorities_,s=i[n],a=r[n];for(;n>e;){const o=this.getParentIndex_(n);if(r[o]>a)i[n]=i[o],r[n]=r[o],n=o;else break}i[n]=s,r[n]=a}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let r=0;const s=n.length;let a,o,l;for(o=0;o<s;++o)a=n[o],l=e(a),l==Bp?delete this.queuedElements_[this.keyFunction_(a)]:(i[r]=l,n[r++]=a);n.length=r,i.length=r,this.heapify_()}}class l7 extends o7{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(lt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===Ve.LOADED||i===Ve.ERROR||i===Ve.EMPTY){i!==Ve.ERROR&&n.removeEventListener(lt.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0,r,s,a;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;)s=this.dequeue()[0],a=s.getKey(),r=s.getState(),r===Ve.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++i,s.load())}}function u7(t,e,n,i,r){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Bp;const s=t.viewState.center,a=i[0]-s[0],o=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(a*a+o*o)/r}class c7 extends xM{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:En("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)t7(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const n=new XMLHttpRequest;n.addEventListener("load",this.onXHRLoad_.bind(this)),n.addEventListener("error",this.onXHRError_.bind(this)),n.open("GET",e.url),n.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const n=e.target;if(!n.status||n.status>=200&&n.status<300){let i;try{i=JSON.parse(n.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const n=En("EPSG:4326"),i=this.getProjection();let r;if(e.bounds!==void 0){const u=ph(n,i);r=Yj(e.bounds,u)}const s=Sh(i),a=e.minzoom||0,o=e.maxzoom||22,l=ig({extent:s,maxZoom:o,minZoom:a,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=TM(e.tiles,l),e.attribution&&!this.getAttributions()){const u=r!==void 0?r:s;this.setAttributions(function(c){return An(u,c.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}var mb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */mb.read=function(t,e,n,i,r){var s,a,o=r*8-i-1,l=(1<<o)-1,u=l>>1,c=-7,h=n?r-1:0,m=n?-1:1,g=t[e+h];for(h+=m,s=g&(1<<-c)-1,g>>=-c,c+=o;c>0;s=s*256+t[e+h],h+=m,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=i;c>0;a=a*256+t[e+h],h+=m,c-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-u}return(g?-1:1)*a*Math.pow(2,s-i)};mb.write=function(t,e,n,i,r,s){var a,o,l,u=s*8-r-1,c=(1<<u)-1,h=c>>1,m=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:s-1,y=i?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?e+=m/l:e+=m*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(e*l-1)*Math.pow(2,r),a=a+h):(o=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+g]=o&255,g+=y,o/=256,r-=8);for(a=a<<r|o,u+=r;u>0;t[n+g]=a&255,g+=y,a/=256,u-=8);t[n+g-y]|=b*128};var d7=Vt,Af=mb;function Vt(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Vt.Varint=0;Vt.Fixed64=1;Vt.Bytes=2;Vt.Fixed32=5;var R_=65536*65536,wC=1/R_,h7=12,SM=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Vt.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,s=this.pos;this.type=i&7,t(r,e,this),this.pos===s&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Mf(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=TC(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Mf(this.buf,this.pos)+Mf(this.buf,this.pos+4)*R_;return this.pos+=8,t},readSFixed64:function(){var t=Mf(this.buf,this.pos)+TC(this.buf,this.pos+4)*R_;return this.pos+=8,t},readFloat:function(){var t=Af.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Af.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e=this.buf,n,i;return i=e[this.pos++],n=i&127,i<128||(i=e[this.pos++],n|=(i&127)<<7,i<128)||(i=e[this.pos++],n|=(i&127)<<14,i<128)||(i=e[this.pos++],n|=(i&127)<<21,i<128)?n:(i=e[this.pos],n|=(i&15)<<28,f7(n,t,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=h7&&SM?k7(this.buf,e,t):S7(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Vt.Bytes)return t.push(this.readVarint(e));var n=Bs(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Vt.Bytes)return t.push(this.readSVarint());var e=Bs(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Vt.Bytes)return t.push(this.readBoolean());var e=Bs(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Vt.Bytes)return t.push(this.readFloat());var e=Bs(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Vt.Bytes)return t.push(this.readDouble());var e=Bs(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Vt.Bytes)return t.push(this.readFixed32());var e=Bs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Vt.Bytes)return t.push(this.readSFixed32());var e=Bs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Vt.Bytes)return t.push(this.readFixed64());var e=Bs(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Vt.Bytes)return t.push(this.readSFixed64());var e=Bs(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=t&7;if(e===Vt.Varint)for(;this.buf[this.pos++]>127;);else if(e===Vt.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Vt.Fixed32)this.pos+=4;else if(e===Vt.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+e)},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),fu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),fu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),fu(this.buf,t&-1,this.pos),fu(this.buf,Math.floor(t*wC),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),fu(this.buf,t&-1,this.pos),fu(this.buf,Math.floor(t*wC),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t||0,t>268435455||t<0){p7(t,this);return}this.realloc(4),this.buf[this.pos++]=t&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=t>>>7&127)))},writeSVarint:function(t){this.writeVarint(t<0?-t*2-1:t*2)},writeBoolean:function(t){this.writeVarint(!!t)},writeString:function(t){t=String(t),this.realloc(t.length*4),this.pos++;var e=this.pos;this.pos=R7(this.buf,t,this.pos);var n=this.pos-e;n>=128&&EC(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Af.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Af.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&EC(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,Vt.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,y7,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,_7,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,w7,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,v7,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,b7,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,E7,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,T7,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,x7,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,C7,e)},writeBytesField:function(t,e){this.writeTag(t,Vt.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Vt.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Vt.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Vt.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Vt.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Vt.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Vt.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Vt.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Vt.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Vt.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,!!e)}};function f7(t,e,n){var i=n.buf,r,s;if(s=i[n.pos++],r=(s&112)>>4,s<128||(s=i[n.pos++],r|=(s&127)<<3,s<128)||(s=i[n.pos++],r|=(s&127)<<10,s<128)||(s=i[n.pos++],r|=(s&127)<<17,s<128)||(s=i[n.pos++],r|=(s&127)<<24,s<128)||(s=i[n.pos++],r|=(s&1)<<31,s<128))return hu(t,r,e);throw new Error("Expected varint not more than 10 bytes")}function Bs(t){return t.type===Vt.Bytes?t.readVarint()+t.pos:t.pos+1}function hu(t,e,n){return n?e*4294967296+(t>>>0):(e>>>0)*4294967296+(t>>>0)}function p7(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(n=~(-t%4294967296),i=~(-t/4294967296),n^4294967295?n=n+1|0:(n=0,i=i+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),m7(n,i,e),g7(i,e)}function m7(t,e,n){n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos]=t&127}function g7(t,e){var n=(t&7)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127)))))}function EC(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function y7(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function _7(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function v7(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function b7(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function w7(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function E7(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function T7(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function x7(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function C7(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function Mf(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+t[e+3]*16777216}function fu(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function TC(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function S7(t,e,n){for(var i="",r=e;r<n;){var s=t[r],a=null,o=s>239?4:s>223?3:s>191?2:1;if(r+o>n)break;var l,u,c;o===1?s<128&&(a=s):o===2?(l=t[r+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=t[r+1],u=t[r+2],(l&192)===128&&(u&192)===128&&(a=(s&15)<<12|(l&63)<<6|u&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=t[r+1],u=t[r+2],c=t[r+3],(l&192)===128&&(u&192)===128&&(c&192)===128&&(a=(s&15)<<18|(l&63)<<12|(u&63)<<6|c&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,i+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),i+=String.fromCharCode(a),r+=o}return i}function k7(t,e,n){return SM.decode(t.subarray(e,n))}function R7(t,e,n){for(var i=0,r,s;i<e.length;i++){if(r=e.charCodeAt(i),r>55295&&r<57344)if(s)if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,s=r;continue}else r=s-55296<<10|r-56320|65536,s=null;else{r>56319||i+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):s=r;continue}else s&&(t[n++]=239,t[n++]=191,t[n++]=189,s=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=r&63|128)}return n}const I7=Hp(d7);class A7 extends y2{constructor(e){super(),e=e||{},this.dataProjection=new c1({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:Ci,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,n,i,r){e.pos=n.geometry;const s=e.readVarint()+e.pos;let a=1,o=0,l=0,u=0,c=0,h=0;for(;e.pos<s;){if(!o){const m=e.readVarint();a=m&7,o=m>>3}if(o--,a===1||a===2)l+=e.readSVarint(),u+=e.readSVarint(),a===1&&c>h&&(r.push(c),h=c),i.push(l,u),c+=2;else if(a===7)c>h&&(i.push(i[h],i[h+1]),c+=2);else throw new Error("Invalid command found in the PBF")}c>h&&(r.push(c),h=c)}createFeature_(e,n,i){const r=n.type;if(r===0)return null;let s;const a=n.properties;let o;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=n.id,a[this.layerName_]=n.layer.name;const l=[],u=[];this.readRawGeometry_(e,n,l,u);const c=L7(r,u.length);if(this.featureClass===Ci)s=new this.featureClass(c,l,u,2,a,o),s.transform(i.dataProjection);else{let h;if(c=="Polygon"){const y=m2(l,u);h=y.length>1?new Vd(l,"XY",y):new Bd(l,"XY",u)}else h=c==="Point"?new la(l,"XY"):c==="LineString"?new Il(l,"XY"):c==="MultiPoint"?new gh(l,"XY"):c==="MultiLineString"?new $d(l,"XY",u):null;const m=this.featureClass;s=new m,this.geometryName_&&s.setGeometryName(this.geometryName_);const g=Dm(h,!1,i);s.setGeometry(g),o!==void 0&&s.setId(o),s.setProperties(a,!0)}return s}getType(){return"arraybuffer"}readFeatures(e,n){const i=this.layers_;n=this.adaptOptions(n);const r=En(n.dataProjection);r.setWorldExtent(n.extent),n.dataProjection=r;const s=new I7(e),a=s.readFields(M7,{}),o=[];for(const l in a){if(i&&!i.includes(l))continue;const u=a[l],c=u?[0,0,u.extent,u.extent]:null;r.setExtent(c);for(let h=0,m=u.length;h<m;++h){const g=D7(s,u,h),y=this.createFeature_(s,g,n);y!==null&&o.push(y)}}return o}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function M7(t,e,n){if(t===3){const i={keys:[],values:[],features:[]},r=n.readVarint()+n.pos;n.readFields(O7,i,r),i.length=i.features.length,i.length&&(e[i.name]=i)}}function O7(t,e,n){if(t===15)e.version=n.readVarint();else if(t===1)e.name=n.readString();else if(t===5)e.extent=n.readVarint();else if(t===2)e.features.push(n.pos);else if(t===3)e.keys.push(n.readString());else if(t===4){let i=null;const r=n.readVarint()+n.pos;for(;n.pos<r;)t=n.readVarint()>>3,i=t===1?n.readString():t===2?n.readFloat():t===3?n.readDouble():t===4?n.readVarint64():t===5?n.readVarint():t===6?n.readSVarint():t===7?n.readBoolean():null;e.values.push(i)}}function P7(t,e,n){if(t==1)e.id=n.readVarint();else if(t==2){const i=n.readVarint()+n.pos;for(;n.pos<i;){const r=e.layer.keys[n.readVarint()],s=e.layer.values[n.readVarint()];e.properties[r]=s}}else t==3?e.type=n.readVarint():t==4&&(e.geometry=n.pos)}function D7(t,e,n){t.pos=e.features[n];const i=t.readVarint()+t.pos,r={layer:e,type:0,properties:{}};return t.readFields(P7,r,i),r}function L7(t,e){let n;return t===1?n=e===1?"Point":"MultiPoint":t===2?n=e===1?"LineString":"MultiLineString":t===3&&(n="Polygon"),n}class F7 extends i1{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){ft()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;ts(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),UI(r,i)}forEachFeatureAtCoordinate(e,n,i,r,s,a,o,l){let u;const c=n.viewState;function h(T,C,k,A){return s.call(a,C,T?k:null,A)}const m=c.projection,g=h1(e.slice(),m),y=[[0,0]];if(m.canWrapX()&&r){const T=m.getExtent(),C=Bt(T);y.push([-C,0],[C,0])}const b=n.layerStatesArray,w=b.length,E=[],x=[];for(let T=0;T<y.length;T++)for(let C=w-1;C>=0;--C){const k=b[C],A=k.layer;if(A.hasRenderer()&&O1(k,c)&&o.call(l,A)){const L=A.getRenderer(),R=A.getSource();if(L&&R){const j=R.getWrapX()?g:e,U=h.bind(null,k.managed);x[0]=j[0]+y[T][0],x[1]=j[1]+y[T][1],u=L.forEachFeatureAtCoordinate(x,n,i,U,E)}if(u)return u}}if(E.length===0)return;const _=1/E.length;return E.forEach((T,C)=>T.distanceSq+=C*_),E.sort((T,C)=>T.distanceSq-C.distanceSq),E.some(T=>u=T.callback(T.feature,T.layer,T.geometry)),u}hasFeatureAtCoordinate(e,n,i,r,s,a){return this.forEachFeatureAtCoordinate(e,n,i,r,Ad,this,s,a)!==void 0}getMap(){return this.map_}renderFrame(e){ft()}scheduleExpireIconCache(e){gs.canExpireCache()&&e.postRenderFunctions.push(N7)}}function N7(t,e){gs.expire()}class $7 extends F7{constructor(e){super(e),this.fontChangeListenerKey_=Mt(zs,qu.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=kl+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const r=new O2(e,void 0,n);i.dispatchEvent(r)}}disposeInternal(){sn(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Or.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex});n.some(o=>o.layer instanceof Bm&&o.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const s=[];let a=null;for(let o=0,l=n.length;o<l;++o){const u=n[o];e.layerIndex=o;const c=u.layer,h=c.getSourceState();if(!O1(u,r)||h!="ready"&&h!="undefined"){c.unrender();continue}const m=c.render(e,a);m&&(m!==a&&(this.children_.push(m),a=m),s.push(u))}this.declutter(e,s),mj(this.element_,this.children_),this.dispatchRenderEvent(Or.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const r=n[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}n.forEach(i=>i.layer.renderDeferred(e))}}}class wu extends ha{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class $a extends wu{constructor(e,n,i,r,s,a){super(e,n,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const kn={SINGLECLICK:"singleclick",CLICK:lt.CLICK,DBLCLICK:lt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ya={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class j7 extends dh{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=Mt(i,Ya.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Mt(i,Ya.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(lt.TOUCHMOVE,this.boundHandleTouchMove_,FI?{passive:!1}:!1)}emulateClick_(e){let n=new $a(kn.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new $a(kn.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new $a(kn.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==kn.POINTERUP||n.type==kn.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==kn.POINTERDOWN||n.type==kn.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new $a(kn.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(sn),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new $a(kn.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Mt(i,kn.POINTERMOVE,this.handlePointerMove_,this),Mt(i,kn.POINTERUP,this.handlePointerUp_,this),Mt(this.element_,kn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(Mt(this.element_.getRootNode(),kn.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new $a(kn.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new $a(kn.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(sn(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(lt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(sn(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(sn),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const $i={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};class kh extends rs{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){vp(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&vp(this.element);for(let n=0,i=this.listenerKeys.length;n<i;++n)sn(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ku&&this.listenerKeys.push(Mt(e,Ys.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class kM extends kh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"›",a=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=a):this.collapseLabel_=s;const o=e.label!==void 0?e.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=r):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(lt.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+kl+" "+Cm+(this.collapsed_&&this.collapsible_?" "+WT:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(r=>r.getAttributions(e)))),i=!this.getMap().getAllLayers().some(r=>r.getSource()&&r.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),n}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(r=>jI(()=>r))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!wo(n,this.renderedAttributions_)){NI(this.ulElement_);for(let r=0,s=n.length;r<s;++r){const a=document.createElement("li");a.innerHTML=n[r],this.ulElement_.appendChild(a)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(WT),this.collapsed_?HT(this.collapseLabel_,this.label_):HT(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class B7 extends kh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"⇧",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=s,a.appendChild(this.label_),a.addEventListener(lt.CLICK,this.handleClick_.bind(this),!1);const o=n+" "+kl+" "+Cm,l=this.element;l.className=o,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(vf)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:$l}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(vf);!s&&i===0?this.element.classList.add(vf):s&&i!==0&&this.element.classList.remove(vf)}this.label_.style.transform=r}this.rotation_=i}}class RM extends kh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",o=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=l,c.appendChild(typeof a=="string"?document.createTextNode(a):a),c.addEventListener(lt.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof o=="string"?document.createTextNode(o):o),h.addEventListener(lt.CLICK,this.handleClick_.bind(this,-i),!1);const m=n+" "+kl+" "+Cm,g=this.element;g.className=m,g.appendChild(c),g.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:$l})):i.setZoom(s)}}}function V7(t){t=t||{};const e=new _s;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new RM(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new B7(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new kM(t.attributionOptions)),e}const xC={ACTIVE:"active"};class Rh extends rs{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(xC.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(xC.ACTIVE,e)}setMap(e){this.map_=e}}function G7(t,e,n){const i=t.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:J4,center:t.getConstrainedCenter(r)})}}function gb(t,e,n,i){const r=t.getZoom();if(r===void 0)return;const s=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:i!==void 0?i:250,easing:$l})}class z7 extends Rh{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==kn.DBLCLICK){const i=e.originalEvent,r=e.map,s=e.coordinate,a=i.shiftKey?-this.delta_:this.delta_,o=r.getView();gb(o,a,s,this.duration_),i.preventDefault(),n=!0}return!n}}class Ih extends Rh{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==kn.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==kn.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==kn.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==kn.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function yb(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}function I_(t){const e=arguments;return function(n){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](n),!!i);++r);return i}}const U7=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},H7=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},IM=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?H7(t):!0},Y7=Ad,AM=function(t){const e=t.originalEvent;return e.button==0&&!(hj&&OI&&e.ctrlKey)},MM=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},W7=function(t){const e=t.originalEvent;return OI?e.metaKey:e.ctrlKey},K7=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},OM=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},uy=function(t){const e=t.originalEvent;return Lt(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},q7=function(t){const e=t.originalEvent;return Lt(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class X7 extends Ih{constructor(e){super({stopDown:xm}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:I_(MM,q7);this.condition_=e.onFocusOnly?I_(IM,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,r=n.getEventPixel(yb(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],o=e.map.getView();i4(s,o.getResolution()),d1(s,o.getRotation()),o.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=i.getCenterInternal(),o=n.getPixelFromCoordinateInternal(a),l=n.getCoordinateFromPixelInternal([o[0]-r*Math.cos(s),o[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:$l})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class Z7 extends Ih{constructor(e){e=e||{},super({stopDown:xm}),this.condition_=e.condition?e.condition:U7,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!uy(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===M1)return;const r=n.getSize(),s=e.pixel,a=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){const o=a-this.lastAngle_;i.adjustRotationInternal(-o)}this.lastAngle_=a}handleUpEvent(e){return uy(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return uy(e)&&AM(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class J7 extends i1{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],n[0])+i,r.top=Math.min(e[1],n[1])+i,r.width=Math.abs(n[0]-e[0])+i,r.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,r=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Bd([r])}getGeometry(){return this.geometry_}}const Kc={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Of extends ha{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class Q7 extends Ih{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new J7(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:AM,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const r=i[0]-n[0],s=i[1]-n[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Of(Kc.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Of(n?Kc.BOXEND:Kc.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Of(Kc.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Of(Kc.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}}class eK extends Q7{constructor(e){e=e||{};const n=e.condition?e.condition:K7;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(r),a=i.getResolutionForExtentInternal(s),o=i.getResolution()/a;r=r.clone(),r.scale(o*o)}i.fitInternal(r,{duration:this.duration_,easing:$l})}}const Wo={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class tK extends Rh{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return MM(n)&&OM(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==lt.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==Wo.DOWN||r==Wo.LEFT||r==Wo.RIGHT||r==Wo.UP)){const a=e.map.getView(),o=a.getResolution()*this.pixelDelta_;let l=0,u=0;r==Wo.DOWN?u=-o:r==Wo.LEFT?l=-o:r==Wo.RIGHT?l=o:u=o;const c=[l,u];d1(c,a.getRotation()),G7(a,c,this.duration_),i.preventDefault(),n=!0}}return!n}}class nK extends Rh{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!W7(n)&&OM(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==lt.KEYDOWN||e.type==lt.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const s=e.map,a=r==="+"?this.delta_:-this.delta_,o=s.getView();gb(o,a,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class iK{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;const s=this.points_[n]-this.points_[i],a=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(a,s),this.initialVelocity_=Math.sqrt(s*s+a*a)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class rK extends Rh{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:Y7;this.condition_=e.onFocusOnly?I_(IM,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==lt.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==lt.WHEEL&&(s=r.deltaY,cj&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=PI),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const o=i.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-Mn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),gb(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class sK extends Ih{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=xm),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;const a=e.map,o=a.getView();o.getConstraints().rotation!==M1&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(yb(this.targetPointers))),this.rotating_&&(a.render(),o.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class aK extends Ih{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=xm),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,a=i.clientY-r.clientY,o=Math.sqrt(s*s+a*a);this.lastDistance_!==void 0&&(n=this.lastDistance_/o),this.lastDistance_=o;const l=e.map,u=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(yb(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function oK(t){t=t||{};const e=new _s,n=new iK(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new Z7),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new z7({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new X7({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new sK),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new aK({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new tK),e.push(new nK({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new rK({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new eK({duration:t.zoomDuration})),e}function PM(t){if(t instanceof Lm){t.setMapInternal(null);return}t instanceof yc&&t.getLayers().forEach(PM)}function DM(t,e){if(t instanceof Lm){t.setMapInternal(e);return}if(t instanceof yc){const n=t.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)DM(n[i],e)}}let LM=class extends rs{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=lK(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:PI,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=br(),this.pixelToCoordinateTransform_=br(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||V7(),this.interactions=n.interactions||oK({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new l7(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener($i.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener($i.VIEW,this.handleViewChanged_),this.addChangeListener($i.SIZE,this.handleSizeChanged_),this.addChangeListener($i.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof Yr)&&e.view.then(function(r){i.setView(new Yr(r))}),this.controls.addEventListener(nr.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(nr.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(nr.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(nr.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(nr.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(nr.REMOVE,r=>{const s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){DM(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const s=i.hitTolerance!==void 0?i.hitTolerance:0,a=i.layerFilter!==void 0?i.layerFilter:Ad,o=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,o,n,null,a,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(r){r instanceof yc?n(r.getLayers()):e.push(r)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:Ad,s=n.hitTolerance!==void 0?n.hitTolerance:0,a=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,a,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],a=i.height/r[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-i.left)/s,(o.clientY-i.top)/a]}getTarget(){return this.get($i.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return s_(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?jn(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get($i.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof _s){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const a=r.layer.getSource();if(a&&a.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Us(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?jn(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get($i.SIZE)}getView(){return this.get($i.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,r){return u7(this.frameState_,e,n,i,r)}handleBrowserEvent(e,n){n=n||e.type;const i=new $a(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===Ya.POINTERDOWN||i===lt.WHEEL||i===lt.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,a=n.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===r?r.documentElement:s).contains(a))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const a=r[s];if(a.getMap()!==this||!a.getActive()||!this.getTargetElement())continue;if(!a.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const a=e.viewHints;if(a[cn.ANIMATING]||a[cn.INTERACTING]){const o=Date.now()-e.time>8;r=o?0:8,s=o?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(Or.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Or.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new wu(Ys.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new wu(Ys.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)sn(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(lt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(lt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,vp(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new $7(this)),this.mapBrowserEventHandler_=new j7(this,this.moveTolerance_);for(const s in kn)this.mapBrowserEventHandler_.addEventListener(kn[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(lt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(lt.WHEEL,this.boundHandleBrowserEvent_,FI?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[Mt(i,lt.KEYDOWN,this.handleBrowserEvent,this),Mt(i,lt.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(sn(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(sn(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Mt(e,qu.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Mt(e,lt.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(sn),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new za("addlayer",e)),this.layerGroupPropertyListenerKeys_=[Mt(e,qu.PROPERTYCHANGE,this.render,this),Mt(e,lt.CHANGE,this.render,this),Mt(e,"addlayer",this.handleLayerAdd_,this),Mt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){PM(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),r=this.frameState_;let s=null;if(n!==void 0&&VT(n)&&i&&i.isDef()){const a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:t_(o.center,o.resolution,o.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:a,wantedTiles:{},mapId:bt(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const l=isNaN(o.nextRotation)?o.rotation:o.nextRotation;s.nextExtent=t_(o.nextCenter,o.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Ll(this.previousExtent_)&&!Ju(s.extent,this.previousExtent_))&&(this.dispatchEvent(new wu(Ys.MOVESTART,this,r)),this.previousExtent_=dc(this.previousExtent_)),this.previousExtent_&&!s.viewHints[cn.ANIMATING]&&!s.viewHints[cn.INTERACTING]&&!Ju(s.extent,this.previousExtent_)&&(this.dispatchEvent(new wu(Ys.MOVEEND,this,s)),HI(s.extent,this.previousExtent_))),this.dispatchEvent(new wu(Ys.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Ys.LOADSTART)||this.hasListener(Ys.LOADEND)||this.hasListener(Or.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new za("removelayer",n)),this.set($i.LAYERGROUP,e)}setSize(e){this.set($i.SIZE,e)}setTarget(e){this.set($i.TARGET,e)}setView(e){if(!e||e instanceof Yr){this.set($i.VIEW,e);return}this.set($i.VIEW,new Yr);const n=this;e.then(function(i){n.setView(new Yr(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),a=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(a)&&(n=[s,a],!VT(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&JI("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!wo(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function lK(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new yc({layers:t.layers});n[$i.LAYERGROUP]=i,n[$i.TARGET]=t.target,n[$i.VIEW]=t.view instanceof Yr?t.view:new Yr;let r;t.controls!==void 0&&(Array.isArray(t.controls)?r=new _s(t.controls.slice()):(Lt(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new _s(t.interactions.slice()):(Lt(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let a;return t.overlays!==void 0?Array.isArray(t.overlays)?a=new _s(t.overlays.slice()):(Lt(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new _s,{controls:r,interactions:s,keyboardEventTarget:e,overlays:a,values:n}}var uK={338:t=>{t.exports=e;function e(n,i){this.x=n,this.y=i}e.prototype={clone:function(){return new e(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,i){return this.clone()._rotateAround(n,i)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var i=n.x-this.x,r=n.y-this.y;return i*i+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,i){return Math.atan2(this.x*i-this.y*n,this.x*n+this.y*i)},_matMult:function(n){var i=n[0]*this.x+n[1]*this.y,r=n[2]*this.x+n[3]*this.y;return this.x=i,this.y=r,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var i=Math.cos(n),r=Math.sin(n),s=i*this.x-r*this.y,a=r*this.x+i*this.y;return this.x=s,this.y=a,this},_rotateAround:function(n,i){var r=Math.cos(n),s=Math.sin(n),a=i.x+r*(this.x-i.x)-s*(this.y-i.y),o=i.y+s*(this.x-i.x)+r*(this.y-i.y);return this.x=a,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(n){return n instanceof e?n:Array.isArray(n)?new e(n[0],n[1]):n}},946:t=>{t.exports=e;function e(n,i,r,s){this.cx=3*n,this.bx=3*(r-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(s-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=s,this.p2x=r,this.p2y=s}e.prototype.sampleCurveX=function(n){return((this.ax*n+this.bx)*n+this.cx)*n},e.prototype.sampleCurveY=function(n){return((this.ay*n+this.by)*n+this.cy)*n},e.prototype.sampleCurveDerivativeX=function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},e.prototype.solveCurveX=function(n,i){typeof i>"u"&&(i=1e-6);var r,s,a,o,l;for(a=n,l=0;l<8;l++){if(o=this.sampleCurveX(a)-n,Math.abs(o)<i)return a;var u=this.sampleCurveDerivativeX(a);if(Math.abs(u)<1e-6)break;a=a-o/u}if(r=0,s=1,a=n,a<r)return r;if(a>s)return s;for(;r<s;){if(o=this.sampleCurveX(a),Math.abs(o-n)<i)return a;n>o?r=a:s=a,a=(s-r)*.5+r}return a},e.prototype.solve=function(n,i){return this.sampleCurveY(this.solveCurveX(n,i))}},872:(t,e)=>{var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(u){return u=Math.round(u),u<0?0:u>255?255:u}function r(u){return u<0?0:u>1?1:u}function s(u){return u[u.length-1]==="%"?i(parseFloat(u)/100*255):i(parseInt(u))}function a(u){return u[u.length-1]==="%"?r(parseFloat(u)/100):r(parseFloat(u))}function o(u,c,h){return h<0?h+=1:h>1&&(h-=1),h*6<1?u+(c-u)*h*6:h*2<1?c:h*3<2?u+(c-u)*(2/3-h)*6:u}function l(u){var c=u.replace(/ /g,"").toLowerCase();if(c in n)return n[c].slice();if(c[0]==="#"){if(c.length===4){var h=parseInt(c.substr(1),16);return h>=0&&h<=4095?[(h&3840)>>4|(h&3840)>>8,h&240|(h&240)>>4,h&15|(h&15)<<4,1]:null}else if(c.length===7){var h=parseInt(c.substr(1),16);return h>=0&&h<=16777215?[(h&16711680)>>16,(h&65280)>>8,h&255,1]:null}return null}var m=c.indexOf("("),g=c.indexOf(")");if(m!==-1&&g+1===c.length){var y=c.substr(0,m),b=c.substr(m+1,g-(m+1)).split(","),w=1;switch(y){case"rgba":if(b.length!==4)return null;w=a(b.pop());case"rgb":return b.length!==3?null:[s(b[0]),s(b[1]),s(b[2]),w];case"hsla":if(b.length!==4)return null;w=a(b.pop());case"hsl":if(b.length!==3)return null;var E=(parseFloat(b[0])%360+360)%360/360,x=a(b[1]),_=a(b[2]),T=_<=.5?_*(x+1):_+x-_*x,C=_*2-T;return[i(o(C,T,E+1/3)*255),i(o(C,T,E)*255),i(o(C,T,E-1/3)*255),w];default:return null}}return null}try{e.G=l}catch{}},523:t=>{var e={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},n=" ",i=/(italic|oblique)$/i,r={};t.exports=function(s,a,o){var l=r[s];if(!l){Array.isArray(s)||(s=[s]);for(var u=400,c="normal",h=[],m,g,y=0,b=s.length;y<b;++y){var w=s[y],E=w.split(" "),x=E[E.length-1].toLowerCase();x=="normal"||x=="italic"||x=="oblique"?(c=g?c:x,E.pop(),x=E[E.length-1].toLowerCase()):i.test(x)&&(x=x.replace(i,""),c=g?c:E[E.length-1].replace(x,""));for(var _ in e){var T=E.length>1?E[E.length-2].toLowerCase():"";if(x==_||x==_.replace("-","")||T+"-"+x==_){u=m?u:e[_],E.pop(),T&&_.startsWith(T)&&E.pop();break}}!m&&typeof x=="number"&&(u=x);var C=E.join(n).replace("Klokantech Noto Sans","Noto Sans");C.indexOf(n)!==-1&&(C='"'+C+'"'),h.push(C)}l=r[s]=[c,u,h]}return l[0]+n+l[1]+n+a+"px"+(o?"/"+o:"")+n+l[2]}},619:t=>{t.exports=n;var e=function(i){function r(){i.apply(this,arguments)}return i&&(r.__proto__=i),r.prototype=Object.create(i&&i.prototype),r.prototype.constructor=r,r}(Error);e.prototype.name="AssertionError";function n(i,r){if(!i){var s=new e(r);throw Error.captureStackTrace&&Error.captureStackTrace(s,n),s}}},422:function(t){(function(){var e;t.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return e},getLink:function(n){return"https://fonts.google.com/specimen/"+n.replace(/( )/g,"+")},normalizeName:function(n){return n}},e=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},954:t=>{t.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1,"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1,"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1,"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"distance-from-center":{group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"heatmap-density":{group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"==":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"sdk-support":{"basic functionality":{js:"2.3.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"2.3.0"}}},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"2.3.0"}}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{}},default:"mercator",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},terrain:{source:{type:"string",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}}}},CC={};function St(t){var e=CC[t];if(e!==void 0)return e.exports;var n=CC[t]={exports:{}};return uK[t].call(n.exports,n,n.exports,St),n.exports}St.d=(t,e)=>{for(var n in e)St.o(e,n)&&!St.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};St.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);St.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var cK={};(()=>{St.d(cK,{nn:()=>Pw,h0:()=>sD,bg:()=>xw,ZP:()=>Pw,gG:()=>fD,Hs:()=>cD,xb:()=>zg,b5:()=>dD,YU:()=>jP,iC:()=>NP,LN:()=>hD,uX:()=>_w});var t={};St.r(t),St.d(t,{array:()=>EO,color:()=>wO,number:()=>dr});var e={};St.r(e),St.d(e,{hcl:()=>Sc,lab:()=>Cc});var n=f=>{var d={};return St.d(d,f),d};const i=n({default:()=>Pl});var r=f=>{var d={};return St.d(d,f),d};const s=r({default:()=>To});var a=f=>{var d={};return St.d(d,f),d};const o=a({default:()=>_h});var l=f=>{var d={};return St.d(d,f),d};const u=l({default:()=>Ci});var c=f=>{var d={};return St.d(d,f),d};const h=c({default:()=>yh});var m=f=>{var d={};return St.d(d,f),d};const g=m({default:()=>Ts});var y=f=>{var d={};return St.d(d,f),d};const b=y({default:()=>Fm});var w=St(872),E=function(d,p,v,S){S===void 0&&(S=1),this.r=d,this.g=p,this.b=v,this.a=S};E.parse=function(d){if(d){if(d instanceof E)return d;if(typeof d=="string"){var p=(0,w.G)(d);if(p)return new E(p[0]/255*p[3],p[1]/255*p[3],p[2]/255*p[3],p[3])}}},E.prototype.toString=function(){var d=this.toArray(),p=d[0],v=d[1],S=d[2],I=d[3];return"rgba("+Math.round(p)+","+Math.round(v)+","+Math.round(S)+","+I+")"},E.prototype.toArray=function(){var d=this,p=d.r,v=d.g,S=d.b,I=d.a;return I===0?[0,0,0,0]:[p*255/I,v*255/I,S*255/I,I]},E.black=new E(0,0,0,1),E.white=new E(1,1,1,1),E.transparent=new E(0,0,0,0),E.red=new E(1,0,0,1),E.blue=new E(0,0,1,1);const x=E;var _=St(619);const T=k;function C(f){return typeof f=="object"?["literal",f]:f}function k(f,d){var p=f.stops;if(!p)return A(f,d);var v=p&&typeof p[0][0]=="object",S=v||f.property!==void 0,I=v||!S;return p=p.map(function(V){return!S&&d.tokens&&typeof V[1]=="string"?[V[0],N(V[1])]:[V[0],C(V[1])]}),v?R(f,d,p):I?ne(f,d,p):G(f,d,p)}function A(f,d){var p=["get",f.property];if(f.default===void 0)return d.type==="string"?["string",p]:p;if(d.type==="enum")return["match",p,Object.keys(d.values),p,f.default];var v=[d.type==="color"?"to-color":d.type,p,C(f.default)];return d.type==="array"&&v.splice(1,0,d.value,d.length||null),v}function L(f){switch(f.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function R(f,d,p){for(var v={},S={},I=[],V=0;V<p.length;V++){var ee=p[V],fe=ee[0].zoom;v[fe]===void 0&&(v[fe]={zoom:fe,type:f.type,property:f.property,default:f.default},S[fe]=[],I.push(fe)),S[fe].push([ee[0].value,ee[1]])}var le=B({},d);if(le==="exponential"){for(var me=[L(f),["linear"],["zoom"]],Ce=0,Fe=I;Ce<Fe.length;Ce+=1){var Ne=Fe[Ce],nt=G(v[Ne],d,S[Ne]);F(me,Ne,nt,!1)}return me}else{for(var He=["step",["zoom"]],$e=0,on=I;$e<on.length;$e+=1){var Ot=on[$e],Dn=G(v[Ot],d,S[Ot]);F(He,Ot,Dn,!0)}return W(He),He}}function j(f,d){if(f!==void 0)return f;if(d!==void 0)return d}function U(f,d){var p=C(j(f.default,d.default));return p===void 0&&d.type==="resolvedImage"?"":p}function G(f,d,p){var v=B(f,d),S=["get",f.property];if(v==="categorical"&&typeof p[0][0]=="boolean"){_(f.stops.length>0&&f.stops.length<=2);for(var I=["case"],V=0,ee=p;V<ee.length;V+=1){var fe=ee[V];I.push(["==",S,fe[0]],fe[1])}return I.push(U(f,d)),I}else if(v==="categorical"){for(var le=["match",S],me=0,Ce=p;me<Ce.length;me+=1){var Fe=Ce[me];F(le,Fe[0],Fe[1],!1)}return le.push(U(f,d)),le}else if(v==="interval"){for(var Ne=["step",["number",S]],nt=0,He=p;nt<He.length;nt+=1){var $e=He[nt];F(Ne,$e[0],$e[1],!0)}return W(Ne),f.default===void 0?Ne:["case",["==",["typeof",S],"number"],Ne,C(f.default)]}else if(v==="exponential"){for(var on=f.base!==void 0?f.base:1,Ot=[L(f),on===1?["linear"]:["exponential",on],["number",S]],Dn=0,nn=p;Dn<nn.length;Dn+=1){var kt=nn[Dn];F(Ot,kt[0],kt[1],!1)}return f.default===void 0?Ot:["case",["==",["typeof",S],"number"],Ot,C(f.default)]}else throw new Error("Unknown property function type "+v)}function ne(f,d,p,v){v===void 0&&(v=["zoom"]);var S=B(f,d),I,V=!1;if(S==="interval")I=["step",v],V=!0;else if(S==="exponential"){var ee=f.base!==void 0?f.base:1;I=[L(f),ee===1?["linear"]:["exponential",ee],v]}else throw new Error('Unknown zoom function type "'+S+'"');for(var fe=0,le=p;fe<le.length;fe+=1){var me=le[fe];F(I,me[0],me[1],V)}return W(I),I}function W(f){f[0]==="step"&&f.length===3&&(f.push(0),f.push(f[3]))}function F(f,d,p,v){f.length>3&&d===f[f.length-2]||(v&&f.length===2||f.push(d),f.push(p))}function B(f,d){return f.type?f.type:(_(d.expression),d.expression.interpolated?"exponential":"interval")}function N(f){for(var d=["concat"],p=/{([^{}]+)}/g,v=0,S=p.exec(f);S!==null;S=p.exec(f)){var I=f.slice(v,p.lastIndex-S[0].length);v=p.lastIndex,I.length>0&&d.push(I),d.push(["get",S[1]])}if(d.length===1)return f;if(v<f.length)d.push(f.slice(v));else if(d.length===2)return["to-string",d[1]];return d}var Q=function(f){function d(p,v){f.call(this,v),this.message=v,this.key=p}return f&&(d.__proto__=f),d.prototype=Object.create(f&&f.prototype),d.prototype.constructor=d,d}(Error);const _e=Q;var be=function(d,p){p===void 0&&(p=[]),this.parent=d,this.bindings={};for(var v=0,S=p;v<S.length;v+=1){var I=S[v],V=I[0],ee=I[1];this.bindings[V]=ee}};be.prototype.concat=function(d){return new be(this,d)},be.prototype.get=function(d){if(this.bindings[d])return this.bindings[d];if(this.parent)return this.parent.get(d);throw new Error(d+" not found in scope.")},be.prototype.has=function(d){return this.bindings[d]?!0:this.parent?this.parent.has(d):!1};const xe=be;var K={kind:"null"},Z={kind:"number"},O={kind:"string"},re={kind:"boolean"},Ee={kind:"color"},q={kind:"object"},ye={kind:"value"},Xe={kind:"error"},de={kind:"collator"},Ke={kind:"formatted"},H={kind:"resolvedImage"};function D(f,d){return{kind:"array",itemType:f,N:d}}function M(f){if(f.kind==="array"){var d=M(f.itemType);return typeof f.N=="number"?"array<"+d+", "+f.N+">":f.itemType.kind==="value"?"array":"array<"+d+">"}else return f.kind}var z=[K,Z,O,re,Ee,Ke,q,D(ye),H];function J(f,d){if(d.kind==="error")return null;if(f.kind==="array"){if(d.kind==="array"&&(d.N===0&&d.itemType.kind==="value"||!J(f.itemType,d.itemType))&&(typeof f.N!="number"||f.N===d.N))return null}else{if(f.kind===d.kind)return null;if(f.kind==="value")for(var p=0,v=z;p<v.length;p+=1){var S=v[p];if(!J(S,d))return null}}return"Expected "+M(f)+" but found "+M(d)+" instead."}function he(f,d){return d.some(function(p){return p.kind===f.kind})}function Y(f,d){return d.some(function(p){return p==="null"?f===null:p==="array"?Array.isArray(f):p==="object"?f&&!Array.isArray(f)&&typeof f=="object":p===typeof f})}var ue=function(d,p,v){d?this.sensitivity=p?"variant":"case":this.sensitivity=p?"accent":"base",this.locale=v,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ue.prototype.compare=function(d,p){return this.collator.compare(d,p)},ue.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};const P=ue;var $=function(d,p,v,S,I){this.text=d.normalize?d.normalize():d,this.image=p,this.scale=v,this.fontStack=S,this.textColor=I},X=function(d){this.sections=d};X.fromString=function(d){return new X([new $(d,null,null,null,null)])},X.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(d){return d.text.length!==0||d.image&&d.image.name.length!==0})},X.factory=function(d){return d instanceof X?d:X.fromString(d)},X.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(d){return d.text}).join("")},X.prototype.serialize=function(){for(var d=["format"],p=0,v=this.sections;p<v.length;p+=1){var S=v[p];if(S.image){d.push(["image",S.image.name]);continue}d.push(S.text);var I={};S.fontStack&&(I["text-font"]=["literal",S.fontStack.split(",")]),S.scale&&(I["font-scale"]=S.scale),S.textColor&&(I["text-color"]=["rgba"].concat(S.textColor.toArray())),d.push(I)}return d};const se=X;var Ie=function(d){this.name=d.name,this.available=d.available};Ie.prototype.toString=function(){return this.name},Ie.fromString=function(d){return d?new Ie({name:d,available:!1}):null},Ie.prototype.serialize=function(){return["image",this.name]};const we=Ie;function ae(f,d,p,v){if(!(typeof f=="number"&&f>=0&&f<=255&&typeof d=="number"&&d>=0&&d<=255&&typeof p=="number"&&p>=0&&p<=255)){var S=typeof v=="number"?[f,d,p,v]:[f,d,p];return"Invalid rgba value ["+S.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof v>"u"||typeof v=="number"&&v>=0&&v<=1?null:"Invalid rgba value ["+[f,d,p,v].join(", ")+"]: 'a' must be between 0 and 1."}function ce(f){if(f===null)return!0;if(typeof f=="string")return!0;if(typeof f=="boolean")return!0;if(typeof f=="number")return!0;if(f instanceof x)return!0;if(f instanceof P)return!0;if(f instanceof se)return!0;if(f instanceof we)return!0;if(Array.isArray(f)){for(var d=0,p=f;d<p.length;d+=1){var v=p[d];if(!ce(v))return!1}return!0}else if(typeof f=="object"){for(var S in f)if(!ce(f[S]))return!1;return!0}else return!1}function Le(f){if(f===null)return K;if(typeof f=="string")return O;if(typeof f=="boolean")return re;if(typeof f=="number")return Z;if(f instanceof x)return Ee;if(f instanceof P)return de;if(f instanceof se)return Ke;if(f instanceof we)return H;if(Array.isArray(f)){for(var d=f.length,p,v=0,S=f;v<S.length;v+=1){var I=S[v],V=Le(I);if(!p)p=V;else{if(p===V)continue;p=ye;break}}return D(p||ye,d)}else return _(typeof f=="object"),q}function je(f){var d=typeof f;return f===null?"":d==="string"||d==="number"||d==="boolean"?String(f):f instanceof x||f instanceof se||f instanceof we?f.toString():JSON.stringify(f)}var wt=function(d,p){this.type=d,this.value=p};wt.parse=function(d,p){if(d.length!==2)return p.error("'literal' expression requires exactly one argument, but found "+(d.length-1)+" instead.");if(!ce(d[1]))return p.error("invalid value");var v=d[1],S=Le(v),I=p.expectedType;return S.kind==="array"&&S.N===0&&I&&I.kind==="array"&&(typeof I.N!="number"||I.N===0)&&(S=I),new wt(S,v)},wt.prototype.evaluate=function(){return this.value},wt.prototype.eachChild=function(){},wt.prototype.outputDefined=function(){return!0},wt.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof x?["rgba"].concat(this.value.toArray()):this.value instanceof se?this.value.serialize():(_(this.value===null||typeof this.value=="string"||typeof this.value=="number"||typeof this.value=="boolean"),this.value)};const tn=wt;var vn=function(d){this.name="ExpressionEvaluationError",this.message=d};vn.prototype.toJSON=function(){return this.message};const Yt=vn;var wi={string:O,number:Z,boolean:re,object:q},Ai=function(d,p){this.type=d,this.args=p};Ai.parse=function(d,p){if(d.length<2)return p.error("Expected at least one argument.");var v=1,S,I=d[0];if(I==="array"){var V;if(d.length>2){var ee=d[1];if(typeof ee!="string"||!(ee in wi)||ee==="object")return p.error('The item type argument of "array" must be one of string, number, boolean',1);V=wi[ee],v++}else V=ye;var fe;if(d.length>3){if(d[2]!==null&&(typeof d[2]!="number"||d[2]<0||d[2]!==Math.floor(d[2])))return p.error('The length argument to "array" must be a positive integer literal',2);fe=d[2],v++}S=D(V,fe)}else _(wi[I],I),S=wi[I];for(var le=[];v<d.length;v++){var me=p.parse(d[v],v,ye);if(!me)return null;le.push(me)}return new Ai(S,le)},Ai.prototype.evaluate=function(d){for(var p=0;p<this.args.length;p++){var v=this.args[p].evaluate(d),S=J(this.type,Le(v));if(S){if(p===this.args.length-1)throw new Yt("Expected value to be of type "+M(this.type)+", but found "+M(Le(v))+" instead.")}else return v}return _(!1),null},Ai.prototype.eachChild=function(d){this.args.forEach(d)},Ai.prototype.outputDefined=function(){return this.args.every(function(d){return d.outputDefined()})},Ai.prototype.serialize=function(){var d=this.type,p=[d.kind];if(d.kind==="array"){var v=d.itemType;if(v.kind==="string"||v.kind==="number"||v.kind==="boolean"){p.push(v.kind);var S=d.N;(typeof S=="number"||this.args.length>1)&&p.push(S)}}return p.concat(this.args.map(function(I){return I.serialize()}))};const Wt=Ai;var oe=function(d){this.type=Ke,this.sections=d};oe.parse=function(d,p){if(d.length<2)return p.error("Expected at least one argument.");var v=d[1];if(!Array.isArray(v)&&typeof v=="object")return p.error("First argument must be an image or text section.");for(var S=[],I=!1,V=1;V<=d.length-1;++V){var ee=d[V];if(I&&typeof ee=="object"&&!Array.isArray(ee)){I=!1;var fe=null;if(ee["font-scale"]&&(fe=p.parse(ee["font-scale"],1,Z),!fe))return null;var le=null;if(ee["text-font"]&&(le=p.parse(ee["text-font"],1,D(O)),!le))return null;var me=null;if(ee["text-color"]&&(me=p.parse(ee["text-color"],1,Ee),!me))return null;var Ce=S[S.length-1];Ce.scale=fe,Ce.font=le,Ce.textColor=me}else{var Fe=p.parse(d[V],1,ye);if(!Fe)return null;var Ne=Fe.type.kind;if(Ne!=="string"&&Ne!=="value"&&Ne!=="null"&&Ne!=="resolvedImage")return p.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");I=!0,S.push({content:Fe,scale:null,font:null,textColor:null})}}return new oe(S)},oe.prototype.evaluate=function(d){var p=function(v){var S=v.content.evaluate(d);return Le(S)===H?new $("",S,null,null,null):new $(je(S),null,v.scale?v.scale.evaluate(d):null,v.font?v.font.evaluate(d).join(","):null,v.textColor?v.textColor.evaluate(d):null)};return new se(this.sections.map(p))},oe.prototype.eachChild=function(d){for(var p=0,v=this.sections;p<v.length;p+=1){var S=v[p];d(S.content),S.scale&&d(S.scale),S.font&&d(S.font),S.textColor&&d(S.textColor)}},oe.prototype.outputDefined=function(){return!1},oe.prototype.serialize=function(){for(var d=["format"],p=0,v=this.sections;p<v.length;p+=1){var S=v[p];d.push(S.content.serialize());var I={};S.scale&&(I["font-scale"]=S.scale.serialize()),S.font&&(I["text-font"]=S.font.serialize()),S.textColor&&(I["text-color"]=S.textColor.serialize()),d.push(I)}return d};const Oe=oe;var ge=function(d){this.type=H,this.input=d};ge.parse=function(d,p){if(d.length!==2)return p.error("Expected two arguments.");var v=p.parse(d[1],1,O);return v?new ge(v):p.error("No image name provided.")},ge.prototype.evaluate=function(d){var p=this.input.evaluate(d),v=we.fromString(p);return v&&d.availableImages&&(v.available=d.availableImages.indexOf(p)>-1),v},ge.prototype.eachChild=function(d){d(this.input)},ge.prototype.outputDefined=function(){return!1},ge.prototype.serialize=function(){return["image",this.input.serialize()]};const Pe=ge;var Be={"to-boolean":re,"to-color":Ee,"to-number":Z,"to-string":O},Xt=function(d,p){this.type=d,this.args=p};Xt.parse=function(d,p){if(d.length<2)return p.error("Expected at least one argument.");var v=d[0];if(_(Be[v],v),(v==="to-boolean"||v==="to-string")&&d.length!==2)return p.error("Expected one argument.");for(var S=Be[v],I=[],V=1;V<d.length;V++){var ee=p.parse(d[V],V,ye);if(!ee)return null;I.push(ee)}return new Xt(S,I)},Xt.prototype.evaluate=function(d){if(this.type.kind==="boolean")return!!this.args[0].evaluate(d);if(this.type.kind==="color"){for(var p,v,S=0,I=this.args;S<I.length;S+=1){var V=I[S];if(p=V.evaluate(d),v=null,p instanceof x)return p;if(typeof p=="string"){var ee=d.parseColor(p);if(ee)return ee}else if(Array.isArray(p)&&(p.length<3||p.length>4?v="Invalid rbga value "+JSON.stringify(p)+": expected an array containing either three or four numeric values.":v=ae(p[0],p[1],p[2],p[3]),!v))return new x(p[0]/255,p[1]/255,p[2]/255,p[3])}throw new Yt(v||"Could not parse color from value '"+(typeof p=="string"?p:String(JSON.stringify(p)))+"'")}else if(this.type.kind==="number"){for(var fe=null,le=0,me=this.args;le<me.length;le+=1){var Ce=me[le];if(fe=Ce.evaluate(d),fe===null)return 0;var Fe=Number(fe);if(!isNaN(Fe))return Fe}throw new Yt("Could not convert "+JSON.stringify(fe)+" to number.")}else return this.type.kind==="formatted"?se.fromString(je(this.args[0].evaluate(d))):this.type.kind==="resolvedImage"?we.fromString(je(this.args[0].evaluate(d))):je(this.args[0].evaluate(d))},Xt.prototype.eachChild=function(d){this.args.forEach(d)},Xt.prototype.outputDefined=function(){return this.args.every(function(d){return d.outputDefined()})},Xt.prototype.serialize=function(){if(this.type.kind==="formatted")return new Oe([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Pe(this.args[0]).serialize();var d=["to-"+this.type.kind];return this.eachChild(function(p){d.push(p.serialize())}),d};const dn=Xt;var Cr=["Unknown","Point","LineString","Polygon"],Mi=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null};Mi.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Mi.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Cr[this.feature.type]:this.feature.type:null},Mi.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Mi.prototype.canonicalID=function(){return this.canonical},Mi.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Mi.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var d=this.featureDistanceData.center,p=this.featureDistanceData.scale,v=this.featureTileCoord,S=v.x,I=v.y,V=S*p-d[0],ee=I*p-d[1],fe=this.featureDistanceData.bearing[0],le=this.featureDistanceData.bearing[1],me=fe*V+le*ee;return me}return 0},Mi.prototype.parseColor=function(d){var p=this._parseColorCache[d];return p||(p=this._parseColorCache[d]=x.parse(d)),p};const Pn=Mi;var Zt=function(d,p,v,S){this.name=d,this.type=p,this._evaluate=v,this.args=S};Zt.prototype.evaluate=function(d){return this._evaluate(d,this.args)},Zt.prototype.eachChild=function(d){this.args.forEach(d)},Zt.prototype.outputDefined=function(){return!1},Zt.prototype.serialize=function(){return[this.name].concat(this.args.map(function(d){return d.serialize()}))},Zt.parse=function(d,p){var v,S=d[0],I=Zt.definitions[S];if(!I)return p.error('Unknown expression "'+S+'". If you wanted a literal array, use ["literal", [...]].',0);for(var V=Array.isArray(I)?I[0]:I.type,ee=Array.isArray(I)?[[I[1],I[2]]]:I.overloads,fe=ee.filter(function(Ln){var us=Ln[0];return!Array.isArray(us)||us.length===d.length-1}),le=null,me=0,Ce=fe;me<Ce.length;me+=1){var Fe=Ce[me],Ne=Fe[0],nt=Fe[1];le=new Nb(p.registry,p.path,null,p.scope);for(var He=[],$e=!1,on=1;on<d.length;on++){var Ot=d[on],Dn=Array.isArray(Ne)?Ne[on-1]:Ne.type,nn=le.parse(Ot,1+He.length,Dn);if(!nn){$e=!0;break}He.push(nn)}if(!$e){if(Array.isArray(Ne)&&Ne.length!==He.length){le.error("Expected "+Ne.length+" arguments, but found "+He.length+" instead.");continue}for(var kt=0;kt<He.length;kt++){var Zn=Array.isArray(Ne)?Ne[kt]:Ne.type,Oi=He[kt];le.concat(kt+1).checkSubtype(Zn,Oi.type)}if(le.errors.length===0)return new Zt(S,V,nt,He)}}if(_(!le||le.errors.length>0),fe.length===1)(v=p.errors).push.apply(v,le.errors);else{for(var di=fe.length?fe:ee,Ui=di.map(function(Ln){var us=Ln[0];return ui(us)}).join(" | "),$r=[],ls=1;ls<d.length;ls++){var _a=p.parse(d[ls],1+$r.length);if(!_a)return null;$r.push(M(_a.type))}p.error("Expected arguments of type "+Ui+", but found ("+$r.join(", ")+") instead.")}return null},Zt.register=function(d,p){_(!Zt.definitions),Zt.definitions=p;for(var v in p)d[v]=Zt};function ui(f){return Array.isArray(f)?"("+f.map(M).join(", ")+")":"("+M(f.type)+"...)"}const Xn=Zt;var Yn=function(d,p,v){this.type=de,this.locale=v,this.caseSensitive=d,this.diacriticSensitive=p};Yn.parse=function(d,p){if(d.length!==2)return p.error("Expected one argument.");var v=d[1];if(typeof v!="object"||Array.isArray(v))return p.error("Collator options argument must be an object.");var S=p.parse(v["case-sensitive"]===void 0?!1:v["case-sensitive"],1,re);if(!S)return null;var I=p.parse(v["diacritic-sensitive"]===void 0?!1:v["diacritic-sensitive"],1,re);if(!I)return null;var V=null;return v.locale&&(V=p.parse(v.locale,1,O),!V)?null:new Yn(S,I,V)},Yn.prototype.evaluate=function(d){return new P(this.caseSensitive.evaluate(d),this.diacriticSensitive.evaluate(d),this.locale?this.locale.evaluate(d):null)},Yn.prototype.eachChild=function(d){d(this.caseSensitive),d(this.diacriticSensitive),this.locale&&d(this.locale)},Yn.prototype.outputDefined=function(){return!1},Yn.prototype.serialize=function(){var d={};return d["case-sensitive"]=this.caseSensitive.serialize(),d["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(d.locale=this.locale.serialize()),["collator",d]};const Sr=Yn;St(338);var ci=8192;function an(f,d){f[0]=Math.min(f[0],d[0]),f[1]=Math.min(f[1],d[1]),f[2]=Math.max(f[2],d[0]),f[3]=Math.max(f[3],d[1])}function Ei(f){return(180+f)/360}function Nr(f){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f*Math.PI/360)))/360}function zl(f,d){return!(f[0]<=d[0]||f[2]>=d[2]||f[1]<=d[1]||f[3]>=d[3])}function uO(f,d){var p=Ei(f[0]),v=Nr(f[1]),S=Math.pow(2,d.z);return[Math.round(p*S*ci),Math.round(v*S*ci)]}function cO(f,d,p){var v=f[0]-d[0],S=f[1]-d[1],I=f[0]-p[0],V=f[1]-p[1];return v*V-I*S===0&&v*I<=0&&S*V<=0}function dO(f,d,p){return d[1]>f[1]!=p[1]>f[1]&&f[0]<(p[0]-d[0])*(f[1]-d[1])/(p[1]-d[1])+d[0]}function fg(f,d){for(var p=!1,v=0,S=d.length;v<S;v++)for(var I=d[v],V=0,ee=I.length;V<ee-1;V++){if(cO(f,I[V],I[V+1]))return!1;dO(f,I[V],I[V+1])&&(p=!p)}return p}function hO(f,d){for(var p=0;p<d.length;p++)if(fg(f,d[p]))return!0;return!1}function fO(f,d){return f[0]*d[1]-f[1]*d[0]}function Ab(f,d,p,v){var S=f[0]-p[0],I=f[1]-p[1],V=d[0]-p[0],ee=d[1]-p[1],fe=v[0]-p[0],le=v[1]-p[1],me=S*le-fe*I,Ce=V*le-fe*ee;return me>0&&Ce<0||me<0&&Ce>0}function pO(f,d,p,v){var S=[d[0]-f[0],d[1]-f[1]],I=[v[0]-p[0],v[1]-p[1]];return fO(I,S)===0?!1:!!(Ab(f,d,p,v)&&Ab(p,v,f,d))}function mO(f,d,p){for(var v=0,S=p;v<S.length;v+=1)for(var I=S[v],V=0;V<I.length-1;++V)if(pO(f,d,I[V],I[V+1]))return!0;return!1}function Mb(f,d){for(var p=0;p<f.length;++p)if(!fg(f[p],d))return!1;for(var v=0;v<f.length-1;++v)if(mO(f[v],f[v+1],d))return!1;return!0}function gO(f,d){for(var p=0;p<d.length;p++)if(Mb(f,d[p]))return!0;return!1}function pg(f,d,p){for(var v=[],S=0;S<f.length;S++){for(var I=[],V=0;V<f[S].length;V++){var ee=uO(f[S][V],p);an(d,ee),I.push(ee)}v.push(I)}return v}function Ob(f,d,p){for(var v=[],S=0;S<f.length;S++){var I=pg(f[S],d,p);v.push(I)}return v}function Pb(f,d,p,v){if(f[0]<p[0]||f[0]>p[2]){var S=v*.5,I=f[0]-p[0]>S?-v:p[0]-f[0]>S?v:0;I===0&&(I=f[0]-p[2]>S?-v:p[2]-f[0]>S?v:0),f[0]+=I}an(d,f)}function yO(f){f[0]=f[1]=1/0,f[2]=f[3]=-1/0}function Db(f,d,p,v){for(var S=Math.pow(2,v.z)*ci,I=[v.x*ci,v.y*ci],V=[],ee=0,fe=f;ee<fe.length;ee+=1)for(var le=fe[ee],me=0,Ce=le;me<Ce.length;me+=1){var Fe=Ce[me],Ne=[Fe.x+I[0],Fe.y+I[1]];Pb(Ne,d,p,S),V.push(Ne)}return V}function Lb(f,d,p,v){for(var S=Math.pow(2,v.z)*ci,I=[v.x*ci,v.y*ci],V=[],ee=0,fe=f;ee<fe.length;ee+=1){for(var le=fe[ee],me=[],Ce=0,Fe=le;Ce<Fe.length;Ce+=1){var Ne=Fe[Ce],nt=[Ne.x+I[0],Ne.y+I[1]];an(d,nt),me.push(nt)}V.push(me)}if(d[2]-d[0]<=S/2){yO(d);for(var He=0,$e=V;He<$e.length;He+=1)for(var on=$e[He],Ot=0,Dn=on;Ot<Dn.length;Ot+=1){var nn=Dn[Ot];Pb(nn,d,p,S)}}return V}function _O(f,d){var p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],S=f.canonicalID();if(d.type==="Polygon"){var I=pg(d.coordinates,v,S),V=Db(f.geometry(),p,v,S);if(!zl(p,v))return!1;for(var ee=0,fe=V;ee<fe.length;ee+=1){var le=fe[ee];if(!fg(le,I))return!1}}if(d.type==="MultiPolygon"){var me=Ob(d.coordinates,v,S),Ce=Db(f.geometry(),p,v,S);if(!zl(p,v))return!1;for(var Fe=0,Ne=Ce;Fe<Ne.length;Fe+=1){var nt=Ne[Fe];if(!hO(nt,me))return!1}}return!0}function vO(f,d){var p=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],S=f.canonicalID();if(d.type==="Polygon"){var I=pg(d.coordinates,v,S),V=Lb(f.geometry(),p,v,S);if(!zl(p,v))return!1;for(var ee=0,fe=V;ee<fe.length;ee+=1){var le=fe[ee];if(!Mb(le,I))return!1}}if(d.type==="MultiPolygon"){var me=Ob(d.coordinates,v,S),Ce=Lb(f.geometry(),p,v,S);if(!zl(p,v))return!1;for(var Fe=0,Ne=Ce;Fe<Ne.length;Fe+=1){var nt=Ne[Fe];if(!gO(nt,me))return!1}}return!0}var As=function(d,p){this.type=re,this.geojson=d,this.geometries=p};As.parse=function(d,p){if(d.length!==2)return p.error("'within' expression requires exactly one argument, but found "+(d.length-1)+" instead.");if(ce(d[1])){var v=d[1];if(v.type==="FeatureCollection")for(var S=0;S<v.features.length;++S){var I=v.features[S].geometry.type;if(I==="Polygon"||I==="MultiPolygon")return new As(v,v.features[S].geometry)}else if(v.type==="Feature"){var V=v.geometry.type;if(V==="Polygon"||V==="MultiPolygon")return new As(v,v.geometry)}else if(v.type==="Polygon"||v.type==="MultiPolygon")return new As(v,v)}return p.error("'within' expression requires valid geojson object that contains polygon geometry type.")},As.prototype.evaluate=function(d){if(d.geometry()!=null&&d.canonicalID()!=null){if(d.geometryType()==="Point")return _O(d,this.geometries);if(d.geometryType()==="LineString")return vO(d,this.geometries)}return!1},As.prototype.eachChild=function(){},As.prototype.outputDefined=function(){return!0},As.prototype.serialize=function(){return["within",this.geojson]};const mg=As;function Oh(f){if(f instanceof Xn){if(f.name==="get"&&f.args.length===1)return!1;if(f.name==="feature-state")return!1;if(f.name==="has"&&f.args.length===1)return!1;if(f.name==="properties"||f.name==="geometry-type"||f.name==="id")return!1;if(/^filter-/.test(f.name))return!1}if(f instanceof mg)return!1;var d=!0;return f.eachChild(function(p){d&&!Oh(p)&&(d=!1)}),d}function gg(f){if(f instanceof Xn&&f.name==="feature-state")return!1;var d=!0;return f.eachChild(function(p){d&&!gg(p)&&(d=!1)}),d}function yg(f,d){if(f instanceof Xn&&d.indexOf(f.name)>=0)return!1;var p=!0;return f.eachChild(function(v){p&&!yg(v,d)&&(p=!1)}),p}var So=function(d,p){this.type=p.type,this.name=d,this.boundExpression=p};So.parse=function(d,p){if(d.length!==2||typeof d[1]!="string")return p.error("'var' expression requires exactly one string literal argument.");var v=d[1];return p.scope.has(v)?new So(v,p.scope.get(v)):p.error('Unknown variable "'+v+'". Make sure "'+v+'" has been bound in an enclosing "let" expression before using it.',1)},So.prototype.evaluate=function(d){return this.boundExpression.evaluate(d)},So.prototype.eachChild=function(){},So.prototype.outputDefined=function(){return!1},So.prototype.serialize=function(){return["var",this.name]};const Fb=So;var ko=function(d,p,v,S,I){p===void 0&&(p=[]),S===void 0&&(S=new xe),I===void 0&&(I=[]),this.registry=d,this.path=p,this.key=p.map(function(V){return"["+V+"]"}).join(""),this.scope=S,this.errors=I,this.expectedType=v};ko.prototype.parse=function(d,p,v,S,I){return I===void 0&&(I={}),p?this.concat(p,v,S)._parse(d,I):this._parse(d,I)},ko.prototype._parse=function(d,p){(d===null||typeof d=="string"||typeof d=="boolean"||typeof d=="number")&&(d=["literal",d]);function v(me,Ce,Fe){return Fe==="assert"?new Wt(Ce,[me]):Fe==="coerce"?new dn(Ce,[me]):me}if(Array.isArray(d)){if(d.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var S=d[0];if(typeof S!="string")return this.error("Expression name must be a string, but found "+typeof S+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var I=this.registry[S];if(I){var V=I.parse(d,this);if(!V)return null;if(this.expectedType){var ee=this.expectedType,fe=V.type;if((ee.kind==="string"||ee.kind==="number"||ee.kind==="boolean"||ee.kind==="object"||ee.kind==="array")&&fe.kind==="value")V=v(V,ee,p.typeAnnotation||"assert");else if((ee.kind==="color"||ee.kind==="formatted"||ee.kind==="resolvedImage")&&(fe.kind==="value"||fe.kind==="string"))V=v(V,ee,p.typeAnnotation||"coerce");else if(this.checkSubtype(ee,fe))return null}if(!(V instanceof tn)&&V.type.kind!=="resolvedImage"&&_g(V)){var le=new Pn;try{V=new tn(V.type,V.evaluate(le))}catch(me){return this.error(me.message),null}}return V}return this.error('Unknown expression "'+S+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof d>"u"?this.error("'undefined' value invalid. Use null instead."):typeof d=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof d+" instead.")},ko.prototype.concat=function(d,p,v){var S=typeof d=="number"?this.path.concat(d):this.path,I=v?this.scope.concat(v):this.scope;return new ko(this.registry,S,p||null,I,this.errors)},ko.prototype.error=function(d){for(var p=[],v=arguments.length-1;v-- >0;)p[v]=arguments[v+1];var S=""+this.key+p.map(function(I){return"["+I+"]"}).join("");this.errors.push(new _e(S,d))},ko.prototype.checkSubtype=function(d,p){var v=J(d,p);return v&&this.error(v),v};const Nb=ko;function _g(f){if(f instanceof Fb)return _g(f.boundExpression);if(f instanceof Xn&&f.name==="error")return!1;if(f instanceof Sr)return!1;if(f instanceof mg)return!1;var d=f instanceof dn||f instanceof Wt,p=!0;return f.eachChild(function(v){d?p=p&&_g(v):p=p&&v instanceof tn}),p?Oh(f)&&yg(f,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function $b(f,d){for(var p=f.length-1,v=0,S=p,I=0,V,ee;v<=S;)if(I=Math.floor((v+S)/2),V=f[I],ee=f[I+1],V<=d){if(I===p||d<ee)return I;v=I+1}else if(V>d)S=I-1;else throw new Yt("Input is not a number.");return 0}var Ro=function(d,p,v){this.type=d,this.input=p,this.labels=[],this.outputs=[];for(var S=0,I=v;S<I.length;S+=1){var V=I[S],ee=V[0],fe=V[1];this.labels.push(ee),this.outputs.push(fe)}};Ro.parse=function(d,p){if(d.length-1<4)return p.error("Expected at least 4 arguments, but found only "+(d.length-1)+".");if((d.length-1)%2!==0)return p.error("Expected an even number of arguments.");var v=p.parse(d[1],1,Z);if(!v)return null;var S=[],I=null;p.expectedType&&p.expectedType.kind!=="value"&&(I=p.expectedType);for(var V=1;V<d.length;V+=2){var ee=V===1?-1/0:d[V],fe=d[V+1],le=V,me=V+1;if(typeof ee!="number")return p.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',le);if(S.length&&S[S.length-1][0]>=ee)return p.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',le);var Ce=p.parse(fe,me,I);if(!Ce)return null;I=I||Ce.type,S.push([ee,Ce])}return new Ro(I,v,S)},Ro.prototype.evaluate=function(d){var p=this.labels,v=this.outputs;if(p.length===1)return v[0].evaluate(d);var S=this.input.evaluate(d);if(S<=p[0])return v[0].evaluate(d);var I=p.length;if(S>=p[I-1])return v[I-1].evaluate(d);var V=$b(p,S);return v[V].evaluate(d)},Ro.prototype.eachChild=function(d){d(this.input);for(var p=0,v=this.outputs;p<v.length;p+=1){var S=v[p];d(S)}},Ro.prototype.outputDefined=function(){return this.outputs.every(function(d){return d.outputDefined()})},Ro.prototype.serialize=function(){for(var d=["step",this.input.serialize()],p=0;p<this.labels.length;p++)p>0&&d.push(this.labels[p]),d.push(this.outputs[p].serialize());return d};const jb=Ro;var bO=St(946);function dr(f,d,p){return f*(1-p)+d*p}function wO(f,d,p){return new x(dr(f.r,d.r,p),dr(f.g,d.g,p),dr(f.b,d.b,p),dr(f.a,d.a,p))}function EO(f,d,p){return f.map(function(v,S){return dr(v,d[S],p)})}var Bb=.95047,Vb=1,Gb=1.08883,zb=4/29,Ul=6/29,Ub=3*Ul*Ul,TO=Ul*Ul*Ul,xO=Math.PI/180,CO=180/Math.PI;function vg(f){return f>TO?Math.pow(f,1/3):f/Ub+zb}function bg(f){return f>Ul?f*f*f:Ub*(f-zb)}function wg(f){return 255*(f<=.0031308?12.92*f:1.055*Math.pow(f,1/2.4)-.055)}function Eg(f){return f/=255,f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function Hb(f){var d=Eg(f.r),p=Eg(f.g),v=Eg(f.b),S=vg((.4124564*d+.3575761*p+.1804375*v)/Bb),I=vg((.2126729*d+.7151522*p+.072175*v)/Vb),V=vg((.0193339*d+.119192*p+.9503041*v)/Gb);return{l:116*I-16,a:500*(S-I),b:200*(I-V),alpha:f.a}}function Yb(f){var d=(f.l+16)/116,p=isNaN(f.a)?d:d+f.a/500,v=isNaN(f.b)?d:d-f.b/200;return d=Vb*bg(d),p=Bb*bg(p),v=Gb*bg(v),new x(wg(3.2404542*p-1.5371385*d-.4985314*v),wg(-.969266*p+1.8760108*d+.041556*v),wg(.0556434*p-.2040259*d+1.0572252*v),f.alpha)}function SO(f,d,p){return{l:dr(f.l,d.l,p),a:dr(f.a,d.a,p),b:dr(f.b,d.b,p),alpha:dr(f.alpha,d.alpha,p)}}function kO(f){var d=Hb(f),p=d.l,v=d.a,S=d.b,I=Math.atan2(S,v)*CO;return{h:I<0?I+360:I,c:Math.sqrt(v*v+S*S),l:p,alpha:f.a}}function RO(f){var d=f.h*xO,p=f.c,v=f.l;return Yb({l:v,a:Math.cos(d)*p,b:Math.sin(d)*p,alpha:f.alpha})}function IO(f,d,p){var v=d-f;return f+p*(v>180||v<-180?v-360*Math.round(v/360):v)}function AO(f,d,p){return{h:IO(f.h,d.h,p),c:dr(f.c,d.c,p),l:dr(f.l,d.l,p),alpha:dr(f.alpha,d.alpha,p)}}var Cc={forward:Hb,reverse:Yb,interpolate:SO},Sc={forward:kO,reverse:RO,interpolate:AO},Ms=function(d,p,v,S,I){this.type=d,this.operator=p,this.interpolation=v,this.input=S,this.labels=[],this.outputs=[];for(var V=0,ee=I;V<ee.length;V+=1){var fe=ee[V],le=fe[0],me=fe[1];this.labels.push(le),this.outputs.push(me)}};Ms.interpolationFactor=function(d,p,v,S){var I=0;if(d.name==="exponential")I=Tg(p,d.base,v,S);else if(d.name==="linear")I=Tg(p,1,v,S);else if(d.name==="cubic-bezier"){var V=d.controlPoints,ee=new bO(V[0],V[1],V[2],V[3]);I=ee.solve(Tg(p,1,v,S))}return I},Ms.parse=function(d,p){var v=d[0],S=d[1],I=d[2],V=d.slice(3);if(!Array.isArray(S)||S.length===0)return p.error("Expected an interpolation type expression.",1);if(S[0]==="linear")S={name:"linear"};else if(S[0]==="exponential"){var ee=S[1];if(typeof ee!="number")return p.error("Exponential interpolation requires a numeric base.",1,1);S={name:"exponential",base:ee}}else if(S[0]==="cubic-bezier"){var fe=S.slice(1);if(fe.length!==4||fe.some(function(on){return typeof on!="number"||on<0||on>1}))return p.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);S={name:"cubic-bezier",controlPoints:fe}}else return p.error("Unknown interpolation type "+String(S[0]),1,0);if(d.length-1<4)return p.error("Expected at least 4 arguments, but found only "+(d.length-1)+".");if((d.length-1)%2!==0)return p.error("Expected an even number of arguments.");if(I=p.parse(I,2,Z),!I)return null;var le=[],me=null;v==="interpolate-hcl"||v==="interpolate-lab"?me=Ee:p.expectedType&&p.expectedType.kind!=="value"&&(me=p.expectedType);for(var Ce=0;Ce<V.length;Ce+=2){var Fe=V[Ce],Ne=V[Ce+1],nt=Ce+3,He=Ce+4;if(typeof Fe!="number")return p.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',nt);if(le.length&&le[le.length-1][0]>=Fe)return p.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',nt);var $e=p.parse(Ne,He,me);if(!$e)return null;me=me||$e.type,le.push([Fe,$e])}return me.kind!=="number"&&me.kind!=="color"&&!(me.kind==="array"&&me.itemType.kind==="number"&&typeof me.N=="number")?p.error("Type "+M(me)+" is not interpolatable."):new Ms(me,v,S,I,le)},Ms.prototype.evaluate=function(d){var p=this.labels,v=this.outputs;if(p.length===1)return v[0].evaluate(d);var S=this.input.evaluate(d);if(S<=p[0])return v[0].evaluate(d);var I=p.length;if(S>=p[I-1])return v[I-1].evaluate(d);var V=$b(p,S),ee=p[V],fe=p[V+1],le=Ms.interpolationFactor(this.interpolation,S,ee,fe),me=v[V].evaluate(d),Ce=v[V+1].evaluate(d);return this.operator==="interpolate"?t[this.type.kind.toLowerCase()](me,Ce,le):this.operator==="interpolate-hcl"?Sc.reverse(Sc.interpolate(Sc.forward(me),Sc.forward(Ce),le)):Cc.reverse(Cc.interpolate(Cc.forward(me),Cc.forward(Ce),le))},Ms.prototype.eachChild=function(d){d(this.input);for(var p=0,v=this.outputs;p<v.length;p+=1){var S=v[p];d(S)}},Ms.prototype.outputDefined=function(){return this.outputs.every(function(d){return d.outputDefined()})},Ms.prototype.serialize=function(){var d;this.interpolation.name==="linear"?d=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?d=["linear"]:d=["exponential",this.interpolation.base]:d=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var p=[this.operator,d,this.input.serialize()],v=0;v<this.labels.length;v++)p.push(this.labels[v],this.outputs[v].serialize());return p};function Tg(f,d,p,v){var S=v-p,I=f-p;return S===0?0:d===1?I/S:(Math.pow(d,I)-1)/(Math.pow(d,S)-1)}const Io=Ms;var pa=function(d,p){this.type=d,this.args=p};pa.parse=function(d,p){if(d.length<2)return p.error("Expectected at least one argument.");var v=null,S=p.expectedType;S&&S.kind!=="value"&&(v=S);for(var I=[],V=0,ee=d.slice(1);V<ee.length;V+=1){var fe=ee[V],le=p.parse(fe,1+I.length,v,void 0,{typeAnnotation:"omit"});if(!le)return null;v=v||le.type,I.push(le)}_(v);var me=S&&I.some(function(Ce){return J(S,Ce.type)});return me?new pa(ye,I):new pa(v,I)},pa.prototype.evaluate=function(d){for(var p=null,v=0,S,I=0,V=this.args;I<V.length;I+=1){var ee=V[I];if(v++,p=ee.evaluate(d),p&&p instanceof we&&!p.available&&(S||(S=p),p=null,v===this.args.length))return S;if(p!==null)break}return p},pa.prototype.eachChild=function(d){this.args.forEach(d)},pa.prototype.outputDefined=function(){return this.args.every(function(d){return d.outputDefined()})},pa.prototype.serialize=function(){var d=["coalesce"];return this.eachChild(function(p){d.push(p.serialize())}),d};const Wb=pa;var Ao=function(d,p){this.type=p.type,this.bindings=[].concat(d),this.result=p};Ao.prototype.evaluate=function(d){return this.result.evaluate(d)},Ao.prototype.eachChild=function(d){for(var p=0,v=this.bindings;p<v.length;p+=1){var S=v[p];d(S[1])}d(this.result)},Ao.parse=function(d,p){if(d.length<4)return p.error("Expected at least 3 arguments, but found "+(d.length-1)+" instead.");for(var v=[],S=1;S<d.length-1;S+=2){var I=d[S];if(typeof I!="string")return p.error("Expected string, but found "+typeof I+" instead.",S);if(/[^a-zA-Z0-9_]/.test(I))return p.error("Variable names must contain only alphanumeric characters or '_'.",S);var V=p.parse(d[S+1],S+1);if(!V)return null;v.push([I,V])}var ee=p.parse(d[d.length-1],d.length-1,p.expectedType,v);return ee?new Ao(v,ee):null},Ao.prototype.outputDefined=function(){return this.result.outputDefined()},Ao.prototype.serialize=function(){for(var d=["let"],p=0,v=this.bindings;p<v.length;p+=1){var S=v[p],I=S[0],V=S[1];d.push(I,V.serialize())}return d.push(this.result.serialize()),d};const Kb=Ao;var Mo=function(d,p,v){this.type=d,this.index=p,this.input=v};Mo.parse=function(d,p){if(d.length!==3)return p.error("Expected 2 arguments, but found "+(d.length-1)+" instead.");var v=p.parse(d[1],1,Z),S=p.parse(d[2],2,D(p.expectedType||ye));if(!v||!S)return null;var I=S.type;return new Mo(I.itemType,v,S)},Mo.prototype.evaluate=function(d){var p=this.index.evaluate(d),v=this.input.evaluate(d);if(p<0)throw new Yt("Array index out of bounds: "+p+" < 0.");if(p>=v.length)throw new Yt("Array index out of bounds: "+p+" > "+(v.length-1)+".");if(p!==Math.floor(p))throw new Yt("Array index must be an integer, but found "+p+" instead.");return v[p]},Mo.prototype.eachChild=function(d){d(this.index),d(this.input)},Mo.prototype.outputDefined=function(){return!1},Mo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};const MO=Mo;var Oo=function(d,p){this.type=re,this.needle=d,this.haystack=p};Oo.parse=function(d,p){if(d.length!==3)return p.error("Expected 2 arguments, but found "+(d.length-1)+" instead.");var v=p.parse(d[1],1,ye),S=p.parse(d[2],2,ye);return!v||!S?null:he(v.type,[re,O,Z,K,ye])?new Oo(v,S):p.error("Expected first argument to be of type boolean, string, number or null, but found "+M(v.type)+" instead")},Oo.prototype.evaluate=function(d){var p=this.needle.evaluate(d),v=this.haystack.evaluate(d);if(!v)return!1;if(!Y(p,["boolean","string","number","null"]))throw new Yt("Expected first argument to be of type boolean, string, number or null, but found "+M(Le(p))+" instead.");if(!Y(v,["string","array"]))throw new Yt("Expected second argument to be of type array or string, but found "+M(Le(v))+" instead.");return v.indexOf(p)>=0},Oo.prototype.eachChild=function(d){d(this.needle),d(this.haystack)},Oo.prototype.outputDefined=function(){return!0},Oo.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};const OO=Oo;var ma=function(d,p,v){this.type=Z,this.needle=d,this.haystack=p,this.fromIndex=v};ma.parse=function(d,p){if(d.length<=2||d.length>=5)return p.error("Expected 3 or 4 arguments, but found "+(d.length-1)+" instead.");var v=p.parse(d[1],1,ye),S=p.parse(d[2],2,ye);if(!v||!S)return null;if(!he(v.type,[re,O,Z,K,ye]))return p.error("Expected first argument to be of type boolean, string, number or null, but found "+M(v.type)+" instead");if(d.length===4){var I=p.parse(d[3],3,Z);return I?new ma(v,S,I):null}else return new ma(v,S)},ma.prototype.evaluate=function(d){var p=this.needle.evaluate(d),v=this.haystack.evaluate(d);if(!Y(p,["boolean","string","number","null"]))throw new Yt("Expected first argument to be of type boolean, string, number or null, but found "+M(Le(p))+" instead.");if(!Y(v,["string","array"]))throw new Yt("Expected second argument to be of type array or string, but found "+M(Le(v))+" instead.");if(this.fromIndex){var S=this.fromIndex.evaluate(d);return v.indexOf(p,S)}return v.indexOf(p)},ma.prototype.eachChild=function(d){d(this.needle),d(this.haystack),this.fromIndex&&d(this.fromIndex)},ma.prototype.outputDefined=function(){return!1},ma.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var d=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),d]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};const PO=ma;var Po=function(d,p,v,S,I,V){this.inputType=d,this.type=p,this.input=v,this.cases=S,this.outputs=I,this.otherwise=V};Po.parse=function(d,p){if(d.length<5)return p.error("Expected at least 4 arguments, but found only "+(d.length-1)+".");if(d.length%2!==1)return p.error("Expected an even number of arguments.");var v,S;p.expectedType&&p.expectedType.kind!=="value"&&(S=p.expectedType);for(var I={},V=[],ee=2;ee<d.length-1;ee+=2){var fe=d[ee],le=d[ee+1];Array.isArray(fe)||(fe=[fe]);var me=p.concat(ee);if(fe.length===0)return me.error("Expected at least one branch label.");for(var Ce=0,Fe=fe;Ce<Fe.length;Ce+=1){var Ne=Fe[Ce];if(typeof Ne!="number"&&typeof Ne!="string")return me.error("Branch labels must be numbers or strings.");if(typeof Ne=="number"&&Math.abs(Ne)>Number.MAX_SAFE_INTEGER)return me.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Ne=="number"&&Math.floor(Ne)!==Ne)return me.error("Numeric branch labels must be integer values.");if(!v)v=Le(Ne);else if(me.checkSubtype(v,Le(Ne)))return null;if(typeof I[String(Ne)]<"u")return me.error("Branch labels must be unique.");I[String(Ne)]=V.length}var nt=p.parse(le,ee,S);if(!nt)return null;S=S||nt.type,V.push(nt)}var He=p.parse(d[1],1,ye);if(!He)return null;var $e=p.parse(d[d.length-1],d.length-1,S);return!$e||(_(v&&S),He.type.kind!=="value"&&p.concat(1).checkSubtype(v,He.type))?null:new Po(v,S,He,I,V,$e)},Po.prototype.evaluate=function(d){var p=this.input.evaluate(d),v=Le(p)===this.inputType&&this.outputs[this.cases[p]]||this.otherwise;return v.evaluate(d)},Po.prototype.eachChild=function(d){d(this.input),this.outputs.forEach(d),d(this.otherwise)},Po.prototype.outputDefined=function(){return this.outputs.every(function(d){return d.outputDefined()})&&this.otherwise.outputDefined()},Po.prototype.serialize=function(){for(var d=this,p=["match",this.input.serialize()],v=Object.keys(this.cases).sort(),S=[],I={},V=0,ee=v;V<ee.length;V+=1){var fe=ee[V],le=I[this.cases[fe]];le===void 0?(I[this.cases[fe]]=S.length,S.push([this.cases[fe],[fe]])):S[le][1].push(fe)}for(var me=function(He){return d.inputType.kind==="number"?Number(He):He},Ce=0,Fe=S;Ce<Fe.length;Ce+=1){var Ne=Fe[Ce],le=Ne[0],nt=Ne[1];nt.length===1?p.push(me(nt[0])):p.push(nt.map(me)),p.push(this.outputs[outputIndex$1].serialize())}return p.push(this.otherwise.serialize()),p};const DO=Po;var Do=function(d,p,v){this.type=d,this.branches=p,this.otherwise=v};Do.parse=function(d,p){if(d.length<4)return p.error("Expected at least 3 arguments, but found only "+(d.length-1)+".");if(d.length%2!==0)return p.error("Expected an odd number of arguments.");var v;p.expectedType&&p.expectedType.kind!=="value"&&(v=p.expectedType);for(var S=[],I=1;I<d.length-1;I+=2){var V=p.parse(d[I],I,re);if(!V)return null;var ee=p.parse(d[I+1],I+1,v);if(!ee)return null;S.push([V,ee]),v=v||ee.type}var fe=p.parse(d[d.length-1],d.length-1,v);return fe?(_(v),new Do(v,S,fe)):null},Do.prototype.evaluate=function(d){for(var p=0,v=this.branches;p<v.length;p+=1){var S=v[p],I=S[0],V=S[1];if(I.evaluate(d))return V.evaluate(d)}return this.otherwise.evaluate(d)},Do.prototype.eachChild=function(d){for(var p=0,v=this.branches;p<v.length;p+=1){var S=v[p],I=S[0],V=S[1];d(I),d(V)}d(this.otherwise)},Do.prototype.outputDefined=function(){return this.branches.every(function(d){d[0];var p=d[1];return p.outputDefined()})&&this.otherwise.outputDefined()},Do.prototype.serialize=function(){var d=["case"];return this.eachChild(function(p){d.push(p.serialize())}),d};const LO=Do;var ga=function(d,p,v,S){this.type=d,this.input=p,this.beginIndex=v,this.endIndex=S};ga.parse=function(d,p){if(d.length<=2||d.length>=5)return p.error("Expected 3 or 4 arguments, but found "+(d.length-1)+" instead.");var v=p.parse(d[1],1,ye),S=p.parse(d[2],2,Z);if(!v||!S)return null;if(!he(v.type,[D(ye),O,ye]))return p.error("Expected first argument to be of type array or string, but found "+M(v.type)+" instead");if(d.length===4){var I=p.parse(d[3],3,Z);return I?new ga(v.type,v,S,I):null}else return new ga(v.type,v,S)},ga.prototype.evaluate=function(d){var p=this.input.evaluate(d),v=this.beginIndex.evaluate(d);if(!Y(p,["string","array"]))throw new Yt("Expected first argument to be of type array or string, but found "+M(Le(p))+" instead.");if(this.endIndex){var S=this.endIndex.evaluate(d);return p.slice(v,S)}return p.slice(v)},ga.prototype.eachChild=function(d){d(this.input),d(this.beginIndex),this.endIndex&&d(this.endIndex)},ga.prototype.outputDefined=function(){return!1},ga.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var d=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),d]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};const FO=ga;function qb(f,d){return f==="=="||f==="!="?d.kind==="boolean"||d.kind==="string"||d.kind==="number"||d.kind==="null"||d.kind==="value":d.kind==="string"||d.kind==="number"||d.kind==="value"}function NO(f,d,p){return d===p}function $O(f,d,p){return d!==p}function jO(f,d,p){return d<p}function BO(f,d,p){return d>p}function VO(f,d,p){return d<=p}function GO(f,d,p){return d>=p}function Xb(f,d,p,v){return v.compare(d,p)===0}function zO(f,d,p,v){return!Xb(f,d,p,v)}function UO(f,d,p,v){return v.compare(d,p)<0}function HO(f,d,p,v){return v.compare(d,p)>0}function YO(f,d,p,v){return v.compare(d,p)<=0}function WO(f,d,p,v){return v.compare(d,p)>=0}function Hl(f,d,p){var v=f!=="=="&&f!=="!=";return function(){function S(I,V,ee){this.type=re,this.lhs=I,this.rhs=V,this.collator=ee,this.hasUntypedArgument=I.type.kind==="value"||V.type.kind==="value"}return S.parse=function(V,ee){if(V.length!==3&&V.length!==4)return ee.error("Expected two or three arguments.");var fe=V[0],le=ee.parse(V[1],1,ye);if(!le)return null;if(!qb(fe,le.type))return ee.concat(1).error('"'+fe+`" comparisons are not supported for type '`+M(le.type)+"'.");var me=ee.parse(V[2],2,ye);if(!me)return null;if(!qb(fe,me.type))return ee.concat(2).error('"'+fe+`" comparisons are not supported for type '`+M(me.type)+"'.");if(le.type.kind!==me.type.kind&&le.type.kind!=="value"&&me.type.kind!=="value")return ee.error("Cannot compare types '"+M(le.type)+"' and '"+M(me.type)+"'.");v&&(le.type.kind==="value"&&me.type.kind!=="value"?le=new Wt(me.type,[le]):le.type.kind!=="value"&&me.type.kind==="value"&&(me=new Wt(le.type,[me])));var Ce=null;if(V.length===4){if(le.type.kind!=="string"&&me.type.kind!=="string"&&le.type.kind!=="value"&&me.type.kind!=="value")return ee.error("Cannot use collator to compare non-string types.");if(Ce=ee.parse(V[3],3,de),!Ce)return null}return new S(le,me,Ce)},S.prototype.evaluate=function(V){var ee=this.lhs.evaluate(V),fe=this.rhs.evaluate(V);if(v&&this.hasUntypedArgument){var le=Le(ee),me=Le(fe);if(le.kind!==me.kind||!(le.kind==="string"||le.kind==="number"))throw new Yt('Expected arguments for "'+f+'" to be (string, string) or (number, number), but found ('+le.kind+", "+me.kind+") instead.")}if(this.collator&&!v&&this.hasUntypedArgument){var Ce=Le(ee),Fe=Le(fe);if(Ce.kind!=="string"||Fe.kind!=="string")return d(V,ee,fe)}return this.collator?p(V,ee,fe,this.collator.evaluate(V)):d(V,ee,fe)},S.prototype.eachChild=function(V){V(this.lhs),V(this.rhs),this.collator&&V(this.collator)},S.prototype.outputDefined=function(){return!0},S.prototype.serialize=function(){var V=[f];return this.eachChild(function(ee){V.push(ee.serialize())}),V},S}()}var KO=Hl("==",NO,Xb),qO=Hl("!=",$O,zO),XO=Hl("<",jO,UO),ZO=Hl(">",BO,HO),JO=Hl("<=",VO,YO),QO=Hl(">=",GO,WO),Lo=function(d,p,v,S,I){this.type=O,this.number=d,this.locale=p,this.currency=v,this.minFractionDigits=S,this.maxFractionDigits=I};Lo.parse=function(d,p){if(d.length!==3)return p.error("Expected two arguments.");var v=p.parse(d[1],1,Z);if(!v)return null;var S=d[2];if(typeof S!="object"||Array.isArray(S))return p.error("NumberFormat options argument must be an object.");var I=null;if(S.locale&&(I=p.parse(S.locale,1,O),!I))return null;var V=null;if(S.currency&&(V=p.parse(S.currency,1,O),!V))return null;var ee=null;if(S["min-fraction-digits"]&&(ee=p.parse(S["min-fraction-digits"],1,Z),!ee))return null;var fe=null;return S["max-fraction-digits"]&&(fe=p.parse(S["max-fraction-digits"],1,Z),!fe)?null:new Lo(v,I,V,ee,fe)},Lo.prototype.evaluate=function(d){return new Intl.NumberFormat(this.locale?this.locale.evaluate(d):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(d):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(d):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(d):void 0}).format(this.number.evaluate(d))},Lo.prototype.eachChild=function(d){d(this.number),this.locale&&d(this.locale),this.currency&&d(this.currency),this.minFractionDigits&&d(this.minFractionDigits),this.maxFractionDigits&&d(this.maxFractionDigits)},Lo.prototype.outputDefined=function(){return!1},Lo.prototype.serialize=function(){var d={};return this.locale&&(d.locale=this.locale.serialize()),this.currency&&(d.currency=this.currency.serialize()),this.minFractionDigits&&(d["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(d["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),d]};const eP=Lo;var Fo=function(d){this.type=Z,this.input=d};Fo.parse=function(d,p){if(d.length!==2)return p.error("Expected 1 argument, but found "+(d.length-1)+" instead.");var v=p.parse(d[1],1);return v?v.type.kind!=="array"&&v.type.kind!=="string"&&v.type.kind!=="value"?p.error("Expected argument of type string or array, but found "+M(v.type)+" instead."):new Fo(v):null},Fo.prototype.evaluate=function(d){var p=this.input.evaluate(d);if(typeof p=="string")return p.length;if(Array.isArray(p))return p.length;throw new Yt("Expected value to be of type string or array, but found "+M(Le(p))+" instead.")},Fo.prototype.eachChild=function(d){d(this.input)},Fo.prototype.outputDefined=function(){return!1},Fo.prototype.serialize=function(){var d=["length"];return this.eachChild(function(p){d.push(p.serialize())}),d};var Zb={"==":KO,"!=":qO,">":ZO,"<":XO,">=":QO,"<=":JO,array:Wt,at:MO,boolean:Wt,case:LO,coalesce:Wb,collator:Sr,format:Oe,image:Pe,in:OO,"index-of":PO,interpolate:Io,"interpolate-hcl":Io,"interpolate-lab":Io,length:Fo,let:Kb,literal:tn,match:DO,number:Wt,"number-format":eP,object:Wt,slice:FO,step:jb,string:Wt,"to-boolean":dn,"to-color":dn,"to-number":dn,"to-string":dn,var:Fb,within:mg};function Jb(f,d){var p=d[0],v=d[1],S=d[2],I=d[3];p=p.evaluate(f),v=v.evaluate(f),S=S.evaluate(f);var V=I?I.evaluate(f):1,ee=ae(p,v,S,V);if(ee)throw new Yt(ee);return new x(p/255*V,v/255*V,S/255*V,V)}function Qb(f,d){return f in d}function xg(f,d){var p=d[f];return typeof p>"u"?null:p}function tP(f,d,p,v){for(;p<=v;){var S=p+v>>1;if(d[S]===f)return!0;d[S]>f?v=S-1:p=S+1}return!1}function No(f){return{type:f}}Xn.register(Zb,{error:[Xe,[O],function(f,d){var p=d[0];throw new Yt(p.evaluate(f))}],typeof:[O,[ye],function(f,d){var p=d[0];return M(Le(p.evaluate(f)))}],"to-rgba":[D(Z,4),[Ee],function(f,d){var p=d[0];return p.evaluate(f).toArray()}],rgb:[Ee,[Z,Z,Z],Jb],rgba:[Ee,[Z,Z,Z,Z],Jb],has:{type:re,overloads:[[[O],function(f,d){var p=d[0];return Qb(p.evaluate(f),f.properties())}],[[O,q],function(f,d){var p=d[0],v=d[1];return Qb(p.evaluate(f),v.evaluate(f))}]]},get:{type:ye,overloads:[[[O],function(f,d){var p=d[0];return xg(p.evaluate(f),f.properties())}],[[O,q],function(f,d){var p=d[0],v=d[1];return xg(p.evaluate(f),v.evaluate(f))}]]},"feature-state":[ye,[O],function(f,d){var p=d[0];return xg(p.evaluate(f),f.featureState||{})}],properties:[q,[],function(f){return f.properties()}],"geometry-type":[O,[],function(f){return f.geometryType()}],id:[ye,[],function(f){return f.id()}],zoom:[Z,[],function(f){return f.globals.zoom}],pitch:[Z,[],function(f){return f.globals.pitch||0}],"distance-from-center":[Z,[],function(f){return f.distanceFromCenter()}],"heatmap-density":[Z,[],function(f){return f.globals.heatmapDensity||0}],"line-progress":[Z,[],function(f){return f.globals.lineProgress||0}],"sky-radial-progress":[Z,[],function(f){return f.globals.skyRadialProgress||0}],accumulated:[ye,[],function(f){return f.globals.accumulated===void 0?null:f.globals.accumulated}],"+":[Z,No(Z),function(f,d){for(var p=0,v=0,S=d;v<S.length;v+=1){var I=S[v];p+=I.evaluate(f)}return p}],"*":[Z,No(Z),function(f,d){for(var p=1,v=0,S=d;v<S.length;v+=1){var I=S[v];p*=I.evaluate(f)}return p}],"-":{type:Z,overloads:[[[Z,Z],function(f,d){var p=d[0],v=d[1];return p.evaluate(f)-v.evaluate(f)}],[[Z],function(f,d){var p=d[0];return-p.evaluate(f)}]]},"/":[Z,[Z,Z],function(f,d){var p=d[0],v=d[1];return p.evaluate(f)/v.evaluate(f)}],"%":[Z,[Z,Z],function(f,d){var p=d[0],v=d[1];return p.evaluate(f)%v.evaluate(f)}],ln2:[Z,[],function(){return Math.LN2}],pi:[Z,[],function(){return Math.PI}],e:[Z,[],function(){return Math.E}],"^":[Z,[Z,Z],function(f,d){var p=d[0],v=d[1];return Math.pow(p.evaluate(f),v.evaluate(f))}],sqrt:[Z,[Z],function(f,d){var p=d[0];return Math.sqrt(p.evaluate(f))}],log10:[Z,[Z],function(f,d){var p=d[0];return Math.log(p.evaluate(f))/Math.LN10}],ln:[Z,[Z],function(f,d){var p=d[0];return Math.log(p.evaluate(f))}],log2:[Z,[Z],function(f,d){var p=d[0];return Math.log(p.evaluate(f))/Math.LN2}],sin:[Z,[Z],function(f,d){var p=d[0];return Math.sin(p.evaluate(f))}],cos:[Z,[Z],function(f,d){var p=d[0];return Math.cos(p.evaluate(f))}],tan:[Z,[Z],function(f,d){var p=d[0];return Math.tan(p.evaluate(f))}],asin:[Z,[Z],function(f,d){var p=d[0];return Math.asin(p.evaluate(f))}],acos:[Z,[Z],function(f,d){var p=d[0];return Math.acos(p.evaluate(f))}],atan:[Z,[Z],function(f,d){var p=d[0];return Math.atan(p.evaluate(f))}],min:[Z,No(Z),function(f,d){return Math.min.apply(Math,d.map(function(p){return p.evaluate(f)}))}],max:[Z,No(Z),function(f,d){return Math.max.apply(Math,d.map(function(p){return p.evaluate(f)}))}],abs:[Z,[Z],function(f,d){var p=d[0];return Math.abs(p.evaluate(f))}],round:[Z,[Z],function(f,d){var p=d[0],v=p.evaluate(f);return v<0?-Math.round(-v):Math.round(v)}],floor:[Z,[Z],function(f,d){var p=d[0];return Math.floor(p.evaluate(f))}],ceil:[Z,[Z],function(f,d){var p=d[0];return Math.ceil(p.evaluate(f))}],"filter-==":[re,[O,ye],function(f,d){var p=d[0],v=d[1];return f.properties()[p.value]===v.value}],"filter-id-==":[re,[ye],function(f,d){var p=d[0];return f.id()===p.value}],"filter-type-==":[re,[O],function(f,d){var p=d[0];return f.geometryType()===p.value}],"filter-<":[re,[O,ye],function(f,d){var p=d[0],v=d[1],S=f.properties()[p.value],I=v.value;return typeof S==typeof I&&S<I}],"filter-id-<":[re,[ye],function(f,d){var p=d[0],v=f.id(),S=p.value;return typeof v==typeof S&&v<S}],"filter->":[re,[O,ye],function(f,d){var p=d[0],v=d[1],S=f.properties()[p.value],I=v.value;return typeof S==typeof I&&S>I}],"filter-id->":[re,[ye],function(f,d){var p=d[0],v=f.id(),S=p.value;return typeof v==typeof S&&v>S}],"filter-<=":[re,[O,ye],function(f,d){var p=d[0],v=d[1],S=f.properties()[p.value],I=v.value;return typeof S==typeof I&&S<=I}],"filter-id-<=":[re,[ye],function(f,d){var p=d[0],v=f.id(),S=p.value;return typeof v==typeof S&&v<=S}],"filter->=":[re,[O,ye],function(f,d){var p=d[0],v=d[1],S=f.properties()[p.value],I=v.value;return typeof S==typeof I&&S>=I}],"filter-id->=":[re,[ye],function(f,d){var p=d[0],v=f.id(),S=p.value;return typeof v==typeof S&&v>=S}],"filter-has":[re,[ye],function(f,d){var p=d[0];return p.value in f.properties()}],"filter-has-id":[re,[],function(f){return f.id()!==null&&f.id()!==void 0}],"filter-type-in":[re,[D(O)],function(f,d){var p=d[0];return p.value.indexOf(f.geometryType())>=0}],"filter-id-in":[re,[D(ye)],function(f,d){var p=d[0];return p.value.indexOf(f.id())>=0}],"filter-in-small":[re,[O,D(ye)],function(f,d){var p=d[0],v=d[1];return v.value.indexOf(f.properties()[p.value])>=0}],"filter-in-large":[re,[O,D(ye)],function(f,d){var p=d[0],v=d[1];return tP(f.properties()[p.value],v.value,0,v.value.length-1)}],all:{type:re,overloads:[[[re,re],function(f,d){var p=d[0],v=d[1];return p.evaluate(f)&&v.evaluate(f)}],[No(re),function(f,d){for(var p=0,v=d;p<v.length;p+=1){var S=v[p];if(!S.evaluate(f))return!1}return!0}]]},any:{type:re,overloads:[[[re,re],function(f,d){var p=d[0],v=d[1];return p.evaluate(f)||v.evaluate(f)}],[No(re),function(f,d){for(var p=0,v=d;p<v.length;p+=1){var S=v[p];if(S.evaluate(f))return!0}return!1}]]},"!":[re,[re],function(f,d){var p=d[0];return!p.evaluate(f)}],"is-supported-script":[re,[O],function(f,d){var p=d[0],v=f.globals&&f.globals.isSupportedScript;return v?v(p.evaluate(f)):!0}],upcase:[O,[O],function(f,d){var p=d[0];return p.evaluate(f).toUpperCase()}],downcase:[O,[O],function(f,d){var p=d[0];return p.evaluate(f).toLowerCase()}],concat:[O,No(ye),function(f,d){return d.map(function(p){return je(p.evaluate(f))}).join("")}],"resolved-locale":[O,[de],function(f,d){var p=d[0];return p.evaluate(f).resolvedLocale()}]});const ew=Zb;function Cg(f){return{result:"success",value:f}}function Yl(f){return{result:"error",value:f}}function nP(f){return f["property-type"]==="data-driven"||f["property-type"]==="cross-faded-data-driven"}function iP(f){return!!f.expression&&f.expression.parameters.indexOf("zoom")>-1}function rP(f){return!!f.expression&&f.expression.interpolated}function tw(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)}var Sg=function(d,p){this.expression=d,this._warningHistory={},this._evaluator=new Pn,this._defaultValue=p?lP(p):null,this._enumValues=p&&p.type==="enum"?p.values:null};Sg.prototype.evaluateWithoutErrorHandling=function(d,p,v,S,I,V,ee,fe){return this._evaluator.globals=d,this._evaluator.feature=p,this._evaluator.featureState=v,this._evaluator.canonical=S,this._evaluator.availableImages=I||null,this._evaluator.formattedSection=V,this._evaluator.featureTileCoord=ee||null,this._evaluator.featureDistanceData=fe||null,this.expression.evaluate(this._evaluator)},Sg.prototype.evaluate=function(d,p,v,S,I,V,ee,fe){this._evaluator.globals=d,this._evaluator.feature=p||null,this._evaluator.featureState=v||null,this._evaluator.canonical=S,this._evaluator.availableImages=I||null,this._evaluator.formattedSection=V||null,this._evaluator.featureTileCoord=ee||null,this._evaluator.featureDistanceData=fe||null;try{var le=this.expression.evaluate(this._evaluator);if(le==null||typeof le=="number"&&le!==le)return this._defaultValue;if(this._enumValues&&!(le in this._enumValues))throw new Yt("Expected value to be one of "+Object.keys(this._enumValues).map(function(me){return JSON.stringify(me)}).join(", ")+", but found "+JSON.stringify(le)+" instead.");return le}catch(me){return this._warningHistory[me.message]||(this._warningHistory[me.message]=!0,typeof console<"u"&&console.warn(me.message)),this._defaultValue}};function sP(f){return Array.isArray(f)&&f.length>0&&typeof f[0]=="string"&&f[0]in ew}function kg(f,d){var p=new Nb(ew,[],d?oP(d):void 0),v=p.parse(f,void 0,void 0,void 0,d&&d.type==="string"?{typeAnnotation:"coerce"}:void 0);return v?Cg(new Sg(v,d)):(_(p.errors.length>0),Yl(p.errors))}var Ph=function(d,p){this.kind=d,this._styleExpression=p,this.isStateDependent=d!=="constant"&&!gg(p.expression)};Ph.prototype.evaluateWithoutErrorHandling=function(d,p,v,S,I,V){return this._styleExpression.evaluateWithoutErrorHandling(d,p,v,S,I,V)},Ph.prototype.evaluate=function(d,p,v,S,I,V){return this._styleExpression.evaluate(d,p,v,S,I,V)};var kc=function(d,p,v,S){this.kind=d,this.zoomStops=v,this._styleExpression=p,this.isStateDependent=d!=="camera"&&!gg(p.expression),this.interpolationType=S};kc.prototype.evaluateWithoutErrorHandling=function(d,p,v,S,I,V){return this._styleExpression.evaluateWithoutErrorHandling(d,p,v,S,I,V)},kc.prototype.evaluate=function(d,p,v,S,I,V){return this._styleExpression.evaluate(d,p,v,S,I,V)},kc.prototype.interpolationFactor=function(d,p,v){return this.interpolationType?Io.interpolationFactor(this.interpolationType,d,p,v):0};function aP(f,d){if(f=kg(f,d),f.result==="error")return f;var p=f.value.expression,v=Oh(p);if(!v&&!nP(d))return Yl([new _e("","data expressions not supported")]);var S=yg(p,["zoom","pitch","distance-from-center"]);if(!S&&!iP(d))return Yl([new _e("","zoom expressions not supported")]);var I=Dh(p);if(!I&&!S)return Yl([new _e("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(I instanceof _e)return Yl([I]);if(I instanceof Io&&!rP(d))return Yl([new _e("",'"interpolate" expressions cannot be used with this property')]);if(!I)return Cg(v?new Ph("constant",f.value):new Ph("source",f.value));var V=I instanceof Io?I.interpolation:void 0;return Cg(v?new kc("camera",f.value,I.labels,V):new kc("composite",f.value,I.labels,V))}function Dh(f){var d=null;if(f instanceof Kb)d=Dh(f.result);else if(f instanceof Wb)for(var p=0,v=f.args;p<v.length;p+=1){var S=v[p];if(d=Dh(S),d)break}else(f instanceof jb||f instanceof Io)&&f.input instanceof Xn&&f.input.name==="zoom"&&(d=f);return d instanceof _e||f.eachChild(function(I){var V=Dh(I);V instanceof _e?d=V:!d&&V?d=new _e("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):d&&V&&d!==V&&(d=new _e("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),d}function oP(f){var d={color:Ee,string:O,number:Z,enum:O,boolean:re,formatted:Ke,resolvedImage:H};return f.type==="array"?D(d[f.value]||ye,f.length):d[f.type]}function lP(f){return f.type==="color"&&tw(f.default)?new x(0,0,0,0):f.type==="color"?x.parse(f.default)||null:f.default===void 0?null:f.default}function uP(f){return f instanceof Number||f instanceof String||f instanceof Boolean?f.valueOf():f}function Rg(f){if(Array.isArray(f))return f.map(Rg);if(f instanceof Object&&!(f instanceof Number||f instanceof String||f instanceof Boolean)){var d={};for(var p in f)d[p]=Rg(f[p]);return d}return uP(f)}var nw=St(954);const cP=nw,dP=hP;function iw(f){if(f===!0||f===!1)return!0;if(!Array.isArray(f)||f.length===0)return!1;switch(f[0]){case"has":return f.length>=2&&f[1]!=="$id"&&f[1]!=="$type";case"in":return f.length>=3&&(typeof f[1]!="string"||Array.isArray(f[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return f.length!==3||Array.isArray(f[1])||Array.isArray(f[2]);case"any":case"all":for(var d=0,p=f.slice(1);d<p.length;d+=1){var v=p[d];if(!iw(v)&&typeof v!="boolean")return!1}return!0;default:return!0}}function hP(f,d){if(d===void 0&&(d="fill"),f==null)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};iw(f)||(f=Lh(f));var p=f,v=!0;try{v=fP(p)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
`+JSON.stringify(p,null,2)+`
        `)}var S=cP["filter_"+d],I=kg(v,S),V=null;if(I.result==="error")throw new Error(I.value.map(function(Ce){return Ce.key+": "+Ce.message}).join(", "));V=function(Ce,Fe,Ne){return I.value.evaluate(Ce,Fe,{},Ne)};var ee=null,fe=null;if(v!==p){var le=kg(p,S);if(le.result==="error")throw new Error(le.value.map(function(Ce){return Ce.key+": "+Ce.message}).join(", "));ee=function(Ce,Fe,Ne,nt,He){return le.value.evaluate(Ce,Fe,{},Ne,void 0,void 0,nt,He)},fe=!Oh(le.value.expression)}V=V;var me=aw(v);return{filter:V,dynamicFilter:ee||void 0,needGeometry:me,needFeature:!!fe}}function fP(f){if(!Wl(f))return f;var d=Rg(f);return sw(d),d=rw(d),d}function rw(f){if(!Array.isArray(f))return f;var d=gP(f);return d===!0?d:d.map(function(p){return rw(p)})}function sw(f){var d=!1,p=[];if(f[0]==="case"){for(var v=1;v<f.length-1;v+=2)d=d||Wl(f[v]),p.push(f[v+1]);p.push(f[f.length-1])}else if(f[0]==="match"){d=d||Wl(f[1]);for(var S=2;S<f.length-1;S+=2)p.push(f[S+1]);p.push(f[f.length-1])}else if(f[0]==="step"){d=d||Wl(f[1]);for(var I=1;I<f.length-1;I+=2)p.push(f[I+1])}d&&(f.length=0,f.push.apply(f,["any"].concat(p)));for(var V=1;V<f.length;V++)sw(f[V])}function Wl(f){if(!Array.isArray(f))return!1;if(pP(f[0]))return!0;for(var d=1;d<f.length;d++){var p=f[d];if(Wl(p))return!0}return!1}function pP(f){return f==="pitch"||f==="distance-from-center"}var mP=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function gP(f){if(mP.has(f[0]))for(var d=1;d<f.length;d++){var p=f[d];if(Wl(p))return!0}return f}function yP(f,d){return f<d?-1:f>d?1:0}function aw(f){if(!Array.isArray(f))return!1;if(f[0]==="within")return!0;for(var d=1;d<f.length;d++)if(aw(f[d]))return!0;return!1}function Lh(f){if(!f)return!0;var d=f[0];if(f.length<=1)return d!=="any";var p=d==="=="?Ig(f[1],f[2],"=="):d==="!="?Fh(Ig(f[1],f[2],"==")):d==="<"||d===">"||d==="<="||d===">="?Ig(f[1],f[2],d):d==="any"?_P(f.slice(1)):d==="all"?["all"].concat(f.slice(1).map(Lh)):d==="none"?["all"].concat(f.slice(1).map(Lh).map(Fh)):d==="in"?ow(f[1],f.slice(2)):d==="!in"?Fh(ow(f[1],f.slice(2))):d==="has"?lw(f[1]):d==="!has"?Fh(lw(f[1])):d==="within"?f:!0;return p}function Ig(f,d,p){switch(f){case"$type":return["filter-type-"+p,d];case"$id":return["filter-id-"+p,d];default:return["filter-"+p,f,d]}}function _P(f){return["any"].concat(f.map(Lh))}function ow(f,d){if(d.length===0)return!1;switch(f){case"$type":return["filter-type-in",["literal",d]];case"$id":return["filter-id-in",["literal",d]];default:return d.length>200&&!d.some(function(p){return typeof p!=typeof d[0]})?["filter-in-large",f,["literal",d.sort(yP)]]:["filter-in-small",f,["literal",d]]}}function lw(f){switch(f){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",f]}}function Fh(f){return["!",f]}const vP=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function bP(f,d){var p={};for(var v in f)v!=="ref"&&(p[v]=f[v]);return vP.forEach(function(S){S in d&&(p[S]=d[S])}),p}const wP=EP;function EP(f){f=f.slice();for(var d=Object.create(null),p=0;p<f.length;p++)d[f[p].id]=f[p];for(var v=0;v<f.length;v++)"ref"in f[v]&&(f[v]=bP(f[v],d[f[v].ref]));return f}var Ag=St(523),TP=St(422),xP=f=>{var d={};return St.d(d,f),d};const $o=xP({assign:()=>{}});var uw="https://api.mapbox.com";function Mg(f){var d="mapbox://";return f.indexOf(d)!==0?"":f.slice(d.length)}function CP(f,d,p){var v=Mg(f);if(!v)return decodeURI(new URL(f,p).href);var S="sprites/";if(v.indexOf(S)!==0)throw new Error("unexpected sprites url: "+f);var I=v.slice(S.length);return uw+"/styles/v1/"+I+"/sprite?access_token="+d}function Og(f,d){var p=Mg(f);if(!p)return decodeURI(new URL(f,location.href).href);var v="styles/";if(p.indexOf(v)!==0)throw new Error("unexpected style url: "+f);var S=p.slice(v.length);return uw+"/styles/v1/"+S+"?&access_token="+d}function Nh(f,d,p,v){var S=new URL(f,v),I=Mg(f);return I?"https://{a-d}.tiles.mapbox.com/v4/"+I+"/{z}/{x}/{y}.vector.pbf?access_token="+d:(d&&S.searchParams.set(p,d),decodeURI(S.href))}function Pg(f){return f*Math.PI/180}var Kl=function(){for(var f=[],d=78271.51696402048;f.length<=24;d/=2)f.push(d);return f}();function cw(f,d){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(f,d);var p=document.createElement("canvas");return p.width=f,p.height=d,p}function SP(f,d){for(var p=0,v=d.length;p<v;++p){var S=d[p];if(S<f&&p+1<v){var I=d[p]/d[p+1];return p+Math.log(d[p]/f)/Math.log(I)}}return v-1}var Rc={};function $h(f,d,p){if(p===void 0&&(p={}),d in Rc)return Rc[d];var v=p.transformRequest?p.transformRequest(d,f)||new Request(d):new Request(d),S=fetch(v).then(function(I){return delete Rc[d],I.ok?I.json():Promise.reject(new Error("Error fetching source "+d))}).catch(function(I){return delete Rc[d],Promise.reject(new Error("Error fetching source "+d))});return Rc[d]=S,S}function Dg(f,d){if(typeof f=="string")if(f.trim().startsWith("{"))try{var p=JSON.parse(f);return Promise.resolve(p)}catch(v){return Promise.reject(v)}else return f=Og(f,d.accessToken),$h("Style",f,d);else return Promise.resolve(f)}var dw={};function hw(f,d,p){p===void 0&&(p={});var v=[d,JSON.stringify(f)].toString(),S=dw[v];if(!S||p.transformRequest){var I=f.url;if(I){var V=Nh(I,p.accessToken,p.accessTokenParam||"access_token",d||location.href);I.startsWith("mapbox://")?S=Promise.resolve((0,$o.assign)({},f,{url:void 0,tiles:V})):S=$h("Source",V,p).then(function(ee){for(var fe=0,le=ee.tiles.length;fe<le;++fe){var me=ee.tiles[fe],Ce=Nh(me,p.accessToken,p.accessTokenParam||"access_token",V||location.href);if(p.transformRequest){var Fe=p.transformRequest(Ce,"Tiles");Fe instanceof Request&&(Ce=decodeURI(Fe.url))}ee.tiles[fe]=Ce}return Promise.resolve(ee)})}else f=(0,$o.assign)({},f,{tiles:f.tiles.map(function(ee){return Nh(ee,p.accessToken,p.accessTokenParam||"access_token",d||location.href)})}),S=Promise.resolve((0,$o.assign)({},f));p.transformRequest||(dw[v]=S)}return S}var kP=Array(256).join(" ");function Lg(f,d){if(d>=.05){for(var p="",v=f.split(`
`),S=kP.slice(0,Math.round(d/.1)),I=0,V=v.length;I<V;++I)I>0&&(p+=`
`),p+=v[I].split("").join(S);return p}return f}var Fg;function fw(){return Fg||(Fg=cw(1,1).getContext("2d")),Fg}function jo(f,d){return fw().measureText(f).width+(f.length-1)*d}var pw={};function Ng(f,d,p,v){if(f.indexOf(`
`)!==-1){for(var S=f.split(`
`),I=[],V=0,ee=S.length;V<ee;++V)I.push(Ng(S[V],d,p,v));return I.join(`
`)}var fe=p+","+d+","+f+","+v,le=pw[fe];if(!le){var me=f.split(" ");if(me.length>1){var Ce=fw();Ce.font=d;for(var Fe=Ce.measureText("M").width,Ne=Fe*p,nt="",He=[],$e=0,on=me.length;$e<on;++$e){var Ot=me[$e],Dn=nt+(nt?" ":"")+Ot;jo(Dn,v)<=Ne?nt=Dn:(nt&&He.push(nt),nt=Ot)}nt&&He.push(nt);for(var nn=0,kt=He.length;nn<kt&&kt>1;++nn){var Zn=He[nn];if(jo(Zn,v)<Ne*.35){var Oi=nn>0?jo(He[nn-1],v):1/0,di=nn<kt-1?jo(He[nn+1],v):1/0;He.splice(nn,1),kt-=1,Oi<di?(He[nn-1]+=" "+Zn,nn-=1):He[nn]=Zn+" "+He[nn]}}for(var Ui=0,$r=He.length-1;Ui<$r;++Ui){var ls=He[Ui],_a=He[Ui+1];if(jo(ls,v)>Ne*.7&&jo(_a,v)<Ne*.6){var Ln=ls.split(" "),us=Ln.pop();jo(us,v)<Ne*.2&&(He[Ui]=Ln.join(" "),He[Ui+1]=us+" "+_a),$r-=1}}le=He.join(`
`)}else le=f;le=Lg(le,v),pw[fe]=le}return le}var RP=/font-family: ?([^;]*);/,IP=/("|')/g,jh;function AP(f){if(!jh){jh={};for(var d=document.styleSheets,p=0,v=d.length;p<v;++p){var S=d[p];try{var I=S.rules||S.cssRules;if(I)for(var V=0,ee=I.length;V<ee;++V){var fe=I[V];if(fe.type==5){var le=fe.cssText.match(RP);jh[le[1].replace(IP,"")]=!0}}}catch{}}}return f in jh}var mw={},MP=TP.getNames();function OP(f){var d=f.toString();if(d in mw)return f;for(var p=f.map(function(le){var me=Ag(le,1).split(" ");return[me.slice(3).join(" ").replace(/"/g,""),me[1]+me[0]]}),v=0,S=p.length;v<S;++v){var I=p[v],V=I[0];if(!AP(V)&&MP.indexOf(V)!==-1){var ee="https://fonts.googleapis.com/css?family="+V.replace(/ /g,"+")+":"+I[1];if(!document.querySelector('link[href="'+ee+'"]')){var fe=document.createElement("link");fe.href=ee,fe.rel="stylesheet",document.head.appendChild(fe)}}}return mw[d]=!0,f}var PP={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},DP={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},LP=function(f,d){var p=aP(f,d);if(p.result==="error")throw new Error(p.value.map(function(v){return v.key+": "+v.message}).join(", "));return p.value},$g={},Bh={zoom:0},Vh,jg;function ct(f,d,p,v,S,I,V){var ee=f.id;I||(I={},console.warn("No functionCache provided to getValue()")),I[ee]||(I[ee]={});var fe=I[ee];if(!fe[p]){var le=(f[d]||$g)[p],me=nw[d+"_"+f.type][p];le===void 0&&(le=me.default);var Ce=sP(le);if(!Ce&&tw(le)&&(le=T(le,me),Ce=!0),Ce){var Fe=LP(le,me);fe[p]=Fe.evaluate.bind(Fe)}else me.type=="color"&&(le=x.parse(le)),fe[p]=function(){return le}}return Bh.zoom=v,fe[p](Bh,S,V)}function FP(f,d,p,v,S){return S||console.warn("No filterCache provided to evaluateFilter()"),f in S||(S[f]=dP(d).filter),Bh.zoom=v,S[f](Bh,p)}var gw=!1;function NP(f){gw=f}function ya(f,d){if(f){if(!gw&&(f.a===0||d===0))return;var p=f.a;return d=d===void 0?1:d,p===0?"transparent":"rgba("+Math.round(f.r*255/p)+","+Math.round(f.g*255/p)+","+Math.round(f.b*255/p)+","+p*d+")"}return f}var $P=/^([^]*)\{(.*)\}([^]*)$/;function Bg(f,d){var p;do if(p=f.match($P),p){var v=d[p[2]]||"";f=p[1]+v+p[3]}while(p);return f}var yw=!1;function jP(f){yw=f}function _w(f,d,p,v,S,I,V){if(v===void 0&&(v=Kl),typeof d=="string"&&(d=JSON.parse(d)),d.version!=8)throw new Error("glStyle version 8 required.");var ee,fe;if(I){if(typeof Image<"u"){var le=new Image;le.crossOrigin="anonymous",le.onload=function(){ee=le,fe=[le.width,le.height],f.changed(),le.onload=null},le.src=I}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var me=self;me.postMessage({action:"loadImage",src:I}),me.addEventListener("message",function(ba){ba.data.action==="imageLoaded"&&ba.data.src===I&&(ee=ba.data.image,fe=[ee.width,ee.height])})}}for(var Ce=wP(d.layers),Fe={},Ne=[],nt={},He={},$e={},on={},Ot,Dn=0,nn=Ce.length;Dn<nn;++Dn){var kt=Ce[Dn],Zn=kt.id;if(typeof p=="string"&&kt.source==p||p.indexOf(Zn)!==-1){var Oi=kt["source-layer"];if(Ot){if(kt.source!==Ot)throw new Error('Layer "'+Zn+'" does not use source "'+Ot)}else{Ot=kt.source;var di=d.sources[Ot];if(!di)throw new Error('Source "'+Ot+'" is not defined');var Ui=di.type;if(Ui!=="vector"&&Ui!=="geojson")throw new Error('Source "'+Ot+'" is not of type "vector" or "geojson", but "'+Ui+'"')}var $r=Fe[Oi];$r||($r=[],Fe[Oi]=$r),$r.push({layer:kt,index:Dn}),Ne.push(Zn)}}var ls=new h.default,_a=new s.default,Ln=[],us=function(va,ba){var Ac=va.getProperties(),Ug=Fe[Ac.layer];if(Ug){var at=v.indexOf(ba);at==-1&&(at=SP(ba,v));for(var jr=PP[va.getGeometry().getType()],gt={properties:Ac,type:jr},vt=f.get("mapbox-featurestate")[va.getId()],Wn=-1,Hg,Yg=0,pD=Ug.length;Yg<pD;++Yg){var Lw=Ug[Yg],qe=Lw.layer,mD=qe.id,Mc=qe.layout||$g,Bo=qe.paint||$g;if(!(Mc.visibility==="none"||"minzoom"in qe&&at<qe.minzoom||"maxzoom"in qe&&at>=qe.maxzoom)){var Fw=qe.filter;if(!Fw||FP(mD,Fw,gt,at,on)){Hg=qe;var Br=void 0,Os=void 0,zh=void 0,cs=void 0,Ps=void 0,We=void 0,ql=Lw.index;if(jr==3&&(qe.type=="fill"||qe.type=="fill-extrusion"))if(Os=ct(qe,"paint",qe.type+"-opacity",at,gt,$e,vt),qe.type+"-pattern"in Bo){var Uh=ct(qe,"paint",qe.type+"-pattern",at,gt,$e,vt);if(Uh){var Wg=typeof Uh=="string"?Bg(Uh,Ac):Uh.toString();if(ee&&S&&S[Wg]){++Wn,We=Ln[Wn],(!We||!We.getFill()||We.getStroke()||We.getText())&&(We=new g.default({fill:new s.default}),Ln[Wn]=We),zh=We.getFill(),We.setZIndex(ql);var Nw=Wg+"."+Os,Hh=He[Nw];if(!Hh){var wa=S[Wg],$w=cw(wa.width,wa.height),Kg=$w.getContext("2d");Kg.globalAlpha=Os,Kg.drawImage(ee,wa.x,wa.y,wa.width,wa.height,0,0,wa.width,wa.height),Hh=Kg.createPattern($w,"repeat"),He[Nw]=Hh}zh.setColor(Hh)}}}else Br=ya(ct(qe,"paint",qe.type+"-color",at,gt,$e,vt),Os),qe.type+"-outline-color"in Bo&&(Ps=ya(ct(qe,"paint",qe.type+"-outline-color",at,gt,$e,vt),Os)),Ps||(Ps=Br),(Br||Ps)&&(++Wn,We=Ln[Wn],(!We||Br&&!We.getFill()||!Br&&We.getFill()||Ps&&!We.getStroke()||!Ps&&We.getStroke()||We.getText())&&(We=new g.default({fill:Br?new s.default:void 0,stroke:Ps?new h.default:void 0}),Ln[Wn]=We),Br&&(zh=We.getFill(),zh.setColor(Br)),Ps&&(cs=We.getStroke(),cs.setColor(Ps),cs.setWidth(.5)),We.setZIndex(ql));if(jr!=1&&qe.type=="line"){Br=!("line-pattern"in Bo)&&"line-color"in Bo?ya(ct(qe,"paint","line-color",at,gt,$e,vt),ct(qe,"paint","line-opacity",at,gt,$e,vt)):void 0;var qg=ct(qe,"paint","line-width",at,gt,$e,vt);Br&&qg>0&&(++Wn,We=Ln[Wn],(!We||!We.getStroke()||We.getFill()||We.getText())&&(We=new g.default({stroke:new h.default}),Ln[Wn]=We),cs=We.getStroke(),cs.setLineCap(ct(qe,"layout","line-cap",at,gt,$e,vt)),cs.setLineJoin(ct(qe,"layout","line-join",at,gt,$e,vt)),cs.setMiterLimit(ct(qe,"layout","line-miter-limit",at,gt,$e,vt)),cs.setColor(Br),cs.setWidth(qg),cs.setLineDash(Bo["line-dasharray"]?ct(qe,"paint","line-dasharray",at,gt,$e,vt).map(function(Pi){return Pi*qg}):null),We.setZIndex(ql))}var Yh=!1,Fn=null,jw=0,Wh=void 0,Zi=void 0,Xg=void 0;if((jr==1||jr==2)&&"icon-image"in Mc){var Kh=ct(qe,"layout","icon-image",at,gt,$e,vt);if(Kh){Wh=typeof Kh=="string"?Bg(Kh,Ac):Kh.toString();var Zg=void 0;if(ee&&S&&S[Wh]){var Bw=ct(qe,"layout","icon-rotation-alignment",at,gt,$e,vt);if(jr==2){var Ea=va.getGeometry();if(Ea.getFlatMidpoint||Ea.getFlatMidpoints){var qh=Ea.getExtent(),gD=Math.sqrt(Math.max(Math.pow((qh[2]-qh[0])/ba,2),Math.pow((qh[3]-qh[1])/ba,2)));if(gD>150){var Xl=Ea.getType()==="MultiLineString"?Ea.getFlatMidpoints():Ea.getFlatMidpoint();jg||(Vh=[NaN,NaN],jg=new u.default("Point",Vh,[],{},null)),Zg=jg,Vh[0]=Xl[0],Vh[1]=Xl[1];var yD=ct(qe,"layout","symbol-placement",at,gt,$e,vt);if(yD==="line"&&Bw==="map")for(var Xh=Ea.getStride(),Oc=Ea.getFlatCoordinates(),Zl=0,_D=Oc.length-Xh;Zl<_D;Zl+=Xh){var Jg=Oc[Zl],Qg=Oc[Zl+1],e0=Oc[Zl+Xh],t0=Oc[Zl+Xh+1],vD=Math.min(Jg,e0),bD=Math.min(Qg,t0),wD=Math.max(Jg,e0),ED=Math.max(Qg,t0);if(Xl[0]>=vD&&Xl[0]<=wD&&Xl[1]>=bD&&Xl[1]<=ED){jw=Math.atan2(Qg-t0,e0-Jg);break}}}}}if(jr!==2||Zg){var Vw=ct(qe,"layout","icon-size",at,gt,$e,vt),Ds=Bo["icon-color"]!==void 0?ct(qe,"paint","icon-color",at,gt,$e,vt):null;if(!Ds||Ds.a!==0){var n0=Wh+"."+Vw;if(Ds!==null&&(n0+="."+Ds),Zi=nt[n0],!Zi){var Jl=S[Wh];Zi=new o.default({color:Ds?[Ds.r*255,Ds.g*255,Ds.b*255,Ds.a]:void 0,img:ee,imgSize:fe,size:[Jl.width,Jl.height],offset:[Jl.x,Jl.y],rotateWithView:Bw==="map",scale:Vw/Jl.pixelRatio,displacement:"icon-offset"in Mc?ct(qe,"layout","icon-offset",at,gt,$e,vt).map(function(Pi){return-Pi*Jl.pixelRatio}):void 0}),nt[n0]=Zi}}Zi&&(++Wn,We=Ln[Wn],(!We||!We.getImage()||We.getFill()||We.getStroke())&&(We=new g.default,Ln[Wn]=We),We.setGeometry(Zg),Zi.setRotation(jw+Pg(ct(qe,"layout","icon-rotate",at,gt,$e,vt))),Zi.setOpacity(ct(qe,"paint","icon-opacity",at,gt,$e,vt)),Zi.setAnchor(DP[ct(qe,"layout","icon-anchor",at,gt,$e,vt)]),We.setImage(Zi),Fn=We.getText(),We.setText(void 0),We.setZIndex(ql),Yh=!0,Xg=!1)}else Xg=!0}}}if(jr==1&&qe.type==="circle"){++Wn,We=Ln[Wn],(!We||!We.getImage()||We.getFill()||We.getStroke())&&(We=new g.default,Ln[Wn]=We);var Gw="circle-radius"in Bo?ct(qe,"paint","circle-radius",at,gt,$e,vt):5,i0=ya(ct(qe,"paint","circle-stroke-color",at,gt,$e,vt),ct(qe,"paint","circle-stroke-opacity",at,gt,$e,vt)),r0=ya(ct(qe,"paint","circle-color",at,gt,$e,vt),ct(qe,"paint","circle-opacity",at,gt,$e,vt)),s0=ct(qe,"paint","circle-stroke-width",at,gt,$e,vt),zw=Gw+"."+i0+"."+r0+"."+s0;Zi=nt[zw],Zi||(Zi=new i.default({radius:Gw,stroke:i0&&s0>0?new h.default({width:s0,color:i0}):void 0,fill:r0?new s.default({color:r0}):void 0}),nt[zw]=Zi),We.setImage(Zi),Fn=We.getText(),We.setText(void 0),We.setGeometry(void 0),We.setZIndex(ql),Yh=!0}var Ti=void 0,a0=void 0,Pc=void 0,Ta=void 0,Dc=void 0,o0=void 0;if("text-field"in Mc){Ta=Math.round(ct(qe,"layout","text-size",at,gt,$e,vt));var l0=ct(qe,"layout","text-font",at,gt,$e,vt);Pc=ct(qe,"layout","text-line-height",at,gt,$e,vt),a0=Ag(V?V(l0):l0,Ta,Pc),Dc=ct(qe,"layout","text-letter-spacing",at,gt,$e,vt),o0=ct(qe,"layout","text-max-width",at,gt,$e,vt);var Ql=ct(qe,"layout","text-field",at,gt,$e,vt);typeof Ql=="object"&&Ql.sections?Ql.sections.length===1?Ti=Ql.toString():Ti=Ql.sections.reduce(function(Pi,xa,Qie){var Xw=xa.fontStack?xa.fontStack.split(","):l0,p0=Ag(V?V(Xw):Xw,Ta*(xa.scale||1),Pc),eu=xa.text;if(eu===`
`)return Pi.push(`
`,""),Pi;if(jr==2){Pi.push(Lg(eu,Dc),p0);return}eu=Ng(eu,p0,o0,Dc).split(`
`);for(var Jh=0,xD=eu.length;Jh<xD;++Jh)Jh>0&&Pi.push(`
`,""),Pi.push(eu[Jh],p0);return Pi},[]):Ti=Bg(Ql,Ac).trim(),Os=ct(qe,"paint","text-opacity",at,gt,$e,vt)}if(Ti&&Os&&!Xg){Yh||(++Wn,We=Ln[Wn],(!We||!We.getText()||We.getFill()||We.getStroke())&&(We=new g.default,Ln[Wn]=We),We.setImage(void 0),We.setGeometry(void 0)),We.getText()||We.setText(Fn||new b.default({padding:[2,2,2,2]})),Fn=We.getText();var Uw=Mc["text-transform"];Uw=="uppercase"?Ti=Array.isArray(Ti)?Ti.map(function(Pi,xa){return xa%2?Pi:Pi.toUpperCase()}):Ti.toUpperCase():Uw=="lowercase"&&(Ti=Array.isArray(Ti)?Ti.map(function(Pi,xa){return xa%2?Pi:Pi.toLowerCase()}):Ti.toLowerCase());var Hw=Array.isArray(Ti)?Ti:jr==2?Lg(Ti,Dc):Ng(Ti,a0,o0,Dc);Fn.setText(Hw),Fn.setFont(a0),Fn.setRotation(Pg(ct(qe,"layout","text-rotate",at,gt,$e,vt)));var Zh=ct(qe,"layout","text-anchor",at,gt,$e,vt),u0=Yh||jr==1?"point":ct(qe,"layout","symbol-placement",at,gt,$e,vt);Fn.setPlacement(u0),Fn.setOverflow(u0==="point");var Vo=ct(qe,"paint","text-halo-width",at,gt,$e,vt),Yw=ct(qe,"layout","text-offset",at,gt,$e,vt),Ww=ct(qe,"paint","text-translate",at,gt,$e,vt),c0=0,d0=0;if(u0=="point"){var h0="center";Zh.indexOf("left")!==-1?(h0="left",d0=Vo):Zh.indexOf("right")!==-1&&(h0="right",d0=-Vo),Fn.setTextAlign(h0);var TD=ct(qe,"layout","text-rotation-alignment",at,gt,$e,vt);Fn.setRotateWithView(TD=="map")}else Fn.setMaxAngle(Pg(ct(qe,"layout","text-max-angle",at,gt,$e,vt))*Ti.length/Hw.length),Fn.setTextAlign(),Fn.setRotateWithView(!1);var f0="middle";Zh.indexOf("bottom")==0?(f0="bottom",c0=-Vo-.5*(Pc-1)*Ta):Zh.indexOf("top")==0&&(f0="top",c0=Vo+.5*(Pc-1)*Ta),Fn.setTextBaseline(f0),Fn.setOffsetX(Yw[0]*Ta+d0+Ww[0]),Fn.setOffsetY(Yw[1]*Ta+c0+Ww[1]),_a.setColor(ya(ct(qe,"paint","text-color",at,gt,$e,vt),Os)),Fn.setFill(_a);var Kw=ya(ct(qe,"paint","text-halo-color",at,gt,$e,vt),Os);if(Kw){ls.setColor(Kw),Vo*=2;var qw=.5*Ta;ls.setWidth(Vo<=qw?Vo:qw),Fn.setStroke(ls)}else Fn.setStroke(void 0);var Lc=ct(qe,"layout","text-padding",at,gt,$e,vt),Fc=Fn.getPadding();Lc!==Fc[0]&&(Fc[0]=Lc,Fc[1]=Lc,Fc[2]=Lc,Fc[3]=Lc),We.setZIndex(ql)}}}}if(Wn>-1)return Ln.length=Wn+1,yw&&(typeof va.set=="function"?va.set("mapbox-layer",Hg):va.getProperties()["mapbox-layer"]=Hg),Ln}};return f.setStyle(us),f.set("mapbox-source",Ot),f.set("mapbox-layers",Ne),f.set("mapbox-featurestate",{}),us}var BP=f=>{var d={};return St.d(d,f),d};const VP=BP({default:()=>S1});var GP=f=>{var d={};return St.d(d,f),d};const zP=GP({default:()=>A7});var UP=f=>{var d={};return St.d(d,f),d};const HP=UP({default:()=>LM});var YP=f=>{var d={};return St.d(d,f),d};const vw=YP({default:()=>ng});var WP=f=>{var d={};return St.d(d,f),d};const bw=WP({default:()=>c7});var KP=f=>{var d={};return St.d(d,f),d};const qP=KP({default:()=>bM});var XP=f=>{var d={};return St.d(d,f),d};const ww=XP({default:()=>IW});var ZP=f=>{var d={};return St.d(d,f),d};const Ew=ZP({default:()=>N1});var JP=f=>{var d={};return St.d(d,f),d};const Gh=JP({default:()=>UW});var QP=f=>{var d={};return St.d(d,f),d};const Vg=QP({default:()=>r7,defaultLoadFunction:()=>CM});var eD=f=>{var d={};return St.d(d,f),d};const tD=eD({default:()=>Yr});var nD=f=>{var d={};return St.d(d,f),d};const iD=nD({createXYZ:()=>ig});var rD=f=>{var d={};return St.d(d,f),d};const Ic=rD({equivalent:()=>Ha,fromLonLat:()=>t2,getUserProjection:()=>n2});function Tw(f,d){if(!d.accessToken){d=(0,$o.assign)({},d);var p=new URL(f).searchParams;p.forEach(function(v,S){d.accessToken=v,d.accessTokenParam=S})}return d}function xw(f,d,p,v,S){v===void 0&&(v={});var I,V,ee;return typeof v=="string"?(I=v,ee={}):(I=v.styleUrl,ee=v),!I&&typeof d=="string"&&!d.trim().startsWith("{")&&(I=d),I&&(I=I.startsWith("data:")?location.href:Og(I,ee.accessToken),ee=Tw(I,ee)),new Promise(function(fe,le){Dg(d,ee).then(function(me){if(me.version!=8)return le(new Error("glStyle version 8 required."));if(!(f instanceof ww.default||f instanceof Gh.default))return le(new Error("Can only apply to VectorLayer or VectorTileLayer"));var Ce=f instanceof Gh.default?"vector":"geojson";if(p)Array.isArray(p)?V=me.layers.find(function(kt){return kt.id===p[0]}).source:V=p;else if(V=Object.keys(me.sources).find(function(kt){return me.sources[kt].type===Ce}),!V)return le(new Error("No "+Ce+" source found in the glStyle."));function Fe(){if(f instanceof Gh.default)return Rw(me.sources[V],I,ee).then(function(Oi){var di=f.getSource();if(di?Oi!==di&&(di.setTileUrlFunction(Oi.getTileUrlFunction()),di.format_||(di.format_=Oi.format_),di.getAttributions()||di.setAttributions(Oi.getAttributions()),di.getTileLoadFunction()===Vg.defaultLoadFunction&&di.setTileLoadFunction(Oi.getTileLoadFunction()),(0,Ic.equivalent)(di.getProjection(),Oi.getProjection())&&(di.tileGrid=Oi.getTileGrid())):f.setSource(Oi),!isFinite(f.getMaxResolution())&&!isFinite(f.getMinZoom())){var Ui=f.getSource().getTileGrid();f.setMaxResolution(Ui.getResolution(Ui.getMinZoom()))}});var kt=Aw(me.sources[V],I,ee),Zn=f.getSource();return Zn?kt!==Zn&&(Zn.getAttributions()||Zn.setAttributions(kt.getAttributions()),Zn.format_||(Zn.format_=kt.getFormat()),Zn.url_=kt.getUrl()):f.setSource(kt),Promise.resolve()}var Ne,nt,He,$e;function on(){!$e&&(!me.sprite||nt)?($e=_w(f,me,V,S,nt,He,OP),f.getStyle()?Fe().then(fe).catch(le):le(new Error("Nothing to show for source ["+V+"]"))):$e?(f.setStyle($e),Fe().then(fe).catch(le)):le(new Error("Something went wrong trying to apply style."))}if(me.sprite){var Ot=new URL(CP(me.sprite,ee.accessToken,I||location.href));Ne=window.devicePixelRatio>=1.5?.5:1;var Dn=Ne==.5?"@2x":"",nn=Ot.origin+Ot.pathname+Dn+".json"+Ot.search;new Promise(function(kt,Zn){$h("Sprite",nn,ee).then(kt).catch(function(Oi){nn=Ot.origin+Ot.pathname+".json"+Ot.search,$h("Sprite",nn,ee).then(kt).catch(Zn)})}).then(function(kt){kt===void 0&&le(new Error("No sprites found.")),nt=kt,He=Ot.origin+Ot.pathname+Dn+".png"+Ot.search,on()}).catch(function(kt){le(new Error("Sprites cannot be loaded: "+nn+": "+kt.message))})}else on()}).catch(le)})}var Gg={};function Cw(f,d){var p={id:d.id,type:d.type},v={};function S(I){var V=d.layout||{},ee=d.paint||{};p.paint=ee;var fe=typeof f.getSource=="function"?f.getSource().getTileGrid().getZForResolution(I):f.getView().getZoom(),le=typeof f.getTargetElement=="function"?f.getTargetElement():void 0,me,Ce;if(ee["background-color"]!==void 0&&(me=ct(p,"paint","background-color",fe,Gg,v),le&&(le.style.background=x.parse(me).toString())),ee["background-opacity"]!==void 0&&(Ce=ct(p,"paint","background-opacity",fe,Gg,v),le&&(le.style.opacity=Ce)),V.visibility=="none"){le&&(le.style.backgroundColor="",le.style.opacity="");return}return ya(me,Ce)}if(typeof f.getTargetElement=="function")f.getTargetElement()&&S(),f.on(["change:resolution","change:target"],S);else if(typeof f.setBackground=="function")f.setBackground(S);else throw new Error("Unable to apply background.")}function Sw(f,d){d.layers.some(function(p){if(p.type==="background")return Cw(f,p),!0})}function sD(f,d,p){return p===void 0&&(p={}),typeof d=="object"?(Sw(f,d),Promise.resolve()):Dg(d,p).then(function(v){Sw(f,v)})}function aD(f,d){var p;return f.some(function(v){if(v.id==d)return p=v.source,!0}),p}function kw(f){var d=f.bounds;if(d){var p=(0,Ic.fromLonLat)([d[0],d[1]]),v=(0,Ic.fromLonLat)([d[2],d[3]]);return[p[0],p[1],v[0],v[1]]}}function Rw(f,d,p){return new Promise(function(v,S){hw(f,d,p).then(function(I){var V=new bw.default({tileJSON:I}),ee=V.getTileJSON(),fe=V.getTileGrid(),le=kw(ee),me=ee.minzoom||0,Ce=ee.maxzoom||22,Fe=V.get("ol-source");if(Fe===void 0){var Ne={attributions:V.getAttributions(),format:new zP.default,tileGrid:new vw.default({origin:fe.getOrigin(0),extent:le||fe.getExtent(),minZoom:me,resolutions:Kl.slice(0,Ce+1),tileSize:512})};Array.isArray(ee.tiles)?Ne.urls=ee.tiles:Ne.url=ee.tiles,I.olSourceOptions&&Object.assign(Ne,I.olSourceOptions),Fe=new Vg.default(Ne),V.set("ol-source",Fe)}v(Fe)}).catch(S)})}function oD(f,d,p){var v=new Gh.default({declutter:!0,visible:!1});return Rw(f,d,p).then(function(S){v.setSource(S)}).catch(function(S){v.setSource(void 0)}),v}function lD(f,d,p){var v=new qP.default;return hw(f,d,p).then(function(S){var I=new bw.default({transition:0,crossOrigin:"anonymous",tileJSON:S}),V=kw(S),ee=I.getTileGrid(),fe=f.tileSize||S.tileSize||512,le=S.minzoom||0,me=S.maxzoom||22;I.tileGrid=new vw.default({origin:ee.getOrigin(0),extent:V||ee.getExtent(),minZoom:le,resolutions:(0,iD.createXYZ)({maxZoom:me,tileSize:fe}).getResolutions(),tileSize:fe});var Ce=I.getTileUrlFunction();I.setTileUrlFunction(function(Fe,Ne,nt){var He=Ce(Fe,Ne,nt);if(He.indexOf("{bbox-epsg-3857}")!=-1){var $e=I.getTileGrid().getTileCoordExtent(Fe);He=He.replace("{bbox-epsg-3857}",$e.toString())}return He}),v.setSource(I)}).catch(function(S){v.setSource(void 0)}),v}var Iw=new VP.default;function Aw(f,d,p){var v=f.data,S={};if(typeof v=="string"){var I=Nh(v,p.accessToken,p.accessTokenParam||"access_token",d||location.href);if(p.transformRequest){var V=p.transformRequest(I,"GeoJSON");V instanceof Request&&(I=encodeURI(V.url))}S.url=I}else S.features=Iw.readFeatures(v,{featureProjection:(0,Ic.getUserProjection)()||"EPSG:3857"});return new Ew.default((0,$o.assign)({attributions:f.attribution,format:Iw},S))}function uD(f,d,p){return new ww.default({declutter:!0,source:Aw(f,d,p),visible:!1})}function Mw(f,d,p,v){var S=p.getZoom(),I=ct(f,"paint","raster-opacity",S,Gg,v);d.setOpacity(I)}function Ow(f,d,p,v){var S=[],I=d.getView();!I.isDef()&&!I.getRotation()&&!I.getResolutions()&&(I=new tD.default((0,$o.assign)(I.getProperties(),{maxResolution:Kl[0]})),d.setView(I)),"center"in f&&!I.getCenter()&&I.setCenter((0,Ic.fromLonLat)(f.center)),"zoom"in f&&I.getZoom()===void 0&&I.setResolution(Kl[0]/Math.pow(2,f.zoom)),(!I.getCenter()||I.getZoom()===void 0)&&I.fit(I.getProjection().getExtent(),{nearest:!0,size:d.getSize()});for(var V=f.layers,ee=[],fe,le,me,Ce,Fe,Ne=0,nt=V.length;Ne<nt;++Ne){fe=V[Ne];var He=fe.type;if(He=="heatmap"||He=="hillshade")throw new Error(He+" layers are not supported");if(He=="background")Cw(d,fe);else{if(Ce=fe.source||aD(V,fe.ref),Ce!=me){if(ee.length&&(S.push(Dw(Fe,ee,f,p,d,v)),ee=[]),le=f.sources[Ce],le.type=="vector")Fe=oD(le,p,v);else if(le.type=="raster"){Fe=lD(le,p,v),Fe.setVisible(fe.layout?fe.layout.visibility!=="none":!0);var $e={};I.on("change:resolution",Mw.bind(this,fe,Fe,I,$e)),Mw(fe,Fe,I,$e)}else le.type=="geojson"&&(Fe=uD(le,p,v));me=Ce,Fe&&Fe.set("mapbox-source",me)}ee.push(fe.id)}}return S.push(Dw(Fe,ee,f,p,d,v)),d.set("mapbox-style",f),Promise.all(S)}function Pw(f,d,p){p===void 0&&(p={});var v;if((typeof f=="string"||f instanceof HTMLElement)&&(f=new HP.default({target:f})),typeof d=="string"){var S=d.startsWith("data:")?location.href:Og(d,p.accessToken);p=Tw(S,p),v=new Promise(function(I,V){Dg(d,p).then(function(ee){Ow(ee,f,S,p).then(function(){I(f)}).catch(V)}).catch(function(ee){V(new Error("Could not load "+d+": "+ee.message))})})}else v=new Promise(function(I,V){Ow(d,f,"",p).then(function(){I(f)}).catch(V)});return v}function Dw(f,d,p,v,S,I){I===void 0&&(I={});for(var V=24,ee=0,fe=p.layers,le=0,me=fe.length;le<me;++le){var Ce=fe[le];d.indexOf(Ce.id)!==-1&&(V=Math.min("minzoom"in Ce?Ce.minzoom:0,V),ee=Math.max("maxzoom"in Ce?Ce.maxzoom:24,ee))}return new Promise(function(Fe,Ne){var nt=function(){var He=f.getSource();if(!He||He.getState()==="error"){Ne(new Error("Error accessing data for source "+f.get("mapbox-source")));return}if("getTileGrid"in He){var $e=He.getTileGrid();if($e){var on=$e.getMinZoom();(V>0||on>0)&&f.setMaxResolution(Math.min(Kl[V],$e.getResolution(on))+1e-9),ee<24&&f.setMinResolution(Kl[ee]+1e-9)}}He instanceof Ew.default||He instanceof Vg.default?xw(f,p,d,(0,$o.assign)({styleUrl:v},I)).then(function(){f.setVisible(!0),Fe()}).catch(Ne):Fe()};f.set("mapbox-layers",d),S.getLayers().getArray().indexOf(f)===-1&&S.addLayer(f),f.getSource()?nt():f.once("change:source",nt)})}function cD(f,d){for(var p=f.getLayers().getArray(),v=0,S=p.length;v<S;++v){var I=p[v].get("mapbox-layers");if(I&&I.indexOf(d)!==-1)return p[v]}}function zg(f,d){for(var p=[],v=f.getAllLayers(),S=0,I=v.length;S<I;++S)v[S].get("mapbox-source")===d&&p.push(v[S]);return p}function dD(f,d){for(var p=f.getLayers().getArray(),v=0,S=p.length;v<S;++v){var I=p[v].getSource();if(p[v].get("mapbox-source")===d)return I}}function hD(f,d,p){for(var v=("getLayers"in f)?zg(f,d.source):[f],S=0,I=v.length;S<I;++S){var V=v[S].get("mapbox-featurestate");if(V)p?V[d.id]=p:delete V[d.id],v[S].changed();else throw new Error('Map or layer for source "'+d.source+'" not found.')}}function fD(f,d){for(var p=("getLayers"in f)?zg(f,d.source):[f],v=0,S=p.length;v<S;++v){var I=p[v].get("mapbox-featurestate");if(I&&I[d.id])return I[d.id]}return null}})();let dK,hK;const fK=new bM({source:new a7({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),preload:100}),pK=!1,mK={name:"FieldBackgroundMap",components:{SettingsPanelSection:eg},props:{settings:{type:Object,required:!0}},data(){return{customMapsEnabled:pK}}};function gK(t,e,n,i,r,s){const a=ze("base-radio-button"),o=ze("settings-panel-section");return ie(),et(o,{title:t.$t("settings.backgroundMap")},{default:pt(()=>[De(a,{key:"default",modelValue:n.settings.backgroundMap,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.backgroundMap=l),"model-value":n.settings.backgroundMap,"own-value":"default",label:t.$t("settings.backgroundMapDefault"),class:"radio-button"},null,8,["modelValue","model-value","label"]),r.customMapsEnabled?(ie(),et(a,{key:"custom",modelValue:n.settings.backgroundMap,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.backgroundMap=l),"model-value":n.settings.backgroundMap,"own-value":"custom",label:t.$t("settings.backgroundMapCustom"),class:"radio-button"},null,8,["modelValue","model-value","label"])):ke("",!0)]),_:1},8,["title"])}const yK=st(mK,[["render",gK],["__scopeId","data-v-e2e045d7"]]),_K={name:"BaseBackdrop",emits:["click"]};function vK(t,e,n,i,r,s){return ie(),pe("div",{class:"backdrop",onClick:e[0]||(e[0]=a=>t.$emit("click"))})}const sg=st(_K,[["render",vK],["__scopeId","data-v-6e4e4d03"]]),bK={name:"AppVersion",computed:{appVersion(){return"v3.0.0"}}},wK={class:"row justify-content-center mt-3 app-version"};function EK(t,e,n,i,r,s){return ie(),pe("div",wK,[Ae("span",null,ht(s.appVersion),1)])}const TK=st(bK,[["render",EK]]);function xK(){this.__data__=[],this.size=0}var CK=xK;function SK(t,e){return t===e||t!==t&&e!==e}var FM=SK,kK=FM;function RK(t,e){for(var n=t.length;n--;)if(kK(t[n][0],e))return n;return-1}var ag=RK,IK=ag,AK=Array.prototype,MK=AK.splice;function OK(t){var e=this.__data__,n=IK(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():MK.call(e,n,1),--this.size,!0}var PK=OK,DK=ag;function LK(t){var e=this.__data__,n=DK(e,t);return n<0?void 0:e[n][1]}var FK=LK,NK=ag;function $K(t){return NK(this.__data__,t)>-1}var jK=$K,BK=ag;function VK(t,e){var n=this.__data__,i=BK(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var GK=VK,zK=CK,UK=PK,HK=FK,YK=jK,WK=GK;function vc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}vc.prototype.clear=zK;vc.prototype.delete=UK;vc.prototype.get=HK;vc.prototype.has=YK;vc.prototype.set=WK;var og=vc,KK=og;function qK(){this.__data__=new KK,this.size=0}var XK=qK;function ZK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var JK=ZK;function QK(t){return this.__data__.get(t)}var eq=QK;function tq(t){return this.__data__.has(t)}var nq=tq,Pf={},iq=typeof Pf=="object"&&Pf&&Pf.Object===Object&&Pf,NM=iq,rq=NM,sq=typeof self=="object"&&self&&self.Object===Object&&self,aq=rq||sq||Function("return this")(),Is=aq,oq=Is,lq=oq.Symbol,_b=lq,SC=_b,$M=Object.prototype,uq=$M.hasOwnProperty,cq=$M.toString,qc=SC?SC.toStringTag:void 0;function dq(t){var e=uq.call(t,qc),n=t[qc];try{t[qc]=void 0;var i=!0}catch{}var r=cq.call(t);return i&&(e?t[qc]=n:delete t[qc]),r}var hq=dq,fq=Object.prototype,pq=fq.toString;function mq(t){return pq.call(t)}var gq=mq,kC=_b,yq=hq,_q=gq,vq="[object Null]",bq="[object Undefined]",RC=kC?kC.toStringTag:void 0;function wq(t){return t==null?t===void 0?bq:vq:RC&&RC in Object(t)?yq(t):_q(t)}var lg=wq;function Eq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ah=Eq,Tq=lg,xq=Ah,Cq="[object AsyncFunction]",Sq="[object Function]",kq="[object GeneratorFunction]",Rq="[object Proxy]";function Iq(t){if(!xq(t))return!1;var e=Tq(t);return e==Sq||e==kq||e==Cq||e==Rq}var jM=Iq,Aq=Is,Mq=Aq["__core-js_shared__"],Oq=Mq,cy=Oq,IC=function(){var t=/[^.]+$/.exec(cy&&cy.keys&&cy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Pq(t){return!!IC&&IC in t}var Dq=Pq,Lq=Function.prototype,Fq=Lq.toString;function Nq(t){if(t!=null){try{return Fq.call(t)}catch{}try{return t+""}catch{}}return""}var BM=Nq,$q=jM,jq=Dq,Bq=Ah,Vq=BM,Gq=/[\\^$.*+?()[\]{}|]/g,zq=/^\[object .+?Constructor\]$/,Uq=Function.prototype,Hq=Object.prototype,Yq=Uq.toString,Wq=Hq.hasOwnProperty,Kq=RegExp("^"+Yq.call(Wq).replace(Gq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qq(t){if(!Bq(t)||jq(t))return!1;var e=$q(t)?Kq:zq;return e.test(Vq(t))}var Xq=qq;function Zq(t,e){return t?.[e]}var Jq=Zq,Qq=Xq,eX=Jq;function tX(t,e){var n=eX(t,e);return Qq(n)?n:void 0}var Gl=tX,nX=Gl,iX=Is,rX=nX(iX,"Map"),vb=rX,sX=Gl,aX=sX(Object,"create"),ug=aX,AC=ug;function oX(){this.__data__=AC?AC(null):{},this.size=0}var lX=oX;function uX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cX=uX,dX=ug,hX="__lodash_hash_undefined__",fX=Object.prototype,pX=fX.hasOwnProperty;function mX(t){var e=this.__data__;if(dX){var n=e[t];return n===hX?void 0:n}return pX.call(e,t)?e[t]:void 0}var gX=mX,yX=ug,_X=Object.prototype,vX=_X.hasOwnProperty;function bX(t){var e=this.__data__;return yX?e[t]!==void 0:vX.call(e,t)}var wX=bX,EX=ug,TX="__lodash_hash_undefined__";function xX(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=EX&&e===void 0?TX:e,this}var CX=xX,SX=lX,kX=cX,RX=gX,IX=wX,AX=CX;function bc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}bc.prototype.clear=SX;bc.prototype.delete=kX;bc.prototype.get=RX;bc.prototype.has=IX;bc.prototype.set=AX;var MX=bc,MC=MX,OX=og,PX=vb;function DX(){this.size=0,this.__data__={hash:new MC,map:new(PX||OX),string:new MC}}var LX=DX;function FX(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var NX=FX,$X=NX;function jX(t,e){var n=t.__data__;return $X(e)?n[typeof e=="string"?"string":"hash"]:n.map}var cg=jX,BX=cg;function VX(t){var e=BX(this,t).delete(t);return this.size-=e?1:0,e}var GX=VX,zX=cg;function UX(t){return zX(this,t).get(t)}var HX=UX,YX=cg;function WX(t){return YX(this,t).has(t)}var KX=WX,qX=cg;function XX(t,e){var n=qX(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var ZX=XX,JX=LX,QX=GX,e9=HX,t9=KX,n9=ZX;function wc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}wc.prototype.clear=JX;wc.prototype.delete=QX;wc.prototype.get=e9;wc.prototype.has=t9;wc.prototype.set=n9;var i9=wc,r9=og,s9=vb,a9=i9,o9=200;function l9(t,e){var n=this.__data__;if(n instanceof r9){var i=n.__data__;if(!s9||i.length<o9-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new a9(i)}return n.set(t,e),this.size=n.size,this}var u9=l9,c9=og,d9=XK,h9=JK,f9=eq,p9=nq,m9=u9;function Ec(t){var e=this.__data__=new c9(t);this.size=e.size}Ec.prototype.clear=d9;Ec.prototype.delete=h9;Ec.prototype.get=f9;Ec.prototype.has=p9;Ec.prototype.set=m9;var g9=Ec;function y9(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var _9=y9,v9=Gl,b9=function(){try{var t=v9(Object,"defineProperty");return t({},"",{}),t}catch{}}(),w9=b9,OC=w9;function E9(t,e,n){e=="__proto__"&&OC?OC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var VM=E9,T9=VM,x9=FM,C9=Object.prototype,S9=C9.hasOwnProperty;function k9(t,e,n){var i=t[e];(!(S9.call(t,e)&&x9(i,n))||n===void 0&&!(e in t))&&T9(t,e,n)}var GM=k9,R9=GM,I9=VM;function A9(t,e,n,i){var r=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=i?i(n[o],t[o],o,n,t):void 0;l===void 0&&(l=t[o]),r?I9(n,o,l):R9(n,o,l)}return n}var dg=A9;function M9(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var O9=M9;function P9(t){return t!=null&&typeof t=="object"}var Mh=P9,D9=lg,L9=Mh,F9="[object Arguments]";function N9(t){return L9(t)&&D9(t)==F9}var $9=N9,PC=$9,j9=Mh,zM=Object.prototype,B9=zM.hasOwnProperty,V9=zM.propertyIsEnumerable,G9=PC(function(){return arguments}())?PC:function(t){return j9(t)&&B9.call(t,"callee")&&!V9.call(t,"callee")},z9=G9,U9=Array.isArray,bb=U9,Vp={exports:{}};function H9(){return!1}var Y9=H9;Vp.exports;(function(t,e){var n=Is,i=Y9,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===r,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||i;t.exports=u})(Vp,Vp.exports);var UM=Vp.exports,W9=9007199254740991,K9=/^(?:0|[1-9]\d*)$/;function q9(t,e){var n=typeof t;return e=e??W9,!!e&&(n=="number"||n!="symbol"&&K9.test(t))&&t>-1&&t%1==0&&t<e}var X9=q9,Z9=9007199254740991;function J9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Z9}var HM=J9,Q9=lg,eZ=HM,tZ=Mh,nZ="[object Arguments]",iZ="[object Array]",rZ="[object Boolean]",sZ="[object Date]",aZ="[object Error]",oZ="[object Function]",lZ="[object Map]",uZ="[object Number]",cZ="[object Object]",dZ="[object RegExp]",hZ="[object Set]",fZ="[object String]",pZ="[object WeakMap]",mZ="[object ArrayBuffer]",gZ="[object DataView]",yZ="[object Float32Array]",_Z="[object Float64Array]",vZ="[object Int8Array]",bZ="[object Int16Array]",wZ="[object Int32Array]",EZ="[object Uint8Array]",TZ="[object Uint8ClampedArray]",xZ="[object Uint16Array]",CZ="[object Uint32Array]",fn={};fn[yZ]=fn[_Z]=fn[vZ]=fn[bZ]=fn[wZ]=fn[EZ]=fn[TZ]=fn[xZ]=fn[CZ]=!0;fn[nZ]=fn[iZ]=fn[mZ]=fn[rZ]=fn[gZ]=fn[sZ]=fn[aZ]=fn[oZ]=fn[lZ]=fn[uZ]=fn[cZ]=fn[dZ]=fn[hZ]=fn[fZ]=fn[pZ]=!1;function SZ(t){return tZ(t)&&eZ(t.length)&&!!fn[Q9(t)]}var kZ=SZ;function RZ(t){return function(e){return t(e)}}var wb=RZ,Gp={exports:{}};Gp.exports;(function(t,e){var n=NM,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===i,a=s&&n.process,o=function(){try{var l=r&&r.require&&r.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Gp,Gp.exports);var Eb=Gp.exports,IZ=kZ,AZ=wb,DC=Eb,LC=DC&&DC.isTypedArray,MZ=LC?AZ(LC):IZ,OZ=MZ,PZ=O9,DZ=z9,LZ=bb,FZ=UM,NZ=X9,$Z=OZ,jZ=Object.prototype,BZ=jZ.hasOwnProperty;function VZ(t,e){var n=LZ(t),i=!n&&DZ(t),r=!n&&!i&&FZ(t),s=!n&&!i&&!r&&$Z(t),a=n||i||r||s,o=a?PZ(t.length,String):[],l=o.length;for(var u in t)(e||BZ.call(t,u))&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||NZ(u,l)))&&o.push(u);return o}var YM=VZ,GZ=Object.prototype;function zZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||GZ;return t===n}var Tb=zZ;function UZ(t,e){return function(n){return t(e(n))}}var WM=UZ,HZ=WM,YZ=HZ(Object.keys,Object),WZ=YZ,KZ=Tb,qZ=WZ,XZ=Object.prototype,ZZ=XZ.hasOwnProperty;function JZ(t){if(!KZ(t))return qZ(t);var e=[];for(var n in Object(t))ZZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var QZ=JZ,eJ=jM,tJ=HM;function nJ(t){return t!=null&&tJ(t.length)&&!eJ(t)}var KM=nJ,iJ=YM,rJ=QZ,sJ=KM;function aJ(t){return sJ(t)?iJ(t):rJ(t)}var xb=aJ,oJ=dg,lJ=xb;function uJ(t,e){return t&&oJ(e,lJ(e),t)}var cJ=uJ;function dJ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var hJ=dJ,fJ=Ah,pJ=Tb,mJ=hJ,gJ=Object.prototype,yJ=gJ.hasOwnProperty;function _J(t){if(!fJ(t))return mJ(t);var e=pJ(t),n=[];for(var i in t)i=="constructor"&&(e||!yJ.call(t,i))||n.push(i);return n}var vJ=_J,bJ=YM,wJ=vJ,EJ=KM;function TJ(t){return EJ(t)?bJ(t,!0):wJ(t)}var Cb=TJ,xJ=dg,CJ=Cb;function SJ(t,e){return t&&xJ(e,CJ(e),t)}var kJ=SJ,zp={exports:{}};zp.exports;(function(t,e){var n=Is,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===i,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var h=u.length,m=o?o(h):new u.constructor(h);return u.copy(m),m}t.exports=l})(zp,zp.exports);var RJ=zp.exports;function IJ(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var AJ=IJ;function MJ(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var a=t[n];e(a,n,t)&&(s[r++]=a)}return s}var OJ=MJ;function PJ(){return[]}var qM=PJ,DJ=OJ,LJ=qM,FJ=Object.prototype,NJ=FJ.propertyIsEnumerable,FC=Object.getOwnPropertySymbols,$J=FC?function(t){return t==null?[]:(t=Object(t),DJ(FC(t),function(e){return NJ.call(t,e)}))}:LJ,Sb=$J,jJ=dg,BJ=Sb;function VJ(t,e){return jJ(t,BJ(t),e)}var GJ=VJ;function zJ(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var XM=zJ,UJ=WM,HJ=UJ(Object.getPrototypeOf,Object),ZM=HJ,YJ=XM,WJ=ZM,KJ=Sb,qJ=qM,XJ=Object.getOwnPropertySymbols,ZJ=XJ?function(t){for(var e=[];t;)YJ(e,KJ(t)),t=WJ(t);return e}:qJ,JM=ZJ,JJ=dg,QJ=JM;function eQ(t,e){return JJ(t,QJ(t),e)}var tQ=eQ,nQ=XM,iQ=bb;function rQ(t,e,n){var i=e(t);return iQ(t)?i:nQ(i,n(t))}var QM=rQ,sQ=QM,aQ=Sb,oQ=xb;function lQ(t){return sQ(t,oQ,aQ)}var uQ=lQ,cQ=QM,dQ=JM,hQ=Cb;function fQ(t){return cQ(t,hQ,dQ)}var pQ=fQ,mQ=Gl,gQ=Is,yQ=mQ(gQ,"DataView"),_Q=yQ,vQ=Gl,bQ=Is,wQ=vQ(bQ,"Promise"),EQ=wQ,TQ=Gl,xQ=Is,CQ=TQ(xQ,"Set"),SQ=CQ,kQ=Gl,RQ=Is,IQ=kQ(RQ,"WeakMap"),AQ=IQ,A_=_Q,M_=vb,O_=EQ,P_=SQ,D_=AQ,eO=lg,Tc=BM,NC="[object Map]",MQ="[object Object]",$C="[object Promise]",jC="[object Set]",BC="[object WeakMap]",VC="[object DataView]",OQ=Tc(A_),PQ=Tc(M_),DQ=Tc(O_),LQ=Tc(P_),FQ=Tc(D_),Jo=eO;(A_&&Jo(new A_(new ArrayBuffer(1)))!=VC||M_&&Jo(new M_)!=NC||O_&&Jo(O_.resolve())!=$C||P_&&Jo(new P_)!=jC||D_&&Jo(new D_)!=BC)&&(Jo=function(t){var e=eO(t),n=e==MQ?t.constructor:void 0,i=n?Tc(n):"";if(i)switch(i){case OQ:return VC;case PQ:return NC;case DQ:return $C;case LQ:return jC;case FQ:return BC}return e});var kb=Jo,NQ=Object.prototype,$Q=NQ.hasOwnProperty;function jQ(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&$Q.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var BQ=jQ,VQ=Is,GQ=VQ.Uint8Array,zQ=GQ,GC=zQ;function UQ(t){var e=new t.constructor(t.byteLength);return new GC(e).set(new GC(t)),e}var Rb=UQ,HQ=Rb;function YQ(t,e){var n=e?HQ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var WQ=YQ,KQ=/\w*$/;function qQ(t){var e=new t.constructor(t.source,KQ.exec(t));return e.lastIndex=t.lastIndex,e}var XQ=qQ,zC=_b,UC=zC?zC.prototype:void 0,HC=UC?UC.valueOf:void 0;function ZQ(t){return HC?Object(HC.call(t)):{}}var JQ=ZQ,QQ=Rb;function eee(t,e){var n=e?QQ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var tee=eee,nee=Rb,iee=WQ,ree=XQ,see=JQ,aee=tee,oee="[object Boolean]",lee="[object Date]",uee="[object Map]",cee="[object Number]",dee="[object RegExp]",hee="[object Set]",fee="[object String]",pee="[object Symbol]",mee="[object ArrayBuffer]",gee="[object DataView]",yee="[object Float32Array]",_ee="[object Float64Array]",vee="[object Int8Array]",bee="[object Int16Array]",wee="[object Int32Array]",Eee="[object Uint8Array]",Tee="[object Uint8ClampedArray]",xee="[object Uint16Array]",Cee="[object Uint32Array]";function See(t,e,n){var i=t.constructor;switch(e){case mee:return nee(t);case oee:case lee:return new i(+t);case gee:return iee(t,n);case yee:case _ee:case vee:case bee:case wee:case Eee:case Tee:case xee:case Cee:return aee(t,n);case uee:return new i;case cee:case fee:return new i(t);case dee:return ree(t);case hee:return new i;case pee:return see(t)}}var kee=See,Ree=Ah,YC=Object.create,Iee=function(){function t(){}return function(e){if(!Ree(e))return{};if(YC)return YC(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Aee=Iee,Mee=Aee,Oee=ZM,Pee=Tb;function Dee(t){return typeof t.constructor=="function"&&!Pee(t)?Mee(Oee(t)):{}}var Lee=Dee,Fee=kb,Nee=Mh,$ee="[object Map]";function jee(t){return Nee(t)&&Fee(t)==$ee}var Bee=jee,Vee=Bee,Gee=wb,WC=Eb,KC=WC&&WC.isMap,zee=KC?Gee(KC):Vee,Uee=zee,Hee=kb,Yee=Mh,Wee="[object Set]";function Kee(t){return Yee(t)&&Hee(t)==Wee}var qee=Kee,Xee=qee,Zee=wb,qC=Eb,XC=qC&&qC.isSet,Jee=XC?Zee(XC):Xee,Qee=Jee,ete=g9,tte=_9,nte=GM,ite=cJ,rte=kJ,ste=RJ,ate=AJ,ote=GJ,lte=tQ,ute=uQ,cte=pQ,dte=kb,hte=BQ,fte=kee,pte=Lee,mte=bb,gte=UM,yte=Uee,_te=Ah,vte=Qee,bte=xb,wte=Cb,Ete=1,Tte=2,xte=4,tO="[object Arguments]",Cte="[object Array]",Ste="[object Boolean]",kte="[object Date]",Rte="[object Error]",nO="[object Function]",Ite="[object GeneratorFunction]",Ate="[object Map]",Mte="[object Number]",iO="[object Object]",Ote="[object RegExp]",Pte="[object Set]",Dte="[object String]",Lte="[object Symbol]",Fte="[object WeakMap]",Nte="[object ArrayBuffer]",$te="[object DataView]",jte="[object Float32Array]",Bte="[object Float64Array]",Vte="[object Int8Array]",Gte="[object Int16Array]",zte="[object Int32Array]",Ute="[object Uint8Array]",Hte="[object Uint8ClampedArray]",Yte="[object Uint16Array]",Wte="[object Uint32Array]",ln={};ln[tO]=ln[Cte]=ln[Nte]=ln[$te]=ln[Ste]=ln[kte]=ln[jte]=ln[Bte]=ln[Vte]=ln[Gte]=ln[zte]=ln[Ate]=ln[Mte]=ln[iO]=ln[Ote]=ln[Pte]=ln[Dte]=ln[Lte]=ln[Ute]=ln[Hte]=ln[Yte]=ln[Wte]=!0;ln[Rte]=ln[nO]=ln[Fte]=!1;function Wf(t,e,n,i,r,s){var a,o=e&Ete,l=e&Tte,u=e&xte;if(n&&(a=r?n(t,i,r,s):n(t)),a!==void 0)return a;if(!_te(t))return t;var c=mte(t);if(c){if(a=hte(t),!o)return ate(t,a)}else{var h=dte(t),m=h==nO||h==Ite;if(gte(t))return ste(t,o);if(h==iO||h==tO||m&&!r){if(a=l||m?{}:pte(t),!o)return l?lte(t,rte(a,t)):ote(t,ite(a,t))}else{if(!ln[h])return r?t:{};a=fte(t,h,o)}}s||(s=new ete);var g=s.get(t);if(g)return g;s.set(t,a),vte(t)?t.forEach(function(w){a.add(Wf(w,e,n,w,t,s))}):yte(t)&&t.forEach(function(w,E){a.set(E,Wf(w,e,n,E,t,s))});var y=u?l?cte:ute:l?wte:bte,b=c?void 0:y(t);return tte(b||t,function(w,E){b&&(E=w,w=t[E]),nte(a,E,Wf(w,e,n,E,t,s))}),a}var Kte=Wf,qte=Kte,Xte=1,Zte=4;function Jte(t){return qte(t,Xte|Zte)}var Qte=Jte;const Df=Hp(Qte),ene={name:"SettingsPanel",components:{SettingsPanelHeader:mW,FieldLanguage:EW,FieldDateFormat:CW,FieldTimeFormat:RW,FieldBackgroundMap:yK,BaseBackdrop:sg,AppVersion:TK},emits:["settingsChanged"],data:function(){return{isEnabled:!1,settings:new _A}},watch:{settings:{deep:!0,handler(){this.saveSettings()}}},mounted(){mt.$on("settings-panel-open",this.enable),mt.$on("mode-changed",this.modeChange)},methods:{enable(){this.settings=Df(this.$store.state.settings.settings),this.isEnabled=!0,this.$nextTick(()=>{this.$refs.panelBody&&(this.$refs.panelBody.scrollTop=0)})},disable(){this.isEnabled=!1,this.saveSettings()},saveSettings(){this.$store.commit("setSettings",Df(this.settings)),mt.$emit("settingsChanged")},modeChange(t){this.settings=Df(this.$store.state.settings.settings),this.settings.mode=t,this.$store.commit("setSettings",Df(this.settings))}}},tne={class:"settings-panel"},nne={ref:"panelBody",class:"settings-panel-body"};function ine(t,e,n,i,r,s){const a=ze("base-backdrop"),o=ze("settings-panel-header"),l=ze("field-language"),u=ze("field-date-format"),c=ze("field-time-format"),h=ze("field-background-map"),m=ze("app-version");return ai((ie(),pe("div",null,[De(a,{onClick:s.disable},null,8,["onClick"]),Ae("div",tne,[De(o,{onClose:s.disable},null,8,["onClose"]),Ae("div",nne,[De(l,{settings:t.settings},null,8,["settings"]),De(u,{settings:t.settings},null,8,["settings"]),De(c,{settings:t.settings},null,8,["settings"]),De(h,{settings:t.settings},null,8,["settings"]),De(m)],512)])],512)),[[oi,t.isEnabled]])}const rne=st(ene,[["render",ine]]),sne={name:"InfoPanelHeader",emits:["close"]},ane={class:"info-panel-header opendata-row"};function one(t,e,n,i,r,s){return ie(),pe("div",ane,[Ae("span",null,ht(t.$t("info.title")),1),Ae("span",{class:"close-button",onClick:e[0]||(e[0]=a=>t.$emit("close"))},"×")])}const lne=st(sne,[["render",one],["__scopeId","data-v-f30c3c6d"]]),une={name:"InfoPanel",components:{InfoPanelHeader:lne,BaseBackdrop:sg},data:function(){return{isEnabled:!1}},mounted(){mt.$on("info-panel-open",this.enable)},methods:{enable(){this.isEnabled=!0,this.$nextTick(()=>{this.$refs.panelBody&&(this.$refs.panelBody.scrollTop=0)})},disable(){this.isEnabled=!1}}},cne={class:"info-panel"},dne={class:"info-panel-body"},hne={href:"https://github.com/StukFi/opendata",target:"_blank"};function fne(t,e,n,i,r,s){const a=ze("base-backdrop"),o=ze("info-panel-header");return ai((ie(),pe("div",null,[De(a,{onClick:s.disable},null,8,["onClick"]),Ae("div",cne,[De(o,{onClose:s.disable},null,8,["onClose"]),Ae("div",dne,[Ae("p",null,ht(t.$t("info.p1")),1),Ae("p",null,[Ii(ht(t.$t("info.p2"))+" ",1),Ae("a",hne,ht(t.$t("info.p3")),1),Ii(". ")])])])],512)),[[oi,t.isEnabled]])}const pne=st(une,[["render",fne]]),mne={name:"MediaControllerButton",props:{icon:{type:String,default:""},text:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["click"],computed:{style(){return this.icon?{backgroundImage:`url(/icons/${this.icon}.svg)`}:{}}}},gne=["disabled"];function yne(t,e,n,i,r,s){return ie(),pe("button",{style:Bn(s.style),disabled:n.disabled,onClick:e[0]||(e[0]=a=>t.$emit("click"))},ht(n.text),13,gne)}const Ib=st(mne,[["render",yne],["__scopeId","data-v-43287a41"]]),_ne={name:"ButtonPlaybackState",components:{MediaControllerButton:Ib},props:{mediaController:{type:Object,required:!0}},computed:{icon(){return this.mediaController.state.isPlaybackEnabled?"media-pause":"media-play"},disabled(){return this.mediaController.isPlaybackFinished()},title(){if(this.disabled){if(this.mediaController.state.playbackMode==="time")return this.$t("playback.title.disabled.time");if(this.mediaController.state.playbackMode==="date")return this.$t("playback.title.disabled.date")}else return this.mediaController.state.isPlaybackEnabled?this.$t("playback.title.stop"):this.$t("playback.title.start");return""}},methods:{handleClick(){this.mediaController.togglePlayback()}}};function vne(t,e,n,i,r,s){const a=ze("media-controller-button");return ie(),et(a,{icon:s.icon,disabled:s.disabled,title:s.title,onClick:s.handleClick},null,8,["icon","disabled","title","onClick"])}const bne=st(_ne,[["render",vne]]),wne={name:"ButtonPlaybackMode",components:{MediaControllerButton:Ib},props:{mediaController:{type:Object,required:!0}},computed:{icon(){return this.mediaController.state.playbackMode==="time"?"clock":"calendar"},title(){return this.mediaController.state.playbackMode==="time"?this.$t("playback.title.time"):this.$t("playback.title.date")}},methods:{handleClick(){this.mediaController.toggleMode()}}};function Ene(t,e,n,i,r,s){const a=ze("media-controller-button");return ie(),et(a,{icon:s.icon,title:s.title,onClick:s.handleClick},null,8,["icon","title","onClick"])}const Tne=st(wne,[["render",Ene]]),xne={name:"ButtonPlaybackSpeed",components:{MediaControllerButton:Ib},props:{mediaController:{type:Object,required:!0}},computed:{playbackSpeed(){return this.mediaController.state.playbackSpeed/1e3+" s"}},methods:{handleClick(){this.mediaController.toggleSpeed()}}};function Cne(t,e,n,i,r,s){const a=ze("media-controller-button");return ie(),et(a,{text:s.playbackSpeed,title:t.$t("playback.title.speed"),onClick:s.handleClick},null,8,["text","title","onClick"])}const Sne=st(xne,[["render",Cne]]);let kne=class{constructor(){this.state=Fr({isPlaybackEnabled:!1,playbackMode:"time",playbackSpeed:1e3,playbackSpeeds:[500,1e3,2e3],playbackTimeoutId:void 0})}play(){this.state.isPlaybackEnabled||(this.state.isPlaybackEnabled=!0,this.tick())}stop(){this.state.isPlaybackEnabled=!1,clearTimeout(this.state.playbackTimeoutId)}async tick(){if(this.state.isPlaybackEnabled){if(this.isPlaybackFinished()){this.stop();return}this.state.playbackMode==="date"?await Cu.dispatch("incrementDate"):this.state.playbackMode==="time"&&await Cu.dispatch("incrementTime"),this.state.playbackTimeoutId=setTimeout(()=>this.tick(),this.state.playbackSpeed)}}togglePlayback(){this.state.isPlaybackEnabled?this.stop():this.play()}toggleMode(){this.state.playbackMode=this.state.playbackMode==="date"?"time":"date"}toggleSpeed(){const e=this.state.playbackSpeeds.indexOf(this.state.playbackSpeed);this.state.playbackSpeed=e>=this.state.playbackSpeeds.length-1?this.state.playbackSpeeds[0]:this.state.playbackSpeeds[e+1]}isPlaybackFinished(){return this.state.playbackMode==="time"&&Cu.getters.isNewestTimeSelected||this.state.playbackMode==="date"&&Cu.getters.isNewestDateSelected}};function Rne(){return new kne}const Ine={name:"MediaController",components:{ButtonPlaybackState:bne,ButtonPlaybackMode:Tne,ButtonPlaybackSpeed:Sne},data(){return{mediaController:Rne()}}},Ane={class:"media-controller"};function Mne(t,e,n,i,r,s){const a=ze("button-playback-mode"),o=ze("button-playback-state"),l=ze("button-playback-speed");return ie(),pe("div",Ane,[De(a,{"media-controller":r.mediaController},null,8,["media-controller"]),De(o,{"media-controller":r.mediaController},null,8,["media-controller"]),De(l,{"media-controller":r.mediaController},null,8,["media-controller"])])}const One=st(Ine,[["render",Mne]]),Pne={name:"SearchSuggestListItem",props:{suggestion:{type:String,required:!0}},emits:["click"]};function Dne(t,e,n,i,r,s){return ie(),pe("p",{class:"search-suggest-list-item",onClick:e[0]||(e[0]=a=>t.$emit("click"))},ht(n.suggestion),1)}const Lne=st(Pne,[["render",Dne]]),Fne={name:"SearchSuggestList",components:{SearchSuggestListItem:Lne},props:{searchTerm:{type:String,required:!0},sites:{type:Array,required:!0}},emits:["select"],data:function(){return{isEnabled:!1}},computed:{suggestions(){let t=[];return this.sites.forEach(e=>{e.toLowerCase().indexOf(this.searchTerm.toLowerCase())>=0&&(t.includes(e)||t.push(e))}),t.sort()}},methods:{show(){this.isEnabled=!0},hide(){this.isEnabled=!1}}},Nne={class:"search-suggest-list"},$ne={class:"list-container"};function jne(t,e,n,i,r,s){const a=ze("search-suggest-list-item");return ai((ie(),pe("div",Nne,[Ae("div",$ne,[(ie(!0),pe(Ze,null,Ut(s.suggestions,o=>(ie(),et(a,{key:o,suggestion:o,onClick:l=>t.$emit("select",o)},null,8,["suggestion","onClick"]))),128))])],512)),[[oi,t.isEnabled&&s.suggestions.length>0]])}const Bne=st(Fne,[["render",jne]]),rO=function(){return document.ontouchstart!==null?"click":"touchstart"},Up="__vue_click_away__",sO=function(t,e,n){aO(t);let i=n.context,r=e.value,s=!1;setTimeout(function(){s=!0},0),t[Up]=function(a){if((!t||!t.contains(a.target))&&r&&s&&typeof r=="function")return r.call(i,a)},document.addEventListener(rO(),t[Up],!1)},aO=function(t){document.removeEventListener(rO(),t[Up],!1),delete t[Up]},Vne=function(t,e,n){e.value!==e.oldValue&&sO(t,e,n)},oO={install:function(t){t.directive("click-away",Gne)}},Gne={mounted:sO,updated:Vne,unmounted:aO},zne={name:"SearchBar",components:{SearchSuggestList:Bne},mixins:[oO],emits:["featureSelectedViaSearch"],data(){return{searchTerm:"",features:[]}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRateMode(){return this.mode==="dose_rates"},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"},sites(){let t=[];for(let e=0;e<this.features.length;++e){const n=this.features[e].get("site");t.includes(n)||t.push(n)}return t}},watch:{mode(t){(t==="dose_rates"||t==="air_radionuclides")&&this.updateFeatures()}},mounted(){this.isDoseRateMode?mt.$on("doseRateLayerChanged",this.onDoseRateLayerChanged):this.isAirRadionuclidesMode&&mt.$on("radionuclideLayerChanged",this.onRadionuclideLayerChanged)},methods:{updateFeatures(){this.features=[],this.isDoseRateMode?(mt.$off("radionuclideLayerChanged",this.onRadionuclideLayerChanged),mt.$on("doseRateLayerChanged",this.onDoseRateLayerChanged)):this.isAirRadionuclidesMode&&(mt.$off("doseRateLayerChanged",this.onDoseRateLayerChanged),mt.$on("radionuclideLayerChanged",this.onRadionuclideLayerChanged))},onDoseRateLayerChanged(t){this.features=t.getSource().getFeatures()},onRadionuclideLayerChanged(t){this.features=t.getSource().getFeatures()},onSuggestionSelected(t){this.searchTerm=t,this.search()},search(){if(this.searchTerm.length>0){const t=this.isDoseRateMode?"dose_rates":"air_radionuclides";for(let e=0;e<this.features.length;++e){const n=this.features[e].get("site");if(n.toLowerCase()===this.searchTerm.toLowerCase()){this.searchTerm=n,this.blur(),mt.$emit("featureSelectedViaSearch",this.features[e],t);break}}}},showSuggestions(){this.$refs.searchSuggestList.show()},hideSuggestions(){this.$refs.searchSuggestList.hide()},blur(){this.$refs.searchBarInput.blur(),this.hideSuggestions()}}},Une=["value"];function Hne(t,e,n,i,r,s){const a=ze("search-suggest-list"),o=tv("click-away");return ai((ie(),pe("div",{class:rt(["search-bar",{"dose-rate-mode":s.isDoseRateMode,"air-radionuclides-mode":s.isAirRadionuclidesMode}])},[Ae("span",{class:"search-bar__icon",onClick:e[0]||(e[0]=l=>s.search())}),Ae("input",{ref:"searchBarInput",value:r.searchTerm,type:"text",maxlength:"28",spellcheck:!1,class:"search-bar__input",onInput:e[1]||(e[1]=l=>r.searchTerm=l.target.value),onClick:e[2]||(e[2]=l=>s.showSuggestions()),onFocus:e[3]||(e[3]=l=>s.showSuggestions()),onKeyup:e[4]||(e[4]=ym(l=>s.search(),["enter"]))},null,40,Une),De(a,{ref:"searchSuggestList","search-term":r.searchTerm,sites:s.sites,onSelect:s.onSuggestionSelected},null,8,["search-term","sites","onSelect"])],2)),[[o,s.blur]])}const Yne=st(zne,[["render",Hne]]),Wne={name:"ButtonDateTime",props:{icon:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["click"],data(){return{iconStyle:{backgroundImage:"none"}}},watch:{icon:"updateStyle",disabled:"updateStyle"},mounted(){this.updateStyle()},methods:{async updateStyle(){if(this.disabled)this.iconStyle={backgroundImage:"none"};else try{const t=`/icons/${this.icon}.svg`;this.disabled||(this.iconStyle={backgroundImage:`url(${t})`})}catch{this.iconStyle={backgroundImage:"none"}}}}},Kne=["disabled"];function qne(t,e,n,i,r,s){return ie(),pe("button",{style:Bn(r.iconStyle),disabled:n.disabled,onClick:e[0]||(e[0]=a=>t.$emit("click"))},null,12,Kne)}const hg=st(Wne,[["render",qne],["__scopeId","data-v-8b41e01d"]]),Xne={name:"ButtonDecrementDate",components:{ButtonDateTime:hg},computed:{isOldestDateSelected(){return this.$store.getters.isOldestDateSelected}},methods:{decrementDate(){this.$store.dispatch("decrementDate")}}};function Zne(t,e,n,i,r,s){const a=ze("button-date-time");return ie(),et(a,{icon:"caret-left",disabled:s.isOldestDateSelected,onClick:e[0]||(e[0]=o=>s.decrementDate())},null,8,["disabled"])}const Jne=st(Xne,[["render",Zne],["__scopeId","data-v-fbb26811"]]),Qne={name:"ButtonIncrementDate",components:{ButtonDateTime:hg},computed:{isNewestDateSelected(){return this.$store.getters.isNewestDateSelected}},methods:{incrementDate(){this.$store.dispatch("incrementDate")}}};function eie(t,e,n,i,r,s){const a=ze("button-date-time");return ie(),et(a,{icon:"caret-right",disabled:s.isNewestDateSelected,onClick:e[0]||(e[0]=o=>s.incrementDate())},null,8,["disabled"])}const tie=st(Qne,[["render",eie],["__scopeId","data-v-3c041075"]]),nie={name:"ButtonDatepicker",emits:["calendar-popup-open"],computed:{selectedDate(){const t=this.$store.state.datetime.selectedDate;if(t)switch(this.$store.state.settings.settings.dateFormat){case"fi":default:return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear();case"iso":return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}},methods:{openCalendar(){mt.$emit("calendar-popup-open")}}};function iie(t,e,n,i,r,s){return ie(),pe("div",{class:"datepicker-button opendata-row",onClick:e[0]||(e[0]=(...a)=>s.openCalendar&&s.openCalendar(...a))},ht(s.selectedDate),1)}const rie=st(nie,[["render",iie]]),sie={name:"DateWidget",components:{ButtonDecrementDate:Jne,ButtonIncrementDate:tie,ButtonDatepicker:rie}},aie={class:"date-widget"};function oie(t,e,n,i,r,s){const a=ze("button-decrement-date"),o=ze("button-datepicker"),l=ze("button-increment-date");return ie(),pe("div",aie,[De(a),De(o),De(l)])}const lie=st(sie,[["render",oie],["__scopeId","data-v-90531585"]]),uie={name:"ButtonDecrementTime",components:{ButtonDateTime:hg},computed:{isOldestTimeSelected(){return this.$store.getters.isOldestTimeSelected}},methods:{decrementTime(){this.$store.dispatch("decrementTime")}}};function cie(t,e,n,i,r,s){const a=ze("button-date-time");return ie(),et(a,{icon:"caret-left",disabled:s.isOldestTimeSelected,onClick:e[0]||(e[0]=o=>s.decrementTime())},null,8,["disabled"])}const die=st(uie,[["render",cie],["__scopeId","data-v-d2bbd66d"]]),hie={name:"ButtonIncrementTime",components:{ButtonDateTime:hg},computed:{isNewestTimeSelected(){return this.$store.getters.isNewestTimeSelected}},methods:{incrementTime(){this.$store.dispatch("incrementTime")}}};function fie(t,e,n,i,r,s){const a=ze("button-date-time");return ie(),et(a,{icon:"caret-right",disabled:s.isNewestTimeSelected,onClick:e[0]||(e[0]=o=>s.incrementTime())},null,8,["disabled"])}const pie=st(hie,[["render",fie],["__scopeId","data-v-719478c8"]]),mie={name:"Timepicker",emits:["timepicker-list-toggle"],computed:{formattedTime(){let t=this.$store.state.datetime.selectedTime;if(t)switch(t=t.slice(0,2)+":"+t.slice(2,4),this.$store.state.settings.settings.timeFormat){case"12h":return t=H1.convertTimeTo12HourClock(t),t.split(" ")[0]+"Z "+t.split(" ")[1];case"24h":default:return t+"Z"}}},methods:{toggleTimeList(){mt.$emit("timepicker-list-toggle")}}},gie={class:"timepicker"};function yie(t,e,n,i,r,s){return ie(),pe("div",gie,[Ae("div",{class:"timepicker-button opendata-row",onClick:e[0]||(e[0]=(...a)=>s.toggleTimeList&&s.toggleTimeList(...a))},ht(s.formattedTime),1)])}const _ie=st(mie,[["render",yie]]),vie={name:"TimeWidget",components:{ButtonDecrementTime:die,ButtonIncrementTime:pie,Timepicker:_ie}},bie={class:"time-widget"};function wie(t,e,n,i,r,s){const a=ze("button-decrement-time"),o=ze("timepicker"),l=ze("button-increment-time");return ie(),pe("div",bie,[De(a),De(o),De(l)])}const Eie=st(vie,[["render",wie],["__scopeId","data-v-41c67fbc"]]),Tie={name:"TheHeader",components:{DateWidget:lie,TimeWidget:Eie}},xie={class:"header"};function Cie(t,e,n,i,r,s){const a=ze("date-widget"),o=ze("time-widget");return ie(),pe("div",xie,[De(a),De(o)])}const Sie=st(Tie,[["render",Cie],["__scopeId","data-v-a996c134"]]),kie={name:"TimepickerListItem",props:{time:{type:String,default:""}},emits:["click"],computed:{selectedTime(){return this.$store.state.datetime.selectedTime},formattedTime(){let t=this.time.slice(0,2)+":"+this.time.slice(2,4);switch(this.$store.state.settings.settings.timeFormat){case"12h":return H1.convertTimeTo12HourClock(t);case"24h":default:return t}}},methods:{setTime(){this.$store.commit("setTime",this.time),this.$emit("click")}}};function Rie(t,e,n,i,r,s){return ie(),pe("li",{class:rt({selected:n.time==s.selectedTime}),onClick:e[0]||(e[0]=(...a)=>s.setTime&&s.setTime(...a))},ht(s.formattedTime),3)}const Iie=st(kie,[["render",Rie]]),Aie={name:"TimepickerList",components:{TimepickerListItem:Iie,BaseBackdrop:sg},data:function(){return{isEnabled:!1}},computed:{availableTimesForSelectedDate(){return this.$store.getters.availableTimesForSelectedDate}},mounted(){mt.$on("timepicker-list-toggle",this.toggle)},methods:{close(){this.isEnabled=!1},toggle(){this.isEnabled=!this.isEnabled}}},Mie={class:"timepicker-list"},Oie={class:"list-container"};function Pie(t,e,n,i,r,s){const a=ze("base-backdrop"),o=ze("timepicker-list-item");return ai((ie(),pe("div",null,[De(a,{onClick:s.close},null,8,["onClick"]),Ae("ul",Mie,[Ae("div",Oie,[(ie(!0),pe(Ze,null,Ut(s.availableTimesForSelectedDate.slice().reverse(),(l,u)=>(ie(),et(o,{key:u,time:l,onClick:e[0]||(e[0]=c=>s.close())},null,8,["time"]))),128))])])],512)),[[oi,t.isEnabled]])}const Die=st(Aie,[["render",Pie],["__scopeId","data-v-bf2e8c75"]]),Lie={name:"DatepickerPopup",components:{VueDatePicker:Qm,BaseBackdrop:sg},data:function(){return{isEnabled:!1,fi:"fi",en:"en"}},computed:{language:{get(){switch(this.$store.state.settings.settings.locale){case"en":default:return this.en;case"fi":return this.fi}}},date:{get(){return this.$store.state.datetime.selectedDate},set(t){this.$store.dispatch("setDate",t)}},allowedDates(){var t=this.$store.state.datetime.availableDatasets,e=[];return t.length===0||t.forEach(n=>{e.push(new Date(n.date))}),e}},mounted(){mt.$on("calendar-popup-open",this.open)},methods:{formatDate(t){switch(this.$store.state.settings.settings.dateFormat){case"fi":default:return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear();case"iso":return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},open(){this.isEnabled=!0},close(){this.isEnabled=!1}}};function Fie(t,e,n,i,r,s){const a=ze("base-backdrop"),o=ze("VueDatePicker");return ai((ie(),pe("div",null,[De(a,{onClick:s.close},null,8,["onClick"]),De(o,{modelValue:s.date,"onUpdate:modelValue":e[0]||(e[0]=l=>s.date=l),inline:!0,"menu-class-name":"dp-custom-menu",locale:s.language,"auto-apply":"","hide-offset-dates":"","allowed-dates":s.allowedDates,onDateUpdate:s.close},null,8,["modelValue","locale","allowed-dates","onDateUpdate"])],512)),[[oi,t.isEnabled]])}const Nie=st(Lie,[["render",Fie]]),dy="units",$ie=[1,2,5],Xc=25.4/.28;class jie extends kh{constructor(e){e=e||{};const n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:e.render,target:e.target}),this.on,this.once,this.un;const i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+kl,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(dy,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(dy)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(dy,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=e.center,i=e.projection,r=this.getUnits(),s=r=="degrees"?"degrees":"m";let a=Cp(i,e.resolution,n,s);const o=this.minWidth_*(this.dpi_||Xc)/Xc,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Xc)/Xc:void 0;let u=o*a,c="";if(r=="degrees"){const _=Qu.degrees;u*=_,u<_/60?(c="″",a*=3600):u<_?(c="′",a*=60):c="°"}else if(r=="imperial")u<.9144?(c="in",a/=.0254):u<1609.344?(c="ft",a/=.3048):(c="mi",a/=1609.344);else if(r=="nautical")a/=1852,c="NM";else if(r=="metric")u<1e-6?(c="nm",a*=1e9):u<.001?(c="μm",a*=1e6):u<1?(c="mm",a*=1e3):u<1e3?c="m":(c="km",a/=1e3);else if(r=="us")u<.9144?(c="in",a*=39.37):u<1609.344?(c="ft",a/=.30480061):(c="mi",a/=1609.3472);else throw new Error("Invalid units");let h=3*Math.floor(Math.log(o*a)/Math.log(10)),m,g,y,b,w,E;for(;;){y=Math.floor(h/3);const _=Math.pow(10,y);if(m=$ie[(h%3+3)%3]*_,g=Math.round(m/a),isNaN(g)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&g>=l){m=b,g=w,y=E;break}else if(g>=o)break;b=m,w=g,E=y,++h}const x=this.scaleBar_?this.createScaleBar(g,m,c):m.toFixed(y<0?-y:0)+" "+c;this.renderedHTML_!=x&&(this.innerElement_.innerHTML=x,this.renderedHTML_=x),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,n,i){const r=this.getScaleForResolution(),s=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),a=this.scaleBarSteps_,o=e/a,l=[this.createMarker("absolute")];for(let c=0;c<a;++c){const h=c%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${h}" style="width: ${o}px;"></div>`+this.createMarker("relative")+(c%2===0||a===2?this.createStepText(c,e,!1,n,i):"")+"</div>")}return l.push(this.createStepText(a,e,!0,n,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+s+"</div>":"")+l.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,n,i,r,s){const o=(e===0?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+s),l=e===0?-3:n/this.scaleBarSteps_*-1,u=e===0?0:n/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${e===0?"left":"center"};min-width: ${u}px;left: ${i?n+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){const e=Cp(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),n=this.dpi_||Xc,i=1e3/25.4;return e*i*n}render(e){const n=e.frameState;n?this.viewState_=n.viewState:this.viewState_=null,this.updateElement_()}}const Zc={VERTICAL:0,HORIZONTAL:1};class Bie extends kh{constructor(e){e=e||{},super({target:e.target,element:document.createElement("div"),render:e.render}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=Zc.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.startX_,this.startY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=e.duration!==void 0?e.duration:200;const n=e.className!==void 0?e.className:"ol-zoomslider",i=document.createElement("button");i.setAttribute("type","button"),i.className=n+"-thumb "+kl;const r=this.element;r.className=n+" "+kl+" "+Cm,r.appendChild(i),r.addEventListener(Ya.POINTERDOWN,this.handleDraggerStart_.bind(this),!1),r.addEventListener(Ya.POINTERMOVE,this.handleDraggerDrag_.bind(this),!1),r.addEventListener(Ya.POINTERUP,this.handleDraggerEnd_.bind(this),!1),r.addEventListener(lt.CLICK,this.handleContainerClick_.bind(this),!1),i.addEventListener(lt.CLICK,gj,!1)}setMap(e){super.setMap(e),e&&e.render()}initSlider_(){const e=this.element;let n=e.offsetWidth,i=e.offsetHeight;if(n===0&&i===0)return this.sliderInitialized_=!1;const r=getComputedStyle(e);n-=parseFloat(r.paddingRight)+parseFloat(r.paddingLeft),i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom);const s=e.firstElementChild,a=getComputedStyle(s),o=s.offsetWidth+parseFloat(a.marginRight)+parseFloat(a.marginLeft),l=s.offsetHeight+parseFloat(a.marginTop)+parseFloat(a.marginBottom);return this.thumbSize_=[o,l],n>i?(this.direction_=Zc.HORIZONTAL,this.widthLimit_=n-o):(this.direction_=Zc.VERTICAL,this.heightLimit_=i-l),this.sliderInitialized_=!0}handleContainerClick_(e){const n=this.getMap().getView(),i=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(i),s=n.getConstrainedZoom(n.getZoomForResolution(r));n.animateInternal({zoom:s,duration:this.duration_,easing:$l})}handleDraggerStart_(e){if(!this.dragging_&&e.target===this.element.firstElementChild){const n=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=e.clientX-parseFloat(n.style.left),this.startY_=e.clientY-parseFloat(n.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){const i=this.handleDraggerDrag_,r=this.handleDraggerEnd_,s=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Mt(s,Ya.POINTERMOVE,i,this),Mt(s,Ya.POINTERUP,r,this))}}}handleDraggerDrag_(e){if(this.dragging_){const n=e.clientX-this.startX_,i=e.clientY-this.startY_,r=this.getRelativePosition_(n,i);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_)}}handleDraggerEnd_(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(sn),this.dragListenerKeys_.length=0)}setThumbPosition_(e){const n=this.getPositionForResolution_(e),i=this.element.firstElementChild;this.direction_==Zc.HORIZONTAL?i.style.left=this.widthLimit_*n+"px":i.style.top=this.heightLimit_*n+"px"}getRelativePosition_(e,n){let i;return this.direction_===Zc.HORIZONTAL?i=e/this.widthLimit_:i=n/this.heightLimit_,Mn(i,0,1)}getResolutionForPosition_(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)}getPositionForResolution_(e){const n=this.getMap().getView().getValueForResolutionFunction();return Mn(1-n(e),0,1)}render(e){if(!e.frameState||!this.sliderInitialized_&&!this.initSlider_())return;const n=e.frameState.viewState.resolution;this.currentResolution_=n,this.setThumbPosition_(n)}}const Vie={name:"TheMap",components:{DoseRateLayer:u6,RadionuclideLayer:h6,FeaturePopover:O6,FeaturePopup:YY,MapLegend:v6,SearchBar:Yne,ButtonOpenSettings:JY,ButtonOpenInfo:sW,ButtonChangeMode:dW,SettingsPanel:rne,InfoPanel:pne,MediaController:One,TheHeader:Sie,TimepickerList:Die,DatepickerPopup:Nie},emits:["featureClicked","featureHovered","emptyMapLocationClicked","emptyMapLocationHovered"],data(){return{map:null,baseLayer:null,default:fK,custom:dK,customStyle:hK}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRatesMode(){return this.mode==="dose_rates"},selectedBaseLayer(){return this.getBaseLayer()}},watch:{selectedBaseLayer(t){this.map&&this.map.getLayers().setAt(0,t)},mode(t){this.switchLayers(t==="dose_rates")}},mounted(){this.baseLayer=this.selectedBaseLayer,this.map=new LM({target:"map",layers:[this.baseLayer],controls:[new RM,new Bie,new jie,new kM],view:new Yr({center:t2([25.75,65.75]),enableRotation:!1,minZoom:4,maxZoom:16,zoom:5})}),this.custom===void 0?this.custom=this.default:this.customStyle!==void 0&&this.customStyle(this.custom),this.map.on("click",this.onMapInteraction),this.map.on("pointermove",this.onMapInteraction),this.map.on("moveend",this.onZoomChange),mt.$on("featurePopupOpened",this.centerViewOnFeaturePopup),this.$refs.featurePopover&&this.$refs.featurePopover.overlay&&this.map.addOverlay(this.$refs.featurePopover.overlay),this.$refs.featurePopup&&this.$refs.featurePopup.overlay&&this.map.addOverlay(this.$refs.featurePopup.overlay),this.switchLayers(this.mode==="dose_rates")},methods:{getBaseLayer(){switch(this.$store.state.settings.settings.backgroundMap){case"custom":return this.custom;case"default":return this.default;default:return this.default}},switchLayers(t){if(this.map){const e=this.$refs.doseRateLayer?this.$refs.doseRateLayer.vectorLayer:null,n=this.$refs.radionuclideLayer?this.$refs.radionuclideLayer.vectorLayer:null;t?(n&&this.map.removeLayer(n),e&&(this.map.addLayer(e),this.onZoomChange())):(e&&this.map.removeLayer(e),n&&(this.map.addLayer(n),this.onZoomChange()))}},onMapInteraction(t){var e=this.map.getEventPixel(t.originalEvent),n=this.map.getFeaturesAtPixel(e,{layerFilter:i=>i!==this.custom});n.length>0?t.type=="click"?mt.$emit("featureClicked",n[0]):t.type=="pointermove"&&mt.$emit("featureHovered",n[0]):t.type=="click"?mt.$emit("emptyMapLocationClicked"):t.type=="pointermove"&&mt.$emit("emptyMapLocationHovered")},onZoomChange(){const t=this.map.getView().getZoom();this.$refs.doseRateLayer.updateFeatureRadius(t),this.$refs.radionuclideLayer.updateFeatureRadius(t)},centerViewOnFeaturePopup(t){if(this.map&&this.$refs.featurePopup&&this.$refs.featurePopup.$el){const e=t.getGeometry().getCoordinates(),n=this.map.getPixelFromCoordinate(e);n[1]-=this.$refs.featurePopup.$el.clientHeight*.58;const i=this.map.getCoordinateFromPixel(n);this.map.getView().animate({center:i,duration:750})}}}},Gie={id:"map"};function zie(t,e,n,i,r,s){const a=ze("dose-rate-layer"),o=ze("radionuclide-layer"),l=ze("feature-popover"),u=ze("feature-popup"),c=ze("map-legend"),h=ze("search-bar"),m=ze("button-open-settings"),g=ze("button-open-info"),y=ze("button-change-mode"),b=ze("settings-panel"),w=ze("info-panel"),E=ze("media-controller"),x=ze("the-header"),_=ze("timepicker-list"),T=ze("datepicker-popup"),C=ze("vue-progress-bar");return ie(),pe("div",Gie,[De(a,{ref:"doseRateLayer"},null,512),De(o,{ref:"radionuclideLayer"},null,512),De(l,{ref:"featurePopover"},null,512),De(u,{ref:"featurePopup"},null,512),s.isDoseRatesMode?(ie(),et(c,{key:0})):ke("",!0),De(h),De(m),De(g),De(y),De(b),De(w),s.isDoseRatesMode?(ie(),et(E,{key:1})):ke("",!0),s.isDoseRatesMode?(ie(),et(x,{key:2})):ke("",!0),De(_),De(T),De(C)])}const Uie=st(Vie,[["render",zie]]),Hie={name:"App",components:{TheMap:Uie},mounted(){this.$store.dispatch("initialize")}};function Yie(t,e,n,i,r,s){const a=ze("the-map");return ie(),et(a)}const Wie=st(Hie,[["render",Yie]]);var lO={exports:{}};const Kie=SD(d5);(function(t){t.exports=function(e){var n={};function i(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=n,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(s&1&&(r=i(r)),s&8||s&4&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),s&2&&typeof r!="string")for(var o in r)i.d(a,o,function(l){return r[l]}.bind(null,o));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="",i(i.s="fb15")}({8875:function(e,n,i){var r,s,a;(function(o,l){s=[],r=l,a=typeof r=="function"?r.apply(n,s):r,a!==void 0&&(e.exports=a)})(typeof self<"u"?self:this,function(){function o(){var l=Object.getOwnPropertyDescriptor(document,"currentScript");if(!l&&"currentScript"in document&&document.currentScript||l&&l.get!==o&&document.currentScript)return document.currentScript;try{throw new Error}catch(T){var u=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,c=/@([^@]*):(\d+):(\d+)\s*$/ig,h=u.exec(T.stack)||c.exec(T.stack),m=h&&h[1]||!1,g=h&&h[2]||!1,y=document.location.href.replace(document.location.hash,""),b,w,E,x=document.getElementsByTagName("script");m===y&&(b=document.documentElement.outerHTML,w=new RegExp("(?:[^\\n]+?\\n){0,"+(g-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),E=b.replace(w,"$1").trim());for(var _=0;_<x.length;_++)if(x[_].readyState==="interactive"||x[_].src===m||m===y&&x[_].innerHTML&&x[_].innerHTML.trim()===E)return x[_];return null}}return o})},"8bbf":function(e,n){e.exports=Kie},fb15:function(e,n,i){if(i.r(n),typeof window<"u"){var r=window.document.currentScript;{var s=i("8875");r=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s})}var a=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(i.p=a[1])}var o=i("8bbf");function l(y,b,w,E,x,_){return Object(o.openBlock)(),Object(o.createBlock)("div",{style:E.finalStyle},null,4)}var u=typeof window<"u",c={name:"VueProgress",serverCacheKey:function(){return"Progress"},setup:function(){var b=u?Object(o.inject)("RADON_LOADING_BAR"):{percent:0,options:{canSuccess:!0,show:!1,color:"rgb(19, 91, 55)",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},location:"top",autoRevert:!0,inverse:!1}},w=Object(o.computed)(function(){var E=b.options,x=!!E.show,_=E.location,T={"z-index":999999,"background-color":E.canSuccess?E.color:E.failedColor,opacity:E.show?1:0,position:E.position};return _==="top"||_==="bottom"?(_==="top"?T.top="0px":T.bottom="0px",E.inverse?T.right="0px":T.left="0px",T.width=b.percent+"%",T.height=E.thickness,T.transition=(x?"width "+E.transition.speed+", ":"")+"opacity "+E.transition.opacity):(_==="left"||_==="right")&&(_==="left"?T.left="0px":T.right="0px",E.inverse?T.top="0px":T.bottom="0px",T.height=b.percent+"%",T.width=E.thickness,T.transition=(x?"height "+E.transition.speed+", ":"")+"opacity "+E.transition.opacity),T});return{progress:b,finalStyle:w}}};c.render=l;var h=c;function m(y,b){for(var w=1,E,x;w<arguments.length;++w){x=arguments[w];for(E in x)Object.prototype.hasOwnProperty.call(x,E)&&(y[E]=x[E])}return y}var g={install:function(b,w){var E={canSuccess:!0,show:!1,color:"#73ccec",position:"fixed",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1,autoFinish:!0},x=m(E,w),_=Object(o.reactive)({percent:0,options:x});b.provide("RADON_LOADING_BAR",_);var T={state:{tFailColor:"",tColor:"",timer:null,cut:0},start:function(k){var A=this;k||(k=3e3),_.percent=0,_.options.show=!0,_.options.canSuccess=!0,this.state.cut=1e4/Math.floor(k),clearInterval(this.state.timer),this.state.timer=setInterval(function(){A.increase(A.state.cut*Math.random()),_.percent>95&&_.options.autoFinish&&A.finish()},100)},set:function(k){_.options.show=!0,_.options.canSuccess=!0,_.percent=Math.floor(k)},get:function(){return Math.floor(_.percent)},increase:function(k){_.percent=Math.min(99,_.percent+Math.floor(k))},decrease:function(k){_.percent=_.percent-Math.floor(k)},hide:function(){var k=this;clearInterval(this.state.timer),this.state.timer=null,setTimeout(function(){_.options.show=!1,Object(o.nextTick)(function(){setTimeout(function(){_.percent=0},100),_.options.autoRevert&&setTimeout(function(){k.revert()},300)})},_.options.transition.termination)},pause:function(){clearInterval(this.state.timer)},finish:function(){_.percent=100,this.hide()},fail:function(){_.options.canSuccess=!1,_.percent=100,this.hide()},setFailColor:function(k){_.options.failedColor=k},setColor:function(k){_.options.color=k},setLocation:function(k){_.options.location=k},setTransition:function(k){_.options.transition=k},tempFailColor:function(k){this.state.tFailColor=_.options.failedColor,_.options.failedColor=k},tempColor:function(k){this.state.tColor=_.options.color,_.options.color=k},tempLocation:function(k){this.state.tLocation=_.options.location,_.options.location=k},tempTransition:function(k){this.state.tTransition=_.options.transition,_.options.transition=k},revertColor:function(){_.options.color=this.state.tColor,this.state.tColor=""},revertFailColor:function(){_.options.failedColor=this.state.tFailColor,this.state.tFailColor=""},revertLocation:function(){_.options.location=this.state.tLocation,this.state.tLocation=""},revertTransition:function(){_.options.transition=this.state.tTransition,this.state.tTransition={}},revert:function(){_.options.autoRevert&&(this.state.tColor&&this.revertColor(),this.state.tFailColor&&this.revertFailColor(),this.state.tLocation&&this.revertLocation(),this.state.tTransition&&(this.state.tTransition.speed!==void 0||this.state.tTransition.opacity!==void 0)&&this.revertTransition())},parseMeta:function(k){for(var A in k.func){var L=k.func[A];switch(L.call){case"color":switch(L.modifier){case"set":this.setColor(L.argument);break;case"temp":this.tempColor(L.argument);break}break;case"fail":switch(L.modifier){case"set":this.setFailColor(L.argument);break;case"temp":this.tempFailColor(L.argument);break}break;case"location":switch(L.modifier){case"set":this.setLocation(L.argument);break;case"temp":this.tempLocation(L.argument);break}break;case"transition":switch(L.modifier){case"set":this.setTransition(L.argument);break;case"temp":this.tempTransition(L.argument);break}break}}}};b.component("vue-progress-bar",h),b.config.globalProperties.$Progress=T}};n.default=g}})})(lO);var qie=lO.exports;const Xie=Hp(qie),Zie={color:"white",failedColor:"#e95024",thickness:"0.25em"},xc=Av(Wie);xc.use(Cu);xc.use(qy);xc.use(Xie,Zie);xc.use(oO);xc.use(J5);xc.mount("#app");
