import{g as Tp,P as Ox,l as BP,a as VP}from"./plotly.js-yzfnK8HI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var vb={};/*!
  * shared v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const _f=typeof window<"u",Qa=(t,e=!1)=>e?Symbol.for(t):Symbol(t),GP=(t,e,n)=>jP({l:t,k:e,s:n}),jP=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),An=t=>typeof t=="number"&&isFinite(t),zP=t=>Fx(t)==="[object Date]",Ba=t=>Fx(t)==="[object RegExp]",xp=t=>Je(t)&&Object.keys(t).length===0,er=Object.assign;let bb;const Ss=()=>bb||(bb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof vb<"u"?vb:{});function wb(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const UP=Object.prototype.hasOwnProperty;function vf(t,e){return UP.call(t,e)}const Wt=Array.isArray,Vt=t=>typeof t=="function",ke=t=>typeof t=="string",ut=t=>typeof t=="boolean",Rt=t=>t!==null&&typeof t=="object",YP=t=>Rt(t)&&Vt(t.then)&&Vt(t.catch),Lx=Object.prototype.toString,Fx=t=>Lx.call(t),Je=t=>{if(!Rt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},HP=t=>t==null?"":Wt(t)||Je(t)&&t.toString===Lx?JSON.stringify(t,null,2):String(t);function WP(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}function Cp(t){let e=t;return()=>++e}function qP(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const ph=t=>!Rt(t)||Wt(t);function tf(t,e){if(ph(t)||ph(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(s=>{ph(r[s])||ph(i[s])?i[s]=r[s]:n.push({src:r[s],des:i[s]})})}}/*!
  * message-compiler v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function KP(t,e,n){return{line:t,column:e,offset:n}}function bf(t,e,n){return{start:t,end:e}}const XP=/\{([0-9a-zA-Z]+)\}/g;function Nx(t,...e){return e.length===1&&ZP(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(XP,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const $x=Object.assign,Eb=t=>typeof t=="string",ZP=t=>t!==null&&typeof t=="object";function Bx(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}const J_={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},JP={[J_.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function QP(t,e,...n){const r=Nx(JP[t],...n||[]),i={message:String(r),code:t};return e&&(i.location=e),i}const ze={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},eD={[ze.EXPECTED_TOKEN]:"Expected token: '{0}'",[ze.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ze.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ze.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ze.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ze.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ze.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ze.EMPTY_PLACEHOLDER]:"Empty placeholder",[ze.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ze.INVALID_LINKED_FORMAT]:"Invalid linked format",[ze.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ze.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ze.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ze.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ze.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ze.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Mu(t,e,n={}){const{domain:r,messages:i,args:s}=n,a=Nx((i||eD)[t]||"",...s||[]),o=new SyntaxError(String(a));return o.code=t,e&&(o.location=e),o.domain=r,o}function tD(t){throw t}const hs=" ",nD="\r",br=`
`,rD="\u2028",iD="\u2029";function sD(t){const e=t;let n=0,r=1,i=1,s=0;const a=x=>e[x]===nD&&e[x+1]===br,o=x=>e[x]===br,l=x=>e[x]===iD,c=x=>e[x]===rD,u=x=>a(x)||o(x)||l(x)||c(x),d=()=>n,h=()=>r,f=()=>i,p=()=>s,m=x=>a(x)||l(x)||c(x)?br:e[x],y=()=>m(n),v=()=>m(n+s);function b(){return s=0,u(n)&&(r++,i=0),a(n)&&n++,n++,i++,e[n]}function g(){return a(n+s)&&s++,s++,e[n+s]}function _(){n=0,r=1,i=1,s=0}function w(x=0){s=x}function E(){const x=n+s;for(;x!==n;)b();s=0}return{index:d,line:h,column:f,peekOffset:p,charAt:m,currentChar:y,currentPeek:v,next:b,peek:g,reset:_,resetPeek:w,skipToPeek:E}}const Qs=void 0,aD=".",Tb="'",oD="tokenizer";function lD(t,e={}){const n=e.location!==!1,r=sD(t),i=()=>r.index(),s=()=>KP(r.line(),r.column(),r.index()),a=s(),o=i(),l={currentType:14,offset:o,startLoc:a,endLoc:a,lastType:14,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function d(R,D,Y,...J){const he=c();if(D.column+=Y,D.offset+=Y,u){const ce=n?bf(he.startLoc,D):null,X=Mu(R,ce,{domain:oD,args:J});u(X)}}function h(R,D,Y){R.endLoc=s(),R.currentType=D;const J={type:D};return n&&(J.loc=bf(R.startLoc,R.endLoc)),Y!=null&&(J.value=Y),J}const f=R=>h(R,14);function p(R,D){return R.currentChar()===D?(R.next(),D):(d(ze.EXPECTED_TOKEN,s(),0,D),"")}function m(R){let D="";for(;R.currentPeek()===hs||R.currentPeek()===br;)D+=R.currentPeek(),R.peek();return D}function y(R){const D=m(R);return R.skipToPeek(),D}function v(R){if(R===Qs)return!1;const D=R.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D===95}function b(R){if(R===Qs)return!1;const D=R.charCodeAt(0);return D>=48&&D<=57}function g(R,D){const{currentType:Y}=D;if(Y!==2)return!1;m(R);const J=v(R.currentPeek());return R.resetPeek(),J}function _(R,D){const{currentType:Y}=D;if(Y!==2)return!1;m(R);const J=R.currentPeek()==="-"?R.peek():R.currentPeek(),he=b(J);return R.resetPeek(),he}function w(R,D){const{currentType:Y}=D;if(Y!==2)return!1;m(R);const J=R.currentPeek()===Tb;return R.resetPeek(),J}function E(R,D){const{currentType:Y}=D;if(Y!==8)return!1;m(R);const J=R.currentPeek()===".";return R.resetPeek(),J}function x(R,D){const{currentType:Y}=D;if(Y!==9)return!1;m(R);const J=v(R.currentPeek());return R.resetPeek(),J}function S(R,D){const{currentType:Y}=D;if(!(Y===8||Y===12))return!1;m(R);const J=R.currentPeek()===":";return R.resetPeek(),J}function T(R,D){const{currentType:Y}=D;if(Y!==10)return!1;const J=()=>{const ce=R.currentPeek();return ce==="{"?v(R.peek()):ce==="@"||ce==="%"||ce==="|"||ce===":"||ce==="."||ce===hs||!ce?!1:ce===br?(R.peek(),J()):F(R,!1)},he=J();return R.resetPeek(),he}function P(R){m(R);const D=R.currentPeek()==="|";return R.resetPeek(),D}function B(R){const D=m(R),Y=R.currentPeek()==="%"&&R.peek()==="{";return R.resetPeek(),{isModulo:Y,hasSpace:D.length>0}}function F(R,D=!0){const Y=(he=!1,ce="",X=!1)=>{const re=R.currentPeek();return re==="{"?ce==="%"?!1:he:re==="@"||!re?ce==="%"?!0:he:re==="%"?(R.peek(),Y(he,"%",!0)):re==="|"?ce==="%"||X?!0:!(ce===hs||ce===br):re===hs?(R.peek(),Y(!0,hs,X)):re===br?(R.peek(),Y(!0,br,X)):!0},J=Y();return D&&R.resetPeek(),J}function z(R,D){const Y=R.currentChar();return Y===Qs?Qs:D(Y)?(R.next(),Y):null}function j(R){const D=R.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===95||D===36}function I(R){return z(R,j)}function O(R){const D=R.charCodeAt(0);return D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===95||D===36||D===45}function M(R){return z(R,O)}function H(R){const D=R.charCodeAt(0);return D>=48&&D<=57}function Z(R){return z(R,H)}function le(R){const D=R.charCodeAt(0);return D>=48&&D<=57||D>=65&&D<=70||D>=97&&D<=102}function ie(R){return z(R,le)}function N(R){let D="",Y="";for(;D=Z(R);)Y+=D;return Y}function te(R){y(R);const D=R.currentChar();return D!=="%"&&d(ze.EXPECTED_TOKEN,s(),0,D),R.next(),"%"}function A(R){let D="";for(;;){const Y=R.currentChar();if(Y==="{"||Y==="}"||Y==="@"||Y==="|"||!Y)break;if(Y==="%")if(F(R))D+=Y,R.next();else break;else if(Y===hs||Y===br)if(F(R))D+=Y,R.next();else{if(P(R))break;D+=Y,R.next()}else D+=Y,R.next()}return D}function se(R){y(R);let D="",Y="";for(;D=M(R);)Y+=D;return R.currentChar()===Qs&&d(ze.UNTERMINATED_CLOSING_BRACE,s(),0),Y}function pe(R){y(R);let D="";return R.currentChar()==="-"?(R.next(),D+=`-${N(R)}`):D+=N(R),R.currentChar()===Qs&&d(ze.UNTERMINATED_CLOSING_BRACE,s(),0),D}function L(R){return R!==Tb&&R!==br}function ve(R){y(R),p(R,"'");let D="",Y="";for(;D=z(R,L);)D==="\\"?Y+=Pe(R):Y+=D;const J=R.currentChar();return J===br||J===Qs?(d(ze.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),J===br&&(R.next(),p(R,"'")),Y):(p(R,"'"),Y)}function Pe(R){const D=R.currentChar();switch(D){case"\\":case"'":return R.next(),`\\${D}`;case"u":return ne(R,D,4);case"U":return ne(R,D,6);default:return d(ze.UNKNOWN_ESCAPE_SEQUENCE,s(),0,D),""}}function ne(R,D,Y){p(R,D);let J="";for(let he=0;he<Y;he++){const ce=ie(R);if(!ce){d(ze.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${D}${J}${R.currentChar()}`);break}J+=ce}return`\\${D}${J}`}function De(R){return R!=="{"&&R!=="}"&&R!==hs&&R!==br}function G(R){y(R);let D="",Y="";for(;D=z(R,De);)Y+=D;return Y}function k(R){let D="",Y="";for(;D=I(R);)Y+=D;return Y}function C(R){const D=Y=>{const J=R.currentChar();return J==="{"||J==="%"||J==="@"||J==="|"||J==="("||J===")"||!J||J===hs?Y:(Y+=J,R.next(),D(Y))};return D("")}function $(R){y(R);const D=p(R,"|");return y(R),D}function U(R,D){let Y=null;switch(R.currentChar()){case"{":return D.braceNest>=1&&d(ze.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),R.next(),Y=h(D,2,"{"),y(R),D.braceNest++,Y;case"}":return D.braceNest>0&&D.currentType===2&&d(ze.EMPTY_PLACEHOLDER,s(),0),R.next(),Y=h(D,3,"}"),D.braceNest--,D.braceNest>0&&y(R),D.inLinked&&D.braceNest===0&&(D.inLinked=!1),Y;case"@":return D.braceNest>0&&d(ze.UNTERMINATED_CLOSING_BRACE,s(),0),Y=W(R,D)||f(D),D.braceNest=0,Y;default:{let he=!0,ce=!0,X=!0;if(P(R))return D.braceNest>0&&d(ze.UNTERMINATED_CLOSING_BRACE,s(),0),Y=h(D,1,$(R)),D.braceNest=0,D.inLinked=!1,Y;if(D.braceNest>0&&(D.currentType===5||D.currentType===6||D.currentType===7))return d(ze.UNTERMINATED_CLOSING_BRACE,s(),0),D.braceNest=0,V(R,D);if(he=g(R,D))return Y=h(D,5,se(R)),y(R),Y;if(ce=_(R,D))return Y=h(D,6,pe(R)),y(R),Y;if(X=w(R,D))return Y=h(D,7,ve(R)),y(R),Y;if(!he&&!ce&&!X)return Y=h(D,13,G(R)),d(ze.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,Y.value),y(R),Y;break}}return Y}function W(R,D){const{currentType:Y}=D;let J=null;const he=R.currentChar();switch((Y===8||Y===9||Y===12||Y===10)&&(he===br||he===hs)&&d(ze.INVALID_LINKED_FORMAT,s(),0),he){case"@":return R.next(),J=h(D,8,"@"),D.inLinked=!0,J;case".":return y(R),R.next(),h(D,9,".");case":":return y(R),R.next(),h(D,10,":");default:return P(R)?(J=h(D,1,$(R)),D.braceNest=0,D.inLinked=!1,J):E(R,D)||S(R,D)?(y(R),W(R,D)):x(R,D)?(y(R),h(D,12,k(R))):T(R,D)?(y(R),he==="{"?U(R,D)||J:h(D,11,C(R))):(Y===8&&d(ze.INVALID_LINKED_FORMAT,s(),0),D.braceNest=0,D.inLinked=!1,V(R,D))}}function V(R,D){let Y={type:14};if(D.braceNest>0)return U(R,D)||f(D);if(D.inLinked)return W(R,D)||f(D);switch(R.currentChar()){case"{":return U(R,D)||f(D);case"}":return d(ze.UNBALANCED_CLOSING_BRACE,s(),0),R.next(),h(D,3,"}");case"@":return W(R,D)||f(D);default:{if(P(R))return Y=h(D,1,$(R)),D.braceNest=0,D.inLinked=!1,Y;const{isModulo:he,hasSpace:ce}=B(R);if(he)return ce?h(D,0,A(R)):h(D,4,te(R));if(F(R))return h(D,0,A(R));break}}return Y}function ee(){const{currentType:R,offset:D,startLoc:Y,endLoc:J}=l;return l.lastType=R,l.lastOffset=D,l.lastStartLoc=Y,l.lastEndLoc=J,l.offset=i(),l.startLoc=s(),r.currentChar()===Qs?h(l,14):V(r,l)}return{nextToken:ee,currentOffset:i,currentPosition:s,context:c}}const uD="parser",cD=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function dD(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function hD(t={}){const e=t.location!==!1,{onError:n,onWarn:r}=t;function i(g,_,w,E,...x){const S=g.currentPosition();if(S.offset+=E,S.column+=E,n){const T=e?bf(w,S):null,P=Mu(_,T,{domain:uD,args:x});n(P)}}function s(g,_,w,E,...x){const S=g.currentPosition();if(S.offset+=E,S.column+=E,r){const T=e?bf(w,S):null;r(QP(_,T,x))}}function a(g,_,w){const E={type:g};return e&&(E.start=_,E.end=_,E.loc={start:w,end:w}),E}function o(g,_,w,E){e&&(g.end=_,g.loc&&(g.loc.end=w))}function l(g,_){const w=g.context(),E=a(3,w.offset,w.startLoc);return E.value=_,o(E,g.currentOffset(),g.currentPosition()),E}function c(g,_){const w=g.context(),{lastOffset:E,lastStartLoc:x}=w,S=a(5,E,x);return S.index=parseInt(_,10),g.nextToken(),o(S,g.currentOffset(),g.currentPosition()),S}function u(g,_,w){const E=g.context(),{lastOffset:x,lastStartLoc:S}=E,T=a(4,x,S);return T.key=_,w===!0&&(T.modulo=!0),g.nextToken(),o(T,g.currentOffset(),g.currentPosition()),T}function d(g,_){const w=g.context(),{lastOffset:E,lastStartLoc:x}=w,S=a(9,E,x);return S.value=_.replace(cD,dD),g.nextToken(),o(S,g.currentOffset(),g.currentPosition()),S}function h(g){const _=g.nextToken(),w=g.context(),{lastOffset:E,lastStartLoc:x}=w,S=a(8,E,x);return _.type!==12?(i(g,ze.UNEXPECTED_EMPTY_LINKED_MODIFIER,w.lastStartLoc,0),S.value="",o(S,E,x),{nextConsumeToken:_,node:S}):(_.value==null&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ti(_)),S.value=_.value||"",o(S,g.currentOffset(),g.currentPosition()),{node:S})}function f(g,_){const w=g.context(),E=a(7,w.offset,w.startLoc);return E.value=_,o(E,g.currentOffset(),g.currentPosition()),E}function p(g){const _=g.context(),w=a(6,_.offset,_.startLoc);let E=g.nextToken();if(E.type===9){const x=h(g);w.modifier=x.node,E=x.nextConsumeToken||g.nextToken()}switch(E.type!==10&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Ti(E)),E=g.nextToken(),E.type===2&&(E=g.nextToken()),E.type){case 11:E.value==null&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Ti(E)),w.key=f(g,E.value||"");break;case 5:E.value==null&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Ti(E)),w.key=u(g,E.value||"");break;case 6:E.value==null&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Ti(E)),w.key=c(g,E.value||"");break;case 7:E.value==null&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Ti(E)),w.key=d(g,E.value||"");break;default:{i(g,ze.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const x=g.context(),S=a(7,x.offset,x.startLoc);return S.value="",o(S,x.offset,x.startLoc),w.key=S,o(w,x.offset,x.startLoc),{nextConsumeToken:E,node:w}}}return o(w,g.currentOffset(),g.currentPosition()),{node:w}}function m(g){const _=g.context(),w=_.currentType===1?g.currentOffset():_.offset,E=_.currentType===1?_.endLoc:_.startLoc,x=a(2,w,E);x.items=[];let S=null,T=null;do{const F=S||g.nextToken();switch(S=null,F.type){case 0:F.value==null&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Ti(F)),x.items.push(l(g,F.value||""));break;case 6:F.value==null&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Ti(F)),x.items.push(c(g,F.value||""));break;case 4:T=!0;break;case 5:F.value==null&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Ti(F)),x.items.push(u(g,F.value||"",!!T)),T&&(s(g,J_.USE_MODULO_SYNTAX,_.lastStartLoc,0,Ti(F)),T=null);break;case 7:F.value==null&&i(g,ze.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,Ti(F)),x.items.push(d(g,F.value||""));break;case 8:{const z=p(g);x.items.push(z.node),S=z.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const P=_.currentType===1?_.lastOffset:g.currentOffset(),B=_.currentType===1?_.lastEndLoc:g.currentPosition();return o(x,P,B),x}function y(g,_,w,E){const x=g.context();let S=E.items.length===0;const T=a(1,_,w);T.cases=[],T.cases.push(E);do{const P=m(g);S||(S=P.items.length===0),T.cases.push(P)}while(x.currentType!==14);return S&&i(g,ze.MUST_HAVE_MESSAGES_IN_PLURAL,w,0),o(T,g.currentOffset(),g.currentPosition()),T}function v(g){const _=g.context(),{offset:w,startLoc:E}=_,x=m(g);return _.currentType===14?x:y(g,w,E,x)}function b(g){const _=lD(g,$x({},t)),w=_.context(),E=a(0,w.offset,w.startLoc);return e&&E.loc&&(E.loc.source=g),E.body=v(_),t.onCacheKey&&(E.cacheKey=t.onCacheKey(g)),w.currentType!==14&&i(_,ze.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,g[w.offset]||""),o(E,_.currentOffset(),_.currentPosition()),E}return{parse:b}}function Ti(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function fD(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function xb(t,e){for(let n=0;n<t.length;n++)Q_(t[n],e)}function Q_(t,e){switch(t.type){case 1:xb(t.cases,e),e.helper("plural");break;case 2:xb(t.items,e);break;case 6:{Q_(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function pD(t,e={}){const n=fD(t);n.helper("normalize"),t.body&&Q_(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function mD(t){const e=t.body;return e.type===2?Cb(e):e.cases.forEach(n=>Cb(n)),t}function Cb(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=Bx(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const gD="minifier";function Ll(t){switch(t.t=t.type,t.type){case 0:{const e=t;Ll(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)Ll(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)Ll(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Ll(e.key),e.k=e.key,delete e.key,e.modifier&&(Ll(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Mu(ze.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:gD,args:[t.type]})}delete t.type}const yD="parser";function _D(t,e){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:s}=e,a=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};a&&t.loc&&(o.source=t.loc.source);const l=()=>o;function c(y,v){o.code+=y}function u(y,v=!0){const b=v?i:"";c(s?b+"  ".repeat(y):b)}function d(y=!0){const v=++o.indentLevel;y&&u(v)}function h(y=!0){const v=--o.indentLevel;y&&u(v)}function f(){u(o.indentLevel)}return{context:l,push:c,indent:d,deindent:h,newline:f,helper:y=>`_${y}`,needIndent:()=>o.needIndent}}function vD(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),uu(t,e.key),e.modifier?(t.push(", "),uu(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function bD(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const i=e.items.length;for(let s=0;s<i&&(uu(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(r()),t.push("])")}function wD(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const i=e.cases.length;for(let s=0;s<i&&(uu(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(r()),t.push("])")}}function ED(t,e){e.body?uu(t,e.body):t.push("null")}function uu(t,e){const{helper:n}=t;switch(e.type){case 0:ED(t,e);break;case 1:wD(t,e);break;case 2:bD(t,e);break;case 6:vD(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Mu(ze.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:yD,args:[e.type]})}}const TD=(t,e={})=>{const n=Eb(e.mode)?e.mode:"normal",r=Eb(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],l=_D(t,{mode:n,filename:r,sourceMap:i,breakLineCode:s,needIndent:a});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),o.length>0&&(l.push(`const { ${Bx(o.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),uu(l,t),l.deindent(a),l.push("}"),delete t.helpers;const{code:c,map:u}=l.context();return{ast:t,code:c,map:u?u.toJSON():void 0}};function xD(t,e={}){const n=$x({},e),r=!!n.jit,i=!!n.minify,s=n.optimize==null?!0:n.optimize,o=hD(n).parse(t);return r?(s&&mD(o),i&&Ll(o),{ast:o,code:""}):(pD(o,n),TD(o,n))}/*!
  * core-base v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function CD(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ss().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ss().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ss().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const eo=[];eo[0]={w:[0],i:[3,0],"[":[4],o:[7]};eo[1]={w:[1],".":[2],"[":[4],o:[7]};eo[2]={w:[2],i:[3,0],0:[3,0]};eo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};eo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};eo[5]={"'":[4,0],o:8,l:[5,0]};eo[6]={'"':[4,0],o:8,l:[6,0]};const SD=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function RD(t){return SD.test(t)}function kD(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function ID(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function AD(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:RD(e)?kD(e):"*"+e}function MD(t){const e=[];let n=-1,r=0,i=0,s,a,o,l,c,u,d;const h=[];h[0]=()=>{a===void 0?a=o:a+=o},h[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,r=4,h[0]();else{if(i=0,a===void 0||(a=AD(a),a===!1))return!1;h[1]()}};function f(){const p=t[n+1];if(r===5&&p==="'"||r===6&&p==='"')return n++,o="\\"+p,h[0](),!0}for(;r!==null;)if(n++,s=t[n],!(s==="\\"&&f())){if(l=ID(s),d=eo[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(u=h[c[1]],u&&(o=s,u()===!1))))return;if(r===7)return e}}const Sb=new Map;function PD(t,e){return Rt(t)?t[e]:null}function DD(t,e){if(!Rt(t))return null;let n=Sb.get(e);if(n||(n=MD(e),n&&Sb.set(e,n)),!n)return null;const r=n.length;let i=t,s=0;for(;s<r;){const a=i[n[s]];if(a===void 0||Vt(i))return null;i=a,s++}return i}const OD=t=>t,LD=t=>"",FD="text",ND=t=>t.length===0?"":WP(t),$D=HP;function Rb(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function BD(t){const e=An(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(An(t.named.count)||An(t.named.n))?An(t.named.count)?t.named.count:An(t.named.n)?t.named.n:e:e}function VD(t,e){e.count||(e.count=t),e.n||(e.n=t)}function GD(t={}){const e=t.locale,n=BD(t),r=Rt(t.pluralRules)&&ke(e)&&Vt(t.pluralRules[e])?t.pluralRules[e]:Rb,i=Rt(t.pluralRules)&&ke(e)&&Vt(t.pluralRules[e])?Rb:void 0,s=v=>v[r(n,v.length,i)],a=t.list||[],o=v=>a[v],l=t.named||{};An(t.pluralIndex)&&VD(n,l);const c=v=>l[v];function u(v){const b=Vt(t.messages)?t.messages(v):Rt(t.messages)?t.messages[v]:!1;return b||(t.parent?t.parent.message(v):LD)}const d=v=>t.modifiers?t.modifiers[v]:OD,h=Je(t.processor)&&Vt(t.processor.normalize)?t.processor.normalize:ND,f=Je(t.processor)&&Vt(t.processor.interpolate)?t.processor.interpolate:$D,p=Je(t.processor)&&ke(t.processor.type)?t.processor.type:FD,y={list:o,named:c,plural:s,linked:(v,...b)=>{const[g,_]=b;let w="text",E="";b.length===1?Rt(g)?(E=g.modifier||E,w=g.type||w):ke(g)&&(E=g||E):b.length===2&&(ke(g)&&(E=g||E),ke(_)&&(w=_||w));const x=u(v)(y),S=w==="vnode"&&Wt(x)&&E?x[0]:x;return E?d(E)(S,w):S},message:u,type:p,interpolate:f,normalize:h,values:er({},a,l)};return y}let Bc=null;function jD(t){Bc=t}function zD(t,e,n){Bc&&Bc.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const UD=YD("function:translate");function YD(t){return e=>Bc&&Bc.emit(t,e)}const Vx=J_.__EXTEND_POINT__,ho=Cp(Vx),HD={NOT_FOUND_KEY:Vx,FALLBACK_TO_TRANSLATE:ho(),CANNOT_FORMAT_NUMBER:ho(),FALLBACK_TO_NUMBER_FORMAT:ho(),CANNOT_FORMAT_DATE:ho(),FALLBACK_TO_DATE_FORMAT:ho(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:ho(),__EXTEND_POINT__:ho()},Gx=ze.__EXTEND_POINT__,fo=Cp(Gx),Ii={INVALID_ARGUMENT:Gx,INVALID_DATE_ARGUMENT:fo(),INVALID_ISO_DATE_ARGUMENT:fo(),NOT_SUPPORT_NON_STRING_MESSAGE:fo(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:fo(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:fo(),NOT_SUPPORT_LOCALE_TYPE:fo(),__EXTEND_POINT__:fo()};function Xi(t){return Mu(t,null,void 0)}function ev(t,e){return e.locale!=null?kb(e.locale):kb(t.locale)}let sg;function kb(t){if(ke(t))return t;if(Vt(t)){if(t.resolvedOnce&&sg!=null)return sg;if(t.constructor.name==="Function"){const e=t();if(YP(e))throw Xi(Ii.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return sg=e}else throw Xi(Ii.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Xi(Ii.NOT_SUPPORT_LOCALE_TYPE)}function WD(t,e,n){return[...new Set([n,...Wt(e)?e:Rt(e)?Object.keys(e):ke(e)?[e]:[n]])]}function jx(t,e,n){const r=ke(n)?n:cu,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let a=[n];for(;Wt(a);)a=Ib(s,a,e);const o=Wt(e)||!Je(e)?e:e.default?e.default:null;a=ke(o)?[o]:o,Wt(a)&&Ib(s,a,!1),i.__localeChainCache.set(r,s)}return s}function Ib(t,e,n){let r=!0;for(let i=0;i<e.length&&ut(r);i++){const s=e[i];ke(s)&&(r=qD(t,e[i],n))}return r}function qD(t,e,n){let r;const i=e.split("-");do{const s=i.join("-");r=KD(t,s,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function KD(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Wt(n)||Je(n))&&n[i]&&(r=n[i])}return r}const XD="9.14.0",Sp=-1,cu="en-US",Ab="",Mb=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function ZD(){return{upper:(t,e)=>e==="text"&&ke(t)?t.toUpperCase():e==="vnode"&&Rt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&ke(t)?t.toLowerCase():e==="vnode"&&Rt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&ke(t)?Mb(t):e==="vnode"&&Rt(t)&&"__v_isVNode"in t?Mb(t.children):t}}let zx;function Pb(t){zx=t}let Ux;function JD(t){Ux=t}let Yx;function QD(t){Yx=t}let Hx=null;const eO=t=>{Hx=t},tO=()=>Hx;let Wx=null;const Db=t=>{Wx=t},nO=()=>Wx;let Ob=0;function rO(t={}){const e=Vt(t.onWarn)?t.onWarn:qP,n=ke(t.version)?t.version:XD,r=ke(t.locale)||Vt(t.locale)?t.locale:cu,i=Vt(r)?cu:r,s=Wt(t.fallbackLocale)||Je(t.fallbackLocale)||ke(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,a=Je(t.messages)?t.messages:{[i]:{}},o=Je(t.datetimeFormats)?t.datetimeFormats:{[i]:{}},l=Je(t.numberFormats)?t.numberFormats:{[i]:{}},c=er({},t.modifiers||{},ZD()),u=t.pluralRules||{},d=Vt(t.missing)?t.missing:null,h=ut(t.missingWarn)||Ba(t.missingWarn)?t.missingWarn:!0,f=ut(t.fallbackWarn)||Ba(t.fallbackWarn)?t.fallbackWarn:!0,p=!!t.fallbackFormat,m=!!t.unresolving,y=Vt(t.postTranslation)?t.postTranslation:null,v=Je(t.processor)?t.processor:null,b=ut(t.warnHtmlMessage)?t.warnHtmlMessage:!0,g=!!t.escapeParameter,_=Vt(t.messageCompiler)?t.messageCompiler:zx,w=Vt(t.messageResolver)?t.messageResolver:Ux||PD,E=Vt(t.localeFallbacker)?t.localeFallbacker:Yx||WD,x=Rt(t.fallbackContext)?t.fallbackContext:void 0,S=t,T=Rt(S.__datetimeFormatters)?S.__datetimeFormatters:new Map,P=Rt(S.__numberFormatters)?S.__numberFormatters:new Map,B=Rt(S.__meta)?S.__meta:{};Ob++;const F={version:n,cid:Ob,locale:r,fallbackLocale:s,messages:a,modifiers:c,pluralRules:u,missing:d,missingWarn:h,fallbackWarn:f,fallbackFormat:p,unresolving:m,postTranslation:y,processor:v,warnHtmlMessage:b,escapeParameter:g,messageCompiler:_,messageResolver:w,localeFallbacker:E,fallbackContext:x,onWarn:e,__meta:B};return F.datetimeFormats=o,F.numberFormats=l,F.__datetimeFormatters=T,F.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&zD(F,n,B),F}function tv(t,e,n,r,i){const{missing:s,onWarn:a}=t;if(s!==null){const o=s(t,n,e,i);return ke(o)?o:e}else return e}function rc(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function iO(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function sO(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(iO(t,e[r]))return!0;return!1}function ag(t){return n=>aO(n,t)}function aO(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const r=n,i=r.c||r.cases;return t.plural(i.reduce((s,a)=>[...s,Lb(t,a)],[]))}else return Lb(t,n)}function Lb(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const r=(e.i||e.items).reduce((i,s)=>[...i,by(t,s)],[]);return t.normalize(r)}}function by(t,e){const n=e.t||e.type;switch(n){case 3:{const r=e;return r.v||r.value}case 9:{const r=e;return r.v||r.value}case 4:{const r=e;return t.interpolate(t.named(r.k||r.key))}case 5:{const r=e;return t.interpolate(t.list(r.i!=null?r.i:r.index))}case 6:{const r=e,i=r.m||r.modifier;return t.linked(by(t,r.k||r.key),i?by(t,i):void 0,t.type)}case 7:{const r=e;return r.v||r.value}case 8:{const r=e;return r.v||r.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const qx=t=>t;let Yl=Object.create(null);const du=t=>Rt(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function Kx(t,e={}){let n=!1;const r=e.onError||tD;return e.onError=i=>{n=!0,r(i)},{...xD(t,e),detectError:n}}const oO=(t,e)=>{if(!ke(t))throw Xi(Ii.NOT_SUPPORT_NON_STRING_MESSAGE);{ut(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||qx)(t),i=Yl[r];if(i)return i;const{code:s,detectError:a}=Kx(t,e),o=new Function(`return ${s}`)();return a?o:Yl[r]=o}};function lO(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&ke(t)){ut(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||qx)(t),i=Yl[r];if(i)return i;const{ast:s,detectError:a}=Kx(t,{...e,location:!1,jit:!0}),o=ag(s);return a?o:Yl[r]=o}else{const n=t.cacheKey;if(n){const r=Yl[n];return r||(Yl[n]=ag(t))}else return ag(t)}}const Fb=()=>"",ui=t=>Vt(t);function Nb(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:a,messages:o}=t,[l,c]=wy(...e),u=ut(c.missingWarn)?c.missingWarn:t.missingWarn,d=ut(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,h=ut(c.escapeParameter)?c.escapeParameter:t.escapeParameter,f=!!c.resolvedMessage,p=ke(c.default)||ut(c.default)?ut(c.default)?s?l:()=>l:c.default:n?s?l:()=>l:"",m=n||p!=="",y=ev(t,c);h&&uO(c);let[v,b,g]=f?[l,y,o[y]||{}]:Xx(t,l,y,a,d,u),_=v,w=l;if(!f&&!(ke(_)||du(_)||ui(_))&&m&&(_=p,w=_),!f&&(!(ke(_)||du(_)||ui(_))||!ke(b)))return i?Sp:l;let E=!1;const x=()=>{E=!0},S=ui(_)?_:Zx(t,l,b,_,w,x);if(E)return _;const T=hO(t,b,g,c),P=GD(T),B=cO(t,S,P),F=r?r(B,l):B;if(__INTLIFY_PROD_DEVTOOLS__){const z={timestamp:Date.now(),key:ke(l)?l:ui(_)?_.key:"",locale:b||(ui(_)?_.locale:""),format:ke(_)?_:ui(_)?_.source:"",message:F};z.meta=er({},t.__meta,tO()||{}),UD(z)}return F}function uO(t){Wt(t.list)?t.list=t.list.map(e=>ke(e)?wb(e):e):Rt(t.named)&&Object.keys(t.named).forEach(e=>{ke(t.named[e])&&(t.named[e]=wb(t.named[e]))})}function Xx(t,e,n,r,i,s){const{messages:a,onWarn:o,messageResolver:l,localeFallbacker:c}=t,u=c(t,r,n);let d={},h,f=null;const p="translate";for(let m=0;m<u.length&&(h=u[m],d=a[h]||{},(f=l(d,e))===null&&(f=d[e]),!(ke(f)||du(f)||ui(f)));m++)if(!sO(h,u)){const y=tv(t,e,h,s,p);y!==e&&(f=y)}return[f,h,d]}function Zx(t,e,n,r,i,s){const{messageCompiler:a,warnHtmlMessage:o}=t;if(ui(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(a==null){const c=()=>r;return c.locale=n,c.key=e,c}const l=a(r,dO(t,n,i,r,o,s));return l.locale=n,l.key=e,l.source=r,l}function cO(t,e,n){return e(n)}function wy(...t){const[e,n,r]=t,i={};if(!ke(e)&&!An(e)&&!ui(e)&&!du(e))throw Xi(Ii.INVALID_ARGUMENT);const s=An(e)?String(e):(ui(e),e);return An(n)?i.plural=n:ke(n)?i.default=n:Je(n)&&!xp(n)?i.named=n:Wt(n)&&(i.list=n),An(r)?i.plural=r:ke(r)?i.default=r:Je(r)&&er(i,r),[s,i]}function dO(t,e,n,r,i,s){return{locale:e,key:n,warnHtmlMessage:i,onError:a=>{throw s&&s(a),a},onCacheKey:a=>GP(e,n,a)}}function hO(t,e,n,r){const{modifiers:i,pluralRules:s,messageResolver:a,fallbackLocale:o,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,h={locale:e,modifiers:i,pluralRules:s,messages:f=>{let p=a(n,f);if(p==null&&u){const[,,m]=Xx(u,f,e,o,l,c);p=a(m,f)}if(ke(p)||du(p)){let m=!1;const v=Zx(t,f,e,p,f,()=>{m=!0});return m?Fb:v}else return ui(p)?p:Fb}};return t.processor&&(h.processor=t.processor),r.list&&(h.list=r.list),r.named&&(h.named=r.named),An(r.plural)&&(h.pluralIndex=r.plural),h}function $b(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=t,{__datetimeFormatters:o}=t,[l,c,u,d]=Ey(...e),h=ut(u.missingWarn)?u.missingWarn:t.missingWarn;ut(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const f=!!u.part,p=ev(t,u),m=a(t,i,p);if(!ke(l)||l==="")return new Intl.DateTimeFormat(p,d).format(c);let y={},v,b=null;const g="datetime format";for(let E=0;E<m.length&&(v=m[E],y=n[v]||{},b=y[l],!Je(b));E++)tv(t,l,v,h,g);if(!Je(b)||!ke(v))return r?Sp:l;let _=`${v}__${l}`;xp(d)||(_=`${_}__${JSON.stringify(d)}`);let w=o.get(_);return w||(w=new Intl.DateTimeFormat(v,er({},b,d)),o.set(_,w)),f?w.formatToParts(c):w.format(c)}const Jx=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Ey(...t){const[e,n,r,i]=t,s={};let a={},o;if(ke(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Xi(Ii.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();o=new Date(c);try{o.toISOString()}catch{throw Xi(Ii.INVALID_ISO_DATE_ARGUMENT)}}else if(zP(e)){if(isNaN(e.getTime()))throw Xi(Ii.INVALID_DATE_ARGUMENT);o=e}else if(An(e))o=e;else throw Xi(Ii.INVALID_ARGUMENT);return ke(n)?s.key=n:Je(n)&&Object.keys(n).forEach(l=>{Jx.includes(l)?a[l]=n[l]:s[l]=n[l]}),ke(r)?s.locale=r:Je(r)&&(a=r),Je(i)&&(a=i),[s.key||"",o,s,a]}function Bb(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function Vb(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=t,{__numberFormatters:o}=t,[l,c,u,d]=Ty(...e),h=ut(u.missingWarn)?u.missingWarn:t.missingWarn;ut(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const f=!!u.part,p=ev(t,u),m=a(t,i,p);if(!ke(l)||l==="")return new Intl.NumberFormat(p,d).format(c);let y={},v,b=null;const g="number format";for(let E=0;E<m.length&&(v=m[E],y=n[v]||{},b=y[l],!Je(b));E++)tv(t,l,v,h,g);if(!Je(b)||!ke(v))return r?Sp:l;let _=`${v}__${l}`;xp(d)||(_=`${_}__${JSON.stringify(d)}`);let w=o.get(_);return w||(w=new Intl.NumberFormat(v,er({},b,d)),o.set(_,w)),f?w.formatToParts(c):w.format(c)}const Qx=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Ty(...t){const[e,n,r,i]=t,s={};let a={};if(!An(e))throw Xi(Ii.INVALID_ARGUMENT);const o=e;return ke(n)?s.key=n:Je(n)&&Object.keys(n).forEach(l=>{Qx.includes(l)?a[l]=n[l]:s[l]=n[l]}),ke(r)?s.locale=r:Je(r)&&(a=r),Je(i)&&(a=i),[s.key||"",o,s,a]}function Gb(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}CD();var jb={};/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ii(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const lt={},Zl=[],fr=()=>{},wc=()=>!1,al=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),nv=t=>t.startsWith("onUpdate:"),ft=Object.assign,rv=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},fO=Object.prototype.hasOwnProperty,wt=(t,e)=>fO.call(t,e),Me=Array.isArray,Jl=t=>Pu(t)==="[object Map]",ol=t=>Pu(t)==="[object Set]",zb=t=>Pu(t)==="[object Date]",pO=t=>Pu(t)==="[object RegExp]",Ve=t=>typeof t=="function",Qe=t=>typeof t=="string",ni=t=>typeof t=="symbol",Dt=t=>t!==null&&typeof t=="object",iv=t=>(Dt(t)||Ve(t))&&Ve(t.then)&&Ve(t.catch),eC=Object.prototype.toString,Pu=t=>eC.call(t),mO=t=>Pu(t).slice(8,-1),Rp=t=>Pu(t)==="[object Object]",sv=t=>Qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ra=ii(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gO=ii("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),kp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},yO=/-(\w)/g,qt=kp(t=>t.replace(yO,(e,n)=>n?n.toUpperCase():"")),_O=/\B([A-Z])/g,Fr=kp(t=>t.replace(_O,"-$1").toLowerCase()),to=kp(t=>t.charAt(0).toUpperCase()+t.slice(1)),Oo=kp(t=>t?`on${to(t)}`:""),Er=(t,e)=>!Object.is(t,e),Ql=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},tC=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},wf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ef=t=>{const e=Qe(t)?Number(t):NaN;return isNaN(e)?t:e};let Ub;const nC=()=>Ub||(Ub=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof jb<"u"?jb:{}),vO="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",bO=ii(vO);function vn(t){if(Me(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Qe(r)?rC(r):vn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Qe(t)||Dt(t))return t}const wO=/;(?![^(]*\))/g,EO=/:([^]+)/,TO=/\/\*[^]*?\*\//g;function rC(t){const e={};return t.replace(TO,"").split(wO).forEach(n=>{if(n){const r=n.split(EO);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ge(t){let e="";if(Qe(t))e=t;else if(Me(t))for(let n=0;n<t.length;n++){const r=Ge(t[n]);r&&(e+=r+" ")}else if(Dt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Rn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Qe(e)&&(t.class=Ge(e)),n&&(t.style=vn(n)),t}const xO="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",CO="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",SO="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",RO="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",kO=ii(xO),IO=ii(CO),AO=ii(SO),MO=ii(RO),PO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DO=ii(PO);function iC(t){return!!t||t===""}function OO(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Va(t[r],e[r]);return n}function Va(t,e){if(t===e)return!0;let n=zb(t),r=zb(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ni(t),r=ni(e),n||r)return t===e;if(n=Me(t),r=Me(e),n||r)return n&&r?OO(t,e):!1;if(n=Dt(t),r=Dt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!Va(t[a],e[a]))return!1}}return String(t)===String(e)}function Ip(t,e){return t.findIndex(n=>Va(n,e))}const sC=t=>!!(t&&t.__v_isRef===!0),Ye=t=>Qe(t)?t:t==null?"":Me(t)||Dt(t)&&(t.toString===eC||!Ve(t.toString))?sC(t)?Ye(t.value):JSON.stringify(t,aC,2):String(t),aC=(t,e)=>sC(e)?aC(t,e.value):Jl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[og(r,s)+" =>"]=i,n),{})}:ol(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>og(n))}:ni(e)?og(e):Dt(e)&&!Me(e)&&!Rp(e)?String(e):e,og=(t,e="")=>{var n;return ni(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wr;class Ap{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=wr,!e&&wr&&(this.index=(wr.scopes||(wr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=wr;try{return wr=this,e()}finally{wr=n}}}on(){wr=this}off(){wr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Mp(t){return new Ap(t)}function Pp(){return wr}function av(t,e=!1){wr&&wr.cleanups.push(t)}let Ft;const lg=new WeakSet;class hu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,wr&&wr.active&&wr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,lg.has(this)&&(lg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||lC(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yb(this),uC(this);const e=Ft,n=Pi;Ft=this,Pi=!0;try{return this.fn()}finally{cC(this),Ft=e,Pi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)uv(e);this.deps=this.depsTail=void 0,Yb(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?lg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xy(this)&&this.run()}get dirty(){return xy(this)}}let oC=0,Rc;function lC(t){t.flags|=8,t.next=Rc,Rc=t}function ov(){oC++}function lv(){if(--oC>0)return;let t;for(;Rc;){let e=Rc;for(Rc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function uC(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cC(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),uv(r),LO(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function xy(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(dC(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function dC(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Vc))return;t.globalVersion=Vc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!xy(t)){t.flags&=-3;return}const n=Ft,r=Pi;Ft=t,Pi=!0;try{uC(t);const i=t.fn(t._value);(e.version===0||Er(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ft=n,Pi=r,cC(t),t.flags&=-3}}function uv(t){const{dep:e,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n),!e.subs&&e.computed){e.computed.flags&=-5;for(let i=e.computed.deps;i;i=i.nextDep)uv(i)}}function LO(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function hC(t,e){t.effect instanceof hu&&(t=t.effect.fn);const n=new hu(t);e&&ft(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function fC(t){t.effect.stop()}let Pi=!0;const pC=[];function no(){pC.push(Pi),Pi=!1}function ro(){const t=pC.pop();Pi=t===void 0?!0:t}function Yb(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ft;Ft=void 0;try{e()}finally{Ft=n}}}let Vc=0;class FO{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!Ft||!Pi||Ft===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ft)n=this.activeLink=new FO(Ft,this),Ft.deps?(n.prevDep=Ft.depsTail,Ft.depsTail.nextDep=n,Ft.depsTail=n):Ft.deps=Ft.depsTail=n,Ft.flags&4&&mC(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ft.depsTail,n.nextDep=void 0,Ft.depsTail.nextDep=n,Ft.depsTail=n,Ft.deps===n&&(Ft.deps=r)}return n}trigger(e){this.version++,Vc++,this.notify(e)}notify(e){ov();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{lv()}}}function mC(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)mC(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}const Tf=new WeakMap,Lo=Symbol(""),Cy=Symbol(""),Gc=Symbol("");function yr(t,e,n){if(Pi&&Ft){let r=Tf.get(t);r||Tf.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Dp),i.track()}}function Ps(t,e,n,r,i,s){const a=Tf.get(t);if(!a){Vc++;return}const o=l=>{l&&l.trigger()};if(ov(),e==="clear")a.forEach(o);else{const l=Me(t),c=l&&sv(n);if(l&&n==="length"){const u=Number(r);a.forEach((d,h)=>{(h==="length"||h===Gc||!ni(h)&&h>=u)&&o(d)})}else switch(n!==void 0&&o(a.get(n)),c&&o(a.get(Gc)),e){case"add":l?c&&o(a.get("length")):(o(a.get(Lo)),Jl(t)&&o(a.get(Cy)));break;case"delete":l||(o(a.get(Lo)),Jl(t)&&o(a.get(Cy)));break;case"set":Jl(t)&&o(a.get(Lo));break}}lv()}function NO(t,e){var n;return(n=Tf.get(t))==null?void 0:n.get(e)}function wl(t){const e=pt(t);return e===t?e:(yr(e,"iterate",Gc),Vr(t)?e:e.map(dr))}function Op(t){return yr(t=pt(t),"iterate",Gc),t}const $O={__proto__:null,[Symbol.iterator](){return ug(this,Symbol.iterator,dr)},concat(...t){return wl(this).concat(...t.map(e=>Me(e)?wl(e):e))},entries(){return ug(this,"entries",t=>(t[1]=dr(t[1]),t))},every(t,e){return fs(this,"every",t,e,void 0,arguments)},filter(t,e){return fs(this,"filter",t,e,n=>n.map(dr),arguments)},find(t,e){return fs(this,"find",t,e,dr,arguments)},findIndex(t,e){return fs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return fs(this,"findLast",t,e,dr,arguments)},findLastIndex(t,e){return fs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return fs(this,"forEach",t,e,void 0,arguments)},includes(...t){return cg(this,"includes",t)},indexOf(...t){return cg(this,"indexOf",t)},join(t){return wl(this).join(t)},lastIndexOf(...t){return cg(this,"lastIndexOf",t)},map(t,e){return fs(this,"map",t,e,void 0,arguments)},pop(){return ic(this,"pop")},push(...t){return ic(this,"push",t)},reduce(t,...e){return Hb(this,"reduce",t,e)},reduceRight(t,...e){return Hb(this,"reduceRight",t,e)},shift(){return ic(this,"shift")},some(t,e){return fs(this,"some",t,e,void 0,arguments)},splice(...t){return ic(this,"splice",t)},toReversed(){return wl(this).toReversed()},toSorted(t){return wl(this).toSorted(t)},toSpliced(...t){return wl(this).toSpliced(...t)},unshift(...t){return ic(this,"unshift",t)},values(){return ug(this,"values",dr)}};function ug(t,e,n){const r=Op(t),i=r[e]();return r!==t&&!Vr(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const BO=Array.prototype;function fs(t,e,n,r,i,s){const a=Op(t),o=a!==t&&!Vr(t),l=a[e];if(l!==BO[e]){const d=l.apply(t,s);return o?dr(d):d}let c=n;a!==t&&(o?c=function(d,h){return n.call(this,dr(d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(a,c,r);return o&&i?i(u):u}function Hb(t,e,n,r){const i=Op(t);let s=n;return i!==t&&(Vr(t)?n.length>3&&(s=function(a,o,l){return n.call(this,a,o,l,t)}):s=function(a,o,l){return n.call(this,a,dr(o),l,t)}),i[e](s,...r)}function cg(t,e,n){const r=pt(t);yr(r,"iterate",Gc);const i=r[e](...n);return(i===-1||i===!1)&&kd(n[0])?(n[0]=pt(n[0]),r[e](...n)):i}function ic(t,e,n=[]){no(),ov();const r=pt(t)[e].apply(t,n);return lv(),ro(),r}const VO=ii("__proto__,__v_isRef,__isVue"),gC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ni));function GO(t){ni(t)||(t=String(t));const e=pt(this);return yr(e,"has",t),e.hasOwnProperty(t)}class yC{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?TC:EC:s?wC:bC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=Me(e);if(!i){let l;if(a&&(l=$O[n]))return l;if(n==="hasOwnProperty")return GO}const o=Reflect.get(e,n,nn(e)?e:r);return(ni(n)?gC.has(n):VO(n))||(i||yr(e,"get",n),s)?o:nn(o)?a&&sv(n)?o:o.value:Dt(o)?i?Np(o):_i(o):o}}class _C extends yC{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Bs(s);if(!Vr(r)&&!Bs(r)&&(s=pt(s),r=pt(r)),!Me(e)&&nn(s)&&!nn(r))return l?!1:(s.value=r,!0)}const a=Me(e)&&sv(n)?Number(n)<e.length:wt(e,n),o=Reflect.set(e,n,r,nn(e)?e:i);return e===pt(i)&&(a?Er(r,s)&&Ps(e,"set",n,r):Ps(e,"add",n,r)),o}deleteProperty(e,n){const r=wt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Ps(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ni(n)||!gC.has(n))&&yr(e,"has",n),r}ownKeys(e){return yr(e,"iterate",Me(e)?"length":Lo),Reflect.ownKeys(e)}}class vC extends yC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const jO=new _C,zO=new vC,UO=new _C(!0),YO=new vC(!0),cv=t=>t,Lp=t=>Reflect.getPrototypeOf(t);function mh(t,e,n=!1,r=!1){t=t.__v_raw;const i=pt(t),s=pt(e);n||(Er(e,s)&&yr(i,"get",e),yr(i,"get",s));const{has:a}=Lp(i),o=r?cv:n?fv:dr;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function gh(t,e=!1){const n=this.__v_raw,r=pt(n),i=pt(t);return e||(Er(t,i)&&yr(r,"has",t),yr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function yh(t,e=!1){return t=t.__v_raw,!e&&yr(pt(t),"iterate",Lo),Reflect.get(t,"size",t)}function Wb(t,e=!1){!e&&!Vr(t)&&!Bs(t)&&(t=pt(t));const n=pt(this);return Lp(n).has.call(n,t)||(n.add(t),Ps(n,"add",t,t)),this}function qb(t,e,n=!1){!n&&!Vr(e)&&!Bs(e)&&(e=pt(e));const r=pt(this),{has:i,get:s}=Lp(r);let a=i.call(r,t);a||(t=pt(t),a=i.call(r,t));const o=s.call(r,t);return r.set(t,e),a?Er(e,o)&&Ps(r,"set",t,e):Ps(r,"add",t,e),this}function Kb(t){const e=pt(this),{has:n,get:r}=Lp(e);let i=n.call(e,t);i||(t=pt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Ps(e,"delete",t,void 0),s}function Xb(){const t=pt(this),e=t.size!==0,n=t.clear();return e&&Ps(t,"clear",void 0,void 0),n}function _h(t,e){return function(r,i){const s=this,a=s.__v_raw,o=pt(a),l=e?cv:t?fv:dr;return!t&&yr(o,"iterate",Lo),a.forEach((c,u)=>r.call(i,l(c),l(u),s))}}function vh(t,e,n){return function(...r){const i=this.__v_raw,s=pt(i),a=Jl(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=i[t](...r),u=n?cv:e?fv:dr;return!e&&yr(s,"iterate",l?Cy:Lo),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:o?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function ea(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function HO(){const t={get(s){return mh(this,s)},get size(){return yh(this)},has:gh,add:Wb,set:qb,delete:Kb,clear:Xb,forEach:_h(!1,!1)},e={get(s){return mh(this,s,!1,!0)},get size(){return yh(this)},has:gh,add(s){return Wb.call(this,s,!0)},set(s,a){return qb.call(this,s,a,!0)},delete:Kb,clear:Xb,forEach:_h(!1,!0)},n={get(s){return mh(this,s,!0)},get size(){return yh(this,!0)},has(s){return gh.call(this,s,!0)},add:ea("add"),set:ea("set"),delete:ea("delete"),clear:ea("clear"),forEach:_h(!0,!1)},r={get(s){return mh(this,s,!0,!0)},get size(){return yh(this,!0)},has(s){return gh.call(this,s,!0)},add:ea("add"),set:ea("set"),delete:ea("delete"),clear:ea("clear"),forEach:_h(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=vh(s,!1,!1),n[s]=vh(s,!0,!1),e[s]=vh(s,!1,!0),r[s]=vh(s,!0,!0)}),[t,n,e,r]}const[WO,qO,KO,XO]=HO();function Fp(t,e){const n=e?t?XO:KO:t?qO:WO;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(wt(n,i)&&i in r?n:r,i,s)}const ZO={get:Fp(!1,!1)},JO={get:Fp(!1,!0)},QO={get:Fp(!0,!1)},e2={get:Fp(!0,!0)},bC=new WeakMap,wC=new WeakMap,EC=new WeakMap,TC=new WeakMap;function t2(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function n2(t){return t.__v_skip||!Object.isExtensible(t)?0:t2(mO(t))}function _i(t){return Bs(t)?t:$p(t,!1,jO,ZO,bC)}function dv(t){return $p(t,!1,UO,JO,wC)}function Np(t){return $p(t,!0,zO,QO,EC)}function xC(t){return $p(t,!0,YO,e2,TC)}function $p(t,e,n,r,i){if(!Dt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=n2(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function Ds(t){return Bs(t)?Ds(t.__v_raw):!!(t&&t.__v_isReactive)}function Bs(t){return!!(t&&t.__v_isReadonly)}function Vr(t){return!!(t&&t.__v_isShallow)}function kd(t){return t?!!t.__v_raw:!1}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function hv(t){return!wt(t,"__v_skip")&&Object.isExtensible(t)&&tC(t,"__v_skip",!0),t}const dr=t=>Dt(t)?_i(t):t,fv=t=>Dt(t)?Np(t):t;function nn(t){return t?t.__v_isRef===!0:!1}function _e(t){return CC(t,!1)}function Id(t){return CC(t,!0)}function CC(t,e){return nn(t)?t:new r2(t,e)}class r2{constructor(e,n){this.dep=new Dp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:pt(e),this._value=n?e:dr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Vr(e)||Bs(e);e=r?e:pt(e),Er(e,n)&&(this._rawValue=e,this._value=r?e:dr(e),this.dep.trigger())}}function SC(t){t.dep.trigger()}function q(t){return nn(t)?t.value:t}function RC(t){return Ve(t)?t():q(t)}const i2={get:(t,e,n)=>e==="__v_raw"?t:q(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return nn(i)&&!nn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Bp(t){return Ds(t)?t:new Proxy(t,i2)}class s2{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Dp,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function pv(t){return new s2(t)}function kC(t){const e=Me(t)?new Array(t.length):{};for(const n in t)e[n]=IC(t,n);return e}class a2{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return NO(pt(this._object),this._key)}}class o2{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Uo(t,e,n){return nn(t)?t:Ve(t)?new o2(t):Dt(t)&&arguments.length>1?IC(t,e,n):_e(t)}function IC(t,e,n){const r=t[e];return nn(r)?r:new a2(t,e,n)}class l2{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Dp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vc-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ft!==this)return lC(this),!0}get value(){const e=this.dep.track();return dC(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function u2(t,e,n=!1){let r,i;return Ve(t)?r=t:(r=t.get,i=t.set),new l2(r,i,n)}const AC={GET:"get",HAS:"has",ITERATE:"iterate"},MC={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},bh={},xf=new WeakMap;let fa;function PC(){return fa}function mv(t,e=!1,n=fa){if(n){let r=xf.get(n);r||xf.set(n,r=[]),r.push(t)}}function c2(t,e,n=lt){const{immediate:r,deep:i,once:s,scheduler:a,augmentJob:o,call:l}=n,c=_=>i?_:Vr(_)||i===!1||i===0?Rs(_,1):Rs(_);let u,d,h,f,p=!1,m=!1;if(nn(t)?(d=()=>t.value,p=Vr(t)):Ds(t)?(d=()=>c(t),p=!0):Me(t)?(m=!0,p=t.some(_=>Ds(_)||Vr(_)),d=()=>t.map(_=>{if(nn(_))return _.value;if(Ds(_))return c(_);if(Ve(_))return l?l(_,2):_()})):Ve(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){no();try{h()}finally{ro()}}const _=fa;fa=u;try{return l?l(t,3,[f]):t(f)}finally{fa=_}}:d=fr,e&&i){const _=d,w=i===!0?1/0:i;d=()=>Rs(_(),w)}const y=Pp(),v=()=>{u.stop(),y&&rv(y.effects,u)};if(s&&e){const _=e;e=(...w)=>{_(...w),v()}}let b=m?new Array(t.length).fill(bh):bh;const g=_=>{if(!(!(u.flags&1)||!u.dirty&&!_))if(e){const w=u.run();if(i||p||(m?w.some((E,x)=>Er(E,b[x])):Er(w,b))){h&&h();const E=fa;fa=u;try{const x=[w,b===bh?void 0:m&&b[0]===bh?[]:b,f];l?l(e,3,x):e(...x),b=w}finally{fa=E}}}else u.run()};return o&&o(g),u=new hu(d),u.scheduler=a?()=>a(g,!1):g,f=_=>mv(_,!1,u),h=u.onStop=()=>{const _=xf.get(u);if(_){if(l)l(_,4);else for(const w of _)w();xf.delete(u)}},e?r?g(!0):b=u.run():a?a(g.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function Rs(t,e=1/0,n){if(e<=0||!Dt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,nn(t))Rs(t.value,e,n);else if(Me(t))for(let r=0;r<t.length;r++)Rs(t[r],e,n);else if(ol(t)||Jl(t))t.forEach(r=>{Rs(r,e,n)});else if(Rp(t)){for(const r in t)Rs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Rs(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const DC=[];function d2(t){DC.push(t)}function h2(){DC.pop()}function OC(t,e){}const LC={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},f2={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function ll(t,e,n,r){try{return r?t(...r):t()}catch(i){io(i,e,n)}}function ri(t,e,n,r){if(Ve(t)){const i=ll(t,e,n,r);return i&&iv(i)&&i.catch(s=>{io(s,e,n)}),i}if(Me(t)){const i=[];for(let s=0;s<t.length;s++)i.push(ri(t[s],e,n,r));return i}}function io(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||lt;if(e){let o=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}o=o.parent}if(s){no(),ll(s,null,10,[t,l,c]),ro();return}}p2(t,n,i,r,a)}function p2(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}let jc=!1,Sy=!1;const Tr=[];let zi=0;const eu=[];let pa=null,Fl=0;const FC=Promise.resolve();let gv=null;function Hn(t){const e=gv||FC;return t?e.then(this?t.bind(this):t):e}function m2(t){let e=jc?zi+1:0,n=Tr.length;for(;e<n;){const r=e+n>>>1,i=Tr[r],s=Uc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function yv(t){if(!(t.flags&1)){const e=Uc(t),n=Tr[Tr.length-1];!n||!(t.flags&2)&&e>=Uc(n)?Tr.push(t):Tr.splice(m2(e),0,t),t.flags|=1,NC()}}function NC(){!jc&&!Sy&&(Sy=!0,gv=FC.then($C))}function zc(t){Me(t)?eu.push(...t):pa&&t.id===-1?pa.splice(Fl+1,0,t):t.flags&1||(eu.push(t),t.flags|=1),NC()}function Zb(t,e,n=jc?zi+1:0){for(;n<Tr.length;n++){const r=Tr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Tr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&=-2}}}function Cf(t){if(eu.length){const e=[...new Set(eu)].sort((n,r)=>Uc(n)-Uc(r));if(eu.length=0,pa){pa.push(...e);return}for(pa=e,Fl=0;Fl<pa.length;Fl++){const n=pa[Fl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}pa=null,Fl=0}}const Uc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function $C(t){Sy=!1,jc=!0;try{for(zi=0;zi<Tr.length;zi++){const e=Tr[zi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ll(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;zi<Tr.length;zi++){const e=Tr[zi];e&&(e.flags&=-2)}zi=0,Tr.length=0,Cf(),jc=!1,gv=null,(Tr.length||eu.length)&&$C()}}let Nl,wh=[];function BC(t,e){var n,r;Nl=t,Nl?(Nl.enabled=!0,wh.forEach(({event:i,args:s})=>Nl.emit(i,...s)),wh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{BC(s,e)}),setTimeout(()=>{Nl||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,wh=[])},3e3)):wh=[]}let Dn=null,Vp=null;function Yc(t){const e=Dn;return Dn=t,Vp=t&&t.type.__scopeId||null,e}function VC(t){Vp=t}function GC(){Vp=null}const jC=t=>qe;function qe(t,e=Dn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Af(-1);const s=Yc(e);let a;try{a=t(...i)}finally{Yc(s),r._d&&Af(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function On(t,e){if(Dn===null)return t;const n=Nd(Dn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,o,l=lt]=e[i];s&&(Ve(s)&&(s={mounted:s,updated:s}),s.deep&&Rs(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Yi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(no(),ri(l,n,8,[t.el,o,t,e]),ro())}}const zC=Symbol("_vte"),UC=t=>t.__isTeleport,kc=t=>t&&(t.disabled||t.disabled===""),g2=t=>t&&(t.defer||t.defer===""),Jb=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Qb=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Ry=(t,e)=>{const n=t&&t.to;return Qe(n)?e?e(n):null:n},y2={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:y}}=c,v=kc(e.props);let{shapeFlag:b,children:g,dynamicChildren:_}=e;if(t==null){const w=e.el=m(""),E=e.anchor=m("");f(w,n,r),f(E,n,r);const x=(T,P)=>{b&16&&(i&&i.isCE&&(i.ce._teleportTarget=T),u(g,T,P,i,s,a,o,l))},S=()=>{const T=e.target=Ry(e.props,p),P=YC(T,e,m,f);T&&(a!=="svg"&&Jb(T)?a="svg":a!=="mathml"&&Qb(T)&&(a="mathml"),v||(x(T,P),nf(e)))};v&&(x(n,E),nf(e)),g2(e.props)?Bn(S,s):S()}else{e.el=t.el,e.targetStart=t.targetStart;const w=e.anchor=t.anchor,E=e.target=t.target,x=e.targetAnchor=t.targetAnchor,S=kc(t.props),T=S?n:E,P=S?w:x;if(a==="svg"||Jb(E)?a="svg":(a==="mathml"||Qb(E))&&(a="mathml"),_?(h(t.dynamicChildren,_,T,i,s,a,o),Fv(t,e,!0)):l||d(t,e,T,P,i,s,a,o,!1),v)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Eh(e,n,w,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const B=e.target=Ry(e.props,p);B&&Eh(e,B,null,c,0)}else S&&Eh(e,E,x,c,1);nf(e)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:a,children:o,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(i(c),i(u)),s&&i(l),a&16){const f=s||!kc(h);for(let p=0;p<o.length;p++){const m=o[p];r(m,e,n,f,!!m.dynamicChildren)}}},move:Eh,hydrate:_2};function Eh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:u}=t,d=s===2;if(d&&r(a,e,n),(!d||kc(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&r(o,e,n)}function _2(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:c,createText:u}},d){const h=e.target=Ry(e.props,l);if(h){const f=h._lpa||h.firstChild;if(e.shapeFlag&16)if(kc(e.props))e.anchor=d(a(t),e,o(t),n,r,i,s),e.targetStart=f,e.targetAnchor=f&&a(f);else{e.anchor=a(t);let p=f;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")e.targetStart=p;else if(p.data==="teleport anchor"){e.targetAnchor=p,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}}p=a(p)}e.targetAnchor||YC(h,e,u,c),d(f&&a(f),e,h,n,r,i,s)}nf(e)}return e.anchor&&a(e.anchor)}const _v=y2;function nf(t){const e=t.ctx;if(e&&e.ut){let n=t.targetStart;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function YC(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[zC]=s,t&&(r(i,t),r(s,t)),s}const ma=Symbol("_leaveCb"),Th=Symbol("_enterCb");function Gp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return sn(()=>{t.isMounted=!0}),Od(()=>{t.isUnmounting=!0}),t}const oi=[Function,Array],jp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:oi,onEnter:oi,onAfterEnter:oi,onEnterCancelled:oi,onBeforeLeave:oi,onLeave:oi,onAfterLeave:oi,onLeaveCancelled:oi,onBeforeAppear:oi,onAppear:oi,onAfterAppear:oi,onAppearCancelled:oi},HC=t=>{const e=t.subTree;return e.component?HC(e.component):e},v2={name:"BaseTransition",props:jp,setup(t,{slots:e}){const n=Wn(),r=Gp();return()=>{const i=e.default&&Ad(e.default(),!0);if(!i||!i.length)return;const s=WC(i),a=pt(t),{mode:o}=a;if(r.isLeaving)return dg(s);const l=ew(s);if(!l)return dg(s);let c=Yo(l,a,r,n,h=>c=h);l.type!==_n&&os(l,c);const u=n.subTree,d=u&&ew(u);if(d&&d.type!==_n&&!Si(l,d)&&HC(n).type!==_n){const h=Yo(d,a,r,n);if(os(d,h),o==="out-in"&&l.type!==_n)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave},dg(s);o==="in-out"&&l.type!==_n&&(h.delayLeave=(f,p,m)=>{const y=qC(r,d);y[String(d.key)]=d,f[ma]=()=>{p(),f[ma]=void 0,delete c.delayedLeave},c.delayedLeave=m})}return s}}};function WC(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==_n){e=n;break}}return e}const vv=v2;function qC(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Yo(t,e,n,r,i){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:y,onAppear:v,onAfterAppear:b,onAppearCancelled:g}=e,_=String(t.key),w=qC(n,t),E=(T,P)=>{T&&ri(T,r,9,P)},x=(T,P)=>{const B=P[1];E(T,P),Me(T)?T.every(F=>F.length<=1)&&B():T.length<=1&&B()},S={mode:a,persisted:o,beforeEnter(T){let P=l;if(!n.isMounted)if(s)P=y||l;else return;T[ma]&&T[ma](!0);const B=w[_];B&&Si(t,B)&&B.el[ma]&&B.el[ma](),E(P,[T])},enter(T){let P=c,B=u,F=d;if(!n.isMounted)if(s)P=v||c,B=b||u,F=g||d;else return;let z=!1;const j=T[Th]=I=>{z||(z=!0,I?E(F,[T]):E(B,[T]),S.delayedLeave&&S.delayedLeave(),T[Th]=void 0)};P?x(P,[T,j]):j()},leave(T,P){const B=String(t.key);if(T[Th]&&T[Th](!0),n.isUnmounting)return P();E(h,[T]);let F=!1;const z=T[ma]=j=>{F||(F=!0,P(),j?E(m,[T]):E(p,[T]),T[ma]=void 0,w[B]===t&&delete w[B])};w[B]=t,f?x(f,[T,z]):z()},clone(T){const P=Yo(T,e,n,r,i);return i&&i(P),P}};return S}function dg(t){if(Md(t))return t=Li(t),t.children=null,t}function ew(t){if(!Md(t))return UC(t.type)&&t.children?WC(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ve(n.default))return n.default()}}function os(t,e){t.shapeFlag&6&&t.component?(t.transition=e,os(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ad(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===Oe?(a.patchFlag&128&&i++,r=r.concat(Ad(a.children,e,o))):(e||a.type!==_n)&&r.push(o!=null?Li(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Jt(t,e){return Ve(t)?ft({name:t.name},e,{setup:t}):t}function KC(){const t=Wn();if(t)return(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++}function bv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function XC(t){const e=Wn(),n=Id(null);if(e){const i=e.refs===lt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Sf(t,e,n,r,i=!1){if(Me(t)){t.forEach((p,m)=>Sf(p,e&&(Me(e)?e[m]:e),n,r,i));return}if(ka(r)&&!i)return;const s=r.shapeFlag&4?Nd(r.component):r.el,a=i?null:s,{i:o,r:l}=t,c=e&&e.r,u=o.refs===lt?o.refs={}:o.refs,d=o.setupState,h=pt(d),f=d===lt?()=>!1:p=>wt(h,p);if(c!=null&&c!==l&&(Qe(c)?(u[c]=null,f(c)&&(d[c]=null)):nn(c)&&(c.value=null)),Ve(l))ll(l,o,12,[a,u]);else{const p=Qe(l),m=nn(l);if(p||m){const y=()=>{if(t.f){const v=p?f(l)?d[l]:u[l]:l.value;i?Me(v)&&rv(v,s):Me(v)?v.includes(s)||v.push(s):p?(u[l]=[s],f(l)&&(d[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else p?(u[l]=a,f(l)&&(d[l]=a)):m&&(l.value=a,t.k&&(u[t.k]=a))};a?(y.id=-1,Bn(y,n)):y()}}}let tw=!1;const El=()=>{tw||(console.error("Hydration completed but contains mismatches."),tw=!0)},b2=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",w2=t=>t.namespaceURI.includes("MathML"),xh=t=>{if(t.nodeType===1){if(b2(t))return"svg";if(w2(t))return"mathml"}},Hl=t=>t.nodeType===8;function E2(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:c}}=t,u=(g,_)=>{if(!_.hasChildNodes()){n(null,g,_),Cf(),_._vnode=g;return}d(_.firstChild,g,null,null,null),Cf(),_._vnode=g},d=(g,_,w,E,x,S=!1)=>{S=S||!!_.dynamicChildren;const T=Hl(g)&&g.data==="[",P=()=>m(g,_,w,E,x,T),{type:B,ref:F,shapeFlag:z,patchFlag:j}=_;let I=g.nodeType;_.el=g,j===-2&&(S=!1,_.dynamicChildren=null);let O=null;switch(B){case ts:I!==3?_.children===""?(l(_.el=i(""),a(g),g),O=g):O=P():(g.data!==_.children&&(El(),g.data=_.children),O=s(g));break;case _n:b(g)?(O=s(g),v(_.el=g.content.firstChild,g,w)):I!==8||T?O=P():O=s(g);break;case Ia:if(T&&(g=s(g),I=g.nodeType),I===1||I===3){O=g;const M=!_.children.length;for(let H=0;H<_.staticCount;H++)M&&(_.children+=O.nodeType===1?O.outerHTML:O.data),H===_.staticCount-1&&(_.anchor=O),O=s(O);return T?s(O):O}else P();break;case Oe:T?O=p(g,_,w,E,x,S):O=P();break;default:if(z&1)(I!==1||_.type.toLowerCase()!==g.tagName.toLowerCase())&&!b(g)?O=P():O=h(g,_,w,E,x,S);else if(z&6){_.slotScopeIds=x;const M=a(g);if(T?O=y(g):Hl(g)&&g.data==="teleport start"?O=y(g,g.data,"teleport end"):O=s(g),e(_,M,null,w,E,xh(M),S),ka(_)){let H;T?(H=we(Oe),H.anchor=O?O.previousSibling:M.lastChild):H=g.nodeType===3?tr(""):we("div"),H.el=g,_.component.subTree=H}}else z&64?I!==8?O=P():O=_.type.hydrate(g,_,w,E,x,S,t,f):z&128&&(O=_.type.hydrate(g,_,w,E,xh(a(g)),x,S,t,d))}return F!=null&&Sf(F,null,E,_),O},h=(g,_,w,E,x,S)=>{S=S||!!_.dynamicChildren;const{type:T,props:P,patchFlag:B,shapeFlag:F,dirs:z,transition:j}=_,I=T==="input"||T==="option";if(I||B!==-1){z&&Yi(_,null,w,"created");let O=!1;if(b(g)){O=PS(E,j)&&w&&w.vnode.props&&w.vnode.props.appear;const H=g.content.firstChild;O&&j.beforeEnter(H),v(H,g,w),_.el=g=H}if(F&16&&!(P&&(P.innerHTML||P.textContent))){let H=f(g.firstChild,_,g,w,E,x,S);for(;H;){Ch(g,1)||El();const Z=H;H=H.nextSibling,o(Z)}}else if(F&8){let H=_.children;H[0]===`
`&&(g.tagName==="PRE"||g.tagName==="TEXTAREA")&&(H=H.slice(1)),g.textContent!==H&&(Ch(g,0)||El(),g.textContent=_.children)}if(P){if(I||!S||B&48){const H=g.tagName.includes("-");for(const Z in P)(I&&(Z.endsWith("value")||Z==="indeterminate")||al(Z)&&!Ra(Z)||Z[0]==="."||H)&&r(g,Z,null,P[Z],void 0,w)}else if(P.onClick)r(g,"onClick",null,P.onClick,void 0,w);else if(B&4&&Ds(P.style))for(const H in P.style)P.style[H]}let M;(M=P&&P.onVnodeBeforeMount)&&Pr(M,w,_),z&&Yi(_,null,w,"beforeMount"),((M=P&&P.onVnodeMounted)||z||O)&&GS(()=>{M&&Pr(M,w,_),O&&j.enter(g),z&&Yi(_,null,w,"mounted")},E)}return g.nextSibling},f=(g,_,w,E,x,S,T)=>{T=T||!!_.dynamicChildren;const P=_.children,B=P.length;for(let F=0;F<B;F++){const z=T?P[F]:P[F]=Dr(P[F]),j=z.type===ts;g?(j&&!T&&F+1<B&&Dr(P[F+1]).type===ts&&(l(i(g.data.slice(z.children.length)),w,s(g)),g.data=z.children),g=d(g,z,E,x,S,T)):j&&!z.children?l(z.el=i(""),w):(Ch(w,1)||El(),n(null,z,w,null,E,x,xh(w),S))}return g},p=(g,_,w,E,x,S)=>{const{slotScopeIds:T}=_;T&&(x=x?x.concat(T):T);const P=a(g),B=f(s(g),_,P,w,E,x,S);return B&&Hl(B)&&B.data==="]"?s(_.anchor=B):(El(),l(_.anchor=c("]"),P,B),B)},m=(g,_,w,E,x,S)=>{if(Ch(g.parentElement,1)||El(),_.el=null,S){const B=y(g);for(;;){const F=s(g);if(F&&F!==B)o(F);else break}}const T=s(g),P=a(g);return o(g),n(null,_,P,T,w,E,xh(P),x),T},y=(g,_="[",w="]")=>{let E=0;for(;g;)if(g=s(g),g&&Hl(g)&&(g.data===_&&E++,g.data===w)){if(E===0)return s(g);E--}return g},v=(g,_,w)=>{const E=_.parentNode;E&&E.replaceChild(g,_);let x=w;for(;x;)x.vnode.el===_&&(x.vnode.el=x.subTree.el=g),x=x.parent},b=g=>g.nodeType===1&&g.tagName==="TEMPLATE";return[u,d]}const nw="data-allow-mismatch",T2={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ch(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(nw);)t=t.parentElement;const n=t&&t.getAttribute(nw);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(T2[e])}}const ZC=(t=1e4)=>e=>{const n=requestIdleCallback(e,{timeout:t});return()=>cancelIdleCallback(n)},JC=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>r.observe(i)),()=>r.disconnect()},QC=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},eS=(t=[])=>(e,n)=>{Qe(t)&&(t=[t]);let r=!1;const i=a=>{r||(r=!0,s(),e(),a.target.dispatchEvent(new a.constructor(a.type,a)))},s=()=>{n(a=>{for(const o of t)a.removeEventListener(o,i)})};return n(a=>{for(const o of t)a.addEventListener(o,i,{once:!0})}),s};function x2(t,e){if(Hl(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1)e(r);else if(Hl(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const ka=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function tS(t){Ve(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:a,suspensible:o=!0,onError:l}=t;let c=null,u,d=0;const h=()=>(d++,c=null,f()),f=()=>{let p;return c||(p=c=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),l)return new Promise((y,v)=>{l(m,()=>y(h()),()=>v(m),d+1)});throw m}).then(m=>p!==c&&c?c:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),u=m,m)))};return Jt({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(p,m,y){const v=s?()=>{const b=s(y,g=>x2(p,g));b&&(m.bum||(m.bum=[])).push(b)}:y;u?v():f().then(()=>!m.isUnmounted&&v())},get __asyncResolved(){return u},setup(){const p=Mn;if(bv(p),u)return()=>hg(u,p);const m=g=>{c=null,io(g,p,13,!r)};if(o&&p.suspense||Fd)return f().then(g=>()=>hg(g,p)).catch(g=>(m(g),()=>r?we(r,{error:g}):null));const y=_e(!1),v=_e(),b=_e(!!i);return i&&setTimeout(()=>{b.value=!1},i),a!=null&&setTimeout(()=>{if(!y.value&&!v.value){const g=new Error(`Async component timed out after ${a}ms.`);m(g),v.value=g}},a),f().then(()=>{y.value=!0,p.parent&&Md(p.parent.vnode)&&p.parent.update()}).catch(g=>{m(g),v.value=g}),()=>{if(y.value&&u)return hg(u,p);if(v.value&&r)return we(r,{error:v.value});if(n&&!b.value)return we(n)}}})}function hg(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,a=we(t,r,i);return a.ref=n,a.ce=s,delete e.vnode.ce,a}const Md=t=>t.type.__isKeepAlive,C2={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Wn(),r=n.ctx;if(!r.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const i=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=r,h=d("div");r.activate=(b,g,_,w,E)=>{const x=b.component;c(b,g,_,0,o),l(x.vnode,b,g,_,x,o,w,b.slotScopeIds,E),Bn(()=>{x.isDeactivated=!1,x.a&&Ql(x.a);const S=b.props&&b.props.onVnodeMounted;S&&Pr(S,x.parent,b)},o)},r.deactivate=b=>{const g=b.component;kf(g.m),kf(g.a),c(b,h,null,1,o),Bn(()=>{g.da&&Ql(g.da);const _=b.props&&b.props.onVnodeUnmounted;_&&Pr(_,g.parent,b),g.isDeactivated=!0},o)};function f(b){fg(b),u(b,n,o,!0)}function p(b){i.forEach((g,_)=>{const w=$y(g.type);w&&!b(w)&&m(_)})}function m(b){const g=i.get(b);g&&(!a||!Si(g,a))?f(g):a&&fg(a),i.delete(b),s.delete(b)}rn(()=>[t.include,t.exclude],([b,g])=>{b&&p(_=>Ec(b,_)),g&&p(_=>!Ec(g,_))},{flush:"post",deep:!0});let y=null;const v=()=>{y!=null&&(If(n.subTree.type)?Bn(()=>{i.set(y,Sh(n.subTree))},n.subTree.suspense):i.set(y,Sh(n.subTree)))};return sn(v),Dd(v),Od(()=>{i.forEach(b=>{const{subTree:g,suspense:_}=n,w=Sh(g);if(b.type===w.type&&b.key===w.key){fg(w);const E=w.component.da;E&&Bn(E,_);return}f(b)})}),()=>{if(y=null,!e.default)return a=null;const b=e.default(),g=b[0];if(b.length>1)return a=null,b;if(!Vs(g)||!(g.shapeFlag&4)&&!(g.shapeFlag&128))return a=null,g;let _=Sh(g);if(_.type===_n)return a=null,_;const w=_.type,E=$y(ka(_)?_.type.__asyncResolved||{}:w),{include:x,exclude:S,max:T}=t;if(x&&(!E||!Ec(x,E))||S&&E&&Ec(S,E))return _.shapeFlag&=-257,a=_,g;const P=_.key==null?w:_.key,B=i.get(P);return _.el&&(_=Li(_),g.shapeFlag&128&&(g.ssContent=_)),y=P,B?(_.el=B.el,_.component=B.component,_.transition&&os(_,_.transition),_.shapeFlag|=512,s.delete(P),s.add(P)):(s.add(P),T&&s.size>parseInt(T,10)&&m(s.values().next().value)),_.shapeFlag|=256,a=_,If(g.type)?g:_}}},nS=C2;function Ec(t,e){return Me(t)?t.some(n=>Ec(n,e)):Qe(t)?t.split(",").includes(e):pO(t)?(t.lastIndex=0,t.test(e)):!1}function wv(t,e){rS(t,"a",e)}function Ev(t,e){rS(t,"da",e)}function rS(t,e,n=Mn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(zp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Md(i.parent.vnode)&&S2(r,e,n,i),i=i.parent}}function S2(t,e,n,r){const i=zp(e,t,r,!0);cs(()=>{rv(r[e],i)},n)}function fg(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Sh(t){return t.shapeFlag&128?t.ssContent:t}function zp(t,e,n=Mn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{no();const o=Wo(n),l=ri(e,n,t,a);return o(),ro(),l});return r?i.unshift(s):i.push(s),s}}const Ys=t=>(e,n=Mn)=>{(!Fd||t==="sp")&&zp(t,(...r)=>e(...r),n)},Pd=Ys("bm"),sn=Ys("m"),Up=Ys("bu"),Dd=Ys("u"),Od=Ys("bum"),cs=Ys("um"),Tv=Ys("sp"),xv=Ys("rtg"),Cv=Ys("rtc");function Sv(t,e=Mn){zp("ec",t,e)}const Rv="components",R2="directives";function Ie(t,e){return Iv(Rv,t,!0,e)||t}const iS=Symbol.for("v-ndc");function Du(t){return Qe(t)?Iv(Rv,t,!1)||t:t||iS}function kv(t){return Iv(R2,t)}function Iv(t,e,n=!0,r=!1){const i=Dn||Mn;if(i){const s=i.type;if(t===Rv){const o=$y(s,!1);if(o&&(o===e||o===qt(e)||o===to(qt(e))))return s}const a=rw(i[t]||s[t],e)||rw(i.appContext[t],e);return!a&&r?s:a}}function rw(t,e){return t&&(t[e]||t[qt(e)]||t[to(qt(e))])}function xt(t,e,n,r){let i;const s=n&&n[r],a=Me(t);if(a||Qe(t)){const o=a&&Ds(t);let l=!1;o&&(l=!Vr(t),t=Op(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?dr(t[c]):t[c],c,void 0,s&&s[c])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Dt(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>e(o,l,void 0,s&&s[l]));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const u=o[l];i[l]=e(t[u],u,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function zn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Me(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Ae(t,e,n={},r,i){if(Dn.ce||Dn.parent&&ka(Dn.parent)&&Dn.parent.ce)return e!=="default"&&(n.name=e),K(),Fe(Oe,null,[we("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),K();const a=s&&Av(s(n)),o=Fe(Oe,{key:(n.key||a&&a.key||`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Av(t){return t.some(e=>Vs(e)?!(e.type===_n||e.type===Oe&&!Av(e.children)):!0)?t:null}function sS(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Oo(r)]=t[r];return n}const ky=t=>t?qS(t)?Nd(t):ky(t.parent):null,Ic=ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ky(t.parent),$root:t=>ky(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Mv(t),$forceUpdate:t=>t.f||(t.f=()=>{yv(t.update)}),$nextTick:t=>t.n||(t.n=Hn.bind(t.proxy)),$watch:t=>z2.bind(t)}),pg=(t,e)=>t!==lt&&!t.__isScriptSetup&&wt(t,e),Iy={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const f=a[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(pg(r,e))return a[e]=1,r[e];if(i!==lt&&wt(i,e))return a[e]=2,i[e];if((c=t.propsOptions[0])&&wt(c,e))return a[e]=3,s[e];if(n!==lt&&wt(n,e))return a[e]=4,n[e];Ay&&(a[e]=0)}}const u=Ic[e];let d,h;if(u)return e==="$attrs"&&yr(t.attrs,"get",""),u(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==lt&&wt(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,wt(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return pg(i,e)?(i[e]=n,!0):r!==lt&&wt(r,e)?(r[e]=n,!0):wt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==lt&&wt(t,a)||pg(e,a)||(o=s[0])&&wt(o,a)||wt(r,a)||wt(Ic,a)||wt(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:wt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},k2=ft({},Iy,{get(t,e){if(e!==Symbol.unscopables)return Iy.get(t,e,t)},has(t,e){return e[0]!=="_"&&!bO(e)}});function aS(){return null}function oS(){return null}function lS(t){}function uS(t){}function cS(){return null}function dS(){}function hS(t,e){return null}function Hs(){return pS().slots}function fS(){return pS().attrs}function pS(){const t=Wn();return t.setupContext||(t.setupContext=JS(t))}function Hc(t){return Me(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function mS(t,e){const n=Hc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?Me(i)||Ve(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function gS(t,e){return!t||!e?t||e:Me(t)&&Me(e)?t.concat(e):ft({},Hc(t),Hc(e))}function yS(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function _S(t){const e=Wn();let n=t();return Ly(),iv(n)&&(n=n.catch(r=>{throw Wo(e),r})),[n,()=>Wo(e)]}let Ay=!0;function I2(t){const e=Mv(t),n=t.proxy,r=t.ctx;Ay=!1,e.beforeCreate&&iw(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:y,beforeDestroy:v,beforeUnmount:b,destroyed:g,unmounted:_,render:w,renderTracked:E,renderTriggered:x,errorCaptured:S,serverPrefetch:T,expose:P,inheritAttrs:B,components:F,directives:z,filters:j}=e;if(c&&A2(c,r,null),a)for(const M in a){const H=a[M];Ve(H)&&(r[M]=H.bind(n))}if(i){const M=i.call(n,n);Dt(M)&&(t.data=_i(M))}if(Ay=!0,s)for(const M in s){const H=s[M],Z=Ve(H)?H.bind(n,n):Ve(H.get)?H.get.bind(n,n):fr,le=!Ve(H)&&Ve(H.set)?H.set.bind(n):fr,ie=fe({get:Z,set:le});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>ie.value,set:N=>ie.value=N})}if(o)for(const M in o)vS(o[M],r,n,M);if(l){const M=Ve(l)?l.call(n):l;Reflect.ownKeys(M).forEach(H=>{Pv(H,M[H])})}u&&iw(u,t,"c");function O(M,H){Me(H)?H.forEach(Z=>M(Z.bind(n))):H&&M(H.bind(n))}if(O(Pd,d),O(sn,h),O(Up,f),O(Dd,p),O(wv,m),O(Ev,y),O(Sv,S),O(Cv,E),O(xv,x),O(Od,b),O(cs,_),O(Tv,T),Me(P))if(P.length){const M=t.exposed||(t.exposed={});P.forEach(H=>{Object.defineProperty(M,H,{get:()=>n[H],set:Z=>n[H]=Z})})}else t.exposed||(t.exposed={});w&&t.render===fr&&(t.render=w),B!=null&&(t.inheritAttrs=B),F&&(t.components=F),z&&(t.directives=z),T&&bv(t)}function A2(t,e,n=fr){Me(t)&&(t=My(t));for(const r in t){const i=t[r];let s;Dt(i)?"default"in i?s=No(i.from||r,i.default,!0):s=No(i.from||r):s=No(i),nn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function iw(t,e,n){ri(Me(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function vS(t,e,n,r){let i=r.includes(".")?LS(n,r):()=>n[r];if(Qe(t)){const s=e[t];Ve(s)&&rn(i,s)}else if(Ve(t))rn(i,t.bind(n));else if(Dt(t))if(Me(t))t.forEach(s=>vS(s,e,n,r));else{const s=Ve(t.handler)?t.handler.bind(n):e[t.handler];Ve(s)&&rn(i,s,t)}}function Mv(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>Rf(l,c,a,!0)),Rf(l,e,a)),Dt(e)&&s.set(e,l),l}function Rf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Rf(t,s,n,!0),i&&i.forEach(a=>Rf(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const o=M2[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const M2={data:sw,props:aw,emits:aw,methods:Tc,computed:Tc,beforeCreate:_r,created:_r,beforeMount:_r,mounted:_r,beforeUpdate:_r,updated:_r,beforeDestroy:_r,beforeUnmount:_r,destroyed:_r,unmounted:_r,activated:_r,deactivated:_r,errorCaptured:_r,serverPrefetch:_r,components:Tc,directives:Tc,watch:D2,provide:sw,inject:P2};function sw(t,e){return e?t?function(){return ft(Ve(t)?t.call(this,this):t,Ve(e)?e.call(this,this):e)}:e:t}function P2(t,e){return Tc(My(t),My(e))}function My(t){if(Me(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function _r(t,e){return t?[...new Set([].concat(t,e))]:e}function Tc(t,e){return t?ft(Object.create(null),t,e):e}function aw(t,e){return t?Me(t)&&Me(e)?[...new Set([...t,...e])]:ft(Object.create(null),Hc(t),Hc(e??{})):e}function D2(t,e){if(!t)return e;if(!e)return t;const n=ft(Object.create(null),t);for(const r in e)n[r]=_r(t[r],e[r]);return n}function bS(){return{app:null,config:{isNativeTag:wc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let O2=0;function L2(t,e){return function(r,i=null){Ve(r)||(r=ft({},r)),i!=null&&!Dt(i)&&(i=null);const s=bS(),a=new WeakSet,o=[];let l=!1;const c=s.app={_uid:O2++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Yv,get config(){return s.config},set config(u){},use(u,...d){return a.has(u)||(u&&Ve(u.install)?(a.add(u),u.install(c,...d)):Ve(u)&&(a.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||we(r,i);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),d&&e?e(f,u):t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,Nd(f.component)}},onUnmount(u){o.push(u)},unmount(){l&&(ri(o,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=Fo;Fo=c;try{return u()}finally{Fo=d}}};return c}}let Fo=null;function Pv(t,e){if(Mn){let n=Mn.provides;const r=Mn.parent&&Mn.parent.provides;r===n&&(n=Mn.provides=Object.create(r)),n[t]=e}}function No(t,e,n=!1){const r=Mn||Dn;if(r||Fo){const i=Fo?Fo._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ve(e)?e.call(r&&r.proxy):e}}function wS(){return!!(Mn||Dn||Fo)}const ES={},TS=()=>Object.create(ES),xS=t=>Object.getPrototypeOf(t)===ES;function F2(t,e,n,r=!1){const i={},s=TS();t.propsDefaults=Object.create(null),CS(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:dv(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function N2(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=pt(i),[l]=t.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Yp(t.emitsOptions,h))continue;const f=e[h];if(l)if(wt(s,h))f!==s[h]&&(s[h]=f,c=!0);else{const p=qt(h);i[p]=Py(l,o,p,f,t,!1)}else f!==s[h]&&(s[h]=f,c=!0)}}}else{CS(t,e,i,s)&&(c=!0);let u;for(const d in o)(!e||!wt(e,d)&&((u=Fr(d))===d||!wt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Py(l,o,d,void 0,t,!0)):delete i[d]);if(s!==o)for(const d in s)(!e||!wt(e,d))&&(delete s[d],c=!0)}c&&Ps(t.attrs,"set","")}function CS(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Ra(l))continue;const c=e[l];let u;i&&wt(i,u=qt(l))?!s||!s.includes(u)?n[u]=c:(o||(o={}))[u]=c:Yp(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(s){const l=pt(n),c=o||lt;for(let u=0;u<s.length;u++){const d=s[u];n[d]=Py(i,l,d,c[d],t,!wt(c,d))}}return a}function Py(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=wt(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Ve(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=Wo(i);r=c[n]=l.call(null,e),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===Fr(n))&&(r=!0))}return r}const $2=new WeakMap;function SS(t,e,n=!1){const r=n?$2:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!Ve(t)){const u=d=>{l=!0;const[h,f]=SS(d,e,!0);ft(a,h),f&&o.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return Dt(t)&&r.set(t,Zl),Zl;if(Me(s))for(let u=0;u<s.length;u++){const d=qt(s[u]);ow(d)&&(a[d]=lt)}else if(s)for(const u in s){const d=qt(u);if(ow(d)){const h=s[u],f=a[d]=Me(h)||Ve(h)?{type:h}:ft({},h),p=f.type;let m=!1,y=!0;if(Me(p))for(let v=0;v<p.length;++v){const b=p[v],g=Ve(b)&&b.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(y=!1)}else m=Ve(p)&&p.name==="Boolean";f[0]=m,f[1]=y,(m||wt(f,"default"))&&o.push(d)}}const c=[a,o];return Dt(t)&&r.set(t,c),c}function ow(t){return t[0]!=="$"&&!Ra(t)}const RS=t=>t[0]==="_"||t==="$stable",Dv=t=>Me(t)?t.map(Dr):[Dr(t)],B2=(t,e,n)=>{if(e._n)return e;const r=qe((...i)=>Dv(e(...i)),n);return r._c=!1,r},kS=(t,e,n)=>{const r=t._ctx;for(const i in t){if(RS(i))continue;const s=t[i];if(Ve(s))e[i]=B2(i,s,r);else if(s!=null){const a=Dv(s);e[i]=()=>a}}},IS=(t,e)=>{const n=Dv(e);t.slots.default=()=>n},AS=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},V2=(t,e,n)=>{const r=t.slots=TS();if(t.vnode.shapeFlag&32){const i=e._;i?(AS(r,e,n),n&&tC(r,"_",i,!0)):kS(e,r)}else e&&IS(t,e)},G2=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=lt;if(r.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:AS(i,e,n):(s=!e.$stable,kS(e,i)),a=e}else e&&(IS(t,e),a={default:1});if(s)for(const o in i)!RS(o)&&a[o]==null&&delete i[o]},Bn=GS;function Ov(t){return MS(t)}function Lv(t){return MS(t,E2)}function MS(t,e){const n=nC();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=fr,insertStaticContent:p}=t,m=(k,C,$,U=null,W=null,V=null,ee=void 0,R=null,D=!!C.dynamicChildren)=>{if(k===C)return;k&&!Si(k,C)&&(U=L(k),N(k,W,V,!0),k=null),C.patchFlag===-2&&(D=!1,C.dynamicChildren=null);const{type:Y,ref:J,shapeFlag:he}=C;switch(Y){case ts:y(k,C,$,U);break;case _n:v(k,C,$,U);break;case Ia:k==null&&b(C,$,U,ee);break;case Oe:F(k,C,$,U,W,V,ee,R,D);break;default:he&1?w(k,C,$,U,W,V,ee,R,D):he&6?z(k,C,$,U,W,V,ee,R,D):(he&64||he&128)&&Y.process(k,C,$,U,W,V,ee,R,D,ne)}J!=null&&W&&Sf(J,k&&k.ref,V,C||k,!C)},y=(k,C,$,U)=>{if(k==null)r(C.el=o(C.children),$,U);else{const W=C.el=k.el;C.children!==k.children&&c(W,C.children)}},v=(k,C,$,U)=>{k==null?r(C.el=l(C.children||""),$,U):C.el=k.el},b=(k,C,$,U)=>{[k.el,k.anchor]=p(k.children,C,$,U,k.el,k.anchor)},g=({el:k,anchor:C},$,U)=>{let W;for(;k&&k!==C;)W=h(k),r(k,$,U),k=W;r(C,$,U)},_=({el:k,anchor:C})=>{let $;for(;k&&k!==C;)$=h(k),i(k),k=$;i(C)},w=(k,C,$,U,W,V,ee,R,D)=>{C.type==="svg"?ee="svg":C.type==="math"&&(ee="mathml"),k==null?E(C,$,U,W,V,ee,R,D):T(k,C,W,V,ee,R,D)},E=(k,C,$,U,W,V,ee,R)=>{let D,Y;const{props:J,shapeFlag:he,transition:ce,dirs:X}=k;if(D=k.el=a(k.type,V,J&&J.is,J),he&8?u(D,k.children):he&16&&S(k.children,D,null,U,W,mg(k,V),ee,R),X&&Yi(k,null,U,"created"),x(D,k,k.scopeId,ee,U),J){for(const Te in J)Te!=="value"&&!Ra(Te)&&s(D,Te,null,J[Te],V,U);"value"in J&&s(D,"value",null,J.value,V),(Y=J.onVnodeBeforeMount)&&Pr(Y,U,k)}X&&Yi(k,null,U,"beforeMount");const re=PS(W,ce);re&&ce.beforeEnter(D),r(D,C,$),((Y=J&&J.onVnodeMounted)||re||X)&&Bn(()=>{Y&&Pr(Y,U,k),re&&ce.enter(D),X&&Yi(k,null,U,"mounted")},W)},x=(k,C,$,U,W)=>{if($&&f(k,$),U)for(let V=0;V<U.length;V++)f(k,U[V]);if(W){let V=W.subTree;if(C===V||If(V.type)&&(V.ssContent===C||V.ssFallback===C)){const ee=W.vnode;x(k,ee,ee.scopeId,ee.slotScopeIds,W.parent)}}},S=(k,C,$,U,W,V,ee,R,D=0)=>{for(let Y=D;Y<k.length;Y++){const J=k[Y]=R?ga(k[Y]):Dr(k[Y]);m(null,J,C,$,U,W,V,ee,R)}},T=(k,C,$,U,W,V,ee)=>{const R=C.el=k.el;let{patchFlag:D,dynamicChildren:Y,dirs:J}=C;D|=k.patchFlag&16;const he=k.props||lt,ce=C.props||lt;let X;if($&&po($,!1),(X=ce.onVnodeBeforeUpdate)&&Pr(X,$,C,k),J&&Yi(C,k,$,"beforeUpdate"),$&&po($,!0),(he.innerHTML&&ce.innerHTML==null||he.textContent&&ce.textContent==null)&&u(R,""),Y?P(k.dynamicChildren,Y,R,$,U,mg(C,W),V):ee||H(k,C,R,null,$,U,mg(C,W),V,!1),D>0){if(D&16)B(R,he,ce,$,W);else if(D&2&&he.class!==ce.class&&s(R,"class",null,ce.class,W),D&4&&s(R,"style",he.style,ce.style,W),D&8){const re=C.dynamicProps;for(let Te=0;Te<re.length;Te++){const Re=re[Te],mt=he[Re],et=ce[Re];(et!==mt||Re==="value")&&s(R,Re,mt,et,W,$)}}D&1&&k.children!==C.children&&u(R,C.children)}else!ee&&Y==null&&B(R,he,ce,$,W);((X=ce.onVnodeUpdated)||J)&&Bn(()=>{X&&Pr(X,$,C,k),J&&Yi(C,k,$,"updated")},U)},P=(k,C,$,U,W,V,ee)=>{for(let R=0;R<C.length;R++){const D=k[R],Y=C[R],J=D.el&&(D.type===Oe||!Si(D,Y)||D.shapeFlag&70)?d(D.el):$;m(D,Y,J,null,U,W,V,ee,!0)}},B=(k,C,$,U,W)=>{if(C!==$){if(C!==lt)for(const V in C)!Ra(V)&&!(V in $)&&s(k,V,C[V],null,W,U);for(const V in $){if(Ra(V))continue;const ee=$[V],R=C[V];ee!==R&&V!=="value"&&s(k,V,R,ee,W,U)}"value"in $&&s(k,"value",C.value,$.value,W)}},F=(k,C,$,U,W,V,ee,R,D)=>{const Y=C.el=k?k.el:o(""),J=C.anchor=k?k.anchor:o("");let{patchFlag:he,dynamicChildren:ce,slotScopeIds:X}=C;X&&(R=R?R.concat(X):X),k==null?(r(Y,$,U),r(J,$,U),S(C.children||[],$,J,W,V,ee,R,D)):he>0&&he&64&&ce&&k.dynamicChildren?(P(k.dynamicChildren,ce,$,W,V,ee,R),(C.key!=null||W&&C===W.subTree)&&Fv(k,C,!0)):H(k,C,$,J,W,V,ee,R,D)},z=(k,C,$,U,W,V,ee,R,D)=>{C.slotScopeIds=R,k==null?C.shapeFlag&512?W.ctx.activate(C,$,U,ee,D):j(C,$,U,W,V,ee,D):I(k,C,D)},j=(k,C,$,U,W,V,ee)=>{const R=k.component=WS(k,U,W);if(Md(k)&&(R.ctx.renderer=ne),KS(R,!1,ee),R.asyncDep){if(W&&W.registerDep(R,O,ee),!k.el){const D=R.subTree=we(_n);v(null,D,C,$)}}else O(R,k,C,$,W,V,ee)},I=(k,C,$)=>{const U=C.component=k.component;if(q2(k,C,$))if(U.asyncDep&&!U.asyncResolved){M(U,C,$);return}else U.next=C,U.update();else C.el=k.el,U.vnode=C},O=(k,C,$,U,W,V,ee)=>{const R=()=>{if(k.isMounted){let{next:he,bu:ce,u:X,parent:re,vnode:Te}=k;{const Ot=DS(k);if(Ot){he&&(he.el=Te.el,M(k,he,ee)),Ot.asyncDep.then(()=>{k.isUnmounted||R()});return}}let Re=he,mt;po(k,!1),he?(he.el=Te.el,M(k,he,ee)):he=Te,ce&&Ql(ce),(mt=he.props&&he.props.onVnodeBeforeUpdate)&&Pr(mt,re,he,Te),po(k,!0);const et=rf(k),It=k.subTree;k.subTree=et,m(It,et,d(It.el),L(It),k,W,V),he.el=et.el,Re===null&&Gv(k,et.el),X&&Bn(X,W),(mt=he.props&&he.props.onVnodeUpdated)&&Bn(()=>Pr(mt,re,he,Te),W)}else{let he;const{el:ce,props:X}=C,{bm:re,m:Te,parent:Re,root:mt,type:et}=k,It=ka(C);if(po(k,!1),re&&Ql(re),!It&&(he=X&&X.onVnodeBeforeMount)&&Pr(he,Re,C),po(k,!0),ce&&G){const Ot=()=>{k.subTree=rf(k),G(ce,k.subTree,k,W,null)};It&&et.__asyncHydrate?et.__asyncHydrate(ce,k,Ot):Ot()}else{mt.ce&&mt.ce._injectChildStyle(et);const Ot=k.subTree=rf(k);m(null,Ot,$,U,k,W,V),C.el=Ot.el}if(Te&&Bn(Te,W),!It&&(he=X&&X.onVnodeMounted)){const Ot=C;Bn(()=>Pr(he,Re,Ot),W)}(C.shapeFlag&256||Re&&ka(Re.vnode)&&Re.vnode.shapeFlag&256)&&k.a&&Bn(k.a,W),k.isMounted=!0,C=$=U=null}};k.scope.on();const D=k.effect=new hu(R);k.scope.off();const Y=k.update=D.run.bind(D),J=k.job=D.runIfDirty.bind(D);J.i=k,J.id=k.uid,D.scheduler=()=>yv(J),po(k,!0),Y()},M=(k,C,$)=>{C.component=k;const U=k.vnode.props;k.vnode=C,k.next=null,N2(k,C.props,U,$),G2(k,C.children,$),no(),Zb(k),ro()},H=(k,C,$,U,W,V,ee,R,D=!1)=>{const Y=k&&k.children,J=k?k.shapeFlag:0,he=C.children,{patchFlag:ce,shapeFlag:X}=C;if(ce>0){if(ce&128){le(Y,he,$,U,W,V,ee,R,D);return}else if(ce&256){Z(Y,he,$,U,W,V,ee,R,D);return}}X&8?(J&16&&pe(Y,W,V),he!==Y&&u($,he)):J&16?X&16?le(Y,he,$,U,W,V,ee,R,D):pe(Y,W,V,!0):(J&8&&u($,""),X&16&&S(he,$,U,W,V,ee,R,D))},Z=(k,C,$,U,W,V,ee,R,D)=>{k=k||Zl,C=C||Zl;const Y=k.length,J=C.length,he=Math.min(Y,J);let ce;for(ce=0;ce<he;ce++){const X=C[ce]=D?ga(C[ce]):Dr(C[ce]);m(k[ce],X,$,null,W,V,ee,R,D)}Y>J?pe(k,W,V,!0,!1,he):S(C,$,U,W,V,ee,R,D,he)},le=(k,C,$,U,W,V,ee,R,D)=>{let Y=0;const J=C.length;let he=k.length-1,ce=J-1;for(;Y<=he&&Y<=ce;){const X=k[Y],re=C[Y]=D?ga(C[Y]):Dr(C[Y]);if(Si(X,re))m(X,re,$,null,W,V,ee,R,D);else break;Y++}for(;Y<=he&&Y<=ce;){const X=k[he],re=C[ce]=D?ga(C[ce]):Dr(C[ce]);if(Si(X,re))m(X,re,$,null,W,V,ee,R,D);else break;he--,ce--}if(Y>he){if(Y<=ce){const X=ce+1,re=X<J?C[X].el:U;for(;Y<=ce;)m(null,C[Y]=D?ga(C[Y]):Dr(C[Y]),$,re,W,V,ee,R,D),Y++}}else if(Y>ce)for(;Y<=he;)N(k[Y],W,V,!0),Y++;else{const X=Y,re=Y,Te=new Map;for(Y=re;Y<=ce;Y++){const At=C[Y]=D?ga(C[Y]):Dr(C[Y]);At.key!=null&&Te.set(At.key,Y)}let Re,mt=0;const et=ce-re+1;let It=!1,Ot=0;const nr=new Array(et);for(Y=0;Y<et;Y++)nr[Y]=0;for(Y=X;Y<=he;Y++){const At=k[Y];if(mt>=et){N(At,W,V,!0);continue}let Q;if(At.key!=null)Q=Te.get(At.key);else for(Re=re;Re<=ce;Re++)if(nr[Re-re]===0&&Si(At,C[Re])){Q=Re;break}Q===void 0?N(At,W,V,!0):(nr[Q-re]=Y+1,Q>=Ot?Ot=Q:It=!0,m(At,C[Q],$,null,W,V,ee,R,D),mt++)}const vi=It?j2(nr):Zl;for(Re=vi.length-1,Y=et-1;Y>=0;Y--){const At=re+Y,Q=C[At],be=At+1<J?C[At+1].el:U;nr[Y]===0?m(null,Q,$,be,W,V,ee,R,D):It&&(Re<0||Y!==vi[Re]?ie(Q,$,be,2):Re--)}}},ie=(k,C,$,U,W=null)=>{const{el:V,type:ee,transition:R,children:D,shapeFlag:Y}=k;if(Y&6){ie(k.component.subTree,C,$,U);return}if(Y&128){k.suspense.move(C,$,U);return}if(Y&64){ee.move(k,C,$,ne);return}if(ee===Oe){r(V,C,$);for(let he=0;he<D.length;he++)ie(D[he],C,$,U);r(k.anchor,C,$);return}if(ee===Ia){g(k,C,$);return}if(U!==2&&Y&1&&R)if(U===0)R.beforeEnter(V),r(V,C,$),Bn(()=>R.enter(V),W);else{const{leave:he,delayLeave:ce,afterLeave:X}=R,re=()=>r(V,C,$),Te=()=>{he(V,()=>{re(),X&&X()})};ce?ce(V,re,Te):Te()}else r(V,C,$)},N=(k,C,$,U=!1,W=!1)=>{const{type:V,props:ee,ref:R,children:D,dynamicChildren:Y,shapeFlag:J,patchFlag:he,dirs:ce,cacheIndex:X}=k;if(he===-2&&(W=!1),R!=null&&Sf(R,null,$,k,!0),X!=null&&(C.renderCache[X]=void 0),J&256){C.ctx.deactivate(k);return}const re=J&1&&ce,Te=!ka(k);let Re;if(Te&&(Re=ee&&ee.onVnodeBeforeUnmount)&&Pr(Re,C,k),J&6)se(k.component,$,U);else{if(J&128){k.suspense.unmount($,U);return}re&&Yi(k,null,C,"beforeUnmount"),J&64?k.type.remove(k,C,$,ne,U):Y&&!Y.hasOnce&&(V!==Oe||he>0&&he&64)?pe(Y,C,$,!1,!0):(V===Oe&&he&384||!W&&J&16)&&pe(D,C,$),U&&te(k)}(Te&&(Re=ee&&ee.onVnodeUnmounted)||re)&&Bn(()=>{Re&&Pr(Re,C,k),re&&Yi(k,null,C,"unmounted")},$)},te=k=>{const{type:C,el:$,anchor:U,transition:W}=k;if(C===Oe){A($,U);return}if(C===Ia){_(k);return}const V=()=>{i($),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(k.shapeFlag&1&&W&&!W.persisted){const{leave:ee,delayLeave:R}=W,D=()=>ee($,V);R?R(k.el,V,D):D()}else V()},A=(k,C)=>{let $;for(;k!==C;)$=h(k),i(k),k=$;i(C)},se=(k,C,$)=>{const{bum:U,scope:W,job:V,subTree:ee,um:R,m:D,a:Y}=k;kf(D),kf(Y),U&&Ql(U),W.stop(),V&&(V.flags|=8,N(ee,k,C,$)),R&&Bn(R,C),Bn(()=>{k.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},pe=(k,C,$,U=!1,W=!1,V=0)=>{for(let ee=V;ee<k.length;ee++)N(k[ee],C,$,U,W)},L=k=>{if(k.shapeFlag&6)return L(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const C=h(k.anchor||k.el),$=C&&C[zC];return $?h($):C};let ve=!1;const Pe=(k,C,$)=>{k==null?C._vnode&&N(C._vnode,null,null,!0):m(C._vnode||null,k,C,null,null,null,$),C._vnode=k,ve||(ve=!0,Zb(),Cf(),ve=!1)},ne={p:m,um:N,m:ie,r:te,mt:j,mc:S,pc:H,pbc:P,n:L,o:t};let De,G;return e&&([De,G]=e(ne)),{render:Pe,hydrate:De,createApp:L2(Pe,De)}}function mg({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function po({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function PS(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Fv(t,e,n=!1){const r=t.children,i=e.children;if(Me(r)&&Me(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=ga(i[s]),o.el=a.el),!n&&o.patchFlag!==-2&&Fv(a,o)),o.type===ts&&(o.el=a.el)}}function j2(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<c?s=o+1:a=o;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}function DS(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:DS(e)}function kf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Nv=Symbol.for("v-scx"),$v=()=>No(Nv);function OS(t,e){return Ld(t,null,e)}function Bv(t,e){return Ld(t,null,{flush:"post"})}function Vv(t,e){return Ld(t,null,{flush:"sync"})}function rn(t,e,n){return Ld(t,e,n)}function Ld(t,e,n=lt){const{immediate:r,deep:i,flush:s,once:a}=n,o=ft({},n);let l;if(Fd)if(s==="sync"){const h=$v();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!e||r)o.once=!0;else{const h=()=>{};return h.stop=fr,h.resume=fr,h.pause=fr,h}const c=Mn;o.call=(h,f,p)=>ri(h,c,f,p);let u=!1;s==="post"?o.scheduler=h=>{Bn(h,c&&c.suspense)}:s!=="sync"&&(u=!0,o.scheduler=(h,f)=>{f?h():yv(h)}),o.augmentJob=h=>{e&&(h.flags|=4),u&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=c2(t,e,o);return l&&l.push(d),d}function z2(t,e,n){const r=this.proxy,i=Qe(t)?t.includes(".")?LS(r,t):()=>r[t]:t.bind(r,r);let s;Ve(e)?s=e:(s=e.handler,n=e);const a=Wo(this),o=Ld(i,s.bind(r),n);return a(),o}function LS(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function FS(t,e,n=lt){const r=Wn(),i=qt(e),s=Fr(e),a=NS(t,e),o=pv((l,c)=>{let u,d=lt,h;return Vv(()=>{const f=t[e];Er(u,f)&&(u=f,c())}),{get(){return l(),n.get?n.get(u):u},set(f){const p=n.set?n.set(f):f;if(!Er(p,u)&&!(d!==lt&&Er(f,d)))return;const m=r.vnode.props;m&&(e in m||i in m||s in m)&&(`onUpdate:${e}`in m||`onUpdate:${i}`in m||`onUpdate:${s}`in m)||(u=f,c()),r.emit(`update:${e}`,p),Er(f,p)&&Er(f,d)&&!Er(p,h)&&c(),d=f,h=p}}});return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||lt:o,done:!1}:{done:!0}}}},o}const NS=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${qt(e)}Modifiers`]||t[`${Fr(e)}Modifiers`];function U2(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||lt;let i=n;const s=e.startsWith("update:"),a=s&&NS(r,e.slice(7));a&&(a.trim&&(i=n.map(u=>Qe(u)?u.trim():u)),a.number&&(i=n.map(wf)));let o,l=r[o=Oo(e)]||r[o=Oo(qt(e))];!l&&s&&(l=r[o=Oo(Fr(e))]),l&&ri(l,t,6,i);const c=r[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,ri(c,t,6,i)}}function $S(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!Ve(t)){const l=c=>{const u=$S(c,e,!0);u&&(o=!0,ft(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(Dt(t)&&r.set(t,null),null):(Me(s)?s.forEach(l=>a[l]=null):ft(a,s),Dt(t)&&r.set(t,a),a)}function Yp(t,e){return!t||!al(e)?!1:(e=e.slice(2).replace(/Once$/,""),wt(t,e[0].toLowerCase()+e.slice(1))||wt(t,Fr(e))||wt(t,e))}function rf(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:o,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=t,y=Yc(t);let v,b;try{if(n.shapeFlag&4){const _=i||r,w=_;v=Dr(c.call(w,_,u,d,f,h,p)),b=o}else{const _=e;v=Dr(_.length>1?_(d,{attrs:o,slots:a,emit:l}):_(d,null)),b=e.props?o:H2(o)}}catch(_){Ac.length=0,io(_,t,1),v=we(_n)}let g=v;if(b&&m!==!1){const _=Object.keys(b),{shapeFlag:w}=g;_.length&&w&7&&(s&&_.some(nv)&&(b=W2(b,s)),g=Li(g,b,!1,!0))}return n.dirs&&(g=Li(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&os(g,n.transition),v=g,Yc(y),v}function Y2(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Vs(i)){if(i.type!==_n||i.children==="v-if"){if(n)return;n=i}}else return}return n}const H2=t=>{let e;for(const n in t)(n==="class"||n==="style"||al(n))&&((e||(e={}))[n]=t[n]);return e},W2=(t,e)=>{const n={};for(const r in t)(!nv(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function q2(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?lw(r,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(a[h]!==r[h]&&!Yp(c,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?lw(r,a,c):!0:!!a;return!1}function lw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Yp(n,s))return!0}return!1}function Gv({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const If=t=>t.__isSuspense;let Dy=0;const K2={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,a,o,l,c){if(t==null)X2(e,n,r,i,s,a,o,l,c);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Z2(t,e,n,r,i,a,o,l,c)}},hydrate:J2,normalize:Q2},BS=K2;function Wc(t,e){const n=t.props&&t.props[e];Ve(n)&&n()}function X2(t,e,n,r,i,s,a,o,l){const{p:c,o:{createElement:u}}=l,d=u("div"),h=t.suspense=VS(t,i,r,e,d,n,s,a,o,l);c(null,h.pendingBranch=t.ssContent,d,null,r,h,s,a),h.deps>0?(Wc(t,"onPending"),Wc(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,s,a),tu(h,t.ssFallback)):h.resolve(!1,!0)}function Z2(t,e,n,r,i,s,a,o,{p:l,um:c,o:{createElement:u}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,f=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:y,isHydrating:v}=d;if(m)d.pendingBranch=h,Si(h,m)?(l(m,h,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0?d.resolve():y&&(v||(l(p,f,n,r,i,null,s,a,o),tu(d,f)))):(d.pendingId=Dy++,v?(d.isHydrating=!1,d.activeBranch=m):c(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),y?(l(null,h,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0?d.resolve():(l(p,f,n,r,i,null,s,a,o),tu(d,f))):p&&Si(h,p)?(l(p,h,n,r,i,d,s,a,o),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0&&d.resolve()));else if(p&&Si(h,p))l(p,h,n,r,i,d,s,a,o),tu(d,h);else if(Wc(e,"onPending"),d.pendingBranch=h,h.shapeFlag&512?d.pendingId=h.component.suspenseId:d.pendingId=Dy++,l(null,h,d.hiddenContainer,null,i,d,s,a,o),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:g}=d;b>0?setTimeout(()=>{d.pendingId===g&&d.fallback(f)},b):b===0&&d.fallback(f)}}function VS(t,e,n,r,i,s,a,o,l,c,u=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:m,remove:y}}=c;let v;const b=eL(t);b&&e&&e.pendingBranch&&(v=e.pendingId,e.deps++);const g=t.props?Ef(t.props.timeout):void 0,_=s,w={vnode:t,parent:e,parentComponent:n,namespace:a,container:r,hiddenContainer:i,deps:0,pendingId:Dy++,timeout:typeof g=="number"?g:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(E=!1,x=!1){const{vnode:S,activeBranch:T,pendingBranch:P,pendingId:B,effects:F,parentComponent:z,container:j}=w;let I=!1;w.isHydrating?w.isHydrating=!1:E||(I=T&&P.transition&&P.transition.mode==="out-in",I&&(T.transition.afterLeave=()=>{B===w.pendingId&&(h(P,j,s===_?p(T):s,0),zc(F))}),T&&(m(T.el)===j&&(s=p(T)),f(T,z,w,!0)),I||h(P,j,s,0)),tu(w,P),w.pendingBranch=null,w.isInFallback=!1;let O=w.parent,M=!1;for(;O;){if(O.pendingBranch){O.effects.push(...F),M=!0;break}O=O.parent}!M&&!I&&zc(F),w.effects=[],b&&e&&e.pendingBranch&&v===e.pendingId&&(e.deps--,e.deps===0&&!x&&e.resolve()),Wc(S,"onResolve")},fallback(E){if(!w.pendingBranch)return;const{vnode:x,activeBranch:S,parentComponent:T,container:P,namespace:B}=w;Wc(x,"onFallback");const F=p(S),z=()=>{w.isInFallback&&(d(null,E,P,F,T,null,B,o,l),tu(w,E))},j=E.transition&&E.transition.mode==="out-in";j&&(S.transition.afterLeave=z),w.isInFallback=!0,f(S,T,null,!0),j||z()},move(E,x,S){w.activeBranch&&h(w.activeBranch,E,x,S),w.container=E},next(){return w.activeBranch&&p(w.activeBranch)},registerDep(E,x,S){const T=!!w.pendingBranch;T&&w.deps++;const P=E.vnode.el;E.asyncDep.catch(B=>{io(B,E,0)}).then(B=>{if(E.isUnmounted||w.isUnmounted||w.pendingId!==E.suspenseId)return;E.asyncResolved=!0;const{vnode:F}=E;Fy(E,B,!1),P&&(F.el=P);const z=!P&&E.subTree.el;x(E,F,m(P||E.subTree.el),P?null:p(E.subTree),w,a,S),z&&y(z),Gv(E,F.el),T&&--w.deps===0&&w.resolve()})},unmount(E,x){w.isUnmounted=!0,w.activeBranch&&f(w.activeBranch,n,E,x),w.pendingBranch&&f(w.pendingBranch,n,E,x)}};return w}function J2(t,e,n,r,i,s,a,o,l){const c=e.suspense=VS(e,r,n,t.parentNode,document.createElement("div"),null,i,s,a,o,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,s,a);return c.deps===0&&c.resolve(!1,!0),u}function Q2(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=uw(r?n.default:n),t.ssFallback=r?uw(n.fallback):we(_n)}function uw(t){let e;if(Ve(t)){const n=Ho&&t._c;n&&(t._d=!1,K()),t=t(),n&&(t._d=!0,e=hr,jS())}return Me(t)&&(t=Y2(t)),t=Dr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function GS(t,e){e&&e.pendingBranch?Me(t)?e.effects.push(...t):e.effects.push(t):zc(t)}function tu(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Gv(r,i))}function eL(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Oe=Symbol.for("v-fgt"),ts=Symbol.for("v-txt"),_n=Symbol.for("v-cmt"),Ia=Symbol.for("v-stc"),Ac=[];let hr=null;function K(t=!1){Ac.push(hr=t?null:[])}function jS(){Ac.pop(),hr=Ac[Ac.length-1]||null}let Ho=1;function Af(t){Ho+=t,t<0&&hr&&(hr.hasOnce=!0)}function zS(t){return t.dynamicChildren=Ho>0?hr||Zl:null,jS(),Ho>0&&hr&&hr.push(t),t}function ae(t,e,n,r,i,s){return zS(ye(t,e,n,r,i,s,!0))}function Fe(t,e,n,r,i){return zS(we(t,e,n,r,i,!0))}function Vs(t){return t?t.__v_isVNode===!0:!1}function Si(t,e){return t.type===e.type&&t.key===e.key}function US(t){}const YS=({key:t})=>t??null,sf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qe(t)||nn(t)||Ve(t)?{i:Dn,r:t,k:e,f:!!n}:t:null);function ye(t,e=null,n=null,r=0,i=null,s=t===Oe?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&YS(e),ref:e&&sf(e),scopeId:Vp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Dn};return o?(jv(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Qe(n)?8:16),Ho>0&&!a&&hr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&hr.push(l),l}const we=tL;function tL(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===iS)&&(t=_n),Vs(t)){const o=Li(t,e,!0);return n&&jv(o,n),Ho>0&&!s&&hr&&(o.shapeFlag&6?hr[hr.indexOf(t)]=o:hr.push(o)),o.patchFlag=-2,o}if(aL(t)&&(t=t.__vccOpts),e){e=Jn(e);let{class:o,style:l}=e;o&&!Qe(o)&&(e.class=Ge(o)),Dt(l)&&(kd(l)&&!Me(l)&&(l=ft({},l)),e.style=vn(l))}const a=Qe(t)?1:If(t)?128:UC(t)?64:Dt(t)?4:Ve(t)?2:0;return ye(t,e,n,r,i,a,s,!0)}function Jn(t){return t?kd(t)||xS(t)?ft({},t):t:null}function Li(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:o,transition:l}=t,c=e?bn(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&YS(c),ref:e&&e.ref?n&&s?Me(s)?s.concat(sf(e)):[s,sf(e)]:sf(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Li(t.ssContent),ssFallback:t.ssFallback&&Li(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&os(u,l.clone(u)),u}function tr(t=" ",e=0){return we(ts,null,t,e)}function HS(t,e){const n=we(Ia,null,t);return n.staticCount=e,n}function me(t="",e=!1){return e?(K(),Fe(_n,null,t)):we(_n,null,t)}function Dr(t){return t==null||typeof t=="boolean"?we(_n):Me(t)?we(Oe,null,t.slice()):typeof t=="object"?ga(t):we(ts,null,String(t))}function ga(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Li(t)}function jv(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Me(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),jv(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!xS(e)?e._ctx=Dn:i===3&&Dn&&(Dn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ve(e)?(e={default:e,_ctx:Dn},n=32):(e=String(e),r&64?(n=16,e=[tr(e)]):n=8);t.children=e,t.shapeFlag|=n}function bn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ge([e.class,r.class]));else if(i==="style")e.style=vn([e.style,r.style]);else if(al(i)){const s=e[i],a=r[i];a&&s!==a&&!(Me(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function Pr(t,e,n,r=null){ri(t,e,7,[n,r])}const nL=bS();let rL=0;function WS(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||nL,s={uid:rL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ap(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:SS(r,i),emitsOptions:$S(r,i),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:r.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=U2.bind(null,s),t.ce&&t.ce(s),s}let Mn=null;const Wn=()=>Mn||Dn;let Mf,Oy;{const t=nC(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};Mf=e("__VUE_INSTANCE_SETTERS__",n=>Mn=n),Oy=e("__VUE_SSR_SETTERS__",n=>Fd=n)}const Wo=t=>{const e=Mn;return Mf(t),t.scope.on(),()=>{t.scope.off(),Mf(e)}},Ly=()=>{Mn&&Mn.scope.off(),Mf(null)};function qS(t){return t.vnode.shapeFlag&4}let Fd=!1;function KS(t,e=!1,n=!1){e&&Oy(e);const{props:r,children:i}=t.vnode,s=qS(t);F2(t,r,s,e),V2(t,i,n);const a=s?iL(t,e):void 0;return e&&Oy(!1),a}function iL(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Iy);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?JS(t):null,s=Wo(t);no();const a=ll(r,t,0,[t.props,i]);if(ro(),s(),iv(a)){if(ka(t)||bv(t),a.then(Ly,Ly),e)return a.then(o=>{Fy(t,o,e)}).catch(o=>{io(o,t,0)});t.asyncDep=a}else Fy(t,a,e)}else ZS(t,e)}function Fy(t,e,n){Ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Dt(e)&&(t.setupState=Bp(e)),ZS(t,n)}let Pf,Ny;function zv(t){Pf=t,Ny=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,k2))}}const XS=()=>!Pf;function ZS(t,e,n){const r=t.type;if(!t.render){if(!e&&Pf&&!r.render){const i=r.template||Mv(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,c=ft(ft({isCustomElement:s,delimiters:o},a),l);r.render=Pf(i,c)}}t.render=r.render||fr,Ny&&Ny(t)}{const i=Wo(t);no();try{I2(t)}finally{ro(),i()}}}const sL={get(t,e){return yr(t,"get",""),t[e]}};function JS(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,sL),slots:t.slots,emit:t.emit,expose:e}}function Nd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Bp(hv(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ic)return Ic[n](t)},has(e,n){return n in e||n in Ic}})):t.proxy}function $y(t,e=!0){return Ve(t)?t.displayName||t.name:t.name||e&&t.__name}function aL(t){return Ve(t)&&"__vccOpts"in t}const fe=(t,e)=>u2(t,e,Fd);function Ou(t,e,n){const r=arguments.length;return r===2?Dt(e)&&!Me(e)?Vs(e)?we(t,null,[e]):we(t,e):we(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Vs(n)&&(n=[n]),we(t,e,n))}function QS(){}function eR(t,e,n,r){const i=n[r];if(i&&Uv(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function Uv(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Er(n[r],e[r]))return!1;return Ho>0&&hr&&hr.push(t),!0}const Yv="3.5.6",tR=fr,nR=f2,rR=Nl,iR=BC,oL={createComponentInstance:WS,setupComponent:KS,renderComponentRoot:rf,setCurrentRenderingInstance:Yc,isVNode:Vs,normalizeVNode:Dr,getComponentPublicInstance:Nd,ensureValidVNode:Av,pushWarningContext:d2,popWarningContext:h2},sR=oL,aR=null,oR=null,lR=null;/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let By;const cw=typeof window<"u"&&window.trustedTypes;if(cw)try{By=cw.createPolicy("vue",{createHTML:t=>t})}catch{}const uR=By?t=>By.createHTML(t):t=>t,lL="http://www.w3.org/2000/svg",uL="http://www.w3.org/1998/Math/MathML",Es=typeof document<"u"?document:null,dw=Es&&Es.createElement("template"),cL={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Es.createElementNS(lL,t):e==="mathml"?Es.createElementNS(uL,t):n?Es.createElement(t,{is:n}):Es.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Es.createTextNode(t),createComment:t=>Es.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Es.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{dw.innerHTML=uR(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const o=dw.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ta="transition",sc="animation",fu=Symbol("_vtc"),cR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},dR=ft({},jp,cR),dL=t=>(t.displayName="Transition",t.props=dR,t),so=dL((t,{slots:e})=>Ou(vv,hR(t),e)),mo=(t,e=[])=>{Me(t)?t.forEach(n=>n(...e)):t&&t(...e)},hw=t=>t?Me(t)?t.some(e=>e.length>1):t.length>1:!1;function hR(t){const e={};for(const F in t)F in cR||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=a,appearToClass:u=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,p=hL(i),m=p&&p[0],y=p&&p[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:g,onLeave:_,onLeaveCancelled:w,onBeforeAppear:E=v,onAppear:x=b,onAppearCancelled:S=g}=e,T=(F,z,j)=>{da(F,z?u:o),da(F,z?c:a),j&&j()},P=(F,z)=>{F._isLeaving=!1,da(F,d),da(F,f),da(F,h),z&&z()},B=F=>(z,j)=>{const I=F?x:b,O=()=>T(z,F,j);mo(I,[z,O]),fw(()=>{da(z,F?l:s),vs(z,F?u:o),hw(I)||pw(z,r,m,O)})};return ft(e,{onBeforeEnter(F){mo(v,[F]),vs(F,s),vs(F,a)},onBeforeAppear(F){mo(E,[F]),vs(F,l),vs(F,c)},onEnter:B(!1),onAppear:B(!0),onLeave(F,z){F._isLeaving=!0;const j=()=>P(F,z);vs(F,d),vs(F,h),pR(),fw(()=>{F._isLeaving&&(da(F,d),vs(F,f),hw(_)||pw(F,r,y,j))}),mo(_,[F,j])},onEnterCancelled(F){T(F,!1),mo(g,[F])},onAppearCancelled(F){T(F,!0),mo(S,[F])},onLeaveCancelled(F){P(F),mo(w,[F])}})}function hL(t){if(t==null)return null;if(Dt(t))return[gg(t.enter),gg(t.leave)];{const e=gg(t);return[e,e]}}function gg(t){return Ef(t)}function vs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[fu]||(t[fu]=new Set)).add(e)}function da(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[fu];n&&(n.delete(e),n.size||(t[fu]=void 0))}function fw(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let fL=0;function pw(t,e,n,r){const i=t._endId=++fL,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=fR(t,e);if(!a)return r();const c=a+"end";let u=0;const d=()=>{t.removeEventListener(c,h),s()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),t.addEventListener(c,h)}function fR(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${ta}Delay`),s=r(`${ta}Duration`),a=mw(i,s),o=r(`${sc}Delay`),l=r(`${sc}Duration`),c=mw(o,l);let u=null,d=0,h=0;e===ta?a>0&&(u=ta,d=a,h=s.length):e===sc?c>0&&(u=sc,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?ta:sc:null,h=u?u===ta?s.length:l.length:0);const f=u===ta&&/\b(transform|all)(,|$)/.test(r(`${ta}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function mw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>gw(n)+gw(t[r])))}function gw(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function pR(){return document.body.offsetHeight}function pL(t,e,n){const r=t[fu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Df=Symbol("_vod"),mR=Symbol("_vsh"),Ln={beforeMount(t,{value:e},{transition:n}){t[Df]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ac(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ac(t,!0),r.enter(t)):r.leave(t,()=>{ac(t,!1)}):ac(t,e))},beforeUnmount(t,{value:e}){ac(t,e)}};function ac(t,e){t.style.display=e?t[Df]:"none",t[mR]=!e}function mL(){Ln.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const gR=Symbol("");function yR(t){const e=Wn();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Of(s,i))},r=()=>{const i=t(e.proxy);e.ce?Of(e.ce,i):Vy(e.subTree,i),n(i)};Pd(()=>{Bv(r)}),sn(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),cs(()=>i.disconnect())})}function Vy(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Vy(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Of(t.el,e);else if(t.type===Oe)t.children.forEach(n=>Vy(n,e));else if(t.type===Ia){let{el:n,anchor:r}=t;for(;n&&(Of(n,e),n!==r);)n=n.nextSibling}}function Of(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[gR]=r}}const gL=/(^|;)\s*display\s*:/;function yL(t,e,n){const r=t.style,i=Qe(n);let s=!1;if(n&&!i){if(e)if(Qe(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&af(r,o,"")}else for(const a in e)n[a]==null&&af(r,a,"");for(const a in n)a==="display"&&(s=!0),af(r,a,n[a])}else if(i){if(e!==n){const a=r[gR];a&&(n+=";"+a),r.cssText=n,s=gL.test(n)}}else e&&t.removeAttribute("style");Df in t&&(t[Df]=s?r.display:"",t[mR]&&(r.display="none"))}const yw=/\s*!important$/;function af(t,e,n){if(Me(n))n.forEach(r=>af(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=_L(t,e);yw.test(n)?t.setProperty(Fr(r),n.replace(yw,""),"important"):t[r]=n}}const _w=["Webkit","Moz","ms"],yg={};function _L(t,e){const n=yg[e];if(n)return n;let r=qt(e);if(r!=="filter"&&r in t)return yg[e]=r;r=to(r);for(let i=0;i<_w.length;i++){const s=_w[i]+r;if(s in t)return yg[e]=s}return e}const vw="http://www.w3.org/1999/xlink";function bw(t,e,n,r,i,s=DO(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(vw,e.slice(6,e.length)):t.setAttributeNS(vw,e,n):n==null||s&&!iC(n)?t.removeAttribute(e):t.setAttribute(e,s?"":ni(n)?String(n):n)}function vL(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?uR(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,o=n==null?t.type==="checkbox"?"on":"":String(n);(a!==o||!("_value"in t))&&(t.value=o),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=iC(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(e)}function ks(t,e,n,r){t.addEventListener(e,n,r)}function bL(t,e,n,r){t.removeEventListener(e,n,r)}const ww=Symbol("_vei");function wL(t,e,n,r,i=null){const s=t[ww]||(t[ww]={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=EL(e);if(r){const c=s[e]=CL(r,i);ks(t,o,c,l)}else a&&(bL(t,o,a,l),s[e]=void 0)}}const Ew=/(?:Once|Passive|Capture)$/;function EL(t){let e;if(Ew.test(t)){e={};let r;for(;r=t.match(Ew);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fr(t.slice(2)),e]}let _g=0;const TL=Promise.resolve(),xL=()=>_g||(TL.then(()=>_g=0),_g=Date.now());function CL(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ri(SL(r,n.value),e,5,[r])};return n.value=t,n.attached=xL(),n}function SL(t,e){if(Me(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Tw=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,RL=(t,e,n,r,i,s)=>{const a=i==="svg";e==="class"?pL(t,r,a):e==="style"?yL(t,n,r):al(e)?nv(e)||wL(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):kL(t,e,r,a))?(vL(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&bw(t,e,r,a,s,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),bw(t,e,r,a))};function kL(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Tw(e)&&Ve(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Tw(e)&&Qe(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!Qe(n)))}const xw={};/*! #__NO_SIDE_EFFECTS__ */function Hv(t,e,n){const r=Jt(t,e);Rp(r)&&ft(r,e);class i extends $d{constructor(a){super(r,a,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const _R=(t,e)=>Hv(t,e,Xv),IL=typeof HTMLElement<"u"?HTMLElement:class{};class $d extends IL{constructor(e,n={},r=Xc){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Xc?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof $d){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Hn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:a}=r;let o;if(s&&!Me(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Ef(this._props[l])),(o||(o=Object.create(null)))[qt(l)]=!0)}this._numberProps=o,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(a),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)wt(this,r)||Object.defineProperty(this,r,{get:()=>q(n[r])})}_resolveProps(e){const{props:n}=e,r=Me(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(qt))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):xw;const i=qt(e);n&&this._numberProps&&this._numberProps[i]&&(r=Ef(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){n!==this._props[e]&&(n===xw?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Fr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Fr(e),n+""):n||this.removeAttribute(Fr(e))))}_update(){Kc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=we(this._def,ft(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,a)=>{this.dispatchEvent(new CustomEvent(s,Rp(a[0])?ft({detail:a},a[0]):{detail:a}))};r.emit=(s,...a)=>{i(s,a),Fr(s)!==s&&i(Fr(s),a)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",a=this._slots[s],o=i.parentNode;if(a)for(const l of a){if(n&&l.nodeType===1){const c=n+"-s",u=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=u.nextNode();)d.setAttribute(c,"")}o.insertBefore(l,i)}else for(;i.firstChild;)o.insertBefore(i.firstChild,i);o.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function Wv(t){const e=Wn(),n=e&&e.ce;return n||null}function vR(){const t=Wv();return t&&t.shadowRoot}function bR(t="$style"){{const e=Wn();if(!e)return lt;const n=e.type.__cssModules;if(!n)return lt;const r=n[t];return r||lt}}const wR=new WeakMap,ER=new WeakMap,Lf=Symbol("_moveCb"),Cw=Symbol("_enterCb"),AL=t=>(delete t.props.mode,t),ML=AL({name:"TransitionGroup",props:ft({},dR,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Wn(),r=Gp();let i,s;return Dd(()=>{if(!i.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!LL(i[0].el,n.vnode.el,a))return;i.forEach(PL),i.forEach(DL);const o=i.filter(OL);pR(),o.forEach(l=>{const c=l.el,u=c.style;vs(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Lf]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c[Lf]=null,da(c,a))};c.addEventListener("transitionend",d)})}),()=>{const a=pt(t),o=hR(a);let l=a.tag||Oe;if(i=[],s)for(let c=0;c<s.length;c++){const u=s[c];u.el&&u.el instanceof Element&&(i.push(u),os(u,Yo(u,o,r,n)),wR.set(u,u.el.getBoundingClientRect()))}s=e.default?Ad(e.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&os(u,Yo(u,o,r,n))}return we(l,null,s)}}}),TR=ML;function PL(t){const e=t.el;e[Lf]&&e[Lf](),e[Cw]&&e[Cw]()}function DL(t){ER.set(t,t.el.getBoundingClientRect())}function OL(t){const e=wR.get(t),n=ER.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function LL(t,e,n){const r=t.cloneNode(),i=t[fu];i&&i.forEach(o=>{o.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:a}=fR(r);return s.removeChild(r),a}const Ga=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Me(e)?n=>Ql(e,n):e};function FL(t){t.target.composing=!0}function Sw(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gi=Symbol("_assign"),qc={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[gi]=Ga(i);const s=r||i.props&&i.props.type==="number";ks(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=wf(o)),t[gi](o)}),n&&ks(t,"change",()=>{t.value=t.value.trim()}),e||(ks(t,"compositionstart",FL),ks(t,"compositionend",Sw),ks(t,"change",Sw))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},a){if(t[gi]=Ga(a),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?wf(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},Hp={deep:!0,created(t,e,n){t[gi]=Ga(n),ks(t,"change",()=>{const r=t._modelValue,i=pu(t),s=t.checked,a=t[gi];if(Me(r)){const o=Ip(r,i),l=o!==-1;if(s&&!l)a(r.concat(i));else if(!s&&l){const c=[...r];c.splice(o,1),a(c)}}else if(ol(r)){const o=new Set(r);s?o.add(i):o.delete(i),a(o)}else a(xR(t,s))})},mounted:Rw,beforeUpdate(t,e,n){t[gi]=Ga(n),Rw(t,e,n)}};function Rw(t,{value:e,oldValue:n},r){t._modelValue=e;let i;Me(e)?i=Ip(e,r.props.value)>-1:ol(e)?i=e.has(r.props.value):i=Va(e,xR(t,!0)),t.checked!==i&&(t.checked=i)}const Wp={created(t,{value:e},n){t.checked=Va(e,n.props.value),t[gi]=Ga(n),ks(t,"change",()=>{t[gi](pu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[gi]=Ga(r),e!==n&&(t.checked=Va(e,r.props.value))}},qv={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=ol(e);ks(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?wf(pu(a)):pu(a));t[gi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Hn(()=>{t._assigning=!1})}),t[gi]=Ga(r)},mounted(t,{value:e,modifiers:{number:n}}){kw(t,e)},beforeUpdate(t,e,n){t[gi]=Ga(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||kw(t,e)}};function kw(t,e,n){const r=t.multiple,i=Me(e);if(!(r&&!i&&!ol(e))){for(let s=0,a=t.options.length;s<a;s++){const o=t.options[s],l=pu(o);if(r)if(i){const c=typeof l;c==="string"||c==="number"?o.selected=e.some(u=>String(u)===String(l)):o.selected=Ip(e,l)>-1}else o.selected=e.has(l);else if(Va(pu(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function pu(t){return"_value"in t?t._value:t.value}function xR(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Kv={created(t,e,n){Rh(t,e,n,null,"created")},mounted(t,e,n){Rh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Rh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Rh(t,e,n,r,"updated")}};function CR(t,e){switch(t){case"SELECT":return qv;case"TEXTAREA":return qc;default:switch(e){case"checkbox":return Hp;case"radio":return Wp;default:return qc}}}function Rh(t,e,n,r,i){const a=CR(t.tagName,n.props&&n.props.type)[i];a&&a(t,e,n,r)}function NL(){qc.getSSRProps=({value:t})=>({value:t}),Wp.getSSRProps=({value:t},e)=>{if(e.props&&Va(e.props.value,t))return{checked:!0}},Hp.getSSRProps=({value:t},e)=>{if(Me(t)){if(e.props&&Ip(t,e.props.value)>-1)return{checked:!0}}else if(ol(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Kv.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=CR(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const $L=["ctrl","shift","alt","meta"],BL={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>$L.some(n=>t[`${n}Key`]&&!e.includes(n))},qo=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<e.length;a++){const o=BL[e[a]];if(o&&o(i,e))return}return t(i,...s)})},VL={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qp=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Fr(i.key);if(e.some(a=>a===s||VL[a]===s))return t(i)})},SR=ft({patchProp:RL},cL);let Mc,Iw=!1;function RR(){return Mc||(Mc=Ov(SR))}function kR(){return Mc=Iw?Mc:Lv(SR),Iw=!0,Mc}const Kc=(...t)=>{RR().render(...t)},IR=(...t)=>{kR().hydrate(...t)},Xc=(...t)=>{const e=RR().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=MR(r);if(!i)return;const s=e._component;!Ve(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,AR(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e},Xv=(...t)=>{const e=kR().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=MR(r);if(i)return n(i,!0,AR(i))},e};function AR(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function MR(t){return Qe(t)?document.querySelector(t):t}let Aw=!1;const PR=()=>{Aw||(Aw=!0,NL(),mL())},GL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:vv,BaseTransitionPropsValidators:jp,Comment:_n,DeprecationTypes:lR,EffectScope:Ap,ErrorCodes:LC,ErrorTypeStrings:nR,Fragment:Oe,KeepAlive:nS,ReactiveEffect:hu,Static:Ia,Suspense:BS,Teleport:_v,Text:ts,TrackOpTypes:AC,Transition:so,TransitionGroup:TR,TriggerOpTypes:MC,VueElement:$d,assertNumber:OC,callWithAsyncErrorHandling:ri,callWithErrorHandling:ll,camelize:qt,capitalize:to,cloneVNode:Li,compatUtils:oR,computed:fe,createApp:Xc,createBlock:Fe,createCommentVNode:me,createElementBlock:ae,createElementVNode:ye,createHydrationRenderer:Lv,createPropsRestProxy:yS,createRenderer:Ov,createSSRApp:Xv,createSlots:zn,createStaticVNode:HS,createTextVNode:tr,createVNode:we,customRef:pv,defineAsyncComponent:tS,defineComponent:Jt,defineCustomElement:Hv,defineEmits:oS,defineExpose:lS,defineModel:dS,defineOptions:uS,defineProps:aS,defineSSRCustomElement:_R,defineSlots:cS,devtools:rR,effect:hC,effectScope:Mp,getCurrentInstance:Wn,getCurrentScope:Pp,getCurrentWatcher:PC,getTransitionRawChildren:Ad,guardReactiveProps:Jn,h:Ou,handleError:io,hasInjectionContext:wS,hydrate:IR,hydrateOnIdle:ZC,hydrateOnInteraction:eS,hydrateOnMediaQuery:QC,hydrateOnVisible:JC,initCustomFormatter:QS,initDirectivesForSSR:PR,inject:No,isMemoSame:Uv,isProxy:kd,isReactive:Ds,isReadonly:Bs,isRef:nn,isRuntimeOnly:XS,isShallow:Vr,isVNode:Vs,markRaw:hv,mergeDefaults:mS,mergeModels:gS,mergeProps:bn,nextTick:Hn,normalizeClass:Ge,normalizeProps:Rn,normalizeStyle:vn,onActivated:wv,onBeforeMount:Pd,onBeforeUnmount:Od,onBeforeUpdate:Up,onDeactivated:Ev,onErrorCaptured:Sv,onMounted:sn,onRenderTracked:Cv,onRenderTriggered:xv,onScopeDispose:av,onServerPrefetch:Tv,onUnmounted:cs,onUpdated:Dd,onWatcherCleanup:mv,openBlock:K,popScopeId:GC,provide:Pv,proxyRefs:Bp,pushScopeId:VC,queuePostFlushCb:zc,reactive:_i,readonly:Np,ref:_e,registerRuntimeCompiler:zv,render:Kc,renderList:xt,renderSlot:Ae,resolveComponent:Ie,resolveDirective:kv,resolveDynamicComponent:Du,resolveFilter:aR,resolveTransitionHooks:Yo,setBlockTracking:Af,setDevtoolsHook:iR,setTransitionHooks:os,shallowReactive:dv,shallowReadonly:xC,shallowRef:Id,ssrContextKey:Nv,ssrUtils:sR,stop:fC,toDisplayString:Ye,toHandlerKey:Oo,toHandlers:sS,toRaw:pt,toRef:Uo,toRefs:kC,toValue:RC,transformVNodeArgs:US,triggerRef:SC,unref:q,useAttrs:fS,useCssModule:bR,useCssVars:yR,useHost:Wv,useId:KC,useModel:FS,useSSRContext:$v,useShadowRoot:vR,useSlots:Hs,useTemplateRef:XC,useTransitionState:Gp,vModelCheckbox:Hp,vModelDynamic:Kv,vModelRadio:Wp,vModelSelect:qv,vModelText:qc,vShow:Ln,version:Yv,warn:tR,watch:rn,watchEffect:OS,watchPostEffect:Bv,watchSyncEffect:Vv,withAsyncContext:_S,withCtx:qe,withDefaults:hS,withDirectives:On,withKeys:qp,withMemo:eR,withModifiers:qo,withScopeId:jC},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Zc=Symbol(""),Pc=Symbol(""),Zv=Symbol(""),Ff=Symbol(""),DR=Symbol(""),Ko=Symbol(""),OR=Symbol(""),LR=Symbol(""),Jv=Symbol(""),Qv=Symbol(""),Bd=Symbol(""),e0=Symbol(""),FR=Symbol(""),t0=Symbol(""),n0=Symbol(""),r0=Symbol(""),i0=Symbol(""),s0=Symbol(""),a0=Symbol(""),NR=Symbol(""),$R=Symbol(""),Kp=Symbol(""),Nf=Symbol(""),o0=Symbol(""),l0=Symbol(""),Jc=Symbol(""),Vd=Symbol(""),u0=Symbol(""),Gy=Symbol(""),jL=Symbol(""),jy=Symbol(""),$f=Symbol(""),zL=Symbol(""),UL=Symbol(""),c0=Symbol(""),YL=Symbol(""),HL=Symbol(""),d0=Symbol(""),BR=Symbol(""),mu={[Zc]:"Fragment",[Pc]:"Teleport",[Zv]:"Suspense",[Ff]:"KeepAlive",[DR]:"BaseTransition",[Ko]:"openBlock",[OR]:"createBlock",[LR]:"createElementBlock",[Jv]:"createVNode",[Qv]:"createElementVNode",[Bd]:"createCommentVNode",[e0]:"createTextVNode",[FR]:"createStaticVNode",[t0]:"resolveComponent",[n0]:"resolveDynamicComponent",[r0]:"resolveDirective",[i0]:"resolveFilter",[s0]:"withDirectives",[a0]:"renderList",[NR]:"renderSlot",[$R]:"createSlots",[Kp]:"toDisplayString",[Nf]:"mergeProps",[o0]:"normalizeClass",[l0]:"normalizeStyle",[Jc]:"normalizeProps",[Vd]:"guardReactiveProps",[u0]:"toHandlers",[Gy]:"camelize",[jL]:"capitalize",[jy]:"toHandlerKey",[$f]:"setBlockTracking",[zL]:"pushScopeId",[UL]:"popScopeId",[c0]:"withCtx",[YL]:"unref",[HL]:"isRef",[d0]:"withMemo",[BR]:"isMemoSame"};function WL(t){Object.getOwnPropertySymbols(t).forEach(e=>{mu[e]=t[e]})}const si={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function qL(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:si}}function Qc(t,e,n,r,i,s,a,o=!1,l=!1,c=!1,u=si){return t&&(o?(t.helper(Ko),t.helper(_u(t.inSSR,c))):t.helper(yu(t.inSSR,c)),a&&t.helper(s0)),{type:13,tag:e,props:n,children:r,patchFlag:i,dynamicProps:s,directives:a,isBlock:o,disableTracking:l,isComponent:c,loc:u}}function $o(t,e=si){return{type:17,loc:e,elements:t}}function fi(t,e=si){return{type:15,loc:e,properties:t}}function wn(t,e){return{type:16,loc:si,key:Qe(t)?st(t,!0):t,value:e}}function st(t,e=!1,n=si,r=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:r}}function Di(t,e=si){return{type:8,loc:e,children:t}}function In(t,e=[],n=si){return{type:14,loc:n,callee:t,arguments:e}}function gu(t,e=void 0,n=!1,r=!1,i=si){return{type:18,params:t,returns:e,newline:n,isSlot:r,loc:i}}function zy(t,e,n,r=!0){return{type:19,test:t,consequent:e,alternate:n,newline:r,loc:si}}function KL(t,e,n=!1){return{type:20,index:t,value:e,needPauseTracking:n,needArraySpread:!1,loc:si}}function XL(t){return{type:21,body:t,loc:si}}function yu(t,e){return t||e?Jv:Qv}function _u(t,e){return t||e?OR:LR}function h0(t,{helper:e,removeHelper:n,inSSR:r}){t.isBlock||(t.isBlock=!0,n(yu(r,t.isComponent)),e(Ko),e(_u(r,t.isComponent)))}const Mw=new Uint8Array([123,123]),Pw=new Uint8Array([125,125]);function Dw(t){return t>=97&&t<=122||t>=65&&t<=90}function Wr(t){return t===32||t===10||t===9||t===12||t===13}function na(t){return t===47||t===62||Wr(t)}function Bf(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const ir={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class ZL{constructor(e,n){this.stack=e,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Mw,this.delimiterClose=Pw,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Mw,this.delimiterClose=Pw}getPos(e){let n=1,r=e+1;for(let i=this.newlines.length-1;i>=0;i--){const s=this.newlines[i];if(e>s){n=i+2,r=e-s;break}}return{column:r,line:n,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?na(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Wr(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.sectionStart=n+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ir.TitleEnd||this.currentSequence===ir.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===ir.Cdata[this.sequenceIndex]?++this.sequenceIndex===ir.Cdata.length&&(this.state=28,this.currentSequence=ir.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ir.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,n){this.enterRCDATA(e,n),this.state=31}enterRCDATA(e,n){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=n}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):Dw(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){na(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(na(e)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(Bf("</"+n),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Wr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Dw(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Wr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Wr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Wr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||na(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||na(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||na(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||na(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||na(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Wr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Wr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,n){(e===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Wr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=ir.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===ir.ScriptEnd[3]?this.startSpecial(ir.ScriptEnd,4):e===ir.StyleEnd[3]?this.startSpecial(ir.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===ir.TitleEnd[3]?this.startSpecial(ir.TitleEnd,4):e===ir.TextareaEnd[3]?this.startSpecial(ir.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===ir.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){}}function Ow(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function Bo(t,e){const n=Ow("MODE",e),r=Ow(t,e);return n===3?r===!0:r!==!1}function ed(t,e,n,...r){return Bo(t,e)}function f0(t){throw t}function VR(t){}function Xt(t,e,n,r){const i=`https://vuejs.org/error-reference/#compiler-${t}`,s=new SyntaxError(String(i));return s.code=t,s.loc=e,s}const $r=t=>t.type===4&&t.isStatic;function GR(t){switch(t){case"Teleport":case"teleport":return Pc;case"Suspense":case"suspense":return Zv;case"KeepAlive":case"keep-alive":return Ff;case"BaseTransition":case"base-transition":return DR}}const JL=/^\d|[^\$\w\xA0-\uFFFF]/,p0=t=>!JL.test(t),QL=/[A-Za-z_$\xA0-\uFFFF]/,eF=/[\.\?\w$\xA0-\uFFFF]/,tF=/\s+[.[]\s*|\s*[.[]\s+/g,jR=t=>t.type===4?t.content:t.loc.source,nF=t=>{const e=jR(t).trim().replace(tF,o=>o.trim());let n=0,r=[],i=0,s=0,a=null;for(let o=0;o<e.length;o++){const l=e.charAt(o);switch(n){case 0:if(l==="[")r.push(n),n=1,i++;else if(l==="(")r.push(n),n=2,s++;else if(!(o===0?QL:eF).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(n),n=3,a=l):l==="["?i++:l==="]"&&(--i||(n=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(n),n=3,a=l;else if(l==="(")s++;else if(l===")"){if(o===e.length-1)return!1;--s||(n=r.pop())}break;case 3:l===a&&(n=r.pop(),a=null);break}}return!i&&!s},zR=nF,rF=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,iF=t=>rF.test(jR(t)),sF=iF;function ci(t,e,n=!1){for(let r=0;r<t.props.length;r++){const i=t.props[r];if(i.type===7&&(n||i.exp)&&(Qe(e)?i.name===e:e.test(i.name)))return i}}function Xp(t,e,n=!1,r=!1){for(let i=0;i<t.props.length;i++){const s=t.props[i];if(s.type===6){if(n)continue;if(s.name===e&&(s.value||r))return s}else if(s.name==="bind"&&(s.exp||r)&&So(s.arg,e))return s}}function So(t,e){return!!(t&&$r(t)&&t.content===e)}function aF(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function vg(t){return t.type===5||t.type===2}function oF(t){return t.type===7&&t.name==="slot"}function Vf(t){return t.type===1&&t.tagType===3}function Gf(t){return t.type===1&&t.tagType===2}const lF=new Set([Jc,Vd]);function UR(t,e=[]){if(t&&!Qe(t)&&t.type===14){const n=t.callee;if(!Qe(n)&&lF.has(n))return UR(t.arguments[0],e.concat(t))}return[t,e]}function jf(t,e,n){let r,i=t.type===13?t.props:t.arguments[2],s=[],a;if(i&&!Qe(i)&&i.type===14){const o=UR(i);i=o[0],s=o[1],a=s[s.length-1]}if(i==null||Qe(i))r=fi([e]);else if(i.type===14){const o=i.arguments[0];!Qe(o)&&o.type===15?Lw(e,o)||o.properties.unshift(e):i.callee===u0?r=In(n.helper(Nf),[fi([e]),i]):i.arguments.unshift(fi([e])),!r&&(r=i)}else i.type===15?(Lw(e,i)||i.properties.unshift(e),r=i):(r=In(n.helper(Nf),[fi([e]),i]),a&&a.callee===Vd&&(a=s[s.length-2]));t.type===13?a?a.arguments[0]=r:t.props=r:a?a.arguments[0]=r:t.arguments[2]=r}function Lw(t,e){let n=!1;if(t.key.type===4){const r=t.key.content;n=e.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function td(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,r)=>n==="-"?"_":t.charCodeAt(r).toString())}`}function uF(t){return t.type===14&&t.callee===d0?t.arguments[1].returns:t}const cF=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,YR={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:wc,isPreTag:wc,isIgnoreNewlineTag:wc,isCustomElement:wc,onError:f0,onWarn:VR,comments:!1,prefixIdentifiers:!1};let Et=YR,nd=null,Os="",ur=null,gt=null,Mr="",bs=-1,wo=-1,m0=0,ya=!1,Uy=null;const Kt=[],dn=new ZL(Kt,{onerr:ps,ontext(t,e){kh(Xn(t,e),t,e)},ontextentity(t,e,n){kh(t,e,n)},oninterpolation(t,e){if(ya)return kh(Xn(t,e),t,e);let n=t+dn.delimiterOpen.length,r=e-dn.delimiterClose.length;for(;Wr(Os.charCodeAt(n));)n++;for(;Wr(Os.charCodeAt(r-1));)r--;let i=Xn(n,r);i.includes("&")&&(i=Et.decodeEntities(i,!1)),Yy({type:5,content:lf(i,!1,Sn(n,r)),loc:Sn(t,e)})},onopentagname(t,e){const n=Xn(t,e);ur={type:1,tag:n,ns:Et.getNamespace(n,Kt[0],Et.ns),tagType:0,props:[],children:[],loc:Sn(t-1,e),codegenNode:void 0}},onopentagend(t){Nw(t)},onclosetag(t,e){const n=Xn(t,e);if(!Et.isVoidTag(n)){let r=!1;for(let i=0;i<Kt.length;i++)if(Kt[i].tag.toLowerCase()===n.toLowerCase()){r=!0,i>0&&ps(24,Kt[0].loc.start.offset);for(let a=0;a<=i;a++){const o=Kt.shift();of(o,e,a<i)}break}r||ps(23,HR(t,60))}},onselfclosingtag(t){const e=ur.tag;ur.isSelfClosing=!0,Nw(t),Kt[0]&&Kt[0].tag===e&&of(Kt.shift(),t)},onattribname(t,e){gt={type:6,name:Xn(t,e),nameLoc:Sn(t,e),value:void 0,loc:Sn(t)}},ondirname(t,e){const n=Xn(t,e),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!ya&&r===""&&ps(26,t),ya||r==="")gt={type:6,name:n,nameLoc:Sn(t,e),value:void 0,loc:Sn(t)};else if(gt={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[st("prop")]:[],loc:Sn(t)},r==="pre"){ya=dn.inVPre=!0,Uy=ur;const i=ur.props;for(let s=0;s<i.length;s++)i[s].type===7&&(i[s]=bF(i[s]))}},ondirarg(t,e){if(t===e)return;const n=Xn(t,e);if(ya)gt.name+=n,Ro(gt.nameLoc,e);else{const r=n[0]!=="[";gt.arg=lf(r?n:n.slice(1,-1),r,Sn(t,e),r?3:0)}},ondirmodifier(t,e){const n=Xn(t,e);if(ya)gt.name+="."+n,Ro(gt.nameLoc,e);else if(gt.name==="slot"){const r=gt.arg;r&&(r.content+="."+n,Ro(r.loc,e))}else{const r=st(n,!0,Sn(t,e));gt.modifiers.push(r)}},onattribdata(t,e){Mr+=Xn(t,e),bs<0&&(bs=t),wo=e},onattribentity(t,e,n){Mr+=t,bs<0&&(bs=e),wo=n},onattribnameend(t){const e=gt.loc.start.offset,n=Xn(e,t);gt.type===7&&(gt.rawName=n),ur.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&ps(2,e)},onattribend(t,e){if(ur&&gt){if(Ro(gt.loc,e),t!==0)if(Mr.includes("&")&&(Mr=Et.decodeEntities(Mr,!0)),gt.type===6)gt.name==="class"&&(Mr=qR(Mr).trim()),t===1&&!Mr&&ps(13,e),gt.value={type:2,content:Mr,loc:t===1?Sn(bs,wo):Sn(bs-1,wo+1)},dn.inSFCRoot&&ur.tag==="template"&&gt.name==="lang"&&Mr&&Mr!=="html"&&dn.enterRCDATA(Bf("</template"),0);else{let n=0;gt.exp=lf(Mr,!1,Sn(bs,wo),0,n),gt.name==="for"&&(gt.forParseResult=hF(gt.exp));let r=-1;gt.name==="bind"&&(r=gt.modifiers.findIndex(i=>i.content==="sync"))>-1&&ed("COMPILER_V_BIND_SYNC",Et,gt.loc,gt.rawName)&&(gt.name="model",gt.modifiers.splice(r,1))}(gt.type!==7||gt.name!=="pre")&&ur.props.push(gt)}Mr="",bs=wo=-1},oncomment(t,e){Et.comments&&Yy({type:3,content:Xn(t,e),loc:Sn(t-4,e+3)})},onend(){const t=Os.length;for(let e=0;e<Kt.length;e++)of(Kt[e],t-1),ps(24,Kt[e].loc.start.offset)},oncdata(t,e){Kt[0].ns!==0?kh(Xn(t,e),t,e):ps(1,t-9)},onprocessinginstruction(t){(Kt[0]?Kt[0].ns:Et.ns)===0&&ps(21,t-1)}}),Fw=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,dF=/^\(|\)$/g;function hF(t){const e=t.loc,n=t.content,r=n.match(cF);if(!r)return;const[,i,s]=r,a=(d,h,f=!1)=>{const p=e.start.offset+h,m=p+d.length;return lf(d,!1,Sn(p,m),0,f?1:0)},o={source:a(s.trim(),n.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(dF,"").trim();const c=i.indexOf(l),u=l.match(Fw);if(u){l=l.replace(Fw,"").trim();const d=u[1].trim();let h;if(d&&(h=n.indexOf(d,c+l.length),o.key=a(d,h,!0)),u[2]){const f=u[2].trim();f&&(o.index=a(f,n.indexOf(f,o.key?h+d.length:c+l.length),!0))}}return l&&(o.value=a(l,c,!0)),o}function Xn(t,e){return Os.slice(t,e)}function Nw(t){dn.inSFCRoot&&(ur.innerLoc=Sn(t+1,t+1)),Yy(ur);const{tag:e,ns:n}=ur;n===0&&Et.isPreTag(e)&&m0++,Et.isVoidTag(e)?of(ur,t):(Kt.unshift(ur),(n===1||n===2)&&(dn.inXML=!0)),ur=null}function kh(t,e,n){{const s=Kt[0]&&Kt[0].tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=Et.decodeEntities(t,!1))}const r=Kt[0]||nd,i=r.children[r.children.length-1];i&&i.type===2?(i.content+=t,Ro(i.loc,n)):r.children.push({type:2,content:t,loc:Sn(e,n)})}function of(t,e,n=!1){n?Ro(t.loc,HR(e,60)):Ro(t.loc,fF(e,62)+1),dn.inSFCRoot&&(t.children.length?t.innerLoc.end=ft({},t.children[t.children.length-1].loc.end):t.innerLoc.end=ft({},t.innerLoc.start),t.innerLoc.source=Xn(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:r,ns:i,children:s}=t;if(ya||(r==="slot"?t.tagType=2:$w(t)?t.tagType=3:mF(t)&&(t.tagType=1)),dn.inRCDATA||(t.children=WR(s)),i===0&&Et.isIgnoreNewlineTag(r)){const a=s[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}i===0&&Et.isPreTag(r)&&m0--,Uy===t&&(ya=dn.inVPre=!1,Uy=null),dn.inXML&&(Kt[0]?Kt[0].ns:Et.ns)===0&&(dn.inXML=!1);{const a=t.props;if(!dn.inSFCRoot&&Bo("COMPILER_NATIVE_TEMPLATE",Et)&&t.tag==="template"&&!$w(t)){const l=Kt[0]||nd,c=l.children.indexOf(t);l.children.splice(c,1,...t.children)}const o=a.find(l=>l.type===6&&l.name==="inline-template");o&&ed("COMPILER_INLINE_TEMPLATE",Et,o.loc)&&t.children.length&&(o.value={type:2,content:Xn(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:o.loc})}}function fF(t,e){let n=t;for(;Os.charCodeAt(n)!==e&&n<Os.length-1;)n++;return n}function HR(t,e){let n=t;for(;Os.charCodeAt(n)!==e&&n>=0;)n--;return n}const pF=new Set(["if","else","else-if","for","slot"]);function $w({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&pF.has(e[n].name))return!0}return!1}function mF({tag:t,props:e}){if(Et.isCustomElement(t))return!1;if(t==="component"||gF(t.charCodeAt(0))||GR(t)||Et.isBuiltInComponent&&Et.isBuiltInComponent(t)||Et.isNativeTag&&!Et.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const r=e[n];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(ed("COMPILER_IS_ON_ELEMENT",Et,r.loc))return!0}}else if(r.name==="bind"&&So(r.arg,"is")&&ed("COMPILER_IS_ON_ELEMENT",Et,r.loc))return!0}return!1}function gF(t){return t>64&&t<91}const yF=/\r\n/g;function WR(t,e){const n=Et.whitespace!=="preserve";let r=!1;for(let i=0;i<t.length;i++){const s=t[i];if(s.type===2)if(m0)s.content=s.content.replace(yF,`
`);else if(_F(s.content)){const a=t[i-1]&&t[i-1].type,o=t[i+1]&&t[i+1].type;!a||!o||n&&(a===3&&(o===3||o===1)||a===1&&(o===3||o===1&&vF(s.content)))?(r=!0,t[i]=null):s.content=" "}else n&&(s.content=qR(s.content))}return r?t.filter(Boolean):t}function _F(t){for(let e=0;e<t.length;e++)if(!Wr(t.charCodeAt(e)))return!1;return!0}function vF(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function qR(t){let e="",n=!1;for(let r=0;r<t.length;r++)Wr(t.charCodeAt(r))?n||(e+=" ",n=!0):(e+=t[r],n=!1);return e}function Yy(t){(Kt[0]||nd).children.push(t)}function Sn(t,e){return{start:dn.getPos(t),end:e==null?e:dn.getPos(e),source:e==null?e:Xn(t,e)}}function Ro(t,e){t.end=dn.getPos(e),t.source=Xn(t.start.offset,e)}function bF(t){const e={type:6,name:t.rawName,nameLoc:Sn(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function lf(t,e=!1,n,r=0,i=0){return st(t,e,n,r)}function ps(t,e,n){Et.onError(Xt(t,Sn(e,e)))}function wF(){dn.reset(),ur=null,gt=null,Mr="",bs=-1,wo=-1,Kt.length=0}function EF(t,e){if(wF(),Os=t,Et=ft({},YR),e){let i;for(i in e)e[i]!=null&&(Et[i]=e[i])}dn.mode=Et.parseMode==="html"?1:Et.parseMode==="sfc"?2:0,dn.inXML=Et.ns===1||Et.ns===2;const n=e&&e.delimiters;n&&(dn.delimiterOpen=Bf(n[0]),dn.delimiterClose=Bf(n[1]));const r=nd=qL([],t);return dn.parse(Os),r.loc=Sn(0,t.length),r.children=WR(r.children),nd=null,r}function TF(t,e){uf(t,void 0,e,KR(t,t.children[0]))}function KR(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!Gf(e)}function uf(t,e,n,r=!1,i=!1){const{children:s}=t,a=[];for(let u=0;u<s.length;u++){const d=s[u];if(d.type===1&&d.tagType===0){const h=r?0:Zr(d,n);if(h>0){if(h>=2){d.codegenNode.patchFlag=-1,a.push(d);continue}}else{const f=d.codegenNode;if(f.type===13){const p=f.patchFlag;if((p===void 0||p===512||p===1)&&ZR(d,n)>=2){const m=JR(d);m&&(f.props=n.hoist(m))}f.dynamicProps&&(f.dynamicProps=n.hoist(f.dynamicProps))}}}else if(d.type===12&&(r?0:Zr(d,n))>=2){a.push(d);continue}if(d.type===1){const h=d.tagType===1;h&&n.scopes.vSlot++,uf(d,t,n,!1,i),h&&n.scopes.vSlot--}else if(d.type===11)uf(d,t,n,d.children.length===1,!0);else if(d.type===9)for(let h=0;h<d.branches.length;h++)uf(d.branches[h],t,n,d.branches[h].children.length===1,i)}let o=!1;if(a.length===s.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&Me(t.codegenNode.children))t.codegenNode.children=l($o(t.codegenNode.children)),o=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Me(t.codegenNode.children)&&t.codegenNode.children.type===15){const u=c(t.codegenNode,"default");u&&(u.returns=l($o(u.returns)),o=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Me(e.codegenNode.children)&&e.codegenNode.children.type===15){const u=ci(t,"slot",!0),d=u&&u.arg&&c(e.codegenNode,u.arg);d&&(d.returns=l($o(d.returns)),o=!0)}}if(!o)for(const u of a)u.codegenNode=n.cache(u.codegenNode);function l(u){const d=n.cache(u);return i&&n.hmr&&(d.needArraySpread=!0),d}function c(u,d){if(u.children&&!Me(u.children)&&u.children.type===15){const h=u.children.properties.find(f=>f.key===d||f.key.content===d);return h&&h.value}}a.length&&n.transformHoist&&n.transformHoist(s,n,t)}function Zr(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const r=n.get(t);if(r!==void 0)return r;const i=t.codegenNode;if(i.type!==13||i.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(i.patchFlag===void 0){let a=3;const o=ZR(t,e);if(o===0)return n.set(t,0),0;o<a&&(a=o);for(let l=0;l<t.children.length;l++){const c=Zr(t.children[l],e);if(c===0)return n.set(t,0),0;c<a&&(a=c)}if(a>1)for(let l=0;l<t.props.length;l++){const c=t.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const u=Zr(c.exp,e);if(u===0)return n.set(t,0),0;u<a&&(a=u)}}if(i.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return n.set(t,0),0;e.removeHelper(Ko),e.removeHelper(_u(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(yu(e.inSSR,i.isComponent))}return n.set(t,a),a}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Zr(t.content,e);case 4:return t.constType;case 8:let s=3;for(let a=0;a<t.children.length;a++){const o=t.children[a];if(Qe(o)||ni(o))continue;const l=Zr(o,e);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const xF=new Set([o0,l0,Jc,Vd]);function XR(t,e){if(t.type===14&&!Qe(t.callee)&&xF.has(t.callee)){const n=t.arguments[0];if(n.type===4)return Zr(n,e);if(n.type===14)return XR(n,e)}return 0}function ZR(t,e){let n=3;const r=JR(t);if(r&&r.type===15){const{properties:i}=r;for(let s=0;s<i.length;s++){const{key:a,value:o}=i[s],l=Zr(a,e);if(l===0)return l;l<n&&(n=l);let c;if(o.type===4?c=Zr(o,e):o.type===14?c=XR(o,e):c=0,c===0)return c;c<n&&(n=c)}}return n}function JR(t){const e=t.codegenNode;if(e.type===13)return e.props}function CF(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:i=!1,cacheHandlers:s=!1,nodeTransforms:a=[],directiveTransforms:o={},transformHoist:l=null,isBuiltInComponent:c=fr,isCustomElement:u=fr,expressionPlugins:d=[],scopeId:h=null,slotted:f=!0,ssr:p=!1,inSSR:m=!1,ssrCssVars:y="",bindingMetadata:v=lt,inline:b=!1,isTS:g=!1,onError:_=f0,onWarn:w=VR,compatConfig:E}){const x=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),S={filename:e,selfName:x&&to(qt(x[1])),prefixIdentifiers:n,hoistStatic:r,hmr:i,cacheHandlers:s,nodeTransforms:a,directiveTransforms:o,transformHoist:l,isBuiltInComponent:c,isCustomElement:u,expressionPlugins:d,scopeId:h,slotted:f,ssr:p,inSSR:m,ssrCssVars:y,bindingMetadata:v,inline:b,isTS:g,onError:_,onWarn:w,compatConfig:E,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(T){const P=S.helpers.get(T)||0;return S.helpers.set(T,P+1),T},removeHelper(T){const P=S.helpers.get(T);if(P){const B=P-1;B?S.helpers.set(T,B):S.helpers.delete(T)}},helperString(T){return`_${mu[S.helper(T)]}`},replaceNode(T){S.parent.children[S.childIndex]=S.currentNode=T},removeNode(T){const P=S.parent.children,B=T?P.indexOf(T):S.currentNode?S.childIndex:-1;!T||T===S.currentNode?(S.currentNode=null,S.onNodeRemoved()):S.childIndex>B&&(S.childIndex--,S.onNodeRemoved()),S.parent.children.splice(B,1)},onNodeRemoved:fr,addIdentifiers(T){},removeIdentifiers(T){},hoist(T){Qe(T)&&(T=st(T)),S.hoists.push(T);const P=st(`_hoisted_${S.hoists.length}`,!1,T.loc,2);return P.hoisted=T,P},cache(T,P=!1){const B=KL(S.cached.length,T,P);return S.cached.push(B),B}};return S.filters=new Set,S}function SF(t,e){const n=CF(t,e);Zp(t,n),e.hoistStatic&&TF(t,n),e.ssr||RF(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function RF(t,e){const{helper:n}=e,{children:r}=t;if(r.length===1){const i=r[0];if(KR(t,i)&&i.codegenNode){const s=i.codegenNode;s.type===13&&h0(s,e),t.codegenNode=s}else t.codegenNode=i}else if(r.length>1){let i=64;t.codegenNode=Qc(e,n(Zc),void 0,t.children,i,void 0,void 0,!0,void 0,!1)}}function kF(t,e){let n=0;const r=()=>{n--};for(;n<t.children.length;n++){const i=t.children[n];Qe(i)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=r,Zp(i,e))}}function Zp(t,e){e.currentNode=t;const{nodeTransforms:n}=e,r=[];for(let s=0;s<n.length;s++){const a=n[s](t,e);if(a&&(Me(a)?r.push(...a):r.push(a)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Bd);break;case 5:e.ssr||e.helper(Kp);break;case 9:for(let s=0;s<t.branches.length;s++)Zp(t.branches[s],e);break;case 10:case 11:case 1:case 0:kF(t,e);break}e.currentNode=t;let i=r.length;for(;i--;)r[i]()}function QR(t,e){const n=Qe(t)?r=>r===t:r=>t.test(r);return(r,i)=>{if(r.type===1){const{props:s}=r;if(r.tagType===3&&s.some(oF))return;const a=[];for(let o=0;o<s.length;o++){const l=s[o];if(l.type===7&&n(l.name)){s.splice(o,1),o--;const c=e(r,l,i);c&&a.push(c)}}return a}}}const Jp="/*@__PURE__*/",ek=t=>`${mu[t]}: _${mu[t]}`;function IF(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:s=null,optimizeImports:a=!1,runtimeGlobalName:o="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:d=!1,inSSR:h=!1}){const f={mode:e,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:s,optimizeImports:a,runtimeGlobalName:o,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:d,inSSR:h,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(m){return`_${mu[m]}`},push(m,y=-2,v){f.code+=m},indent(){p(++f.indentLevel)},deindent(m=!1){m?--f.indentLevel:p(--f.indentLevel)},newline(){p(f.indentLevel)}};function p(m){f.push(`
`+"  ".repeat(m),0)}return f}function AF(t,e={}){const n=IF(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:s,indent:a,deindent:o,newline:l,scopeId:c,ssr:u}=n,d=Array.from(t.helpers),h=d.length>0,f=!s&&r!=="module";MF(t,n);const m=u?"ssrRender":"render",v=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${m}(${v}) {`),a(),f&&(i("with (_ctx) {"),a(),h&&(i(`const { ${d.map(ek).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(bg(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(bg(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),bg(t.filters,"filter",n),l()),t.temps>0){i("let ");for(let b=0;b<t.temps;b++)i(`${b>0?", ":""}_temp${b}`)}return(t.components.length||t.directives.length||t.temps)&&(i(`
`,0),l()),u||i("return "),t.codegenNode?pr(t.codegenNode,n):i("null"),f&&(o(),i("}")),o(),i("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function MF(t,e){const{ssr:n,prefixIdentifiers:r,push:i,newline:s,runtimeModuleName:a,runtimeGlobalName:o,ssrRuntimeModuleName:l}=e,c=o,u=Array.from(t.helpers);if(u.length>0&&(i(`const _Vue = ${c}
`,-1),t.hoists.length)){const d=[Jv,Qv,Bd,e0,FR].filter(h=>u.includes(h)).map(ek).join(", ");i(`const { ${d} } = _Vue
`,-1)}PF(t.hoists,e),s(),i("return ")}function bg(t,e,{helper:n,push:r,newline:i,isTS:s}){const a=n(e==="filter"?i0:e==="component"?t0:r0);for(let o=0;o<t.length;o++){let l=t[o];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${td(l,e)} = ${a}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),o<t.length-1&&i()}}function PF(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:r}=e;r();for(let i=0;i<t.length;i++){const s=t[i];s&&(n(`const _hoisted_${i+1} = `),pr(s,e),r())}e.pure=!1}function g0(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),Gd(t,e,n),n&&e.deindent(),e.push("]")}function Gd(t,e,n=!1,r=!0){const{push:i,newline:s}=e;for(let a=0;a<t.length;a++){const o=t[a];Qe(o)?i(o,-3):Me(o)?g0(o,e):pr(o,e),a<t.length-1&&(n?(r&&i(","),s()):r&&i(", "))}}function pr(t,e){if(Qe(t)){e.push(t,-3);return}if(ni(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:pr(t.codegenNode,e);break;case 2:DF(t,e);break;case 4:tk(t,e);break;case 5:OF(t,e);break;case 12:pr(t.codegenNode,e);break;case 8:nk(t,e);break;case 3:FF(t,e);break;case 13:NF(t,e);break;case 14:BF(t,e);break;case 15:VF(t,e);break;case 17:GF(t,e);break;case 18:jF(t,e);break;case 19:zF(t,e);break;case 20:UF(t,e);break;case 21:Gd(t.body,e,!0,!1);break}}function DF(t,e){e.push(JSON.stringify(t.content),-3,t)}function tk(t,e){const{content:n,isStatic:r}=t;e.push(r?JSON.stringify(n):n,-3,t)}function OF(t,e){const{push:n,helper:r,pure:i}=e;i&&n(Jp),n(`${r(Kp)}(`),pr(t.content,e),n(")")}function nk(t,e){for(let n=0;n<t.children.length;n++){const r=t.children[n];Qe(r)?e.push(r,-3):pr(r,e)}}function LF(t,e){const{push:n}=e;if(t.type===8)n("["),nk(t,e),n("]");else if(t.isStatic){const r=p0(t.content)?t.content:JSON.stringify(t.content);n(r,-2,t)}else n(`[${t.content}]`,-3,t)}function FF(t,e){const{push:n,helper:r,pure:i}=e;i&&n(Jp),n(`${r(Bd)}(${JSON.stringify(t.content)})`,-3,t)}function NF(t,e){const{push:n,helper:r,pure:i}=e,{tag:s,props:a,children:o,patchFlag:l,dynamicProps:c,directives:u,isBlock:d,disableTracking:h,isComponent:f}=t;let p;l&&(p=String(l)),u&&n(r(s0)+"("),d&&n(`(${r(Ko)}(${h?"true":""}), `),i&&n(Jp);const m=d?_u(e.inSSR,f):yu(e.inSSR,f);n(r(m)+"(",-2,t),Gd($F([s,a,o,p,c]),e),n(")"),d&&n(")"),u&&(n(", "),pr(u,e),n(")"))}function $F(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function BF(t,e){const{push:n,helper:r,pure:i}=e,s=Qe(t.callee)?t.callee:r(t.callee);i&&n(Jp),n(s+"(",-2,t),Gd(t.arguments,e),n(")")}function VF(t,e){const{push:n,indent:r,deindent:i,newline:s}=e,{properties:a}=t;if(!a.length){n("{}",-2,t);return}const o=a.length>1||!1;n(o?"{":"{ "),o&&r();for(let l=0;l<a.length;l++){const{key:c,value:u}=a[l];LF(c,e),n(": "),pr(u,e),l<a.length-1&&(n(","),s())}o&&i(),n(o?"}":" }")}function GF(t,e){g0(t.elements,e)}function jF(t,e){const{push:n,indent:r,deindent:i}=e,{params:s,returns:a,body:o,newline:l,isSlot:c}=t;c&&n(`_${mu[c0]}(`),n("(",-2,t),Me(s)?Gd(s,e):s&&pr(s,e),n(") => "),(l||o)&&(n("{"),r()),a?(l&&n("return "),Me(a)?g0(a,e):pr(a,e)):o&&pr(o,e),(l||o)&&(i(),n("}")),c&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function zF(t,e){const{test:n,consequent:r,alternate:i,newline:s}=t,{push:a,indent:o,deindent:l,newline:c}=e;if(n.type===4){const d=!p0(n.content);d&&a("("),tk(n,e),d&&a(")")}else a("("),pr(n,e),a(")");s&&o(),e.indentLevel++,s||a(" "),a("? "),pr(r,e),e.indentLevel--,s&&c(),s||a(" "),a(": ");const u=i.type===19;u||e.indentLevel++,pr(i,e),u||e.indentLevel--,s&&l(!0)}function UF(t,e){const{push:n,helper:r,indent:i,deindent:s,newline:a}=e,{needPauseTracking:o,needArraySpread:l}=t;l&&n("[...("),n(`_cache[${t.index}] || (`),o&&(i(),n(`${r($f)}(-1),`),a(),n("(")),n(`_cache[${t.index}] = `),pr(t.value,e),o&&(n(`).cacheIndex = ${t.index},`),a(),n(`${r($f)}(1),`),a(),n(`_cache[${t.index}]`),s()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const YF=QR(/^(if|else|else-if)$/,(t,e,n)=>HF(t,e,n,(r,i,s)=>{const a=n.parent.children;let o=a.indexOf(r),l=0;for(;o-->=0;){const c=a[o];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)r.codegenNode=Vw(i,l,n);else{const c=WF(r.codegenNode);c.alternate=Vw(i,l+r.branches.length-1,n)}}}));function HF(t,e,n,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:t.loc;n.onError(Xt(28,e.loc)),e.exp=st("true",!1,i)}if(e.name==="if"){const i=Bw(t,e),s={type:9,loc:t.loc,branches:[i]};if(n.replaceNode(s),r)return r(s,i,!0)}else{const i=n.parent.children;let s=i.indexOf(t);for(;s-->=-1;){const a=i[s];if(a&&a.type===3){n.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){n.removeNode(a);continue}if(a&&a.type===9){e.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&n.onError(Xt(30,t.loc)),n.removeNode();const o=Bw(t,e);a.branches.push(o);const l=r&&r(a,o,!1);Zp(o,n),l&&l(),n.currentNode=null}else n.onError(Xt(30,t.loc));break}}}function Bw(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!ci(t,"for")?t.children:[t],userKey:Xp(t,"key"),isTemplateIf:n}}function Vw(t,e,n){return t.condition?zy(t.condition,Gw(t,e,n),In(n.helper(Bd),['""',"true"])):Gw(t,e,n)}function Gw(t,e,n){const{helper:r}=n,i=wn("key",st(`${e}`,!1,si,2)),{children:s}=t,a=s[0];if(s.length!==1||a.type!==1)if(s.length===1&&a.type===11){const l=a.codegenNode;return jf(l,i,n),l}else return Qc(n,r(Zc),fi([i]),s,64,void 0,void 0,!0,!1,!1,t.loc);else{const l=a.codegenNode,c=uF(l);return c.type===13&&h0(c,n),jf(c,i,n),l}}function WF(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const qF=(t,e,n)=>{const{modifiers:r,loc:i}=t,s=t.arg;let{exp:a}=t;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(s.type!==4||!s.isStatic)return n.onError(Xt(52,s.loc)),{props:[wn(s,st("",!0,i))]};rk(t),a=t.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),r.some(o=>o.content==="camel")&&(s.type===4?s.isStatic?s.content=qt(s.content):s.content=`${n.helperString(Gy)}(${s.content})`:(s.children.unshift(`${n.helperString(Gy)}(`),s.children.push(")"))),n.inSSR||(r.some(o=>o.content==="prop")&&jw(s,"."),r.some(o=>o.content==="attr")&&jw(s,"^")),{props:[wn(s,a)]}},rk=(t,e)=>{const n=t.arg,r=qt(n.content);t.exp=st(r,!1,n.loc)},jw=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},KF=QR("for",(t,e,n)=>{const{helper:r,removeHelper:i}=n;return XF(t,e,n,s=>{const a=In(r(a0),[s.source]),o=Vf(t),l=ci(t,"memo"),c=Xp(t,"key",!1,!0);c&&c.type===7&&!c.exp&&rk(c);const u=c&&(c.type===6?c.value?st(c.value.content,!0):void 0:c.exp),d=c&&u?wn("key",u):null,h=s.source.type===4&&s.source.constType>0,f=h?64:c?128:256;return s.codegenNode=Qc(n,r(Zc),void 0,a,f,void 0,void 0,!0,!h,!1,t.loc),()=>{let p;const{children:m}=s,y=m.length!==1||m[0].type!==1,v=Gf(t)?t:o&&t.children.length===1&&Gf(t.children[0])?t.children[0]:null;if(v?(p=v.codegenNode,o&&d&&jf(p,d,n)):y?p=Qc(n,r(Zc),d?fi([d]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(p=m[0].codegenNode,o&&d&&jf(p,d,n),p.isBlock!==!h&&(p.isBlock?(i(Ko),i(_u(n.inSSR,p.isComponent))):i(yu(n.inSSR,p.isComponent))),p.isBlock=!h,p.isBlock?(r(Ko),r(_u(n.inSSR,p.isComponent))):r(yu(n.inSSR,p.isComponent))),l){const b=gu(Hy(s.parseResult,[st("_cached")]));b.body=XL([Di(["const _memo = (",l.exp,")"]),Di(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${n.helperString(BR)}(_cached, _memo)) return _cached`]),Di(["const _item = ",p]),st("_item.memo = _memo"),st("return _item")]),a.arguments.push(b,st("_cache"),st(String(n.cached.length))),n.cached.push(null)}else a.arguments.push(gu(Hy(s.parseResult),p,!0))}})});function XF(t,e,n,r){if(!e.exp){n.onError(Xt(31,e.loc));return}const i=e.forParseResult;if(!i){n.onError(Xt(32,e.loc));return}ik(i);const{addIdentifiers:s,removeIdentifiers:a,scopes:o}=n,{source:l,value:c,key:u,index:d}=i,h={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:d,parseResult:i,children:Vf(t)?t.children:[t]};n.replaceNode(h),o.vFor++;const f=r&&r(h);return()=>{o.vFor--,f&&f()}}function ik(t,e){t.finalized||(t.finalized=!0)}function Hy({value:t,key:e,index:n},r=[]){return ZF([t,e,n,...r])}function ZF(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,r)=>n||st("_".repeat(r+1),!1))}const zw=st("undefined",!1),JF=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=ci(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},QF=(t,e,n,r)=>gu(t,n,!1,!0,n.length?n[0].loc:r);function eN(t,e,n=QF){e.helper(c0);const{children:r,loc:i}=t,s=[],a=[];let o=e.scopes.vSlot>0||e.scopes.vFor>0;const l=ci(t,"slot",!0);if(l){const{arg:y,exp:v}=l;y&&!$r(y)&&(o=!0),s.push(wn(y||st("default",!0),n(v,void 0,r,i)))}let c=!1,u=!1;const d=[],h=new Set;let f=0;for(let y=0;y<r.length;y++){const v=r[y];let b;if(!Vf(v)||!(b=ci(v,"slot",!0))){v.type!==3&&d.push(v);continue}if(l){e.onError(Xt(37,b.loc));break}c=!0;const{children:g,loc:_}=v,{arg:w=st("default",!0),exp:E,loc:x}=b;let S;$r(w)?S=w?w.content:"default":o=!0;const T=ci(v,"for"),P=n(E,T,g,_);let B,F;if(B=ci(v,"if"))o=!0,a.push(zy(B.exp,Ih(w,P,f++),zw));else if(F=ci(v,/^else(-if)?$/,!0)){let z=y,j;for(;z--&&(j=r[z],j.type===3););if(j&&Vf(j)&&ci(j,/^(else-)?if$/)){let I=a[a.length-1];for(;I.alternate.type===19;)I=I.alternate;I.alternate=F.exp?zy(F.exp,Ih(w,P,f++),zw):Ih(w,P,f++)}else e.onError(Xt(30,F.loc))}else if(T){o=!0;const z=T.forParseResult;z?(ik(z),a.push(In(e.helper(a0),[z.source,gu(Hy(z),Ih(w,P),!0)]))):e.onError(Xt(32,T.loc))}else{if(S){if(h.has(S)){e.onError(Xt(38,x));continue}h.add(S),S==="default"&&(u=!0)}s.push(wn(w,P))}}if(!l){const y=(v,b)=>{const g=n(v,void 0,b,i);return e.compatConfig&&(g.isNonScopedSlot=!0),wn("default",g)};c?d.length&&d.some(v=>sk(v))&&(u?e.onError(Xt(39,d[0].loc)):s.push(y(void 0,d))):s.push(y(void 0,r))}const p=o?2:cf(t.children)?3:1;let m=fi(s.concat(wn("_",st(p+"",!1))),i);return a.length&&(m=In(e.helper($R),[m,$o(a)])),{slots:m,hasDynamicSlots:o}}function Ih(t,e,n){const r=[wn("name",t),wn("fn",e)];return n!=null&&r.push(wn("key",st(String(n),!0))),fi(r)}function cf(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||cf(n.children))return!0;break;case 9:if(cf(n.branches))return!0;break;case 10:case 11:if(cf(n.children))return!0;break}}return!1}function sk(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():sk(t.content)}const ak=new WeakMap,tN=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:r,props:i}=t,s=t.tagType===1;let a=s?nN(t,e):`"${r}"`;const o=Dt(a)&&a.callee===n0;let l,c,u=0,d,h,f,p=o||a===Pc||a===Zv||!s&&(r==="svg"||r==="foreignObject"||r==="math");if(i.length>0){const m=ok(t,e,void 0,s,o);l=m.props,u=m.patchFlag,h=m.dynamicPropNames;const y=m.directives;f=y&&y.length?$o(y.map(v=>iN(v,e))):void 0,m.shouldUseBlock&&(p=!0)}if(t.children.length>0)if(a===Ff&&(p=!0,u|=1024),s&&a!==Pc&&a!==Ff){const{slots:y,hasDynamicSlots:v}=eN(t,e);c=y,v&&(u|=1024)}else if(t.children.length===1&&a!==Pc){const y=t.children[0],v=y.type,b=v===5||v===8;b&&Zr(y,e)===0&&(u|=1),b||v===2?c=y:c=t.children}else c=t.children;h&&h.length&&(d=sN(h)),t.codegenNode=Qc(e,a,l,c,u===0?void 0:u,d,f,!!p,!1,s,t.loc)};function nN(t,e,n=!1){let{tag:r}=t;const i=Wy(r),s=Xp(t,"is",!1,!0);if(s)if(i||Bo("COMPILER_IS_ON_ELEMENT",e)){let o;if(s.type===6?o=s.value&&st(s.value.content,!0):(o=s.exp,o||(o=st("is",!1,s.arg.loc))),o)return In(e.helper(n0),[o])}else s.type===6&&s.value.content.startsWith("vue:")&&(r=s.value.content.slice(4));const a=GR(r)||e.isBuiltInComponent(r);return a?(n||e.helper(a),a):(e.helper(t0),e.components.add(r),td(r,"component"))}function ok(t,e,n=t.props,r,i,s=!1){const{tag:a,loc:o,children:l}=t;let c=[];const u=[],d=[],h=l.length>0;let f=!1,p=0,m=!1,y=!1,v=!1,b=!1,g=!1,_=!1;const w=[],E=P=>{c.length&&(u.push(fi(Uw(c),o)),c=[]),P&&u.push(P)},x=()=>{e.scopes.vFor>0&&c.push(wn(st("ref_for",!0),st("true")))},S=({key:P,value:B})=>{if($r(P)){const F=P.content,z=al(F);if(z&&(!r||i)&&F.toLowerCase()!=="onclick"&&F!=="onUpdate:modelValue"&&!Ra(F)&&(b=!0),z&&Ra(F)&&(_=!0),z&&B.type===14&&(B=B.arguments[0]),B.type===20||(B.type===4||B.type===8)&&Zr(B,e)>0)return;F==="ref"?m=!0:F==="class"?y=!0:F==="style"?v=!0:F!=="key"&&!w.includes(F)&&w.push(F),r&&(F==="class"||F==="style")&&!w.includes(F)&&w.push(F)}else g=!0};for(let P=0;P<n.length;P++){const B=n[P];if(B.type===6){const{loc:F,name:z,nameLoc:j,value:I}=B;let O=!0;if(z==="ref"&&(m=!0,x()),z==="is"&&(Wy(a)||I&&I.content.startsWith("vue:")||Bo("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(wn(st(z,!0,j),st(I?I.content:"",O,I?I.loc:F)))}else{const{name:F,arg:z,exp:j,loc:I,modifiers:O}=B,M=F==="bind",H=F==="on";if(F==="slot"){r||e.onError(Xt(40,I));continue}if(F==="once"||F==="memo"||F==="is"||M&&So(z,"is")&&(Wy(a)||Bo("COMPILER_IS_ON_ELEMENT",e))||H&&s)continue;if((M&&So(z,"key")||H&&h&&So(z,"vue:before-update"))&&(f=!0),M&&So(z,"ref")&&x(),!z&&(M||H)){if(g=!0,j)if(M){if(x(),E(),Bo("COMPILER_V_BIND_OBJECT_ORDER",e)){u.unshift(j);continue}u.push(j)}else E({type:14,loc:I,callee:e.helper(u0),arguments:r?[j]:[j,"true"]});else e.onError(Xt(M?34:35,I));continue}M&&O.some(le=>le.content==="prop")&&(p|=32);const Z=e.directiveTransforms[F];if(Z){const{props:le,needRuntime:ie}=Z(B,t,e);!s&&le.forEach(S),H&&z&&!$r(z)?E(fi(le,o)):c.push(...le),ie&&(d.push(B),ni(ie)&&ak.set(B,ie))}else gO(F)||(d.push(B),h&&(f=!0))}}let T;if(u.length?(E(),u.length>1?T=In(e.helper(Nf),u,o):T=u[0]):c.length&&(T=fi(Uw(c),o)),g?p|=16:(y&&!r&&(p|=2),v&&!r&&(p|=4),w.length&&(p|=8),b&&(p|=32)),!f&&(p===0||p===32)&&(m||_||d.length>0)&&(p|=512),!e.inSSR&&T)switch(T.type){case 15:let P=-1,B=-1,F=!1;for(let I=0;I<T.properties.length;I++){const O=T.properties[I].key;$r(O)?O.content==="class"?P=I:O.content==="style"&&(B=I):O.isHandlerKey||(F=!0)}const z=T.properties[P],j=T.properties[B];F?T=In(e.helper(Jc),[T]):(z&&!$r(z.value)&&(z.value=In(e.helper(o0),[z.value])),j&&(v||j.value.type===4&&j.value.content.trim()[0]==="["||j.value.type===17)&&(j.value=In(e.helper(l0),[j.value])));break;case 14:break;default:T=In(e.helper(Jc),[In(e.helper(Vd),[T])]);break}return{props:T,directives:d,patchFlag:p,dynamicPropNames:w,shouldUseBlock:f}}function Uw(t){const e=new Map,n=[];for(let r=0;r<t.length;r++){const i=t[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const s=i.key.content,a=e.get(s);a?(s==="style"||s==="class"||al(s))&&rN(a,i):(e.set(s,i),n.push(i))}return n}function rN(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=$o([t.value,e.value],t.loc)}function iN(t,e){const n=[],r=ak.get(t);r?n.push(e.helperString(r)):(e.helper(r0),e.directives.add(t.name),n.push(td(t.name,"directive")));const{loc:i}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const s=st("true",!1,i);n.push(fi(t.modifiers.map(a=>wn(a,s)),i))}return $o(n,t.loc)}function sN(t){let e="[";for(let n=0,r=t.length;n<r;n++)e+=JSON.stringify(t[n]),n<r-1&&(e+=", ");return e+"]"}function Wy(t){return t==="component"||t==="Component"}const aN=(t,e)=>{if(Gf(t)){const{children:n,loc:r}=t,{slotName:i,slotProps:s}=oN(t,e),a=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let o=2;s&&(a[2]=s,o=3),n.length&&(a[3]=gu([],n,!1,!1,r),o=4),e.scopeId&&!e.slotted&&(o=5),a.splice(o),t.codegenNode=In(e.helper(NR),a,r)}};function oN(t,e){let n='"default"',r;const i=[];for(let s=0;s<t.props.length;s++){const a=t.props[s];if(a.type===6)a.value&&(a.name==="name"?n=JSON.stringify(a.value.content):(a.name=qt(a.name),i.push(a)));else if(a.name==="bind"&&So(a.arg,"name")){if(a.exp)n=a.exp;else if(a.arg&&a.arg.type===4){const o=qt(a.arg.content);n=a.exp=st(o,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&$r(a.arg)&&(a.arg.content=qt(a.arg.content)),i.push(a)}if(i.length>0){const{props:s,directives:a}=ok(t,e,i,!1,!1);r=s,a.length&&e.onError(Xt(36,a[0].loc))}return{slotName:n,slotProps:r}}const lk=(t,e,n,r)=>{const{loc:i,modifiers:s,arg:a}=t;!t.exp&&!s.length&&n.onError(Xt(35,i));let o;if(a.type===4)if(a.isStatic){let d=a.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const h=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Oo(qt(d)):`on:${d}`;o=st(h,!0,a.loc)}else o=Di([`${n.helperString(jy)}(`,a,")"]);else o=a,o.children.unshift(`${n.helperString(jy)}(`),o.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const d=zR(l),h=!(d||sF(l)),f=l.content.includes(";");(h||c&&d)&&(l=Di([`${h?"$event":"(...args)"} => ${f?"{":"("}`,l,f?"}":")"]))}let u={props:[wn(o,l||st("() => {}",!1,i))]};return r&&(u=r(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(d=>d.key.isHandlerKey=!0),u},lN=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let r,i=!1;for(let s=0;s<n.length;s++){const a=n[s];if(vg(a)){i=!0;for(let o=s+1;o<n.length;o++){const l=n[o];if(vg(l))r||(r=n[s]=Di([a],a.loc)),r.children.push(" + ",l),n.splice(o,1),o--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&t.tag!=="template")))for(let s=0;s<n.length;s++){const a=n[s];if(vg(a)||a.type===8){const o=[];(a.type!==2||a.content!==" ")&&o.push(a),!e.ssr&&Zr(a,e)===0&&o.push("1"),n[s]={type:12,content:a,loc:a.loc,codegenNode:In(e.helper(e0),o)}}}}},Yw=new WeakSet,uN=(t,e)=>{if(t.type===1&&ci(t,"once",!0))return Yw.has(t)||e.inVOnce||e.inSSR?void 0:(Yw.add(t),e.inVOnce=!0,e.helper($f),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},uk=(t,e,n)=>{const{exp:r,arg:i}=t;if(!r)return n.onError(Xt(41,t.loc)),Ah();const s=r.loc.source,a=r.type===4?r.content:s,o=n.bindingMetadata[s];if(o==="props"||o==="props-aliased")return n.onError(Xt(44,r.loc)),Ah();if(!a.trim()||!zR(r)&&!!1)return n.onError(Xt(42,r.loc)),Ah();const c=i||st("modelValue",!0),u=i?$r(i)?`onUpdate:${qt(i.content)}`:Di(['"onUpdate:" + ',i]):"onUpdate:modelValue";let d;const h=n.isTS?"($event: any)":"$event";d=Di([`${h} => ((`,r,") = $event)"]);const f=[wn(c,t.exp),wn(u,d)];if(t.modifiers.length&&e.tagType===1){const p=t.modifiers.map(y=>y.content).map(y=>(p0(y)?y:JSON.stringify(y))+": true").join(", "),m=i?$r(i)?`${i.content}Modifiers`:Di([i,' + "Modifiers"']):"modelModifiers";f.push(wn(m,st(`{ ${p} }`,!1,t.loc,2)))}return Ah(f)};function Ah(t=[]){return{props:t}}const cN=/[\w).+\-_$\]]/,dN=(t,e)=>{Bo("COMPILER_FILTERS",e)&&(t.type===5?zf(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&zf(n.exp,e)}))};function zf(t,e){if(t.type===4)Hw(t,e);else for(let n=0;n<t.children.length;n++){const r=t.children[n];typeof r=="object"&&(r.type===4?Hw(r,e):r.type===8?zf(t,e):r.type===5&&zf(r.content,e))}}function Hw(t,e){const n=t.content;let r=!1,i=!1,s=!1,a=!1,o=0,l=0,c=0,u=0,d,h,f,p,m=[];for(f=0;f<n.length;f++)if(h=d,d=n.charCodeAt(f),r)d===39&&h!==92&&(r=!1);else if(i)d===34&&h!==92&&(i=!1);else if(s)d===96&&h!==92&&(s=!1);else if(a)d===47&&h!==92&&(a=!1);else if(d===124&&n.charCodeAt(f+1)!==124&&n.charCodeAt(f-1)!==124&&!o&&!l&&!c)p===void 0?(u=f+1,p=n.slice(0,f).trim()):y();else{switch(d){case 34:i=!0;break;case 39:r=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:o++;break;case 125:o--;break}if(d===47){let v=f-1,b;for(;v>=0&&(b=n.charAt(v),b===" ");v--);(!b||!cN.test(b))&&(a=!0)}}p===void 0?p=n.slice(0,f).trim():u!==0&&y();function y(){m.push(n.slice(u,f).trim()),u=f+1}if(m.length){for(f=0;f<m.length;f++)p=hN(p,m[f],e);t.content=p,t.ast=void 0}}function hN(t,e,n){n.helper(i0);const r=e.indexOf("(");if(r<0)return n.filters.add(e),`${td(e,"filter")}(${t})`;{const i=e.slice(0,r),s=e.slice(r+1);return n.filters.add(i),`${td(i,"filter")}(${t}${s!==")"?","+s:s}`}}const Ww=new WeakSet,fN=(t,e)=>{if(t.type===1){const n=ci(t,"memo");return!n||Ww.has(t)?void 0:(Ww.add(t),()=>{const r=t.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(t.tagType!==1&&h0(r,e),t.codegenNode=In(e.helper(d0),[n.exp,gu(void 0,r),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function pN(t){return[[uN,YF,fN,KF,dN,aN,tN,JF,lN],{on:lk,bind:qF,model:uk}]}function mN(t,e={}){const n=e.onError||f0,r=e.mode==="module";e.prefixIdentifiers===!0?n(Xt(47)):r&&n(Xt(48));const i=!1;e.cacheHandlers&&n(Xt(49)),e.scopeId&&!r&&n(Xt(50));const s=ft({},e,{prefixIdentifiers:i}),a=Qe(t)?EF(t,s):t,[o,l]=pN();return SF(a,ft({},s,{nodeTransforms:[...o,...e.nodeTransforms||[]],directiveTransforms:ft({},l,e.directiveTransforms||{})})),AF(a,s)}const gN=()=>({props:[]});/**
* @vue/compiler-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ck=Symbol(""),dk=Symbol(""),hk=Symbol(""),fk=Symbol(""),qy=Symbol(""),pk=Symbol(""),mk=Symbol(""),gk=Symbol(""),yk=Symbol(""),_k=Symbol("");WL({[ck]:"vModelRadio",[dk]:"vModelCheckbox",[hk]:"vModelText",[fk]:"vModelSelect",[qy]:"vModelDynamic",[pk]:"withModifiers",[mk]:"withKeys",[gk]:"vShow",[yk]:"Transition",[_k]:"TransitionGroup"});let Tl;function yN(t,e=!1){return Tl||(Tl=document.createElement("div")),e?(Tl.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Tl.children[0].getAttribute("foo")):(Tl.innerHTML=t,Tl.textContent)}const _N={parseMode:"html",isVoidTag:MO,isNativeTag:t=>kO(t)||IO(t)||AO(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:yN,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return yk;if(t==="TransitionGroup"||t==="transition-group")return _k},getNamespace(t,e,n){let r=e?e.ns:n;if(e&&r===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(r=0);else e&&r===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(r=0);if(r===0){if(t==="svg")return 1;if(t==="math")return 2}return r}},vN=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:st("style",!0,e.loc),exp:bN(e.value.content,e.loc),modifiers:[],loc:e.loc})})},bN=(t,e)=>{const n=rC(t);return st(JSON.stringify(n),!1,e,3)};function Aa(t,e){return Xt(t,e)}const wN=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Aa(53,i)),e.children.length&&(n.onError(Aa(54,i)),e.children.length=0),{props:[wn(st("innerHTML",!0,i),r||st("",!0))]}},EN=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Aa(55,i)),e.children.length&&(n.onError(Aa(56,i)),e.children.length=0),{props:[wn(st("textContent",!0),r?Zr(r,n)>0?r:In(n.helperString(Kp),[r],i):st("",!0))]}},TN=(t,e,n)=>{const r=uk(t,e,n);if(!r.props.length||e.tagType===1)return r;t.arg&&n.onError(Aa(58,t.arg.loc));const{tag:i}=e,s=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||s){let a=hk,o=!1;if(i==="input"||s){const l=Xp(e,"type");if(l){if(l.type===7)a=qy;else if(l.value)switch(l.value.content){case"radio":a=ck;break;case"checkbox":a=dk;break;case"file":o=!0,n.onError(Aa(59,t.loc));break}}else aF(e)&&(a=qy)}else i==="select"&&(a=fk);o||(r.needRuntime=n.helper(a))}else n.onError(Aa(57,t.loc));return r.props=r.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),r},xN=ii("passive,once,capture"),CN=ii("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),SN=ii("left,right"),vk=ii("onkeyup,onkeydown,onkeypress"),RN=(t,e,n,r)=>{const i=[],s=[],a=[];for(let o=0;o<e.length;o++){const l=e[o].content;l==="native"&&ed("COMPILER_V_ON_NATIVE",n)||xN(l)?a.push(l):SN(l)?$r(t)?vk(t.content.toLowerCase())?i.push(l):s.push(l):(i.push(l),s.push(l)):CN(l)?s.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:s,eventOptionModifiers:a}},qw=(t,e)=>$r(t)&&t.content.toLowerCase()==="onclick"?st(e,!0):t.type!==4?Di(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,kN=(t,e,n)=>lk(t,e,n,r=>{const{modifiers:i}=t;if(!i.length)return r;let{key:s,value:a}=r.props[0];const{keyModifiers:o,nonKeyModifiers:l,eventOptionModifiers:c}=RN(s,i,n,t.loc);if(l.includes("right")&&(s=qw(s,"onContextmenu")),l.includes("middle")&&(s=qw(s,"onMouseup")),l.length&&(a=In(n.helper(pk),[a,JSON.stringify(l)])),o.length&&(!$r(s)||vk(s.content.toLowerCase()))&&(a=In(n.helper(mk),[a,JSON.stringify(o)])),c.length){const u=c.map(to).join("");s=$r(s)?st(`${s.content}${u}`,!0):Di(["(",s,`) + "${u}"`])}return{props:[wn(s,a)]}}),IN=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Aa(61,i)),{props:[],needRuntime:n.helper(gk)}},AN=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},MN=[vN],PN={cloak:gN,html:wN,text:EN,model:TN,on:kN,show:IN};function DN(t,e={}){return mN(t,ft({},_N,e,{nodeTransforms:[AN,...MN,...e.nodeTransforms||[]],directiveTransforms:ft({},PN,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Kw=new WeakMap;function ON(t){let e=Kw.get(t??lt);return e||(e=Object.create(null),Kw.set(t??lt,e)),e}function bk(t,e){if(!Qe(t))if(t.nodeType)t=t.innerHTML;else return fr;const n=t,r=ON(e),i=r[n];if(i)return i;if(t[0]==="#"){const l=document.querySelector(t);t=l?l.innerHTML:""}const s=ft({hoistStatic:!0,onError:void 0,onWarn:fr},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=l=>!!customElements.get(l));const{code:a}=DN(t,s),o=new Function("Vue",a)(GL);return o._rc=!0,r[n]=o}zv(bk);const LN=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:vv,BaseTransitionPropsValidators:jp,Comment:_n,DeprecationTypes:lR,EffectScope:Ap,ErrorCodes:LC,ErrorTypeStrings:nR,Fragment:Oe,KeepAlive:nS,ReactiveEffect:hu,Static:Ia,Suspense:BS,Teleport:_v,Text:ts,TrackOpTypes:AC,Transition:so,TransitionGroup:TR,TriggerOpTypes:MC,VueElement:$d,assertNumber:OC,callWithAsyncErrorHandling:ri,callWithErrorHandling:ll,camelize:qt,capitalize:to,cloneVNode:Li,compatUtils:oR,compile:bk,computed:fe,createApp:Xc,createBlock:Fe,createCommentVNode:me,createElementBlock:ae,createElementVNode:ye,createHydrationRenderer:Lv,createPropsRestProxy:yS,createRenderer:Ov,createSSRApp:Xv,createSlots:zn,createStaticVNode:HS,createTextVNode:tr,createVNode:we,customRef:pv,defineAsyncComponent:tS,defineComponent:Jt,defineCustomElement:Hv,defineEmits:oS,defineExpose:lS,defineModel:dS,defineOptions:uS,defineProps:aS,defineSSRCustomElement:_R,defineSlots:cS,devtools:rR,effect:hC,effectScope:Mp,getCurrentInstance:Wn,getCurrentScope:Pp,getCurrentWatcher:PC,getTransitionRawChildren:Ad,guardReactiveProps:Jn,h:Ou,handleError:io,hasInjectionContext:wS,hydrate:IR,hydrateOnIdle:ZC,hydrateOnInteraction:eS,hydrateOnMediaQuery:QC,hydrateOnVisible:JC,initCustomFormatter:QS,initDirectivesForSSR:PR,inject:No,isMemoSame:Uv,isProxy:kd,isReactive:Ds,isReadonly:Bs,isRef:nn,isRuntimeOnly:XS,isShallow:Vr,isVNode:Vs,markRaw:hv,mergeDefaults:mS,mergeModels:gS,mergeProps:bn,nextTick:Hn,normalizeClass:Ge,normalizeProps:Rn,normalizeStyle:vn,onActivated:wv,onBeforeMount:Pd,onBeforeUnmount:Od,onBeforeUpdate:Up,onDeactivated:Ev,onErrorCaptured:Sv,onMounted:sn,onRenderTracked:Cv,onRenderTriggered:xv,onScopeDispose:av,onServerPrefetch:Tv,onUnmounted:cs,onUpdated:Dd,onWatcherCleanup:mv,openBlock:K,popScopeId:GC,provide:Pv,proxyRefs:Bp,pushScopeId:VC,queuePostFlushCb:zc,reactive:_i,readonly:Np,ref:_e,registerRuntimeCompiler:zv,render:Kc,renderList:xt,renderSlot:Ae,resolveComponent:Ie,resolveDirective:kv,resolveDynamicComponent:Du,resolveFilter:aR,resolveTransitionHooks:Yo,setBlockTracking:Af,setDevtoolsHook:iR,setTransitionHooks:os,shallowReactive:dv,shallowReadonly:xC,shallowRef:Id,ssrContextKey:Nv,ssrUtils:sR,stop:fC,toDisplayString:Ye,toHandlerKey:Oo,toHandlers:sS,toRaw:pt,toRef:Uo,toRefs:kC,toValue:RC,transformVNodeArgs:US,triggerRef:SC,unref:q,useAttrs:fS,useCssModule:bR,useCssVars:yR,useHost:Wv,useId:KC,useModel:FS,useSSRContext:$v,useShadowRoot:vR,useSlots:Hs,useTemplateRef:XC,useTransitionState:Gp,vModelCheckbox:Hp,vModelDynamic:Kv,vModelRadio:Wp,vModelSelect:qv,vModelText:qc,vShow:Ln,version:Yv,warn:tR,watch:rn,watchEffect:OS,watchPostEffect:Bv,watchSyncEffect:Vv,withAsyncContext:_S,withCtx:qe,withDefaults:hS,withDirectives:On,withKeys:qp,withMemo:eR,withModifiers:qo,withScopeId:jC},Symbol.toStringTag,{value:"Module"}));function FN(){return wk().__VUE_DEVTOOLS_GLOBAL_HOOK__}function wk(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const NN=typeof Proxy=="function",$N="devtools-plugin:setup",BN="plugin:settings:set";let xl,Ky;function VN(){var t;return xl!==void 0||(typeof window<"u"&&window.performance?(xl=!0,Ky=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(xl=!0,Ky=globalThis.perf_hooks.performance):xl=!1),xl}function GN(){return VN()?Ky.now():Date.now()}class jN{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const o=e.settings[a];r[a]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),o=JSON.parse(a);Object.assign(s,o)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return GN()}},n&&n.on(BN,(a,o)=>{a===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(a,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:o,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function zN(t,e){const n=t,r=wk(),i=FN(),s=NN&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit($N,t,e);else{const a=s?new jN(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-i18n v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const UN="9.14.0";function YN(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ss().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ss().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ss().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ss().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ss().__INTLIFY_PROD_DEVTOOLS__=!1)}const Ek=HD.__EXTEND_POINT__,ms=Cp(Ek);ms(),ms(),ms(),ms(),ms(),ms(),ms(),ms(),ms();const Tk=Ii.__EXTEND_POINT__,Ar=Cp(Tk),Nn={UNEXPECTED_RETURN_TYPE:Tk,INVALID_ARGUMENT:Ar(),MUST_BE_CALL_SETUP_TOP:Ar(),NOT_INSTALLED:Ar(),NOT_AVAILABLE_IN_LEGACY_MODE:Ar(),REQUIRED_VALUE:Ar(),INVALID_VALUE:Ar(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Ar(),NOT_INSTALLED_WITH_PROVIDE:Ar(),UNEXPECTED_ERROR:Ar(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Ar(),BRIDGE_SUPPORT_VUE_2_ONLY:Ar(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Ar(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Ar(),__EXTEND_POINT__:Ar()};function Un(t,...e){return Mu(t,null,void 0)}const Xy=Qa("__translateVNode"),Zy=Qa("__datetimeParts"),Jy=Qa("__numberParts"),xk=Qa("__setPluralRules"),Ck=Qa("__injectWithOption"),Qy=Qa("__dispose");function rd(t){if(!Rt(t))return t;for(const e in t)if(vf(t,e))if(!e.includes("."))Rt(t[e])&&rd(t[e]);else{const n=e.split("."),r=n.length-1;let i=t,s=!1;for(let a=0;a<r;a++){if(n[a]in i||(i[n[a]]={}),!Rt(i[n[a]])){s=!0;break}i=i[n[a]]}s||(i[n[r]]=t[e],delete t[e]),Rt(i[n[r]])&&rd(i[n[r]])}return t}function Qp(t,e){const{messages:n,__i18n:r,messageResolver:i,flatJson:s}=e,a=Je(n)?n:Wt(r)?{}:{[t]:{}};if(Wt(r)&&r.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:c}=o;l?(a[l]=a[l]||{},tf(c,a[l])):tf(c,a)}else ke(o)&&tf(JSON.parse(o),a)}),i==null&&s)for(const o in a)vf(a,o)&&rd(a[o]);return a}function Sk(t){return t.type}function Rk(t,e,n){let r=Rt(e.messages)?e.messages:{};"__i18nGlobal"in n&&(r=Qp(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,r[s])});{if(Rt(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(a=>{t.mergeDateTimeFormat(a,e.datetimeFormats[a])})}if(Rt(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(a=>{t.mergeNumberFormat(a,e.numberFormats[a])})}}}function Xw(t){return we(ts,null,t,0)}const Zw="__INTLIFY_META__",Jw=()=>[],HN=()=>!1;let Qw=0;function eE(t){return(e,n,r,i)=>t(n,r,Wn()||void 0,i)}const WN=()=>{const t=Wn();let e=null;return t&&(e=Sk(t)[Zw])?{[Zw]:e}:null};function y0(t={},e){const{__root:n,__injectWithOption:r}=t,i=n===void 0,s=t.flatJson,a=_f?_e:Id,o=!!t.translateExistCompatible;let l=ut(t.inheritLocale)?t.inheritLocale:!0;const c=a(n&&l?n.locale.value:ke(t.locale)?t.locale:cu),u=a(n&&l?n.fallbackLocale.value:ke(t.fallbackLocale)||Wt(t.fallbackLocale)||Je(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),d=a(Qp(c.value,t)),h=a(Je(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),f=a(Je(t.numberFormats)?t.numberFormats:{[c.value]:{}});let p=n?n.missingWarn:ut(t.missingWarn)||Ba(t.missingWarn)?t.missingWarn:!0,m=n?n.fallbackWarn:ut(t.fallbackWarn)||Ba(t.fallbackWarn)?t.fallbackWarn:!0,y=n?n.fallbackRoot:ut(t.fallbackRoot)?t.fallbackRoot:!0,v=!!t.fallbackFormat,b=Vt(t.missing)?t.missing:null,g=Vt(t.missing)?eE(t.missing):null,_=Vt(t.postTranslation)?t.postTranslation:null,w=n?n.warnHtmlMessage:ut(t.warnHtmlMessage)?t.warnHtmlMessage:!0,E=!!t.escapeParameter;const x=n?n.modifiers:Je(t.modifiers)?t.modifiers:{};let S=t.pluralRules||n&&n.pluralRules,T;T=(()=>{i&&Db(null);const X={version:UN,locale:c.value,fallbackLocale:u.value,messages:d.value,modifiers:x,pluralRules:S,missing:g===null?void 0:g,missingWarn:p,fallbackWarn:m,fallbackFormat:v,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:w,escapeParameter:E,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};X.datetimeFormats=h.value,X.numberFormats=f.value,X.__datetimeFormatters=Je(T)?T.__datetimeFormatters:void 0,X.__numberFormatters=Je(T)?T.__numberFormatters:void 0;const re=rO(X);return i&&Db(re),re})(),rc(T,c.value,u.value);function B(){return[c.value,u.value,d.value,h.value,f.value]}const F=fe({get:()=>c.value,set:X=>{c.value=X,T.locale=c.value}}),z=fe({get:()=>u.value,set:X=>{u.value=X,T.fallbackLocale=u.value,rc(T,c.value,X)}}),j=fe(()=>d.value),I=fe(()=>h.value),O=fe(()=>f.value);function M(){return Vt(_)?_:null}function H(X){_=X,T.postTranslation=X}function Z(){return b}function le(X){X!==null&&(g=eE(X)),b=X,T.missing=g}const ie=(X,re,Te,Re,mt,et)=>{B();let It;try{__INTLIFY_PROD_DEVTOOLS__,i||(T.fallbackContext=n?nO():void 0),It=X(T)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(T.fallbackContext=void 0)}if(Te!=="translate exists"&&An(It)&&It===Sp||Te==="translate exists"&&!It){const[Ot,nr]=re();return n&&y?Re(n):mt(Ot)}else{if(et(It))return It;throw Un(Nn.UNEXPECTED_RETURN_TYPE)}};function N(...X){return ie(re=>Reflect.apply(Nb,null,[re,...X]),()=>wy(...X),"translate",re=>Reflect.apply(re.t,re,[...X]),re=>re,re=>ke(re))}function te(...X){const[re,Te,Re]=X;if(Re&&!Rt(Re))throw Un(Nn.INVALID_ARGUMENT);return N(re,Te,er({resolvedMessage:!0},Re||{}))}function A(...X){return ie(re=>Reflect.apply($b,null,[re,...X]),()=>Ey(...X),"datetime format",re=>Reflect.apply(re.d,re,[...X]),()=>Ab,re=>ke(re))}function se(...X){return ie(re=>Reflect.apply(Vb,null,[re,...X]),()=>Ty(...X),"number format",re=>Reflect.apply(re.n,re,[...X]),()=>Ab,re=>ke(re))}function pe(X){return X.map(re=>ke(re)||An(re)||ut(re)?Xw(String(re)):re)}const ve={normalize:pe,interpolate:X=>X,type:"vnode"};function Pe(...X){return ie(re=>{let Te;const Re=re;try{Re.processor=ve,Te=Reflect.apply(Nb,null,[Re,...X])}finally{Re.processor=null}return Te},()=>wy(...X),"translate",re=>re[Xy](...X),re=>[Xw(re)],re=>Wt(re))}function ne(...X){return ie(re=>Reflect.apply(Vb,null,[re,...X]),()=>Ty(...X),"number format",re=>re[Jy](...X),Jw,re=>ke(re)||Wt(re))}function De(...X){return ie(re=>Reflect.apply($b,null,[re,...X]),()=>Ey(...X),"datetime format",re=>re[Zy](...X),Jw,re=>ke(re)||Wt(re))}function G(X){S=X,T.pluralRules=S}function k(X,re){return ie(()=>{if(!X)return!1;const Te=ke(re)?re:c.value,Re=U(Te),mt=T.messageResolver(Re,X);return o?mt!=null:du(mt)||ui(mt)||ke(mt)},()=>[X],"translate exists",Te=>Reflect.apply(Te.te,Te,[X,re]),HN,Te=>ut(Te))}function C(X){let re=null;const Te=jx(T,u.value,c.value);for(let Re=0;Re<Te.length;Re++){const mt=d.value[Te[Re]]||{},et=T.messageResolver(mt,X);if(et!=null){re=et;break}}return re}function $(X){const re=C(X);return re??(n?n.tm(X)||{}:{})}function U(X){return d.value[X]||{}}function W(X,re){if(s){const Te={[X]:re};for(const Re in Te)vf(Te,Re)&&rd(Te[Re]);re=Te[X]}d.value[X]=re,T.messages=d.value}function V(X,re){d.value[X]=d.value[X]||{};const Te={[X]:re};if(s)for(const Re in Te)vf(Te,Re)&&rd(Te[Re]);re=Te[X],tf(re,d.value[X]),T.messages=d.value}function ee(X){return h.value[X]||{}}function R(X,re){h.value[X]=re,T.datetimeFormats=h.value,Bb(T,X,re)}function D(X,re){h.value[X]=er(h.value[X]||{},re),T.datetimeFormats=h.value,Bb(T,X,re)}function Y(X){return f.value[X]||{}}function J(X,re){f.value[X]=re,T.numberFormats=f.value,Gb(T,X,re)}function he(X,re){f.value[X]=er(f.value[X]||{},re),T.numberFormats=f.value,Gb(T,X,re)}Qw++,n&&_f&&(rn(n.locale,X=>{l&&(c.value=X,T.locale=X,rc(T,c.value,u.value))}),rn(n.fallbackLocale,X=>{l&&(u.value=X,T.fallbackLocale=X,rc(T,c.value,u.value))}));const ce={id:Qw,locale:F,fallbackLocale:z,get inheritLocale(){return l},set inheritLocale(X){l=X,X&&n&&(c.value=n.locale.value,u.value=n.fallbackLocale.value,rc(T,c.value,u.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:j,get modifiers(){return x},get pluralRules(){return S||{}},get isGlobal(){return i},get missingWarn(){return p},set missingWarn(X){p=X,T.missingWarn=p},get fallbackWarn(){return m},set fallbackWarn(X){m=X,T.fallbackWarn=m},get fallbackRoot(){return y},set fallbackRoot(X){y=X},get fallbackFormat(){return v},set fallbackFormat(X){v=X,T.fallbackFormat=v},get warnHtmlMessage(){return w},set warnHtmlMessage(X){w=X,T.warnHtmlMessage=X},get escapeParameter(){return E},set escapeParameter(X){E=X,T.escapeParameter=X},t:N,getLocaleMessage:U,setLocaleMessage:W,mergeLocaleMessage:V,getPostTranslationHandler:M,setPostTranslationHandler:H,getMissingHandler:Z,setMissingHandler:le,[xk]:G};return ce.datetimeFormats=I,ce.numberFormats=O,ce.rt=te,ce.te=k,ce.tm=$,ce.d=A,ce.n=se,ce.getDateTimeFormat=ee,ce.setDateTimeFormat=R,ce.mergeDateTimeFormat=D,ce.getNumberFormat=Y,ce.setNumberFormat=J,ce.mergeNumberFormat=he,ce[Ck]=r,ce[Xy]=Pe,ce[Zy]=De,ce[Jy]=ne,ce}function qN(t){const e=ke(t.locale)?t.locale:cu,n=ke(t.fallbackLocale)||Wt(t.fallbackLocale)||Je(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=Vt(t.missing)?t.missing:void 0,i=ut(t.silentTranslationWarn)||Ba(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=ut(t.silentFallbackWarn)||Ba(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,a=ut(t.fallbackRoot)?t.fallbackRoot:!0,o=!!t.formatFallbackMessages,l=Je(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,u=Vt(t.postTranslation)?t.postTranslation:void 0,d=ke(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,f=ut(t.sync)?t.sync:!0;let p=t.messages;if(Je(t.sharedMessages)){const E=t.sharedMessages;p=Object.keys(E).reduce((S,T)=>{const P=S[T]||(S[T]={});return er(P,E[T]),S},p||{})}const{__i18n:m,__root:y,__injectWithOption:v}=t,b=t.datetimeFormats,g=t.numberFormats,_=t.flatJson,w=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:p,flatJson:_,datetimeFormats:b,numberFormats:g,missing:r,missingWarn:i,fallbackWarn:s,fallbackRoot:a,fallbackFormat:o,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:d,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:f,translateExistCompatible:w,__i18n:m,__root:y,__injectWithOption:v}}function e_(t={},e){{const n=y0(qN(t)),{__extender:r}=t,i={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return ut(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=ut(s)?!s:s},get silentFallbackWarn(){return ut(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=ut(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[a,o,l]=s,c={};let u=null,d=null;if(!ke(a))throw Un(Nn.INVALID_ARGUMENT);const h=a;return ke(o)?c.locale=o:Wt(o)?u=o:Je(o)&&(d=o),Wt(l)?u=l:Je(l)&&(d=l),Reflect.apply(n.t,n,[h,u||d||{},c])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[a,o,l]=s,c={plural:1};let u=null,d=null;if(!ke(a))throw Un(Nn.INVALID_ARGUMENT);const h=a;return ke(o)?c.locale=o:An(o)?c.plural=o:Wt(o)?u=o:Je(o)&&(d=o),ke(l)?c.locale=l:Wt(l)?u=l:Je(l)&&(d=l),Reflect.apply(n.t,n,[h,u||d||{},c])},te(s,a){return n.te(s,a)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,a){n.setLocaleMessage(s,a)},mergeLocaleMessage(s,a){n.mergeLocaleMessage(s,a)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,a){n.setDateTimeFormat(s,a)},mergeDateTimeFormat(s,a){n.mergeDateTimeFormat(s,a)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,a){n.setNumberFormat(s,a)},mergeNumberFormat(s,a){n.mergeNumberFormat(s,a)},getChoiceIndex(s,a){return-1}};return i.__extender=r,i}}const _0={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function KN({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,i)=>[...r,...i.type===Oe?i.children:[i]],[]):e.reduce((n,r)=>{const i=t[r];return i&&(n[r]=i()),n},{})}function kk(t){return Oe}const XN=Jt({name:"i18n-t",props:er({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>An(t)||!isNaN(t)}},_0),setup(t,e){const{slots:n,attrs:r}=e,i=t.i18n||v0({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(d=>d!=="_"),a={};t.locale&&(a.locale=t.locale),t.plural!==void 0&&(a.plural=ke(t.plural)?+t.plural:t.plural);const o=KN(e,s),l=i[Xy](t.keypath,o,a),c=er({},r),u=ke(t.tag)||Rt(t.tag)?t.tag:kk();return Ou(u,c,l)}}}),tE=XN;function ZN(t){return Wt(t)&&!ke(t[0])}function Ik(t,e,n,r){const{slots:i,attrs:s}=e;return()=>{const a={part:!0};let o={};t.locale&&(a.locale=t.locale),ke(t.format)?a.key=t.format:Rt(t.format)&&(ke(t.format.key)&&(a.key=t.format.key),o=Object.keys(t.format).reduce((h,f)=>n.includes(f)?er({},h,{[f]:t.format[f]}):h,{}));const l=r(t.value,a,o);let c=[a.key];Wt(l)?c=l.map((h,f)=>{const p=i[h.type],m=p?p({[h.type]:h.value,index:f,parts:l}):[h.value];return ZN(m)&&(m[0].key=`${h.type}-${f}`),m}):ke(l)&&(c=[l]);const u=er({},s),d=ke(t.tag)||Rt(t.tag)?t.tag:kk();return Ou(d,u,c)}}const JN=Jt({name:"i18n-n",props:er({value:{type:Number,required:!0},format:{type:[String,Object]}},_0),setup(t,e){const n=t.i18n||v0({useScope:t.scope,__useComponent:!0});return Ik(t,e,Qx,(...r)=>n[Jy](...r))}}),nE=JN,QN=Jt({name:"i18n-d",props:er({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},_0),setup(t,e){const n=t.i18n||v0({useScope:t.scope,__useComponent:!0});return Ik(t,e,Jx,(...r)=>n[Zy](...r))}}),rE=QN;function e$(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function t$(t){const e=a=>{const{instance:o,modifiers:l,value:c}=a;if(!o||!o.$)throw Un(Nn.UNEXPECTED_ERROR);const u=e$(t,o.$),d=iE(c);return[Reflect.apply(u.t,u,[...sE(d)]),u]};return{created:(a,o)=>{const[l,c]=e(o);_f&&t.global===c&&(a.__i18nWatcher=rn(c.locale,()=>{o.instance&&o.instance.$forceUpdate()})),a.__composer=c,a.textContent=l},unmounted:a=>{_f&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:o})=>{if(a.__composer){const l=a.__composer,c=iE(o);a.textContent=Reflect.apply(l.t,l,[...sE(c)])}},getSSRProps:a=>{const[o]=e(a);return{textContent:o}}}}function iE(t){if(ke(t))return{path:t};if(Je(t)){if(!("path"in t))throw Un(Nn.REQUIRED_VALUE,"path");return t}else throw Un(Nn.INVALID_VALUE)}function sE(t){const{path:e,locale:n,args:r,choice:i,plural:s}=t,a={},o=r||{};return ke(n)&&(a.locale=n),An(i)&&(a.plural=i),An(s)&&(a.plural=s),[e,o,a]}function n$(t,e,...n){const r=Je(n[0])?n[0]:{},i=!!r.useI18nComponentName;(ut(r.globalInstall)?r.globalInstall:!0)&&([i?"i18n":tE.name,"I18nT"].forEach(a=>t.component(a,tE)),[nE.name,"I18nN"].forEach(a=>t.component(a,nE)),[rE.name,"I18nD"].forEach(a=>t.component(a,rE))),t.directive("t",t$(e))}function r$(t,e,n){return{beforeCreate(){const r=Wn();if(!r)throw Un(Nn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=aE(t,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=e_(s);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=aE(t,i);else{this.$i18n=e_({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&Rk(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,a)=>this.$i18n.te(s,a),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Wn();if(!r)throw Un(Nn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function aE(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[xk](e.pluralizationRules||t.pluralizationRules);const n=Qp(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const i$=Qa("global-vue-i18n");function s$(t={},e){const n=__VUE_I18N_LEGACY_API__&&ut(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=ut(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,s=new Map,[a,o]=a$(t,n),l=Qa("");function c(h){return s.get(h)||null}function u(h,f){s.set(h,f)}function d(h){s.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(f,...p){if(f.__VUE_I18N_SYMBOL__=l,f.provide(f.__VUE_I18N_SYMBOL__,h),Je(p[0])){const v=p[0];h.__composerExtend=v.__composerExtend,h.__vueI18nExtend=v.__vueI18nExtend}let m=null;!n&&r&&(m=m$(f,h.global)),__VUE_I18N_FULL_INSTALL__&&n$(f,h,...p),__VUE_I18N_LEGACY_API__&&n&&f.mixin(r$(o,o.__composer,h));const y=f.unmount;f.unmount=()=>{m&&m(),h.dispose(),y()}},get global(){return o},dispose(){a.stop()},__instances:s,__getInstance:c,__setInstance:u,__deleteInstance:d};return h}}function v0(t={}){const e=Wn();if(e==null)throw Un(Nn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Un(Nn.NOT_INSTALLED);const n=o$(e),r=u$(n),i=Sk(e),s=l$(t,i);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw Un(Nn.NOT_AVAILABLE_IN_LEGACY_MODE);return f$(e,s,r,t)}if(s==="global")return Rk(r,t,i),r;if(s==="parent"){let l=c$(n,e,t.__useComponent);return l==null&&(l=r),l}const a=n;let o=a.__getInstance(e);if(o==null){const l=er({},t);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),o=y0(l),a.__composerExtend&&(o[Qy]=a.__composerExtend(o)),h$(a,e,o),a.__setInstance(e,o)}return o}function a$(t,e,n){const r=Mp();{const i=__VUE_I18N_LEGACY_API__&&e?r.run(()=>e_(t)):r.run(()=>y0(t));if(i==null)throw Un(Nn.UNEXPECTED_ERROR);return[r,i]}}function o$(t){{const e=No(t.isCE?i$:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Un(t.isCE?Nn.NOT_INSTALLED_WITH_PROVIDE:Nn.UNEXPECTED_ERROR);return e}}function l$(t,e){return xp(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function u$(t){return t.mode==="composition"?t.global:t.global.__composer}function c$(t,e,n=!1){let r=null;const i=e.root;let s=d$(e,n);for(;s!=null;){const a=t;if(t.mode==="composition")r=a.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const o=a.__getInstance(s);o!=null&&(r=o.__composer,n&&r&&!r[Ck]&&(r=null))}if(r!=null||i===s)break;s=s.parent}return r}function d$(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function h$(t,e,n){sn(()=>{},e),cs(()=>{const r=n;t.__deleteInstance(e);const i=r[Qy];i&&(i(),delete r[Qy])},e)}function f$(t,e,n,r={}){const i=e==="local",s=Id(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Un(Nn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=ut(r.inheritLocale)?r.inheritLocale:!ke(r.locale),o=_e(!i||a?n.locale.value:ke(r.locale)?r.locale:cu),l=_e(!i||a?n.fallbackLocale.value:ke(r.fallbackLocale)||Wt(r.fallbackLocale)||Je(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:o.value),c=_e(Qp(o.value,r)),u=_e(Je(r.datetimeFormats)?r.datetimeFormats:{[o.value]:{}}),d=_e(Je(r.numberFormats)?r.numberFormats:{[o.value]:{}}),h=i?n.missingWarn:ut(r.missingWarn)||Ba(r.missingWarn)?r.missingWarn:!0,f=i?n.fallbackWarn:ut(r.fallbackWarn)||Ba(r.fallbackWarn)?r.fallbackWarn:!0,p=i?n.fallbackRoot:ut(r.fallbackRoot)?r.fallbackRoot:!0,m=!!r.fallbackFormat,y=Vt(r.missing)?r.missing:null,v=Vt(r.postTranslation)?r.postTranslation:null,b=i?n.warnHtmlMessage:ut(r.warnHtmlMessage)?r.warnHtmlMessage:!0,g=!!r.escapeParameter,_=i?n.modifiers:Je(r.modifiers)?r.modifiers:{},w=r.pluralRules||i&&n.pluralRules;function E(){return[o.value,l.value,c.value,u.value,d.value]}const x=fe({get:()=>s.value?s.value.locale.value:o.value,set:C=>{s.value&&(s.value.locale.value=C),o.value=C}}),S=fe({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:C=>{s.value&&(s.value.fallbackLocale.value=C),l.value=C}}),T=fe(()=>s.value?s.value.messages.value:c.value),P=fe(()=>u.value),B=fe(()=>d.value);function F(){return s.value?s.value.getPostTranslationHandler():v}function z(C){s.value&&s.value.setPostTranslationHandler(C)}function j(){return s.value?s.value.getMissingHandler():y}function I(C){s.value&&s.value.setMissingHandler(C)}function O(C){return E(),C()}function M(...C){return s.value?O(()=>Reflect.apply(s.value.t,null,[...C])):O(()=>"")}function H(...C){return s.value?Reflect.apply(s.value.rt,null,[...C]):""}function Z(...C){return s.value?O(()=>Reflect.apply(s.value.d,null,[...C])):O(()=>"")}function le(...C){return s.value?O(()=>Reflect.apply(s.value.n,null,[...C])):O(()=>"")}function ie(C){return s.value?s.value.tm(C):{}}function N(C,$){return s.value?s.value.te(C,$):!1}function te(C){return s.value?s.value.getLocaleMessage(C):{}}function A(C,$){s.value&&(s.value.setLocaleMessage(C,$),c.value[C]=$)}function se(C,$){s.value&&s.value.mergeLocaleMessage(C,$)}function pe(C){return s.value?s.value.getDateTimeFormat(C):{}}function L(C,$){s.value&&(s.value.setDateTimeFormat(C,$),u.value[C]=$)}function ve(C,$){s.value&&s.value.mergeDateTimeFormat(C,$)}function Pe(C){return s.value?s.value.getNumberFormat(C):{}}function ne(C,$){s.value&&(s.value.setNumberFormat(C,$),d.value[C]=$)}function De(C,$){s.value&&s.value.mergeNumberFormat(C,$)}const G={get id(){return s.value?s.value.id:-1},locale:x,fallbackLocale:S,messages:T,datetimeFormats:P,numberFormats:B,get inheritLocale(){return s.value?s.value.inheritLocale:a},set inheritLocale(C){s.value&&(s.value.inheritLocale=C)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:_},get pluralRules(){return s.value?s.value.pluralRules:w},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:h},set missingWarn(C){s.value&&(s.value.missingWarn=C)},get fallbackWarn(){return s.value?s.value.fallbackWarn:f},set fallbackWarn(C){s.value&&(s.value.missingWarn=C)},get fallbackRoot(){return s.value?s.value.fallbackRoot:p},set fallbackRoot(C){s.value&&(s.value.fallbackRoot=C)},get fallbackFormat(){return s.value?s.value.fallbackFormat:m},set fallbackFormat(C){s.value&&(s.value.fallbackFormat=C)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:b},set warnHtmlMessage(C){s.value&&(s.value.warnHtmlMessage=C)},get escapeParameter(){return s.value?s.value.escapeParameter:g},set escapeParameter(C){s.value&&(s.value.escapeParameter=C)},t:M,getPostTranslationHandler:F,setPostTranslationHandler:z,getMissingHandler:j,setMissingHandler:I,rt:H,d:Z,n:le,tm:ie,te:N,getLocaleMessage:te,setLocaleMessage:A,mergeLocaleMessage:se,getDateTimeFormat:pe,setDateTimeFormat:L,mergeDateTimeFormat:ve,getNumberFormat:Pe,setNumberFormat:ne,mergeNumberFormat:De};function k(C){C.locale.value=o.value,C.fallbackLocale.value=l.value,Object.keys(c.value).forEach($=>{C.mergeLocaleMessage($,c.value[$])}),Object.keys(u.value).forEach($=>{C.mergeDateTimeFormat($,u.value[$])}),Object.keys(d.value).forEach($=>{C.mergeNumberFormat($,d.value[$])}),C.escapeParameter=g,C.fallbackFormat=m,C.fallbackRoot=p,C.fallbackWarn=f,C.missingWarn=h,C.warnHtmlMessage=b}return Pd(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Un(Nn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const C=s.value=t.proxy.$i18n.__composer;e==="global"?(o.value=C.locale.value,l.value=C.fallbackLocale.value,c.value=C.messages.value,u.value=C.datetimeFormats.value,d.value=C.numberFormats.value):i&&k(C)}),G}const p$=["locale","fallbackLocale","availableLocales"],oE=["t","rt","d","n","tm","te"];function m$(t,e){const n=Object.create(null);return p$.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw Un(Nn.UNEXPECTED_ERROR);const a=nn(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,i,a)}),t.config.globalProperties.$i18n=n,oE.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw Un(Nn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,s)}),()=>{delete t.config.globalProperties.$i18n,oE.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}YN();__INTLIFY_JIT_COMPILATION__?Pb(lO):Pb(oO);JD(DD);QD(jx);if(__INTLIFY_PROD_DEVTOOLS__){const t=Ss();t.__INTLIFY__=!0,jD(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var t_=s$({inheriteLocale:!0,globalInjection:!0,legacy:!1,locale:localStorage.getItem("locale"),fallbackLocale:"fi",preserveDirectiveContent:!1,messages:{fi:{info:{header:"Tietoa",title:"Tietoa",p1:"Opendata on STUKin kehittämä avoimen lähdekoodin applikaatio, jolla voit tarkastella Suomen ulkoisen säteilyn valvontaverkon mittaustuloksia. Applikaatio saa datansa Ilmatieteen laitoksen avoimen datan rajapinnasta.",p2:"Lue lisää projektin ",p3:"GitHub-sivuilta"},settings:{title:"Asetukset",header:"Asetukset",language:"Kieli",date:"Päivitä päivämäärää",time:"Päivitä kellonaikaa",dateFormat:"Päiväyksen muoto",dateFormatA:"PP.KK.VVVV",dateFormatB:"VVVV-KK-PP",labelFinnish:"Suomi",labelEnglish:"Englanti",timeFormat:"Ajan esitysmuoto",timeFormatA:"24 tunnin kello",timeFormatB:"12 tunnin kello",backgroundMap:"Kartta",backgroundMapDefault:"Oletus (OSM)",backgroundMapCustom:"Mukautettu"},changeMode:{title:"Vaihda näkymää (annosnopeudet/ilman radioaktiivisuus)"},playback:{title:{date:"Päivitä päiväämäärää",time:"Päivitä kellonaikaa",disabled:{date:"Valitse aikaisempi päivämäärä",time:"Valitse aikaisempi kellonaika"},start:"Aloita toisto",stop:"Pysäytä toisto",speed:"Toistonopeus"}},dose:{doseRateTresholds:"Annosnopeusrajat"},radionuclideMode:{date:"Keräysjakso",concentration:"Aktiivisuuspitoisuus",uncertainty:"Epävarmuus",noData:"Tälle aikajaksolle ei ole saatavilla dataa",info:"Pääkaupunkiseudun mittauspiste on muuttanut vuoden 2022 toukokuun alusta Helsingistä Vantaalle. Vuoden 2022 huhtikuun loppuun saakka mittaustuloksia voi hakea Helsingistä. Toukokuusta 2022 alkaen tulokset löytyvät Vantaalta."},doseRate:"Annosnopeudet",airRadionuclides:"Ilman Radionuklidit"},en:{info:{header:"About",title:"About",p1:"Opendata is an open source application developed by STUK that enables viewing of external radiation results from around Finland. The application gets its data from the Finnish Meteorological Institute's open data API.",p2:"To learn more visit the project on ",p3:"GitHub"},settings:{title:"Settings",header:"Settings",language:"Language",date:"Update date",time:"Update time",dateFormat:"Date format",dateFormatA:"DD.MM.YYYY",dateFormatB:"YYYY.MM.DD",labelFinnish:"Finnish",labelEnglish:"English",timeFormat:"Time notation",timeFormatA:"24-hour clock",timeFormatB:"12-hour clock",backgroundMap:"Map",backgroundMapDefault:"Default (OSM)",backgroundMapCustom:"Custom"},changeMode:{title:"Change mode (dose rates/air radionuclides)"},playback:{title:{date:"Update date",time:"Update time",disabled:{date:"Choose an earlier date to enable playback",time:"Choose an earlier time to enable playback"},start:"Start playback",stop:"Stop playback",speed:"Playback speed"}},dose:{doseRateTresholds:"Dose rate thresholds"},radionuclideMode:{date:"Collection Period",concentration:"Concentration",uncertainty:"Uncertainty",noData:"No data available for this time period",info:"The measurement point for the capital region has moved from Helsinki to Vantaa at the beginning of May 2022. Until the end of April 2022, you can view measurement results from Helsinki. From may 2022, the results can be found from Vantaa."},doseRate:"Dose Rates",airRadionuclides:"Air Radionuclides"}}});const je=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},g$={name:"BaseRadioButton",props:{label:{type:String,required:!0},ownValue:{type:String,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],data(){return{id:String(Math.random())}},computed:{isChecked(){return this.ownValue===this.modelValue}},methods:{onChange(){this.$emit("update:modelValue",this.ownValue)}}},y$=["id","checked"],_$=["for"];function v$(t,e,n,r,i,s){return K(),ae("div",{key:n.label,class:"container"},[ye("input",{id:i.id,type:"radio",class:"radio-button-input",checked:s.isChecked,onChange:e[0]||(e[0]=(...a)=>s.onChange&&s.onChange(...a))},null,40,y$),ye("label",{class:"label",for:i.id},Ye(n.label),9,_$)])}const b$=je(g$,[["render",v$],["__scopeId","data-v-21683c87"]]),w$={install(t){t.component("BaseRadioButton",b$)}},Be={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function We(){throw new Error("Unimplemented abstract method.")}let E$=0;function tt(t){return t.ol_uid||(t.ol_uid=String(++E$))}function lE(t){return t[0]>0&&t[1]>0}function T$(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Cr(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class em{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=Cr(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new em({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return We()}getImage(e){return We()}getHitDetectionImage(){return We()}getPixelRatio(e){return 1}getImageState(){return We()}getImageSize(){return We()}getOrigin(){return We()}getSize(){return We()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Cr(e)}listenImageChange(e){We()}load(){We()}unlistenImageChange(e){We()}ready(){return Promise.resolve()}}const id={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Qn={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};Qn.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};Qn.max=Qn.whitepoint[2].D65;Qn.rgb=function(t,e){e=e||Qn.whitepoint[2].E;var n=t[0]/e[0],r=t[1]/e[1],i=t[2]/e[2],s,a,o;return s=n*3.240969941904521+r*-1.537383177570093+i*-.498610760293,a=n*-.96924363628087+r*1.87596750150772+i*.041555057407175,o=n*.055630079696993+r*-.20397695888897+i*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[s*255,a*255,o*255]};id.xyz=function(t,e){var n=t[0]/255,r=t[1]/255,i=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var s=n*.41239079926595+r*.35758433938387+i*.18048078840183,a=n*.21263900587151+r*.71516867876775+i*.072192315360733,o=n*.019330818715591+r*.11919477979462+i*.95053215224966;return e=e||Qn.whitepoint[2].E,[s*e[0],a*e[1],o*e[2]]};const b0={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var r,i,s,a,o,l,c,u,d,h,f,p,m;if(s=t[0],a=t[1],o=t[2],s===0)return[0,0,0];var y=.0011070564598794539;return e=e||"D65",n=n||2,d=Qn.whitepoint[n][e][0],h=Qn.whitepoint[n][e][1],f=Qn.whitepoint[n][e][2],p=4*d/(d+15*h+3*f),m=9*h/(d+15*h+3*f),r=a/(13*s)+p||0,i=o/(13*s)+m||0,c=s>8?h*Math.pow((s+16)/116,3):h*s*y,l=c*9*r/(4*i)||0,u=c*(12-3*r-20*i)/(4*i)||0,[l,c,u]}};Qn.luv=function(t,e,n){var r,i,s,a,o,l,c,u,d,h,f,p,m,y=.008856451679035631,v=903.2962962962961;e=e||"D65",n=n||2,d=Qn.whitepoint[n][e][0],h=Qn.whitepoint[n][e][1],f=Qn.whitepoint[n][e][2],p=4*d/(d+15*h+3*f),m=9*h/(d+15*h+3*f),l=t[0],c=t[1],u=t[2],r=4*l/(l+15*c+3*u)||0,i=9*c/(l+15*c+3*u)||0;var b=c/h;return s=b<=y?v*b:116*Math.pow(b,1/3)-16,a=13*s*(r-p),o=13*s*(i-m),[s,a,o]};var Ak={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],r=t[2],i,s,a;return a=r/360*2*Math.PI,i=n*Math.cos(a),s=n*Math.sin(a),[e,i,s]},xyz:function(t){return b0.xyz(Ak.luv(t))}};b0.lchuv=function(t){var e=t[0],n=t[1],r=t[2],i=Math.sqrt(n*n+r*r),s=Math.atan2(r,n),a=s*360/2/Math.PI;return a<0&&(a+=360),[e,i,a]};Qn.lchuv=function(t){return b0.lchuv(Qn.luv(t))};const uE={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var cE={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function x$(t){var e,n=[],r=1,i;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),uE[t])n=uE[t].slice(),i="rgb";else if(t==="transparent")r=0,i="rgb",n=[0,0,0];else if(t[0]==="#"){var s=t.slice(1),a=s.length,o=a<=4;r=1,o?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],a===4&&(r=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],a===8&&(r=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),i="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];i=l.replace(/a$/,"");var c=i==="cmyk"?4:i==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),i==="color"&&(i=n.shift()),n=n.map(function(u,d){if(u[u.length-1]==="%")return u=parseFloat(u)/100,d===3?u:i==="rgb"?u*255:i[0]==="h"||i[0]==="l"&&!d?u*100:i==="lab"?u*125:i==="lch"?d<2?u*150:u*360:i[0]==="o"&&!d?u:i==="oklab"?u*.4:i==="oklch"?d<2?u*.4:u*360:u;if(i[d]==="h"||d===2&&i[i.length-1]==="h"){if(cE[u]!==void 0)return cE[u];if(u.endsWith("deg"))return parseFloat(u);if(u.endsWith("turn"))return parseFloat(u)*360;if(u.endsWith("grad"))return parseFloat(u)*360/400;if(u.endsWith("rad"))return parseFloat(u)*180/Math.PI}return u==="none"?0:parseFloat(u)}),r=n.length>c?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),i=t.match(/([a-z])/ig)?.join("")?.toLowerCase()||"rgb");return{space:i,values:n,alpha:r}}const wg={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,a,o,l,c=0;if(n===0)return l=r*255,[l,l,l];for(s=r<.5?r*(1+n):r+n-r*n,i=2*r-s,o=[0,0,0];c<3;)a=e+1/3*-(c-1),a<0?a++:a>1&&a--,l=6*a<1?i+(s-i)*6*a:2*a<1?s:3*a<2?i+(s-i)*(2/3-a)*6:i,o[c++]=l*255;return o}};id.hsl=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=s-i,o,l,c;return s===i?o=0:e===s?o=(n-r)/a:n===s?o=2+(r-e)/a:r===s&&(o=4+(e-n)/a),o=Math.min(o*60,360),o<0&&(o+=360),c=(i+s)/2,s===i?l=0:c<=.5?l=a/(s+i):l=a/(2-s-i),[o,l*100,c*100]};function C$(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=x$(t);if(!n.space)return[];const r=n.space[0]==="h"?wg.min:id.min,i=n.space[0]==="h"?wg.max:id.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],r[0]),i[0]),e[1]=Math.min(Math.max(n.values[1],r[1]),i[1]),e[2]=Math.min(Math.max(n.values[2],r[2]),i[2]),n.space[0]==="h"&&(e=wg.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}function fn(t,e,n){return Math.min(Math.max(t,e),n)}function S$(t,e,n,r,i,s){const a=i-n,o=s-r;if(a!==0||o!==0){const l=((t-n)*a+(e-r)*o)/(a*a+o*o);l>1?(n=i,r=s):l>0&&(n+=a*l,r+=o*l)}return Vo(t,e,n,r)}function Vo(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function R$(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let o=r+1;o<e;o++){const l=Math.abs(t[o][r]);l>s&&(s=l,i=o)}if(s===0)return null;const a=t[i];t[i]=t[r],t[r]=a;for(let o=r+1;o<e;o++){const l=-t[o][r]/t[r][r];for(let c=r;c<e+1;c++)r==c?t[o][c]=0:t[o][c]+=l*t[r][c]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function df(t){return t*Math.PI/180}function nu(t,e){const n=t%e;return n*e<0?n+e:n}function qr(t,e,n){return t+n*(e-t)}function w0(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function Mh(t,e){return Math.floor(w0(t,e))}function Ph(t,e){return Math.ceil(w0(t,e))}function k$(t){return typeof t=="string"?t:T0(t)}const I$=1024,oc={};let Eg=0;function A$(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function dE(t){const e=Qn.lchuv(id.xyz(t));return e[3]=t[3],e}function M$(t){const e=Qn.rgb(Ak.xyz(t));return e[3]=t[3],e}function E0(t){if(oc.hasOwnProperty(t))return oc[t];if(Eg>=I$){let n=0;for(const r in oc)n++&3||(delete oc[r],--Eg)}const e=C$(t);if(e.length!==4)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return Mk(e),oc[t]=e,++Eg,e}function sd(t){return Array.isArray(t)?t:E0(t)}function Mk(t){return t[0]=fn(t[0]+.5|0,0,255),t[1]=fn(t[1]+.5|0,0,255),t[2]=fn(t[2]+.5|0,0,255),t[3]=fn(t[3],0,1),t}function T0(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+r+","+i+")"}function P$(t){try{return E0(t),!0}catch{return!1}}const ja=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",D$=ja.includes("firefox"),O$=ja.includes("safari")&&!ja.includes("chrom");O$&&(ja.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ja));const L$=ja.includes("webkit")&&!ja.includes("edge"),Pk=ja.includes("macintosh"),Dk=typeof devicePixelRatio<"u"?devicePixelRatio:1,Ok=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Lk=typeof Image<"u"&&Image.prototype.decode,Fk=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function qn(t,e,n,r){let i;return n&&n.length?i=n.shift():Ok?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}let Tg;function Uf(){return Tg||(Tg=qn(1,1)),Tg}function jd(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function F$(t){let e=t.offsetWidth;const n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function N$(t){let e=t.offsetHeight;const n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function hE(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function Yf(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Nk(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function $$(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}class x0{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}class Ws{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function B$(t){t.stopPropagation()}function V$(t,e,n){let r,i;n=n||ns;let s=0,a=t.length,o=!1;for(;s<a;)r=s+(a-s>>1),i=+n(t[r],e),i<0?s=r+1:(a=r,o=!i);return o?s:~s}function ns(t,e){return t>e?1:t<e?-1:0}function C0(t,e,n){if(t[0]<=e)return 0;const r=t.length;if(e<=t[r-1])return r-1;if(typeof n=="function"){for(let i=1;i<r;++i){const s=t[i];if(s===e)return i;if(s<e)return n(e,t[i-1],s)>0?i-1:i}return r-1}if(n>0){for(let i=1;i<r;++i)if(t[i]<e)return i-1;return r-1}if(n<0){for(let i=1;i<r;++i)if(t[i]<=e)return i;return r-1}for(let i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function G$(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function rs(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function ao(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function j$(t,e,n){const r=e||ns;return t.every(function(i,s){if(s===0)return!0;const a=r(t[s-1],i);return!(a>0||a===0)})}function ad(){return!0}function tm(){return!1}function vu(){}function $k(t){let e=!1,n,r,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!ao(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}function Bk(t){function e(){let n;try{n=t()}catch(r){return Promise.reject(r)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function zd(t){for(const e in t)delete t[e]}function za(t){let e;for(e in t)return!1;return!e}class Ud extends x0{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new Ws(e):e;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});r in a||(a[r]=0,o[r]=0),++a[r];let l;for(let c=0,u=i.length;c<u;++c)if("handleEvent"in i[c]?l=i[c].handleEvent(s):l=i[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--a[r]===0){let c=o[r];for(delete o[r];c--;)this.removeEventListener(r,vu);delete a[r]}return l}disposeInternal(){this.listeners_&&zd(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const r=this.listeners_[e];if(!r)return;const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=vu,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}const Ue={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ht(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const a=n;n=function(){t.removeEventListener(e,n),a.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function Hf(t,e,n,r){return ht(t,e,n,r,!0)}function $t(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),zd(t))}class z$ extends Ud{constructor(e,n,r,i){super(),this.extent=e,this.pixelRatio_=r,this.resolution=n,this.state=typeof i=="function"?Be.IDLE:i,this.image_=null,this.loader=typeof i=="function"?i:null}changed(){this.dispatchEvent(Ue.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==Be.IDLE&&this.loader){this.state=Be.LOADING,this.changed();const e=this.getResolution(),n=Array.isArray(e)?e[0]:e;Bk(()=>this.loader(this.getExtent(),n,this.getPixelRatio())).then(r=>{"image"in r&&(this.image_=r.image),"extent"in r&&(this.extent=r.extent),"resolution"in r&&(this.resolution=r.resolution),"pixelRatio"in r&&(this.pixelRatio_=r.pixelRatio),(r instanceof HTMLImageElement||r instanceof ImageBitmap||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement)&&(this.image_=r),this.state=Be.LOADED}).catch(r=>{this.state=Be.ERROR,console.error(r)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function U$(t,e,n){const r=t;let i=!0,s=!1,a=!1;const o=[Hf(r,Ue.LOAD,function(){a=!0,s||e()})];return r.src&&Lk?(s=!0,r.decode().then(function(){i&&e()}).catch(function(l){i&&(a?e():n())})):o.push(Hf(r,Ue.ERROR,n)),function(){i=!1,o.forEach($t)}}function Y$(t,e){return new Promise((n,r)=>{function i(){a(),n(t)}function s(){a(),r(new Error("Image load error"))}function a(){t.removeEventListener("load",i),t.removeEventListener("error",s)}t.addEventListener("load",i),t.addEventListener("error",s)})}function H$(t,e){return e&&(t.src=e),t.src&&Lk?new Promise((n,r)=>t.decode().then(()=>n(t)).catch(i=>t.complete&&t.width?n(t):r(i))):Y$(t)}class W${constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];!(e++&3)&&!r.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,r){const i=xg(e,n,r);return i in this.cache_?this.cache_[i]:null}getPattern(e,n,r){const i=xg(e,n,r);return i in this.patternCache_?this.patternCache_[i]:null}set(e,n,r,i,s){const a=xg(e,n,r),o=a in this.cache_;this.cache_[a]=i,s&&(i.getImageState()===Be.IDLE&&i.load(),i.getImageState()===Be.LOADING?i.ready().then(()=>{this.patternCache_[a]=Uf().createPattern(i.getImage(1),"repeat")}):this.patternCache_[a]=Uf().createPattern(i.getImage(1),"repeat")),o||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function xg(t,e,n){const r=n?sd(n):"null";return e+":"+t+":"+r}const Zi=new W$;let lc=null;class q$ extends Ud{constructor(e,n,r,i,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=r,this.canvas_={},this.color_=s,this.imageState_=i===void 0?Be.IDLE:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Be.LOADED){lc||(lc=qn(1,1,void 0,{willReadFrequently:!0})),lc.drawImage(this.image_,0,0);try{lc.getImageData(0,0,1,1),this.tainted_=!1}catch{lc=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ue.CHANGE)}handleImageError_(){this.imageState_=Be.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Be.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],r=qn(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Be.IDLE){this.image_||this.initializeImage_(),this.imageState_=Be.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&H$(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Be.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*e),r.height=Math.ceil(n.height*e);const i=r.getContext("2d");i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=k$(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{this.imageState_===Be.LOADED||this.imageState_===Be.ERROR?e():this.addEventListener(Ue.CHANGE,function n(){(this.imageState_===Be.LOADED||this.imageState_===Be.ERROR)&&(this.removeEventListener(Ue.CHANGE,n),e())})})),this.ready_}}function S0(t,e,n,r,i,s){let a=e===void 0?void 0:Zi.get(e,n,i);return a||(a=new q$(t,t&&"src"in t?t.src||void 0:e,n,r,i),Zi.set(e,n,i,a,s)),s&&a&&!Zi.getPattern(e,n,i)&&Zi.set(e,n,i,a,s),a}function Ji(t){return t?Array.isArray(t)?T0(t):typeof t=="object"&&"src"in t?K$(t):t:null}function K$(t){if(!t.offset||!t.size)return Zi.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=Zi.getPattern(e,void 0,t.color);if(n)return n;const r=Zi.get(t.src,"anonymous",null);if(r.getImageState()!==Be.LOADED)return null;const i=qn(t.size[0],t.size[1]);return i.drawImage(r.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),S0(i.canvas,e,void 0,Be.LOADED,t.color,!0),Zi.getPattern(e,void 0,t.color)}const bu={PROPERTYCHANGE:"propertychange"};class Yd extends Ud{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ue.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=ht(this,e[s],n);return i}return ht(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=Hf(this,e[s],n)}else r=Hf(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)X$(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}Yd.prototype.on;Yd.prototype.once;Yd.prototype.un;function X$(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)$t(t[e]);else $t(t)}class fE extends Ws{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class Bi extends Yd{constructor(e){super(),this.on,this.once,this.un,tt(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new fE(r,e,n)),r=bu.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new fE(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],za(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}const Dh="ol-hidden",Z$="ol-selectable",Xo="ol-unselectable",nm="ol-control",pE="ol-collapsed",J$=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),mE=["style","variant","weight","size","lineHeight","family"],Vk=function(t){const e=t.match(J$);if(!e)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=mE.length;r<i;++r){const s=e[r+1];s!==void 0&&(n[mE[r]]=s)}return n.families=n.family.split(/,\s?/),n},Gk="10px sans-serif",Or="#000",wu="round",Ls=[],Fs=0,Eu="round",od=10,ld="#000",ud="center",Wf="middle",ko=[0,0,0,0],cd=1,Ui=new Bi;let $l=null,n_;const r_={},jk=function(){const e="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let s,a;function o(c,u,d){let h=!0;for(let f=0;f<r;++f){const p=n[f];if(a=qf(c+" "+u+" "+e+p,i),d!=p){const m=qf(c+" "+u+" "+e+d+","+p,i);h=h&&m!=a}}return!!h}function l(){let c=!0;const u=Ui.getKeys();for(let d=0,h=u.length;d<h;++d){const f=u[d];Ui.get(f)<100&&(o.apply(this,f.split(`
`))?(zd(r_),$l=null,n_=void 0,Ui.set(f,100)):(Ui.set(f,Ui.get(f)+1,!0),c=!1))}c&&(clearInterval(s),s=void 0)}return function(c){const u=Vk(c);if(!u)return;const d=u.families;for(let h=0,f=d.length;h<f;++h){const p=d[h],m=u.style+`
`+u.weight+`
`+p;Ui.get(m)===void 0&&(Ui.set(m,100,!0),o(u.style,u.weight,p)||(Ui.set(m,0,!0),s===void 0&&(s=setInterval(l,32))))}}}(),Q$=function(){let t;return function(e){let n=r_[e];if(n==null){if(Ok){const r=Vk(e),i=zk(e,"Žg");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);r_[e]=n}return n}}();function zk(t,e){return $l||($l=qn(1,1)),t!=n_&&($l.font=t,n_=$l.font),$l.measureText(e)}function qf(t,e){return zk(t,e).width}function gE(t,e,n){if(e in n)return n[e];const r=e.split(`
`).reduce((i,s)=>Math.max(i,qf(t,s)),0);return n[e]=r,r}function e3(t,e){const n=[],r=[],i=[];let s=0,a=0,o=0,l=0;for(let c=0,u=e.length;c<=u;c+=2){const d=e[c];if(d===`
`||c===u){s=Math.max(s,a),i.push(a),a=0,o+=l,l=0;continue}const h=e[c+1]||t.font,f=qf(h,d);n.push(f),a+=f;const p=Q$(h);r.push(p),l=Math.max(l,p)}return{width:s,height:o,widths:n,heights:r,lineWidths:i}}function t3(t,e,n,r,i,s,a,o,l,c,u){t.save(),n!==1&&(t.globalAlpha===void 0?t.globalAlpha=d=>d.globalAlpha*=n:t.globalAlpha*=n),e&&t.transform.apply(t,e),r.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),n3(r,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(r,i,s,a,o,0,0,a,o)):t.drawImage(r,i,s,a,o,l,c,a*u[0],o*u[1]),t.restore()}function n3(t,e){const n=t.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}class rm extends em{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Be.LOADING:Be.LOADED,this.imageState_===Be.LOADING&&this.ready().then(()=>this.imageState_=Be.LOADED),this.render()}clone(){const e=this.getScale(),n=new rm({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),r=this.getScaleArray();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const r=this.renderOptions_,i=qn(r.size*e,r.size*e);this.draw_(r,i,e),n=i.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,r){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let i=this.radius_,s=this.radius2_===void 0?i:this.radius2_;if(i<s){const E=i;i=s,s=E}const a=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/a,l=s*Math.sin(o),c=Math.sqrt(s*s-l*l),u=i-c,d=Math.sqrt(l*l+u*u),h=d/l;if(e==="miter"&&h<=r)return h*n;const f=n/2/h,p=n/2*(u/d),y=Math.sqrt((i+f)*(i+f)+p*p)-i;if(this.radius2_===void 0||e==="bevel")return y*2;const v=i*Math.sin(o),b=Math.sqrt(i*i-v*v),g=s-b,w=Math.sqrt(v*v+g*g)/v;if(w<=r){const E=w*n/2-s-i;return 2*Math.max(y,E)}return y*2}createRenderOptions(){let e=wu,n=Eu,r=0,i=null,s=0,a,o=0;this.stroke_&&(a=Ji(this.stroke_.getColor()??ld),o=this.stroke_.getWidth()??cd,i=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??Eu,e=this.stroke_.getLineCap()??wu,r=this.stroke_.getMiterLimit()??od);const l=this.calculateLineJoinSize_(n,o,r),c=Math.max(this.radius_,this.radius2_||0),u=Math.ceil(2*c+l);return{strokeStyle:a,strokeWidth:o,size:u,lineCap:e,lineDash:i,lineDashOffset:s,lineJoin:n,miterLimit:r}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,r){if(n.scale(r,r),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=Or),n.fillStyle=Ji(i),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let r=this.fill_.getColor(),i=0;typeof r=="string"&&(r=sd(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0&&(n=qn(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const r=this.radius_;if(n===1/0)e.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,a=2*Math.PI/n;for(let o=0;o<n;o++){const l=s+o*a,c=o%2===0?r:i;e.lineTo(c*Math.cos(l),c*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Or,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class ul extends rm{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new ul({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius_=e,this.render()}}function yt(t,e){if(!t)throw new Error(e)}class Lu extends Bi{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const n=e;this.setGeometry(n)}else{const n=e;this.setProperties(n)}}clone(){const e=new Lu(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&e.setGeometry(n.clone());const r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&($t(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=ht(e,Ue.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?r3(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function r3(t){if(typeof t=="function")return t;let e;return Array.isArray(t)?e=t:(yt(typeof t.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[t]),function(){return e}}const Uk=new Array(6);function ei(){return[1,0,0,1,0,0]}function yE(t){return k0(t,1,0,0,1,0,0)}function R0(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=e[0],c=e[1],u=e[2],d=e[3],h=e[4],f=e[5];return t[0]=n*l+i*c,t[1]=r*l+s*c,t[2]=n*u+i*d,t[3]=r*u+s*d,t[4]=n*h+i*f+a,t[5]=r*h+s*f+o,t}function k0(t,e,n,r,i,s,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=a,t}function i3(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function yn(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Cg(t,e,n){return R0(t,k0(Uk,e,0,0,n,0,0))}function s3(t,e,n){return R0(t,k0(Uk,1,0,0,1,e,n))}function Fi(t,e,n,r,i,s,a,o){const l=Math.sin(s),c=Math.cos(s);return t[0]=r*c,t[1]=i*l,t[2]=-r*l,t[3]=i*c,t[4]=a*r*c-o*r*l+e,t[5]=a*i*l+o*i*c+n,t}function Yk(t,e){const n=a3(e);yt(n!==0,"Transformation matrix cannot be inverted");const r=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5];return t[0]=a/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*l-a*o)/n,t[5]=-(r*l-i*o)/n,t}function a3(t){return t[0]*t[3]-t[1]*t[2]}const _E=[1e6,1e6,1e6,1e6,2,2];function o3(t){return"matrix("+t.map((n,r)=>Math.round(n*_E[r])/_E[r]).join(", ")+")"}const Vn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function i_(t){const e=yi();for(let n=0,r=t.length;n<r;++n)Dc(e,t[n]);return e}function l3(t,e,n){const r=Math.min.apply(null,t),i=Math.min.apply(null,e),s=Math.max.apply(null,t),a=Math.max.apply(null,e);return Gs(r,i,s,a,n)}function Ma(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Hk(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function cl(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function Zo(t,e){return I0(t,e[0],e[1])}function Is(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function I0(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function s_(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],a=e[0],o=e[1];let l=Vn.UNKNOWN;return a<n?l=l|Vn.LEFT:a>i&&(l=l|Vn.RIGHT),o<r?l=l|Vn.BELOW:o>s&&(l=l|Vn.ABOVE),l===Vn.UNKNOWN&&(l=Vn.INTERSECTING),l}function yi(){return[1/0,1/0,-1/0,-1/0]}function Gs(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function Fu(t){return Gs(1/0,1/0,-1/0,-1/0,t)}function Wk(t,e){const n=t[0],r=t[1];return Gs(n,r,n,r,e)}function A0(t,e,n,r,i){const s=Fu(i);return Kk(s,t,e,n,r)}function Tu(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function qk(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Dc(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Kk(t,e,n,r,i){for(;n<r;n+=i)u3(t,e[n],e[n+1]);return t}function u3(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Xk(t,e){let n;return n=e(im(t)),n||(n=e(sm(t)),n)||(n=e(am(t)),n)||(n=e(oo(t)),n)?n:!1}function a_(t){let e=0;return dl(t)||(e=vt(t)*jn(t)),e}function im(t){return[t[0],t[1]]}function sm(t){return[t[2],t[1]]}function Ua(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function c3(t,e){let n;if(e==="bottom-left")n=im(t);else if(e==="bottom-right")n=sm(t);else if(e==="top-left")n=oo(t);else if(e==="top-right")n=am(t);else throw new Error("Invalid corner");return n}function o_(t,e,n,r,i){const[s,a,o,l,c,u,d,h]=l_(t,e,n,r);return Gs(Math.min(s,o,c,d),Math.min(a,l,u,h),Math.max(s,o,c,d),Math.max(a,l,u,h),i)}function l_(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,a=Math.cos(n),o=Math.sin(n),l=i*a,c=i*o,u=s*a,d=s*o,h=t[0],f=t[1];return[h-l+d,f-c-u,h-l-d,f-c+u,h+l-d,f+c+u,h+l+d,f+c-u,h-l+d,f-c-u]}function jn(t){return t[3]-t[1]}function Pa(t,e,n){const r=n||yi();return hn(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):Fu(r),r}function oo(t){return[t[0],t[3]]}function am(t){return[t[2],t[3]]}function vt(t){return t[2]-t[0]}function hn(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function dl(t){return t[2]<t[0]||t[3]<t[1]}function d3(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function h3(t,e){const n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r}function f3(t,e,n){let r=!1;const i=s_(t,e),s=s_(t,n);if(i===Vn.INTERSECTING||s===Vn.INTERSECTING)r=!0;else{const a=t[0],o=t[1],l=t[2],c=t[3],u=e[0],d=e[1],h=n[0],f=n[1],p=(f-d)/(h-u);let m,y;s&Vn.ABOVE&&!(i&Vn.ABOVE)&&(m=h-(f-c)/p,r=m>=a&&m<=l),!r&&s&Vn.RIGHT&&!(i&Vn.RIGHT)&&(y=f-(h-l)*p,r=y>=o&&y<=c),!r&&s&Vn.BELOW&&!(i&Vn.BELOW)&&(m=h-(f-o)/p,r=m>=a&&m<=l),!r&&s&Vn.LEFT&&!(i&Vn.LEFT)&&(y=f-(h-a)*p,r=y>=o&&y<=c)}return r}function p3(t,e,n,r){if(dl(t))return Fu(n);let i=[];i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]],e(i,i,2);const s=[],a=[];for(let o=0,l=i.length;o<l;o+=2)s.push(i[o]),a.push(i[o+1]);return l3(s,a,n)}function Zk(t,e){const n=e.getExtent(),r=Ua(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=vt(n),a=Math.floor((r[0]-n[0])/i)*i;t[0]-=a,t[2]-=a}return t}function Jk(t,e,n){if(e.canWrapX()){const r=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[r[0],t[1],r[2],t[3]]];Zk(t,e);const i=vt(r);if(vt(t)>i&&!n)return[[r[0],t[1],r[2],t[3]]];if(t[0]<r[0])return[[t[0]+i,t[1],r[2],t[3]],[r[0],t[1],t[2],t[3]]];if(t[2]>r[2])return[[t[0],t[1],r[2],t[3]],[r[0],t[1],t[2]-i,t[3]]]}return[t]}const xu={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class M0{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||xu[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Hd=6378137,Wl=Math.PI*Hd,m3=[-Wl,-Wl,Wl,Wl],g3=[-180,-85,180,85],Oh=Hd*Math.log(Math.tan(Math.PI/2));class Cl extends M0{constructor(e){super({code:e,units:"m",extent:m3,global:!0,worldExtent:g3,getPointResolution:function(n,r){return n/Math.cosh(r[1]/Hd)}})}}const vE=[new Cl("EPSG:3857"),new Cl("EPSG:102100"),new Cl("EPSG:102113"),new Cl("EPSG:900913"),new Cl("http://www.opengis.net/def/crs/EPSG/0/3857"),new Cl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function y3(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n){e[i]=Wl*t[i]/180;let s=Hd*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>Oh?s=Oh:s<-Oh&&(s=-Oh),e[i+1]=s}return e}function _3(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Wl,e[i+1]=360*Math.atan(Math.exp(t[i+1]/Hd))/Math.PI-90;return e}const v3=6378137,bE=[-180,-90,180,90],b3=Math.PI*v3/180;class go extends M0{constructor(e,n){super({code:e,units:"degrees",extent:bE,axisOrientation:n,global:!0,metersPerUnit:b3,worldExtent:bE})}}const wE=[new go("CRS:84"),new go("EPSG:4326","neu"),new go("urn:ogc:def:crs:OGC:1.3:CRS84"),new go("urn:ogc:def:crs:OGC:2:84"),new go("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new go("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new go("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let u_={};function w3(t){return u_[t]||u_[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function E3(t,e){u_[t]=e}let ru={};function Kf(t,e,n){const r=t.getCode(),i=e.getCode();r in ru||(ru[r]={}),ru[r][i]=n}function T3(t,e){let n;return t in ru&&e in ru[t]&&(n=ru[t][e]),n}function x3(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Xf(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function P0(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function C3(t,e){return t[0]*=e,t[1]*=e,t}function D0(t,e){if(e.canWrapX()){const n=vt(e.getExtent()),r=S3(t,e,n);r&&(t[0]-=r*n)}return t}function S3(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||vt(r),i=Math.floor((t[0]-r[0])/n)),i}const R3=63710088e-1;function EE(t,e,n){n=n||R3;const r=df(t[1]),i=df(e[1]),s=(i-r)/2,a=df(e[0]-t[0])/2,o=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function Qk(...t){console.warn(...t)}let c_=!0;function eI(t){c_=!1}function O0(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function tI(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function k3(t){E3(t.getCode(),t),Kf(t,t,O0)}function I3(t){t.forEach(k3)}function tn(t){return typeof t=="string"?w3(t):t||null}function Zf(t,e,n,r){t=tn(t);let i;const s=t.getPointResolutionFunc();if(s){if(i=s(e,n),r&&r!==t.getUnits()){const a=t.getMetersPerUnit();a&&(i=i*a/xu[r])}}else{const a=t.getUnits();if(a=="degrees"&&!r||r=="degrees")i=e;else{const o=Wd(t,tn("EPSG:4326"));if(o===tI&&a!=="degrees")i=e*t.getMetersPerUnit();else{let c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];c=o(c,c,2);const u=EE(c.slice(0,2),c.slice(2,4)),d=EE(c.slice(4,6),c.slice(6,8));i=(u+d)/2}const l=r?xu[r]:t.getMetersPerUnit();l!==void 0&&(i/=l)}}return i}function TE(t){I3(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Kf(e,n,O0)})})}function A3(t,e,n,r){t.forEach(function(i){e.forEach(function(s){Kf(i,s,n),Kf(s,i,r)})})}function L0(t,e){return t?typeof t=="string"?tn(t):t:tn(e)}function d_(t,e){return eI(),om(t,"EPSG:4326","EPSG:3857")}function va(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Wd(t,e)===O0)&&n}function Wd(t,e){const n=t.getCode(),r=e.getCode();let i=T3(n,r);return i||(i=tI),i}function dd(t,e){const n=tn(t),r=tn(e);return Wd(n,r)}function om(t,e,n){return dd(e,n)(t,void 0,t.length)}let M3=null;function P3(){return M3}function h_(t,e){return t}function ws(t,e){return c_&&!Xf(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(c_=!1,Qk("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function F0(t,e){return t}function As(t,e){return t}function D3(){TE(vE),TE(wE),A3(wE,vE,y3,_3)}D3();function Da(t,e,n,r,i,s){s=s||[];let a=0;for(let o=e;o<n;o+=r){const l=t[o],c=t[o+1];s[a++]=i[0]*l+i[2]*c+i[4],s[a++]=i[1]*l+i[3]*c+i[5]}return s&&s.length!=a&&(s.length=a),s}function nI(t,e,n,r,i,s,a){a=a||[];const o=Math.cos(i),l=Math.sin(i),c=s[0],u=s[1];let d=0;for(let h=e;h<n;h+=r){const f=t[h]-c,p=t[h+1]-u;a[d++]=c+f*o-p*l,a[d++]=u+f*l+p*o;for(let m=h+2;m<h+r;++m)a[d++]=t[m]}return a&&a.length!=d&&(a.length=d),a}function O3(t,e,n,r,i,s,a,o){o=o||[];const l=a[0],c=a[1];let u=0;for(let d=e;d<n;d+=r){const h=t[d]-l,f=t[d+1]-c;o[u++]=l+i*h,o[u++]=c+s*f;for(let p=d+2;p<d+r;++p)o[u++]=t[p]}return o&&o.length!=u&&(o.length=u),o}function L3(t,e,n,r,i,s,a){a=a||[];let o=0;for(let l=e;l<n;l+=r){a[o++]=t[l]+i,a[o++]=t[l+1]+s;for(let c=l+2;c<l+r;++c)a[o++]=t[c]}return a&&a.length!=o&&(a.length=o),a}const xE=ei();class rI extends Bi{constructor(){super(),this.extent_=yi(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=$k((e,n,r)=>{if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return We()}closestPointXY(e,n,r,i){return We()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return We()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Fu(n),this.extentRevision_=this.getRevision()}return d3(this.extent_,e)}rotate(e,n){We()}scale(e,n,r){We()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return We()}getType(){return We()}applyTransform(e){We()}intersectsExtent(e){return We()}translate(e,n){We()}transform(e,n){const r=tn(e),i=r.getUnits()=="tile-pixels"?function(s,a,o){const l=r.getExtent(),c=r.getWorldExtent(),u=jn(c)/jn(l);return Fi(xE,c[0],c[3],u,-u,0,0,0),Da(s,0,s.length,o,xE,a),dd(r,n)(s,a,o)}:dd(r,n);return this.applyTransform(i),this}}class hl extends rI{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return A0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return We()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=CE(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){We()}setLayout(e,n,r){let i;if(e)i=CE(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=fl(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();nI(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=Ua(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();O3(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();L3(r,0,r.length,i,e,n,r),this.changed()}}}function fl(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function CE(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function F3(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const i=t.getStride();return Da(r,0,r.length,i,e,n)}function N3(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function lm(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const a=n[i];for(let o=0;o<r;++o)t[e++]=a[o]}return e}function qd(t,e,n,r,i){i=i||[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=lm(t,e,n[a],r);i[s++]=l,e=l}return i.length=s,i}function iI(t,e,n,r,i){i=i||[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=qd(t,e,n[a],r,i[s]);l.length===0&&(l[0]=e),i[s++]=l,e=l[l.length-1]}return i.length=s,i}class Jf extends rI{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach($t),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let n=0,r=e.length;n<r;++n)this.changeEventsKeys_.push(ht(e[n],Ue.CHANGE,this.changed,this))}clone(){const e=new Jf(Sg(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<cl(this.getExtent(),e,n))return i;const s=this.geometries_;for(let a=0,o=s.length;a<o;++a)i=s[a].closestPointXY(e,n,r,i);return i}containsXY(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)if(r[i].containsXY(e,n))return!0;return!1}computeExtent(e){Fu(e);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)qk(e,n[r].getExtent());return e}getGeometries(){return Sg(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?e=e.concat(n[r].getGeometriesArrayRecursive()):e.push(n[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let s=0,a=r.length;s<a;++s){const o=r[s],l=o.getSimplifiedGeometry(e);n.push(l),l!==o&&(i=!0)}return i?new Jf(n):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].rotate(e,n);this.changed()}scale(e,n,r){r||(r=Ua(this.getExtent()));const i=this.geometries_;for(let s=0,a=i.length;s<a;++s)i[s].scale(e,n,r);this.changed()}setGeometries(e){this.setGeometriesArray(Sg(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(e);this.changed()}translate(e,n){const r=this.geometries_;for(let i=0,s=r.length;i<s;++i)r[i].translate(e,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function Sg(t){return t.map(e=>e.clone())}function SE(t,e,n,r,i,s,a){const o=t[e],l=t[e+1],c=t[n]-o,u=t[n+1]-l;let d;if(c===0&&u===0)d=e;else{const h=((i-o)*c+(s-l)*u)/(c*c+u*u);if(h>1)d=n;else if(h>0){for(let f=0;f<r;++f)a[f]=qr(t[e+f],t[n+f],h);a.length=r;return}else d=e}for(let h=0;h<r;++h)a[h]=t[d+h];a.length=r}function N0(t,e,n,r,i){let s=t[e],a=t[e+1];for(e+=r;e<n;e+=r){const o=t[e],l=t[e+1],c=Vo(s,a,o,l);c>i&&(i=c),s=o,a=l}return i}function $0(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const o=n[s];i=N0(t,e,o,r,i),e=o}return i}function $3(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const o=n[s];i=$0(t,e,o,r,i),e=o[o.length-1]}return i}function B0(t,e,n,r,i,s,a,o,l,c,u){if(e==n)return c;let d,h;if(i===0){if(h=Vo(a,o,t[e],t[e+1]),h<c){for(d=0;d<r;++d)l[d]=t[e+d];return l.length=r,h}return c}u=u||[NaN,NaN];let f=e+r;for(;f<n;)if(SE(t,f-r,f,r,a,o,u),h=Vo(a,o,u[0],u[1]),h<c){for(c=h,d=0;d<r;++d)l[d]=u[d];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(h)-Math.sqrt(c))/i|0,1);if(s&&(SE(t,n-r,e,r,a,o,u),h=Vo(a,o,u[0],u[1]),h<c)){for(c=h,d=0;d<r;++d)l[d]=u[d];l.length=r}return c}function V0(t,e,n,r,i,s,a,o,l,c,u){u=u||[NaN,NaN];for(let d=0,h=n.length;d<h;++d){const f=n[d];c=B0(t,e,f,r,i,s,a,o,l,c,u),e=f}return c}function B3(t,e,n,r,i,s,a,o,l,c,u){u=u||[NaN,NaN];for(let d=0,h=n.length;d<h;++d){const f=n[d];c=V0(t,e,f,r,i,s,a,o,l,c,u),e=f[f.length-1]}return c}function um(t,e,n,r,i,s,a){const o=(n-e)/r;if(o<3){for(;e<n;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}const l=new Array(o);l[0]=1,l[o-1]=1;const c=[e,n-r];let u=0;for(;c.length>0;){const d=c.pop(),h=c.pop();let f=0;const p=t[h],m=t[h+1],y=t[d],v=t[d+1];for(let b=h+r;b<d;b+=r){const g=t[b],_=t[b+1],w=S$(g,_,p,m,y,v);w>f&&(u=b,f=w)}f>i&&(l[(u-e)/r]=1,h+r<u&&c.push(h,u),u+r<d&&c.push(u,d))}for(let d=0;d<o;++d)l[d]&&(s[a++]=t[e+d*r],s[a++]=t[e+d*r+1]);return a}function sI(t,e,n,r,i,s,a,o){for(let l=0,c=n.length;l<c;++l){const u=n[l];a=um(t,e,u,r,i,s,a),o.push(a),e=u}return a}function Eo(t,e){return e*Math.round(t/e)}function V3(t,e,n,r,i,s,a){if(e==n)return a;let o=Eo(t[e],i),l=Eo(t[e+1],i);e+=r,s[a++]=o,s[a++]=l;let c,u;do if(c=Eo(t[e],i),u=Eo(t[e+1],i),e+=r,e==n)return s[a++]=c,s[a++]=u,a;while(c==o&&u==l);for(;e<n;){const d=Eo(t[e],i),h=Eo(t[e+1],i);if(e+=r,d==c&&h==u)continue;const f=c-o,p=u-l,m=d-o,y=h-l;if(f*y==p*m&&(f<0&&m<f||f==m||f>0&&m>f)&&(p<0&&y<p||p==y||p>0&&y>p)){c=d,u=h;continue}s[a++]=c,s[a++]=u,o=c,l=u,c=d,u=h}return s[a++]=c,s[a++]=u,a}function G0(t,e,n,r,i,s,a,o){for(let l=0,c=n.length;l<c;++l){const u=n[l];a=V3(t,e,u,r,i,s,a),o.push(a),e=u}return a}function G3(t,e,n,r,i,s,a,o){for(let l=0,c=n.length;l<c;++l){const u=n[l],d=[];a=G0(t,e,u,r,i,s,a,d),o.push(d),e=u[u.length-1]}return a}function wa(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let a=e;a<n;a+=r)i[s++]=t.slice(a,a+r);return i.length=s,i}function hd(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];i[s++]=wa(t,e,l,r,i[s]),e=l}return i.length=s,i}function f_(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a];i[s++]=l.length===1&&l[0]===e?[]:hd(t,e,l,r,i[s]),e=l[l.length-1]}return i.length=s,i}function aI(t,e,n,r){let i=0,s=t[n-r],a=t[n-r+1];for(;e<n;e+=r){const o=t[e],l=t[e+1];i+=a*o-s*l,s=o,a=l}return i/2}function oI(t,e,n,r){let i=0;for(let s=0,a=n.length;s<a;++s){const o=n[s];i+=aI(t,e,o,r),e=o}return i}function j3(t,e,n,r){let i=0;for(let s=0,a=n.length;s<a;++s){const o=n[s];i+=oI(t,e,o,r),e=o[o.length-1]}return i}class fd extends hl{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new fd(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<cl(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(N0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),B0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return aI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return wa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=um(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new fd(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=lm(this.flatCoordinates,0,e,this.stride),this.changed()}}function lI(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function Qf(t,e,n,r,i,s,a){let o,l;const c=(n-e)/r;if(c===1)o=e;else if(c===2)o=e,l=i;else if(c!==0){let u=t[e],d=t[e+1],h=0;const f=[0];for(let y=e+r;y<n;y+=r){const v=t[y],b=t[y+1];h+=Math.sqrt((v-u)*(v-u)+(b-d)*(b-d)),f.push(h),u=v,d=b}const p=i*h,m=V$(f,p);m<0?(l=(p-f[-m-2])/(f[-m-1]-f[-m-2]),o=e+(-m-2)*r):o=e+m*r}a=a>1?a:2,s=s||new Array(a);for(let u=0;u<a;++u)s[u]=o===void 0?NaN:l===void 0?t[o+u]:qr(t[o+u],t[o+r+u],l);return s}function p_(t,e,n,r,i,s){if(n==e)return null;let a;if(i<t[e+r-1])return s?(a=t.slice(e,e+r),a[r-1]=i,a):null;if(t[n-1]<i)return s?(a=t.slice(n-r,n),a[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);let o=e/r,l=n/r;for(;o<l;){const h=o+l>>1;i<t[(h+1)*r-1]?l=h:o=h+1}const c=t[o*r-1];if(i==c)return t.slice((o-1)*r,(o-1)*r+r);const u=t[(o+1)*r-1],d=(i-c)/(u-c);a=[];for(let h=0;h<r-1;++h)a.push(qr(t[(o-1)*r+h],t[o*r+h],d));return a.push(i),a}function z3(t,e,n,r,i,s,a){if(a)return p_(t,e,n[n.length-1],r,i,s);let o;if(i<t[r-1])return s?(o=t.slice(0,r),o[r-1]=i,o):null;if(t[t.length-1]<i)return s?(o=t.slice(t.length-r),o[r-1]=i,o):null;for(let l=0,c=n.length;l<c;++l){const u=n[l];if(e!=u){if(i<t[e+r-1])return null;if(i<=t[u-1])return p_(t,e,u,r,i,!1);e=u}}return null}function U3(t,e,n,r,i){return!Xk(i,function(a){return!Io(t,e,n,r,a[0],a[1])})}function Io(t,e,n,r,i,s){let a=0,o=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const c=t[e],u=t[e+1];l<=s?u>s&&(c-o)*(s-l)-(i-o)*(u-l)>0&&a++:u<=s&&(c-o)*(s-l)-(i-o)*(u-l)<0&&a--,o=c,l=u}return a!==0}function j0(t,e,n,r,i,s){if(n.length===0||!Io(t,e,n[0],r,i,s))return!1;for(let a=1,o=n.length;a<o;++a)if(Io(t,n[a-1],n[a],r,i,s))return!1;return!0}function Y3(t,e,n,r,i,s){if(n.length===0)return!1;for(let a=0,o=n.length;a<o;++a){const l=n[a];if(j0(t,e,l,r,i,s))return!0;e=l[l.length-1]}return!1}function cm(t,e,n,r,i){const s=Kk(yi(),t,e,n,r);return hn(i,s)?Is(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:lI(t,e,n,r,function(a,o){return f3(i,a,o)}):!1}function H3(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){if(cm(t,e,n[s],r,i))return!0;e=n[s]}return!1}function uI(t,e,n,r,i){return!!(cm(t,e,n,r,i)||Io(t,e,n,r,i[0],i[1])||Io(t,e,n,r,i[0],i[3])||Io(t,e,n,r,i[2],i[1])||Io(t,e,n,r,i[2],i[3]))}function cI(t,e,n,r,i){if(!uI(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,a=n.length;s<a;++s)if(U3(t,n[s-1],n[s],r,i)&&!cm(t,n[s-1],n[s],r,i))return!1;return!0}function W3(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const o=n[s];if(cI(t,e,o,r,i))return!0;e=o[o.length-1]}return!1}function dI(t,e,n,r){let i=t[e],s=t[e+1],a=0;for(let o=e+r;o<n;o+=r){const l=t[o],c=t[o+1];a+=Math.sqrt((l-i)*(l-i)+(c-s)*(c-s)),i=l,s=c}return a}class Jo extends hl{constructor(e,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendCoordinate(e){rs(this.flatCoordinates,e),this.changed()}clone(){const e=new Jo(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<cl(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(N0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),B0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,n,r,i))}forEachSegment(e){return lI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,p_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n))}getCoordinates(){return wa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,n){return Qf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,this.stride)}getLength(){return dI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const n=[];return n.length=um(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Jo(n,"XY")}getType(){return"LineString"}intersectsExtent(e){return cm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=lm(this.flatCoordinates,0,e,this.stride),this.changed()}}class pd extends hl{constructor(e,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,e),this.ends_=r;else{const i=e,s=[],a=[];for(let l=0,c=i.length;l<c;++l){const u=i[l];rs(s,u.getFlatCoordinates()),a.push(s.length)}const o=i.length===0?this.getLayout():i[0].getLayout();this.setFlatCoordinates(o,s),this.ends_=a}}appendLineString(e){rs(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new pd(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<cl(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($0(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),V0(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,n,r,i))}getCoordinateAtM(e,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,z3(this.flatCoordinates,0,this.ends_,this.stride,e,n,r))}getCoordinates(){return hd(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Jo(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a],c=new Jo(e.slice(s,l),r);i.push(c),s=l}return i}getFlatMidpoints(){const e=[],n=this.flatCoordinates;let r=0;const i=this.ends_,s=this.stride;for(let a=0,o=i.length;a<o;++a){const l=i[a],c=Qf(n,r,l,s,.5);rs(e,c),r=l}return e}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=sI(this.flatCoordinates,0,this.ends_,this.stride,e,n,0,r),new pd(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return H3(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=qd(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}class js extends hl{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new js(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,a=Vo(e,n,s[0],s[1]);if(a<i){const o=this.stride;for(let l=0;l<o;++l)r[l]=s[l];return r.length=o,a}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Wk(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return I0(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=N3(this.flatCoordinates,0,e,this.stride),this.changed()}}class Kd extends hl{constructor(e,n){super(),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}appendPoint(e){rs(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new Kd(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){if(i<cl(this.getExtent(),e,n))return i;const s=this.flatCoordinates,a=this.stride;for(let o=0,l=s.length;o<l;o+=a){const c=Vo(e,n,s[o],s[o+1]);if(c<i){i=c;for(let u=0;u<a;++u)r[u]=s[o+u];r.length=a}}return i}getCoordinates(){return wa(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const n=this.flatCoordinates.length/this.stride;return e<0||n<=e?null:new js(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let s=0,a=e.length;s<a;s+=r){const o=new js(e.slice(s,s+r),n);i.push(o)}return i}getType(){return"MultiPoint"}intersectsExtent(e){const n=this.flatCoordinates,r=this.stride;for(let i=0,s=n.length;i<s;i+=r){const a=n[i],o=n[i+1];if(I0(e,a,o))return!0}return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=lm(this.flatCoordinates,0,e,this.stride),this.changed()}}function z0(t,e,n,r,i,s,a){let o,l,c,u,d,h,f;const p=i[s+1],m=[];for(let b=0,g=n.length;b<g;++b){const _=n[b];for(u=t[_-r],h=t[_-r+1],o=e;o<_;o+=r)d=t[o],f=t[o+1],(p<=h&&f<=p||h<=p&&p<=f)&&(c=(p-h)/(f-h)*(d-u)+u,m.push(c)),u=d,h=f}let y=NaN,v=-1/0;for(m.sort(ns),u=m[0],o=1,l=m.length;o<l;++o){d=m[o];const b=Math.abs(d-u);b>v&&(c=(u+d)/2,j0(t,e,n,r,c,p)&&(y=c,v=b)),u=d}return isNaN(y)&&(y=i[s]),a?(a.push(y,p,v),a):[y,p,v]}function hI(t,e,n,r,i){let s=[];for(let a=0,o=n.length;a<o;++a){const l=n[a];s=z0(t,e,l,r,i,2*a,s),e=l[l.length-1]}return s}function q3(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function U0(t,e,n,r){let i=0,s=t[n-r],a=t[n-r+1];for(;e<n;e+=r){const o=t[e],l=t[e+1];i+=(o-s)*(l+a),s=o,a=l}return i===0?void 0:i>0}function Y0(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,a=n.length;s<a;++s){const o=n[s],l=U0(t,e,o,r);if(s===0){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=o}return!0}function fI(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s){const o=n[s];if(!Y0(t,e,o,r,i))return!1;o.length&&(e=o[o.length-1])}return!0}function ep(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,a=n.length;s<a;++s){const o=n[s],l=U0(t,e,o,r);(s===0?i&&l||!i&&!l:i&&!l||!i&&l)&&q3(t,e,o,r),e=o}return e}function m_(t,e,n,r,i){for(let s=0,a=n.length;s<a;++s)e=ep(t,e,n[s],r,i);return e}function pI(t,e){const n=[];let r=0,i=0,s;for(let a=0,o=e.length;a<o;++a){const l=e[a],c=U0(t,r,l,2);if(s===void 0&&(s=c),c===s)n.push(e.slice(i,a+1));else{if(n.length===0)continue;n[n.length-1].push(e[i])}i=a+1,r=l}return n}class zs extends hl{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?rs(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new zs(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<cl(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($0(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),V0(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return j0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return oI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),ep(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,hd(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Ua(this.getExtent());this.flatInteriorPoint_=z0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new js(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new fd(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let a=0,o=r.length;a<o;++a){const l=r[a],c=new fd(n.slice(s,l),e);i.push(c),s=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Y0(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ep(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=G0(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new zs(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return cI(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=qd(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function RE(t){if(dl(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new zs(s,"XY",[s.length])}function mI(t,e,n,r){const i=[];let s=yi();for(let a=0,o=n.length;a<o;++a){const l=n[a];s=A0(t,e,l[0],r),i.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=l[l.length-1]}return i}class md extends hl{constructor(e,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){const i=e,s=[],a=[];for(let o=0,l=i.length;o<l;++o){const c=i[o],u=s.length,d=c.getEnds();for(let h=0,f=d.length;h<f;++h)d[h]+=u;rs(s,c.getFlatCoordinates()),a.push(d)}n=i.length===0?this.getLayout():i[0].getLayout(),e=s,r=a}n!==void 0&&r?(this.setFlatCoordinates(n,e),this.endss_=r):this.setCoordinates(e,n)}appendPolygon(e){let n;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),n=e.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;rs(this.flatCoordinates,e.getFlatCoordinates()),n=e.getEnds().slice();for(let i=0,s=n.length;i<s;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const e=this.endss_.length,n=new Array(e);for(let i=0;i<e;++i)n[i]=this.endss_[i].slice();const r=new md(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(e,n,r,i){return i<cl(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($3(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),B3(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return Y3(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,n)}getArea(){return j3(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),m_(n,0,this.endss_,this.stride,e)):n=this.flatCoordinates,f_(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=mI(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=hI(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Kd(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;fI(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=m_(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=G3(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),n,0,r),new md(n,"XY",r)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let n;if(e===0)n=0;else{const s=this.endss_[e-1];n=s[s.length-1]}const r=this.endss_[e].slice(),i=r[r.length-1];if(n!==0)for(let s=0,a=r.length;s<a;++s)r[s]-=n;return new zs(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const e=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let s=0;for(let a=0,o=r.length;a<o;++a){const l=r[a].slice(),c=l[l.length-1];if(s!==0)for(let d=0,h=l.length;d<h;++d)l[d]-=s;const u=new zs(n.slice(s,c),e,l);i.push(u),s=c}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return W3(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=iI(this.flatCoordinates,0,e,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}}const kE=ei();class Zn{constructor(e,n,r,i,s,a){this.styleFunction,this.extent_,this.id_=a,this.type_=e,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r||null,this.properties_=s,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?Wk(this.flatCoordinates_):A0(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Ua(this.getExtent());this.flatInteriorPoints_=z0(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=pI(this.flatCoordinates_,this.ends_),n=mI(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=hI(this.flatCoordinates_,0,e,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Qf(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let n=0;const r=this.ends_;for(let i=0,s=r.length;i<s;++i){const a=r[i],o=Qf(e,n,a,2,.5);rs(this.flatMidpoints_,o),n=a}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=tn(e);const n=e.getExtent(),r=e.getWorldExtent();if(n&&r){const i=jn(r)/jn(n);Fi(kE,r[0],r[3],i,-i,0,0,0),Da(this.flatCoordinates_,0,this.flatCoordinates_.length,2,kE,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Zn(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=$k((e,n)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const r=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":r.length=um(r,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,r,0),i=[r.length];break;case"MultiLineString":i=[],r.length=sI(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,r,0,i);break;case"Polygon":i=[],r.length=G0(r,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),r,0,i);break}return i&&(this.simplifiedGeometry_=new Zn(this.type_,r,i,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Zn.prototype.getFlatCoordinates=Zn.prototype.getOrientedFlatCoordinates;class K3{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Lu,this.supportedMediaTypes=null}getReadOptions(e,n){if(n){let r=n.dataProjection?tn(n.dataProjection):this.readProjection(e);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=tn(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return We()}readFeature(e,n){return We()}readFeatures(e,n){return We()}readGeometry(e,n){return We()}readProjection(e){return We()}writeFeature(e,n){return We()}writeFeatures(e,n){return We()}writeGeometry(e,n){return We()}}const gI=K3;function dm(t,e,n){const r=n?tn(n.featureProjection):null,i=n?tn(n.dataProjection):null;let s=t;if(r&&i&&!va(r,i)){e&&(s=t.clone());const a=e?r:i,o=e?i:r;a.getUnits()==="tile-pixels"?s.transform(a,o):s.applyTransform(dd(a,o))}if(e&&n&&n.decimals!==void 0){const a=Math.pow(10,n.decimals),o=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*a)/a;return l};s===t&&(s=t.clone()),s.applyTransform(o)}return s}const X3={Point:js,LineString:Jo,Polygon:zs,MultiPoint:Kd,MultiLineString:pd,MultiPolygon:md};function Z3(t,e,n){return Array.isArray(e[0])?(fI(t,0,e,n)||(t=t.slice(),m_(t,0,e,n)),t):(Y0(t,0,e,n)||(t=t.slice(),ep(t,0,e,n)),t)}function yI(t,e){const n=t.geometry;if(!n)return[];if(Array.isArray(n))return n.map(s=>yI({...t,geometry:s})).flat();const r=n.type==="MultiPolygon"?"Polygon":n.type;if(r==="GeometryCollection"||r==="Circle")throw new Error("Unsupported geometry type: "+r);const i=n.layout.length;return dm(new Zn(r,r==="Polygon"?Z3(n.flatCoordinates,n.ends,i):n.flatCoordinates,n.ends?.flat(),i,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function H0(t,e){if(!t)return null;if(Array.isArray(t)){const r=t.map(i=>H0(i,e));return new Jf(r)}const n=X3[t.type];return dm(new n(t.flatCoordinates,t.layout,t.ends),!1,e)}class J3 extends gI{constructor(){super()}getType(){return"json"}readFeature(e,n){return this.readFeatureFromObject(Lh(e),this.getReadOptions(e,n))}readFeatures(e,n){return this.readFeaturesFromObject(Lh(e),this.getReadOptions(e,n))}readFeatureFromObject(e,n){return We()}readFeaturesFromObject(e,n){return We()}readGeometry(e,n){return this.readGeometryFromObject(Lh(e),this.getReadOptions(e,n))}readGeometryFromObject(e,n){return We()}readProjection(e){return this.readProjectionFromObject(Lh(e))}readProjectionFromObject(e){return We()}writeFeature(e,n){return JSON.stringify(this.writeFeatureObject(e,n))}writeFeatureObject(e,n){return We()}writeFeatures(e,n){return JSON.stringify(this.writeFeaturesObject(e,n))}writeFeaturesObject(e,n){return We()}writeGeometry(e,n){return JSON.stringify(this.writeGeometryObject(e,n))}writeGeometryObject(e,n){return We()}}function Lh(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}class W0 extends J3{constructor(e){e=e||{},super(),this.dataProjection=tn(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=tn(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,n){let r=null;e.type==="Feature"?r=e:r={type:"Feature",geometry:e,properties:null};const i=q0(r.geometry);if(this.featureClass===Zn)return yI({geometry:i,id:r.id,properties:r.properties},n);const s=new Lu;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&r.geometry_name&&s.setGeometryName(r.geometry_name),s.setGeometry(H0(i,n)),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(e,n){const r=e;let i=null;if(r.type==="FeatureCollection"){const s=e;i=[];const a=s.features;for(let o=0,l=a.length;o<l;++o){const c=this.readFeatureFromObject(a[o],n);c&&i.push(c)}}else i=[this.readFeatureFromObject(e,n)];return i.flat()}readGeometryFromObject(e,n){return Q3(e,n)}readProjectionFromObject(e){const n=e.crs;let r;if(n)if(n.type=="name")r=tn(n.properties.name);else if(n.type==="EPSG")r=tn("EPSG:"+n.properties.code);else throw new Error("Unknown SRS type");else r=this.dataProjection;return r}writeFeatureObject(e,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=e.getId();if(i!==void 0&&(r.id=i),!e.hasProperties())return r;const s=e.getProperties(),a=e.getGeometry();return a&&(r.geometry=g_(a,n),delete s[e.getGeometryName()]),za(s)||(r.properties=s),r}writeFeaturesObject(e,n){n=this.adaptOptions(n);const r=[];for(let i=0,s=e.length;i<s;++i)r.push(this.writeFeatureObject(e[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,n){return g_(e,this.adaptOptions(n))}}function q0(t,e){if(!t)return null;let n;switch(t.type){case"Point":{n=t5(t);break}case"LineString":{n=n5(t);break}case"Polygon":{n=a5(t);break}case"MultiPoint":{n=i5(t);break}case"MultiLineString":{n=r5(t);break}case"MultiPolygon":{n=s5(t);break}case"GeometryCollection":{n=e5(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return n}function Q3(t,e){const n=q0(t);return H0(n,e)}function e5(t,e){return t.geometries.map(function(r){return q0(r)})}function t5(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:fl(e.length)}}function n5(t){const e=t.coordinates,n=e.flat();return{type:"LineString",flatCoordinates:n,ends:[n.length],layout:fl(e[0]?.length||2)}}function r5(t){const e=t.coordinates,n=e[0]?.[0]?.length||2,r=[],i=qd(r,0,e,n);return{type:"MultiLineString",flatCoordinates:r,ends:i,layout:fl(n)}}function i5(t){const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:fl(e[0]?.length||2)}}function s5(t){const e=t.coordinates,n=[],r=e[0]?.[0]?.[0].length||2,i=iI(n,0,e,r);return{type:"MultiPolygon",flatCoordinates:n,ends:i,layout:fl(r)}}function a5(t){const e=t.coordinates,n=[],r=e[0]?.[0]?.length,i=qd(n,0,e,r);return{type:"Polygon",flatCoordinates:n,ends:i,layout:fl(r)}}function g_(t,e){t=dm(t,!0,e);const n=t.getType();let r;switch(n){case"Point":{r=h5(t);break}case"LineString":{r=l5(t);break}case"Polygon":{r=f5(t,e);break}case"MultiPoint":{r=c5(t);break}case"MultiLineString":{r=u5(t);break}case"MultiPolygon":{r=d5(t,e);break}case"GeometryCollection":{r=o5(t,e);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function o5(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(r){return g_(r,e)})}}function l5(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function u5(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function c5(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function d5(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function h5(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function f5(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}class Ai{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Ai({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=S0(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Be.IDLE&&n.load(),n.getImageState()===Be.LOADING&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class Ea{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Ea({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class hm{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=IE,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new hm({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=IE,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function p5(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(yt(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let Rg=null;function _I(t,e){if(!Rg){const n=new Ai({color:"rgba(255,255,255,0.4)"}),r=new Ea({color:"#3399CC",width:1.25});Rg=[new hm({image:new ul({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Rg}function IE(t){return t.getGeometry()}const di=hm,Mt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class vI extends Bi{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[Mt.OPACITY]=e.opacity!==void 0?e.opacity:1,yt(typeof n[Mt.OPACITY]=="number","Layer opacity must be a number"),n[Mt.VISIBLE]=e.visible!==void 0?e.visible:!0,n[Mt.Z_INDEX]=e.zIndex,n[Mt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[Mt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[Mt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[Mt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=fn(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return We()}getLayerStatesArray(e){return We()}getExtent(){return this.get(Mt.EXTENT)}getMaxResolution(){return this.get(Mt.MAX_RESOLUTION)}getMinResolution(){return this.get(Mt.MIN_RESOLUTION)}getMinZoom(){return this.get(Mt.MIN_ZOOM)}getMaxZoom(){return this.get(Mt.MAX_ZOOM)}getOpacity(){return this.get(Mt.OPACITY)}getSourceState(){return We()}getVisible(){return this.get(Mt.VISIBLE)}getZIndex(){return this.get(Mt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Mt.EXTENT,e)}setMaxResolution(e){this.set(Mt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Mt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Mt.MAX_ZOOM,e)}setMinZoom(e){this.set(Mt.MIN_ZOOM,e)}setOpacity(e){yt(typeof e=="number","Layer opacity must be a number"),this.set(Mt.OPACITY,e)}setVisible(e){this.set(Mt.VISIBLE,e)}setZIndex(e){this.set(Mt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const pi={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Gt={ANIMATING:0,INTERACTING:1},xi={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},bI=42,K0=256;function AE(t,e,n){return function(r,i,s,a,o){if(!r)return;if(!i&&!e)return r;const l=e?0:s[0]*i,c=e?0:s[1]*i,u=o?o[0]:0,d=o?o[1]:0;let h=t[0]+l/2+u,f=t[2]-l/2+u,p=t[1]+c/2+d,m=t[3]-c/2+d;h>f&&(h=(f+h)/2,f=h),p>m&&(p=(m+p)/2,m=p);let y=fn(r[0],h,f),v=fn(r[1],p,m);if(a&&n&&i){const b=30*i;y+=-b*Math.log(1+Math.max(0,h-r[0])/b)+b*Math.log(1+Math.max(0,r[0]-f)/b),v+=-b*Math.log(1+Math.max(0,p-r[1])/b)+b*Math.log(1+Math.max(0,r[1]-m)/b)}return[y,v]}}function m5(t){return t}function X0(t,e,n,r){const i=vt(e)/n[0],s=jn(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function Z0(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),fn(r,n/2,e*2)}function g5(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,a,o){if(i!==void 0){const l=t[0],c=t[t.length-1],u=n?X0(l,n,a,r):l;if(o)return e?Z0(i,u,c):fn(i,c,u);const d=Math.min(u,i),h=Math.floor(C0(t,d,s));return t[h]>u&&h<t.length-1?t[h+1]:t[h]}}}function y5(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(a,o,l,c){if(a!==void 0){const u=i?X0(e,i,l,s):e;if(c)return r?Z0(a,u,n):fn(a,n,u);const d=1e-9,h=Math.ceil(Math.log(e/u)/Math.log(t)-d),f=-o*(.5-d)+.5,p=Math.min(u,a),m=Math.floor(Math.log(e/p)/Math.log(t)+f),y=Math.max(h,m),v=e/Math.pow(t,y);return fn(v,n,u)}}}function ME(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,a,o,l){if(s!==void 0){const c=r?X0(t,r,o,i):t;return!n||!l?fn(s,e,c):Z0(s,c,e)}}}function J0(t){if(t!==void 0)return 0}function PE(t){if(t!==void 0)return t}function _5(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function v5(t){const e=df(5);return function(n,r){return r||n===void 0?n:Math.abs(n)<=e?0:n}}function wI(t){return Math.pow(t,3)}function pl(t){return 1-wI(1-t)}function b5(t){return 3*t*t-2*t*t*t}function w5(t){return t}const kg=0;class Hi extends Bi{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=L0(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&eI(),e.center&&(e.center=ws(e.center,this.projection_)),e.extent&&(e.extent=As(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const o in xi)delete n[o];this.setProperties(n,!0);const r=T5(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=E5(e),s=r.constraint,a=x5(e);this.constraints_={center:i,resolution:s,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),a=s/2*(i[3]-n[3]+n[1]-i[1]),o=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+a,r[1]-o])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=ws(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=ws(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const u=arguments[i];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(i===n){r&&Fh(r,!0);return}let s=Date.now(),a=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const c=[];for(;i<n;++i){const u=arguments[i],d={start:s,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||b5,callback:r};if(u.center&&(d.sourceCenter=a,d.targetCenter=u.center.slice(),a=d.targetCenter),u.zoom!==void 0?(d.sourceResolution=o,d.targetResolution=this.getResolutionForZoom(u.zoom),o=d.targetResolution):u.resolution&&(d.sourceResolution=o,d.targetResolution=u.resolution,o=d.targetResolution),u.rotation!==void 0){d.sourceRotation=l;const h=nu(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+h,l=d.targetRotation}C5(d)?d.complete=!0:s+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(Gt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Gt.ANIMATING]>0}getInteracting(){return this.hints_[Gt.INTERACTING]>0}cancelAnimations(){this.setHint(Gt.ANIMATING,-this.hints_[Gt.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&Fh(i[0].callback,!1),!e)for(let s=0,a=i.length;s<a;++s){const o=i[s];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let a=0,o=i.length;a<o;++a){const l=i[a];if(l.complete)continue;const c=e-l.start;let u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):s=!1;const d=l.easing(u);if(l.sourceCenter){const h=l.sourceCenter[0],f=l.sourceCenter[1],p=l.targetCenter[0],m=l.targetCenter[1];this.nextCenter_=l.targetCenter;const y=h+d*(p-h),v=f+d*(m-f);this.targetCenter_=[y,v]}if(l.sourceResolution&&l.targetResolution){const h=d===1?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),p=this.constraints_.resolution(h,0,f,!0);this.targetCenter_=this.calculateCenterZoom(p,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const h=d===1?nu(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[r]=null,this.setHint(Gt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=i[0].callback;a&&Fh(a,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],P0(r,e-this.getRotation()),x3(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const a=n[0]-e*(n[0]-i[0])/s,o=n[1]-e*(n[1]-i[1])/s;r=[a,o]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&h_(e,this.getProjection())}getCenterInternal(){return this.get(xi.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return F0(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();yt(n,"The view center is not defined");const r=this.getResolution();yt(r!==void 0,"The view resolution is not defined");const i=this.getRotation();return yt(i!==void 0,"The view rotation is not defined"),o_(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(xi.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(As(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=vt(e)/n[0],i=jn(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(xi.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(a){return Math.log(r/a)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const a=this.getViewportSizeMinusPadding_();i=Ig(i,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=C0(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=fn(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,fn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(yt(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){yt(!dl(e),"Cannot fit empty extent provided as `geometry`");const i=As(e,this.getProjection());r=RE(i)}else if(e.getType()==="Circle"){const i=As(e.getExtent(),this.getProjection());r=RE(i),r.rotate(this.getRotation(),Ua(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),a=e.getStride();let o=1/0,l=1/0,c=-1/0,u=-1/0;for(let d=0,h=s.length;d<h;d+=a){const f=s[d]*r-s[d+1]*i,p=s[d]*i+s[d+1]*r;o=Math.min(o,f),l=Math.min(l,p),c=Math.max(c,f),u=Math.max(u,p)}return[o,l,c,u]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let a;n.minResolution!==void 0?a=n.minResolution:n.maxZoom!==void 0?a=this.getResolutionForZoom(n.maxZoom):a=0;const o=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(o,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?a:Math.max(l,a),l=this.getConstrainedResolution(l,s?0:1);const c=this.getRotation(),u=Math.sin(c),d=Math.cos(c),h=Ua(o);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;const f=h[0]*d-h[1]*u,p=h[1]*d+h[0]*u,m=this.getConstrainedCenter([f,p],l),y=n.callback?n.callback:vu;n.duration!==void 0?this.animateInternal({resolution:l,center:m,duration:n.duration,easing:n.easing},y):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),Fh(y,!0))}centerOn(e,n,r){this.centerOnInternal(ws(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(Ig(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const a=this.padding_;if(a&&e){const o=this.getViewportSizeMinusPadding_(-r),l=Ig(e,i,[o[0]/2+a[3],o[1]/2+a[0]],n,r);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=h_(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&ws(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=ws(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&ws(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),a=this.constraints_.resolution(this.targetResolution_,0,s,r),o=this.constraints_.center(this.targetCenter_,a,s,r,this.calculateCenterShift(this.targetCenter_,a,i,s));this.get(xi.ROTATION)!==i&&this.set(xi.ROTATION,i),this.get(xi.RESOLUTION)!==a&&(this.set(xi.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(xi.CENTER)||!Xf(this.get(xi.CENTER),o))&&this.set(xi.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,i,a),l=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,s,a));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==s||!this.getCenterInternal()||!Xf(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:o,duration:e,easing:pl,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Gt.INTERACTING,1)}endInteraction(e,n,r){r=r&&ws(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(Gt.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function Fh(t,e){setTimeout(function(){t(e)},0)}function E5(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return AE(t.extent,t.constrainOnlyCenter,n)}const e=L0(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,AE(n,!1,!1)}return m5}function T5(t){let e,n,r,a=t.minZoom!==void 0?t.minZoom:kg,o=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,c=t.multiWorld!==void 0?t.multiWorld:!1,u=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,d=t.showFullExtent!==void 0?t.showFullExtent:!1,h=L0(t.projection,"EPSG:3857"),f=h.getExtent();let p=t.constrainOnlyCenter,m=t.extent;if(!c&&!m&&h.isGlobal()&&(p=!1,m=f),t.resolutions!==void 0){const y=t.resolutions;n=y[a],r=y[o]!==void 0?y[o]:y[y.length-1],t.constrainResolution?e=g5(y,u,!p&&m,d):e=ME(n,r,u,!p&&m,d)}else{const v=(f?Math.max(vt(f),jn(f)):360*xu.degrees/h.getMetersPerUnit())/K0/Math.pow(2,kg),b=v/Math.pow(2,28-kg);n=t.maxResolution,n!==void 0?a=0:n=v/Math.pow(l,a),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(l,o):r=v/Math.pow(l,o):r=b),o=a+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,o-a),t.constrainResolution?e=y5(l,n,r,u,!p&&m,d):e=ME(n,r,u,!p&&m,d)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:l}}function x5(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?v5():n===!1?PE:typeof n=="number"?_5(n):PE}return J0}function C5(t){return!(t.sourceCenter&&t.targetCenter&&!Xf(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Ig(t,e,n,r,i){const s=Math.cos(-i);let a=Math.sin(-i),o=t[0]*s-t[1]*a,l=t[1]*s+t[0]*a;o+=(e[0]/2-n[0])*r,l+=(n[1]-e[1]/2)*r,a=-a;const c=o*s-l*a,u=l*s+o*a;return[c,u]}class fm extends vI{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Mt.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Mt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&($t(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=ht(e,Ue.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const r=this.getMapInternal();!e&&r&&(e=r.getView()),e instanceof Hi?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&r&&(n.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let i;n.layerStatesArray?i=n.layerStatesArray.find(a=>a.layer===this):i=this.getLayerState();const s=this.getExtent();return Q0(i,n.viewState)&&(!s||hn(s,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=e instanceof Hi?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Mt.MAP,e)}getMapInternal(){return this.get(Mt.MAP)}setMap(e){this.mapPrecomposeKey_&&($t(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&($t(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ht(e,pi.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);yt(!i.some(function(a){return a.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),i.push(s)},this),this.mapRenderKey_=ht(this,Ue.CHANGE,e.render,e),this.changed())}setSource(e){this.set(Mt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Q0(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}function S5(t,e,n,r,i){EI(t,e,n||0,r||t.length-1,i||R5)}function EI(t,e,n,r,i){for(;r>n;){if(r-n>600){var s=r-n+1,a=e-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1),u=Math.max(n,Math.floor(e-a*l/s+c)),d=Math.min(r,Math.floor(e+(s-a)*l/s+c));EI(t,e,u,d,i)}var h=t[e],f=n,p=r;for(uc(t,n,e),i(t[r],h)>0&&uc(t,n,r);f<p;){for(uc(t,f,p),f++,p--;i(t[f],h)<0;)f++;for(;i(t[p],h)>0;)p--}i(t[n],h)===0?uc(t,n,p):(p++,uc(t,p,r)),p<=e&&(n=p+1),e<=p&&(r=p-1)}}function uc(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function R5(t,e){return t<e?-1:t>e?1:0}let e1=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const r=[];if(!$h(e,n))return r;const i=this.toBBox,s=[];for(;n;){for(let a=0;a<n.children.length;a++){const o=n.children[a],l=n.leaf?i(o):o;$h(e,l)&&(n.leaf?r.push(o):Mg(e,l)?this._all(o,r):s.push(o))}n=s.pop()}return r}collides(e){let n=this.data;if(!$h(e,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const s=n.children[i],a=n.leaf?this.toBBox(s):s;if($h(e,a)){if(n.leaf||Mg(e,a))return!0;r.push(s)}}n=r.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let r=0;r<e.length;r++)this.insert(e[r]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Bl([]),this}remove(e,n){if(!e)return this;let r=this.data;const i=this.toBBox(e),s=[],a=[];let o,l,c;for(;r||s.length;){if(r||(r=s.pop(),l=s[s.length-1],o=a.pop(),c=!0),r.leaf){const u=k5(e,r.children,n);if(u!==-1)return r.children.splice(u,1),s.push(r),this._condense(s),this}!c&&!r.leaf&&Mg(r,i)?(s.push(r),a.push(o),o=0,l=r,r=r.children[0]):l?(o++,r=l.children[o],c=!1):r=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const r=[];for(;e;)e.leaf?n.push(...e.children):r.push(...e.children),e=r.pop();return n}_build(e,n,r,i){const s=r-n+1;let a=this._maxEntries,o;if(s<=a)return o=Bl(e.slice(n,r+1)),Sl(o,this.toBBox),o;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),o=Bl([]),o.leaf=!1,o.height=i;const l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));DE(e,n,r,c,this.compareMinX);for(let u=n;u<=r;u+=c){const d=Math.min(u+c-1,r);DE(e,u,d,l,this.compareMinY);for(let h=u;h<=d;h+=l){const f=Math.min(h+l-1,d);o.children.push(this._build(e,h,f,i-1))}}return Sl(o,this.toBBox),o}_chooseSubtree(e,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let s=1/0,a=1/0,o;for(let l=0;l<n.children.length;l++){const c=n.children[l],u=Ag(c),d=M5(e,c)-u;d<a?(a=d,s=u<s?u:s,o=c):d===a&&u<s&&(s=u,o=c)}n=o||n.children[0]}return n}_insert(e,n,r){const i=r?e:this.toBBox(e),s=[],a=this._chooseSubtree(i,this.data,n,s);for(a.children.push(e),Cc(a,i);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(i,s,n)}_split(e,n){const r=e[n],i=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,i);const a=this._chooseSplitIndex(r,s,i),o=Bl(r.children.splice(a,r.children.length-a));o.height=r.height,o.leaf=r.leaf,Sl(r,this.toBBox),Sl(o,this.toBBox),n?e[n-1].children.push(o):this._splitRoot(r,o)}_splitRoot(e,n){this.data=Bl([e,n]),this.data.height=e.height+1,this.data.leaf=!1,Sl(this.data,this.toBBox)}_chooseSplitIndex(e,n,r){let i,s=1/0,a=1/0;for(let o=n;o<=r-n;o++){const l=xc(e,0,o,this.toBBox),c=xc(e,o,r,this.toBBox),u=P5(l,c),d=Ag(l)+Ag(c);u<s?(s=u,i=o,a=d<a?d:a):u===s&&d<a&&(a=d,i=o)}return i||r-n}_chooseSplitAxis(e,n,r){const i=e.leaf?this.compareMinX:I5,s=e.leaf?this.compareMinY:A5,a=this._allDistMargin(e,n,r,i),o=this._allDistMargin(e,n,r,s);a<o&&e.children.sort(i)}_allDistMargin(e,n,r,i){e.children.sort(i);const s=this.toBBox,a=xc(e,0,n,s),o=xc(e,r-n,r,s);let l=Nh(a)+Nh(o);for(let c=n;c<r-n;c++){const u=e.children[c];Cc(a,e.leaf?s(u):u),l+=Nh(a)}for(let c=r-n-1;c>=n;c--){const u=e.children[c];Cc(o,e.leaf?s(u):u),l+=Nh(o)}return l}_adjustParentBBoxes(e,n,r){for(let i=r;i>=0;i--)Cc(n[i],e)}_condense(e){for(let n=e.length-1,r;n>=0;n--)e[n].children.length===0?n>0?(r=e[n-1].children,r.splice(r.indexOf(e[n]),1)):this.clear():Sl(e[n],this.toBBox)}};function k5(t,e,n){if(!n)return e.indexOf(t);for(let r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function Sl(t,e){xc(t,0,t.children.length,e,t)}function xc(t,e,n,r,i){i||(i=Bl(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s=e;s<n;s++){const a=t.children[s];Cc(i,t.leaf?r(a):a)}return i}function Cc(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function I5(t,e){return t.minX-e.minX}function A5(t,e){return t.minY-e.minY}function Ag(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Nh(t){return t.maxX-t.minX+(t.maxY-t.minY)}function M5(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function P5(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}function Mg(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function $h(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Bl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function DE(t,e,n,r,i){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=r)continue;const a=e+Math.ceil((n-e)/r/2)*r;S5(t,a,e,n,i),s.push(e,a,a,n)}}function OE(t,e,n,r){return n!==void 0&&r!==void 0?[n/t,r/e]:n!==void 0?n/t:r!==void 0?r/e:1}class Xd extends em{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,r=e.rotation!==void 0?e.rotation:0,i=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const a=e.img!==void 0?e.img:null;let o=e.src;yt(!(o!==void 0&&a),"`image` and `src` cannot be provided at the same time"),(o===void 0||o.length===0)&&a&&(o=a.src||tt(a)),yt(o!==void 0&&o.length>0,"A defined and non-empty `src` or `image` must be provided"),yt(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=Be.IDLE:a!==void 0&&("complete"in a?a.complete?l=a.src?Be.LOADED:Be.IDLE:l=Be.LOADING:l=Be.LOADED),this.color_=e.color!==void 0?sd(e.color):null,this.iconImage_=S0(a,o,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,e.width!==void 0||e.height!==void 0){let c,u;if(e.size)[c,u]=e.size;else{const d=this.getImage(1);if(d.width&&d.height)c=d.width,u=d.height;else if(d instanceof HTMLImageElement){this.initialOptions_=e;const h=()=>{if(this.unlistenImageChange(h),!this.initialOptions_)return;const f=this.iconImage_.getSize();this.setScale(OE(f[0],f[1],e.width,e.height))};this.listenImageChange(h);return}}c!==void 0&&this.setScale(OE(c,u,e.width,e.height))}}clone(){let e,n,r;return this.initialOptions_?(n=this.initialOptions_.width,r=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Xd({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:r,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=i[0]),this.anchorYUnits_=="fraction"&&(e[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+i[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=r[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Be.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Be.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ue.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ue.CHANGE,e)}ready(){return this.iconImage_.ready()}}const D5="#333";class pm{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Cr(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Ai({color:D5}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new pm({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=Cr(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let ml=0;const Nu=0,ln=1<<ml++,Ne=1<<ml++,Kr=1<<ml++,Gn=1<<ml++,is=1<<ml++,Oc=1<<ml++,or=Math.pow(2,ml)-1,TI={[ln]:"boolean",[Ne]:"number",[Kr]:"string",[Gn]:"color",[is]:"number[]",[Oc]:"size"},O5=Object.keys(TI).map(Number).sort(ns);function mr(t){const e=[];for(const n of O5)L5(t,n)&&e.push(TI[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function L5(t,e){return(t&e)===e}function ss(t,e){return!!(t&e)}function mm(t,e){return t===e}class Ta{constructor(e,n){this.type=e,this.value=n}}class F5{constructor(e,n,...r){this.type=e,this.operator=n,this.args=r}}function xI(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function N5(t){switch(t){case"string":return Kr;case"color":return Gn;case"number":return Ne;case"boolean":return ln;case"number[]":return is;default:throw new Error(`Unrecognized type hint: ${t}`)}}function St(t,e,n){switch(typeof t){case"boolean":return new Ta(ln,t);case"number":return new Ta(n===Oc?Oc:Ne,t);case"string":{let i=Kr;return P$(t)&&(i|=Gn),mm(i&n,Nu)||(i&=n),new Ta(i,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(t.length===0)throw new Error("Empty expression");if(typeof t[0]=="string")return K5(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("Expected an array of numbers");let r=is;return t.length===2?r|=Oc:(t.length===3||t.length===4)&&(r|=Gn),n&&(r&=n),new Ta(r,t)}const de={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},$5={[de.Get]:Ze(([t,e])=>e!==void 0?N5(e.value):or,at(1,2),B5),[de.Var]:Ze(([t])=>t.type,at(1,1),V5),[de.Id]:Ze(Ne|Kr,cc,G5),[de.Concat]:Ze(Kr,at(2,1/0),_t(or)),[de.GeometryType]:Ze(Kr,cc,j5),[de.Resolution]:Ze(Ne,cc),[de.Zoom]:Ze(Ne,cc),[de.Time]:Ze(Ne,cc),[de.Any]:Ze(ln,at(2,1/0),_t(ln)),[de.All]:Ze(ln,at(2,1/0),_t(ln)),[de.Not]:Ze(ln,at(1,1),_t(ln)),[de.Equal]:Ze(ln,at(2,2),_t(or),ra),[de.NotEqual]:Ze(ln,at(2,2),_t(or),ra),[de.GreaterThan]:Ze(ln,at(2,2),_t(or),ra),[de.GreaterThanOrEqualTo]:Ze(ln,at(2,2),_t(or),ra),[de.LessThan]:Ze(ln,at(2,2),_t(or),ra),[de.LessThanOrEqualTo]:Ze(ln,at(2,2),_t(or),ra),[de.Multiply]:Ze(t=>{let e=Ne|Gn;for(let n=0;n<t.length;n++)e&=t[n].type;return e},at(2,1/0),_t(Ne|Gn),ra),[de.Coalesce]:Ze(t=>{let e=or;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},at(2,1/0),_t(or),ra),[de.Divide]:Ze(Ne,at(2,2),_t(Ne)),[de.Add]:Ze(Ne,at(2,1/0),_t(Ne)),[de.Subtract]:Ze(Ne,at(2,2),_t(Ne)),[de.Clamp]:Ze(Ne,at(3,3),_t(Ne)),[de.Mod]:Ze(Ne,at(2,2),_t(Ne)),[de.Pow]:Ze(Ne,at(2,2),_t(Ne)),[de.Abs]:Ze(Ne,at(1,1),_t(Ne)),[de.Floor]:Ze(Ne,at(1,1),_t(Ne)),[de.Ceil]:Ze(Ne,at(1,1),_t(Ne)),[de.Round]:Ze(Ne,at(1,1),_t(Ne)),[de.Sin]:Ze(Ne,at(1,1),_t(Ne)),[de.Cos]:Ze(Ne,at(1,1),_t(Ne)),[de.Atan]:Ze(Ne,at(1,2),_t(Ne)),[de.Sqrt]:Ze(Ne,at(1,1),_t(Ne)),[de.Match]:Ze(t=>{let e=or;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},at(4,1/0),LE,U5),[de.Between]:Ze(ln,at(3,3),_t(Ne)),[de.Interpolate]:Ze(t=>{let e=Gn|Ne;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e},at(6,1/0),LE,Y5),[de.Case]:Ze(t=>{let e=or;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},at(3,1/0),z5,H5),[de.In]:Ze(ln,at(2,2),W5),[de.Number]:Ze(Ne,at(1,1/0),_t(or)),[de.String]:Ze(Kr,at(1,1/0),_t(or)),[de.Array]:Ze(t=>t.length===2?is|Oc:t.length===3||t.length===4?is|Gn:is,at(1,1/0),_t(Ne)),[de.Color]:Ze(Gn,at(1,4),_t(Ne)),[de.Band]:Ze(Ne,at(1,3),_t(Ne)),[de.Palette]:Ze(Gn,at(2,2),q5),[de.ToString]:Ze(Kr,at(1,1),_t(ln|Ne|Kr|Gn))};function B5(t,e){const n=St(t[1],e);if(!(n instanceof Ta))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),t.length===3){const r=St(t[2],e);return[n,r]}return[n]}function V5(t,e,n,r){const i=t[1];if(typeof i!="string")throw new Error("Expected a string argument for var operation");if(e.variables.add(i),!("variables"in e.style)||e.style.variables[i]===void 0)return[new Ta(or,i)];const s=e.style.variables[i],a=St(s,e);if(a.value=i,r&&!ss(r,a.type))throw new Error(`The variable ${i} has type ${mr(a.type)} but the following type was expected: ${mr(r)}`);return[a]}function G5(t,e){e.featureId=!0}function j5(t,e){e.geometryType=!0}function cc(t,e){const n=t[0];if(t.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function at(t,e){return function(n,r){const i=n[0],s=n.length-1;if(t===e){if(s!==t){const a=t===1?"":"s";throw new Error(`Expected ${t} argument${a} for ${i}, got ${s}`)}}else if(s<t||s>e){const a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`Expected ${a} arguments for ${i}, got ${s}`)}}}function _t(t){return function(e,n){const r=e[0],i=e.length-1,s=new Array(i);for(let a=0;a<i;++a){const o=St(e[a+1],n);if(!ss(t,o.type)){const l=mr(t),c=mr(o.type);throw new Error(`Unexpected type for argument ${a} of ${r} operation, got ${l} but expected ${c}`)}o.type&=t,s[a]=o}return s}}function ra(t,e,n){const r=t[0],i=t.length-1;let s=or;for(let o=0;o<n.length;++o)s&=n[o].type;if(s===Nu)throw new Error(`No common type could be found for arguments of ${r} operation`);const a=new Array(i);for(let o=0;o<i;++o)a[o]=St(t[o+1],e,s);return a}function z5(t,e){const n=t[0],r=t.length-1;if(r%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function LE(t,e){const n=t[0],r=t.length-1;if(r%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function U5(t,e,n,r){const i=t.length-1;let a=St(t[1],e).type;const o=St(t[t.length-1],e);let l=r!==void 0?r&o.type:o.type;const c=new Array(i-2);for(let d=0;d<i-2;d+=2){const h=St(t[d+2],e),f=St(t[d+3],e);a&=h.type,l&=f.type,c[d]=h,c[d+1]=f}const u=Kr|Ne|ln;if(!ss(u,a))throw new Error(`Expected an input of type ${mr(u)} for the interpolate operation, got ${mr(a)} instead`);if(a&=u,mm(l,Nu))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let d=0;d<i-2;d+=2){const h=St(t[d+2],e,a),f=St(t[d+3],e,l);c[d]=h,c[d+1]=f}return[St(t[1],e,a),...c,St(t[t.length-1],e,l)]}function Y5(t,e,n,r){const i=t[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":if(s=i[1],typeof s!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(i)}`);s=St(s,e);let a=St(t[2],e);if(!ss(Ne,a.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${mr(a.type)} instead`);a=St(t[2],e,Ne);const o=new Array(t.length-3);for(let l=0;l<o.length;l+=2){let c=St(t[l+3],e);if(!ss(Ne,c.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${mr(c.type)} at position ${l+2} instead`);let u=St(t[l+4],e);if(!ss(Ne|Gn,u.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${mr(u.type)} at position ${l+3} instead`);c=St(t[l+3],e,Ne),u=St(t[l+4],e,Ne|Gn),o[l]=c,o[l+1]=u}return[s,a,...o]}function H5(t,e,n,r){const i=St(t[t.length-1],e,r);let s=r!==void 0?r&i.type:i.type;const a=new Array(t.length-1);for(let o=0;o<a.length-1;o+=2){const l=St(t[o+1],e),c=St(t[o+2],e,r);if(!ss(ln,l.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${mr(l.type)} at position ${o} instead`);s&=c.type,a[o]=l,a[o+1]=c}if(mm(s,Nu))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let o=0;o<a.length-1;o+=2)a[o+1]=St(t[o+2],e,s);return a[a.length-1]=St(t[t.length-1],e,s),a}function W5(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let r=Kr|Ne;const i=new Array(n.length);for(let a=0;a<i.length;a++){const o=St(n[a],e);r&=o.type,i[a]=o}if(mm(r,Nu))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[St(t[1],e,r),...i]}function q5(t,e){const n=St(t[1],e,Ne);if(n.type!==Ne)throw new Error(`The first argument of palette must be an number, got ${mr(n.type)} instead`);const r=t[2];if(!Array.isArray(r))throw new Error("The second argument of palette must be an array");const i=new Array(r.length);for(let s=0;s<i.length;s++){const a=St(r[s],e,Gn);if(!(a instanceof Ta))throw new Error(`The palette color at index ${s} must be a literal value`);if(!ss(a.type,Gn))throw new Error(`The palette color at index ${s} should be of type color, got ${mr(a.type)} instead`);i[s]=a}return[n,...i]}function Ze(t,...e){return function(n,r,i){const s=n[0];let a=[];for(let l=0;l<e.length;l++)a=e[l](n,r,a,i)||a;let o=typeof t=="function"?t(a):t;if(i!==void 0){if(!ss(o,i))throw new Error(`The following expression was expected to return ${mr(i)}, but returns ${mr(o)} instead: ${JSON.stringify(n)}`);o&=i}if(o===Nu)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new F5(o,s,...a)}}function K5(t,e,n){const r=t[0],i=$5[r];if(!i)throw new Error(`Unknown operator: ${r}`);return i(t,e,n)}function CI(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return CI(t.getGeometries()[0]);default:return""}}function SI(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function qs(t,e,n){const r=St(t,n);if(!ss(e,r.type)){const i=mr(e),s=mr(r.type);throw new Error(`Expected expression to be of type ${i}, got ${s}`)}return Ni(r)}function Ni(t,e){if(t instanceof Ta){if(t.type===Gn&&typeof t.value=="string"){const r=E0(t.value);return function(){return r}}return function(){return t.value}}const n=t.operator;switch(n){case de.Number:case de.String:case de.Coalesce:return X5(t);case de.Get:case de.Var:return Z5(t);case de.Id:return r=>r.featureId;case de.GeometryType:return r=>r.geometryType;case de.Concat:{const r=t.args.map(i=>Ni(i));return i=>"".concat(...r.map(s=>s(i).toString()))}case de.Resolution:return r=>r.resolution;case de.Any:case de.All:case de.Between:case de.In:case de.Not:return Q5(t);case de.Equal:case de.NotEqual:case de.LessThan:case de.LessThanOrEqualTo:case de.GreaterThan:case de.GreaterThanOrEqualTo:return J5(t);case de.Multiply:case de.Divide:case de.Add:case de.Subtract:case de.Clamp:case de.Mod:case de.Pow:case de.Abs:case de.Floor:case de.Ceil:case de.Round:case de.Sin:case de.Cos:case de.Atan:case de.Sqrt:return e4(t);case de.Case:return t4(t);case de.Match:return n4(t);case de.Interpolate:return r4(t);case de.ToString:return i4(t);default:throw new Error(`Unsupported operator ${n}`)}}function X5(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Ni(t.args[s]);switch(n){case de.Coalesce:return s=>{for(let a=0;a<r;++a){const o=i[a](s);if(typeof o<"u"&&o!==null)return o}throw new Error("Expected one of the values to be non-null")};case de.Number:case de.String:return s=>{for(let a=0;a<r;++a){const o=i[a](s);if(typeof o===n)return o}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function Z5(t,e){const r=t.args[0].value;switch(t.operator){case de.Get:return i=>i.properties[r];case de.Var:return i=>i.variables[r];default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function J5(t,e){const n=t.operator,r=Ni(t.args[0]),i=Ni(t.args[1]);switch(n){case de.Equal:return s=>r(s)===i(s);case de.NotEqual:return s=>r(s)!==i(s);case de.LessThan:return s=>r(s)<i(s);case de.LessThanOrEqualTo:return s=>r(s)<=i(s);case de.GreaterThan:return s=>r(s)>i(s);case de.GreaterThanOrEqualTo:return s=>r(s)>=i(s);default:throw new Error(`Unsupported comparison operator ${n}`)}}function Q5(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Ni(t.args[s]);switch(n){case de.Any:return s=>{for(let a=0;a<r;++a)if(i[a](s))return!0;return!1};case de.All:return s=>{for(let a=0;a<r;++a)if(!i[a](s))return!1;return!0};case de.Between:return s=>{const a=i[0](s),o=i[1](s),l=i[2](s);return a>=o&&a<=l};case de.In:return s=>{const a=i[0](s);for(let o=1;o<r;++o)if(a===i[o](s))return!0;return!1};case de.Not:return s=>!i[0](s);default:throw new Error(`Unsupported logical operator ${n}`)}}function e4(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Ni(t.args[s]);switch(n){case de.Multiply:return s=>{let a=1;for(let o=0;o<r;++o)a*=i[o](s);return a};case de.Divide:return s=>i[0](s)/i[1](s);case de.Add:return s=>{let a=0;for(let o=0;o<r;++o)a+=i[o](s);return a};case de.Subtract:return s=>i[0](s)-i[1](s);case de.Clamp:return s=>{const a=i[0](s),o=i[1](s);if(a<o)return o;const l=i[2](s);return a>l?l:a};case de.Mod:return s=>i[0](s)%i[1](s);case de.Pow:return s=>Math.pow(i[0](s),i[1](s));case de.Abs:return s=>Math.abs(i[0](s));case de.Floor:return s=>Math.floor(i[0](s));case de.Ceil:return s=>Math.ceil(i[0](s));case de.Round:return s=>Math.round(i[0](s));case de.Sin:return s=>Math.sin(i[0](s));case de.Cos:return s=>Math.cos(i[0](s));case de.Atan:return r===2?s=>Math.atan2(i[0](s),i[1](s)):s=>Math.atan(i[0](s));case de.Sqrt:return s=>Math.sqrt(i[0](s));default:throw new Error(`Unsupported numeric operator ${n}`)}}function t4(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Ni(t.args[i]);return i=>{for(let s=0;s<n-1;s+=2)if(r[s](i))return r[s+1](i);return r[n-1](i)}}function n4(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Ni(t.args[i]);return i=>{const s=r[0](i);for(let a=1;a<n;a+=2)if(s===r[a](i))return r[a+1](i);return r[n-1](i)}}function r4(t,e){const n=t.args.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Ni(t.args[i]);return i=>{const s=r[0](i),a=r[1](i);let o,l;for(let c=2;c<n;c+=2){const u=r[c](i);let d=r[c+1](i);const h=Array.isArray(d);if(h&&(d=A$(d)),u>=a)return c===2?d:h?s4(s,a,o,l,u,d):Sc(s,a,o,l,u,d);o=u,l=d}return l}}function i4(t,e){const n=t.operator,r=t.args.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=Ni(t.args[s]);switch(n){case de.ToString:return s=>{const a=i[0](s);return t.args[0].type===Gn?T0(a):a.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Sc(t,e,n,r,i,s){const a=i-n;if(a===0)return r;const o=e-n,l=t===1?o/a:(Math.pow(t,o)-1)/(Math.pow(t,a)-1);return r+l*(s-r)}function s4(t,e,n,r,i,s){if(i-n===0)return r;const o=dE(r),l=dE(s);let c=l[2]-o[2];c>180?c-=360:c<-180&&(c+=360);const u=[Sc(t,e,n,o[0],i,l[0]),Sc(t,e,n,o[1],i,l[1]),o[2]+Sc(t,e,n,0,i,c),Sc(t,e,n,r[3],i,s[3])];return Mk(M$(u))}function a4(t){return!0}function o4(t){const e=xI(),n=l4(t,e),r=SI();return function(i,s){if(r.properties=i.getPropertiesInternal(),r.resolution=s,e.featureId){const a=i.getId();a!==void 0?r.featureId=a:r.featureId=null}return e.geometryType&&(r.geometryType=CI(i.getGeometry())),n(r)}}function FE(t){const e=xI(),n=t.length,r=new Array(n);for(let a=0;a<n;++a)r[a]=y_(t[a],e);const i=SI(),s=new Array(n);return function(a,o){if(i.properties=a.getPropertiesInternal(),i.resolution=o,e.featureId){const c=a.getId();c!==void 0?i.featureId=c:i.featureId=null}let l=0;for(let c=0;c<n;++c){const u=r[c](i);u&&(s[l]=u,l+=1)}return s.length=l,s}}function l4(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i){const s=t[i],a="filter"in s?qs(s.filter,ln,e):a4;let o;if(Array.isArray(s.style)){const l=s.style.length;o=new Array(l);for(let c=0;c<l;++c)o[c]=y_(s.style[c],e)}else o=[y_(s.style,e)];r[i]={filter:a,styles:o}}return function(i){const s=[];let a=!1;for(let o=0;o<n;++o){const l=r[o].filter;if(l(i)&&!(t[o].else&&a)){a=!0;for(const c of r[o].styles){const u=c(i);u&&s.push(u)}}}return s}}function y_(t,e){const n=gd(t,"",e),r=yd(t,"",e),i=u4(t,e),s=c4(t,e),a=Nr(t,"z-index",e);if(!n&&!r&&!i&&!s&&!za(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const o=new di;return function(l){let c=!0;if(n){const u=n(l);u&&(c=!1),o.setFill(u)}if(r){const u=r(l);u&&(c=!1),o.setStroke(u)}if(i){const u=i(l);u&&(c=!1),o.setText(u)}if(s){const u=s(l);u&&(c=!1),o.setImage(u)}return a&&o.setZIndex(a(l)),c?null:o}}function gd(t,e,n){let r;if(e+"fill-pattern-src"in t?r=p4(t,e+"fill-",n):r=t1(t,e+"fill-color",n),!r)return null;const i=new Ai;return function(s){const a=r(s);return a==="none"?null:(i.setColor(a),i)}}function yd(t,e,n){const r=Nr(t,e+"stroke-width",n),i=t1(t,e+"stroke-color",n);if(!r&&!i)return null;const s=xs(t,e+"stroke-line-cap",n),a=xs(t,e+"stroke-line-join",n),o=RI(t,e+"stroke-line-dash",n),l=Nr(t,e+"stroke-line-dash-offset",n),c=Nr(t,e+"stroke-miter-limit",n),u=new Ea;return function(d){if(i){const h=i(d);if(h==="none")return null;u.setColor(h)}if(r&&u.setWidth(r(d)),s){const h=s(d);if(h!=="butt"&&h!=="round"&&h!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(h)}if(a){const h=a(d);if(h!=="bevel"&&h!=="round"&&h!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(h)}return o&&u.setLineDash(o(d)),l&&u.setLineDashOffset(l(d)),c&&u.setMiterLimit(c(d)),u}}function u4(t,e){const n="text-",r=xs(t,n+"value",e);if(!r)return null;const i=gd(t,n,e),s=gd(t,n+"background-",e),a=yd(t,n,e),o=yd(t,n+"background-",e),l=xs(t,n+"font",e),c=Nr(t,n+"max-angle",e),u=Nr(t,n+"offset-x",e),d=Nr(t,n+"offset-y",e),h=_d(t,n+"overflow",e),f=xs(t,n+"placement",e),p=Nr(t,n+"repeat",e),m=gm(t,n+"scale",e),y=_d(t,n+"rotate-with-view",e),v=Nr(t,n+"rotation",e),b=xs(t,n+"align",e),g=xs(t,n+"justify",e),_=xs(t,n+"baseline",e),w=RI(t,n+"padding",e),E=ym(t,n+"declutter-mode"),x=new pm({declutterMode:E});return function(S){if(x.setText(r(S)),i&&x.setFill(i(S)),s&&x.setBackgroundFill(s(S)),a&&x.setStroke(a(S)),o&&x.setBackgroundStroke(o(S)),l&&x.setFont(l(S)),c&&x.setMaxAngle(c(S)),u&&x.setOffsetX(u(S)),d&&x.setOffsetY(d(S)),h&&x.setOverflow(h(S)),f){const T=f(S);if(T!=="point"&&T!=="line")throw new Error("Expected point or line for text-placement");x.setPlacement(T)}if(p&&x.setRepeat(p(S)),m&&x.setScale(m(S)),y&&x.setRotateWithView(y(S)),v&&x.setRotation(v(S)),b){const T=b(S);if(T!=="left"&&T!=="center"&&T!=="right"&&T!=="end"&&T!=="start")throw new Error("Expected left, right, center, start, or end for text-align");x.setTextAlign(T)}if(g){const T=g(S);if(T!=="left"&&T!=="right"&&T!=="center")throw new Error("Expected left, right, or center for text-justify");x.setJustify(T)}if(_){const T=_(S);if(T!=="bottom"&&T!=="top"&&T!=="middle"&&T!=="alphabetic"&&T!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");x.setTextBaseline(T)}return w&&x.setPadding(w(S)),x}}function c4(t,e){return"icon-src"in t?d4(t,e):"shape-points"in t?h4(t,e):"circle-radius"in t?f4(t,e):null}function d4(t,e){const n="icon-",r=n+"src",i=kI(t[r],r),s=tp(t,n+"anchor",e),a=gm(t,n+"scale",e),o=Nr(t,n+"opacity",e),l=tp(t,n+"displacement",e),c=Nr(t,n+"rotation",e),u=_d(t,n+"rotate-with-view",e),d=$E(t,n+"anchor-origin"),h=BE(t,n+"anchor-x-units"),f=BE(t,n+"anchor-y-units"),p=_4(t,n+"color"),m=g4(t,n+"cross-origin"),y=y4(t,n+"offset"),v=$E(t,n+"offset-origin"),b=np(t,n+"width"),g=np(t,n+"height"),_=m4(t,n+"size"),w=ym(t,n+"declutter-mode"),E=new Xd({src:i,anchorOrigin:d,anchorXUnits:h,anchorYUnits:f,color:p,crossOrigin:m,offset:y,offsetOrigin:v,height:g,width:b,size:_,declutterMode:w});return function(x){return o&&E.setOpacity(o(x)),l&&E.setDisplacement(l(x)),c&&E.setRotation(c(x)),u&&E.setRotateWithView(u(x)),a&&E.setScale(a(x)),s&&E.setAnchor(s(x)),E}}function h4(t,e){const n="shape-",r=n+"points",i=n+"radius",s=__(t[r],r),a=__(t[i],i),o=gd(t,n,e),l=yd(t,n,e),c=gm(t,n+"scale",e),u=tp(t,n+"displacement",e),d=Nr(t,n+"rotation",e),h=_d(t,n+"rotate-with-view",e),f=np(t,n+"radius2"),p=np(t,n+"angle"),m=ym(t,n+"declutter-mode"),y=new rm({points:s,radius:a,radius2:f,angle:p,declutterMode:m});return function(v){return o&&y.setFill(o(v)),l&&y.setStroke(l(v)),u&&y.setDisplacement(u(v)),d&&y.setRotation(d(v)),h&&y.setRotateWithView(h(v)),c&&y.setScale(c(v)),y}}function f4(t,e){const n="circle-",r=gd(t,n,e),i=yd(t,n,e),s=Nr(t,n+"radius",e),a=gm(t,n+"scale",e),o=tp(t,n+"displacement",e),l=Nr(t,n+"rotation",e),c=_d(t,n+"rotate-with-view",e),u=ym(t,n+"declutter-mode"),d=new ul({radius:5,declutterMode:u});return function(h){return s&&d.setRadius(s(h)),r&&d.setFill(r(h)),i&&d.setStroke(i(h)),o&&d.setDisplacement(o(h)),l&&d.setRotation(l(h)),c&&d.setRotateWithView(c(h)),a&&d.setScale(a(h)),d}}function Nr(t,e,n){if(!(e in t))return;const r=qs(t[e],Ne,n);return function(i){return __(r(i),e)}}function xs(t,e,n){if(!(e in t))return null;const r=qs(t[e],Kr,n);return function(i){return kI(r(i),e)}}function p4(t,e,n){const r=xs(t,e+"pattern-src",n),i=NE(t,e+"pattern-offset",n),s=NE(t,e+"pattern-size",n),a=t1(t,e+"color",n);return function(o){return{src:r(o),offset:i&&i(o),size:s&&s(o),color:a&&a(o)}}}function _d(t,e,n){if(!(e in t))return null;const r=qs(t[e],ln,n);return function(i){const s=r(i);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function t1(t,e,n){if(!(e in t))return null;const r=qs(t[e],Gn|Kr,n);return function(i){return II(r(i),e)}}function RI(t,e,n){if(!(e in t))return null;const r=qs(t[e],is,n);return function(i){return Zd(r(i),e)}}function tp(t,e,n){if(!(e in t))return null;const r=qs(t[e],is,n);return function(i){const s=Zd(r(i),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function NE(t,e,n){if(!(e in t))return null;const r=qs(t[e],is,n);return function(i){return AI(r(i),e)}}function gm(t,e,n){if(!(e in t))return null;const r=qs(t[e],is|Ne,n);return function(i){return v4(r(i),e)}}function np(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function m4(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return Cr(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function g4(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function $E(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function BE(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function y4(t,e){const n=t[e];if(n!==void 0)return Zd(n,e)}function ym(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function _4(t,e){const n=t[e];if(n!==void 0)return II(n,e)}function Zd(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let r=0;r<n;++r)if(typeof t[r]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function kI(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function __(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function II(t,e){if(typeof t=="string")return t;const n=Zd(t,e),r=n.length;if(r<3||r>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function AI(t,e){const n=Zd(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function v4(t,e){return typeof t=="number"?t:AI(t,e)}const VE={RENDER_ORDER:"renderOrder"};class _m extends fm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(VE.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const r=this.getDeclutter();r in e.declutter||(e.declutter[r]=new e1(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(VE.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?_I:e;const n=b4(e);this.styleFunction_=e===null?void 0:p5(n),this.changed()}}function b4(t){if(t===void 0)return _I;if(!t)return null;if(typeof t=="function"||t instanceof di)return t;if(!Array.isArray(t))return FE([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof di){const i=new Array(e);for(let s=0;s<e;++s){const a=t[s];if(!(a instanceof di))throw new Error("Expected a list of style instances");i[s]=a}return i}if("style"in n){const i=new Array(e);for(let s=0;s<e;++s){const a=t[s];if(!("style"in a))throw new Error("Expected a list of rules with a style property");i[s]=a}return o4(i)}return FE(t)}class w4 extends Yd{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e}getFeatures(e){return We()}getData(e){return null}prepareFrame(e){return We()}renderFrame(e,n){return We()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const a=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,a)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===Be.LOADED||n.getState()===Be.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Be.LOADED&&n!=Be.ERROR&&e.addEventListener(Ue.CHANGE,this.boundHandleImageChange_),n==Be.IDLE&&(e.load(),n=e.getState()),n==Be.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class MI extends Ws{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}class n1{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Uf(),{get:(e,n)=>{if(typeof Uf()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,r)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,r),!0)})}pushMethodArgs_=(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this);pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let r=0,i=n.length;r<i;++r){const s=n[r];if(typeof s=="function"){s(e);continue}const a=n[++r];if(typeof e[s]=="function")e[s](...a);else{if(typeof a=="function"){e[s]=a(e);continue}e[s]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const GE=[];let Vl=null;function E4(){Vl=qn(1,1,void 0,{willReadFrequently:!0})}class r1 extends w4{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=ei(),this.pixelTransform=ei(),this.inversePixelTransform=ei(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){Vl||E4(),Vl.clearRect(0,0,1,1);let i;try{Vl.drawImage(e,n,r,1,1,0,0,1,1),i=Vl.getImageData(0,0,1,1).data}catch{return Vl=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,a;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&ao(sd(e.style.backgroundColor),sd(r)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}if(a&&a.canvas.style.transform===n?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=i;let o=s.style;o.position="absolute",o.width="100%",o.height="100%",a=qn();const l=a.canvas;s.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=oo(r),s=am(r),a=sm(r),o=im(r);yn(n.coordinateToPixelTransform,i),yn(n.coordinateToPixelTransform,s),yn(n.coordinateToPixelTransform,a),yn(n.coordinateToPixelTransform,o);const l=this.inversePixelTransform;yn(l,i),yn(l,s),yn(l,a),yn(l,o),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,n){const r=e.extent,i=e.viewState.resolution,s=e.viewState.rotation,a=e.pixelRatio,o=Math.round(vt(r)/i*a),l=Math.round(jn(r)/i*a);Fi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,s,-o/2,-l/2),Yk(this.inversePixelTransform,this.pixelTransform);const c=o3(this.pixelTransform);if(this.useContainer(n,c,this.getBackground(e)),!this.containerReused){const u=this.context.canvas;u.width!=o||u.height!=l?(u.width=o,u.height=l):this.context.clearRect(0,0,o,l),c!==u.style.transform&&(u.style.transform=c)}}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new MI(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(pi.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(pi.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new n1),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(pi.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(pi.POSTRENDER,this.context,e))}getRenderTransform(e,n,r,i,s,a,o){const l=s/2,c=a/2,u=i/n,d=-u,h=-e[0]+o,f=-e[1];return Fi(this.tempTransform,l,c,u,d,-r,h,f)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class T4 extends r1{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const n=e.layerStatesArray[e.layerIndex],r=e.pixelRatio,i=e.viewState,s=i.resolution,a=this.getLayer().getSource(),o=e.viewHints;let l=e.extent;if(n.extent!==void 0&&(l=Pa(l,As(n.extent,i.projection))),!o[Gt.ANIMATING]&&!o[Gt.INTERACTING]&&!dl(l))if(a){const c=i.projection,u=a.getImage(l,s,r,c);u&&(this.loadImage(u)?this.image_=u:u.getState()===Be.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=yn(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!Zo(s,i))return null;const a=this.image_.getExtent(),o=this.image_.getImage(),l=vt(a),c=Math.floor(o.width*((i[0]-a[0])/l));if(c<0||c>=o.width)return null;const u=jn(a),d=Math.floor(o.height*((a[3]-i[1])/u));return d<0||d>=o.height?null:this.getImageData(o,c,d)}renderFrame(e,n){const r=this.image_,i=r.getExtent(),s=r.getResolution(),[a,o]=Array.isArray(s)?s:[s,s],l=r.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],u=e.pixelRatio,d=e.viewState,h=d.center,f=d.resolution,p=u*a/(f*l),m=u*o/(f*l);this.prepareContainer(e,n);const y=this.context.canvas.width,v=this.context.canvas.height,b=this.getRenderContext(e);let g=!1,_=!0;if(c.extent){const T=As(c.extent,d.projection);_=hn(T,e.extent),g=_&&!Is(T,e.extent),g&&this.clipUnrotated(b,e,T)}const w=r.getImage(),E=Fi(this.tempTransform,y/2,v/2,p,m,0,l*(i[0]-h[0])/a,l*(h[1]-i[3])/o);this.renderedResolution=o*u/l;const x=w.width*E[0],S=w.height*E[3];if(this.getLayer().getSource().getInterpolate()||(b.imageSmoothingEnabled=!1),this.preRender(b,e),_&&x>=.5&&S>=.5){const T=E[4],P=E[5],B=c.opacity;B!==1&&(b.save(),b.globalAlpha=B),b.drawImage(w,0,0,+w.width,+w.height,T,P,x,S),B!==1&&b.restore()}return this.postRender(this.context,e),g&&b.restore(),b.imageSmoothingEnabled=!0,this.container}}const $e={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Bh=[$e.FILL],xa=[$e.STROKE],Ao=[$e.BEGIN_PATH],jE=[$e.CLOSE_PATH];class PI{drawCustom(e,n,r,i,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,n,r){}drawFeature(e,n,r){}drawGeometryCollection(e,n,r){}drawLineString(e,n,r){}drawMultiLineString(e,n,r){}drawMultiPoint(e,n,r){}drawMultiPolygon(e,n,r){}drawPoint(e,n,r){}drawPolygon(e,n,r){}drawText(e,n,r){}setFillStrokeStyle(e,n){}setImageStyle(e,n){}setTextStyle(e,n){}}class Jd extends PI{constructor(e,n,r,i){super(),this.tolerance=e,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const n=this.pixelRatio;return n==1?e:e.map(function(r){return r*n})}appendFlatPointCoordinates(e,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,s=this.coordinates;let a=s.length;for(let o=0,l=e.length;o<l;o+=n)i[0]=e[o],i[1]=e[o+1],Zo(r,i)&&(s[a++]=i[0],s[a++]=i[1]);return a}appendFlatLineCoordinates(e,n,r,i,s,a){const o=this.coordinates;let l=o.length;const c=this.getBufferedMaxExtent();a&&(n+=i);let u=e[n],d=e[n+1];const h=this.tmpCoordinate_;let f=!0,p,m,y;for(p=n+i;p<r;p+=i)h[0]=e[p],h[1]=e[p+1],y=s_(c,h),y!==m?(f&&(o[l++]=u,o[l++]=d,f=!1),o[l++]=h[0],o[l++]=h[1]):y===Vn.INTERSECTING?(o[l++]=h[0],o[l++]=h[1],f=!1):f=!0,u=h[0],d=h[1],m=y;return(s&&f||p===n+i)&&(o[l++]=u,o[l++]=d),l}drawCustomCoordinates_(e,n,r,i,s){for(let a=0,o=r.length;a<o;++a){const l=r[a],c=this.appendFlatLineCoordinates(e,n,l,i,!1,!1);s.push(c),n=l}return n}drawCustom(e,n,r,i,s){this.beginGeometry(e,n,s);const a=e.getType(),o=e.getStride(),l=this.coordinates.length;let c,u,d,h,f;switch(a){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),h=[];const p=e.getEndss();f=0;for(let m=0,y=p.length;m<y;++m){const v=[];f=this.drawCustomCoordinates_(c,f,p[m],o,v),h.push(v)}this.instructions.push([$e.CUSTOM,l,h,e,r,f_,s]),this.hitDetectionInstructions.push([$e.CUSTOM,l,h,e,i||r,f_,s]);break;case"Polygon":case"MultiLineString":d=[],c=a=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),f=this.drawCustomCoordinates_(c,0,e.getEnds(),o,d),this.instructions.push([$e.CUSTOM,l,d,e,r,hd,s]),this.hitDetectionInstructions.push([$e.CUSTOM,l,d,e,i||r,hd,s]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(c,0,c.length,o,!1,!1),this.instructions.push([$e.CUSTOM,l,u,e,r,wa,s]),this.hitDetectionInstructions.push([$e.CUSTOM,l,u,e,i||r,wa,s]);break;case"MultiPoint":c=e.getFlatCoordinates(),u=this.appendFlatPointCoordinates(c,o),u>l&&(this.instructions.push([$e.CUSTOM,l,u,e,r,wa,s]),this.hitDetectionInstructions.push([$e.CUSTOM,l,u,e,i||r,wa,s]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),u=this.coordinates.length,this.instructions.push([$e.CUSTOM,l,u,e,r,void 0,s]),this.hitDetectionInstructions.push([$e.CUSTOM,l,u,e,i||r,void 0,s]);break}this.endGeometry(n)}beginGeometry(e,n,r){this.beginGeometryInstruction1_=[$e.BEGIN_GEOMETRY,n,0,e,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[$e.BEGIN_GEOMETRY,n,0,e,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let n;const r=e.length;let i,s,a=-1;for(n=0;n<r;++n)i=e[n],s=i[0],s==$e.END_GEOMETRY?a=n:s==$e.BEGIN_GEOMETRY&&(i[2]=n,G$(this.hitDetectionInstructions,a,n),a=-1)}setFillStrokeStyle(e,n){const r=this.state;if(e){const i=e.getColor();r.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,r.fillStyle=Ji(i||Or)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=Ji(i||ld);const s=n.getLineCap();r.lineCap=s!==void 0?s:wu;const a=n.getLineDash();r.lineDash=a?a.slice():Ls;const o=n.getLineDashOffset();r.lineDashOffset=o||Fs;const l=n.getLineJoin();r.lineJoin=l!==void 0?l:Eu;const c=n.getWidth();r.lineWidth=c!==void 0?c:cd;const u=n.getMiterLimit();r.miterLimit=u!==void 0?u:od,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){const n=e.fillStyle,r=[$e.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(e.fillPatternScale),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[$e.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,n){const r=e.fillStyle;(typeof r!="string"||e.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,n){const r=e.strokeStyle,i=e.lineCap,s=e.lineDash,a=e.lineDashOffset,o=e.lineJoin,l=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=i||s!=e.currentLineDash&&!ao(e.currentLineDash,s)||e.currentLineDashOffset!=a||e.currentLineJoin!=o||e.currentLineWidth!=l||e.currentMiterLimit!=c)&&(r!==void 0&&n.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=s,e.currentLineDashOffset=a,e.currentLineJoin=o,e.currentLineWidth=l,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[$e.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Hk(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Ma(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class x4 extends Jd{constructor(e,n,r,i){super(e,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,n,r){if(!this.image_||this.maxExtent&&!Zo(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,n,r);const i=e.getFlatCoordinates(),s=e.getStride(),a=this.coordinates.length,o=this.appendFlatPointCoordinates(i,s);this.instructions.push([$e.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([$e.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(e,n,r){if(!this.image_)return;this.beginGeometry(e,n,r);const i=e.getFlatCoordinates(),s=[];for(let l=0,c=i.length;l<c;l+=e.getStride())(!this.maxExtent||Zo(this.maxExtent,i.slice(l,l+2)))&&s.push(i[l],i[l+1]);const a=this.coordinates.length,o=this.appendFlatPointCoordinates(s,2);this.instructions.push([$e.DRAW_IMAGE,a,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([$e.DRAW_IMAGE,a,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,n){const r=e.getAnchor(),i=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}class C4 extends Jd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinates_(e,n,r,i){const s=this.coordinates.length,a=this.appendFlatLineCoordinates(e,n,r,i,!1,!1),o=[$e.MOVE_TO_LINE_TO,s,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),r}drawLineString(e,n,r){const i=this.state,s=i.strokeStyle,a=i.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Ls,Fs],Ao);const o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(xa),this.endGeometry(n)}drawMultiLineString(e,n,r){const i=this.state,s=i.strokeStyle,a=i.lineWidth;if(s===void 0||a===void 0)return;this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,n,r),this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Ls,Fs],Ao);const o=e.getEnds(),l=e.getFlatCoordinates(),c=e.getStride();let u=0;for(let d=0,h=o.length;d<h;++d)u=this.drawFlatCoordinates_(l,u,o[d],c);this.hitDetectionInstructions.push(xa),this.endGeometry(n)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(xa),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(xa),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Ao)}}class zE extends Jd{constructor(e,n,r,i){super(e,n,r,i)}drawFlatCoordinatess_(e,n,r,i){const s=this.state,a=s.fillStyle!==void 0,o=s.strokeStyle!==void 0,l=r.length;this.instructions.push(Ao),this.hitDetectionInstructions.push(Ao);for(let c=0;c<l;++c){const u=r[c],d=this.coordinates.length,h=this.appendFlatLineCoordinates(e,n,u,i,!0,!o),f=[$e.MOVE_TO_LINE_TO,d,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),o&&(this.instructions.push(jE),this.hitDetectionInstructions.push(jE)),n=u}return a&&(this.instructions.push(Bh),this.hitDetectionInstructions.push(Bh)),o&&(this.instructions.push(xa),this.hitDetectionInstructions.push(xa)),n}drawCircle(e,n,r){const i=this.state,s=i.fillStyle,a=i.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_FILL_STYLE,Or]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Ls,Fs]);const o=e.getFlatCoordinates(),l=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);const u=[$e.CIRCLE,c];this.instructions.push(Ao,u),this.hitDetectionInstructions.push(Ao,u),i.fillStyle!==void 0&&(this.instructions.push(Bh),this.hitDetectionInstructions.push(Bh)),i.strokeStyle!==void 0&&(this.instructions.push(xa),this.hitDetectionInstructions.push(xa)),this.endGeometry(n)}drawPolygon(e,n,r){const i=this.state,s=i.fillStyle,a=i.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_FILL_STYLE,Or]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Ls,Fs]);const o=e.getEnds(),l=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(l,0,o,c),this.endGeometry(n)}drawMultiPolygon(e,n,r){const i=this.state,s=i.fillStyle,a=i.strokeStyle;if(s===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,n,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_FILL_STYLE,Or]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([$e.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Ls,Fs]);const o=e.getEndss(),l=e.getOrientedFlatCoordinates(),c=e.getStride();let u=0;for(let d=0,h=o.length;d<h;++d)u=this.drawFlatCoordinatess_(l,u,o[d],c);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=Eo(n[r],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function S4(t,e,n,r,i){const s=[];let a=n,o=0,l=e.slice(n,2);for(;o<t&&a+i<r;){const[c,u]=l.slice(-2),d=e[a+i],h=e[a+i+1],f=Math.sqrt((d-c)*(d-c)+(h-u)*(h-u));if(o+=f,o>=t){const p=(t-o+f)/f,m=qr(c,d,p),y=qr(u,h,p);l.push(m,y),s.push(l),l=[m,y],o==t&&(a+=i),o=0}else if(o<t)l.push(e[a+i],e[a+i+1]),a+=i;else{const p=f-o,m=qr(c,d,p/f),y=qr(u,h,p/f);l.push(m,y),s.push(l),l=[m,y],o=0,a+=i}}return o>0&&s.push(l),s}function R4(t,e,n,r,i){let s=n,a=n,o=0,l=0,c=n,u,d,h,f,p,m,y,v,b,g;for(d=n;d<r;d+=i){const _=e[d],w=e[d+1];p!==void 0&&(b=_-p,g=w-m,f=Math.sqrt(b*b+g*g),y!==void 0&&(l+=h,u=Math.acos((y*b+v*g)/(h*f)),u>t&&(l>o&&(o=l,s=c,a=d),l=0,c=d-i)),h=f,y=b,v=g),p=_,m=w}return l+=f,l>o?[c,d]:[s,a]}const rp={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class k4 extends Jd{constructor(e,n,r,i){super(e,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Or]={fillStyle:Or},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,n,r){const i=this.textFillState_,s=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!i&&!s)return;const o=this.coordinates;let l=o.length;const c=e.getType();let u=null,d=e.getStride();if(a.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!hn(this.maxExtent,e.getExtent()))return;let h;if(u=e.getFlatCoordinates(),c=="LineString")h=[u.length];else if(c=="MultiLineString")h=e.getEnds();else if(c=="Polygon")h=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const y=e.getEndss();h=[];for(let v=0,b=y.length;v<b;++v)h.push(y[v][0])}this.beginGeometry(e,n,r);const f=a.repeat,p=f?void 0:a.textAlign;let m=0;for(let y=0,v=h.length;y<v;++y){let b;f?b=S4(f*this.resolution,u,m,h[y],d):b=[u.slice(m,h[y])];for(let g=0,_=b.length;g<_;++g){const w=b[g];let E=0,x=w.length;if(p==null){const T=R4(a.maxAngle,w,0,w.length,2);E=T[0],x=T[1]}for(let T=E;T<x;T+=d)o.push(w[T],w[T+1]);const S=o.length;m=h[y],this.drawChars_(l,S),l=S}}this.endGeometry(n)}else{let h=a.overflow?null:[];switch(c){case"Point":case"MultiPoint":u=e.getFlatCoordinates();break;case"LineString":u=e.getFlatMidpoint();break;case"Circle":u=e.getCenter();break;case"MultiLineString":u=e.getFlatMidpoints(),d=2;break;case"Polygon":u=e.getFlatInteriorPoint(),a.overflow||h.push(u[2]/this.resolution),d=3;break;case"MultiPolygon":const b=e.getFlatInteriorPoints();u=[];for(let g=0,_=b.length;g<_;g+=3)a.overflow||h.push(b[g+2]/this.resolution),u.push(b[g],b[g+1]);if(u.length===0)return;d=2;break}const f=this.appendFlatPointCoordinates(u,d);if(f===l)return;if(h&&(f-l)/2!==u.length/d){let b=l/2;h=h.filter((g,_)=>{const w=o[(b+_)*2]===u[_*d]&&o[(b+_)*2+1]===u[_*d+1];return w||--b,w})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&this.updateFillStyle(this.state,this.createFill),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,n,r);let p=a.padding;if(p!=ko&&(a.scale[0]<0||a.scale[1]<0)){let b=a.padding[0],g=a.padding[1],_=a.padding[2],w=a.padding[3];a.scale[0]<0&&(g=-g,w=-w),a.scale[1]<0&&(b=-b,_=-_),p=[b,g,_,w]}const m=this.pixelRatio;this.instructions.push([$e.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,p==ko?ko:p.map(function(b){return b*m}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]);const y=1/m,v=this.state.fillStyle;a.backgroundFill&&(this.state.fillStyle=Or,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([$e.DRAW_IMAGE,l,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[y,y],NaN,this.declutterMode_,this.declutterImageWithText_,p,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Or:this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]),a.backgroundFill&&(this.state.fillStyle=v,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const e=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;e&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||ud,justify:n.justify,textBaseline:n.textBaseline||Wf,scale:n.scale});const a=this.fillKey_;r&&(a in this.fillStates||(this.fillStates[a]={fillStyle:r.fillStyle}))}drawChars_(e,n){const r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,a=this.textKey_,o=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=rp[i.textBaseline],u=this.textOffsetY_*l,d=this.text_,h=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([$e.DRAW_CHARS,e,n,c,i.overflow,o,i.maxAngle,l,u,s,h*l,d,a,1,this.declutterMode_]),this.hitDetectionInstructions.push([$e.DRAW_CHARS,e,n,c,i.overflow,o&&Or,i.maxAngle,l,u,s,h*l,d,a,1/l,this.declutterMode_])}setTextStyle(e,n){let r,i,s;if(!e)this.text_="";else{const a=e.getFill();a?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Ji(a.getColor()||Or)):(i=null,this.textFillState_=i);const o=e.getStroke();if(!o)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const p=o.getLineDash(),m=o.getLineDashOffset(),y=o.getWidth(),v=o.getMiterLimit();s.lineCap=o.getLineCap()||wu,s.lineDash=p?p.slice():Ls,s.lineDashOffset=m===void 0?Fs:m,s.lineJoin=o.getLineJoin()||Eu,s.lineWidth=y===void 0?cd:y,s.miterLimit=v===void 0?od:v,s.strokeStyle=Ji(o.getColor()||ld)}r=this.textState_;const l=e.getFont()||Gk;jk(l);const c=e.getScaleArray();r.overflow=e.getOverflow(),r.font=l,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||Wf,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||ko,r.scale=c===void 0?[1,1]:c;const u=e.getOffsetX(),d=e.getOffsetY(),h=e.getRotateWithView(),f=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=d===void 0?0:d,this.textRotateWithView_=h===void 0?!1:h,this.textRotation_=f===void 0?0:f,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:tt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?typeof i.fillStyle=="string"?i.fillStyle:"|"+tt(i.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=n}}const I4={Circle:zE,Default:Jd,Image:x4,LineString:C4,Polygon:zE,Text:k4};class DI{constructor(e,n,r,i){this.tolerance_=e,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const e={};for(const n in this.buildersByZIndex_){e[n]=e[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const s=r[i].finish();e[n][i]=s}}return e}getBuilder(e,n){const r=e!==void 0?e.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let s=i[n];if(s===void 0){const a=I4[n];s=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=s}return s}}function A4(t,e,n,r,i,s,a,o,l,c,u,d){let h=t[e],f=t[e+1],p=0,m=0,y=0,v=0;function b(){p=h,m=f,e+=r,h=t[e],f=t[e+1],v+=y,y=Math.sqrt((h-p)*(h-p)+(f-m)*(f-m))}do b();while(e<n-r&&v+y<s);let g=y===0?0:(s-v)/y;const _=qr(p,h,g),w=qr(m,f,g),E=e-r,x=v,S=s+o*l(c,i,u);for(;e<n-r&&v+y<S;)b();g=y===0?0:(S-v)/y;const T=qr(p,h,g),P=qr(m,f,g);let B;if(d){const O=[_,w,T,P];nI(O,0,4,2,d,O,O),B=O[0]>O[2]}else B=_>T;const F=Math.PI,z=[],j=E+r===e;e=E,y=0,v=x,h=t[e],f=t[e+1];let I;if(j){b(),I=Math.atan2(f-m,h-p),B&&(I+=I>0?-F:F);const O=(T+_)/2,M=(P+w)/2;return z[0]=[O,M,(S-s)/2,I,i],z}i=i.replace(/\n/g," ");for(let O=0,M=i.length;O<M;){b();let H=Math.atan2(f-m,h-p);if(B&&(H+=H>0?-F:F),I!==void 0){let A=H-I;if(A+=A>F?-2*F:A<-F?2*F:0,Math.abs(A)>a)return null}I=H;const Z=O;let le=0;for(;O<M;++O){const A=B?M-O-1:O,se=o*l(c,i[A],u);if(e+r<n&&v+y<s+le+se/2)break;le+=se}if(O===Z)continue;const ie=B?i.substring(M-Z,M-O):i.substring(Z,O);g=y===0?0:(s+le/2-v)/y;const N=qr(p,h,g),te=qr(m,f,g);z.push([N,te,le/2,H,ie]),s+=le}return z}const Rl=yi(),ia=[],gs=[],ys=[],sa=[];function UE(t){return t[3].declutterBox}const YE=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function Pg(t,e){return e==="start"?e=YE.test(t)?"right":"left":e==="end"&&(e=YE.test(t)?"left":"right"),rp[e]}function M4(t,e,n){return n>0&&t.push(`
`,""),t.push(e,""),t}class P4{constructor(e,n,r,i,s){this.overlaps=r,this.pixelRatio=n,this.resolution=e,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=ei(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new n1:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,n,r,i){const s=e+n+r+i;if(this.labels_[s])return this.labels_[s];const a=i?this.strokeStates[i]:null,o=r?this.fillStates[r]:null,l=this.textStates[n],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],d=Array.isArray(e),h=l.justify?rp[l.justify]:Pg(Array.isArray(e)?e[0]:e,l.textAlign||ud),f=i&&a.lineWidth?a.lineWidth:0,p=d?e:e.split(`
`).reduce(M4,[]),{width:m,height:y,widths:v,heights:b,lineWidths:g}=e3(l,p),_=m+f,w=[],E=(_+2)*u[0],x=(y+f)*u[1],S={width:E<0?Math.floor(E):Math.ceil(E),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:w};(u[0]!=1||u[1]!=1)&&w.push("scale",u),i&&(w.push("strokeStyle",a.strokeStyle),w.push("lineWidth",f),w.push("lineCap",a.lineCap),w.push("lineJoin",a.lineJoin),w.push("miterLimit",a.miterLimit),w.push("setLineDash",[a.lineDash]),w.push("lineDashOffset",a.lineDashOffset)),r&&w.push("fillStyle",o.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");const T=.5-h;let P=h*_+T*f;const B=[],F=[];let z=0,j=0,I=0,O=0,M;for(let H=0,Z=p.length;H<Z;H+=2){const le=p[H];if(le===`
`){j+=z,z=0,P=h*_+T*f,++O;continue}const ie=p[H+1]||l.font;ie!==M&&(i&&B.push("font",ie),r&&F.push("font",ie),M=ie),z=Math.max(z,b[I]);const N=[le,P+T*v[I]+h*(v[I]-g[O]),.5*(f+z)+j];P+=v[I],i&&B.push("strokeText",N),r&&F.push("fillText",N),++I}return Array.prototype.push.apply(w,B),Array.prototype.push.apply(w,F),this.labels_[s]=S,S}replayTextBackground_(e,n,r,i,s,a,o){e.beginPath(),e.moveTo.apply(e,n),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,s),e.lineTo.apply(e,n),a&&(this.alignAndScaleFill_=a[2],this.fill_(e)),o&&(this.setStrokeStyle_(e,o),e.stroke())}calculateImageOrLabelDimensions_(e,n,r,i,s,a,o,l,c,u,d,h,f,p,m,y){o*=h[0],l*=h[1];let v=r-o,b=i-l;const g=s+c>e?e-c:s,_=a+u>n?n-u:a,w=p[3]+g*h[0]+p[1],E=p[0]+_*h[1]+p[2],x=v-p[3],S=b-p[0];(m||d!==0)&&(ia[0]=x,sa[0]=x,ia[1]=S,gs[1]=S,gs[0]=x+w,ys[0]=gs[0],ys[1]=S+E,sa[1]=ys[1]);let T;return d!==0?(T=Fi(ei(),r,i,1,1,d,-r,-i),yn(T,ia),yn(T,gs),yn(T,ys),yn(T,sa),Gs(Math.min(ia[0],gs[0],ys[0],sa[0]),Math.min(ia[1],gs[1],ys[1],sa[1]),Math.max(ia[0],gs[0],ys[0],sa[0]),Math.max(ia[1],gs[1],ys[1],sa[1]),Rl)):Gs(Math.min(x,x+w),Math.min(S,S+E),Math.max(x,x+w),Math.max(S,S+E),Rl),f&&(v=Math.round(v),b=Math.round(b)),{drawImageX:v,drawImageY:b,drawImageW:g,drawImageH:_,originX:c,originY:u,declutterBox:{minX:Rl[0],minY:Rl[1],maxX:Rl[2],maxY:Rl[3],value:y},canvasTransform:T,scale:h}}replayImageOrLabel_(e,n,r,i,s,a,o){const l=!!(a||o),c=i.declutterBox,u=o?o[2]*i.scale[0]/2:0;return c.minX-u<=n[0]&&c.maxX+u>=0&&c.minY-u<=n[1]&&c.maxY+u>=0&&(l&&this.replayTextBackground_(e,ia,gs,ys,sa,a,o),t3(e,i.canvasTransform,s,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){const n=this.alignAndScaleFill_;if(n){const r=yn(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;e.save(),e.translate(r[0]%i,r[1]%i),n!==1&&e.scale(n,n),e.rotate(this.viewRotation_)}e.fill(),n&&e.restore()}setStrokeStyle_(e,n){e.strokeStyle=n[1],e.lineWidth=n[2],e.lineCap=n[3],e.lineJoin=n[4],e.miterLimit=n[5],e.lineDashOffset=n[7],e.setLineDash(n[6])}drawLabelWithPointPlacement_(e,n,r,i){const s=this.textStates[n],a=this.createLabel(e,n,i,r),o=this.strokeStates[r],l=this.pixelRatio,c=Pg(Array.isArray(e)?e[0]:e,s.textAlign||ud),u=rp[s.textBaseline||Wf],d=o&&o.lineWidth?o.lineWidth:0,h=a.width/l-2*s.scale[0],f=c*h+2*(.5-c)*d,p=u*a.height/l+2*(.5-u)*d;return{label:a,anchorX:f,anchorY:p}}execute_(e,n,r,i,s,a,o,l){const c=this.zIndexContext_;let u;this.pixelCoordinates_&&ao(r,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Da(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),i3(this.renderedTransform_,r));let d=0;const h=i.length;let f=0,p,m,y,v,b,g,_,w,E,x,S,T,P,B=0,F=0,z=null,j=null;const I=this.coordinateCache_,O=this.viewRotation_,M=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,H={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:O},Z=this.instructions!=i||this.overlaps?0:200;let le,ie,N,te;for(;d<h;){const A=i[d];switch(A[0]){case $e.BEGIN_GEOMETRY:le=A[1],te=A[3],le.getGeometry()?o!==void 0&&!hn(o,te.getExtent())?d=A[2]+1:++d:d=A[2],c&&(c.zIndex=A[4]);break;case $e.BEGIN_PATH:B>Z&&(this.fill_(e),B=0),F>Z&&(e.stroke(),F=0),!B&&!F&&(e.beginPath(),b=NaN,g=NaN),++d;break;case $e.CIRCLE:f=A[1];const pe=u[f],L=u[f+1],ve=u[f+2],Pe=u[f+3],ne=ve-pe,De=Pe-L,G=Math.sqrt(ne*ne+De*De);e.moveTo(pe+G,L),e.arc(pe,L,G,0,2*Math.PI,!0),++d;break;case $e.CLOSE_PATH:e.closePath(),++d;break;case $e.CUSTOM:f=A[1],p=A[2];const k=A[3],C=A[4],$=A[5];H.geometry=k,H.feature=le,d in I||(I[d]=[]);const U=I[d];$?$(u,f,p,2,U):(U[0]=u[f],U[1]=u[f+1],U.length=2),c&&(c.zIndex=A[6]),C(U,H),++d;break;case $e.DRAW_IMAGE:f=A[1],p=A[2],E=A[3],m=A[4],y=A[5];let W=A[6];const V=A[7],ee=A[8],R=A[9],D=A[10];let Y=A[11];const J=A[12];let he=A[13];v=A[14]||"declutter";const ce=A[15];if(!E&&A.length>=20){x=A[19],S=A[20],T=A[21],P=A[22];const on=this.drawLabelWithPointPlacement_(x,S,T,P);E=on.label,A[3]=E;const xn=A[23];m=(on.anchorX-xn)*this.pixelRatio,A[4]=m;const Cn=A[24];y=(on.anchorY-Cn)*this.pixelRatio,A[5]=y,W=E.height,A[6]=W,he=E.width,A[13]=he}let X;A.length>25&&(X=A[25]);let re,Te,Re;A.length>17?(re=A[16],Te=A[17],Re=A[18]):(re=ko,Te=!1,Re=!1),D&&M?Y+=O:!D&&!M&&(Y-=O);let mt=0;for(;f<p;f+=2){if(X&&X[mt++]<he/this.pixelRatio)continue;const on=this.calculateImageOrLabelDimensions_(E.width,E.height,u[f],u[f+1],he,W,m,y,ee,R,Y,J,s,re,Te||Re,le),xn=[e,n,E,on,V,Te?z:null,Re?j:null];if(l){let Cn,kr,Ir;if(ce){const zt=p-f;if(!ce[zt]){ce[zt]={args:xn,declutterMode:v};continue}const Ut=ce[zt];Cn=Ut.args,kr=Ut.declutterMode,delete ce[zt],Ir=UE(Cn)}let wi,Ei;if(Cn&&(kr!=="declutter"||!l.collides(Ir))&&(wi=!0),(v!=="declutter"||!l.collides(on.declutterBox))&&(Ei=!0),kr==="declutter"&&v==="declutter"){const zt=wi&&Ei;wi=zt,Ei=zt}wi&&(kr!=="none"&&l.insert(Ir),this.replayImageOrLabel_.apply(this,Cn)),Ei&&(v!=="none"&&l.insert(on.declutterBox),this.replayImageOrLabel_.apply(this,xn))}else this.replayImageOrLabel_.apply(this,xn)}++d;break;case $e.DRAW_CHARS:const et=A[1],It=A[2],Ot=A[3],nr=A[4];P=A[5];const vi=A[6],At=A[7],Q=A[8];T=A[9];const be=A[10];x=A[11],S=A[12];const oe=[A[13],A[13]];v=A[14]||"declutter";const Ee=this.textStates[S],Ce=Ee.font,Lt=[Ee.scale[0]*At,Ee.scale[1]*At];let jt;Ce in this.widths_?jt=this.widths_[Ce]:(jt={},this.widths_[Ce]=jt);const ai=dI(u,et,It,2),bi=Math.abs(Lt[0])*gE(Ce,x,jt);if(nr||bi<=ai){const on=this.textStates[S].textAlign,xn=(ai-bi)*Pg(x,on),Cn=A4(u,et,It,2,x,xn,vi,Math.abs(Lt[0]),gE,Ce,jt,M?0:this.viewRotation_);e:if(Cn){const kr=[];let Ir,wi,Ei,zt,Ut;if(T)for(Ir=0,wi=Cn.length;Ir<wi;++Ir){Ut=Cn[Ir],Ei=Ut[4],zt=this.createLabel(Ei,S,"",T),m=Ut[2]+(Lt[0]<0?-be:be),y=Ot*zt.height+(.5-Ot)*2*be*Lt[1]/Lt[0]-Q;const Hr=this.calculateImageOrLabelDimensions_(zt.width,zt.height,Ut[0],Ut[1],zt.width,zt.height,m,y,0,0,Ut[3],oe,!1,ko,!1,le);if(l&&v==="declutter"&&l.collides(Hr.declutterBox))break e;kr.push([e,n,zt,Hr,1,null,null])}if(P)for(Ir=0,wi=Cn.length;Ir<wi;++Ir){Ut=Cn[Ir],Ei=Ut[4],zt=this.createLabel(Ei,S,P,""),m=Ut[2],y=Ot*zt.height-Q;const Hr=this.calculateImageOrLabelDimensions_(zt.width,zt.height,Ut[0],Ut[1],zt.width,zt.height,m,y,0,0,Ut[3],oe,!1,ko,!1,le);if(l&&v==="declutter"&&l.collides(Hr.declutterBox))break e;kr.push([e,n,zt,Hr,1,null,null])}l&&v!=="none"&&l.load(kr.map(UE));for(let Hr=0,Xs=kr.length;Hr<Xs;++Hr)this.replayImageOrLabel_.apply(this,kr[Hr])}}++d;break;case $e.END_GEOMETRY:if(a!==void 0){le=A[1];const on=a(le,te,v);if(on)return on}++d;break;case $e.FILL:Z?B++:this.fill_(e),++d;break;case $e.MOVE_TO_LINE_TO:for(f=A[1],p=A[2],ie=u[f],N=u[f+1],e.moveTo(ie,N),b=ie+.5|0,g=N+.5|0,f+=2;f<p;f+=2)ie=u[f],N=u[f+1],_=ie+.5|0,w=N+.5|0,(f==p-2||_!==b||w!==g)&&(e.lineTo(ie,N),b=_,g=w);++d;break;case $e.SET_FILL_STYLE:z=A,this.alignAndScaleFill_=A[2],B&&(this.fill_(e),B=0,F&&(e.stroke(),F=0)),e.fillStyle=A[1],++d;break;case $e.SET_STROKE_STYLE:j=A,F&&(e.stroke(),F=0),this.setStrokeStyle_(e,A),++d;break;case $e.STROKE:Z?F++:e.stroke(),++d;break;default:++d;break}}B&&this.fill_(e),F&&e.stroke()}execute(e,n,r,i,s,a){this.viewRotation_=i,this.execute_(e,n,r,this.instructions,s,void 0,void 0,a)}executeHitDetection(e,n,r,i,s){return this.viewRotation_=r,this.execute_(e,[e.canvas.width,e.canvas.height],n,this.hitDetectionInstructions,!0,i,s)}}const ql=["Polygon","Circle","LineString","Image","Text","Default"],ip=["Image","Text"],D4=ql.filter(t=>!ip.includes(t));class OI{constructor(e,n,r,i,s,a,o){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=ei(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,o)}clip(e,n){const r=this.getClipCoords(n);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e,n){for(const r in e){let i=this.executorsByZIndex_[r];i===void 0&&(i={},this.executorsByZIndex_[r]=i);const s=e[r];for(const a in s){const o=s[a];i[a]=new P4(this.resolution_,this.pixelRatio_,this.overlaps_,o,n)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,s=e.length;i<s;++i)if(e[i]in r)return!0}return!1}forEachFeatureAtCoordinate(e,n,r,i,s,a){i=Math.round(i);const o=i*2+1,l=Fi(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=qn(o,o,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;u.canvas.width!==o||u.canvas.height!==o?(u.canvas.width=o,u.canvas.height=o):c||u.clearRect(0,0,o,o);let d;this.renderBuffer_!==void 0&&(d=yi(),Dc(d,e),Ma(d,n*(this.renderBuffer_+i),d));const h=O4(i);let f;function p(w,E,x){const S=u.getImageData(0,0,o,o).data;for(let T=0,P=h.length;T<P;T++)if(S[h[T]]>0){if(!a||x==="none"||f!=="Image"&&f!=="Text"||a.includes(w)){const B=(h[T]-3)/4,F=i-B%o,z=i-(B/o|0),j=s(w,E,F*F+z*z);if(j)return j}u.clearRect(0,0,o,o);break}}const m=Object.keys(this.executorsByZIndex_).map(Number);m.sort(ns);let y,v,b,g,_;for(y=m.length-1;y>=0;--y){const w=m[y].toString();for(b=this.executorsByZIndex_[w],v=ql.length-1;v>=0;--v)if(f=ql[v],g=b[f],g!==void 0&&(_=g.executeHitDetection(u,l,r,p,d),_))return _}}getClipCoords(e){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],s=n[2],a=n[3],o=[r,i,r,a,s,a,s,i];return Da(o,0,8,2,e,o),o}isEmpty(){return za(this.executorsByZIndex_)}execute(e,n,r,i,s,a,o){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(ns),a=a||ql;const c=ql.length;let u,d,h,f,p;for(o&&l.reverse(),u=0,d=l.length;u<d;++u){const m=l[u].toString();for(p=this.executorsByZIndex_[m],h=0,f=a.length;h<f;++h){const y=a[h],v=p[y];if(v!==void 0){const b=o===null?void 0:v.getZIndexContext(),g=b?b.getContext():e,_=this.maxExtent_&&y!=="Image"&&y!=="Text";if(_&&(g.save(),this.clip(g,r)),!b||y==="Text"||y==="Image"?v.execute(g,n,r,i,s,o):b.pushFunction(w=>v.execute(w,n,r,i,s,o)),_&&g.restore(),b){b.offset();const w=l[u]*c+h;this.deferredZIndexContexts_[w]||(this.deferredZIndexContexts_[w]=[]),this.deferredZIndexContexts_[w].push(b)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,n=Object.keys(e).map(Number).sort(ns);for(let r=0,i=n.length;r<i;++r)e[n[r]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[n[r]].length=0}}const Dg={};function O4(t){if(Dg[t]!==void 0)return Dg[t];const e=t*2+1,n=t*t,r=new Array(n+1);for(let s=0;s<=t;++s)for(let a=0;a<=t;++a){const o=s*s+a*a;if(o>n)break;let l=r[o];l||(l=[],r[o]=l),l.push(((t+s)*e+(t+a))*4+3),s>0&&l.push(((t-s)*e+(t+a))*4+3),a>0&&(l.push(((t+s)*e+(t-a))*4+3),s>0&&l.push(((t-s)*e+(t-a))*4+3))}const i=[];for(let s=0,a=r.length;s<a;++s)r[s]&&i.push(...r[s]);return Dg[t]=i,i}class L4 extends PI{constructor(e,n,r,i,s,a,o){super(),this.context_=e,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?w0(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=a,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=ei()}drawImages_(e,n,r,i){if(!this.image_)return;const s=Da(e,n,r,i,this.transform_,this.pixelCoordinates_),a=this.context_,o=this.tmpLocalTransform_,l=a.globalAlpha;this.imageOpacity_!=1&&(a.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,d=s.length;u<d;u+=2){const h=s[u]-this.imageAnchorX_,f=s[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const p=h+this.imageAnchorX_,m=f+this.imageAnchorY_;Fi(o,p,m,1,1,c,-p,-m),a.save(),a.transform.apply(a,o),a.translate(p,m),a.scale(this.imageScale_[0],this.imageScale_[1]),a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),a.restore()}else a.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(a.globalAlpha=l)}drawText_(e,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Da(e,n,r,i,this.transform_,this.pixelCoordinates_),a=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);n<r;n+=i){const l=s[n]+this.textOffsetX_,c=s[n+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(a.save(),a.translate(l-this.textOffsetX_,c-this.textOffsetY_),a.rotate(o),a.translate(this.textOffsetX_,this.textOffsetY_),a.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&a.strokeText(this.text_,0,0),this.textFillState_&&a.fillText(this.text_,0,0),a.restore()):(this.textStrokeState_&&a.strokeText(this.text_,l,c),this.textFillState_&&a.fillText(this.text_,l,c))}}moveToLineTo_(e,n,r,i,s){const a=this.context_,o=Da(e,n,r,i,this.transform_,this.pixelCoordinates_);a.moveTo(o[0],o[1]);let l=o.length;s&&(l-=2);for(let c=2;c<l;c+=2)a.lineTo(o[c],o[c+1]);return s&&a.closePath(),r}drawRings_(e,n,r,i){for(let s=0,a=r.length;s<a;++s)n=this.moveToLineTo_(e,n,r[s],i,!0);return n}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hn(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=F3(e,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],s=Math.sqrt(r*r+i*i),a=this.context_;a.beginPath(),a.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,n){const r=n.getGeometryFunction()(e);r&&(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(e){const n=e.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hn(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),n.stroke()}if(this.text_!==""){const n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=e.getExtent();if(hn(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=e.getFlatCoordinates();let s=0;const a=e.getEnds(),o=e.getStride();r.beginPath();for(let l=0,c=a.length;l<c;++l)s=this.moveToLineTo_(i,s,a[l],o,!1);r.stroke()}if(this.text_!==""){const r=e.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!hn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=e.getOrientedFlatCoordinates();let i=0;const s=e.getEndss(),a=e.getStride();n.beginPath();for(let o=0,l=s.length;o<l;++o){const c=s[o];i=this.drawRings_(r,i,c,a)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=e.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(e){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,n.lineCap=e.lineCap),ao(r.lineDash,e.lineDash)||n.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,n.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,n.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,n.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,n.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset,n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const n=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:ud;r?(r.font!=e.font&&(r.font=e.font,n.font=e.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,n.textBaseline=e.textBaseline)):(n.font=e.font,n.textAlign=i,n.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,n){if(!e)this.fillState_=null;else{const r=e.getColor();this.fillState_={fillStyle:Ji(r||Or)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),s=n.getLineDash(),a=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),u=s||Ls;this.strokeState_={lineCap:i!==void 0?i:wu,lineDash:this.pixelRatio_===1?u:u.map(d=>d*this.pixelRatio_),lineDashOffset:(a||Fs)*this.pixelRatio_,lineJoin:o!==void 0?o:Eu,lineWidth:(l!==void 0?l:cd)*this.pixelRatio_,miterLimit:c!==void 0?c:od,strokeStyle:Ji(r||ld)}}}setImageStyle(e){let n;if(!e||!(n=e.getSize())){this.image_=null;return}const r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const a=e.getScaleArray();this.imageScale_=[a[0]*this.pixelRatio_/r,a[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(e){if(!e)this.text_="";else{const n=e.getFill();if(!n)this.textFillState_=null;else{const f=n.getColor();this.textFillState_={fillStyle:Ji(f||Or)}}const r=e.getStroke();if(!r)this.textStrokeState_=null;else{const f=r.getColor(),p=r.getLineCap(),m=r.getLineDash(),y=r.getLineDashOffset(),v=r.getLineJoin(),b=r.getWidth(),g=r.getMiterLimit();this.textStrokeState_={lineCap:p!==void 0?p:wu,lineDash:m||Ls,lineDashOffset:y||Fs,lineJoin:v!==void 0?v:Eu,lineWidth:b!==void 0?b:cd,miterLimit:g!==void 0?g:od,strokeStyle:Ji(f||ld)}}const i=e.getFont(),s=e.getOffsetX(),a=e.getOffsetY(),o=e.getRotateWithView(),l=e.getRotation(),c=e.getScaleArray(),u=e.getText(),d=e.getTextAlign(),h=e.getTextBaseline();this.textState_={font:i!==void 0?i:Gk,textAlign:d!==void 0?d:ud,textBaseline:h!==void 0?h:Wf},this.text_=u!==void 0?Array.isArray(u)?u.reduce((f,p,m)=>f+=m%2?" ":p,""):u:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=a!==void 0?this.pixelRatio_*a:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}}const Xr=.5;function LI(t,e,n,r,i,s,a,o,l){const c=l?F0(i):i,u=t[0]*Xr,d=t[1]*Xr,h=qn(u,d);h.imageSmoothingEnabled=!1;const f=h.canvas,p=new L4(h,Xr,i,null,a,o,l?Wd(P3(),l):null),m=n.length,y=Math.floor((256*256*256-1)/m),v={};for(let g=1;g<=m;++g){const _=n[g-1],w=_.getStyleFunction()||r;if(!w)continue;let E=w(_,s);if(!E)continue;Array.isArray(E)||(E=[E]);const S=(g*y).toString(16).padStart(7,"#00000");for(let T=0,P=E.length;T<P;++T){const B=E[T],F=B.getGeometryFunction()(_);if(!F||!hn(c,F.getExtent()))continue;const z=B.clone(),j=z.getFill();j&&j.setColor(S);const I=z.getStroke();I&&(I.setColor(S),I.setLineDash(null)),z.setText(void 0);const O=B.getImage();if(O){const le=O.getImageSize();if(!le)continue;const ie=qn(le[0],le[1],void 0,{alpha:!1}),N=ie.canvas;ie.fillStyle=S,ie.fillRect(0,0,N.width,N.height),z.setImage(new Xd({img:N,anchor:O.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:O.getOrigin(),opacity:1,size:O.getSize(),scale:O.getScale(),rotation:O.getRotation(),rotateWithView:O.getRotateWithView()}))}const M=z.getZIndex()||0;let H=v[M];H||(H={},v[M]=H,H.Polygon=[],H.Circle=[],H.LineString=[],H.Point=[]);const Z=F.getType();if(Z==="GeometryCollection"){const le=F.getGeometriesArrayRecursive();for(let ie=0,N=le.length;ie<N;++ie){const te=le[ie];H[te.getType().replace("Multi","")].push(te,z)}}else H[Z.replace("Multi","")].push(F,z)}}const b=Object.keys(v).map(Number).sort(ns);for(let g=0,_=b.length;g<_;++g){const w=v[b[g]];for(const E in w){const x=w[E];for(let S=0,T=x.length;S<T;S+=2){p.setStyle(x[S+1]);for(let P=0,B=e.length;P<B;++P)p.setTransform(e[P]),p.drawGeometry(x[S])}}}return h.getImageData(0,0,f.width,f.height)}function FI(t,e,n){const r=[];if(n){const i=Math.floor(Math.round(t[0])*Xr),s=Math.floor(Math.round(t[1])*Xr),a=(fn(i,0,n.width-1)+fn(s,0,n.height-1)*n.width)*4,o=n.data[a],l=n.data[a+1],u=n.data[a+2]+256*(l+256*o),d=Math.floor((256*256*256-1)/e.length);u&&u%d===0&&r.push(e[u/d-1])}return r}const F4=.5,NI={Point:U4,LineString:G4,Polygon:H4,MultiPoint:Y4,MultiLineString:j4,MultiPolygon:z4,GeometryCollection:V4,Circle:$4};function N4(t,e){return parseInt(tt(t),10)-parseInt(tt(e),10)}function v_(t,e){const n=$I(t,e);return n*n}function $I(t,e){return F4*t/e}function $4(t,e,n,r,i){const s=n.getFill(),a=n.getStroke();if(s||a){const l=t.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(s,a),l.drawCircle(e,r,i)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r)}}function sp(t,e,n,r,i,s,a,o){const l=[],c=n.getImage();if(c){let h=!0;const f=c.getImageState();f==Be.LOADED||f==Be.ERROR?h=!1:f==Be.IDLE&&c.load(),h&&l.push(c.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const d=l.length>0;return d&&Promise.all(l).then(()=>i(null)),B4(t,e,n,r,s,a,o),d}function B4(t,e,n,r,i,s,a){const o=n.getGeometryFunction()(e);if(!o)return;const l=o.simplifyTransformed(r,i);if(n.getRenderer())BI(t,l,n,e,a);else{const u=NI[l.getType()];u(t,l,n,e,a,s)}}function BI(t,e,n,r,i){if(e.getType()=="GeometryCollection"){const a=e.getGeometries();for(let o=0,l=a.length;o<l;++o)BI(t,a[o],n,r,i);return}t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer(),i)}function V4(t,e,n,r,i,s){const a=e.getGeometriesArray();let o,l;for(o=0,l=a.length;o<l;++o){const c=NI[a[o].getType()];c(t,a[o],n,r,i,s)}}function G4(t,e,n,r,i){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawLineString(e,r,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,r,i)}}function j4(t,e,n,r,i){const s=n.getStroke();if(s){const o=t.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,s),o.drawMultiLineString(e,r,i)}const a=n.getText();if(a&&a.getText()){const o=t.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(e,r,i)}}function z4(t,e,n,r,i){const s=n.getFill(),a=n.getStroke();if(a||s){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,a),l.drawMultiPolygon(e,r,i)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r,i)}}function U4(t,e,n,r,i,s){const a=n.getImage(),o=n.getText(),l=o&&o.getText(),c=s&&a&&l?{}:void 0;if(a){if(a.getImageState()!=Be.LOADED)return;const u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(a,c),u.drawPoint(e,r,i)}if(l){const u=t.getBuilder(n.getZIndex(),"Text");u.setTextStyle(o,c),u.drawText(e,r,i)}}function Y4(t,e,n,r,i,s){const a=n.getImage(),o=a&&a.getOpacity()!==0,l=n.getText(),c=l&&l.getText(),u=s&&o&&c?{}:void 0;if(o){if(a.getImageState()!=Be.LOADED)return;const d=t.getBuilder(n.getZIndex(),"Image");d.setImageStyle(a,u),d.drawMultiPoint(e,r,i)}if(c){const d=t.getBuilder(n.getZIndex(),"Text");d.setTextStyle(l,u),d.drawText(e,r,i)}}function H4(t,e,n,r,i){const s=n.getFill(),a=n.getStroke();if(s||a){const l=t.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,a),l.drawPolygon(e,r,i)}const o=n.getText();if(o&&o.getText()){const l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(e,r,i)}}class VI extends r1{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=yi(),this.wrappedRenderedExtent_=yi(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,n,r){const i=n.extent,s=n.viewState,a=s.center,o=s.resolution,l=s.projection,c=s.rotation,u=l.getExtent(),d=this.getLayer().getSource(),h=this.getLayer().getDeclutter(),f=n.pixelRatio,p=n.viewHints,m=!(p[Gt.ANIMATING]||p[Gt.INTERACTING]),y=this.context,v=Math.round(vt(i)/o*f),b=Math.round(jn(i)/o*f),g=d.getWrapX()&&l.canWrapX(),_=g?vt(u):null,w=g?Math.ceil((i[2]-u[2])/_)+1:1;let E=g?Math.floor((i[0]-u[0])/_):0;do{let x=this.getRenderTransform(a,o,0,f,v,b,E*_);n.declutter&&(x=x.slice(0)),e.execute(y,[y.canvas.width,y.canvas.height],x,c,m,r===void 0?ql:r?ip:D4,r?h&&n.declutter[h]:void 0)}while(++E<w)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=qn(this.context.canvas.width,this.context.canvas.height,GE))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,jd(this.context),GE.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex];this.opacity_=r.opacity;const i=e.viewState;this.prepareContainer(e,n);const s=this.context,a=this.replayGroup_;let o=a&&!a.isEmpty();if(!o&&!(this.getLayer().hasListener(pi.PRERENDER)||this.getLayer().hasListener(pi.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(s,e),i.projection,this.clipped_=!1,o&&r.extent&&this.clipping){const l=As(r.extent);o=hn(l,e.extent),this.clipped_=o&&!Is(l,e.extent),this.clipped_&&this.clipUnrotated(s,e,l)}return o&&this.renderWorlds(a,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=this.frameState.size.slice(),i=this.renderedCenter_,s=this.renderedResolution_,a=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],d=r[0]*Xr,h=r[1]*Xr;u.push(this.getRenderTransform(i,s,a,Xr,d,h,0).slice());const f=c.getSource(),p=o.getExtent();if(f.getWrapX()&&o.canWrapX()&&!Is(p,l)){let m=l[0];const y=vt(p);let v=0,b;for(;m<p[0];)--v,b=y*v,u.push(this.getRenderTransform(i,s,a,Xr,d,h,b).slice()),m+=y;for(v=0,m=l[2];m>p[2];)++v,b=y*v,u.push(this.getRenderTransform(i,s,a,Xr,d,h,b).slice()),m-=y}this.hitDetectionImageData_=LI(r,u,this.renderedFeatures_,c.getStyleFunction(),l,s,a,v_(s,this.renderedPixelRatio_),null)}n(FI(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,n,r,i,s){if(!this.replayGroup_)return;const a=n.viewState.resolution,o=n.viewState.rotation,l=this.getLayer(),c={},u=function(p,m,y){const v=tt(p),b=c[v];if(b){if(b!==!0&&y<b.distanceSq){if(y===0)return c[v]=!0,s.splice(s.lastIndexOf(b),1),i(p,l,m);b.geometry=m,b.distanceSq=y}}else{if(y===0)return c[v]=!0,i(p,l,m);s.push(c[v]={feature:p,layer:l,geometry:m,distanceSq:y,callback:i})}};let d;const h=[this.replayGroup_],f=this.getLayer().getDeclutter();return h.some(p=>d=p.forEachFeatureAtCoordinate(e,a,o,r,u,f&&n.declutter[f]?n.declutter[f].all().map(m=>m.value):null)),d}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=e.viewHints[Gt.ANIMATING],s=e.viewHints[Gt.INTERACTING],a=n.getUpdateWhileAnimating(),o=n.getUpdateWhileInteracting();if(this.ready&&!a&&i||!o&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=e.extent,c=e.viewState,u=c.projection,d=c.resolution,h=e.pixelRatio,f=n.getRevision(),p=n.getRenderBuffer();let m=n.getRenderOrder();m===void 0&&(m=N4);const y=c.center.slice(),v=Ma(l,p*d),b=v.slice(),g=[v.slice()],_=u.getExtent();if(r.getWrapX()&&u.canWrapX()&&!Is(_,e.extent)){const j=vt(_),I=Math.max(vt(v)/2,j);v[0]=_[0]-I,v[2]=_[2]+I,D0(y,u);const O=Zk(g[0],u);O[0]<_[0]&&O[2]<_[2]?g.push([O[0]+j,O[1],O[2]+j,O[3]]):O[0]>_[0]&&O[2]>_[2]&&g.push([O[0]-j,O[1],O[2]-j,O[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==f&&this.renderedRenderOrder_==m&&this.renderedFrameDeclutter_===!!e.declutter&&Is(this.wrappedRenderedExtent_,v))return ao(this.renderedExtent_,b)||(this.hitDetectionImageData_=null,this.renderedExtent_=b),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const w=new DI($I(d,h),v,d,h);let E;for(let j=0,I=g.length;j<I;++j)r.loadFeatures(g[j],d,u);const x=v_(d,h);let S=!0;const T=(j,I)=>{let O;const M=j.getStyleFunction()||n.getStyleFunction();if(M&&(O=M(j,d)),O){const H=this.renderFeature(j,x,O,w,E,this.getLayer().getDeclutter(),I);S=S&&!H}},P=F0(v),B=r.getFeaturesInExtent(P);m&&B.sort(m);for(let j=0,I=B.length;j<I;++j)T(B[j],j);this.renderedFeatures_=B,this.ready=S;const F=w.finish(),z=new OI(v,d,h,r.getOverlaps(),F,n.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=f,this.renderedRenderOrder_=m,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=b,this.wrappedRenderedExtent_=v,this.renderedCenter_=y,this.renderedProjection_=u,this.renderedPixelRatio_=h,this.replayGroup_=z,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,n,r,i,s,a,o){if(!r)return!1;let l=!1;if(Array.isArray(r))for(let c=0,u=r.length;c<u;++c)l=sp(i,e,r[c],n,this.boundHandleStyleImageChange_,s,a,o)||l;else l=sp(i,e,r,n,this.boundHandleStyleImageChange_,s,a,o);return l}}class W4 extends z${constructor(e,n,r,i,s){const a=s!==void 0?Be.IDLE:Be.LOADED;super(e,n,r,a),this.loader_=s!==void 0?s:null,this.canvas_=i,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Be.ERROR):this.state=Be.LOADED,this.changed()}load(){this.state==Be.IDLE&&(this.state=Be.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}function q4(t){return Array.isArray(t)?Math.min(...t):t}class K4 extends T4{constructor(e){super(e),this.vectorRenderer_=new VI(e),this.layerImageRatio_=e.getImageRatio(),this.coordinateToVectorPixelTransform_=ei(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(e){if(!this.vectorRenderer_)return Promise.resolve([]);const n=yn(this.coordinateToVectorPixelTransform_,yn(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(n)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(e){const n=e.pixelRatio,r=e.viewState,i=r.resolution,s=e.viewHints,a=this.vectorRenderer_;let o=e.extent;this.layerImageRatio_!==1&&(o=o.slice(0),h3(o,this.layerImageRatio_));const l=vt(o)/i,c=jn(o)/i;if(!s[Gt.ANIMATING]&&!s[Gt.INTERACTING]&&!dl(o)){a.useContainer(null,null);const u=a.context,d=e.layerStatesArray[e.layerIndex],h=Object.assign({},d,{opacity:1}),f=Object.assign({},e,{extent:o,size:[l,c],viewState:Object.assign({},e.viewState,{rotation:0}),layerStatesArray:[h],layerIndex:0,declutter:null}),p=this.getLayer().getDeclutter();p&&(f.declutter={[p]:new e1(9)});let m=!0;const y=new W4(o,i,n,u.canvas,function(v){a.prepareFrame(f)&&a.replayGroupChanged&&(a.clipping=!1,a.renderFrame(f,null)&&(a.renderDeclutter(f),a.renderDeferred(f),m=!1),v())});y.addEventListener(Ue.CHANGE,()=>{if(y.getState()!==Be.LOADED)return;this.image_=m?null:y;const v=y.getPixelRatio(),b=q4(y.getResolution())*n/v;this.renderedResolution=b,this.coordinateToVectorPixelTransform_=Fi(this.coordinateToVectorPixelTransform_,l/2,c/2,1/b,-1/b,0,-r.center[0],-r.center[1])}),y.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(e,n,r,i,s){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,r,i,s):super.forEachFeatureAtCoordinate(e,n,r,i,s)}}class GI extends _m{constructor(e){e=e||{};const n=Object.assign({},e);delete n.imageRatio,super(n),this.imageRatio_=e.imageRatio!==void 0?e.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new K4(this)}}const Lr={ADD:"add",REMOVE:"remove"},HE={LENGTH:"length"};class Vh extends Ws{constructor(e,n,r){super(e),this.element=n,this.index=r}}class Qi extends Bi{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(HE.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new Vh(Lr.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new Vh(Lr.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new Vh(Lr.REMOVE,i,e)),this.dispatchEvent(new Vh(Lr.ADD,n,e))}updateLength_(){this.set(HE.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new Error("Duplicate item added to a unique collection")}}class WE{constructor(e){this.rbush_=new e1(e),this.items_={}}insert(e,n){const r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:n};this.rbush_.insert(r),this.items_[tt(n)]=r}load(e,n){const r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const a=e[i],o=n[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:o};r[i]=l,this.items_[tt(o)]=l}this.rbush_.load(r)}remove(e){const n=tt(e),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(e,n){const r=this.items_[tt(n)],i=[r.minX,r.minY,r.maxX,r.maxY];Tu(i,e)||(this.remove(n),this.insert(e,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(e){const n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,n){return this.forEach_(this.getInExtent(e),n)}forEach_(e,n){let r;for(let i=0,s=e.length;i<s;i++)if(r=n(e[i]),r)return r;return r}isEmpty(){return za(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const n=this.rbush_.toJSON();return Gs(n.minX,n.minY,n.maxX,n.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const n in e.items_)this.items_[n]=e.items_[n]}}class jI extends Bi{constructor(e){super(),this.projection=tn(e.projection),this.attributions_=qE(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=qE(e),this.changed()}setState(e){this.state_=e,this.changed()}}function qE(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const li={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function X4(t,e){return[[-1/0,-1/0,1/0,1/0]]}let Z4=!1;function zI(t,e,n,r,i,s,a){const o=new XMLHttpRequest;o.open("GET",typeof t=="function"?t(n,r,i):t,!0),e.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=Z4,o.onload=function(l){if(!o.status||o.status>=200&&o.status<300){const c=e.getType();try{let u;c=="text"||c=="json"?u=o.responseText:c=="xml"?u=o.responseXML||o.responseText:c=="arraybuffer"&&(u=o.response),u?s(e.readFeatures(u,{extent:n,featureProjection:i}),e.readProjection(u)):a()}catch{a()}}else a()},o.onerror=a,o.send()}function KE(t,e){return function(n,r,i,s,a){const o=this;zI(t,e,n,r,i,function(l,c){o.addFeatures(l),s!==void 0&&s(l)},a||vu)}}class aa extends Ws{constructor(e,n,r){super(e),this.feature=n,this.features=r}}class i1 extends jI{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=vu,this.format_=e.format,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(yt(this.format_,"`format` must be set when `url` is set"),this.loader_=KE(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:X4;const n=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=n?new WE:null,this.loadedExtentsRtree_=new WE,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(e.features)?i=e.features:e.features&&(r=e.features,i=r.getArray()),!n&&r===void 0&&(r=new Qi(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const n=tt(e);if(!this.addToIndex_(n,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(n,e);const r=e.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[n]=e;this.dispatchEvent(new aa(li.ADDFEATURE,e))}setupChangeEvents_(e,n){n instanceof Zn||(this.featureChangeKeys_[e]=[ht(n,Ue.CHANGE,this.handleFeatureChange_,this),ht(n,bu.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,n){let r=!0;if(n.getId()!==void 0){const i=String(n.getId());if(!(i in this.idIndex_))this.idIndex_[i]=n;else if(n instanceof Zn){const s=this.idIndex_[i];s instanceof Zn?Array.isArray(s)?s.push(n):this.idIndex_[i]=[s,n]:r=!1}else r=!1}return r&&(yt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=n),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const n=[],r=[],i=[];for(let s=0,a=e.length;s<a;s++){const o=e[s],l=tt(o);this.addToIndex_(l,o)&&r.push(o)}for(let s=0,a=r.length;s<a;s++){const o=r[s],l=tt(o);this.setupChangeEvents_(l,o);const c=o.getGeometry();if(c){const u=c.getExtent();n.push(u),i.push(o)}else this.nullGeometryFeatures_[l]=o}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(li.ADDFEATURE))for(let s=0,a=r.length;s<a;s++)this.dispatchEvent(new aa(li.ADDFEATURE,r[s]))}bindFeaturesCollection_(e){let n=!1;this.addEventListener(li.ADDFEATURE,function(r){n||(n=!0,e.push(r.feature),n=!1)}),this.addEventListener(li.REMOVEFEATURE,function(r){n||(n=!0,e.remove(r.feature),n=!1)}),e.addEventListener(Lr.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),e.addEventListener(Lr.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach($t);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new aa(li.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,n){const r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(i){const s=i.getGeometry();if(s instanceof Zn||s.intersectsCoordinate(e))return n(i)})}forEachFeatureInExtent(e,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(e,n){return this.forEachFeatureInExtent(e,function(r){const i=r.getGeometry();if(i instanceof Zn||i.intersectsExtent(e)){const s=n(r);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),za(this.nullGeometryFeatures_)||rs(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const n=[];return this.forEachFeatureAtCoordinateDirect(e,function(r){n.push(r)}),n}getFeaturesInExtent(e,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const i=Jk(e,n);return[].concat(...i.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,n){const r=e[0],i=e[1];let s=null;const a=[NaN,NaN];let o=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||ad,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){const u=c.getGeometry(),d=o;if(o=u instanceof Zn?0:u.closestPointXY(r,i,a,o),o<d){s=c;const h=Math.sqrt(o);l[0]=r-h,l[1]=i-h,l[2]=r+h,l[3]=i+h}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const n=this.idIndex_[e.toString()];return n!==void 0?n:null}getFeatureByUid(e){const n=this.uidIndex_[e];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const n=e.target,r=tt(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const a=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(a,n)):this.featuresRtree_&&this.featuresRtree_.update(a,n)}const s=n.getId();if(s!==void 0){const a=s.toString();this.idIndex_[a]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[a]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new aa(li.CHANGEFEATURE,n))}hasFeature(e){const n=e.getId();return n!==void 0?n in this.idIndex_:tt(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&za(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,n,r){const i=this.loadedExtentsRtree_,s=this.strategy_(e,n,r);for(let a=0,o=s.length;a<o;++a){const l=s[a];i.forEachInExtent(l,function(u){return Is(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new aa(li.FEATURESLOADSTART)),this.loader_.call(this,l,n,r,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new aa(li.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new aa(li.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(e,function(i){if(Tu(i.extent,e))return r=i,!0}),r&&n.remove(r)}removeFeatures(e){const n=[];for(let r=0,i=e.length;r<i;++r){const s=e[r],a=this.removeFeatureInternal(s);a&&n.push(a)}n.length>0&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const n=tt(e);if(!(n in this.uidIndex_))return;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.featureChangeKeys_[n]?.forEach($t),delete this.featureChangeKeys_[n];const i=e.getId();if(i!==void 0){const s=i.toString(),a=this.idIndex_[s];a===e?delete this.idIndex_[s]:Array.isArray(a)&&(a.splice(a.indexOf(e),1),a.length===1&&(this.idIndex_[s]=a[0]))}return delete this.uidIndex_[n],this.hasListener(li.REMOVEFEATURE)&&this.dispatchEvent(new aa(li.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let n=!1;for(const r in this.idIndex_){const i=this.idIndex_[r];if(e instanceof Zn&&Array.isArray(i)&&i.includes(e))i.splice(i.indexOf(e),1);else if(this.idIndex_[r]===e){delete this.idIndex_[r],n=!0;break}}return n}setLoader(e){this.loader_=e}setUrl(e){yt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(KE(e,this.format_))}}function UI(t,e){return function(){return t.apply(e,arguments)}}var J4={};const{toString:Q4}=Object.prototype,{getPrototypeOf:s1}=Object,vm=(t=>e=>{const n=Q4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vi=t=>(t=t.toLowerCase(),e=>vm(e)===t),bm=t=>e=>typeof e===t,{isArray:$u}=Array,vd=bm("undefined");function eB(t){return t!==null&&!vd(t)&&t.constructor!==null&&!vd(t.constructor)&&ti(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const YI=Vi("ArrayBuffer");function tB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&YI(t.buffer),e}const nB=bm("string"),ti=bm("function"),HI=bm("number"),wm=t=>t!==null&&typeof t=="object",rB=t=>t===!0||t===!1,hf=t=>{if(vm(t)!=="object")return!1;const e=s1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},iB=Vi("Date"),sB=Vi("File"),aB=Vi("Blob"),oB=Vi("FileList"),lB=t=>wm(t)&&ti(t.pipe),uB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ti(t.append)&&((e=vm(t))==="formdata"||e==="object"&&ti(t.toString)&&t.toString()==="[object FormData]"))},cB=Vi("URLSearchParams"),[dB,hB,fB,pB]=["ReadableStream","Request","Response","Headers"].map(Vi),mB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),$u(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function WI(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:J4,qI=t=>!vd(t)&&t!==Mo;function b_(){const{caseless:t}=qI(this)&&this||{},e={},n=(r,i)=>{const s=t&&WI(e,i)||i;hf(e[s])&&hf(r)?e[s]=b_(e[s],r):hf(r)?e[s]=b_({},r):$u(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Qd(arguments[r],n);return e}const gB=(t,e,n,{allOwnKeys:r}={})=>(Qd(e,(i,s)=>{n&&ti(i)?t[s]=UI(i,n):t[s]=i},{allOwnKeys:r}),t),yB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_B=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},vB=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&s1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},bB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},wB=t=>{if(!t)return null;if($u(t))return t;let e=t.length;if(!HI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},EB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&s1(Uint8Array)),TB=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},xB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},CB=Vi("HTMLFormElement"),SB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),XE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),RB=Vi("RegExp"),KI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Qd(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},kB=t=>{KI(t,(e,n)=>{if(ti(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ti(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},IB=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return $u(t)?r(t):r(String(t).split(e)),n},AB=()=>{},MB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Og="abcdefghijklmnopqrstuvwxyz",ZE="0123456789",XI={DIGIT:ZE,ALPHA:Og,ALPHA_DIGIT:Og+Og.toUpperCase()+ZE},PB=(t=16,e=XI.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function DB(t){return!!(t&&ti(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const OB=t=>{const e=new Array(10),n=(r,i)=>{if(wm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=$u(r)?[]:{};return Qd(r,(a,o)=>{const l=n(a,i+1);!vd(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},LB=Vi("AsyncFunction"),FB=t=>t&&(wm(t)||ti(t))&&ti(t.then)&&ti(t.catch),ZI=((t,e)=>t?setImmediate:e?((n,r)=>(Mo.addEventListener("message",({source:i,data:s})=>{i===Mo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Mo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ti(Mo.postMessage)),NB=typeof queueMicrotask<"u"?queueMicrotask.bind(Mo):typeof process<"u"&&process.nextTick||ZI,ue={isArray:$u,isArrayBuffer:YI,isBuffer:eB,isFormData:uB,isArrayBufferView:tB,isString:nB,isNumber:HI,isBoolean:rB,isObject:wm,isPlainObject:hf,isReadableStream:dB,isRequest:hB,isResponse:fB,isHeaders:pB,isUndefined:vd,isDate:iB,isFile:sB,isBlob:aB,isRegExp:RB,isFunction:ti,isStream:lB,isURLSearchParams:cB,isTypedArray:EB,isFileList:oB,forEach:Qd,merge:b_,extend:gB,trim:mB,stripBOM:yB,inherits:_B,toFlatObject:vB,kindOf:vm,kindOfTest:Vi,endsWith:bB,toArray:wB,forEachEntry:TB,matchAll:xB,isHTMLForm:CB,hasOwnProperty:XE,hasOwnProp:XE,reduceDescriptors:KI,freezeMethods:kB,toObjectSet:IB,toCamelCase:SB,noop:AB,toFiniteNumber:MB,findKey:WI,global:Mo,isContextDefined:qI,ALPHABET:XI,generateString:PB,isSpecCompliantForm:DB,toJSONObject:OB,isAsyncFn:LB,isThenable:FB,setImmediate:ZI,asap:NB};function it(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ue.inherits(it,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const JI=it.prototype,QI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QI[t]={value:t}});Object.defineProperties(it,QI);Object.defineProperty(JI,"isAxiosError",{value:!0});it.from=(t,e,n,r,i,s)=>{const a=Object.create(JI);return ue.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),it.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const $B=null;function w_(t){return ue.isPlainObject(t)||ue.isArray(t)}function eA(t){return ue.endsWith(t,"[]")?t.slice(0,-2):t}function JE(t,e,n){return t?t.concat(e).map(function(i,s){return i=eA(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function BB(t){return ue.isArray(t)&&!t.some(w_)}const VB=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function Em(t,e,n){if(!ue.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!ue.isUndefined(y[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(e);if(!ue.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(ue.isDate(p))return p.toISOString();if(!l&&ue.isBlob(p))throw new it("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(p)||ue.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let v=p;if(p&&!y&&typeof p=="object"){if(ue.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(ue.isArray(p)&&BB(p)||(ue.isFileList(p)||ue.endsWith(m,"[]"))&&(v=ue.toArray(p)))return m=eA(m),v.forEach(function(g,_){!(ue.isUndefined(g)||g===null)&&e.append(a===!0?JE([m],_,s):a===null?m:m+"[]",c(g))}),!1}return w_(p)?!0:(e.append(JE(y,m,s),c(p)),!1)}const d=[],h=Object.assign(VB,{defaultVisitor:u,convertValue:c,isVisitable:w_});function f(p,m){if(!ue.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),ue.forEach(p,function(v,b){(!(ue.isUndefined(v)||v===null)&&i.call(e,v,ue.isString(b)?b.trim():b,m,h))===!0&&f(v,m?m.concat(b):[b])}),d.pop()}}if(!ue.isObject(t))throw new TypeError("data must be an object");return f(t),e}function QE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function a1(t,e){this._pairs=[],t&&Em(t,this,e)}const tA=a1.prototype;tA.append=function(e,n){this._pairs.push([e,n])};tA.toString=function(e){const n=e?function(r){return e.call(this,r,QE)}:QE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function GB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nA(t,e,n){if(!e)return t;const r=n&&n.encode||GB,i=n&&n.serialize;let s;if(i?s=i(e,n):s=ue.isURLSearchParams(e)?e.toString():new a1(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class eT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(r){r!==null&&e(r)})}}const rA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jB=typeof URLSearchParams<"u"?URLSearchParams:a1,zB=typeof FormData<"u"?FormData:null,UB=typeof Blob<"u"?Blob:null,YB={isBrowser:!0,classes:{URLSearchParams:jB,FormData:zB,Blob:UB},protocols:["http","https","file","blob","url","data"]},o1=typeof window<"u"&&typeof document<"u",E_=typeof navigator=="object"&&navigator||void 0,HB=o1&&(!E_||["ReactNative","NativeScript","NS"].indexOf(E_.product)<0),WB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qB=o1&&window.location.href||"http://localhost",KB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:o1,hasStandardBrowserEnv:HB,hasStandardBrowserWebWorkerEnv:WB,navigator:E_,origin:qB},Symbol.toStringTag,{value:"Module"})),Gr={...KB,...YB};function XB(t,e){return Em(t,new Gr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Gr.isNode&&ue.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ZB(t){return ue.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JB(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function iA(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&ue.isArray(i)?i.length:a,l?(ue.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!ue.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&ue.isArray(i[a])&&(i[a]=JB(i[a])),!o)}if(ue.isFormData(t)&&ue.isFunction(t.entries)){const n={};return ue.forEachEntry(t,(r,i)=>{e(ZB(r),i,n,0)}),n}return null}function QB(t,e,n){if(ue.isString(t))try{return(e||JSON.parse)(t),ue.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const eh={transitional:rA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ue.isObject(e);if(s&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return i?JSON.stringify(iA(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return XB(e,this.formSerializer).toString();if((o=ue.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Em(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),QB(e)):e}],transformResponse:[function(e){const n=this.transitional||eh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?it.from(o,it.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gr.classes.FormData,Blob:Gr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],t=>{eh.headers[t]={}});const eV=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tV=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&eV[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},tT=Symbol("internals");function dc(t){return t&&String(t).trim().toLowerCase()}function ff(t){return t===!1||t==null?t:ue.isArray(t)?t.map(ff):String(t)}function nV(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const rV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lg(t,e,n,r,i){if(ue.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ue.isString(e)){if(ue.isString(r))return e.indexOf(r)!==-1;if(ue.isRegExp(r))return r.test(e)}}function iV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function sV(t,e){const n=ue.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}class jr{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,c){const u=dc(l);if(!u)throw new Error("header name must be a non-empty string");const d=ue.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=ff(o))}const a=(o,l)=>ue.forEach(o,(c,u)=>s(c,u,l));if(ue.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(ue.isString(e)&&(e=e.trim())&&!rV(e))a(tV(e),n);else if(ue.isHeaders(e))for(const[o,l]of e.entries())s(l,o,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=dc(e),e){const r=ue.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return nV(i);if(ue.isFunction(n))return n.call(this,i,r);if(ue.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=dc(e),e){const r=ue.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Lg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=dc(a),a){const o=ue.findKey(r,a);o&&(!n||Lg(r,r[o],o,n))&&(delete r[o],i=!0)}}return ue.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Lg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return ue.forEach(this,(i,s)=>{const a=ue.findKey(r,s);if(a){n[a]=ff(i),delete n[s];return}const o=e?iV(s):String(s).trim();o!==s&&delete n[s],n[o]=ff(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ue.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ue.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[tT]=this[tT]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=dc(a);r[o]||(sV(i,a),r[o]=!0)}return ue.isArray(e)?e.forEach(s):s(e),this}}jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(jr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ue.freezeMethods(jr);function Fg(t,e){const n=this||eh,r=e||n,i=jr.from(r.headers);let s=r.data;return ue.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function sA(t){return!!(t&&t.__CANCEL__)}function Bu(t,e,n){it.call(this,t??"canceled",it.ERR_CANCELED,e,n),this.name="CanceledError"}ue.inherits(Bu,it,{__CANCEL__:!0});function aA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new it("Request failed with status code "+n.status,[it.ERR_BAD_REQUEST,it.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function oV(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];a||(a=c),n[i]=l,r[i]=c;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function lV(t,e){let n=0,r=1e3/e,i,s;const a=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?a(c,u):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},r-d)))},()=>i&&a(i)]}const ap=(t,e,n=3)=>{let r=0;const i=oV(50,250);return lV(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,c=i(l),u=a<=o;r=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},n)},nT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},rT=t=>(...e)=>ue.asap(()=>t(...e)),uV=Gr.hasStandardBrowserEnv?function(){const e=Gr.navigator&&/(msie|trident)/i.test(Gr.navigator.userAgent),n=document.createElement("a");let r;function i(s){let a=s;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const o=ue.isString(a)?i(a):a;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),cV=Gr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];ue.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ue.isString(r)&&a.push("path="+r),ue.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function oA(t,e){return t&&!dV(e)?hV(t,e):e}const iT=t=>t instanceof jr?{...t}:t;function Qo(t,e){e=e||{};const n={};function r(c,u,d){return ue.isPlainObject(c)&&ue.isPlainObject(u)?ue.merge.call({caseless:d},c,u):ue.isPlainObject(u)?ue.merge({},u):ue.isArray(u)?u.slice():u}function i(c,u,d){if(ue.isUndefined(u)){if(!ue.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!ue.isUndefined(u))return r(void 0,u)}function a(c,u){if(ue.isUndefined(u)){if(!ue.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u)=>i(iT(c),iT(u),!0)};return ue.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,h=d(t[u],e[u],u);ue.isUndefined(h)&&d!==o||(n[u]=h)}),n}const lA=t=>{const e=Qo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=jr.from(a),e.url=nA(oA(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ue.isFormData(n)){if(Gr.hasStandardBrowserEnv||Gr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Gr.hasStandardBrowserEnv&&(r&&ue.isFunction(r)&&(r=r(e)),r||r!==!1&&uV(e.url))){const c=i&&s&&cV.read(s);c&&a.set(i,c)}return e},fV=typeof XMLHttpRequest<"u",pV=fV&&function(t){return new Promise(function(n,r){const i=lA(t);let s=i.data;const a=jr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,d,h,f,p;function m(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const g=jr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:g,config:t,request:y};aA(function(x){n(x),m()},function(x){r(x),m()},w),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new it("Request aborted",it.ECONNABORTED,t,y)),y=null)},y.onerror=function(){r(new it("Network Error",it.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||rA;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new it(_,w.clarifyTimeoutError?it.ETIMEDOUT:it.ECONNABORTED,t,y)),y=null},s===void 0&&a.setContentType(null),"setRequestHeader"in y&&ue.forEach(a.toJSON(),function(_,w){y.setRequestHeader(w,_)}),ue.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),o&&o!=="json"&&(y.responseType=i.responseType),c&&([h,p]=ap(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([d,f]=ap(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=g=>{y&&(r(!g||g.type?new Bu(null,t,y):g),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=aV(i.url);if(b&&Gr.protocols.indexOf(b)===-1){r(new it("Unsupported protocol "+b+":",it.ERR_BAD_REQUEST,t));return}y.send(s||null)})},mV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;r.abort(u instanceof it?u:new Bu(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,s(new it(`timeout ${e} of ms exceeded`,it.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>ue.asap(o),l}},gV=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},yV=async function*(t,e){for await(const n of _V(t))yield*gV(n,e)},_V=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},sT=(t,e,n,r)=>{const i=yV(t,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let d=u.byteLength;if(n){let h=s+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Tm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uA=Tm&&typeof ReadableStream=="function",vV=Tm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),cA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},bV=uA&&cA(()=>{let t=!1;const e=new Request(Gr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),aT=64*1024,T_=uA&&cA(()=>ue.isReadableStream(new Response("").body)),op={stream:T_&&(t=>t.body)};Tm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!op[e]&&(op[e]=ue.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new it(`Response type '${e}' is not supported`,it.ERR_NOT_SUPPORT,r)})})})(new Response);const wV=async t=>{if(t==null)return 0;if(ue.isBlob(t))return t.size;if(ue.isSpecCompliantForm(t))return(await new Request(Gr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(t)||ue.isArrayBuffer(t))return t.byteLength;if(ue.isURLSearchParams(t)&&(t=t+""),ue.isString(t))return(await vV(t)).byteLength},EV=async(t,e)=>{const n=ue.toFiniteNumber(t.getContentLength());return n??wV(e)},TV=Tm&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=lA(t);c=c?(c+"").toLowerCase():"text";let f=mV([i,s&&s.toAbortSignal()],a),p;const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let y;try{if(l&&bV&&n!=="get"&&n!=="head"&&(y=await EV(u,r))!==0){let w=new Request(e,{method:"POST",body:r,duplex:"half"}),E;if(ue.isFormData(r)&&(E=w.headers.get("content-type"))&&u.setContentType(E),w.body){const[x,S]=nT(y,ap(rT(l)));r=sT(w.body,aT,x,S)}}ue.isString(d)||(d=d?"include":"omit");const v="credentials"in Request.prototype;p=new Request(e,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?d:void 0});let b=await fetch(p);const g=T_&&(c==="stream"||c==="response");if(T_&&(o||g&&m)){const w={};["status","statusText","headers"].forEach(T=>{w[T]=b[T]});const E=ue.toFiniteNumber(b.headers.get("content-length")),[x,S]=o&&nT(E,ap(rT(o),!0))||[];b=new Response(sT(b.body,aT,x,()=>{S&&S(),m&&m()}),w)}c=c||"text";let _=await op[ue.findKey(op,c)||"text"](b,t);return!g&&m&&m(),await new Promise((w,E)=>{aA(w,E,{data:_,headers:jr.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:p})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new it("Network Error",it.ERR_NETWORK,t,p),{cause:v.cause||v}):it.from(v,v&&v.code,t,p)}}),x_={http:$B,xhr:pV,fetch:TV};ue.forEach(x_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const oT=t=>`- ${t}`,xV=t=>ue.isFunction(t)||t===null||t===!1,dA={getAdapter:t=>{t=ue.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!xV(n)&&(r=x_[(a=String(n)).toLowerCase()],r===void 0))throw new it(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(oT).join(`
`):" "+oT(s[0]):"as no adapter specified";throw new it("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:x_};function Ng(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bu(null,t)}function lT(t){return Ng(t),t.headers=jr.from(t.headers),t.data=Fg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dA.getAdapter(t.adapter||eh.adapter)(t).then(function(r){return Ng(t),r.data=Fg.call(t,t.transformResponse,r),r.headers=jr.from(r.headers),r},function(r){return sA(r)||(Ng(t),r&&r.response&&(r.response.data=Fg.call(t,t.transformResponse,r.response),r.response.headers=jr.from(r.response.headers))),Promise.reject(r)})}const hA="1.7.7",l1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{l1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const uT={};l1.transitional=function(e,n,r){function i(s,a){return"[Axios v"+hA+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new it(i(a," has been removed"+(n?" in "+n:"")),it.ERR_DEPRECATED);return n&&!uT[a]&&(uT[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};function CV(t,e,n){if(typeof t!="object")throw new it("options must be an object",it.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new it("option "+s+" must be "+l,it.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new it("Unknown option "+s,it.ERR_BAD_OPTION)}}const C_={assertOptions:CV,validators:l1},oa=C_.validators;class Go{constructor(e){this.defaults=e,this.interceptors={request:new eT,response:new eT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Qo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&C_.assertOptions(r,{silentJSONParsing:oa.transitional(oa.boolean),forcedJSONParsing:oa.transitional(oa.boolean),clarifyTimeoutError:oa.transitional(oa.boolean)},!1),i!=null&&(ue.isFunction(i)?n.paramsSerializer={serialize:i}:C_.assertOptions(i,{encode:oa.function,serialize:oa.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&ue.merge(s.common,s[n.method]);s&&ue.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=jr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!l){const p=[lT.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,c),h=p.length,u=Promise.resolve(n);d<h;)u=u.then(p[d++],p[d++]);return u}h=o.length;let f=n;for(d=0;d<h;){const p=o[d++],m=o[d++];try{f=p(f)}catch(y){m.call(this,y);break}}try{u=lT.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Qo(this.defaults,e);const n=oA(e.baseURL,e.url);return nA(n,e.params,e.paramsSerializer)}}ue.forEach(["delete","get","head","options"],function(e){Go.prototype[e]=function(n,r){return this.request(Qo(r||{},{method:e,url:n,data:(r||{}).data}))}});ue.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(Qo(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Go.prototype[e]=n(),Go.prototype[e+"Form"]=n(!0)});class u1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new Bu(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new u1(function(i){e=i}),cancel:e}}}function SV(t){return function(n){return t.apply(null,n)}}function RV(t){return ue.isObject(t)&&t.isAxiosError===!0}const S_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(S_).forEach(([t,e])=>{S_[e]=t});function fA(t){const e=new Go(t),n=UI(Go.prototype.request,e);return ue.extend(n,Go.prototype,e,{allOwnKeys:!0}),ue.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return fA(Qo(t,i))},n}const kn=fA(eh);kn.Axios=Go;kn.CanceledError=Bu;kn.CancelToken=u1;kn.isCancel=sA;kn.VERSION=hA;kn.toFormData=Em;kn.AxiosError=it;kn.Cancel=kn.CanceledError;kn.all=function(e){return Promise.all(e)};kn.spread=SV;kn.isAxiosError=RV;kn.mergeConfig=Qo;kn.AxiosHeaders=jr;kn.formToJSON=t=>iA(ue.isHTMLForm(t)?new FormData(t):t);kn.getAdapter=dA.getAdapter;kn.HttpStatusCode=S_;kn.default=kn;const Po={async get(t){return await kn.get(t)}},kV={async queryAvailableDatasets(){let e=(await Po.get("data/dose_rates/metadata.json")).data.available_data;return e.forEach(n=>{n.date=new Date(n.date),n.times.sort()}),e.sort((n,r)=>new Date(n.date)-new Date(r.date)),e},async getDataset(t){return(await Po.get(t)).data},async getTimeSeries(t,e){const n=e.toISOString().split("T")[0],r="data/dose_rates/time_series/"+t+"/"+n+".json";return(await Po.get(r)).data.data}},R_={async getDataset(t){return(await Po.get(t)).data},async getTimeSeries(t,e,n){const r=[],i=new Date(n),s=24*60*60*1e3,a=new Date(i.getTime()-30*s),o=`data/air_radionuclides/time_series/${t}/${e}/available_filenames.json`;try{const c=(await Po.get(o)).data;for(const u of c){const d=u.replace(".json","").split("TO");if(d.length===2){const h=new Date(d[0]),f=new Date(d[1]);if(h<=i&&h>=a||f<=i&&f>=a||h<=a&&f>=i){const p=`data/air_radionuclides/time_series/${t}/${e}/${u}`;try{const m=await Po.get(p);m.data&&m.data.data&&r.push(...m.data.data)}catch{console.log(`Data not found for file ${u}`)}}}}}catch(l){console.error(`Error fetching available files: ${l}`)}return r},async getAvailableRadionuclides(t){const e=`/data/air_radionuclides/time_series/${t}/available_radionuclides.json`;try{const n=await Po.get(e);return n&&n.data&&Array.isArray(n.data)?n.data:(console.error("Invalid response format for available radionuclides:",n),[])}catch(n){return console.error(`Error fetching available radionuclides for site ${t}:`,n),[]}}},xm={doseRate:kV,airRadionuclide:R_};var c1={exports:{}};function d1(){}d1.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var s=0,a=r.length;s<a;s++)r[s].fn!==e&&r[s].fn._!==e&&i.push(r[s]);return i.length?n[t]=i:delete n[t],this}};c1.exports=d1;c1.exports.TinyEmitter=d1;var IV=c1.exports,AV=IV,MV=new AV;const Gh=Tp(MV),Xe={$on:(...t)=>Gh.on(...t),$once:(...t)=>Gh.once(...t),$off:(...t)=>Gh.off(...t),$emit:(...t)=>Gh.emit(...t)},PV={name:"DoseRateLayer",emits:["doseRateLayerChanged"],data(){return{vectorLayer:new GI({source:new i1({format:new W0({defaultDataProjection:"EPSG:4326"})}),renderMode:"vector",preload:20,renderBuffer:20,renderOrder:function(t,e){return t.get("doseRate")<e.get("doseRate")?-1:1},style:t=>{let e="#0000";const n=t.get("doseRate"),r=this.$store.state.settings.settings.mapLegend.bars;for(let s=0;s<r.length;++s){const a=r[s].threshold,o=r[s+1]?r[s+1].threshold:1e9;if(n>=a&&n<o)if(r[s].isEnabled){e=r[s].color;break}else return}return[new di({image:new ul({radius:this.featureRadius,fill:new Ai({color:e})})})]}})}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRateMode(){return this.mode==="dose_rates"},datasetFilePath(){return!this.isDoseRateMode||!this.$store.state.datetime.selectedDate?"":"data/dose_rates/datasets/"+this.$store.state.datetime.selectedDate.toISOString().split("T")[0]+"T"+this.$store.state.datetime.selectedTime+".json"},doseRateRanges(){return this.$store.state.settings.settings.mapLegend.bars}},watch:{datasetFilePath:async function(){if(!this.isDoseRateMode)return"";try{this.$Progress.start();const e=(await xm.doseRate.getDataset(this.datasetFilePath)).features.map(n=>new Lu({geometry:new js(om(n.geometry.coordinates,"EPSG:4326","EPSG:3857")),id:n.properties.id,site:n.properties.site,doseRate:n.properties.doseRate}));this.vectorLayer.getSource().clear(!0),this.vectorLayer.getSource().addFeatures(e),Xe.$emit("doseRateLayerChanged",this.vectorLayer),this.$Progress.finish()}catch{this.$Progress.fail()}},doseRateRanges:{handler:function(){this.isDoseRateMode&&this.redraw()},deep:!0}},mounted(){this.isDoseRateMode&&Xe.$on("settingsChanged",this.redraw)},methods:{redraw(){this.isDoseRateMode&&this.vectorLayer.changed()},updateFeatureRadius(t){if(this.isDoseRateMode){const e=this.featureRadius,n=t*2;n!==e&&(this.featureRadius=n,this.redraw())}}}};function DV(t,e,n,r,i,s){return K(),ae("div")}const OV=je(PV,[["render",DV],["__scopeId","data-v-980e98ae"]]),LV={name:"RadionuclideLayer",emits:["radionuclideLayerChanged"],data(){return{vectorLayer:new GI({source:new i1({format:new W0({defaultDataProjection:"EPSG:4326"})}),renderMode:"vector",preload:20,renderBuffer:20,style:()=>{const t="#1d66af";return[new di({image:new ul({radius:this.featureRadius,fill:new Ai({color:t})})})]}})}},computed:{mode(){return this.$store.state.settings.settings.mode},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"},datasetFilePath(){return this.isAirRadionuclidesMode?"data/air_radionuclides/time_series/sites.json":""}},watch:{datasetFilePath:async function(){if(this.isAirRadionuclidesMode)try{this.$Progress.start();const e=(await xm.airRadionuclide.getDataset(this.datasetFilePath)).map(n=>new Lu({geometry:new js(om(n.coordinates,"EPSG:4326","EPSG:3857")),id:n.id,site:n.site}));this.vectorLayer.getSource().clear(!0),this.vectorLayer.getSource().addFeatures(e),Xe.$emit("radionuclideLayerChanged",this.vectorLayer),this.$Progress.finish()}catch{this.$Progress.fail()}}},mounted(){this.isAirRadionuclidesMode&&Xe.$on("settingsChanged",this.redraw)},methods:{redraw(){this.isAirRadionuclidesMode&&this.vectorLayer.changed()},updateFeatureRadius(t){if(this.isAirRadionuclidesMode){const e=this.featureRadius,n=t*2;n!==e&&(this.featureRadius=n,this.redraw())}}}};function FV(t,e,n,r,i,s){return K(),ae("div")}const NV=je(LV,[["render",FV],["__scopeId","data-v-fd547418"]]),$V={name:"MapLegendBar",props:{mapLegendBar:{type:Object,required:!0}},emits:["click"]};function BV(t,e,n,r,i,s){return K(),ae("div",{style:vn({backgroundColor:n.mapLegendBar.color}),class:Ge([{"map-legend__bar--disabled":!n.mapLegendBar.isEnabled},"map-legend__bar"]),onClick:e[0]||(e[0]=a=>t.$emit("click"))},Ye(n.mapLegendBar.label),7)}const VV=je($V,[["render",BV]]),GV={name:"MapLegend",components:{MapLegendBar:VV},computed:{mapLegendBars(){return this.$store.state.settings.settings.mapLegend.bars}},methods:{toggle(t){this.$store.state.settings.settings.mapLegend.toggleBar(t)}}},jV={class:"map-legend"};function zV(t,e,n,r,i,s){const a=Ie("map-legend-bar");return K(),ae("div",jV,[(K(!0),ae(Oe,null,xt(s.mapLegendBars,(o,l)=>(K(),Fe(a,{key:l,"map-legend-bar":o,onClick:c=>s.toggle(l)},null,8,["map-legend-bar","onClick"]))),128))])}const UV=je(GV,[["render",zV]]),YV={name:"SiteName",props:{feature:{type:Object,default:void 0},disableCloseButton:{type:Boolean,default:!1}},emits:["close"],computed:{site(){return this.feature?this.feature.get("site"):"-"}}},HV={class:"site-header opendata-row"},WV={class:"site-name"};function qV(t,e,n,r,i,s){return K(),ae("div",HV,[ye("span",WV,Ye(s.site),1),On(ye("span",{class:"close-button",onClick:e[0]||(e[0]=a=>t.$emit("close"))},"×",512),[[Ln,!n.disableCloseButton]])])}const pA=je(YV,[["render",qV],["__scopeId","data-v-498617e8"]]),KV={name:"SiteDoseRate",props:{feature:{type:Object,default:void 0}},computed:{doseRate(){return this.feature&&this.feature.get("doseRate")!==null?this.feature.get("doseRate"):"-"}}},XV={class:"site-dose-rate"},ZV={class:"site-dose-rate__value"};function JV(t,e,n,r,i,s){return K(),ae("div",XV,[ye("span",ZV,[tr(Ye(s.doseRate),1),e[0]||(e[0]=ye("span",{class:"site-dose-rate__unit"}," µSv/h",-1))])])}const mA=je(KV,[["render",JV]]),Ts={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},sr={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class gA extends Bi{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Z$,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(sr.ELEMENT,this.handleElementChanged),this.addChangeListener(sr.MAP,this.handleMapChanged),this.addChangeListener(sr.OFFSET,this.handleOffsetChanged),this.addChangeListener(sr.POSITION,this.handlePositionChanged),this.addChangeListener(sr.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(sr.ELEMENT)}getId(){return this.id}getMap(){return this.get(sr.MAP)||null}getOffset(){return this.get(sr.OFFSET)}getPosition(){return this.get(sr.POSITION)}getPositioning(){return this.get(sr.POSITIONING)}handleElementChanged(){Nk(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(Yf(this.element),$t(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=ht(e,Ts.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(sr.ELEMENT,e)}setMap(e){this.set(sr.MAP,e)}setOffset(e){this.set(sr.OFFSET,e)}setPosition(e){this.set(sr.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(sr.POSITION))return;const r=this.getRect(n.getTargetElement(),n.getSize()),i=this.getElement(),s=this.getRect(i,[F$(i),N$(i)]);e=e||{};const a=e.margin===void 0?20:e.margin;if(!Is(r,s)){const o=s[0]-r[0],l=r[2]-s[2],c=s[1]-r[1],u=r[3]-s[3],d=[0,0];if(o<0?d[0]=o-a:l<0&&(d[0]=Math.abs(l)+a),c<0?d[1]=c-a:u<0&&(d[1]=Math.abs(u)+a),d[0]!==0||d[1]!==0){const h=n.getView().getCenterInternal(),f=n.getPixelFromCoordinateInternal(h);if(!f)return;const p=[f[0]+d[0],f[1]+d[1]],m=e.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(p),duration:m.duration,easing:m.easing})}}}getRect(e,n){const r=e.getBoundingClientRect(),i=r.left+window.pageXOffset,s=r.top+window.pageYOffset;return[i,s,i+n[0],s+n[1]]}setPositioning(e){this.set(sr.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),n=this.getPosition();if(!e||!e.isRendered()||!n){this.setVisible(!1);return}const r=e.getPixelFromCoordinate(n),i=e.getSize();this.updateRenderedPosition(r,i)}updateRenderedPosition(e,n){const r=this.element.style,i=this.getOffset(),s=this.getPositioning();this.setVisible(!0);const a=Math.round(e[0]+i[0])+"px",o=Math.round(e[1]+i[1])+"px";let l="0%",c="0%";s=="bottom-right"||s=="center-right"||s=="top-right"?l="-100%":(s=="bottom-center"||s=="center-center"||s=="top-center")&&(l="-50%"),s=="bottom-left"||s=="bottom-center"||s=="bottom-right"?c="-100%":(s=="center-left"||s=="center-center"||s=="center-right")&&(c="-50%");const u=`translate(${l}, ${c}) translate(${a}, ${o})`;this.rendered.transform_!=u&&(this.rendered.transform_=u,r.transform=u)}getOptions(){return this.options}}const QV={name:"FeaturePopover",components:{SiteName:pA,SiteDoseRate:mA},data(){return{isEnabled:!0,overlay:void 0,feature:void 0,previousFeature:void 0}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRatesMode(){return this.mode==="dose_rates"},isRadionuclideMode(){return this.mode==="air_radionuclides"}},mounted(){Xe.$on("featureHovered",this.open),Xe.$on("emptyMapLocationHovered",this.close),Xe.$on("featurePopupOpened",this.disable),Xe.$on("featurePopupClosed",this.enable),Xe.$on("doseRateLayerChanged",this.update),Xe.$on("radioNuclideLayerChanged",this.update),this.overlay=new gA({element:this.$refs.featurePopover,position:void 0})},methods:{enable(){this.isEnabled=!0},disable(){this.isEnabled=!1,this.close()},open(t){this.isEnabled&&t!==this.previousFeature&&(this.feature=t,this.overlay.setPosition(t.getGeometry().getCoordinates()),this.previousFeature=t)},close(){this.overlay.setPosition(void 0),this.previousFeature=void 0},update(t){var e=t.getSource().getFeatures();if(e.length!=0){for(var n=0;n<e.length;++n)if(e[n].get("id")==this.siteId){this.feature=e[n];return}this.feature=void 0}}}},eG={ref:"featurePopover",class:"feature-popover"};function tG(t,e,n,r,i,s){const a=Ie("site-name"),o=Ie("site-dose-rate");return K(),ae("div",eG,[we(a,{feature:i.feature,"disable-close-button":""},null,8,["feature"]),On(we(o,{feature:i.feature},null,8,["feature"]),[[Ln,s.isDoseRatesMode]])],512)}const nG=je(QV,[["render",tG]]),h1={getDatesBetween(t,e){for(var n=[],r=new Date(t),i=new Date(e);r<=i;)n.push(new Date(r)),r.setDate(r.getDate()+1);return n},convertTimeTo12HourClock(t){var e=+t.substr(0,2),n=e%12||12,r=e<12?"am":"pm";return n+t.substr(2,3)+" "+r}};function rG(t){return new Promise(e=>setTimeout(e,t))}const iG={setTime(t,e){t.selectedTime=e},setDate(t,e){t.selectedDate=e},setAvailableDatasets(t,e){t.availableDatasets=e}},sG={async initialize({dispatch:t}){await t("queryAvailableDatasets"),await t("selectNewestDate"),await t("selectNewestTime"),setInterval(()=>{t("queryAvailableDatasets")},6e5)},async queryAvailableDatasets({commit:t}){const e=await xm.doseRate.queryAvailableDatasets();t("setAvailableDatasets",e)},selectNewestDate({state:t,dispatch:e}){if(t.availableDatasets.length==0)return;const n=t.availableDatasets.slice(-1)[0].date;e("setDate",n)},selectNewestTime({getters:t,commit:e}){const n=t.availableTimesForSelectedDate;if(n.length!=0){var r=n.slice(-1)[0];e("setTime",r)}},decrementTime({commit:t,dispatch:e,getters:n,state:r}){if(n.isOldestDateSelected&&n.isOldestTimeSelected)return;const i=n.availableTimesForSelectedDate.indexOf(r.selectedTime);if(i==0)e("decrementDate"),e("selectNewestTime");else{const a=n.availableTimesForSelectedDate[i-1];t("setTime",a)}},incrementTime({commit:t,dispatch:e,getters:n,state:r}){if(n.isNewestDateSelected&&n.isNewestTimeSelected)return;const i=n.availableTimesForSelectedDate.indexOf(r.selectedTime);if(i==n.availableTimesForSelectedDate.length-1)e("incrementDate"),t("setTime",n.availableTimesForSelectedDate[0]);else{const a=n.availableTimesForSelectedDate[i+1];t("setTime",a)}},decrementDate({dispatch:t,getters:e,state:n}){if(!e.isOldestDateSelected){const i=n.availableDatasets.map(a=>a.date.toDateString()).indexOf(n.selectedDate.toDateString()),s=n.availableDatasets[i-1].date;t("setDate",s)}},incrementDate({dispatch:t,getters:e,state:n}){if(!e.isNewestDateSelected){const i=n.availableDatasets.map(a=>a.date.toDateString()).indexOf(n.selectedDate.toDateString()),s=n.availableDatasets[i+1].date;t("setDate",s)}},setDate({state:t,commit:e,dispatch:n,getters:r},i){e("setDate",i),r.availableTimesForSelectedDate.includes(t.selectedTime)||n("selectNewestTime")}},aG={availableTimesForSelectedDate(t){if(!t.selectedDate)return[];for(let e=0;e<t.availableDatasets.length;++e)if(t.availableDatasets[e].date.toDateString()==t.selectedDate.toDateString())return t.availableDatasets[e].times;return[]},isOldestDateSelected(t){if(t.availableDatasets.length==0||!t.selectedDate)return!1;const e=t.availableDatasets[0].date;return t.selectedDate.toDateString()==e.toDateString()},isNewestDateSelected(t){if(t.availableDatasets.length==0||!t.selectedDate)return!1;const e=t.availableDatasets.slice(-1)[0].date;return t.selectedDate.toDateString()==e.toDateString()},isOldestTimeSelected(t,e){if(e.isOldestDateSelected){const n=e.availableTimesForSelectedDate[0];return t.selectedTime==n}return!1},isNewestTimeSelected(t,e){if(e.isNewestDateSelected){const n=e.availableTimesForSelectedDate.slice(-1)[0];return t.selectedTime==n}return!1}},oG={state:{availableDatasets:[],selectedDate:void 0,selectedTime:void 0},mutations:iG,actions:sG,getters:aG},lG={setSettings(t,e){t.settings=e,t.settings.save()}},uG={initialize({state:t}){t.settings.load()}};class cG{constructor(){this.bars=[],this.addBar(new Gl(0,"#1dafaf")),this.addBar(new Gl(.1,"#1d8baf")),this.addBar(new Gl(.2,"#1d66af")),this.addBar(new Gl(.3,"#1d41af")),this.addBar(new Gl(.4,"#411daf"))}addBar(e){let n=this.bars.slice(-1)[0];n&&(n.nextBar=e),this.bars.push(e)}toggleBar(e){const n=this.bars[e];n.toggleState(),this.bars[e]=n}clear(){this.bars=[]}toString(){return JSON.stringify(this.bars.map(e=>e.toString()))}}class Gl{constructor(e,n){this.nextBar=void 0,this.threshold=e<10?e.toFixed(1):e,this.color=n,this.isEnabled=!0}get label(){return this.nextBar?`${this.threshold} - ${this.nextBar.threshold}`:`> ${this.threshold} µSv/h`}toggleState(){this.isEnabled=!this.isEnabled}toString(){return`{"threshold": ${this.threshold}, "color": "${this.color}"}`}}const cT="locale",dT="dateFormat",hT="timeFormat",$g="mapLegend",fT="backgroundMap",pT="mode";class yA{constructor(){this.locale="en",this.dateFormat="fi",this.timeFormat="24h",this.mapLegend=new cG,this.backgroundMap="default",this.mode="dose_rates"}save(){t_.global.locale.value=this.locale,localStorage.setItem(cT,this.locale),localStorage.setItem(dT,this.dateFormat),localStorage.setItem(hT,this.timeFormat),localStorage.setItem($g,this.mapLegend),localStorage.setItem(fT,this.backgroundMap),localStorage.setItem(pT,this.mode)}load(){this.locale=localStorage.getItem(cT)||this.locale,t_.global.locale.value=this.locale,this.dateFormat=localStorage.getItem(dT)||this.dateFormat,this.timeFormat=localStorage.getItem(hT)||this.timeFormat,this.backgroundMap=localStorage.getItem(fT)||this.backgroundMap,this.mode=localStorage.getItem(pT)||this.mode;let e=localStorage.getItem($g);if(e)try{e=JSON.parse(e);const n=e.map(r=>JSON.parse(r));n.length>0&&(this.mapLegend.clear(),n.forEach(r=>{this.mapLegend.addBar(new Gl(r.threshold,r.color))}))}catch{localStorage.removeItem($g)}}}const dG={state:{settings:new yA},mutations:lG,actions:uG};/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var hG="store";function Vu(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function fG(t){return t!==null&&typeof t=="object"}function pG(t){return t&&typeof t.then=="function"}function mG(t,e){return function(){return t(e)}}function _A(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function vA(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Cm(t,n,[],t._modules.root,!0),f1(t,n,e)}function f1(t,e,n){var r=t._state,i=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var s=t._wrappedGetters,a={},o={},l=Mp(!0);l.run(function(){Vu(s,function(c,u){a[u]=mG(c,t),o[u]=fe(function(){return a[u]()}),Object.defineProperty(t.getters,u,{get:function(){return o[u].value},enumerable:!0})})}),t._state=_i({data:e}),t._scope=l,t.strict&&bG(t),r&&n&&t._withCommit(function(){r.data=null}),i&&i.stop()}function Cm(t,e,n,r,i){var s=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!s&&!i){var o=p1(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){o[l]=r.state})}var c=r.context=gG(t,a,n);r.forEachMutation(function(u,d){var h=a+d;yG(t,h,u,c)}),r.forEachAction(function(u,d){var h=u.root?d:a+d,f=u.handler||u;_G(t,h,f,c)}),r.forEachGetter(function(u,d){var h=a+d;vG(t,h,u,c)}),r.forEachChild(function(u,d){Cm(t,e,n.concat(d),u,i)})}function gG(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,a,o){var l=lp(s,a,o),c=l.payload,u=l.options,d=l.type;return(!u||!u.root)&&(d=e+d),t.dispatch(d,c)},commit:r?t.commit:function(s,a,o){var l=lp(s,a,o),c=l.payload,u=l.options,d=l.type;(!u||!u.root)&&(d=e+d),t.commit(d,c,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return bA(t,e)}},state:{get:function(){return p1(t.state,n)}}}),i}function bA(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function yG(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){n.call(t,r.state,a)})}function _G(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},a);return pG(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):o})}function vG(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function bG(t){rn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function p1(t,e){return e.reduce(function(n,r){return n[r]},t)}function lp(t,e,n){return fG(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var wG="vuex bindings",mT="vuex:mutations",Bg="vuex:actions",kl="vuex",EG=0;function TG(t,e){zN({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[wG]},function(n){n.addTimelineLayer({id:mT,label:"Vuex Mutations",color:gT}),n.addTimelineLayer({id:Bg,label:"Vuex Actions",color:gT}),n.addInspector({id:kl,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===kl)if(r.filter){var i=[];xA(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[TA(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===kl){var i=r.nodeId;bA(e,i),r.state=SG(kG(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===kl){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(kl),n.sendInspectorState(kl),n.addTimelineEvent({layerId:mT,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=EG++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:Bg,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:Bg,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var gT=8702998,xG=6710886,CG=16777215,wA={label:"namespaced",textColor:CG,backgroundColor:xG};function EA(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function TA(t,e){return{id:e||"root",label:EA(e),tags:t.namespaced?[wA]:[],children:Object.keys(t._children).map(function(n){return TA(t._children[n],e+n+"/")})}}function xA(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[wA]:[]}),Object.keys(e._children).forEach(function(i){xA(t,e._children[i],n,r+i+"/")})}function SG(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(r.length){var s=RG(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?EA(a):a,editable:!1,value:k_(function(){return s[a]})}})}return i}function RG(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=k_(function(){return t[n]})}else e[n]=k_(function(){return t[n]})}),e}function kG(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function k_(t){try{return t()}catch(e){return e}}var Gi=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},CA={namespaced:{configurable:!0}};CA.namespaced.get=function(){return!!this._rawModule.namespaced};Gi.prototype.addChild=function(e,n){this._children[e]=n};Gi.prototype.removeChild=function(e){delete this._children[e]};Gi.prototype.getChild=function(e){return this._children[e]};Gi.prototype.hasChild=function(e){return e in this._children};Gi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Gi.prototype.forEachChild=function(e){Vu(this._children,e)};Gi.prototype.forEachGetter=function(e){this._rawModule.getters&&Vu(this._rawModule.getters,e)};Gi.prototype.forEachAction=function(e){this._rawModule.actions&&Vu(this._rawModule.actions,e)};Gi.prototype.forEachMutation=function(e){this._rawModule.mutations&&Vu(this._rawModule.mutations,e)};Object.defineProperties(Gi.prototype,CA);var gl=function(e){this.register([],e,!1)};gl.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};gl.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};gl.prototype.update=function(e){SA([],this.root,e)};gl.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new Gi(n,r);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&Vu(n.modules,function(o,l){i.register(e.concat(l),o,r)})};gl.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};gl.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function SA(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;SA(t.concat(r),e.getChild(r),n.modules[r])}}function IG(t){return new Yr(t)}var Yr=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new gl(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,o=this,l=o.dispatch,c=o.commit;this.dispatch=function(h,f){return l.call(a,h,f)},this.commit=function(h,f,p){return c.call(a,h,f,p)},this.strict=i;var u=this._modules.root.state;Cm(this,u,[],this._modules.root),f1(this,u),r.forEach(function(d){return d(n)})},m1={state:{configurable:!0}};Yr.prototype.install=function(e,n){e.provide(n||hG,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&TG(e,this)};m1.state.get=function(){return this._state.data};m1.state.set=function(t){};Yr.prototype.commit=function(e,n,r){var i=this,s=lp(e,n,r),a=s.type,o=s.payload,l={type:a,payload:o},c=this._mutations[a];c&&(this._withCommit(function(){c.forEach(function(d){d(o)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};Yr.prototype.dispatch=function(e,n){var r=this,i=lp(e,n),s=i.type,a=i.payload,o={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(o,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(a)})):l[0](a);return new Promise(function(u,d){c.then(function(h){try{r._actionSubscribers.filter(function(f){return f.after}).forEach(function(f){return f.after(o,r.state)})}catch{}u(h)},function(h){try{r._actionSubscribers.filter(function(f){return f.error}).forEach(function(f){return f.error(o,r.state,h)})}catch{}d(h)})})}};Yr.prototype.subscribe=function(e,n){return _A(e,this._subscribers,n)};Yr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return _A(r,this._actionSubscribers,n)};Yr.prototype.watch=function(e,n,r){var i=this;return rn(function(){return e(i.state,i.getters)},n,Object.assign({},r))};Yr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Yr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Cm(this,this.state,e,this._modules.get(e),r.preserveState),f1(this,this.state)};Yr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=p1(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),vA(this)};Yr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Yr.prototype.hotUpdate=function(e){this._modules.update(e),vA(this,!0)};Yr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Yr.prototype,m1);const Kl=IG({modules:{datetime:oG,settings:dG}});class AG{constructor(e,n){this.date=e,this.dataPoints=n}}let yT=class{constructor(e){this.siteId=e,this.dataPoints=[],this.datasets=[],this.startDate=void 0,this.endDate=void 0,this.onUpdate=()=>{},this.isLoading=!1}loadTimespan(e,n){this.startDate=e,this.endDate=n,this.startDate&&this.endDate&&this.siteId&&this.update()}async update(){let e=h1.getDatesBetween(this.startDate,this.endDate);e=e.filter(n=>{const r=this.datasets.some(s=>s.date.getTime()==n.getTime()),i=Kl.state.datetime.availableDatasets.some(s=>s.date.getTime()==n.getTime());return!r&&i}),e.length>0&&(this.isLoading=!0,await Promise.allSettled(e.map(async n=>{let r;try{r=await xm.doseRate.getTimeSeries(this.siteId,n)}finally{this.datasets.push(new AG(n,r))}})),await rG(250),this.datasets.sort((n,r)=>n.date<r.date?-1:1),this.generateDataPoints(),this.isLoading=!1),this.onUpdate()}generateDataPoints(){let e=[],n=[];for(var r=0;r<this.datasets.length;++r)if(this.datasets[r].dataPoints)for(var i=0;i<this.datasets[r].dataPoints.length;++i){const s=this.datasets[r].dataPoints[i];e.push(new Date(s.e).toISOString()),n.push(s.r)}this.dataPoints=[{x:e,y:n}]}};const MG={name:"LoadingSpinner",props:{isEnabled:{type:Boolean,default:!1}}},PG={class:"spinner-container"};function DG(t,e,n,r,i,s){return On((K(),ae("div",PG,e[0]||(e[0]=[ye("div",{class:"spinner"},null,-1)]),512)),[[Ln,n.isEnabled]])}const RA=je(MG,[["render",DG],["__scopeId","data-v-3f037726"]]);Ox.register(BP);const OG={name:"TimeSeriesGraph",components:{LoadingSpinner:RA},props:{feature:{type:Object,default:void 0}},data:function(){return{timeSeriesGraph:new yT,plotlyLayout:{},defaultPlotlyLayout:{width:0,height:0,dragmode:"pan",margin:{t:20,r:0,b:50,l:50,pad:15},yaxis:{range:[0,.4]},font:{size:12,family:"RedHatText-Medium"}},plotlyConfig:{scrollZoom:!0,connectGaps:!0,displayModeBar:!1,locale:"en"}}},computed:{selectedDate(){return this.$store.state.datetime.selectedDate},locale(){return this.$store.state.settings.settings.locale},isLoading(){return this.timeSeriesGraph.isLoading},featureId(){return this.feature?this.feature.get("id"):void 0},mode(){return this.$store.state.settings.settings.mode},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"}},watch:{featureId:function(){this.reset()},selectedDate:function(){this.reset()},locale:function(t){this.plotlyConfig.locale=t,this.draw()}},mounted(){this.updateSize(!0),this.$refs.graphContainer.on("plotly_relayout",this.onPlotlyRelayout),window.onresize=this.updateSize},methods:{draw(){this.isAirRadionuclidesMode||(this.updateSize(),Ox.react(this.$refs.graphContainer,this.timeSeriesGraph.dataPoints,this.plotlyLayout,this.plotlyConfig))},async onPlotlyRelayout(t){if(!this.isAirRadionuclidesMode){if(!t||!t["xaxis.range[0]"]||!t["xaxis.range[1]"])return;const e=new Date(t["xaxis.range[0]"].split(" ")[0]),n=new Date(t["xaxis.range[1]"].split(" ")[0]);await this.timeSeriesGraph.loadTimespan(e,n)}},updateSize(t=!1){this.isAirRadionuclidesMode||(window.innerWidth>=1024?(this.plotlyLayout.width=475,this.plotlyLayout.height=400,this.plotlyLayout.font={size:14}):window.innerWidth>=768?(this.plotlyLayout.width=300,this.plotlyLayout.height=220,this.plotlyLayout.font={size:12}):(this.plotlyLayout.width=300,this.plotlyLayout.height=180,this.plotlyLayout.font={size:10}),t&&this.draw())},reset(){this.isAirRadionuclidesMode||(this.plotlyLayout=JSON.parse(JSON.stringify(this.defaultPlotlyLayout)),this.timeSeriesGraph=new yT(this.featureId),this.timeSeriesGraph.onUpdate=this.draw.bind(this),this.timeSeriesGraph.loadTimespan(this.selectedDate,this.selectedDate))}}},LG={class:"wrapper"},FG={ref:"graphContainer"};function NG(t,e,n,r,i,s){const a=Ie("loading-spinner");return K(),ae("div",LG,[ye("div",FG,[we(a,{"is-enabled":s.isLoading},null,8,["is-enabled"])],512)])}const $G=je(OG,[["render",NG],["__scopeId","data-v-7520aac4"]]),BG={name:"RadionuclideTables",components:{LoadingSpinner:RA},props:{feature:{type:Object,default:()=>({})},date:Date},data(){return{tablesData:[],isLoading:!1,helsinkiVantaa:!1}},computed:{formatDates(){return t=>{switch(this.$store.state.settings.settings.dateFormat){case"fi":default:return`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`;case"iso":return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`}}},hasData(){return this.tablesData.some(t=>t.entries.length>0)},mode(){return this.$store.state.settings.settings.mode},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"},sortedTablesData(){const t=["Be-7","Cs-137","Pb-210","Na-22"];return this.tablesData.slice().sort((e,n)=>{const r=t.indexOf(e.radionuclide),i=t.indexOf(n.radionuclide);return r===-1&&i===-1?0:r===-1?1:i===-1?-1:r-i})}},watch:{feature:{immediate:!0,handler(){this.fetchData(new Date)}}},mounted(){Xe.$on("dateChanged",this.fetchData)},methods:{async fetchData(t){if(!this.feature||!this.feature.get)return;const e=this.feature.get("id");if(e&&(e==103428||e==107554?this.helsinkiVantaa=!0:this.helsinkiVantaa=!1,this.isAirRadionuclidesMode))try{this.isLoading=!0;let n=await R_.getAvailableRadionuclides(e);if(n=n.filter(i=>i!=="air-volume"),!n||n.length===0)return;const r=n.map(async i=>{try{const s=await R_.getTimeSeries(e,i,t),a=this.removeDuplicates(s||[]).sort((o,l)=>new Date(l.s)-new Date(o.s));return{radionuclide:i,entries:a}}catch(s){return console.error(`Error fetching data for radionuclide ${i}:`,s),{radionuclide:i,entries:[]}}});this.tablesData=await Promise.all(r)}catch(n){console.error("Error in fetching data:",n)}finally{this.isLoading=!1}},removeDuplicates(t){const e=new Set;return t.filter(n=>{const r=`${n.s}-${n.e}-${n.c}-${n.u}`;return e.has(r)?!1:(e.add(r),!0)})},isPriorityNuclide(t){return["Be-7","Cs-137","Pb-210","Na-22"].includes(t)}}},VG={class:"radionuclide-tables"},GG={key:0},jG={key:0},zG={key:0},UG={key:1},YG={key:0};function HG(t,e,n,r,i,s){const a=Ie("loading-spinner");return K(),ae("div",VG,[we(a,{"is-enabled":i.isLoading},null,8,["is-enabled"]),i.isLoading?me("",!0):(K(),ae("div",GG,[s.hasData?(K(),ae("div",jG,[(K(!0),ae(Oe,null,xt(s.sortedTablesData,(o,l)=>(K(),ae("div",{key:l,class:"table-container"},[o.entries.length>0?(K(),ae("div",zG,[ye("p",{class:Ge({"bold-header":!s.isPriorityNuclide(o.radionuclide)})},Ye(o.radionuclide),3),ye("table",null,[ye("thead",null,[ye("tr",null,[ye("th",null,Ye(t.$t("radionuclideMode.date")),1),ye("th",null,Ye(t.$t("radionuclideMode.concentration"))+" µBq/m3",1),ye("th",null,Ye(t.$t("radionuclideMode.uncertainty"))+"-%",1)])]),ye("tbody",null,[(K(!0),ae(Oe,null,xt(o.entries,c=>(K(),ae("tr",{key:c.s},[ye("td",null,Ye(s.formatDates(new Date(c.s)))+" - "+Ye(s.formatDates(new Date(c.e))),1),ye("td",null,Ye(c.c),1),ye("td",null,Ye(c.u),1)]))),128))])])])):me("",!0)]))),128))])):me("",!0),s.hasData?me("",!0):(K(),ae("div",UG,[ye("p",null,Ye(t.$t("radionuclideMode.noData")),1),i.helsinkiVantaa?(K(),ae("p",YG,Ye(t.$t("radionuclideMode.info")),1)):me("",!0)]))]))])}const WG=je(BG,[["render",HG],["__scopeId","data-v-4d03d4a2"]]);function Le(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Tt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ri(t,e){const n=Le(t);return isNaN(e)?Tt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Oi(t,e){const n=Le(t);if(isNaN(e))return Tt(t,NaN);if(!e)return n;const r=n.getDate(),i=Tt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function kA(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:a=0,minutes:o=0,seconds:l=0}=e,c=Le(t),u=r||n?Oi(c,r+n*12):c,d=s||i?Ri(u,s+i*7):u,h=o+a*60,p=(l+h*60)*1e3;return Tt(t,d.getTime()+p)}function qG(t,e){const n=+Le(t);return Tt(t,n+e)}const IA=6048e5,KG=864e5,XG=6e4,AA=36e5,ZG=1e3;function JG(t,e){return qG(t,e*AA)}let QG={};function yl(){return QG}function $i(t,e){const n=yl(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Le(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Cu(t){return $i(t,{weekStartsOn:1})}function MA(t){const e=Le(t),n=e.getFullYear(),r=Tt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Cu(r),s=Tt(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Cu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function _T(t){const e=Le(t);return e.setHours(0,0,0,0),e}function up(t){const e=Le(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function PA(t,e){const n=_T(t),r=_T(e),i=+n-up(n),s=+r-up(r);return Math.round((i-s)/KG)}function ej(t){const e=MA(t),n=Tt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Cu(n)}function tj(t,e){const n=e*3;return Oi(t,n)}function g1(t,e){return Oi(t,e*12)}function vT(t,e){const n=Le(t),r=Le(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function DA(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lc(t){if(!DA(t)&&typeof t!="number")return!1;const e=Le(t);return!isNaN(Number(e))}function bT(t){const e=Le(t);return Math.trunc(e.getMonth()/3)+1}function nj(t,e){const n=Le(t),r=Le(e);return n.getFullYear()-r.getFullYear()}function rj(t,e){const n=Le(t),r=Le(e),i=vT(n,r),s=Math.abs(nj(n,r));n.setFullYear(1584),r.setFullYear(1584);const a=vT(n,r)===-i,o=i*(s-+a);return o===0?0:o}function OA(t,e){const n=Le(t.start),r=Le(t.end);let i=+n>+r;const s=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0);let o=1;const l=[];for(;+a<=s;)l.push(Le(a)),a.setDate(a.getDate()+o),a.setHours(0,0,0,0);return i?l.reverse():l}function Do(t){const e=Le(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function ij(t,e){const n=Le(t.start),r=Le(t.end);let i=+n>+r;const s=i?+Do(n):+Do(r);let a=Do(i?r:n),o=1;const l=[];for(;+a<=s;)l.push(Le(a)),a=tj(a,o);return i?l.reverse():l}function sj(t){const e=Le(t);return e.setDate(1),e.setHours(0,0,0,0),e}function LA(t){const e=Le(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function bd(t){const e=Le(t),n=Tt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function FA(t,e){const n=yl(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Le(t),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function wT(t){const e=Le(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}const aj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oj=(t,e,n)=>{let r;const i=aj[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Vg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const lj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dj={date:Vg({formats:lj,defaultWidth:"full"}),time:Vg({formats:uj,defaultWidth:"full"}),dateTime:Vg({formats:cj,defaultWidth:"full"})},hj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fj=(t,e,n,r)=>hj[t];function hc(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const pj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_j={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bj=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wj={ordinalNumber:bj,era:hc({values:pj,defaultWidth:"wide"}),quarter:hc({values:mj,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hc({values:gj,defaultWidth:"wide"}),day:hc({values:yj,defaultWidth:"wide"}),dayPeriod:hc({values:_j,defaultWidth:"wide",formattingValues:vj,defaultFormattingWidth:"wide"})};function fc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Tj(o,d=>d.test(a)):Ej(o,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}function Ej(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Tj(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function xj(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Cj=/^(\d+)(th|st|nd|rd)?/i,Sj=/\d+/i,Rj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kj={any:[/^b/i,/^(a|c)/i]},Ij={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Aj={any:[/1/i,/2/i,/3/i,/4/i]},Mj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nj={ordinalNumber:xj({matchPattern:Cj,parsePattern:Sj,valueCallback:t=>parseInt(t,10)}),era:fc({matchPatterns:Rj,defaultMatchWidth:"wide",parsePatterns:kj,defaultParseWidth:"any"}),quarter:fc({matchPatterns:Ij,defaultMatchWidth:"wide",parsePatterns:Aj,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fc({matchPatterns:Mj,defaultMatchWidth:"wide",parsePatterns:Pj,defaultParseWidth:"any"}),day:fc({matchPatterns:Dj,defaultMatchWidth:"wide",parsePatterns:Oj,defaultParseWidth:"any"}),dayPeriod:fc({matchPatterns:Lj,defaultMatchWidth:"any",parsePatterns:Fj,defaultParseWidth:"any"})},NA={code:"en-US",formatDistance:oj,formatLong:dj,formatRelative:fj,localize:wj,match:Nj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $j(t){const e=Le(t);return PA(e,bd(e))+1}function y1(t){const e=Le(t),n=+Cu(e)-+ej(e);return Math.round(n/IA)+1}function _1(t,e){const n=Le(t),r=n.getFullYear(),i=yl(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Tt(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=$i(a,e),l=Tt(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=$i(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Bj(t,e){const n=yl(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=_1(t,e),s=Tt(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),$i(s,e)}function v1(t,e){const n=Le(t),r=+$i(n,e)-+Bj(n,e);return Math.round(r/IA)+1}function Pt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const la={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Pt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Pt(n+1,2)},d(t,e){return Pt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Pt(t.getHours()%12||12,e.length)},H(t,e){return Pt(t.getHours(),e.length)},m(t,e){return Pt(t.getMinutes(),e.length)},s(t,e){return Pt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Pt(i,e.length)}},Il={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ET={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return la.y(t,e)},Y:function(t,e,n,r){const i=_1(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Pt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Pt(s,e.length)},R:function(t,e){const n=MA(t);return Pt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Pt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return la.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=v1(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Pt(i,e.length)},I:function(t,e,n){const r=y1(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Pt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):la.d(t,e)},D:function(t,e,n){const r=$j(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Pt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Pt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Pt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Il.noon:r===0?i=Il.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Il.evening:r>=12?i=Il.afternoon:r>=4?i=Il.morning:i=Il.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return la.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):la.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):la.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):la.s(t,e)},S:function(t,e){return la.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return xT(r);case"XXXX":case"XX":return To(r);case"XXXXX":case"XXX":default:return To(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return xT(r);case"xxxx":case"xx":return To(r);case"xxxxx":case"xxx":default:return To(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+TT(r,":");case"OOOO":default:return"GMT"+To(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+TT(r,":");case"zzzz":default:return"GMT"+To(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Pt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Pt(r,e.length)}};function TT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Pt(s,2)}function xT(t,e){return t%60===0?(t>0?"-":"+")+Pt(Math.abs(t)/60,2):To(t,e)}function To(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Pt(Math.trunc(r/60),2),s=Pt(r%60,2);return n+i+e+s}const CT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$A=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Vj=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return CT(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",CT(r,e)).replace("{{time}}",$A(i,e))},I_={p:$A,P:Vj},Gj=/^D+$/,jj=/^Y+$/,zj=["D","DD","YY","YYYY"];function BA(t){return Gj.test(t)}function VA(t){return jj.test(t)}function A_(t,e,n){const r=Uj(t,e,n);if(console.warn(r),zj.includes(t))throw new RangeError(r)}function Uj(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wj=/^'([^]*?)'?$/,qj=/''/g,Kj=/[a-zA-Z]/;function as(t,e,n){const r=yl(),i=n?.locale??r.locale??NA,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Le(t);if(!Lc(o))throw new RangeError("Invalid time value");let l=e.match(Hj).map(u=>{const d=u[0];if(d==="p"||d==="P"){const h=I_[d];return h(u,i.formatLong)}return u}).join("").match(Yj).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:Xj(u)};if(ET[d])return{isToken:!0,value:u};if(d.match(Kj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(!n?.useAdditionalWeekYearTokens&&VA(d)||!n?.useAdditionalDayOfYearTokens&&BA(d))&&A_(d,e,String(t));const h=ET[d[0]];return h(o,d,i.localize,c)}).join("")}function Xj(t){const e=t.match(Wj);return e?e[1].replace(qj,"'"):t}function Zj(t){return Le(t).getDay()}function Jj(t){const e=Le(t),n=e.getFullYear(),r=e.getMonth(),i=Tt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Qj(){return Object.assign({},yl())}function Us(t){return Le(t).getHours()}function ez(t){let n=Le(t).getDay();return n===0&&(n=7),n}function Ya(t){return Le(t).getMinutes()}function ct(t){return Le(t).getMonth()}function Su(t){return Le(t).getSeconds()}function He(t){return Le(t).getFullYear()}function Ru(t,e){const n=Le(t),r=Le(e);return n.getTime()>r.getTime()}function wd(t,e){const n=Le(t),r=Le(e);return+n<+r}function Xl(t,e){const n=Le(t),r=Le(e);return+n==+r}function tz(t,e){const n=e instanceof Date?Tt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const nz=10;class GA{subPriority=0;validate(e,n){return!0}}class rz extends GA{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class iz extends GA{priority=nz;subPriority=-1;set(e,n){return n.timestampIsSet?e:Tt(e,tz(e,Date))}}class Ct{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new rz(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class sz extends Ct{priority=140;parse(e,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,n,r){return n.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const En={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tn(t,e){return t&&{value:e(t.value),rest:t.rest}}function en(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function qi(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*AA+s*XG+a*ZG),rest:e.slice(n[0].length)}}function jA(t){return en(En.anyDigitsSigned,t)}function pn(t,e){switch(t){case 1:return en(En.singleDigit,e);case 2:return en(En.twoDigits,e);case 3:return en(En.threeDigits,e);case 4:return en(En.fourDigits,e);default:return en(new RegExp("^\\d{1,"+t+"}"),e)}}function cp(t,e){switch(t){case 1:return en(En.singleDigitSigned,e);case 2:return en(En.twoDigitsSigned,e);case 3:return en(En.threeDigitsSigned,e);case 4:return en(En.fourDigitsSigned,e);default:return en(new RegExp("^-?\\d{1,"+t+"}"),e)}}function b1(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function zA(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,a=Math.trunc(s/100)*100,o=t>=s%100;i=t+a-(o?100:0)}return n?i:1-i}function UA(t){return t%400===0||t%4===0&&t%100!==0}class az extends Ct{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,n,r){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return Tn(pn(4,e),i);case"yo":return Tn(r.ordinalNumber(e,{unit:"year"}),i);default:return Tn(pn(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r){const i=e.getFullYear();if(r.isTwoDigitYear){const a=zA(r.year,i);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const s=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class oz extends Ct{priority=130;parse(e,n,r){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Tn(pn(4,e),i);case"Yo":return Tn(r.ordinalNumber(e,{unit:"year"}),i);default:return Tn(pn(n.length,e),i)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r,i){const s=_1(e,i);if(r.isTwoDigitYear){const o=zA(r.year,s);return e.setFullYear(o,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),$i(e,i)}const a=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(a,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),$i(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class lz extends Ct{priority=130;parse(e,n){return cp(n==="R"?4:n.length,e)}set(e,n,r){const i=Tt(e,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),Cu(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class uz extends Ct{priority=130;parse(e,n){return cp(n==="u"?4:n.length,e)}set(e,n,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class cz extends Ct{priority=120;parse(e,n,r){switch(n){case"Q":case"QQ":return pn(n.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class dz extends Ct{priority=120;parse(e,n,r){switch(n){case"q":case"qq":return pn(n.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class hz extends Ct{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,n,r){const i=s=>s-1;switch(n){case"M":return Tn(en(En.month,e),i);case"MM":return Tn(pn(2,e),i);case"Mo":return Tn(r.ordinalNumber(e,{unit:"month"}),i);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class fz extends Ct{priority=110;parse(e,n,r){const i=s=>s-1;switch(n){case"L":return Tn(en(En.month,e),i);case"LL":return Tn(pn(2,e),i);case"Lo":return Tn(r.ordinalNumber(e,{unit:"month"}),i);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function pz(t,e,n){const r=Le(t),i=v1(r,n)-e;return r.setDate(r.getDate()-i*7),r}class mz extends Ct{priority=100;parse(e,n,r){switch(n){case"w":return en(En.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return pn(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r,i){return $i(pz(e,r,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function gz(t,e){const n=Le(t),r=y1(n)-e;return n.setDate(n.getDate()-r*7),n}class yz extends Ct{priority=100;parse(e,n,r){switch(n){case"I":return en(En.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return pn(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r){return Cu(gz(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const _z=[31,28,31,30,31,30,31,31,30,31,30,31],vz=[31,29,31,30,31,30,31,31,30,31,30,31];class bz extends Ct{priority=90;subPriority=1;parse(e,n,r){switch(n){case"d":return en(En.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return pn(n.length,e)}}validate(e,n){const r=e.getFullYear(),i=UA(r),s=e.getMonth();return i?n>=1&&n<=vz[s]:n>=1&&n<=_z[s]}set(e,n,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class wz extends Ct{priority=90;subpriority=1;parse(e,n,r){switch(n){case"D":case"DD":return en(En.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return pn(n.length,e)}}validate(e,n){const r=e.getFullYear();return UA(r)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function w1(t,e,n){const r=yl(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Le(t),a=s.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(a+c)%7:(l+c)%7-(a+c)%7;return Ri(s,u)}class Ez extends Ct{priority=90;parse(e,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=w1(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class Tz extends Ct{priority=90;parse(e,n,r,i){const s=a=>{const o=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+o};switch(n){case"e":case"ee":return Tn(pn(n.length,e),s);case"eo":return Tn(r.ordinalNumber(e,{unit:"day"}),s);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=w1(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class xz extends Ct{priority=90;parse(e,n,r,i){const s=a=>{const o=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+o};switch(n){case"c":case"cc":return Tn(pn(n.length,e),s);case"co":return Tn(r.ordinalNumber(e,{unit:"day"}),s);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,i){return e=w1(e,r,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Cz(t,e){const n=Le(t),r=ez(n),i=e-r;return Ri(n,i)}class Sz extends Ct{priority=90;parse(e,n,r){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return pn(n.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return Tn(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return Tn(r.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Tn(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Tn(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,n){return n>=1&&n<=7}set(e,n,r){return e=Cz(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Rz extends Ct{priority=80;parse(e,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(b1(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class kz extends Ct{priority=80;parse(e,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(b1(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class Iz extends Ct{priority=80;parse(e,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(b1(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class Az extends Ct{priority=70;parse(e,n,r){switch(n){case"h":return en(En.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return pn(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,r){const i=e.getHours()>=12;return i&&r<12?e.setHours(r+12,0,0,0):!i&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class Mz extends Ct{priority=70;parse(e,n,r){switch(n){case"H":return en(En.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return pn(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class Pz extends Ct{priority=70;parse(e,n,r){switch(n){case"K":return en(En.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return pn(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class Dz extends Ct{priority=70;parse(e,n,r){switch(n){case"k":return en(En.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return pn(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,r){const i=r<=24?r%24:r;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Oz extends Ct{priority=60;parse(e,n,r){switch(n){case"m":return en(En.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return pn(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class Lz extends Ct{priority=50;parse(e,n,r){switch(n){case"s":return en(En.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return pn(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class Fz extends Ct{priority=30;parse(e,n){const r=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Tn(pn(n.length,e),r)}set(e,n,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class Nz extends Ct{priority=10;parse(e,n){switch(n){case"X":return qi(Wi.basicOptionalMinutes,e);case"XX":return qi(Wi.basic,e);case"XXXX":return qi(Wi.basicOptionalSeconds,e);case"XXXXX":return qi(Wi.extendedOptionalSeconds,e);case"XXX":default:return qi(Wi.extended,e)}}set(e,n,r){return n.timestampIsSet?e:Tt(e,e.getTime()-up(e)-r)}incompatibleTokens=["t","T","x"]}class $z extends Ct{priority=10;parse(e,n){switch(n){case"x":return qi(Wi.basicOptionalMinutes,e);case"xx":return qi(Wi.basic,e);case"xxxx":return qi(Wi.basicOptionalSeconds,e);case"xxxxx":return qi(Wi.extendedOptionalSeconds,e);case"xxx":default:return qi(Wi.extended,e)}}set(e,n,r){return n.timestampIsSet?e:Tt(e,e.getTime()-up(e)-r)}incompatibleTokens=["t","T","X"]}class Bz extends Ct{priority=40;parse(e){return jA(e)}set(e,n,r){return[Tt(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Vz extends Ct{priority=20;parse(e){return jA(e)}set(e,n,r){return[Tt(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Gz={G:new sz,y:new az,Y:new oz,R:new lz,u:new uz,Q:new cz,q:new dz,M:new hz,L:new fz,w:new mz,I:new yz,d:new bz,D:new wz,E:new Ez,e:new Tz,c:new xz,i:new Sz,a:new Rz,b:new kz,B:new Iz,h:new Az,H:new Mz,K:new Pz,k:new Dz,m:new Oz,s:new Lz,S:new Fz,X:new Nz,x:new $z,t:new Bz,T:new Vz},jz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uz=/^'([^]*?)'?$/,Yz=/''/g,Hz=/\S/,Wz=/[a-zA-Z]/;function M_(t,e,n,r){const i=Qj(),s=r?.locale??i.locale??NA,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(e==="")return t===""?Le(n):Tt(n,NaN);const l={firstWeekContainsDate:a,weekStartsOn:o,locale:s},c=[new iz],u=e.match(zz).map(m=>{const y=m[0];if(y in I_){const v=I_[y];return v(m,s.formatLong)}return m}).join("").match(jz),d=[];for(let m of u){!r?.useAdditionalWeekYearTokens&&VA(m)&&A_(m,e,t),!r?.useAdditionalDayOfYearTokens&&BA(m)&&A_(m,e,t);const y=m[0],v=Gz[y];if(v){const{incompatibleTokens:b}=v;if(Array.isArray(b)){const _=d.find(w=>b.includes(w.token)||w.token===y);if(_)throw new RangeError(`The format string mustn't contain \`${_.fullToken}\` and \`${m}\` at the same time`)}else if(v.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:y,fullToken:m});const g=v.run(t,m,s.match,l);if(!g)return Tt(n,NaN);c.push(g.setter),t=g.rest}else{if(y.match(Wz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(m==="''"?m="'":y==="'"&&(m=qz(m)),t.indexOf(m)===0)t=t.slice(m.length);else return Tt(n,NaN)}}if(t.length>0&&Hz.test(t))return Tt(n,NaN);const h=c.map(m=>m.priority).sort((m,y)=>y-m).filter((m,y,v)=>v.indexOf(m)===y).map(m=>c.filter(y=>y.priority===m).sort((y,v)=>v.subPriority-y.subPriority)).map(m=>m[0]);let f=Le(n);if(isNaN(f.getTime()))return Tt(n,NaN);const p={};for(const m of h){if(!m.validate(f,l))return Tt(n,NaN);const y=m.set(f,p,l);Array.isArray(y)?(f=y[0],Object.assign(p,y[1])):f=y}return Tt(n,f)}function qz(t){return t.match(Uz)[1].replace(Yz,"'")}function ST(t,e){const n=Do(t),r=Do(e);return+n==+r}function Kz(t,e){return Ri(t,-e)}function YA(t,e){const n=Le(t),r=n.getFullYear(),i=n.getDate(),s=Tt(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=Jj(s);return n.setMonth(e,Math.min(i,a)),n}function Nt(t,e){let n=Le(t);return isNaN(+n)?Tt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=YA(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Xz(t,e){const n=Le(t);return n.setHours(e),n}function HA(t,e){const n=Le(t);return n.setMilliseconds(e),n}function Zz(t,e){const n=Le(t);return n.setMinutes(e),n}function WA(t,e){const n=Le(t);return n.setSeconds(e),n}function es(t,e){const n=Le(t);return isNaN(+n)?Tt(t,NaN):(n.setFullYear(e),n)}function ku(t,e){return Oi(t,-e)}function Jz(t,e){const{years:n=0,months:r=0,weeks:i=0,days:s=0,hours:a=0,minutes:o=0,seconds:l=0}=e,c=ku(t,r+n*12),u=Kz(c,s+i*7),d=o+a*60,f=(l+d*60)*1e3;return Tt(t,u.getTime()-f)}function qA(t,e){return g1(t,-e)}function Gu(){return K(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),ye("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ye("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ye("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Gu.compatConfig={MODE:3};function KA(){return K(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),ye("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}KA.compatConfig={MODE:3};function E1(){return K(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}E1.compatConfig={MODE:3};function T1(){return K(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}T1.compatConfig={MODE:3};function x1(){return K(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),ye("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}x1.compatConfig={MODE:3};function C1(){return K(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}C1.compatConfig={MODE:3};function S1(){return K(),ae("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ye("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}S1.compatConfig={MODE:3};const zr=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),R1=(t,e,n)=>P_(t,e,n)||ge(),Qz=(t,e,n)=>{const r=e.dateInTz?zr(new Date(t),e.dateInTz):ge(t);return n?Rr(r,!0):r},P_=(t,e,n)=>{if(!t)return null;const r=n?Rr(ge(t),!0):ge(t);return e?e.exactMatch?Qz(t,e,n):zr(r,e.timezone):r},e8=t=>{if(!t)return 0;const e=new Date,n=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(e.toLocaleString("en-US",{timeZone:t})),i=r.getTimezoneOffset()/60;return(+n-+r)/(1e3*60*60)-i};var Ci=(t=>(t.month="month",t.year="year",t))(Ci||{}),xo=(t=>(t.top="top",t.bottom="bottom",t))(xo||{}),jo=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(jo||{}),cr=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(cr||{});const t8=["timestamp","date","iso"];var vr=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(vr||{}),Qt=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Qt||{});function RT(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function n8(t){return e=>as(zr(new Date(`2017-01-0${e}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const r8=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(n8(t))}catch{i=r.map(RT(e))}else i=r.map(RT(e));const s=i.slice(0,n),a=i.slice(n+1,i.length);return[i[n]].concat(...a).concat(...s)},k1=(t,e,n)=>{const r=[];for(let i=+t[0];i<=+t[1];i++)r.push({value:+i,text:QA(i,e)});return n?r.reverse():r},XA=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const a=s<10?`0${s}`:s;return new Date(`2017-${a}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"LLLL":"LLL";return r.map((a,o)=>{const l=as(zr(a,"UTC"),s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:o}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,a)=>{const o=i.format(s);return{text:o.charAt(0).toUpperCase()+o.substring(1),value:a}})},i8=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Pn=t=>{const e=q(t);return e!=null&&e.$el?e?.$el:e},s8=t=>({type:"dot",...t??{}}),ZA=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,I1={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},$n=t=>t,kT=t=>t===0?t:!t||isNaN(+t)?null:+t,IT=t=>t===null,JA=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},a8=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Ed=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,a=+e;return r&&i?+t>s||+t<a:r?+t>s:i?+t<a:!1},Iu=(t,e)=>a8(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:a,highlighted:o}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:a,"dp--highlighted":o}}})),Oa=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},o8=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function l8(t,e){let n=[...document.querySelectorAll(o8())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const u8=(t,e)=>t?.querySelector(`[data-dp-element="${e}"]`),QA=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),A1=t=>as(t,"dd-MM-yyyy"),Gg=t=>Array.isArray(t),dp=(t,e)=>e.get(A1(t)),c8=(t,e)=>t?e?e instanceof Map?!!dp(t,e):e(ge(t)):!1:!0,Br=(t,e,n=!1)=>{if(t.key===Qt.enter||t.key===Qt.space)return n&&t.preventDefault(),e()},AT=(t,e,n,r,i,s)=>{const a=M_(t,e.slice(0,t.length),new Date,{locale:s});return Lc(a)&&DA(a)?r||i?a:Nt(a,{hours:+n.hours,minutes:+n?.minutes,seconds:+n?.seconds,milliseconds:0}):null},d8=(t,e,n,r,i,s)=>{const a=Array.isArray(n)?n[0]:n;if(typeof e=="string")return AT(t,e,a,r,i,s);if(Array.isArray(e)){let o=null;for(const l of e)if(o=AT(t,l,a,r,i,s),o)break;return o}return typeof e=="function"?e(t):null},ge=t=>t?new Date(t):new Date,h8=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),a=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${a}:${o}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Rr=(t,e)=>{const n=ge(JSON.parse(JSON.stringify(t))),r=Nt(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?sj(r):r},La=(t,e,n,r)=>{let i=t?ge(t):ge();return(e||e===0)&&(i=Xz(i,+e)),(n||n===0)&&(i=Zz(i,+n)),(r||r===0)&&(i=WA(i,+r)),HA(i,0)},cn=(t,e)=>!t||!e?!1:wd(Rr(t),Rr(e)),dt=(t,e)=>!t||!e?!1:Xl(Rr(t),Rr(e)),gn=(t,e)=>!t||!e?!1:Ru(Rr(t),Rr(e)),Sm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?gn(n,t[0])&&cn(n,t[1]):t!=null&&t[0]&&e?gn(n,t[0])&&cn(n,e)||cn(n,t[0])&&gn(n,e):!1,ki=t=>{const e=Nt(new Date(t),{date:1});return Rr(e)},jg=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},zo=t=>({hours:Us(t),minutes:Ya(t),seconds:Su(t)}),eM=(t,e)=>{if(e){const n=He(ge(e));if(n>t)return 12;if(n===t)return ct(ge(e))}},tM=(t,e)=>{if(e){const n=He(ge(e));return n<t?-1:n===t?ct(ge(e)):void 0}},Au=t=>{if(t)return He(ge(t))},nM=(t,e)=>{const n=gn(t,e)?e:t,r=gn(e,t)?e:t;return OA({start:n,end:r})},f8=t=>{const e=Oi(t,1);return{month:ct(e),year:He(e)}},Cs=(t,e)=>{const n=$i(t,{weekStartsOn:+e}),r=FA(t,{weekStartsOn:+e});return[n,r]},rM=(t,e)=>{const n={hours:Us(ge()),minutes:Ya(ge()),seconds:e?Su(ge()):0};return Object.assign(n,t)},Ca=(t,e,n)=>[Nt(ge(t),{date:1}),Nt(ge(),{month:e,year:n,date:1})],Ms=(t,e,n)=>{let r=t?ge(t):ge();return(e||e===0)&&(r=YA(r,e)),n&&(r=es(r,n)),r},iM=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Oi(t,1):ku(t,1),a=[ct(s),He(s)];return i?!m8(...a,e):!p8(...a,n)},p8=(t,e,n)=>cn(...Ca(n,t,e))||dt(...Ca(n,t,e)),m8=(t,e,n)=>gn(...Ca(n,t,e))||dt(...Ca(n,t,e)),sM=(t,e,n,r,i,s,a)=>{if(typeof e=="function"&&!a)return e(t);const o=n?{locale:n}:void 0;return Array.isArray(t)?`${as(t[0],s,o)}${i&&!t[1]?"":r}${t[1]?as(t[1],s,o):""}`:as(t,s,o)},Al=t=>{if(t)return null;throw new Error(I1.prop("partial-range"))},jh=(t,e)=>{if(e)return t();throw new Error(I1.prop("range"))},D_=t=>Array.isArray(t)?Lc(t[0])&&(t[1]?Lc(t[1]):!0):t?Lc(t):!1,g8=(t,e)=>Nt(e??ge(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),zg=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?wd(t,e):Ru(t,e),s={seconds:0,milliseconds:0};return i||Xl(Nt(t,s),Nt(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Ug=(t,e,n)=>t?g8(t,e):ge(n??e),MT=(t,e,n,r,i)=>{if(Array.isArray(r)){const a=Ug(t,r[0],e),o=Ug(t,r[1],e);return zg(r[0],a,n,!!e)&&zg(r[1],o,n,!!e)&&i}const s=Ug(t,r,e);return zg(r,s,n,!!e)&&i},Yg=t=>Nt(ge(),zo(t)),y8=(t,e)=>t instanceof Map?Array.from(t.values()).filter(n=>He(ge(n))===e).map(n=>ct(n)):[],aM=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),M1=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),oM=t=>as(t,"yyyy-MM-dd"),pc=_i({menuFocused:!1,shiftKeyInMenu:!1}),lM=()=>{const t=n=>{pc.menuFocused=n},e=n=>{pc.shiftKeyInMenu!==n&&(pc.shiftKeyInMenu=n)};return{control:fe(()=>({shiftKeyInMenu:pc.shiftKeyInMenu,menuFocused:pc.menuFocused})),setMenuFocused:t,setShiftKey:e}},Yt=_i({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Hg=_e(null),zh=_e(!1),Wg=_e(!1),qg=_e(!1),Kg=_e(!1),ar=_e(0),mn=_e(0),lo=()=>{const t=fe(()=>zh.value?[...Yt.selectionGrid,Yt.actionRow].filter(d=>d.length):Wg.value?[...Yt.timePicker[0],...Yt.timePicker[1],Kg.value?[]:[Hg.value],Yt.actionRow].filter(d=>d.length):qg.value?[...Yt.monthPicker,Yt.actionRow]:[Yt.monthYear,...Yt.calendar,Yt.time,Yt.actionRow].filter(d=>d.length)),e=d=>{ar.value=d?ar.value+1:ar.value-1;let h=null;t.value[mn.value]&&(h=t.value[mn.value][ar.value]),!h&&t.value[mn.value+(d?1:-1)]?(mn.value=mn.value+(d?1:-1),ar.value=d?0:t.value[mn.value].length-1):h||(ar.value=d?ar.value-1:ar.value+1)},n=d=>{mn.value===0&&!d||mn.value===t.value.length&&d||(mn.value=d?mn.value+1:mn.value-1,t.value[mn.value]?t.value[mn.value]&&!t.value[mn.value][ar.value]&&ar.value!==0&&(ar.value=t.value[mn.value].length-1):mn.value=d?mn.value-1:mn.value+1)},r=d=>{let h=null;t.value[mn.value]&&(h=t.value[mn.value][ar.value]),h?h.focus({preventScroll:!zh.value}):ar.value=d?ar.value-1:ar.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},a=()=>{n(!1),r(!0)},o=()=>{n(!0),r(!0)},l=(d,h)=>{Yt[h]=d},c=(d,h)=>{Yt[h]=d},u=()=>{ar.value=0,mn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:c,setTimePickerBackRef:d=>{Hg.value=d},setSelectionGrid:d=>{zh.value=d,u(),d||(Yt.selectionGrid=[])},setTimePicker:(d,h=!1)=>{Wg.value=d,Kg.value=h,u(),d||(Yt.timePicker[0]=[],Yt.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{Yt.timePicker[h]=d},arrowRight:i,arrowLeft:s,arrowUp:a,arrowDown:o,clearArrowNav:()=>{Yt.monthYear=[],Yt.calendar=[],Yt.time=[],Yt.actionRow=[],Yt.selectionGrid=[],Yt.timePicker[0]=[],Yt.timePicker[1]=[],zh.value=!1,Wg.value=!1,Kg.value=!1,qg.value=!1,u(),Hg.value=null},setMonthPicker:d=>{qg.value=d,u()},refSets:Yt}},PT=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),_8=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),DT=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,v8=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:DT(!1)};const r=e?t:{},i=e?r.count??!0:t,s=DT(i);return Object.assign(n,r,{count:s})},b8=(t,e,n)=>t||(typeof n=="string"?n:e),w8=t=>typeof t=="boolean"?t?PT({}):!1:PT(t),E8=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},T8=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),x8=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),C8=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},S8=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,...t??{}}),R8=t=>{const e={dates:Array.isArray(t)?t.map(n=>ge(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},k8=t=>typeof t=="object"?{type:t?.type??"local",hideOnOffsetDates:t?.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},I8=(t,e)=>typeof t=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...t}:{enabled:t,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,minMaxRawRange:e.minMaxRawRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,maxRange:e.maxRange,minRange:e.minRange,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd},A8=(t,e)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:e,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:e??t.emitTimezone,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:e},Xg=(t,e,n)=>new Map(t.map(r=>{const i=R1(r,e,n);return[A1(i),i]})),M8=(t,e)=>t.length?new Map(t.map(n=>{const r=R1(n.date,e);return[A1(r),n]})):null,P8=t=>{var e;return{minDate:P_(t.minDate,t.timezone,t.isSpecific),maxDate:P_(t.maxDate,t.timezone,t.isSpecific),disabledDates:Gg(t.disabledDates)?Xg(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:Gg(t.allowedDates)?Xg(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&Gg((e=t.highlight)==null?void 0:e.dates)?Xg(t.highlight.dates,t.timezone):t.highlight,markers:M8(t.markers,t.timezone)}},D8=(t,e)=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:+e}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},O8=t=>({...Object.fromEntries(Object.keys(t).map(e=>{const n=e,r=t[n],i=typeof t[n]=="string"?{[r]:!0}:Object.fromEntries(r.map(s=>[s,!0]));return[e,i]}))}),an=t=>{const e=()=>{const E=t.enableSeconds?":ss":"",x=t.enableMinutes?":mm":"";return t.is24?`HH${x}${E}`:`hh${x}${E} aa`},n=()=>{var E;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((E=y.value)==null?void 0:E.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},r=E=>rM(E,t.enableSeconds),i=()=>_.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=fe(()=>v8(t.multiCalendars)),a=fe(()=>i()),o=fe(()=>_8(t.ariaLabels)),l=fe(()=>T8(t.filters)),c=fe(()=>w8(t.transitions)),u=fe(()=>x8(t.actionRow)),d=fe(()=>b8(t.previewFormat,t.format,n())),h=fe(()=>E8(t.textInput)),f=fe(()=>C8(t.inline)),p=fe(()=>S8(t.config)),m=fe(()=>R8(t.highlight)),y=fe(()=>k8(t.weekNumbers)),v=fe(()=>A8(t.timezone,t.emitTimezone)),b=fe(()=>D8(t.multiDates,t.multiDatesLimit)),g=fe(()=>P8({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:m.value,markers:t.markers,timezone:v.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),_=fe(()=>I8(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd})),w=fe(()=>O8(t.ui));return{defaultedTransitions:c,defaultedMultiCalendars:s,defaultedStartTime:a,defaultedAriaLabels:o,defaultedFilters:l,defaultedActionRow:u,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:f,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:y,defaultedRange:_,propDates:g,defaultedTz:v,defaultedMultiDates:b,defaultedUI:w,getDefaultPattern:n,getDefaultStartTime:i}},L8=(t,e,n)=>{const r=_e(),{defaultedTextInput:i,defaultedRange:s,defaultedTz:a,defaultedMultiDates:o,getDefaultPattern:l}=an(e),c=_e(""),u=Uo(e,"format"),d=Uo(e,"formatLocale");rn(r,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",r.value,pe(!0))},{deep:!0}),rn(s,(L,ve)=>{L.enabled!==ve.enabled&&(r.value=null)}),rn(u,()=>{H()});const h=L=>a.value.timezone&&a.value.convertModel?zr(L,a.value.timezone):L,f=L=>{if(a.value.timezone&&a.value.convertModel){const ve=e8(a.value.timezone);return JG(L,ve)}return L},p=(L,ve,Pe=!1)=>sM(L,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,ve??l(),Pe),m=L=>L?e.modelType?le(L):{hours:Us(L),minutes:Ya(L),seconds:e.enableSeconds?Su(L):0}:null,y=L=>e.modelType?le(L):{month:ct(L),year:He(L)},v=L=>Array.isArray(L)?o.value.enabled?L.map(ve=>b(ve,es(ge(),ve))):jh(()=>[es(ge(),L[0]),L[1]?es(ge(),L[1]):Al(s.value.partialRange)],s.value.enabled):es(ge(),+L),b=(L,ve)=>(typeof L=="string"||typeof L=="number")&&e.modelType?Z(L):ve,g=L=>Array.isArray(L)?[b(L[0],La(null,+L[0].hours,+L[0].minutes,L[0].seconds)),b(L[1],La(null,+L[1].hours,+L[1].minutes,L[1].seconds))]:b(L,La(null,L.hours,L.minutes,L.seconds)),_=L=>{const ve=Nt(ge(),{date:1});return Array.isArray(L)?o.value.enabled?L.map(Pe=>b(Pe,Ms(ve,+Pe.month,+Pe.year))):jh(()=>[b(L[0],Ms(ve,+L[0].month,+L[0].year)),b(L[1],L[1]?Ms(ve,+L[1].month,+L[1].year):Al(s.value.partialRange))],s.value.enabled):b(L,Ms(ve,+L.month,+L.year))},w=L=>{if(Array.isArray(L))return L.map(ve=>Z(ve));throw new Error(I1.dateArr("multi-dates"))},E=L=>{if(Array.isArray(L)&&s.value.enabled){const ve=L[0],Pe=L[1];return[ge(Array.isArray(ve)?ve[0]:null),ge(Array.isArray(Pe)?Pe[0]:null)]}return ge(L[0])},x=L=>e.modelAuto?Array.isArray(L)?[Z(L[0]),Z(L[1])]:e.autoApply?[Z(L)]:[Z(L),null]:Array.isArray(L)?jh(()=>L[1]?[Z(L[0]),L[1]?Z(L[1]):Al(s.value.partialRange)]:[Z(L[0])],s.value.enabled):Z(L),S=()=>{Array.isArray(r.value)&&s.value.enabled&&r.value.length===1&&r.value.push(Al(s.value.partialRange))},T=()=>{const L=r.value;return[le(L[0]),L[1]?le(L[1]):Al(s.value.partialRange)]},P=()=>r.value[1]?T():le($n(r.value[0])),B=()=>(r.value||[]).map(L=>le(L)),F=(L=!1)=>(L||S(),e.modelAuto?P():o.value.enabled?B():Array.isArray(r.value)?jh(()=>T(),s.value.enabled):le($n(r.value))),z=L=>!L||Array.isArray(L)&&!L.length?null:e.timePicker?g($n(L)):e.monthPicker?_($n(L)):e.yearPicker?v($n(L)):o.value.enabled?w($n(L)):e.weekPicker?E($n(L)):x($n(L)),j=L=>{const ve=z(L);D_($n(ve))?(r.value=$n(ve),H()):(r.value=null,c.value="")},I=()=>{const L=ve=>as(ve,i.value.format);return`${L(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?L(r.value[1]):""}`},O=()=>n.value&&r.value?Array.isArray(r.value)?I():as(r.value,i.value.format):p(r.value),M=()=>r.value?o.value.enabled?r.value.map(L=>p(L)).join("; "):i.value.enabled&&typeof i.value.format=="string"?O():p(r.value):"",H=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?c.value=M():c.value=e.format(r.value)},Z=L=>{if(e.utc){const ve=new Date(L);return e.utc==="preserve"?new Date(ve.getTime()+ve.getTimezoneOffset()*6e4):ve}return e.modelType?t8.includes(e.modelType)?h(new Date(L)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?h(M_(L,l(),new Date,{locale:d.value})):h(M_(L,e.modelType,new Date,{locale:d.value})):h(new Date(L))},le=L=>L?e.utc?h8(L,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+f(L):e.modelType==="iso"?f(L).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(f(L)):p(f(L),e.modelType,!0):f(L):"",ie=(L,ve=!1,Pe=!1)=>{if(Pe)return L;if(t("update:model-value",L),a.value.emitTimezone&&ve){const ne=Array.isArray(L)?L.map(De=>zr($n(De),a.value.emitTimezone)):zr($n(L),a.value.emitTimezone);t("update:model-timezone-value",ne)}},N=L=>Array.isArray(r.value)?o.value.enabled?r.value.map(ve=>L(ve)):[L(r.value[0]),r.value[1]?L(r.value[1]):Al(s.value.partialRange)]:L($n(r.value)),te=()=>{if(Array.isArray(r.value)){const L=Cs(r.value[0],e.weekStart),ve=r.value[1]?Cs(r.value[1],e.weekStart):[];return[L.map(Pe=>ge(Pe)),ve.map(Pe=>ge(Pe))]}return Cs(r.value,e.weekStart).map(L=>ge(L))},A=(L,ve)=>ie($n(N(L)),!1,ve),se=L=>{const ve=te();return L?ve:t("update:model-value",te())},pe=(L=!1)=>(L||H(),e.monthPicker?A(y,L):e.timePicker?A(m,L):e.yearPicker?A(He,L):e.weekPicker?se(L):ie(F(L),!0,L));return{inputValue:c,internalModelValue:r,checkBeforeEmit:()=>r.value?s.value.enabled?s.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:j,formatInputValue:H,emitModelValue:pe}},F8=(t,e)=>{const{defaultedFilters:n,propDates:r}=an(t),{validateMonthYearInRange:i}=uo(t),s=(u,d)=>{let h=u;return n.value.months.includes(ct(h))?(h=d?Oi(u,1):ku(u,1),s(h,d)):h},a=(u,d)=>{let h=u;return n.value.years.includes(He(h))?(h=d?g1(u,1):qA(u,1),a(h,d)):h},o=(u,d=!1)=>{const h=Nt(ge(),{month:t.month,year:t.year});let f=u?Oi(h,1):ku(h,1);t.disableYearSelect&&(f=es(f,t.year));let p=ct(f),m=He(f);n.value.months.includes(p)&&(f=s(f,u),p=ct(f),m=He(f)),n.value.years.includes(m)&&(f=a(f,u),m=He(f)),i(p,m,u,t.preventMinMaxNavigation)&&l(p,m,d)},l=(u,d,h)=>{e("update-month-year",{month:u,year:d,fromNav:h})},c=fe(()=>u=>iM(Nt(ge(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:c,updateMonthYear:l}},Rm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},ji={...Rm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},N8=["title"],$8=["disabled"],B8=Jt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ji},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:a,defaultedTextInput:o,defaultedInline:l,defaultedRange:c,defaultedMultiDates:u,getDefaultPattern:d}=an(r),{isTimeValid:h,isMonthValid:f}=uo(r),{buildMatrix:p}=lo(),m=_e(null),y=_e(null),v=_e(!1),b=_e({}),g=_e(null),_=_e(null);sn(()=>{r.arrowNavigation&&p([Pn(m),Pn(y)],"actionRow"),w(),window.addEventListener("resize",w)}),cs(()=>{window.removeEventListener("resize",w)});const w=()=>{v.value=!1,setTimeout(()=>{var I,O;const M=(I=g.value)==null?void 0:I.getBoundingClientRect(),H=(O=_.value)==null?void 0:O.getBoundingClientRect();M&&H&&(b.value.maxWidth=`${H.width-M.width-20}px`),v.value=!0},0)},E=fe(()=>c.value.enabled&&!c.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),x=fe(()=>!h.value(r.internalModelValue)||!f.value(r.internalModelValue)||!E.value),S=()=>{const I=s.value;return r.timePicker||r.monthPicker,I($n(r.internalModelValue))},T=()=>{const I=r.internalModelValue;return a.value.count>0?`${P(I[0])} - ${P(I[1])}`:[P(I[0]),P(I[1])]},P=I=>sM(I,s.value,r.formatLocale,o.value.rangeSeparator,r.modelAuto,d()),B=fe(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?T():u.value.enabled?r.internalModelValue.map(I=>`${P(I)}`):r.modelAuto?`${P(r.internalModelValue[0])}`:`${P(r.internalModelValue[0])} -`:P(r.internalModelValue):S()),F=()=>u.value.enabled?"; ":" - ",z=fe(()=>Array.isArray(B.value)?B.value.join(F()):B.value),j=()=>{h.value(r.internalModelValue)&&f.value(r.internalModelValue)&&E.value?n("select-date"):n("invalid-select")};return(I,O)=>(K(),ae("div",{ref_key:"actionRowRef",ref:_,class:"dp__action_row"},[I.$slots["action-row"]?Ae(I.$slots,"action-row",Rn(bn({key:0},{internalModelValue:I.internalModelValue,disabled:x.value,selectDate:()=>I.$emit("select-date"),closePicker:()=>I.$emit("close-picker")}))):(K(),ae(Oe,{key:1},[q(i).showPreview?(K(),ae("div",{key:0,class:"dp__selection_preview",title:z.value,style:vn(b.value)},[I.$slots["action-preview"]&&v.value?Ae(I.$slots,"action-preview",{key:0,value:I.internalModelValue}):me("",!0),!I.$slots["action-preview"]&&v.value?(K(),ae(Oe,{key:1},[tr(Ye(z.value),1)],64)):me("",!0)],12,N8)):me("",!0),ye("div",{ref_key:"actionBtnContainer",ref:g,class:"dp__action_buttons","data-dp-element":"action-row"},[I.$slots["action-buttons"]?Ae(I.$slots,"action-buttons",{key:0,value:I.internalModelValue}):me("",!0),I.$slots["action-buttons"]?me("",!0):(K(),ae(Oe,{key:1},[!q(l).enabled&&q(i).showCancel?(K(),ae("button",{key:0,ref_key:"cancelButtonRef",ref:m,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[0]||(O[0]=M=>I.$emit("close-picker")),onKeydown:O[1]||(O[1]=M=>q(Br)(M,()=>I.$emit("close-picker")))},Ye(I.cancelText),545)):me("",!0),q(i).showNow?(K(),ae("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:O[2]||(O[2]=M=>I.$emit("select-now")),onKeydown:O[3]||(O[3]=M=>q(Br)(M,()=>I.$emit("select-now")))},Ye(I.nowButtonLabel),33)):me("",!0),q(i).showSelect?(K(),ae("button",{key:2,ref_key:"selectButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_select",disabled:x.value,"data-test":"select-button",onKeydown:O[4]||(O[4]=M=>q(Br)(M,()=>j())),onClick:j},Ye(I.selectText),41,$8)):me("",!0)],64))],512)],64))],512))}}),V8={class:"dp__selection_grid_header"},G8=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],j8=["aria-label"],th=Jt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=lo(),a=n,o=t,{defaultedAriaLabels:l,defaultedTextInput:c,defaultedConfig:u}=an(o),{hideNavigationButtons:d}=Am(),h=_e(!1),f=_e(null),p=_e(null),m=_e([]),y=_e(),v=_e(null),b=_e(0),g=_e(null);Up(()=>{f.value=null}),sn(()=>{Hn().then(()=>B()),o.noOverlayFocus||w(),_(!0)}),cs(()=>_(!1));const _=N=>{var te;o.arrowNavigation&&((te=o.headerRefs)!=null&&te.length?s(N):r(N))},w=()=>{var N;const te=Pn(p);te&&(c.value.enabled||(f.value?(N=f.value)==null||N.focus({preventScroll:!0}):te.focus({preventScroll:!0})),h.value=te.clientHeight<te.scrollHeight)},E=fe(()=>({dp__overlay:!0,"dp--overlay-absolute":!o.useRelative,"dp--overlay-relative":o.useRelative})),x=fe(()=>o.useRelative?{height:`${o.height}px`,width:"260px"}:void 0),S=fe(()=>({dp__overlay_col:!0})),T=fe(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:o.isLast})),P=fe(()=>{var N,te;return{dp__overlay_container:!0,dp__container_flex:((N=o.items)==null?void 0:N.length)<=6,dp__container_block:((te=o.items)==null?void 0:te.length)>6}});rn(()=>o.items,()=>B(!1),{deep:!0});const B=(N=!0)=>{Hn().then(()=>{const te=Pn(f),A=Pn(p),se=Pn(v),pe=Pn(g),L=se?se.getBoundingClientRect().height:0;A&&(A.getBoundingClientRect().height?b.value=A.getBoundingClientRect().height-L:b.value=u.value.modeHeight-L),te&&pe&&N&&(pe.scrollTop=te.offsetTop-pe.offsetTop-(b.value/2-te.getBoundingClientRect().height)-L)})},F=N=>{N.disabled||a("selected",N.value)},z=()=>{a("toggle"),a("reset-flow")},j=()=>{o.escClose&&z()},I=(N,te,A,se)=>{N&&((te.active||te.value===o.focusValue)&&(f.value=N),o.arrowNavigation&&(Array.isArray(m.value[A])?m.value[A][se]=N:m.value[A]=[N],O()))},O=()=>{var N,te;const A=(N=o.headerRefs)!=null&&N.length?[o.headerRefs].concat(m.value):m.value.concat([o.skipButtonRef?[]:[v.value]]);i($n(A),(te=o.headerRefs)!=null&&te.length?"monthPicker":"selectionGrid")},M=N=>{o.arrowNavigation||Oa(N,u.value,!0)},H=N=>{y.value=N,a("hover-value",N)},Z=()=>{if(z(),!o.isLast){const N=u8(o.menuWrapRef??null,"action-row");if(N){const te=JA(N);te?.focus()}}},le=N=>{switch(N.key){case Qt.esc:return j();case Qt.arrowLeft:return M(N);case Qt.arrowRight:return M(N);case Qt.arrowUp:return M(N);case Qt.arrowDown:return M(N);default:return}},ie=N=>{if(N.key===Qt.enter)return z();if(N.key===Qt.tab)return Z()};return e({focusGrid:w}),(N,te)=>{var A;return K(),ae("div",{ref_key:"gridWrapRef",ref:p,class:Ge(E.value),style:vn(x.value),role:"dialog",tabindex:"0",onKeydown:le,onClick:te[0]||(te[0]=qo(()=>{},["prevent"]))},[ye("div",{ref_key:"containerRef",ref:g,class:Ge(P.value),role:"grid",style:vn({"--dp-overlay-height":`${b.value}px`})},[ye("div",V8,[Ae(N.$slots,"header")]),N.$slots.overlay?Ae(N.$slots,"overlay",{key:0}):(K(!0),ae(Oe,{key:1},xt(N.items,(se,pe)=>(K(),ae("div",{key:pe,class:Ge(["dp__overlay_row",{dp__flex_row:N.items.length>=3}]),role:"row"},[(K(!0),ae(Oe,null,xt(se,(L,ve)=>(K(),ae("div",{key:L.value,ref_for:!0,ref:Pe=>I(Pe,L,pe,ve),role:"gridcell",class:Ge(S.value),"aria-selected":L.active||void 0,"aria-disabled":L.disabled||void 0,tabindex:"0","data-test":L.text,onClick:qo(Pe=>F(L),["prevent"]),onKeydown:Pe=>q(Br)(Pe,()=>F(L),!0),onMouseover:Pe=>H(L.value)},[ye("div",{class:Ge(L.className)},[N.$slots.item?Ae(N.$slots,"item",{key:0,item:L}):me("",!0),N.$slots.item?me("",!0):(K(),ae(Oe,{key:1},[tr(Ye(L.text),1)],64))],2)],42,G8))),128))],2))),128))],6),N.$slots["button-icon"]?On((K(),ae("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(A=q(l))==null?void 0:A.toggleOverlay,class:Ge(T.value),tabindex:"0",onClick:z,onKeydown:ie},[Ae(N.$slots,"button-icon")],42,j8)),[[Ln,!q(d)(N.hideNavigation,N.type)]]):me("",!0)],38)}}}),km=Jt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,n=fe(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=fe(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(K(),ae("div",{class:Ge({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(K(!0),ae(Oe,null,xt(n.value,(a,o)=>(K(),ae("div",{key:a,class:Ge(r.value)},[Ae(i.$slots,"default",{instance:a,index:o})],2))),128))],2))}}),z8=["aria-label","aria-disabled"],Fc=Jt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=_e(null);return sn(()=>n("set-ref",r)),(i,s)=>(K(),ae("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=a=>i.$emit("activate")),onKeydown:s[1]||(s[1]=a=>q(Br)(a,()=>i.$emit("activate"),!0))},[ye("span",{class:Ge(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Ae(i.$slots,"default")],2)],40,z8))}}),U8={class:"dp--year-mode-picker"},Y8=["aria-label","data-test"],uM=Jt({__name:"YearModePicker",props:{...ji,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Am(),{defaultedConfig:a,defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:c,defaultedUI:u}=an(r),{showTransition:d,transitionName:h}=nh(c),f=(y=!1,v)=>{n("toggle-year-picker",{flow:y,show:v})},p=y=>{n("year-select",y)},m=(y=!1)=>{n("handle-year",y)};return(y,v)=>{var b,g,_,w,E;return K(),ae("div",U8,[q(s)(q(o),t.instance)?(K(),Fe(Fc,{key:0,ref:"mpPrevIconRef","aria-label":(b=q(l))==null?void 0:b.prevYear,disabled:t.isDisabled(!1),class:Ge((g=q(u))==null?void 0:g.navBtnPrev),onActivate:v[0]||(v[0]=x=>m(!1))},{default:qe(()=>[y.$slots["arrow-left"]?Ae(y.$slots,"arrow-left",{key:0}):me("",!0),y.$slots["arrow-left"]?me("",!0):(K(),Fe(q(E1),{key:1}))]),_:3},8,["aria-label","disabled","class"])):me("",!0),ye("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(_=q(l))==null?void 0:_.openYearsOverlay,"data-test":`year-mode-btn-${t.instance}`,onClick:v[1]||(v[1]=()=>f(!1)),onKeydown:v[2]||(v[2]=qp(()=>f(!1),["enter"]))},[y.$slots.year?Ae(y.$slots,"year",{key:0,year:t.year}):me("",!0),y.$slots.year?me("",!0):(K(),ae(Oe,{key:1},[tr(Ye(t.year),1)],64))],40,Y8),q(i)(q(o),t.instance)?(K(),Fe(Fc,{key:1,ref:"mpNextIconRef","aria-label":(w=q(l))==null?void 0:w.nextYear,disabled:t.isDisabled(!0),class:Ge((E=q(u))==null?void 0:E.navBtnNext),onActivate:v[3]||(v[3]=x=>m(!0))},{default:qe(()=>[y.$slots["arrow-right"]?Ae(y.$slots,"arrow-right",{key:0}):me("",!0),y.$slots["arrow-right"]?me("",!0):(K(),Fe(q(T1),{key:1}))]),_:3},8,["aria-label","disabled","class"])):me("",!0),we(so,{name:q(h)(t.showYearPicker),css:q(d)},{default:qe(()=>[t.showYearPicker?(K(),Fe(th,{key:0,items:t.items,"text-input":y.textInput,"esc-close":y.escClose,config:y.config,"is-last":y.autoApply&&!q(a).keepActionRow,"hide-navigation":y.hideNavigation,"aria-labels":y.ariaLabels,type:"year",onToggle:f,onSelected:v[4]||(v[4]=x=>p(x))},zn({"button-icon":qe(()=>[y.$slots["calendar-icon"]?Ae(y.$slots,"calendar-icon",{key:0}):me("",!0),y.$slots["calendar-icon"]?me("",!0):(K(),Fe(q(Gu),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:qe(({item:x})=>[Ae(y.$slots,"year-overlay-value",{text:x.text,value:x.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):me("",!0)]),_:3},8,["name","css"])])}}}),P1=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>dt(t,r))){const r=e.value.filter(i=>!dt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},D1=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?cn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),r},Im=(t,e,n,r)=>{t&&(t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply"))},cM=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>zr(ge(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=zr(ge(t.value),t.timezone))},dM=(t,e,n,r)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&r.value.partialRange)?r.value.fixedStart&&(gn(t,e.value[0])||dt(t,e.value[0]))?[e.value[0],t]:r.value.fixedEnd&&(cn(t,e.value[1])||dt(t,e.value[1]))?[t,e.value[1]]:(n("invalid-fixed-range",t),e.value):[],hM=({multiCalendars:t,range:e,highlight:n,propDates:r,calendars:i,modelValue:s,props:a,filters:o,year:l,month:c,emit:u})=>{const d=fe(()=>k1(a.yearRange,a.locale,a.reverseYears)),h=_e([!1]),f=fe(()=>(P,B)=>{const F=Nt(ki(new Date),{month:c.value(P),year:l.value(P)}),z=B?LA(F):bd(F);return iM(z,r.value.maxDate,r.value.minDate,a.preventMinMaxNavigation,B)}),p=()=>Array.isArray(s.value)&&t.value.solo&&s.value[1],m=()=>{for(let P=0;P<t.value.count;P++)if(P===0)i.value[P]=i.value[0];else if(P===t.value.count-1&&p())i.value[P]={month:ct(s.value[1]),year:He(s.value[1])};else{const B=Nt(ge(),i.value[P-1]);i.value[P]={month:ct(B),year:He(g1(B,1))}}},y=P=>{if(!P)return m();const B=Nt(ge(),i.value[P]);return i.value[0].year=He(qA(B,t.value.count-1)),m()},v=(P,B)=>{const F=rj(B,P);return e.value.showLastInRange&&F>1?B:P},b=P=>a.focusStartDate||t.value.solo?P[0]:P[1]?v(P[0],P[1]):P[0],g=()=>{if(s.value){const P=Array.isArray(s.value)?b(s.value):s.value;i.value[0]={month:ct(P),year:He(P)}}},_=()=>{g(),t.value.count&&m()};rn(s,(P,B)=>{a.isTextInputDate&&JSON.stringify(P??{})!==JSON.stringify(B??{})&&_()}),sn(()=>{_()});const w=(P,B)=>{i.value[B].year=P,u("update-month-year",{instance:B,year:P,month:i.value[B].month}),t.value.count&&!t.value.solo&&y(B)},E=fe(()=>P=>Iu(d.value,B=>{var F;const z=l.value(P)===B.value,j=Ed(B.value,Au(r.value.minDate),Au(r.value.maxDate))||((F=o.value.years)==null?void 0:F.includes(l.value(P))),I=M1(n.value,B.value);return{active:z,disabled:j,highlighted:I}})),x=(P,B)=>{w(P,B),T(B)},S=(P,B=!1)=>{if(!f.value(P,B)){const F=B?l.value(P)+1:l.value(P)-1;w(F,P)}},T=(P,B=!1,F)=>{B||u("reset-flow"),F!==void 0?h.value[P]=F:h.value[P]=!h.value[P],h.value[P]?u("overlay-toggle",{open:!0,overlay:cr.year}):(u("overlay-closed"),u("overlay-toggle",{open:!1,overlay:cr.year}))};return{isDisabled:f,groupedYears:E,showYearPicker:h,selectYear:w,toggleYearPicker:T,handleYearSelect:x,handleYear:S}},H8=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedRange:a,defaultedHighlight:o,propDates:l,defaultedTz:c,defaultedFilters:u,defaultedMultiDates:d}=an(t),h=()=>{t.isTextInputDate&&_(He(ge(t.startDate)),0)},{modelValue:f,year:p,month:m,calendars:y}=rh(t,e,h),v=fe(()=>XA(t.formatLocale,t.locale,t.monthNameFormat)),b=_e(null),{checkMinMaxRange:g}=uo(t),{selectYear:_,groupedYears:w,showYearPicker:E,toggleYearPicker:x,handleYearSelect:S,handleYear:T,isDisabled:P}=hM({modelValue:f,multiCalendars:n,range:a,highlight:o,calendars:y,year:p,propDates:l,month:m,filters:u,props:t,emit:e});sn(()=>{t.startDate&&(f.value&&t.focusStartDate||!f.value)&&_(He(ge(t.startDate)),0)});const B=A=>A?{month:ct(A),year:He(A)}:{month:null,year:null},F=()=>f.value?Array.isArray(f.value)?f.value.map(A=>B(A)):B(f.value):B(),z=(A,se)=>{const pe=y.value[A],L=F();return Array.isArray(L)?L.some(ve=>ve.year===pe?.year&&ve.month===se):pe?.year===L.year&&se===L.month},j=(A,se,pe)=>{var L,ve;const Pe=F();return Array.isArray(Pe)?p.value(se)===((L=Pe[pe])==null?void 0:L.year)&&A===((ve=Pe[pe])==null?void 0:ve.month):!1},I=(A,se)=>{if(a.value.enabled){const pe=F();if(Array.isArray(f.value)&&Array.isArray(pe)){const L=j(A,se,0)||j(A,se,1),ve=Ms(ki(ge()),A,p.value(se));return Sm(f.value,b.value,ve)&&!L}return!1}return!1},O=fe(()=>A=>Iu(v.value,se=>{var pe;const L=z(A,se.value),ve=Ed(se.value,eM(p.value(A),l.value.minDate),tM(p.value(A),l.value.maxDate))||y8(l.value.disabledDates,p.value(A)).includes(se.value)||((pe=u.value.months)==null?void 0:pe.includes(se.value)),Pe=I(se.value,A),ne=aM(o.value,se.value,p.value(A));return{active:L,disabled:ve,isBetween:Pe,highlighted:ne}})),M=(A,se)=>Ms(ki(ge()),A,p.value(se)),H=(A,se)=>{const pe=f.value?f.value:ki(new Date);f.value=Ms(pe,A,p.value(se)),e("auto-apply"),e("update-flow-step")},Z=(A,se)=>{const pe=M(A,se);a.value.fixedEnd||a.value.fixedStart?f.value=dM(pe,f,e,a):f.value?g(pe,f.value)&&(f.value=D1(f,M(A,se),e)):f.value=[M(A,se)],Hn().then(()=>{Im(f.value,e,t.autoApply,t.modelAuto)})},le=(A,se)=>{P1(M(A,se),f,d.value.limit),e("auto-apply",!0)},ie=(A,se)=>(y.value[se].month=A,te(se,y.value[se].year,A),d.value.enabled?le(A,se):a.value.enabled?Z(A,se):H(A,se)),N=(A,se)=>{_(A,se),te(se,A,null)},te=(A,se,pe)=>{let L=pe;if(!L&&L!==0){const ve=F();L=Array.isArray(ve)?ve[A].month:ve.month}e("update-month-year",{instance:A,year:se,month:L})};return{groupedMonths:O,groupedYears:w,year:p,isDisabled:P,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:E,modelValue:f,presetDate:(A,se)=>{cM({value:A,modelValue:f,range:a.value.enabled,timezone:se?void 0:c.value.timezone}),e("auto-apply")},setHoverDate:(A,se)=>{b.value=M(A,se)},selectMonth:ie,selectYear:N,toggleYearPicker:x,handleYearSelect:S,handleYear:T,getModelMonthYear:F}},W8=Jt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ji},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=Hs(),s=Jr(i,"yearMode"),a=t;sn(()=>{a.shadow||r("mount",null)});const{groupedMonths:o,groupedYears:l,year:c,isDisabled:u,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:f,modelValue:p,presetDate:m,setHoverDate:y,selectMonth:v,selectYear:b,toggleYearPicker:g,handleYearSelect:_,handleYear:w,getModelMonthYear:E}=H8(a,r);return e({getSidebarProps:()=>({modelValue:p,year:c,getModelMonthYear:E,selectMonth:v,selectYear:b,handleYear:w}),presetDate:m,toggleYearPicker:x=>g(0,x)}),(x,S)=>(K(),Fe(km,{"multi-calendars":q(d).count,collapse:x.collapse,stretch:""},{default:qe(({instance:T})=>[x.$slots["top-extra"]?Ae(x.$slots,"top-extra",{key:0,value:x.internalModelValue}):me("",!0),x.$slots["month-year"]?Ae(x.$slots,"month-year",Rn(bn({key:1},{year:q(c),months:q(o)(T),years:q(l)(T),selectMonth:q(v),selectYear:q(b),instance:T}))):(K(),Fe(th,{key:2,items:q(o)(T),"arrow-navigation":x.arrowNavigation,"is-last":x.autoApply&&!q(h).keepActionRow,"esc-close":x.escClose,height:q(h).modeHeight,config:x.config,"no-overlay-focus":!!(x.noOverlayFocus||x.textInput),"use-relative":"",type:"month",onSelected:P=>q(v)(P,T),onHoverValue:P=>q(y)(P,T)},zn({header:qe(()=>[we(uM,bn(x.$props,{items:q(l)(T),instance:T,"show-year-picker":q(f)[T],year:q(c)(T),"is-disabled":P=>q(u)(T,P),onHandleYear:P=>q(w)(T,P),onYearSelect:P=>q(_)(P,T),onToggleYearPicker:P=>q(g)(T,P?.flow,P?.show)}),zn({_:2},[xt(q(s),(P,B)=>({name:P,fn:qe(F=>[Ae(x.$slots,P,Rn(Jn(F)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[x.$slots["month-overlay-value"]?{name:"item",fn:qe(({item:P})=>[Ae(x.$slots,"month-overlay-value",{text:P.text,value:P.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),q8=(t,e)=>{const n=()=>{t.isTextInputDate&&(u.value=He(ge(t.startDate)))},{modelValue:r}=rh(t,e,n),i=_e(null),{defaultedHighlight:s,defaultedMultiDates:a,defaultedFilters:o,defaultedRange:l,propDates:c}=an(t),u=_e();sn(()=>{t.startDate&&(r.value&&t.focusStartDate||!r.value)&&(u.value=He(ge(t.startDate)))});const d=m=>Array.isArray(r.value)?r.value.some(y=>He(y)===m):r.value?He(r.value)===m:!1,h=m=>l.value.enabled&&Array.isArray(r.value)?Sm(r.value,i.value,p(m)):!1,f=fe(()=>Iu(k1(t.yearRange,t.locale,t.reverseYears),m=>{const y=d(m.value),v=Ed(m.value,Au(c.value.minDate),Au(c.value.maxDate))||o.value.years.includes(m.value),b=h(m.value)&&!y,g=M1(s.value,m.value);return{active:y,disabled:v,isBetween:b,highlighted:g}})),p=m=>es(ki(bd(new Date)),m);return{groupedYears:f,modelValue:r,focusYear:u,setHoverValue:m=>{i.value=es(ki(new Date),m)},selectYear:m=>{var y;if(e("update-month-year",{instance:0,year:m}),a.value.enabled)return r.value?Array.isArray(r.value)&&(((y=r.value)==null?void 0:y.map(v=>He(v))).includes(m)?r.value=r.value.filter(v=>He(v)!==m):r.value.push(es(Rr(ge()),m))):r.value=[es(Rr(bd(ge())),m)],e("auto-apply",!0);l.value.enabled?(r.value=D1(r,p(m),e),Hn().then(()=>{Im(r.value,e,t.autoApply,t.modelAuto)})):(r.value=p(m),e("auto-apply"))}}},K8=Jt({compatConfig:{MODE:3},__name:"YearPicker",props:{...ji},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:a,focusYear:o,selectYear:l,setHoverValue:c}=q8(i,r),{defaultedConfig:u}=an(i);return e({getSidebarProps:()=>({modelValue:a,selectYear:l})}),(d,h)=>(K(),ae("div",null,[d.$slots["top-extra"]?Ae(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):me("",!0),d.$slots["month-year"]?Ae(d.$slots,"month-year",Rn(bn({key:1},{years:q(s),selectYear:q(l)}))):(K(),Fe(th,{key:2,items:q(s),"is-last":d.autoApply&&!q(u).keepActionRow,height:q(u).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":q(o),type:"year","use-relative":"",onSelected:q(l),onHoverValue:q(c)},zn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:qe(({item:f})=>[Ae(d.$slots,"year-overlay-value",{text:f.text,value:f.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),X8={key:0,class:"dp__time_input"},Z8=["data-test","aria-label","onKeydown","onClick","onMousedown"],J8=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Q8=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),e6=["aria-label","disabled","data-test","onKeydown","onClick"],t6=["data-test","aria-label","onKeydown","onClick","onMousedown"],n6=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),r6=ye("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),i6={key:0},s6=["aria-label"],a6=Jt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ji},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:a}=lo(),{defaultedAriaLabels:o,defaultedTransitions:l,defaultedFilters:c,defaultedConfig:u,defaultedRange:d}=an(i),{transitionName:h,showTransition:f}=nh(l),p=_i({hours:!1,minutes:!1,seconds:!1}),m=_e("AM"),y=_e(null),v=_e([]),b=_e();sn(()=>{r("mounted")});const g=G=>Nt(new Date,{hours:G.hours,minutes:G.minutes,seconds:i.enableSeconds?G.seconds:0,milliseconds:0}),_=fe(()=>G=>O(G,i[G])||E(G,i[G])),w=fe(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),E=(G,k)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!i.validateTime(G,k):!1,x=(G,k)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const C=k?+i[`${G}Increment`]:-+i[`${G}Increment`],$=i[G]+C;return!i.validateTime(G,$)}return!1},S=fe(()=>G=>!ie(+i[G]+ +i[`${G}Increment`],G)||x(G,!0)),T=fe(()=>G=>!ie(+i[G]-+i[`${G}Increment`],G)||x(G,!1)),P=(G,k)=>kA(Nt(ge(),G),k),B=(G,k)=>Jz(Nt(ge(),G),k),F=fe(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),z=fe(()=>{const G=[{type:"hours"}];return i.enableMinutes&&G.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&G.push({type:"",separator:!0},{type:"seconds"}),G}),j=fe(()=>z.value.filter(G=>!G.separator)),I=fe(()=>G=>{if(G==="hours"){const k=L(+i.hours);return{text:k<10?`0${k}`:`${k}`,value:k}}return{text:i[G]<10?`0${i[G]}`:`${i[G]}`,value:i[G]}}),O=(G,k)=>{var C;if(!i.disabledTimesConfig)return!1;const $=i.disabledTimesConfig(i.order,G==="hours"?k:void 0);return $[G]?!!((C=$[G])!=null&&C.includes(k)):!0},M=(G,k)=>k!=="hours"||m.value==="AM"?G:G+12,H=G=>{const k=i.is24?24:12,C=G==="hours"?k:60,$=+i[`${G}GridIncrement`],U=G==="hours"&&!i.is24?$:0,W=[];for(let V=U;V<C;V+=$)W.push({value:i.is24?V:M(V,G),text:V<10?`0${V}`:`${V}`});return G==="hours"&&!i.is24&&W.unshift({value:m.value==="PM"?12:0,text:"12"}),Iu(W,V=>({active:!1,disabled:c.value.times[G].includes(V.value)||!ie(V.value,G)||O(G,V.value)||E(G,V.value)}))},Z=G=>G>=0?G:59,le=G=>G>=0?G:23,ie=(G,k)=>{const C=i.minTime?g(jg(i.minTime)):null,$=i.maxTime?g(jg(i.maxTime)):null,U=g(jg(w.value,k,k==="minutes"||k==="seconds"?Z(G):le(G)));return C&&$?(wd(U,$)||Xl(U,$))&&(Ru(U,C)||Xl(U,C)):C?Ru(U,C)||Xl(U,C):$?wd(U,$)||Xl(U,$):!0},N=G=>i[`no${G[0].toUpperCase()+G.slice(1)}Overlay`],te=G=>{N(G)||(p[G]=!p[G],p[G]?r("overlay-opened",G):r("overlay-closed",G))},A=G=>G==="hours"?Us:G==="minutes"?Ya:Su,se=()=>{b.value&&clearTimeout(b.value)},pe=(G,k=!0,C)=>{const $=k?P:B,U=k?+i[`${G}Increment`]:-+i[`${G}Increment`];ie(+i[G]+U,G)&&r(`update:${G}`,A(G)($({[G]:+i[G]},{[G]:+i[`${G}Increment`]}))),!(C!=null&&C.keyboard)&&u.value.timeArrowHoldThreshold&&(b.value=setTimeout(()=>{pe(G,k)},u.value.timeArrowHoldThreshold))},L=G=>i.is24?G:(G>=12?m.value="PM":m.value="AM",i8(G)),ve=()=>{m.value==="PM"?(m.value="AM",r("update:hours",i.hours-12)):(m.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",m.value)},Pe=G=>{p[G]=!0},ne=(G,k,C)=>{if(G&&i.arrowNavigation){Array.isArray(v.value[k])?v.value[k][C]=G:v.value[k]=[G];const $=v.value.reduce((U,W)=>W.map((V,ee)=>[...U[ee]||[],W[ee]]),[]);a(i.closeTimePickerBtn),y.value&&($[1]=$[1].concat(y.value)),s($,i.order)}},De=(G,k)=>(te(G),r(`update:${G}`,k));return e({openChildCmp:Pe}),(G,k)=>{var C;return G.disabled?me("",!0):(K(),ae("div",X8,[(K(!0),ae(Oe,null,xt(z.value,($,U)=>{var W,V,ee;return K(),ae("div",{key:U,class:Ge(F.value)},[$.separator?(K(),ae(Oe,{key:0},[tr(" : ")],64)):(K(),ae(Oe,{key:1},[ye("button",{ref_for:!0,ref:R=>ne(R,U,0),type:"button",class:Ge({dp__btn:!0,dp__inc_dec_button:!G.timePickerInline,dp__inc_dec_button_inline:G.timePickerInline,dp__tp_inline_btn_top:G.timePickerInline,dp__inc_dec_button_disabled:S.value($.type)}),"data-test":`${$.type}-time-inc-btn-${i.order}`,"aria-label":(W=q(o))==null?void 0:W.incrementValue($.type),tabindex:"0",onKeydown:R=>q(Br)(R,()=>pe($.type,!0,{keyboard:!0}),!0),onClick:R=>q(u).timeArrowHoldThreshold?void 0:pe($.type,!0),onMousedown:R=>q(u).timeArrowHoldThreshold?pe($.type,!0):void 0,onMouseup:se},[i.timePickerInline?(K(),ae(Oe,{key:1},[G.$slots["tp-inline-arrow-up"]?Ae(G.$slots,"tp-inline-arrow-up",{key:0}):(K(),ae(Oe,{key:1},[J8,Q8],64))],64)):(K(),ae(Oe,{key:0},[G.$slots["arrow-up"]?Ae(G.$slots,"arrow-up",{key:0}):me("",!0),G.$slots["arrow-up"]?me("",!0):(K(),Fe(q(C1),{key:1}))],64))],42,Z8),ye("button",{ref_for:!0,ref:R=>ne(R,U,1),type:"button","aria-label":(V=q(o))==null?void 0:V.openTpOverlay($.type),class:Ge({dp__time_display:!0,dp__time_display_block:!G.timePickerInline,dp__time_display_inline:G.timePickerInline,"dp--time-invalid":_.value($.type),"dp--time-overlay-btn":!_.value($.type)}),disabled:N($.type),tabindex:"0","data-test":`${$.type}-toggle-overlay-btn-${i.order}`,onKeydown:R=>q(Br)(R,()=>te($.type),!0),onClick:R=>te($.type)},[G.$slots[$.type]?Ae(G.$slots,$.type,{key:0,text:I.value($.type).text,value:I.value($.type).value}):me("",!0),G.$slots[$.type]?me("",!0):(K(),ae(Oe,{key:1},[tr(Ye(I.value($.type).text),1)],64))],42,e6),ye("button",{ref_for:!0,ref:R=>ne(R,U,2),type:"button",class:Ge({dp__btn:!0,dp__inc_dec_button:!G.timePickerInline,dp__inc_dec_button_inline:G.timePickerInline,dp__tp_inline_btn_bottom:G.timePickerInline,dp__inc_dec_button_disabled:T.value($.type)}),"data-test":`${$.type}-time-dec-btn-${i.order}`,"aria-label":(ee=q(o))==null?void 0:ee.decrementValue($.type),tabindex:"0",onKeydown:R=>q(Br)(R,()=>pe($.type,!1,{keyboard:!0}),!0),onClick:R=>q(u).timeArrowHoldThreshold?void 0:pe($.type,!1),onMousedown:R=>q(u).timeArrowHoldThreshold?pe($.type,!1):void 0,onMouseup:se},[i.timePickerInline?(K(),ae(Oe,{key:1},[G.$slots["tp-inline-arrow-down"]?Ae(G.$slots,"tp-inline-arrow-down",{key:0}):(K(),ae(Oe,{key:1},[n6,r6],64))],64)):(K(),ae(Oe,{key:0},[G.$slots["arrow-down"]?Ae(G.$slots,"arrow-down",{key:0}):me("",!0),G.$slots["arrow-down"]?me("",!0):(K(),Fe(q(S1),{key:1}))],64))],42,t6)],64))],2)}),128)),G.is24?me("",!0):(K(),ae("div",i6,[G.$slots["am-pm-button"]?Ae(G.$slots,"am-pm-button",{key:0,toggle:ve,value:m.value}):me("",!0),G.$slots["am-pm-button"]?me("",!0):(K(),ae("button",{key:1,ref_key:"amPmButton",ref:y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(C=q(o))==null?void 0:C.amPmButton,tabindex:"0",onClick:ve,onKeydown:k[0]||(k[0]=$=>q(Br)($,()=>ve(),!0))},Ye(m.value),41,s6))])),(K(!0),ae(Oe,null,xt(j.value,($,U)=>(K(),Fe(so,{key:U,name:q(h)(p[$.type]),css:q(f)},{default:qe(()=>[p[$.type]?(K(),Fe(th,{key:0,items:H($.type),"is-last":G.autoApply&&!q(u).keepActionRow,"esc-close":G.escClose,type:$.type,"text-input":G.textInput,config:G.config,"arrow-navigation":G.arrowNavigation,"aria-labels":G.ariaLabels,onSelected:W=>De($.type,W),onToggle:W=>te($.type),onResetFlow:k[1]||(k[1]=W=>G.$emit("reset-flow"))},zn({"button-icon":qe(()=>[G.$slots["clock-icon"]?Ae(G.$slots,"clock-icon",{key:0}):me("",!0),G.$slots["clock-icon"]?me("",!0):(K(),Fe(Du(G.timePickerInline?q(Gu):q(x1)),{key:1}))]),_:2},[G.$slots[`${$.type}-overlay-value`]?{name:"item",fn:qe(({item:W})=>[Ae(G.$slots,`${$.type}-overlay-value`,{text:W.text,value:W.value})]),key:"0"}:void 0,G.$slots[`${$.type}-overlay-header`]?{name:"header",fn:qe(()=>[Ae(G.$slots,`${$.type}-overlay-header`,{toggle:()=>te($.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):me("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),o6={class:"dp--tp-wrap"},l6=["aria-label","tabindex"],u6=["tabindex"],c6=["aria-label"],fM=Jt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ji},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:a}=lo(),o=Hs(),{defaultedTransitions:l,defaultedAriaLabels:c,defaultedTextInput:u,defaultedConfig:d,defaultedRange:h}=an(i),{transitionName:f,showTransition:p}=nh(l),{hideNavigationButtons:m}=Am(),y=_e(null),v=_e(null),b=_e([]),g=_e(null);sn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Pn(y.value)],"time"):a(!0,i.timePicker)});const _=fe(()=>h.value.enabled&&i.modelAuto?ZA(i.internalModelValue):!0),w=_e(!1),E=M=>({hours:Array.isArray(i.hours)?i.hours[M]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[M]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[M]:i.seconds}),x=fe(()=>{const M=[];if(h.value.enabled)for(let H=0;H<2;H++)M.push(E(H));else M.push(E(0));return M}),S=(M,H=!1,Z="")=>{H||r("reset-flow"),w.value=M,r(M?"overlay-opened":"overlay-closed",cr.time),i.arrowNavigation&&a(M),Hn(()=>{Z!==""&&b.value[0]&&b.value[0].openChildCmp(Z)})},T=fe(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),P=Jr(o,"timePicker"),B=(M,H,Z)=>h.value.enabled?H===0?[M,x.value[1][Z]]:[x.value[0][Z],M]:M,F=M=>{r("update:hours",M)},z=M=>{r("update:minutes",M)},j=M=>{r("update:seconds",M)},I=()=>{if(g.value&&!u.value.enabled&&!i.noOverlayFocus){const M=JA(g.value);M&&M.focus({preventScroll:!0})}},O=M=>{r("overlay-closed",M)};return e({toggleTimePicker:S}),(M,H)=>{var Z;return K(),ae("div",o6,[!M.timePicker&&!M.timePickerInline?On((K(),ae("button",{key:0,ref_key:"openTimePickerBtn",ref:y,type:"button",class:Ge(T.value),"aria-label":(Z=q(c))==null?void 0:Z.openTimePicker,tabindex:M.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:H[0]||(H[0]=le=>q(Br)(le,()=>S(!0))),onClick:H[1]||(H[1]=le=>S(!0))},[M.$slots["clock-icon"]?Ae(M.$slots,"clock-icon",{key:0}):me("",!0),M.$slots["clock-icon"]?me("",!0):(K(),Fe(q(x1),{key:1}))],42,l6)),[[Ln,!q(m)(M.hideNavigation,"time")]]):me("",!0),we(so,{name:q(f)(w.value),css:q(p)&&!M.timePickerInline},{default:qe(()=>{var le;return[w.value||M.timePicker||M.timePickerInline?(K(),ae("div",{key:0,ref_key:"overlayRef",ref:g,class:Ge({dp__overlay:!M.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!M.timePickerInline,"dp--overlay-relative":i.timePicker}),style:vn(M.timePicker?{height:`${q(d).modeHeight}px`}:void 0),tabindex:M.timePickerInline?void 0:0},[ye("div",{class:Ge(M.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[M.$slots["time-picker-overlay"]?Ae(M.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:F,setMinutes:z,setSeconds:j}):me("",!0),M.$slots["time-picker-overlay"]?me("",!0):(K(),ae("div",{key:1,class:Ge(M.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(K(!0),ae(Oe,null,xt(x.value,(ie,N)=>On((K(),Fe(a6,bn({key:N,ref_for:!0},{...M.$props,order:N,hours:ie.hours,minutes:ie.minutes,seconds:ie.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:N===0?M.fixedStart:M.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:b,"validate-time":(te,A)=>t.validateTime(te,B(A,N,te)),"onUpdate:hours":te=>F(B(te,N,"hours")),"onUpdate:minutes":te=>z(B(te,N,"minutes")),"onUpdate:seconds":te=>j(B(te,N,"seconds")),onMounted:I,onOverlayClosed:O,onOverlayOpened:H[2]||(H[2]=te=>M.$emit("overlay-opened",te)),onAmPmChange:H[3]||(H[3]=te=>M.$emit("am-pm-change",te))}),zn({_:2},[xt(q(P),(te,A)=>({name:te,fn:qe(se=>[Ae(M.$slots,te,bn({ref_for:!0},se))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Ln,N===0?!0:_.value]])),128))],2)),!M.timePicker&&!M.timePickerInline?On((K(),ae("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:Ge(T.value),"aria-label":(le=q(c))==null?void 0:le.closeTimePicker,tabindex:"0",onKeydown:H[4]||(H[4]=ie=>q(Br)(ie,()=>S(!1))),onClick:H[5]||(H[5]=ie=>S(!1))},[M.$slots["calendar-icon"]?Ae(M.$slots,"calendar-icon",{key:0}):me("",!0),M.$slots["calendar-icon"]?me("",!0):(K(),Fe(q(Gu),{key:1}))],42,c6)),[[Ln,!q(m)(M.hideNavigation,"time")]]):me("",!0)],2)],14,u6)):me("",!0)]}),_:3},8,["name","css"])])}}}),pM=(t,e,n,r)=>{const{defaultedRange:i}=an(t),s=(g,_)=>Array.isArray(e[g])?e[g][_]:e[g],a=g=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[g]:e.seconds:0,o=(g,_)=>g?_!==void 0?La(g,s("hours",_),s("minutes",_),a(_)):La(g,e.hours,e.minutes,a()):WA(ge(),a(_)),l=(g,_)=>{e[g]=_},c=fe(()=>t.modelAuto&&i.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:i.value.enabled),u=(g,_)=>{const w=Object.fromEntries(Object.keys(e).map(E=>E===g?[E,_]:[E,e[E]].slice()));if(c.value&&!i.value.disableTimeRangeValidation){const E=S=>n.value?La(n.value[S],w.hours[S],w.minutes[S],w.seconds[S]):null,x=S=>HA(n.value[S],0);return!(dt(E(0),E(1))&&(Ru(E(0),x(1))||wd(E(1),x(0))))}return!0},d=(g,_)=>{u(g,_)&&(l(g,_),r&&r())},h=g=>{d("hours",g)},f=g=>{d("minutes",g)},p=g=>{d("seconds",g)},m=(g,_,w,E)=>{_&&h(g),!_&&!w&&f(g),w&&p(g),n.value&&E(n.value)},y=g=>{if(g){const _=Array.isArray(g),w=_?[+g[0].hours,+g[1].hours]:+g.hours,E=_?[+g[0].minutes,+g[1].minutes]:+g.minutes,x=_?[+g[0].seconds,+g[1].seconds]:+g.seconds;l("hours",w),l("minutes",E),t.enableSeconds&&l("seconds",x)}},v=(g,_)=>{const w={hours:Array.isArray(e.hours)?e.hours[g]:e.hours,disabledArr:[]};return(_||_===0)&&(w.hours=_),Array.isArray(t.disabledTimes)&&(w.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[g])?t.disabledTimes[g]:t.disabledTimes),w},b=fe(()=>(g,_)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:E,hours:x}=v(g,_),S=E.filter(T=>+T.hours===x);return((w=S[0])==null?void 0:w.minutes)==="*"?{hours:[x],minutes:void 0,seconds:void 0}:{hours:[],minutes:S?.map(T=>+T.minutes)??[],seconds:S?.map(T=>T.seconds?+T.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:h,updateMinutes:f,updateSeconds:p,getSetDateTime:o,updateTimeValues:m,getSecondsValue:a,assignStartTime:y,validateTime:u,disabledTimesConfig:b}},d6=(t,e)=>{const n=()=>{t.isTextInputDate&&_()},{modelValue:r,time:i}=rh(t,e,n),{defaultedStartTime:s,defaultedRange:a,defaultedTz:o}=an(t),{updateTimeValues:l,getSetDateTime:c,setTime:u,assignStartTime:d,disabledTimesConfig:h,validateTime:f}=pM(t,i,r,p);function p(){e("update-flow-step")}const m=E=>{const{hours:x,minutes:S,seconds:T}=E;return{hours:+x,minutes:+S,seconds:T?+T:0}},y=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const x=m(t.startTime[0]),S=m(t.startTime[1]);return[Nt(ge(),x),Nt(ge(),S)]}const E=m(t.startTime);return Nt(ge(),E)}return a.value.enabled?[null,null]:null},v=()=>{if(a.value.enabled){const[E,x]=y();r.value=[zr(c(E,0),o.value.timezone),zr(c(x,1),o.value.timezone)]}else r.value=zr(c(y()),o.value.timezone)},b=E=>Array.isArray(E)?[zo(ge(E[0])),zo(ge(E[1]))]:[zo(E??ge())],g=(E,x,S)=>{u("hours",E),u("minutes",x),u("seconds",t.enableSeconds?S:0)},_=()=>{const[E,x]=b(r.value);return a.value.enabled?g([E.hours,x.hours],[E.minutes,x.minutes],[E.seconds,x.seconds]):g(E.hours,E.minutes,E.seconds)};sn(()=>{if(!t.shadow)return d(s.value),r.value?_():v()});const w=()=>{Array.isArray(r.value)?r.value=r.value.map((E,x)=>E&&c(E,x)):r.value=c(r.value),e("time-update")};return{modelValue:r,time:i,disabledTimesConfig:h,updateTime:(E,x=!0,S=!1)=>{l(E,x,S,w)},validateTime:f}},h6=Jt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ji},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Hs(),a=Jr(s,"timePicker"),o=_e(null),{time:l,modelValue:c,disabledTimesConfig:u,updateTime:d,validateTime:h}=d6(i,r);return sn(()=>{i.shadow||r("mount",null)}),e({getSidebarProps:()=>({modelValue:c,time:l,updateTime:d}),toggleTimePicker:(f,p=!1,m="")=>{var y;(y=o.value)==null||y.toggleTimePicker(f,p,m)}}),(f,p)=>(K(),Fe(km,{"multi-calendars":0,stretch:""},{default:qe(()=>[we(fM,bn({ref_key:"tpRef",ref:o},f.$props,{hours:q(l).hours,minutes:q(l).minutes,seconds:q(l).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":q(u),"validate-time":q(h),"onUpdate:hours":p[0]||(p[0]=m=>q(d)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>q(d)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>q(d)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>f.$emit("am-pm-change",m)),onResetFlow:p[4]||(p[4]=m=>f.$emit("reset-flow")),onOverlayClosed:p[5]||(p[5]=m=>f.$emit("overlay-toggle",{open:!1,overlay:m})),onOverlayOpened:p[6]||(p[6]=m=>f.$emit("overlay-toggle",{open:!0,overlay:m}))}),zn({_:2},[xt(q(a),(m,y)=>({name:m,fn:qe(v=>[Ae(f.$slots,m,Rn(Jn(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),f6={class:"dp--header-wrap"},p6={key:0,class:"dp__month_year_wrap"},m6={key:0},g6={class:"dp__month_year_wrap"},y6=["aria-label","data-test","onClick","onKeydown"],_6=Jt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ji},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:a,defaultedMultiCalendars:o,defaultedFilters:l,defaultedConfig:c,defaultedHighlight:u,propDates:d,defaultedUI:h}=an(i),{transitionName:f,showTransition:p}=nh(s),{buildMatrix:m}=lo(),{handleMonthYearChange:y,isDisabled:v,updateMonthYear:b}=F8(i,r),{showLeftIcon:g,showRightIcon:_}=Am(),w=_e(!1),E=_e(!1),x=_e([null,null,null,null]);sn(()=>{r("mount")});const S=N=>({get:()=>i[N],set:te=>{const A=N===Ci.month?Ci.year:Ci.month;r("update-month-year",{[N]:te,[A]:i[A]}),N===Ci.month?O(!0):M(!0)}}),T=fe(S(Ci.month)),P=fe(S(Ci.year)),B=fe(()=>N=>({month:i.month,year:i.year,items:N===Ci.month?i.months:i.years,instance:i.instance,updateMonthYear:b,toggle:N===Ci.month?O:M})),F=fe(()=>i.months.find(te=>te.value===i.month)||{text:"",value:0}),z=fe(()=>Iu(i.months,N=>{const te=i.month===N.value,A=Ed(N.value,eM(i.year,d.value.minDate),tM(i.year,d.value.maxDate))||l.value.months.includes(N.value),se=aM(u.value,N.value,i.year);return{active:te,disabled:A,highlighted:se}})),j=fe(()=>Iu(i.years,N=>{const te=i.year===N.value,A=Ed(N.value,Au(d.value.minDate),Au(d.value.maxDate))||l.value.years.includes(N.value),se=M1(u.value,N.value);return{active:te,disabled:A,highlighted:se}})),I=(N,te,A)=>{A!==void 0?N.value=A:N.value=!N.value,N.value?r("overlay-opened",te):r("overlay-closed",te)},O=(N=!1,te)=>{H(N),I(w,cr.month,te)},M=(N=!1,te)=>{H(N),I(E,cr.year,te)},H=N=>{N||r("reset-flow")},Z=(N,te)=>{i.arrowNavigation&&(x.value[te]=Pn(N),m(x.value,"monthYear"))},le=fe(()=>{var N,te;return[{type:Ci.month,index:1,toggle:O,modelValue:T.value,updateModelValue:A=>T.value=A,text:F.value.text,showSelectionGrid:w.value,items:z.value,ariaLabel:(N=a.value)==null?void 0:N.openMonthsOverlay},{type:Ci.year,index:2,toggle:M,modelValue:P.value,updateModelValue:A=>P.value=A,text:QA(i.year,i.locale),showSelectionGrid:E.value,items:j.value,ariaLabel:(te=a.value)==null?void 0:te.openYearsOverlay}]}),ie=fe(()=>i.disableYearSelect?[le.value[0]]:i.yearFirst?[...le.value].reverse():le.value);return e({toggleMonthPicker:O,toggleYearPicker:M,handleMonthYearChange:y}),(N,te)=>{var A,se,pe,L,ve,Pe;return K(),ae("div",f6,[N.$slots["month-year"]?(K(),ae("div",p6,[Ae(N.$slots,"month-year",Rn(Jn({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:q(b),handleMonthYearChange:q(y),instance:t.instance})))])):(K(),ae(Oe,{key:1},[N.$slots["top-extra"]?(K(),ae("div",m6,[Ae(N.$slots,"top-extra",{value:N.internalModelValue})])):me("",!0),ye("div",g6,[q(g)(q(o),t.instance)&&!N.vertical?(K(),Fe(Fc,{key:0,"aria-label":(A=q(a))==null?void 0:A.prevMonth,disabled:q(v)(!1),class:Ge((se=q(h))==null?void 0:se.navBtnPrev),onActivate:te[0]||(te[0]=ne=>q(y)(!1,!0)),onSetRef:te[1]||(te[1]=ne=>Z(ne,0))},{default:qe(()=>[N.$slots["arrow-left"]?Ae(N.$slots,"arrow-left",{key:0}):me("",!0),N.$slots["arrow-left"]?me("",!0):(K(),Fe(q(E1),{key:1}))]),_:3},8,["aria-label","disabled","class"])):me("",!0),ye("div",{class:Ge(["dp__month_year_wrap",{dp__year_disable_select:N.disableYearSelect}])},[(K(!0),ae(Oe,null,xt(ie.value,(ne,De)=>(K(),ae(Oe,{key:ne.type},[ye("button",{ref_for:!0,ref:G=>Z(G,De+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":ne.ariaLabel,"data-test":`${ne.type}-toggle-overlay-${t.instance}`,onClick:ne.toggle,onKeydown:G=>q(Br)(G,()=>ne.toggle(),!0)},[N.$slots[ne.type]?Ae(N.$slots,ne.type,{key:0,text:ne.text,value:i[ne.type]}):me("",!0),N.$slots[ne.type]?me("",!0):(K(),ae(Oe,{key:1},[tr(Ye(ne.text),1)],64))],40,y6),we(so,{name:q(f)(ne.showSelectionGrid),css:q(p)},{default:qe(()=>[ne.showSelectionGrid?(K(),Fe(th,{key:0,items:ne.items,"arrow-navigation":N.arrowNavigation,"hide-navigation":N.hideNavigation,"is-last":N.autoApply&&!q(c).keepActionRow,"skip-button-ref":!1,config:N.config,type:ne.type,"header-refs":[],"esc-close":N.escClose,"menu-wrap-ref":N.menuWrapRef,"text-input":N.textInput,"aria-labels":N.ariaLabels,onSelected:ne.updateModelValue,onToggle:ne.toggle},zn({"button-icon":qe(()=>[N.$slots["calendar-icon"]?Ae(N.$slots,"calendar-icon",{key:0}):me("",!0),N.$slots["calendar-icon"]?me("",!0):(K(),Fe(q(Gu),{key:1}))]),_:2},[N.$slots[`${ne.type}-overlay-value`]?{name:"item",fn:qe(({item:G})=>[Ae(N.$slots,`${ne.type}-overlay-value`,{text:G.text,value:G.value})]),key:"0"}:void 0,N.$slots[`${ne.type}-overlay`]?{name:"overlay",fn:qe(()=>[Ae(N.$slots,`${ne.type}-overlay`,bn({ref_for:!0},B.value(ne.type)))]),key:"1"}:void 0,N.$slots[`${ne.type}-overlay-header`]?{name:"header",fn:qe(()=>[Ae(N.$slots,`${ne.type}-overlay-header`,{toggle:ne.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):me("",!0)]),_:2},1032,["name","css"])],64))),128))],2),q(g)(q(o),t.instance)&&N.vertical?(K(),Fe(Fc,{key:1,"aria-label":(pe=q(a))==null?void 0:pe.prevMonth,disabled:q(v)(!1),class:Ge((L=q(h))==null?void 0:L.navBtnPrev),onActivate:te[2]||(te[2]=ne=>q(y)(!1,!0))},{default:qe(()=>[N.$slots["arrow-up"]?Ae(N.$slots,"arrow-up",{key:0}):me("",!0),N.$slots["arrow-up"]?me("",!0):(K(),Fe(q(C1),{key:1}))]),_:3},8,["aria-label","disabled","class"])):me("",!0),q(_)(q(o),t.instance)?(K(),Fe(Fc,{key:2,ref:"rightIcon",disabled:q(v)(!0),"aria-label":(ve=q(a))==null?void 0:ve.nextMonth,class:Ge((Pe=q(h))==null?void 0:Pe.navBtnNext),onActivate:te[3]||(te[3]=ne=>q(y)(!0,!0)),onSetRef:te[4]||(te[4]=ne=>Z(ne,N.disableYearSelect?2:3))},{default:qe(()=>[N.$slots[N.vertical?"arrow-down":"arrow-right"]?Ae(N.$slots,N.vertical?"arrow-down":"arrow-right",{key:0}):me("",!0),N.$slots[N.vertical?"arrow-down":"arrow-right"]?me("",!0):(K(),Fe(Du(N.vertical?q(S1):q(T1)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):me("",!0)])],64))])}}}),v6=["aria-label"],b6={class:"dp__calendar_header",role:"row"},w6={key:0,class:"dp__calendar_header_item",role:"gridcell"},E6=["aria-label"],T6=ye("div",{class:"dp__calendar_header_separator"},null,-1),x6=["aria-label"],C6={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},S6={class:"dp__cell_inner"},R6=["id","aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],k6=Jt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ji},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=lo(),{defaultedTransitions:a,defaultedConfig:o,defaultedAriaLabels:l,defaultedMultiCalendars:c,defaultedWeekNumbers:u,defaultedMultiDates:d,defaultedUI:h}=an(i),f=_e(null),p=_e({bottom:"",left:"",transform:""}),m=_e([]),y=_e(null),v=_e(!0),b=_e(""),g=_e({startX:0,endX:0,startY:0,endY:0}),_=_e([]),w=_e({left:"50%"}),E=_e(!1),x=fe(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),S=fe(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):r8(i.formatLocale,i.locale,+i.weekStart));sn(()=>{r("mount",{cmp:"calendar",refs:m}),o.value.noSwipe||y.value&&(y.value.addEventListener("touchstart",Z,{passive:!1}),y.value.addEventListener("touchend",le,{passive:!1}),y.value.addEventListener("touchmove",ie,{passive:!1})),i.monthChangeOnScroll&&y.value&&y.value.addEventListener("wheel",A,{passive:!1})});const T=ne=>ne?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",P=(ne,De)=>{if(i.transitions){const G=Rr(Ms(ge(),i.month,i.year));b.value=gn(Rr(Ms(ge(),ne,De)),G)?a.value[T(!0)]:a.value[T(!1)],v.value=!1,Hn(()=>{v.value=!0})}},B=fe(()=>({[i.calendarClassName]:!!i.calendarClassName,...h.value.calendar??{}})),F=fe(()=>ne=>{const De=s8(ne);return{dp__marker_dot:De.type==="dot",dp__marker_line:De.type==="line"}}),z=fe(()=>ne=>dt(ne,f.value)),j=fe(()=>({dp__calendar:!0,dp__calendar_next:c.value.count>0&&i.instance!==0})),I=fe(()=>ne=>i.hideOffsetDates?ne.current:!0),O=async(ne,De,G)=>{const k=Pn(m.value[De][G]);if(k){const{width:C,height:$}=k.getBoundingClientRect();f.value=ne.value;let U={left:`${C/2}px`},W=-50;if(await Hn(),_.value[0]){const{left:V,width:ee}=_.value[0].getBoundingClientRect();V<0&&(U={left:"0"},W=0,w.value.left=`${C/2}px`),window.innerWidth<V+ee&&(U={right:"0"},W=0,w.value.left=`${ee-C/2}px`)}p.value={bottom:`${$}px`,...U,transform:`translateX(${W}%)`},r("tooltip-open",ne.marker)}},M=async(ne,De,G)=>{var k,C;if(E.value&&d.value.enabled&&d.value.dragSelect)return r("select-date",ne);r("set-hover-date",ne),(C=(k=ne.marker)==null?void 0:k.tooltip)!=null&&C.length&&await O(ne,De,G)},H=ne=>{f.value&&(f.value=null,p.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ne.marker))},Z=ne=>{g.value.startX=ne.changedTouches[0].screenX,g.value.startY=ne.changedTouches[0].screenY},le=ne=>{g.value.endX=ne.changedTouches[0].screenX,g.value.endY=ne.changedTouches[0].screenY,N()},ie=ne=>{i.vertical&&!i.inline&&ne.preventDefault()},N=()=>{const ne=i.vertical?"Y":"X";Math.abs(g.value[`start${ne}`]-g.value[`end${ne}`])>10&&r("handle-swipe",g.value[`start${ne}`]>g.value[`end${ne}`]?"right":"left")},te=(ne,De,G)=>{ne&&(Array.isArray(m.value[De])?m.value[De][G]=ne:m.value[De]=[ne]),i.arrowNavigation&&s(m.value,"calendar")},A=ne=>{i.monthChangeOnScroll&&(ne.preventDefault(),r("handle-scroll",ne))},se=ne=>u.value.type==="local"?v1(ne.value,{weekStartsOn:+i.weekStart}):u.value.type==="iso"?y1(ne.value):typeof u.value.type=="function"?u.value.type(ne.value):"",pe=ne=>{const De=ne[0];return u.value.hideOnOffsetDates?ne.some(G=>G.current)?se(De):"":se(De)},L=(ne,De)=>{d.value.enabled||(Oa(ne,o.value),r("select-date",De))},ve=ne=>{Oa(ne,o.value)},Pe=ne=>{d.value.enabled&&d.value.dragSelect?(E.value=!0,r("select-date",ne)):d.value.enabled&&r("select-date",ne)};return e({triggerTransition:P}),(ne,De)=>{var G;return K(),ae("div",{class:Ge(j.value)},[ye("div",{ref_key:"calendarWrapRef",ref:y,role:"grid",class:Ge(B.value),"aria-label":(G=q(l))==null?void 0:G.calendarWrap},[ye("div",b6,[ne.weekNumbers?(K(),ae("div",w6,Ye(ne.weekNumName),1)):me("",!0),(K(!0),ae(Oe,null,xt(S.value,(k,C)=>{var $,U;return K(),ae("div",{key:C,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(U=($=q(l))==null?void 0:$.weekDay)==null?void 0:U.call($,C)},[ne.$slots["calendar-header"]?Ae(ne.$slots,"calendar-header",{key:0,day:k,index:C}):me("",!0),ne.$slots["calendar-header"]?me("",!0):(K(),ae(Oe,{key:1},[tr(Ye(k),1)],64))],8,E6)}),128))]),T6,we(so,{name:b.value,css:!!ne.transitions},{default:qe(()=>{var k;return[v.value?(K(),ae("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((k=q(l))==null?void 0:k.calendarDays)||void 0,onMouseleave:De[1]||(De[1]=C=>E.value=!1)},[(K(!0),ae(Oe,null,xt(x.value,(C,$)=>(K(),ae("div",{key:$,class:"dp__calendar_row",role:"row"},[ne.weekNumbers?(K(),ae("div",C6,[ye("div",S6,Ye(pe(C.days)),1)])):me("",!0),(K(!0),ae(Oe,null,xt(C.days,(U,W)=>{var V,ee,R;return K(),ae("div",{id:q(oM)(U.value),ref_for:!0,ref:D=>te(D,$,W),key:W+$,role:"gridcell",class:"dp__calendar_item","aria-selected":(U.classData.dp__active_date||U.classData.dp__range_start||U.classData.dp__range_start)??void 0,"aria-disabled":U.classData.dp__cell_disabled||void 0,"aria-label":(ee=(V=q(l))==null?void 0:V.day)==null?void 0:ee.call(V,U),tabindex:"0","data-test":U.value,onClick:qo(D=>L(D,U),["prevent"]),onKeydown:D=>q(Br)(D,()=>ne.$emit("select-date",U)),onMouseenter:D=>M(U,$,W),onMouseleave:D=>H(U),onMousedown:D=>Pe(U),onMouseup:De[0]||(De[0]=D=>E.value=!1)},[ye("div",{class:Ge(["dp__cell_inner",U.classData])},[ne.$slots.day&&I.value(U)?Ae(ne.$slots,"day",{key:0,day:+U.text,date:U.value}):me("",!0),ne.$slots.day?me("",!0):(K(),ae(Oe,{key:1},[tr(Ye(U.text),1)],64)),U.marker&&I.value(U)?(K(),ae(Oe,{key:2},[ne.$slots.marker?Ae(ne.$slots,"marker",{key:0,marker:U.marker,day:+U.text,date:U.value}):(K(),ae("div",{key:1,class:Ge(F.value(U.marker)),style:vn(U.marker.color?{backgroundColor:U.marker.color}:{})},null,6))],64)):me("",!0),z.value(U.value)?(K(),ae("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:_,class:"dp__marker_tooltip",style:vn(p.value)},[(R=U.marker)!=null&&R.tooltip?(K(),ae("div",{key:0,class:"dp__tooltip_content",onClick:ve},[(K(!0),ae(Oe,null,xt(U.marker.tooltip,(D,Y)=>(K(),ae("div",{key:Y,class:"dp__tooltip_text"},[ne.$slots["marker-tooltip"]?Ae(ne.$slots,"marker-tooltip",{key:0,tooltip:D,day:U.value}):me("",!0),ne.$slots["marker-tooltip"]?me("",!0):(K(),ae(Oe,{key:1},[ye("div",{class:"dp__tooltip_mark",style:vn(D.color?{backgroundColor:D.color}:{})},null,4),ye("div",null,Ye(D.text),1)],64))]))),128)),ye("div",{class:"dp__arrow_bottom_tp",style:vn(w.value)},null,4)])):me("",!0)],4)):me("",!0)],2)],40,R6)}),128))]))),128))],40,x6)):me("",!0)]}),_:3},8,["name","css"])],10,v6)],2)}}}),OT=t=>Array.isArray(t),I6=(t,e,n,r)=>{const i=_e([]),s=_e(new Date),a=_e(),o=()=>le(t.isTextInputDate),{modelValue:l,calendars:c,time:u,today:d}=rh(t,e,o),{defaultedMultiCalendars:h,defaultedStartTime:f,defaultedRange:p,defaultedConfig:m,defaultedTz:y,propDates:v,defaultedMultiDates:b}=an(t),{validateMonthYearInRange:g,isDisabled:_,isDateRangeAllowed:w,checkMinMaxRange:E}=uo(t),{updateTimeValues:x,getSetDateTime:S,setTime:T,assignStartTime:P,validateTime:B,disabledTimesConfig:F}=pM(t,u,l,r),z=fe(()=>Q=>c.value[Q]?c.value[Q].month:0),j=fe(()=>Q=>c.value[Q]?c.value[Q].year:0),I=Q=>!m.value.keepViewOnOffsetClick||Q?!0:!a.value,O=(Q,be,oe,Ee=!1)=>{var Ce,Lt;I(Ee)&&(c.value[Q]||(c.value[Q]={month:0,year:0}),c.value[Q].month=IT(be)?(Ce=c.value[Q])==null?void 0:Ce.month:be,c.value[Q].year=IT(oe)?(Lt=c.value[Q])==null?void 0:Lt.year:oe)},M=()=>{t.autoApply&&e("select-date")};sn(()=>{t.shadow||(l.value||(De(),f.value&&P(f.value)),le(!0),t.focusStartDate&&t.startDate&&De())});const H=fe(()=>{var Q;return(Q=t.flow)!=null&&Q.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),Z=()=>{t.autoApply&&H.value&&e("auto-apply")},le=(Q=!1)=>{if(l.value)return Array.isArray(l.value)?(i.value=l.value,L(Q)):te(l.value,Q);if(h.value.count&&Q&&!t.startDate)return N(ge(),Q)},ie=()=>Array.isArray(l.value)&&p.value.enabled?ct(l.value[0])===ct(l.value[1]??l.value[0]):!1,N=(Q=new Date,be=!1)=>{if((!h.value.count||!h.value.static||be)&&O(0,ct(Q),He(Q)),h.value.count&&(!h.value.solo||!l.value||ie()))for(let oe=1;oe<h.value.count;oe++){const Ee=Nt(ge(),{month:z.value(oe-1),year:j.value(oe-1)}),Ce=kA(Ee,{months:1});c.value[oe]={month:ct(Ce),year:He(Ce)}}},te=(Q,be)=>{N(Q),T("hours",Us(Q)),T("minutes",Ya(Q)),T("seconds",Su(Q)),h.value.count&&be&&ne()},A=Q=>{if(h.value.count){if(h.value.solo)return 0;const be=ct(Q[0]),oe=ct(Q[1]);return Math.abs(oe-be)<h.value.count?0:1}return 1},se=(Q,be)=>{Q[1]&&p.value.showLastInRange?N(Q[A(Q)],be):N(Q[0],be);const oe=(Ee,Ce)=>[Ee(Q[0]),Q[1]?Ee(Q[1]):u[Ce][1]];T("hours",oe(Us,"hours")),T("minutes",oe(Ya,"minutes")),T("seconds",oe(Su,"seconds"))},pe=(Q,be)=>{if((p.value.enabled||t.weekPicker)&&!b.value.enabled)return se(Q,be);if(b.value.enabled&&be){const oe=Q[Q.length-1];return te(oe,be)}},L=Q=>{const be=l.value;pe(be,Q),h.value.count&&h.value.solo&&ne()},ve=(Q,be)=>{const oe=Nt(ge(),{month:z.value(be),year:j.value(be)}),Ee=Q<0?Oi(oe,1):ku(oe,1);g(ct(Ee),He(Ee),Q<0,t.preventMinMaxNavigation)&&(O(be,ct(Ee),He(Ee)),e("update-month-year",{instance:be,month:ct(Ee),year:He(Ee)}),h.value.count&&!h.value.solo&&Pe(be),n())},Pe=Q=>{for(let be=Q-1;be>=0;be--){const oe=ku(Nt(ge(),{month:z.value(be+1),year:j.value(be+1)}),1);O(be,ct(oe),He(oe))}for(let be=Q+1;be<=h.value.count-1;be++){const oe=Oi(Nt(ge(),{month:z.value(be-1),year:j.value(be-1)}),1);O(be,ct(oe),He(oe))}},ne=()=>{if(Array.isArray(l.value)&&l.value.length===2){const Q=ge(ge(l.value[1]?l.value[1]:Oi(l.value[0],1))),[be,oe]=[ct(l.value[0]),He(l.value[0])],[Ee,Ce]=[ct(l.value[1]),He(l.value[1])];(be!==Ee||be===Ee&&oe!==Ce)&&h.value.solo&&O(1,ct(Q),He(Q))}else l.value&&!Array.isArray(l.value)&&(O(0,ct(l.value),He(l.value)),N(ge()))},De=()=>{t.startDate&&(O(0,ct(ge(t.startDate)),He(ge(t.startDate))),h.value.count&&Pe(0))},G=(Q,be)=>{if(t.monthChangeOnScroll){const oe=new Date().getTime()-s.value.getTime(),Ee=Math.abs(Q.deltaY);let Ce=500;Ee>1&&(Ce=100),Ee>100&&(Ce=0),oe>Ce&&(s.value=new Date,ve(t.monthChangeOnScroll!=="inverse"?-Q.deltaY:Q.deltaY,be))}},k=(Q,be,oe=!1)=>{t.monthChangeOnArrows&&t.vertical===oe&&C(Q,be)},C=(Q,be)=>{ve(Q==="right"?-1:1,be)},$=Q=>{if(v.value.markers)return dp(Q.value,v.value.markers)},U=(Q,be)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[Q==0,!0];case"fair":return[Q==0||be>Q,!0];case"append":return[!1,!1];default:return[!1,!1]}},W=(Q,be,oe,Ee)=>{if(t.sixWeeks&&Q.length<6){const Ce=6-Q.length,Lt=(be.getDay()+7-Ee)%7,jt=6-(oe.getDay()+7-Ee)%7,[ai,bi]=U(Lt,jt);for(let on=1;on<=Ce;on++)if(bi?!!(on%2)==ai:ai){const xn=Q[0].days[0],Cn=V(Ri(xn.value,-7),ct(be));Q.unshift({days:Cn})}else{const xn=Q[Q.length-1],Cn=xn.days[xn.days.length-1],kr=V(Ri(Cn.value,1),ct(be));Q.push({days:kr})}}return Q},V=(Q,be)=>{const oe=ge(Q),Ee=[];for(let Ce=0;Ce<7;Ce++){const Lt=Ri(oe,Ce),jt=ct(Lt)!==be;Ee.push({text:t.hideOffsetDates&&jt?"":Lt.getDate(),value:Lt,current:!jt,classData:{}})}return Ee},ee=(Q,be)=>{const oe=[],Ee=new Date(be,Q),Ce=new Date(be,Q+1,0),Lt=t.weekStart,jt=$i(Ee,{weekStartsOn:Lt}),ai=bi=>{const on=V(bi,Q);if(oe.push({days:on}),!oe[oe.length-1].days.some(xn=>dt(Rr(xn.value),Rr(Ce)))){const xn=Ri(bi,7);ai(xn)}};return ai(jt),W(oe,Ee,Ce,Lt)},R=Q=>{const be=La(ge(Q.value),u.hours,u.minutes,re());e("date-update",be),b.value.enabled?P1(be,l,b.value.limit):l.value=be,r(),Hn().then(()=>{Z()})},D=Q=>p.value.noDisabledRange?nM(i.value[0],Q).some(be=>_(be)):!1,Y=()=>{i.value=l.value?l.value.slice():[],i.value.length===2&&!(p.value.fixedStart||p.value.fixedEnd)&&(i.value=[])},J=(Q,be)=>{const oe=[ge(Q.value),Ri(ge(Q.value),+p.value.autoRange)];w(oe)?(be&&he(Q.value),i.value=oe):e("invalid-date",Q.value)},he=Q=>{const be=ct(ge(Q)),oe=He(ge(Q));if(O(0,be,oe),h.value.count>0)for(let Ee=1;Ee<h.value.count;Ee++){const Ce=f8(Nt(ge(Q),{year:z.value(Ee-1),month:j.value(Ee-1)}));O(Ee,Ce.month,Ce.year)}},ce=Q=>{if(D(Q.value)||!E(Q.value,l.value,p.value.fixedStart?0:1))return e("invalid-date",Q.value);i.value=dM(ge(Q.value),l,e,p)},X=(Q,be)=>{if(Y(),p.value.autoRange)return J(Q,be);if(p.value.fixedStart||p.value.fixedEnd)return ce(Q);i.value[0]?E(ge(Q.value),l.value)&&!D(Q.value)?cn(ge(Q.value),ge(i.value[0]))?(i.value.unshift(ge(Q.value)),e("range-end",i.value[0])):(i.value[1]=ge(Q.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",Q.value),e("invalid-date",Q.value)):(i.value[0]=ge(Q.value),e("range-start",i.value[0]))},re=(Q=!0)=>t.enableSeconds?Array.isArray(u.seconds)?Q?u.seconds[0]:u.seconds[1]:u.seconds:0,Te=Q=>{i.value[Q]=La(i.value[Q],u.hours[Q],u.minutes[Q],re(Q!==1))},Re=()=>{var Q,be;i.value[0]&&i.value[1]&&+((Q=i.value)==null?void 0:Q[0])>+((be=i.value)==null?void 0:be[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},mt=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Te(0):(Te(0),Te(1),r()),Re(),l.value=i.value.slice(),Im(i.value,e,t.autoApply,t.modelAuto))},et=(Q,be=!1)=>{if(_(Q.value)||!Q.current&&t.hideOffsetDates)return e("invalid-date",Q.value);if(a.value=JSON.parse(JSON.stringify(Q)),!p.value.enabled)return R(Q);OT(u.hours)&&OT(u.minutes)&&!b.value.enabled&&(X(Q,be),mt())},It=(Q,be)=>{var oe;O(Q,be.month,be.year,!0),h.value.count&&!h.value.solo&&Pe(Q),e("update-month-year",{instance:Q,month:be.month,year:be.year}),n(h.value.solo?Q:void 0);const Ee=(oe=t.flow)!=null&&oe.length?t.flow[t.flowStep]:void 0;!be.fromNav&&(Ee===cr.month||Ee===cr.year)&&r()},Ot=(Q,be)=>{cM({value:Q,modelValue:l,range:p.value.enabled,timezone:be?void 0:y.value.timezone}),M(),t.multiCalendars&&Hn().then(()=>le(!0))},nr=()=>{const Q=R1(ge(),y.value);p.value.enabled?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=cn(Q,l.value[0])?[Q,l.value[0]]:[l.value[0],Q]:l.value=[Q]:l.value=Q,M()},vi=()=>{if(Array.isArray(l.value))if(b.value.enabled){const Q=At();l.value[l.value.length-1]=S(Q)}else l.value=l.value.map((Q,be)=>Q&&S(Q,be));else l.value=S(l.value);e("time-update")},At=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:c,modelValue:l,month:z,year:j,time:u,disabledTimesConfig:F,today:d,validateTime:B,getCalendarDays:ee,getMarker:$,handleScroll:G,handleSwipe:C,handleArrow:k,selectDate:et,updateMonthYear:It,presetDate:Ot,selectCurrentDate:nr,updateTime:(Q,be=!0,oe=!1)=>{x(Q,be,oe,vi)},assignMonthAndYear:N}},A6={key:0},M6=Jt({__name:"DatePicker",props:{...ji},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:a,year:o,modelValue:l,time:c,disabledTimesConfig:u,today:d,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:m,handleScroll:y,handleSwipe:v,selectDate:b,updateMonthYear:g,presetDate:_,selectCurrentDate:w,updateTime:E,assignMonthAndYear:x}=I6(i,r,ie,N),S=Hs(),{setHoverDate:T,getDayClassData:P,clearHoverDate:B}=W6(l,i),{defaultedMultiCalendars:F}=an(i),z=_e([]),j=_e([]),I=_e(null),O=Jr(S,"calendar"),M=Jr(S,"monthYear"),H=Jr(S,"timePicker"),Z=G=>{i.shadow||r("mount",G)};rn(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0}),rn(F,(G,k)=>{G.count-k.count>0&&x()},{deep:!0});const le=fe(()=>G=>f(a.value(G),o.value(G)).map(k=>({...k,days:k.days.map(C=>(C.marker=p(C),C.classData=P(C),C))})));function ie(G){var k;G||G===0?(k=j.value[G])==null||k.triggerTransition(a.value(G),o.value(G)):j.value.forEach((C,$)=>C.triggerTransition(a.value($),o.value($)))}function N(){r("update-flow-step")}const te=(G,k=!1)=>{b(G,k),i.spaceConfirm&&r("select-date")},A=(G,k,C=0)=>{var $;($=z.value[C])==null||$.toggleMonthPicker(G,k)},se=(G,k,C=0)=>{var $;($=z.value[C])==null||$.toggleYearPicker(G,k)},pe=(G,k,C)=>{var $;($=I.value)==null||$.toggleTimePicker(G,k,C)},L=(G,k)=>{var C;if(!i.range){const $=l.value?l.value:d,U=k?new Date(k):$,W=G?$i(U,{weekStartsOn:1}):FA(U,{weekStartsOn:1});b({value:W,current:ct(U)===a.value(0),text:"",classData:{}}),(C=document.getElementById(oM(W)))==null||C.focus()}},ve=G=>{var k;(k=z.value[0])==null||k.handleMonthYearChange(G,!0)},Pe=G=>{g(0,{month:a.value(0),year:o.value(0)+(G?1:-1),fromNav:!0})},ne=(G,k)=>{G===cr.time&&r(`time-picker-${k?"open":"close"}`),r("overlay-toggle",{open:k,overlay:G})},De=G=>{r("overlay-toggle",{open:!1,overlay:G}),r("focus-menu")};return e({clearHoverDate:B,presetDate:_,selectCurrentDate:w,toggleMonthPicker:A,toggleYearPicker:se,toggleTimePicker:pe,handleArrow:m,updateMonthYear:g,getSidebarProps:()=>({modelValue:l,month:a,year:o,time:c,updateTime:E,updateMonthYear:g,selectDate:b,presetDate:_}),changeMonth:ve,changeYear:Pe,selectWeekDate:L}),(G,k)=>(K(),ae(Oe,null,[we(km,{"multi-calendars":q(F).count,collapse:G.collapse},{default:qe(({instance:C,index:$})=>[G.disableMonthYearSelect?me("",!0):(K(),Fe(_6,bn({key:0,ref:U=>{U&&(z.value[$]=U)},months:q(XA)(G.formatLocale,G.locale,G.monthNameFormat),years:q(k1)(G.yearRange,G.locale,G.reverseYears),month:q(a)(C),year:q(o)(C),instance:C},G.$props,{onMount:k[0]||(k[0]=U=>Z(q(jo).header)),onResetFlow:k[1]||(k[1]=U=>G.$emit("reset-flow")),onUpdateMonthYear:U=>q(g)(C,U),onOverlayClosed:De,onOverlayOpened:k[2]||(k[2]=U=>G.$emit("overlay-toggle",{open:!0,overlay:U}))}),zn({_:2},[xt(q(M),(U,W)=>({name:U,fn:qe(V=>[Ae(G.$slots,U,Rn(Jn(V)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),we(k6,bn({ref:U=>{U&&(j.value[$]=U)},"mapped-dates":le.value(C),month:q(a)(C),year:q(o)(C),instance:C},G.$props,{onSelectDate:U=>q(b)(U,C!==1),onHandleSpace:U=>te(U,C!==1),onSetHoverDate:k[3]||(k[3]=U=>q(T)(U)),onHandleScroll:U=>q(y)(U,C),onHandleSwipe:U=>q(v)(U,C),onMount:k[4]||(k[4]=U=>Z(q(jo).calendar)),onResetFlow:k[5]||(k[5]=U=>G.$emit("reset-flow")),onTooltipOpen:k[6]||(k[6]=U=>G.$emit("tooltip-open",U)),onTooltipClose:k[7]||(k[7]=U=>G.$emit("tooltip-close",U))}),zn({_:2},[xt(q(O),(U,W)=>({name:U,fn:qe(V=>[Ae(G.$slots,U,Rn(Jn({...V})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),G.enableTimePicker?(K(),ae("div",A6,[G.$slots["time-picker"]?Ae(G.$slots,"time-picker",Rn(bn({key:0},{time:q(c),updateTime:q(E)}))):(K(),Fe(fM,bn({key:1,ref_key:"timePickerRef",ref:I},G.$props,{hours:q(c).hours,minutes:q(c).minutes,seconds:q(c).seconds,"internal-model-value":G.internalModelValue,"disabled-times-config":q(u),"validate-time":q(h),onMount:k[8]||(k[8]=C=>Z(q(jo).timePicker)),"onUpdate:hours":k[9]||(k[9]=C=>q(E)(C)),"onUpdate:minutes":k[10]||(k[10]=C=>q(E)(C,!1)),"onUpdate:seconds":k[11]||(k[11]=C=>q(E)(C,!1,!0)),onResetFlow:k[12]||(k[12]=C=>G.$emit("reset-flow")),onOverlayClosed:k[13]||(k[13]=C=>ne(C,!1)),onOverlayOpened:k[14]||(k[14]=C=>ne(C,!0)),onAmPmChange:k[15]||(k[15]=C=>G.$emit("am-pm-change",C))}),zn({_:2},[xt(q(H),(C,$)=>({name:C,fn:qe(U=>[Ae(G.$slots,C,Rn(Jn(U)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):me("",!0)],64))}}),P6=(t,e)=>{const n=_e(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s,defaultedRange:a,propDates:o,defaultedFilters:l,defaultedMultiDates:c}=an(t),{modelValue:u,year:d,month:h,calendars:f}=rh(t,e),{isDisabled:p}=uo(t),{selectYear:m,groupedYears:y,showYearPicker:v,isDisabled:b,toggleYearPicker:g,handleYearSelect:_,handleYear:w}=hM({modelValue:u,multiCalendars:r,range:a,highlight:s,calendars:f,propDates:o,month:h,year:d,filters:l,props:t,emit:e}),E=(I,O)=>[I,O].map(M=>as(M,"MMMM",{locale:t.formatLocale})).join("-"),x=fe(()=>I=>u.value?Array.isArray(u.value)?u.value.some(O=>ST(I,O)):ST(u.value,I):!1),S=I=>{if(a.value.enabled){if(Array.isArray(u.value)){const O=dt(I,u.value[0])||dt(I,u.value[1]);return Sm(u.value,n.value,I)&&!O}return!1}return!1},T=(I,O)=>I.quarter===bT(O)&&I.year===He(O),P=I=>typeof s.value=="function"?s.value({quarter:bT(I),year:He(I)}):!!s.value.quarters.find(O=>T(O,I)),B=fe(()=>I=>{const O=Nt(new Date,{year:d.value(I)});return ij({start:bd(O),end:LA(O)}).map(M=>{const H=Do(M),Z=wT(M),le=p(M),ie=S(H),N=P(H);return{text:E(H,Z),value:H,active:x.value(H),highlighted:N,disabled:le,isBetween:ie}})}),F=I=>{P1(I,u,c.value.limit),e("auto-apply",!0)},z=I=>{u.value=D1(u,I,e),Im(u.value,e,t.autoApply,t.modelAuto)},j=I=>{u.value=I,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:y,year:d,isDisabled:b,quarters:B,showYearPicker:v,modelValue:u,setHoverDate:I=>{n.value=I},selectYear:m,selectQuarter:(I,O,M)=>{if(!M)return f.value[O].month=ct(wT(I)),c.value.enabled?F(I):a.value.enabled?z(I):j(I)},toggleYearPicker:g,handleYearSelect:_,handleYear:w}},D6={class:"dp--quarter-items"},O6=["data-test","disabled","onClick","onMouseover"],L6=Jt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ji},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Hs(),a=Jr(s,"yearMode"),{defaultedMultiCalendars:o,defaultedConfig:l,groupedYears:c,year:u,isDisabled:d,quarters:h,modelValue:f,showYearPicker:p,setHoverDate:m,selectQuarter:y,toggleYearPicker:v,handleYearSelect:b,handleYear:g}=P6(i,r);return e({getSidebarProps:()=>({modelValue:f,year:u,selectQuarter:y,handleYearSelect:b,handleYear:g})}),(_,w)=>(K(),Fe(km,{"multi-calendars":q(o).count,collapse:_.collapse,stretch:""},{default:qe(({instance:E})=>[ye("div",{class:"dp-quarter-picker-wrap",style:vn({minHeight:`${q(l).modeHeight}px`})},[_.$slots["top-extra"]?Ae(_.$slots,"top-extra",{key:0,value:_.internalModelValue}):me("",!0),ye("div",null,[we(uM,bn(_.$props,{items:q(c)(E),instance:E,"show-year-picker":q(p)[E],year:q(u)(E),"is-disabled":x=>q(d)(E,x),onHandleYear:x=>q(g)(E,x),onYearSelect:x=>q(b)(x,E),onToggleYearPicker:x=>q(v)(E,x?.flow,x?.show)}),zn({_:2},[xt(q(a),(x,S)=>({name:x,fn:qe(T=>[Ae(_.$slots,x,Rn(Jn(T)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),ye("div",D6,[(K(!0),ae(Oe,null,xt(q(h)(E),(x,S)=>(K(),ae("div",{key:S},[ye("button",{type:"button",class:Ge(["dp--qr-btn",{"dp--qr-btn-active":x.active,"dp--qr-btn-between":x.isBetween,"dp--qr-btn-disabled":x.disabled,"dp--highlighted":x.highlighted}]),"data-test":x.value,disabled:x.disabled,onClick:T=>q(y)(x.value,E,x.disabled),onMouseover:T=>q(m)(x.value)},[_.$slots.quarter?Ae(_.$slots,"quarter",{key:0,value:x.value,text:x.text}):(K(),ae(Oe,{key:1},[tr(Ye(x.text),1)],64))],42,O6)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),F6=["id","aria-label"],N6={key:0,class:"dp--menu-load-container"},$6=ye("span",{class:"dp--menu-loader"},null,-1),B6=[$6],V6={key:0,class:"dp__sidebar_left"},G6=["data-test","onClick","onKeydown"],j6={key:2,class:"dp__sidebar_right"},z6={key:3,class:"dp__action_extra"},LT=Jt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Rm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=_e(null),a=fe(()=>{const{openOnTop:V,...ee}=i;return{...ee,flowStep:T.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:s.value}}),{setMenuFocused:o,setShiftKey:l,control:c}=lM(),u=Hs(),{defaultedTextInput:d,defaultedInline:h,defaultedConfig:f,defaultedUI:p}=an(i),m=_e(null),y=_e(0),v=_e(null),b=_e(!1),g=_e(null);sn(()=>{if(!i.shadow){b.value=!0,_(),window.addEventListener("resize",_);const V=Pn(s);if(V&&!d.value.enabled&&!h.value.enabled&&(o(!0),O()),V){const ee=R=>{f.value.allowPreventDefault&&R.preventDefault(),Oa(R,f.value,!0)};V.addEventListener("pointerdown",ee),V.addEventListener("mousedown",ee)}}}),cs(()=>{window.removeEventListener("resize",_)});const _=()=>{const V=Pn(v);V&&(y.value=V.getBoundingClientRect().width)},{arrowRight:w,arrowLeft:E,arrowDown:x,arrowUp:S}=lo(),{flowStep:T,updateFlowStep:P,childMount:B,resetFlow:F,handleFlow:z}=q6(i,r,g),j=fe(()=>i.monthPicker?W8:i.yearPicker?K8:i.timePicker?h6:i.quarterPicker?L6:M6),I=fe(()=>{var V;if(f.value.arrowLeft)return f.value.arrowLeft;const ee=(V=s.value)==null?void 0:V.getBoundingClientRect(),R=i.getInputRect();return R?.width<y?.value&&R?.left<=(ee?.left??0)?`${R?.width/2}px`:R?.right>=(ee?.right??0)&&R?.width<y?.value?`${y?.value-R?.width/2}px`:"50%"}),O=()=>{const V=Pn(s);V&&V.focus({preventScroll:!0})},M=fe(()=>{var V;return((V=g.value)==null?void 0:V.getSidebarProps())||{}}),H=()=>{i.openOnTop&&r("recalculate-position")},Z=Jr(u,"action"),le=fe(()=>i.monthPicker||i.yearPicker?Jr(u,"monthYear"):i.timePicker?Jr(u,"timePicker"):Jr(u,"shared")),ie=fe(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),N=fe(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),te=fe(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName,...p.value.menu??{}})),A=V=>{Oa(V,f.value,!0)},se=()=>{i.escClose&&r("close-picker")},pe=V=>{if(i.arrowNavigation){if(V===vr.up)return S();if(V===vr.down)return x();if(V===vr.left)return E();if(V===vr.right)return w()}else V===vr.left||V===vr.up?De("handleArrow",vr.left,0,V===vr.up):De("handleArrow",vr.right,0,V===vr.down)},L=V=>{l(V.shiftKey),!i.disableMonthYearSelect&&V.code===Qt.tab&&V.target.classList.contains("dp__menu")&&c.value.shiftKeyInMenu&&(V.preventDefault(),Oa(V,f.value,!0),r("close-picker"))},ve=()=>{O(),r("time-picker-close")},Pe=V=>{var ee,R,D;(ee=g.value)==null||ee.toggleTimePicker(!1,!1),(R=g.value)==null||R.toggleMonthPicker(!1,!1,V),(D=g.value)==null||D.toggleYearPicker(!1,!1,V)},ne=(V,ee=0)=>{var R,D,Y;return V==="month"?(R=g.value)==null?void 0:R.toggleMonthPicker(!1,!0,ee):V==="year"?(D=g.value)==null?void 0:D.toggleYearPicker(!1,!0,ee):V==="time"?(Y=g.value)==null?void 0:Y.toggleTimePicker(!0,!1):Pe(ee)},De=(V,...ee)=>{var R,D;(R=g.value)!=null&&R[V]&&((D=g.value)==null||D[V](...ee))},G=()=>{De("selectCurrentDate")},k=(V,ee)=>{De("presetDate",V,ee)},C=()=>{De("clearHoverDate")},$=(V,ee)=>{De("updateMonthYear",V,ee)},U=(V,ee)=>{V.preventDefault(),pe(ee)},W=V=>{var ee;if(L(V),V.key===Qt.home||V.key===Qt.end)return De("selectWeekDate",V.key===Qt.home,V.target.getAttribute("id"));switch((V.key===Qt.pageUp||V.key===Qt.pageDown)&&(V.shiftKey?De("changeYear",V.key===Qt.pageUp):De("changeMonth",V.key===Qt.pageUp),V.target.getAttribute("id")&&((ee=s.value)==null||ee.focus({preventScroll:!0}))),V.key){case Qt.esc:return se();case Qt.arrowLeft:return U(V,vr.left);case Qt.arrowRight:return U(V,vr.right);case Qt.arrowUp:return U(V,vr.up);case Qt.arrowDown:return U(V,vr.down);default:return}};return e({updateMonthYear:$,switchView:ne,handleFlow:z}),(V,ee)=>{var R,D,Y;return K(),ae("div",{id:V.uid?`dp-menu-${V.uid}`:void 0,ref_key:"dpMenuRef",ref:s,tabindex:"0",role:"dialog","aria-label":(R=V.ariaLabels)==null?void 0:R.menu,class:Ge(te.value),style:vn({"--dp-arrow-left":I.value}),onMouseleave:C,onClick:A,onKeydown:W},[(V.disabled||V.readonly)&&q(h).enabled||V.loading?(K(),ae("div",{key:0,class:Ge(N.value)},[V.loading?(K(),ae("div",N6,B6)):me("",!0)],2)):me("",!0),!q(h).enabled&&!V.teleportCenter?(K(),ae("div",{key:1,class:Ge(ie.value)},null,2)):me("",!0),ye("div",{ref_key:"innerMenuRef",ref:v,class:Ge({dp__menu_content_wrapper:((D=V.presetDates)==null?void 0:D.length)||!!V.$slots["left-sidebar"]||!!V.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&(((Y=V.presetDates)==null?void 0:Y.length)||!!V.$slots["left-sidebar"]||!!V.$slots["right-sidebar"])}),style:vn({"--dp-menu-width":`${y.value}px`})},[V.$slots["left-sidebar"]?(K(),ae("div",V6,[Ae(V.$slots,"left-sidebar",Rn(Jn(M.value)))])):me("",!0),V.presetDates.length?(K(),ae("div",{key:1,class:Ge({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(K(!0),ae(Oe,null,xt(V.presetDates,(J,he)=>(K(),ae(Oe,{key:he},[J.slot?Ae(V.$slots,J.slot,{key:0,presetDate:k,label:J.label,value:J.value}):(K(),ae("button",{key:1,type:"button",style:vn(J.style||{}),class:Ge(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":J.testId??void 0,onClick:qo(ce=>k(J.value,J.noTz),["prevent"]),onKeydown:ce=>q(Br)(ce,()=>k(J.value,J.noTz),!0)},Ye(J.label),47,G6))],64))),128))],2)):me("",!0),ye("div",{ref_key:"calendarWrapperRef",ref:m,class:"dp__instance_calendar",role:"document"},[(K(),Fe(Du(j.value),bn({ref_key:"dynCmpRef",ref:g},a.value,{"flow-step":q(T),onMount:q(B),onUpdateFlowStep:q(P),onResetFlow:q(F),onFocusMenu:O,onSelectDate:ee[0]||(ee[0]=J=>V.$emit("select-date")),onDateUpdate:ee[1]||(ee[1]=J=>V.$emit("date-update",J)),onTooltipOpen:ee[2]||(ee[2]=J=>V.$emit("tooltip-open",J)),onTooltipClose:ee[3]||(ee[3]=J=>V.$emit("tooltip-close",J)),onAutoApply:ee[4]||(ee[4]=J=>V.$emit("auto-apply",J)),onRangeStart:ee[5]||(ee[5]=J=>V.$emit("range-start",J)),onRangeEnd:ee[6]||(ee[6]=J=>V.$emit("range-end",J)),onInvalidFixedRange:ee[7]||(ee[7]=J=>V.$emit("invalid-fixed-range",J)),onTimeUpdate:ee[8]||(ee[8]=J=>V.$emit("time-update")),onAmPmChange:ee[9]||(ee[9]=J=>V.$emit("am-pm-change",J)),onTimePickerOpen:ee[10]||(ee[10]=J=>V.$emit("time-picker-open",J)),onTimePickerClose:ve,onRecalculatePosition:H,onUpdateMonthYear:ee[11]||(ee[11]=J=>V.$emit("update-month-year",J)),onAutoApplyInvalid:ee[12]||(ee[12]=J=>V.$emit("auto-apply-invalid",J)),onInvalidDate:ee[13]||(ee[13]=J=>V.$emit("invalid-date",J)),onOverlayToggle:ee[14]||(ee[14]=J=>V.$emit("overlay-toggle",J)),"onUpdate:internalModelValue":ee[15]||(ee[15]=J=>V.$emit("update:internal-model-value",J))}),zn({_:2},[xt(le.value,(J,he)=>({name:J,fn:qe(ce=>[Ae(V.$slots,J,Rn(Jn({...ce})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),V.$slots["right-sidebar"]?(K(),ae("div",j6,[Ae(V.$slots,"right-sidebar",Rn(Jn(M.value)))])):me("",!0),V.$slots["action-extra"]?(K(),ae("div",z6,[V.$slots["action-extra"]?Ae(V.$slots,"action-extra",{key:0,selectCurrentDate:G}):me("",!0)])):me("",!0)],6),!V.autoApply||q(f).keepActionRow?(K(),Fe(B8,bn({key:2,"menu-mount":b.value},a.value,{"calendar-width":y.value,onClosePicker:ee[16]||(ee[16]=J=>V.$emit("close-picker")),onSelectDate:ee[17]||(ee[17]=J=>V.$emit("select-date")),onInvalidSelect:ee[18]||(ee[18]=J=>V.$emit("invalid-select")),onSelectNow:G}),zn({_:2},[xt(q(Z),(J,he)=>({name:J,fn:qe(ce=>[Ae(V.$slots,J,Rn(Jn({...ce})))])}))]),1040,["menu-mount","calendar-width"])):me("",!0)],46,F6)}}});var jl=(t=>(t.center="center",t.left="left",t.right="right",t))(jl||{});const U6=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:a,slots:o})=>{const l=_e({}),c=_e(!1),u=_e({top:"0",left:"0"}),d=_e(!1),h=Uo(a,"teleportCenter");rn(h,()=>{u.value=JSON.parse(JSON.stringify({})),_()});const f=I=>{if(a.teleport){const O=I.getBoundingClientRect();return{left:O.left+window.scrollX,top:O.top+window.scrollY}}return{top:0,left:0}},p=(I,O)=>{u.value.left=`${I+O-l.value.width}px`},m=I=>{u.value.left=`${I}px`},y=(I,O)=>{a.position===jl.left&&m(I),a.position===jl.right&&p(I,O),a.position===jl.center&&(u.value.left=`${I+O/2-l.value.width/2}px`)},v=I=>{const{width:O,height:M}=I.getBoundingClientRect(),{top:H,left:Z}=a.altPosition?a.altPosition(I):f(I);return{top:+H,left:+Z,width:O,height:M}},b=()=>{u.value.left="50%",u.value.top="50%",u.value.transform="translate(-50%, -50%)",u.value.position="fixed",delete u.value.opacity},g=()=>{const I=Pn(n),{top:O,left:M,transform:H}=a.altPosition(I);u.value={top:`${O}px`,left:`${M}px`,transform:H??""}},_=(I=!0)=>{var O;if(!i.value.enabled){if(h.value)return b();if(a.altPosition!==null)return g();if(I){const M=a.teleport?(O=e.value)==null?void 0:O.$el:t.value;M&&(l.value=M.getBoundingClientRect()),s("recalculate-position")}return B()}},w=({inputEl:I,left:O,width:M})=>{window.screen.width>768&&!c.value&&y(O,M),S(I)},E=I=>{const{top:O,left:M,height:H,width:Z}=v(I);u.value.top=`${H+O+ +a.offset}px`,d.value=!1,c.value||(u.value.left=`${M+Z/2-l.value.width/2}px`),w({inputEl:I,left:M,width:Z})},x=I=>{const{top:O,left:M,width:H}=v(I);u.value.top=`${O-+a.offset-l.value.height}px`,d.value=!0,w({inputEl:I,left:M,width:H})},S=I=>{if(a.autoPosition){const{left:O,width:M}=v(I),{left:H,right:Z}=l.value;if(!c.value){if(Math.abs(H)!==Math.abs(Z)){if(H<=0)return c.value=!0,m(O);if(Z>=document.documentElement.clientWidth)return c.value=!0,p(O,M)}return y(O,M)}}},T=()=>{const I=Pn(n);if(I){const{height:O}=l.value,{top:M,height:H}=I.getBoundingClientRect(),Z=window.innerHeight-M-H,le=M;return O<=Z?xo.bottom:O>Z&&O<=le?xo.top:Z>=le?xo.bottom:xo.top}return xo.bottom},P=I=>T()===xo.bottom?E(I):x(I),B=()=>{const I=Pn(n);if(I)return a.autoPosition?P(I):E(I)},F=function(I){if(I){const O=I.scrollHeight>I.clientHeight,M=window.getComputedStyle(I).overflowY.indexOf("hidden")!==-1;return O&&!M}return!0},z=function(I){return!I||I===document.body||I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:F(I)?I:z(I.assignedSlot?I.assignedSlot.parentNode:I.parentNode)},j=I=>{if(I)switch(a.position){case jl.left:return{left:0,transform:"translateX(0)"};case jl.right:return{left:`${I.width}px`,transform:"translateX(-100%)"};default:return{left:`${I.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:u,xCorrect:c,setMenuPosition:_,getScrollableParent:z,shadowRender:(I,O)=>{var M,H,Z;const le=document.createElement("div"),ie=(M=Pn(n))==null?void 0:M.getBoundingClientRect();le.setAttribute("id","dp--temp-container");const N=(H=r.value)!=null&&H.clientWidth?r.value:document.body;N.append(le);const te=j(ie),A=Ou(I,{...O,shadow:!0,style:{opacity:0,position:"absolute",...te}},Object.fromEntries(Object.keys(o).filter(se=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(se)).map(se=>[se,o[se]])));Kc(A,le),l.value=(Z=A.el)==null?void 0:Z.getBoundingClientRect(),Kc(null,le),N.removeChild(le)}}},ua=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]}],Y6=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],H6={all:()=>ua,monthYear:()=>ua.filter(t=>t.use.includes("month-year")),input:()=>Y6,timePicker:()=>ua.filter(t=>t.use.includes("time")),action:()=>ua.filter(t=>t.use.includes("action")),calendar:()=>ua.filter(t=>t.use.includes("calendar")),menu:()=>ua.filter(t=>t.use.includes("menu")),shared:()=>ua.filter(t=>t.use.includes("shared")),yearMode:()=>ua.filter(t=>t.use.includes("year-mode"))},Jr=(t,e,n)=>{const r=[];return H6[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},nh=t=>{const e=fe(()=>r=>t.value?r?t.value.open:t.value.close:""),n=fe(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},rh=(t,e,n)=>{const{defaultedRange:r,defaultedTz:i}=an(t),s=ge(zr(ge(),i.value.timezone)),a=_e([{month:ct(s),year:He(s)}]),o=h=>{const f={hours:Us(s),minutes:Ya(s),seconds:0};return r.value.enabled?[f[h],f[h]]:f[h]},l=_i({hours:o("hours"),minutes:o("minutes"),seconds:o("seconds")});rn(r,(h,f)=>{h.enabled!==f.enabled&&(l.hours=o("hours"),l.minutes=o("minutes"),l.seconds=o("seconds"))},{deep:!0});const c=fe({get:()=>t.internalModelValue,set:h=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",h)}}),u=fe(()=>h=>a.value[h]?a.value[h].month:0),d=fe(()=>h=>a.value[h]?a.value[h].year:0);return rn(c,(h,f)=>{n&&JSON.stringify(h??{})!==JSON.stringify(f??{})&&n()},{deep:!0}),{calendars:a,time:l,modelValue:c,month:u,year:d,today:s}},W6=(t,e)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:r,defaultedUI:i,defaultedHighlight:s,defaultedTz:a,propDates:o,defaultedRange:l}=an(e),{isDisabled:c}=uo(e),u=_e(null),d=_e(zr(new Date,a.value.timezone)),h=A=>{!A.current&&e.hideOffsetDates||(u.value=A.value)},f=()=>{u.value=null},p=A=>Array.isArray(t.value)&&l.value.enabled&&t.value[0]&&u.value?A?gn(u.value,t.value[0]):cn(u.value,t.value[0]):!0,m=(A,se)=>{const pe=()=>t.value?se?t.value[0]||null:t.value[1]:null,L=t.value&&Array.isArray(t.value)?pe():null;return dt(ge(A.value),L)},y=A=>{const se=Array.isArray(t.value)?t.value[0]:null;return A?!cn(u.value??null,se):!0},v=(A,se=!0)=>(l.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!A.current?!1:dt(ge(A.value),t.value[se?0:1]):l.value.enabled?m(A,se)&&y(se)||dt(A.value,Array.isArray(t.value)?t.value[0]:null)&&p(se):!1,b=(A,se)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const pe=dt(A.value,u.value);return se?gn(t.value[0],A.value)&&pe:cn(t.value[0],A.value)&&pe}return!1},g=A=>!t.value||e.hideOffsetDates&&!A.current?!1:l.value.enabled?e.modelAuto&&Array.isArray(t.value)?dt(A.value,t.value[0]?t.value[0]:d.value):!1:r.value.enabled&&Array.isArray(t.value)?t.value.some(se=>dt(se,A.value)):dt(A.value,t.value?t.value:d.value),_=A=>{if(l.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!A.current)return!1;const se=Ri(u.value,+l.value.autoRange),pe=Cs(ge(u.value),e.weekStart);return e.weekPicker?dt(pe[1],ge(A.value)):dt(se,ge(A.value))}return!1}return!1},w=A=>{if(l.value.autoRange||e.weekPicker){if(u.value){const se=Ri(u.value,+l.value.autoRange);if(e.hideOffsetDates&&!A.current)return!1;const pe=Cs(ge(u.value),e.weekStart);return e.weekPicker?gn(A.value,pe[0])&&cn(A.value,pe[1]):gn(A.value,u.value)&&cn(A.value,se)}return!1}return!1},E=A=>{if(l.value.autoRange||e.weekPicker){if(u.value){if(e.hideOffsetDates&&!A.current)return!1;const se=Cs(ge(u.value),e.weekStart);return e.weekPicker?dt(se[0],A.value):dt(u.value,A.value)}return!1}return!1},x=A=>Sm(t.value,u.value,A.value),S=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,T=()=>e.modelAuto?ZA(e.internalModelValue):!0,P=A=>{if(e.weekPicker)return!1;const se=l.value.enabled?!v(A)&&!v(A,!1):!0;return!c(A.value)&&!g(A)&&!(!A.current&&e.hideOffsetDates)&&se},B=A=>l.value.enabled?e.modelAuto?S()&&g(A):!1:g(A),F=A=>s.value?c8(A.value,o.value.highlight):!1,z=A=>{const se=c(A.value);return se&&(typeof s.value=="function"?!s.value(A.value,se):!s.value.options.highlightDisabled)},j=A=>{var se;return typeof s.value=="function"?s.value(A.value):(se=s.value.weekdays)==null?void 0:se.includes(A.value.getDay())},I=A=>(l.value.enabled||e.weekPicker)&&(!(n.value.count>0)||A.current)&&T()&&!(!A.current&&e.hideOffsetDates)&&!g(A)?x(A):!1,O=A=>{const{isRangeStart:se,isRangeEnd:pe}=le(A),L=l.value.enabled?se||pe:!1;return{dp__cell_offset:!A.current,dp__pointer:!e.disabled&&!(!A.current&&e.hideOffsetDates)&&!c(A.value),dp__cell_disabled:c(A.value),dp__cell_highlight:!z(A)&&(F(A)||j(A))&&!B(A)&&!L&&!E(A)&&!(I(A)&&e.weekPicker)&&!pe,dp__cell_highlight_active:!z(A)&&(F(A)||j(A))&&B(A),dp__today:!e.noToday&&dt(A.value,d.value)&&A.current,"dp--past":cn(A.value,d.value),"dp--future":gn(A.value,d.value)}},M=A=>({dp__active_date:B(A),dp__date_hover:P(A)}),H=A=>{if(t.value&&!Array.isArray(t.value)){const se=Cs(t.value,e.weekStart);return{...N(A),dp__range_start:dt(se[0],A.value),dp__range_end:dt(se[1],A.value),dp__range_between_week:gn(A.value,se[0])&&cn(A.value,se[1])}}return{...N(A)}},Z=A=>{if(t.value&&Array.isArray(t.value)){const se=Cs(t.value[0],e.weekStart),pe=t.value[1]?Cs(t.value[1],e.weekStart):[];return{...N(A),dp__range_start:dt(se[0],A.value)||dt(pe[0],A.value),dp__range_end:dt(se[1],A.value)||dt(pe[1],A.value),dp__range_between_week:gn(A.value,se[0])&&cn(A.value,se[1])||gn(A.value,pe[0])&&cn(A.value,pe[1]),dp__range_between:gn(A.value,se[1])&&cn(A.value,pe[0])}}return{...N(A)}},le=A=>{const se=n.value.count>0?A.current&&v(A)&&T():v(A)&&T(),pe=n.value.count>0?A.current&&v(A,!1)&&T():v(A,!1)&&T();return{isRangeStart:se,isRangeEnd:pe}},ie=A=>{const{isRangeStart:se,isRangeEnd:pe}=le(A);return{dp__range_start:se,dp__range_end:pe,dp__range_between:I(A),dp__date_hover:dt(A.value,u.value)&&!se&&!pe&&!e.weekPicker,dp__date_hover_start:b(A,!0),dp__date_hover_end:b(A,!1)}},N=A=>({...ie(A),dp__cell_auto_range:w(A),dp__cell_auto_range_start:E(A),dp__cell_auto_range_end:_(A)}),te=A=>l.value.enabled?l.value.autoRange?N(A):e.modelAuto?{...M(A),...ie(A)}:e.weekPicker?Z(A):ie(A):e.weekPicker?H(A):M(A);return{setHoverDate:h,clearHoverDate:f,getDayClassData:A=>e.hideOffsetDates&&!A.current?{}:{...O(A),...te(A),[e.dayClass?e.dayClass(A.value,e.internalModelValue):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName,...i.value.calendarCell??{}}}},uo=t=>{const{defaultedFilters:e,defaultedRange:n,propDates:r,defaultedMultiDates:i}=an(t),s=j=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(ge(j)):!!dp(j,r.value.disabledDates):!1,a=j=>r.value.maxDate?t.yearPicker?He(j)>He(r.value.maxDate):gn(j,r.value.maxDate):!1,o=j=>r.value.minDate?t.yearPicker?He(j)<He(r.value.minDate):cn(j,r.value.minDate):!1,l=j=>{const I=a(j),O=o(j),M=s(j),H=e.value.months.map(te=>+te).includes(ct(j)),Z=t.disabledWeekDays.length?t.disabledWeekDays.some(te=>+te===Zj(j)):!1,le=f(j),ie=He(j),N=ie<+t.yearRange[0]||ie>+t.yearRange[1];return!(I||O||M||H||N||Z||le)},c=(j,I)=>cn(...Ca(r.value.minDate,j,I))||dt(...Ca(r.value.minDate,j,I)),u=(j,I)=>gn(...Ca(r.value.maxDate,j,I))||dt(...Ca(r.value.maxDate,j,I)),d=(j,I,O)=>{let M=!1;return r.value.maxDate&&O&&u(j,I)&&(M=!0),r.value.minDate&&!O&&c(j,I)&&(M=!0),M},h=(j,I,O,M)=>{let H=!1;return M?r.value.minDate&&r.value.maxDate?H=d(j,I,O):(r.value.minDate&&c(j,I)||r.value.maxDate&&u(j,I))&&(H=!0):H=!0,H},f=j=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!dp(j,r.value.allowedDates):!1,p=j=>!l(j),m=j=>n.value.noDisabledRange?!OA({start:j[0],end:j[1]}).some(I=>p(I)):!0,y=j=>{if(j){const I=He(j);return I>=+t.yearRange[0]&&I<=t.yearRange[1]}return!0},v=(j,I)=>!!(Array.isArray(j)&&j[I]&&(n.value.maxRange||n.value.minRange)&&y(j[I])),b=(j,I,O=0)=>{if(v(I,O)&&y(j)){const M=PA(j,I[O]),H=nM(I[O],j),Z=H.length===1?0:H.filter(ie=>p(ie)).length,le=Math.abs(M)-(n.value.minMaxRawRange?0:Z);if(n.value.minRange&&n.value.maxRange)return le>=+n.value.minRange&&le<=+n.value.maxRange;if(n.value.minRange)return le>=+n.value.minRange;if(n.value.maxRange)return le<=+n.value.maxRange}return!0},g=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,_=j=>Array.isArray(j)?[j[0]?Yg(j[0]):null,j[1]?Yg(j[1]):null]:Yg(j),w=(j,I,O)=>j.find(M=>+M.hours===Us(I)&&M.minutes==="*"?!0:+M.minutes===Ya(I)&&+M.hours===Us(I))&&O,E=(j,I,O)=>{const[M,H]=j,[Z,le]=I;return!w(M,Z,O)&&!w(H,le,O)&&O},x=(j,I)=>{const O=Array.isArray(I)?I:[I];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?E(t.disabledTimes,O,j):!O.some(M=>w(t.disabledTimes,M,j)):j},S=(j,I)=>{const O=Array.isArray(I)?[zo(I[0]),I[1]?zo(I[1]):void 0]:zo(I),M=!t.disabledTimes(O);return j&&M},T=(j,I)=>t.disabledTimes?Array.isArray(t.disabledTimes)?x(I,j):S(I,j):I,P=j=>{let I=!0;if(!j||g())return!0;const O=!r.value.minDate&&!r.value.maxDate?_(j):j;return(t.maxTime||r.value.maxDate)&&(I=MT(t.maxTime,r.value.maxDate,"max",$n(O),I)),(t.minTime||r.value.minDate)&&(I=MT(t.minTime,r.value.minDate,"min",$n(O),I)),T(j,I)},B=j=>{if(!t.monthPicker)return!0;let I=!0;const O=ge(ki(j));if(r.value.minDate&&r.value.maxDate){const M=ge(ki(r.value.minDate)),H=ge(ki(r.value.maxDate));return gn(O,M)&&cn(O,H)||dt(O,M)||dt(O,H)}if(r.value.minDate){const M=ge(ki(r.value.minDate));I=gn(O,M)||dt(O,M)}if(r.value.maxDate){const M=ge(ki(r.value.maxDate));I=cn(O,M)||dt(O,M)}return I},F=fe(()=>j=>!t.enableTimePicker||t.ignoreTimeValidation?!0:P(j)),z=fe(()=>j=>t.monthPicker?Array.isArray(j)&&(n.value.enabled||i.value.enabled)?!j.filter(I=>!B(I)).length:B(j):!0);return{isDisabled:p,validateDate:l,validateMonthYearInRange:h,isDateRangeAllowed:m,checkMinMaxRange:b,isValidTime:P,isTimeValid:F,isMonthValid:z}},Am=()=>{const t=fe(()=>(r,i)=>r?.includes(i)),e=fe(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=fe(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},q6=(t,e,n)=>{const r=_e(0),i=_i({[jo.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[jo.calendar]:!1,[jo.header]:!1}),s=fe(()=>t.monthPicker||t.timePicker),a=d=>{var h;if((h=t.flow)!=null&&h.length){if(!d&&s.value)return u();i[d]=!0,Object.keys(i).filter(f=>!i[f]).length||u()}},o=()=>{var d,h;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),u()),((h=t.flow)==null?void 0:h.length)===r.value&&Hn().then(()=>l())},l=()=>{r.value=-1},c=(d,h,...f)=>{var p,m;t.flow[r.value]===d&&n.value&&((m=(p=n.value)[h])==null||m.call(p,...f))},u=(d=0)=>{d&&(r.value+=d),c(cr.month,"toggleMonthPicker",!0),c(cr.year,"toggleYearPicker",!0),c(cr.calendar,"toggleTimePicker",!1,!0),c(cr.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===cr.hours||h===cr.minutes||h===cr.seconds)&&c(h,"toggleTimePicker",!0,!0,h)};return{childMount:a,updateFlowStep:o,resetFlow:l,handleFlow:u,flowStep:r}},K6={key:1,class:"dp__input_wrap"},X6=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Z6={key:2,class:"dp__clear_icon"},J6=Jt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Rm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:a,defaultedInline:o,defaultedConfig:l,defaultedRange:c,defaultedMultiDates:u,defaultedUI:d,getDefaultPattern:h,getDefaultStartTime:f}=an(i),{checkMinMaxRange:p}=uo(i),m=_e(),y=_e(null),v=_e(!1),b=_e(!1),g=fe(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:v.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName,...d.value.input??{}})),_=()=>{r("set-input-date",null),i.clearable&&i.autoApply&&(r("set-empty-date"),m.value=null)},w=M=>{const H=f();return d8(M,s.value.format??h(),H??rM({},i.enableSeconds),i.inputValue,b.value,i.formatLocale)},E=M=>{const{rangeSeparator:H}=s.value,[Z,le]=M.split(`${H}`);if(Z){const ie=w(Z.trim()),N=le?w(le.trim()):null;if(Ru(ie,N))return;const te=ie&&N?[ie,N]:[ie];p(N,te,0)&&(m.value=ie?te:null)}},x=()=>{b.value=!0},S=M=>{if(c.value.enabled)E(M);else if(u.value.enabled){const H=M.split(";");m.value=H.map(Z=>w(Z.trim())).filter(Z=>Z)}else m.value=w(M)},T=M=>{var H;const Z=typeof M=="string"?M:(H=M.target)==null?void 0:H.value;Z!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),S(Z),r("set-input-date",m.value)):_(),b.value=!1,r("update:input-value",Z)},P=M=>{s.value.enabled?(S(M.target.value),s.value.enterSubmit&&D_(m.value)&&i.inputValue!==""?(r("set-input-date",m.value,!0),m.value=null):s.value.enterSubmit&&i.inputValue===""&&(m.value=null,r("clear"))):z(M)},B=M=>{s.value.enabled&&s.value.tabSubmit&&S(M.target.value),s.value.tabSubmit&&D_(m.value)&&i.inputValue!==""?(r("set-input-date",m.value,!0,!0),m.value=null):s.value.tabSubmit&&i.inputValue===""&&(m.value=null,r("clear",!0))},F=()=>{v.value=!0,r("focus"),Hn().then(()=>{var M;s.value.enabled&&s.value.selectOnFocus&&((M=y.value)==null||M.select())})},z=M=>{M.preventDefault(),Oa(M,l.value,!0),s.value.enabled&&s.value.openMenu&&!o.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},j=()=>{r("real-blur"),v.value=!1,(!i.isMenuOpen||o.value.enabled&&o.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&m.value&&!i.isMenuOpen&&(r("set-input-date",m.value),r("select-date"),m.value=null)},I=M=>{Oa(M,l.value,!0),r("clear")},O=M=>{if(M.key==="Tab"&&B(M),M.key==="Enter"&&P(M),!s.value.enabled){if(M.code==="Tab")return;M.preventDefault()}};return e({focusInput:()=>{var M;(M=y.value)==null||M.focus({preventScroll:!0})},setParsedDate:M=>{m.value=M}}),(M,H)=>{var Z;return K(),ae("div",{onClick:z},[M.$slots.trigger&&!M.$slots["dp-input"]&&!q(o).enabled?Ae(M.$slots,"trigger",{key:0}):me("",!0),!M.$slots.trigger&&(!q(o).enabled||q(o).input)?(K(),ae("div",K6,[M.$slots["dp-input"]&&!M.$slots.trigger&&(!q(o).enabled||q(o).enabled&&q(o).input)?Ae(M.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:T,onEnter:P,onTab:B,onClear:I,onBlur:j,onKeypress:O,onPaste:x,onFocus:F,openMenu:()=>M.$emit("open"),closeMenu:()=>M.$emit("close"),toggleMenu:()=>M.$emit("toggle")}):me("",!0),M.$slots["dp-input"]?me("",!0):(K(),ae("input",{key:1,id:M.uid?`dp-input-${M.uid}`:void 0,ref_key:"inputRef",ref:y,"data-test":"dp-input",name:M.name,class:Ge(g.value),inputmode:q(s).enabled?"text":"none",placeholder:M.placeholder,disabled:M.disabled,readonly:M.readonly,required:M.required,value:t.inputValue,autocomplete:M.autocomplete,"aria-label":(Z=q(a))==null?void 0:Z.input,"aria-disabled":M.disabled||void 0,"aria-invalid":M.state===!1?!0:void 0,onInput:T,onBlur:j,onFocus:F,onKeypress:O,onKeydown:O,onPaste:x},null,42,X6)),ye("div",{onClick:H[2]||(H[2]=le=>r("toggle"))},[M.$slots["input-icon"]&&!M.hideInputIcon?(K(),ae("span",{key:0,class:"dp__input_icon",onClick:H[0]||(H[0]=le=>r("toggle"))},[Ae(M.$slots,"input-icon")])):me("",!0),!M.$slots["input-icon"]&&!M.hideInputIcon&&!M.$slots["dp-input"]?(K(),Fe(q(Gu),{key:1,class:"dp__input_icon dp__input_icons",onClick:H[1]||(H[1]=le=>r("toggle"))})):me("",!0)]),M.$slots["clear-icon"]&&t.inputValue&&M.clearable&&!M.disabled&&!M.readonly?(K(),ae("span",Z6,[Ae(M.$slots,"clear-icon",{clear:I})])):me("",!0),M.clearable&&!M.$slots["clear-icon"]&&t.inputValue&&!M.disabled&&!M.readonly?(K(),Fe(q(KA),{key:3,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:H[3]||(H[3]=qo(le=>I(le),["prevent"]))})):me("",!0)])):me("",!0)])}}}),Q6=typeof window<"u"?window:void 0,Zg=()=>{},eU=t=>Pp()?(av(t),!0):!1,tU=(t,e,n,r)=>{if(!t)return Zg;let i=Zg;const s=rn(()=>q(t),o=>{i(),o&&(o.addEventListener(e,n,r),i=()=>{o.removeEventListener(e,n,r),i=Zg})},{immediate:!0,flush:"post"}),a=()=>{s(),i()};return eU(a),a},nU=(t,e,n,r={})=>{const{window:i=Q6,event:s="pointerdown"}=r;return i?tU(i,s,a=>{const o=Pn(t),l=Pn(e);!o||!l||o===a.target||a.composedPath().includes(o)||a.composedPath().includes(l)||n(a)},{passive:!0}):void 0},rU=Jt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Rm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Hs(),a=_e(!1),o=Uo(i,"modelValue"),l=Uo(i,"timezone"),c=_e(null),u=_e(null),d=_e(null),h=_e(!1),f=_e(null),p=_e(!1),m=_e(!1),y=_e(!1),v=_e(!1),{setMenuFocused:b,setShiftKey:g}=lM(),{clearArrowNav:_}=lo(),{validateDate:w,isValidTime:E}=uo(i),{defaultedTransitions:x,defaultedTextInput:S,defaultedInline:T,defaultedConfig:P,defaultedRange:B,defaultedMultiDates:F}=an(i),{menuTransition:z,showTransition:j}=nh(x);sn(()=>{se(i.modelValue),Hn().then(()=>{if(!T.value.enabled){const oe=ie(f.value);oe?.addEventListener("scroll",$),window?.addEventListener("resize",U)}}),T.value.enabled&&(a.value=!0),window?.addEventListener("keyup",W),window?.addEventListener("keydown",V)}),cs(()=>{if(!T.value.enabled){const oe=ie(f.value);oe?.removeEventListener("scroll",$),window?.removeEventListener("resize",U)}window?.removeEventListener("keyup",W),window?.removeEventListener("keydown",V)});const I=Jr(s,"all",i.presetDates),O=Jr(s,"input");rn([o,l],()=>{se(o.value)},{deep:!0});const{openOnTop:M,menuStyle:H,xCorrect:Z,setMenuPosition:le,getScrollableParent:ie,shadowRender:N}=U6({menuRef:c,menuRefInner:u,inputRef:d,pickerWrapperRef:f,inline:T,emit:r,props:i,slots:s}),{inputValue:te,internalModelValue:A,parseExternalModelValue:se,emitModelValue:pe,formatInputValue:L,checkBeforeEmit:ve}=L8(r,i,h),Pe=fe(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:T.value.enabled,"dp--flex-display-collapsed":y.value,dp__flex_display_with_input:T.value.input})),ne=fe(()=>i.dark?"dp__theme_dark":"dp__theme_light"),De=fe(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||T.value.enabled}:{}),G=fe(()=>({class:"dp__outer_menu_wrap"})),k=fe(()=>T.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),C=()=>{var oe,Ee;return(Ee=(oe=d.value)==null?void 0:oe.$el)==null?void 0:Ee.getBoundingClientRect()},$=()=>{a.value&&(P.value.closeOnScroll?re():le())},U=()=>{var oe;a.value&&le();const Ee=(oe=u.value)==null?void 0:oe.$el.getBoundingClientRect().width;y.value=document.body.offsetWidth<=Ee},W=oe=>{oe.key==="Tab"&&!T.value.enabled&&!i.teleport&&P.value.tabOutClosesMenu&&(f.value.contains(document.activeElement)||re()),m.value=oe.shiftKey},V=oe=>{m.value=oe.shiftKey},ee=()=>{!i.disabled&&!i.readonly&&(N(LT,i),le(!1),a.value=!0,a.value&&r("open"),a.value||X(),se(i.modelValue))},R=()=>{var oe;te.value="",X(),(oe=d.value)==null||oe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),P.value.closeOnClearValue&&re()},D=()=>{const oe=A.value;return!oe||!Array.isArray(oe)&&w(oe)?!0:Array.isArray(oe)?F.value.enabled||oe.length===2&&w(oe[0])&&w(oe[1])?!0:B.value.partialRange&&!i.timePicker?w(oe[0]):!1:!1},Y=()=>{ve()&&D()?(pe(),re()):r("invalid-select",A.value)},J=oe=>{he(),pe(),P.value.closeOnAutoApply&&!oe&&re()},he=()=>{d.value&&S.value.enabled&&d.value.setParsedDate(A.value)},ce=(oe=!1)=>{i.autoApply&&E(A.value)&&D()&&(B.value.enabled&&Array.isArray(A.value)?(B.value.partialRange||A.value.length===2)&&J(oe):J(oe))},X=()=>{S.value.enabled||(A.value=null)},re=()=>{T.value.enabled||(a.value&&(a.value=!1,Z.value=!1,b(!1),g(!1),_(),r("closed"),te.value&&se(o.value)),X(),r("blur"))},Te=(oe,Ee,Ce=!1)=>{if(!oe){A.value=null;return}const Lt=Array.isArray(oe)?!oe.some(ai=>!w(ai)):w(oe),jt=E(oe);Lt&&jt&&(v.value=!0,A.value=oe,Ee&&(p.value=Ce,Y(),r("text-submit")),Hn().then(()=>{v.value=!1}))},Re=()=>{i.autoApply&&E(A.value)&&pe(),he()},mt=()=>a.value?re():ee(),et=oe=>{A.value=oe},It=()=>{S.value.enabled&&(h.value=!0,L()),r("focus")},Ot=()=>{if(S.value.enabled&&(h.value=!1,se(i.modelValue),p.value)){const oe=l8(f.value,m.value);oe?.focus()}r("blur")},nr=oe=>{u.value&&u.value.updateMonthYear(0,{month:kT(oe.month),year:kT(oe.year)})},vi=oe=>{se(oe??i.modelValue)},At=(oe,Ee)=>{var Ce;(Ce=u.value)==null||Ce.switchView(oe,Ee)},Q=oe=>P.value.onClickOutside?P.value.onClickOutside(oe):re(),be=(oe=0)=>{var Ee;(Ee=u.value)==null||Ee.handleFlow(oe)};return nU(c,d,()=>Q(D)),e({closeMenu:re,selectDate:Y,clearValue:R,openMenu:ee,onScroll:$,formatInputValue:L,updateInternalModelValue:et,setMonthYear:nr,parseModel:vi,switchView:At,toggleMenu:mt,handleFlow:be}),(oe,Ee)=>(K(),ae("div",{ref_key:"pickerWrapperRef",ref:f,class:Ge(Pe.value),"data-datepicker-instance":""},[we(J6,bn({ref_key:"inputRef",ref:d,"input-value":q(te),"onUpdate:inputValue":Ee[0]||(Ee[0]=Ce=>nn(te)?te.value=Ce:null),"is-menu-open":a.value},oe.$props,{onClear:R,onOpen:ee,onSetInputDate:Te,onSetEmptyDate:q(pe),onSelectDate:Y,onToggle:mt,onClose:re,onFocus:It,onBlur:Ot,onRealBlur:Ee[1]||(Ee[1]=Ce=>h.value=!1)}),zn({_:2},[xt(q(O),(Ce,Lt)=>({name:Ce,fn:qe(jt=>[Ae(oe.$slots,Ce,Rn(Jn(jt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(K(),Fe(Du(oe.teleport?_v:"div"),Rn(Jn(De.value)),{default:qe(()=>[we(so,{name:q(z)(q(M)),css:q(j)&&!q(T).enabled},{default:qe(()=>[a.value?(K(),ae("div",bn({key:0,ref_key:"dpWrapMenuRef",ref:c},G.value,{class:{"dp--menu-wrapper":!q(T).enabled},style:q(T).enabled?void 0:q(H)}),[we(LT,bn({ref_key:"dpMenuRef",ref:u},oe.$props,{"internal-model-value":q(A),"onUpdate:internalModelValue":Ee[2]||(Ee[2]=Ce=>nn(A)?A.value=Ce:null),class:{[ne.value]:!0,"dp--menu-wrapper":oe.teleport},"open-on-top":q(M),"no-overlay-focus":k.value,collapse:y.value,"get-input-rect":C,"is-text-input-date":v.value,onClosePicker:re,onSelectDate:Y,onAutoApply:ce,onTimeUpdate:Re,onFlowStep:Ee[3]||(Ee[3]=Ce=>oe.$emit("flow-step",Ce)),onUpdateMonthYear:Ee[4]||(Ee[4]=Ce=>oe.$emit("update-month-year",Ce)),onInvalidSelect:Ee[5]||(Ee[5]=Ce=>oe.$emit("invalid-select",q(A))),onAutoApplyInvalid:Ee[6]||(Ee[6]=Ce=>oe.$emit("invalid-select",Ce)),onInvalidFixedRange:Ee[7]||(Ee[7]=Ce=>oe.$emit("invalid-fixed-range",Ce)),onRecalculatePosition:q(le),onTooltipOpen:Ee[8]||(Ee[8]=Ce=>oe.$emit("tooltip-open",Ce)),onTooltipClose:Ee[9]||(Ee[9]=Ce=>oe.$emit("tooltip-close",Ce)),onTimePickerOpen:Ee[10]||(Ee[10]=Ce=>oe.$emit("time-picker-open",Ce)),onTimePickerClose:Ee[11]||(Ee[11]=Ce=>oe.$emit("time-picker-close",Ce)),onAmPmChange:Ee[12]||(Ee[12]=Ce=>oe.$emit("am-pm-change",Ce)),onRangeStart:Ee[13]||(Ee[13]=Ce=>oe.$emit("range-start",Ce)),onRangeEnd:Ee[14]||(Ee[14]=Ce=>oe.$emit("range-end",Ce)),onDateUpdate:Ee[15]||(Ee[15]=Ce=>oe.$emit("date-update",Ce)),onInvalidDate:Ee[16]||(Ee[16]=Ce=>oe.$emit("invalid-date",Ce)),onOverlayToggle:Ee[17]||(Ee[17]=Ce=>oe.$emit("overlay-toggle",Ce))}),zn({_:2},[xt(q(I),(Ce,Lt)=>({name:Ce,fn:qe(jt=>[Ae(oe.$slots,Ce,Rn(Jn({...jt})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):me("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Mm=(()=>{const t=rU;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),iU=Object.freeze(Object.defineProperty({__proto__:null,default:Mm},Symbol.toStringTag,{value:"Module"}));Object.entries(iU).forEach(([t,e])=>{t!=="default"&&(Mm[t]=e)});const sU={name:"DatePicker",components:{VueDatePicker:Mm},emits:["dateChanged"],data(){return{selectedDate:new Date,fi:"fi",en:"en"}},computed:{language(){switch(this.$store.state.settings.settings.locale){case"en":default:return this.en;case"fi":return this.fi}},pastDate(){const t=new Date(this.selectedDate);return t.setDate(t.getDate()-30),t},isToday(){const t=new Date;return this.selectedDate.getDate()===t.getDate()&&this.selectedDate.getMonth()===t.getMonth()&&this.selectedDate.getFullYear()===t.getFullYear()},mode(){return this.$store.state.settings.settings.mode}},mounted(){Xe.$on("featureClicked",this.resetDate)},methods:{formatDates(t){switch(this.$store.state.settings.settings.dateFormat){case"fi":return`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`;case"iso":default:return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}},resetDate(){this.mode=="air_radionuclides"&&(this.selectedDate=new Date)},handleDateChange(t){this.selectedDate=new Date(t),Xe.$emit("dateChanged",this.selectedDate)},prevDay(){const t=new Date(this.selectedDate);t.setDate(t.getDate()-1),this.selectedDate=t,Xe.$emit("dateChanged",this.selectedDate)},nextDay(){const t=new Date(this.selectedDate);this.isToday||(t.setDate(t.getDate()+1),this.selectedDate=t,Xe.$emit("dateChanged",this.selectedDate))}}},aU={class:"date-picker"},oU={class:"controls"};function lU(t,e,n,r,i,s){const a=Ie("vue-date-picker");return K(),ae("div",aU,[ye("div",oU,[ye("p",null,Ye(s.formatDates(s.pastDate))+" -",1),ye("button",{onClick:e[0]||(e[0]=(...o)=>s.prevDay&&s.prevDay(...o))}," < "),we(a,{modelValue:i.selectedDate,"onUpdate:modelValue":e[1]||(e[1]=o=>i.selectedDate=o),locale:s.language,format:s.formatDates,"auto-apply":"","enable-time-picker":!1,"max-date":new Date,"hide-input-icon":"",onDateUpdate:s.handleDateChange},null,8,["modelValue","locale","format","max-date","onDateUpdate"]),ye("button",{class:Ge({disabled:s.isToday}),onClick:e[2]||(e[2]=(...o)=>s.nextDay&&s.nextDay(...o))}," > ",2)])])}const uU=je(sU,[["render",lU]]),cU={name:"FeaturePopup",components:{SiteName:pA,SiteDoseRate:mA,TimeSeriesGraph:$G,RadionuclideTables:WG,DatePicker:uU},emits:["featurepopupOpened","featurepopupClosed"],data(){return{overlay:void 0,feature:void 0}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRatesMode(){return this.mode==="dose_rates"},isRadionuclideMode(){return this.mode==="air_radionuclides"}},watch:{isDoseRatesMode(){this.close()}},mounted(){Xe.$on("featureClicked",this.open),Xe.$on("emptyMapLocationClicked",this.close),this.overlay=new gA({element:this.$refs.featurePopup,position:void 0}),Xe.$on("featureClicked",this.open),Xe.$on("featureSelectedViaSearch",this.open),Xe.$on("emptyMapLocationClicked",this.close),Xe.$on("doseRateLayerChanged",this.update)},methods:{open(t){this.feature=t,this.overlay.setPosition(t.getGeometry().getCoordinates()),Xe.$emit("featurePopupOpened",t),this.$nextTick(()=>{this.$refs.panelBody&&(this.$refs.panelBody.scrollTop=0)})},close(){this.feature=void 0,this.overlay.setPosition(void 0),Xe.$emit("featurePopupClosed")},update(t){var e=t.getSource().getFeatures();if(!(e.length==0||!this.feature)){for(var n=0;n<e.length;++n)if(e[n].get("id")==this.feature.get("id")){this.feature=e[n];return}this.feature.set("doseRate","-")}}}},dU={ref:"featurePopup",class:"feature-popup"};function hU(t,e,n,r,i,s){const a=Ie("site-name"),o=Ie("site-dose-rate"),l=Ie("time-series-graph"),c=Ie("date-picker"),u=Ie("radionuclide-tables");return K(),ae("div",dU,[we(a,{feature:i.feature,onClose:s.close},null,8,["feature","onClose"]),On(we(o,{feature:i.feature},null,8,["feature"]),[[Ln,s.isDoseRatesMode]]),On(we(l,{feature:i.feature},null,8,["feature"]),[[Ln,s.isDoseRatesMode]]),On(we(c,null,null,512),[[Ln,s.isRadionuclideMode]]),On(we(u,{feature:i.feature},null,8,["feature"]),[[Ln,s.isRadionuclideMode]])],512)}const fU=je(cU,[["render",hU],["__scopeId","data-v-5984984b"]]),pU={name:"ButtonOpenSettings",emits:["settings-panel-open"],methods:{handleClick(){Xe.$emit("settings-panel-open")}}},mU=["title"];function gU(t,e,n,r,i,s){return K(),ae("div",{class:"button-open-settings",title:t.$t("settings.title"),onClick:e[0]||(e[0]=a=>s.handleClick())},e[1]||(e[1]=[ye("span",{class:"button-open-settings__icon"},null,-1)]),8,mU)}const yU=je(pU,[["render",gU]]),_U={name:"ButtonOpenInfo",emits:["info-panel-open"],methods:{handleClick(){Xe.$emit("info-panel-open")}}},vU=["title"];function bU(t,e,n,r,i,s){return K(),ae("div",{class:"button-open-info",title:t.$t("info.title"),onClick:e[0]||(e[0]=a=>s.handleClick())},e[1]||(e[1]=[ye("span",{class:"button-open-info__icon"},null,-1)]),8,vU)}const wU=je(_U,[["render",bU],["__scopeId","data-v-9c6735c7"]]),EU={name:"ButtonChangeMode",computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRate(){return this.mode==="dose_rates"},isAirRadionuclides(){return this.mode==="air_radionuclides"}},methods:{handleClick(){const t=this.mode==="dose_rates"?"air_radionuclides":"dose_rates";Xe.$emit("mode-changed",t)}}},TU=["title"];function xU(t,e,n,r,i,s){return K(),ae("div",{class:"button-change-mode",title:t.$t("changeMode.title"),onClick:e[0]||(e[0]=(...a)=>s.handleClick&&s.handleClick(...a))},[e[2]||(e[2]=ye("span",{class:"button-change-mode__icon"},null,-1)),ye("h3",null,[ye("span",{class:Ge({selected:s.isDoseRate,notSelected:!s.isDoseRate})},Ye(t.$t("doseRate")),3),e[1]||(e[1]=tr(" / ")),ye("span",{class:Ge({selected:s.isAirRadionuclides,notSelected:!s.isAirRadionuclides})},Ye(t.$t("airRadionuclides")),3)])],8,TU)}const CU=je(EU,[["render",xU],["__scopeId","data-v-3898a807"]]),SU={name:"SettingsPanelHeader",emits:["close"]},RU={class:"settings-panel-header opendata-row"};function kU(t,e,n,r,i,s){return K(),ae("div",RU,[ye("span",null,Ye(t.$t("settings.header")),1),ye("span",{class:"close-button",onClick:e[0]||(e[0]=a=>t.$emit("close"))},"×")])}const IU=je(SU,[["render",kU],["__scopeId","data-v-79d97c99"]]),AU={name:"SettingsPanelSection",props:{title:{type:String,required:!0}}},MU={class:"section"},PU={class:"title"};function DU(t,e,n,r,i,s){return K(),ae("div",MU,[ye("p",PU,Ye(n.title),1),Ae(t.$slots,"default",{class:"content"},void 0,!0)])}const Pm=je(AU,[["render",DU],["__scopeId","data-v-fed687d3"]]),OU={name:"FieldLanguage",components:{SettingsPanelSection:Pm},props:{settings:{type:Object,required:!0}}};function LU(t,e,n,r,i,s){const a=Ie("base-radio-button"),o=Ie("settings-panel-section");return K(),Fe(o,{title:t.$t("settings.language")},{default:qe(()=>[we(a,{key:"fi",modelValue:n.settings.locale,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.locale=l),"model-value":n.settings.locale,"own-value":"fi",label:t.$t("settings.labelFinnish"),class:"radio-button"},null,8,["modelValue","model-value","label"]),we(a,{key:"en",modelValue:n.settings.locale,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.locale=l),"model-value":n.settings.locale,"own-value":"en",label:t.$t("settings.labelEnglish"),class:"radio-button"},null,8,["modelValue","model-value","label"])]),_:1},8,["title"])}const FU=je(OU,[["render",LU],["__scopeId","data-v-bfcd2737"]]),NU={name:"FieldDateFormat",components:{SettingsPanelSection:Pm},props:{settings:{type:Object,required:!0}}};function $U(t,e,n,r,i,s){const a=Ie("base-radio-button"),o=Ie("settings-panel-section");return K(),Fe(o,{title:t.$t("settings.dateFormat")},{default:qe(()=>[we(a,{key:"fi",modelValue:n.settings.dateFormat,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.dateFormat=l),"model-value":n.settings.dateFormat,"own-value":"fi",label:t.$t("settings.dateFormatA"),class:"radio-button"},null,8,["modelValue","model-value","label"]),we(a,{key:"iso",modelValue:n.settings.dateFormat,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.dateFormat=l),"model-value":n.settings.dateFormat,"own-value":"iso",label:t.$t("settings.dateFormatB"),class:"radio-button"},null,8,["modelValue","model-value","label"])]),_:1},8,["title"])}const BU=je(NU,[["render",$U],["__scopeId","data-v-b4352245"]]),VU={name:"FieldTimeFormat",components:{SettingsPanelSection:Pm},props:{settings:{type:Object,required:!0}}};function GU(t,e,n,r,i,s){const a=Ie("base-radio-button"),o=Ie("settings-panel-section");return K(),Fe(o,{title:t.$t("settings.timeFormat")},{default:qe(()=>[we(a,{key:"24h",modelValue:n.settings.timeFormat,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.timeFormat=l),"model-value":n.settings.timeFormat,"own-value":"24h",label:t.$t("settings.timeFormatA"),class:"radio-button"},null,8,["modelValue","model-value","label"]),we(a,{key:"12h",modelValue:n.settings.timeFormat,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.timeFormat=l),"model-value":n.settings.timeFormat,"own-value":"12h",label:t.$t("settings.timeFormatB"),class:"radio-button"},null,8,["modelValue","model-value","label"])]),_:1},8,["title"])}const jU=je(VU,[["render",GU],["__scopeId","data-v-505c2119"]]);class zU extends _m{constructor(e){super(e)}createRenderer(){return new VI(this)}}class _a extends Ws{constructor(e,n){super(e),this.layer=n}}const Jg={LAYERS:"layers"};class ju extends vI{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Jg.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Qi(r.slice(),{unique:!0}):yt(typeof r.getArray=="function","Expected `layers` to be an array or a `Collection`"):r=new Qi(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach($t),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(ht(e,Lr.ADD,this.handleLayersAdd_,this),ht(e,Lr.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach($t);zd(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new _a("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[ht(e,bu.PROPERTYCHANGE,this.handleLayerChange_,this),ht(e,Ue.CHANGE,this.handleLayerChange_,this)];e instanceof ju&&n.push(ht(e,"addlayer",this.handleLayerGroupAdd_,this),ht(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[tt(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new _a("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new _a("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new _a("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=tt(n);this.listenerKeys_[r].forEach($t),delete this.listenerKeys_[r],this.dispatchEvent(new _a("removelayer",n)),this.changed()}getLayers(){return this.get(Jg.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new _a("removelayer",r[i]))}this.set(Jg.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(a){a.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let a=r,o=n.length;a<o;a++){const l=n[a];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=Pa(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}const UU=.5,Se={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Dm extends Ud{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(Ue.CHANGE)}release(){this.state===Se.ERROR&&this.setState(Se.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==Se.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let n=this;do{if(e.getState()==Se.LOADED){e.interimTile=null;break}e.getState()==Se.LOADING?n=e:e.getState()==Se.IDLE?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==Se.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){We()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:wI(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}const YU=10,FT=.25;class HU{constructor(e,n,r,i,s,a){this.sourceProj_=e,this.targetProj_=n;let o={};const l=dd(this.targetProj_,this.sourceProj_);this.transformInv_=function(b){const g=b[0]+"/"+b[1];return o[g]||(o[g]=l(b)),o[g]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&vt(i)>=vt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?vt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?vt(this.targetProj_.getExtent()):null;const c=oo(r),u=am(r),d=sm(r),h=im(r),f=this.transformInv_(c),p=this.transformInv_(u),m=this.transformInv_(d),y=this.transformInv_(h),v=YU+(a?Math.max(0,Math.ceil(Math.log2(a_(r)/(a*a*256*256)))):0);if(this.addQuad_(c,u,d,h,f,p,m,y,v),this.wrapsXInSource_){let b=1/0;this.triangles_.forEach(function(g,_,w){b=Math.min(b,g.source[0][0],g.source[1][0],g.source[2][0])}),this.triangles_.forEach(g=>{if(Math.max(g.source[0][0],g.source[1][0],g.source[2][0])-b>this.sourceWorldWidth_/2){const _=[[g.source[0][0],g.source[0][1]],[g.source[1][0],g.source[1][1]],[g.source[2][0],g.source[2][1]]];_[0][0]-b>this.sourceWorldWidth_/2&&(_[0][0]-=this.sourceWorldWidth_),_[1][0]-b>this.sourceWorldWidth_/2&&(_[1][0]-=this.sourceWorldWidth_),_[2][0]-b>this.sourceWorldWidth_/2&&(_[2][0]-=this.sourceWorldWidth_);const w=Math.min(_[0][0],_[1][0],_[2][0]);Math.max(_[0][0],_[1][0],_[2][0])-w<this.sourceWorldWidth_/2&&(g.source=_)}})}o={}}addTriangle_(e,n,r,i,s,a){this.triangles_.push({source:[i,s,a],target:[e,n,r]})}addQuad_(e,n,r,i,s,a,o,l,c){const u=i_([s,a,o,l]),d=this.sourceWorldWidth_?vt(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1;let p=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const y=i_([e,n,r,i]);p=vt(y)/this.targetWorldWidth_>FT||p}!f&&this.sourceProj_.isGlobal()&&d&&(p=d>FT||p)}if(!p&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!hn(u,this.maxSourceExtent_))return;let m=0;if(!p&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)p=!0;else if(m=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),m!=1&&m!=2&&m!=4&&m!=8)return}if(c>0){if(!p){const y=[(e[0]+r[0])/2,(e[1]+r[1])/2],v=this.transformInv_(y);let b;f?b=(nu(s[0],h)+nu(o[0],h))/2-nu(v[0],h):b=(s[0]+o[0])/2-v[0];const g=(s[1]+o[1])/2-v[1];p=b*b+g*g>this.errorThresholdSquared_}if(p){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const y=[(n[0]+r[0])/2,(n[1]+r[1])/2],v=this.transformInv_(y),b=[(i[0]+e[0])/2,(i[1]+e[1])/2],g=this.transformInv_(b);this.addQuad_(e,n,y,b,s,a,v,g,c-1),this.addQuad_(b,y,r,i,g,v,o,l,c-1)}else{const y=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(y),b=[(r[0]+i[0])/2,(r[1]+i[1])/2],g=this.transformInv_(b);this.addQuad_(e,y,b,i,s,v,g,l,c-1),this.addQuad_(y,n,r,b,v,a,o,g,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}m&11||this.addTriangle_(e,r,i,s,o,l),m&14||this.addTriangle_(e,r,n,s,o,a),m&&(m&13||this.addTriangle_(n,i,e,a,l,s),m&7||this.addTriangle_(n,i,r,a,l,o))}calculateSourceExtent(){const e=yi();return this.triangles_.forEach(function(n,r,i){const s=n.source;Dc(e,s[0]),Dc(e,s[1]),Dc(e,s[2])}),e}getTriangles(){return this.triangles_}}let Qg;const iu=[];function NT(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function ey(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function WU(){if(Qg===void 0){const t=qn(6,6,iu);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",NT(t,4,5,4,0),NT(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Qg=ey(e,0)||ey(e,4)||ey(e,8),jd(t),iu.push(t.canvas)}return Qg}function $T(t,e,n,r){const i=om(n,e,t);let s=Zf(e,r,n);const a=e.getMetersPerUnit();a!==void 0&&(s*=a);const o=t.getMetersPerUnit();o!==void 0&&(s/=o);const l=t.getExtent();if(!l||Zo(l,i)){const c=Zf(t,s,i)/s;isFinite(c)&&c>0&&(s/=c)}return s}function qU(t,e,n,r){const i=Ua(n);let s=$T(t,e,i,r);return(!isFinite(s)||s<=0)&&Xk(n,function(a){return s=$T(t,e,a,r),isFinite(s)&&s>0}),s}function KU(t,e,n,r,i,s,a,o,l,c,u,d,h,f){const p=qn(Math.round(n*t),Math.round(n*e),iu);if(d||(p.imageSmoothingEnabled=!1),l.length===0)return p.canvas;p.scale(n,n);function m(w){return Math.round(w*n)/n}p.globalCompositeOperation="lighter";const y=yi();l.forEach(function(w,E,x){qk(y,w.extent)});let v;const b=n/r,g=(d?1:1+Math.pow(2,-24))/b;{if(v=qn(Math.round(vt(y)*b),Math.round(jn(y)*b),iu),d||(v.imageSmoothingEnabled=!1),i&&f){const w=(i[0]-y[0])*b,E=-(i[3]-y[3])*b,x=vt(i)*b,S=jn(i)*b;v.rect(w,E,x,S),v.clip()}l.forEach(function(w,E,x){if(w.image.width>0&&w.image.height>0){if(w.clipExtent){v.save();const F=(w.clipExtent[0]-y[0])*b,z=-(w.clipExtent[3]-y[3])*b,j=vt(w.clipExtent)*b,I=jn(w.clipExtent)*b;v.rect(d?F:Math.round(F),d?z:Math.round(z),d?j:Math.round(F+j)-Math.round(F),d?I:Math.round(z+I)-Math.round(z)),v.clip()}const S=(w.extent[0]-y[0])*b,T=-(w.extent[3]-y[3])*b,P=vt(w.extent)*b,B=jn(w.extent)*b;v.drawImage(w.image,c,c,w.image.width-2*c,w.image.height-2*c,d?S:Math.round(S),d?T:Math.round(T),d?P:Math.round(S+P)-Math.round(S),d?B:Math.round(T+B)-Math.round(T)),w.clipExtent&&v.restore()}})}const _=oo(a);return o.getTriangles().forEach(function(w,E,x){const S=w.source,T=w.target;let P=S[0][0],B=S[0][1],F=S[1][0],z=S[1][1],j=S[2][0],I=S[2][1];const O=m((T[0][0]-_[0])/s),M=m(-(T[0][1]-_[1])/s),H=m((T[1][0]-_[0])/s),Z=m(-(T[1][1]-_[1])/s),le=m((T[2][0]-_[0])/s),ie=m(-(T[2][1]-_[1])/s),N=P,te=B;P=0,B=0,F-=N,z-=te,j-=N,I-=te;const A=[[F,z,0,0,H-O],[j,I,0,0,le-O],[0,0,F,z,Z-M],[0,0,j,I,ie-M]],se=R$(A);if(!se)return;if(p.save(),p.beginPath(),WU()||!d){p.moveTo(H,Z);const L=4,ve=O-H,Pe=M-Z;for(let ne=0;ne<L;ne++)p.lineTo(H+m((ne+1)*ve/L),Z+m(ne*Pe/(L-1))),ne!=L-1&&p.lineTo(H+m((ne+1)*ve/L),Z+m((ne+1)*Pe/(L-1)));p.lineTo(le,ie)}else p.moveTo(H,Z),p.lineTo(O,M),p.lineTo(le,ie);p.clip(),p.transform(se[0],se[2],se[1],se[3],O,M),p.translate(y[0]-N,y[3]-te);let pe;if(v)pe=v.canvas,p.scale(g,-g);else{const L=l[0],ve=L.extent;pe=L.image,p.scale(vt(ve)/pe.width,-jn(ve)/pe.height)}p.drawImage(pe,0,0),p.restore()}),v&&(jd(v),iu.push(v.canvas)),u&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,o.getTriangles().forEach(function(w,E,x){const S=w.target,T=(S[0][0]-_[0])/s,P=-(S[0][1]-_[1])/s,B=(S[1][0]-_[0])/s,F=-(S[1][1]-_[1])/s,z=(S[2][0]-_[0])/s,j=-(S[2][1]-_[1])/s;p.beginPath(),p.moveTo(B,F),p.lineTo(T,P),p.lineTo(z,j),p.closePath(),p.stroke()}),p.restore()),p.canvas}class O_ extends Dm{constructor(e,n,r,i,s,a,o,l,c,u,d,h){super(s,Se.IDLE,h),this.renderEdges_=d!==void 0?d:!1,this.pixelRatio_=o,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=a||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const f=i.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let m=this.sourceTileGrid_.getExtent();const y=p?Pa(f,p):f;if(a_(y)===0){this.state=Se.EMPTY;return}const v=e.getExtent();v&&(m?m=Pa(m,v):m=v);const b=i.getResolution(this.wrappedTileCoord_[0]),g=qU(e,r,y,b);if(!isFinite(g)||g<=0){this.state=Se.EMPTY;return}const _=u!==void 0?u:UU;if(this.triangulation_=new HU(e,r,y,m,g*_,b),this.triangulation_.getTriangles().length===0){this.state=Se.EMPTY;return}this.sourceZ_=n.getZForResolution(g);let w=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(w[1]=fn(w[1],m[1],m[3]),w[3]=fn(w[3],m[1],m[3])):w=Pa(w,m)),!a_(w))this.state=Se.EMPTY;else{let E=0,x=0;e.canWrapX()&&(E=vt(v),x=Math.floor((w[0]-v[0])/E)),Jk(w.slice(),e,!0).forEach(T=>{const P=n.getTileRangeForExtentAndZ(T,this.sourceZ_);for(let B=P.minX;B<=P.maxX;B++)for(let F=P.minY;F<=P.maxY;F++){const z=c(this.sourceZ_,B,F,o);if(z){const j=x*E;this.sourceTiles_.push({tile:z,offset:j})}}++x}),this.sourceTiles_.length===0&&(this.state=Se.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{const r=n.tile;if(r&&r.getState()==Se.LOADED){const i=this.sourceTileGrid_.getTileCoordExtent(r.tileCoord);i[0]+=n.offset,i[2]+=n.offset;const s=this.clipExtent_?.slice();s&&(s[0]+=n.offset,s[2]+=n.offset),e.push({extent:i,clipExtent:s,image:r.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=Se.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],a=this.targetTileGrid_.getResolution(n),o=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=KU(i,s,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=Se.LOADED}this.changed()}load(){if(this.state==Se.IDLE){this.state=Se.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const r=n.getState();if(r==Se.IDLE||r==Se.LOADING){e++;const i=ht(n,Ue.CHANGE,function(s){const a=n.getState();(a==Se.LOADED||a==Se.ERROR||a==Se.EMPTY)&&($t(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},r,i){n.getState()==Se.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach($t),this.sourcesListenerKeys_=null}release(){this.canvas_&&(jd(this.canvas_.getContext("2d")),iu.push(this.canvas_),this.canvas_=null),super.release()}}class mM extends Dm{constructor(e,n,r,i,s,a){super(e,n,a),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=Se.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=Se.ERROR,this.unlistenImage_(),this.image_=XU(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=Se.LOADED:this.state=Se.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==Se.ERROR&&(this.state=Se.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Se.IDLE&&(this.state=Se.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=U$(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function XU(){const t=qn(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class ZU{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return yt(r!==void 0,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return yt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){yt(!(e in this.entries_),"Tried to set a value for a key that is used already");const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}class O1{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Ml(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new O1(t,e,n,r)}function BT(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function zu(t,e,n){return t+"/"+e+"/"+n}function gM(t){return zu(t[0],t[1],t[2])}function JU(t){const[e,n,r]=t.substring(t.lastIndexOf("/")+1,t.length).split(",").map(Number);return zu(e,n,r)}function yM(t){return t.split("/").map(Number)}function QU(t){return(t[1]<<t[0])+t[2]}function eY(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}const Sa={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class tY extends fm{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(Sa.PRELOAD)}setPreload(e){this.set(Sa.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(Sa.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(Sa.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class _M extends r1{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=yi(),this.tmpTileRange_=new O1(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==Se.LOADED||r==Se.EMPTY||r==Se.ERROR&&!i}getTile(e,n,r,i){const s=i.pixelRatio,a=i.viewState.projection,o=this.getLayer();let c=o.getSource().getTile(e,n,r,s,a);return c.getState()==Se.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(c)||(c=c.getInterimTile()),c}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=yn(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!Zo(s,i))return null;const a=n.pixelRatio,o=n.viewState.projection,l=n.viewState,c=r.getRenderSource(),u=c.getTileGridForProjection(l.projection),d=c.getTilePixelRatio(n.pixelRatio);for(let h=u.getZForResolution(l.resolution);h>=u.getMinZoom();--h){const f=u.getTileCoordForCoordAndZ(i,h),p=c.getTile(h,f[1],f[2],a,o);if(!(p instanceof mM||p instanceof O_)||p instanceof O_&&p.getState()===Se.EMPTY)return null;if(p.getState()!==Se.LOADED)continue;const m=u.getOrigin(h),y=Cr(u.getTileSize(h)),v=u.getResolution(h),b=Math.floor(d*((i[0]-m[0])/v-f[1]*y[0])),g=Math.floor(d*((m[1]-i[1])/v-f[2]*y[1])),_=Math.round(d*c.getGutterForProjection(l.projection));return this.getImageData(p.getImage(),b+_,g+_)}return null}loadedTileCallback(e,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(e,n,r):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,a=i.resolution,o=i.center,l=i.rotation,c=e.pixelRatio,u=this.getLayer(),d=u.getSource(),h=d.getRevision(),f=d.getTileGridForProjection(s),p=f.getZForResolution(a,d.zDirection),m=f.getResolution(p);let y=e.extent;const v=e.viewState.resolution,b=d.getTilePixelRatio(c);this.prepareContainer(e,n);const g=this.context.canvas.width,_=this.context.canvas.height,w=r.extent&&As(r.extent);w&&(y=Pa(y,As(r.extent)));const E=m*g/2/b,x=m*_/2/b,S=[o[0]-E,o[1]-x,o[0]+E,o[1]+x],T=f.getTileRangeForExtentAndZ(y,p),P={};P[p]={};const B=this.createLoadedTileFinder(d,s,P),F=this.tmpExtent,z=this.tmpTileRange_;this.newTiles_=!1;const j=l?l_(i.center,v,l,e.size):void 0;for(let ie=T.minX;ie<=T.maxX;++ie)for(let N=T.minY;N<=T.maxY;++N){if(l&&!f.tileCoordIntersectsViewport([p,ie,N],j))continue;const te=this.getTile(p,ie,N,e);if(this.isDrawableTile(te)){const pe=tt(this);if(te.getState()==Se.LOADED){P[p][te.tileCoord.toString()]=te;let L=te.inTransition(pe);L&&r.opacity!==1&&(te.endTransition(pe),L=!1),!this.newTiles_&&(L||!this.renderedTiles.includes(te))&&(this.newTiles_=!0)}if(te.getAlpha(pe,e.time)===1)continue}const A=f.getTileCoordChildTileRange(te.tileCoord,z,F);let se=!1;A&&(se=B(p+1,A)),se||f.forEachTileCoordParentTileRange(te.tileCoord,B,z,F)}const I=m/a*c/b,O=this.getRenderContext(e);Fi(this.tempTransform,g/2,_/2,I,I,0,-g/2,-_/2),w&&this.clipUnrotated(O,e,w),d.getInterpolate()||(O.imageSmoothingEnabled=!1),this.preRender(O,e),this.renderedTiles.length=0;let M=Object.keys(P).map(Number);M.sort(ns);let H,Z,le;r.opacity===1&&(!this.containerReused||d.getOpaque(e.viewState.projection))?M=M.reverse():(H=[],Z=[]);for(let ie=M.length-1;ie>=0;--ie){const N=M[ie],te=d.getTilePixelSize(N,c,s),se=f.getResolution(N)/m,pe=te[0]*se*I,L=te[1]*se*I,ve=f.getTileCoordForCoordAndZ(oo(S),N),Pe=f.getTileCoordExtent(ve),ne=yn(this.tempTransform,[b*(Pe[0]-S[0])/m,b*(S[3]-Pe[3])/m]),De=b*d.getGutterForProjection(s),G=P[N];for(const k in G){const C=G[k],$=C.tileCoord,U=ve[1]-$[1],W=Math.round(ne[0]-(U-1)*pe),V=ve[2]-$[2],ee=Math.round(ne[1]-(V-1)*L),R=Math.round(ne[0]-U*pe),D=Math.round(ne[1]-V*L),Y=W-R,J=ee-D,he=p===N,ce=he&&C.getAlpha(tt(this),e.time)!==1;let X=!1;if(!ce)if(H){le=[R,D,R+Y,D,R+Y,D+J,R,D+J];for(let re=0,Te=H.length;re<Te;++re)if(p!==N&&N<Z[re]){const Re=H[re];hn([R,D,R+Y,D+J],[Re[0],Re[3],Re[4],Re[7]])&&(X||(O.save(),X=!0),O.beginPath(),O.moveTo(le[0],le[1]),O.lineTo(le[2],le[3]),O.lineTo(le[4],le[5]),O.lineTo(le[6],le[7]),O.moveTo(Re[6],Re[7]),O.lineTo(Re[4],Re[5]),O.lineTo(Re[2],Re[3]),O.lineTo(Re[0],Re[1]),O.clip())}H.push(le),Z.push(N)}else O.clearRect(R,D,Y,J);this.drawTileImage(C,e,R,D,Y,J,De,he),H&&!ce?(X&&O.restore(),this.renderedTiles.unshift(C)):this.renderedTiles.push(C),this.updateUsedTiles(e.usedTiles,d,C)}}return this.renderedRevision=h,this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!Tu(this.renderedExtent_,S),this.renderedExtent_=S,this.renderedPixelRatio=c,this.renderedProjection=s,this.manageTilePyramid(e,d,f,c,s,y,p,u.getPreload()),this.scheduleExpireCache(e,d),this.postRender(this.context,e),r.extent&&O.restore(),O.imageSmoothingEnabled=!0,this.container}drawTileImage(e,n,r,i,s,a,o,l){const c=this.getTileImage(e);if(!c)return;const u=this.getRenderContext(n),d=tt(this),h=n.layerStatesArray[n.layerIndex],f=h.opacity*(l?e.getAlpha(d,n.time):1),p=f!==u.globalAlpha;p&&(u.save(),u.globalAlpha=f),u.drawImage(c,o,o,c.width-2*o,c.height-2*o,r,i,s,a),p&&u.restore(),f!==h.opacity?n.animate=!0:l&&e.endTransition(d)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=function(i,s,a){const o=tt(i);o in a.usedTiles&&i.expireCache(a.viewState.projection,a.usedTiles[o])}.bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=tt(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,a,o,l,c){const u=tt(n);u in e.wantedTiles||(e.wantedTiles[u]={});const d=e.wantedTiles[u],h=e.tileQueue,f=r.getMinZoom(),p=e.viewState.rotation,m=p?l_(e.viewState.center,e.viewState.resolution,p,e.size):void 0;let y=0,v,b,g,_,w,E;for(E=f;E<=o;++E)for(b=r.getTileRangeForExtentAndZ(a,E,b),g=r.getResolution(E),_=b.minX;_<=b.maxX;++_)for(w=b.minY;w<=b.maxY;++w)p&&!r.tileCoordIntersectsViewport([E,_,w],m)||(o-E<=l?(++y,v=n.getTile(E,_,w,i,s),v.getState()==Se.IDLE&&(d[v.getKey()]=!0,h.isKeyQueued(v.getKey())||h.enqueue([v,u,r.getTileCoordCenter(v.tileCoord),g])),c!==void 0&&c(v)):n.useTile(E,_,w,s));n.updateCacheSize(y,s)}}class nY extends tY{constructor(e){super(e)}createRenderer(){return new _M(this)}}const rY={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},VT={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class iY extends _M{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=ei(),this.tileClipContexts_=null}prepareTile(e,n,r){let i;const s=e.getState();return(s===Se.LOADED||s===Se.ERROR)&&(this.updateExecutorGroup_(e,n,r),this.tileImageNeedsRender_(e)&&(i=!0)),i}getTile(e,n,r,i){const s=i.pixelRatio,a=i.viewState,o=a.resolution,l=a.projection,c=this.getLayer(),u=c.getSource().getTile(e,n,r,s,l),d=i.viewHints,h=!(d[Gt.ANIMATING]||d[Gt.INTERACTING]);return(h||!u.wantedResolution)&&(u.wantedResolution=o),this.prepareTile(u,s,l)&&(h||Date.now()-i.time<8)&&c.getRenderMode()!=="vector"&&this.renderTileImage_(u,i),super.getTile(e,n,r,i)}isDrawableTile(e){const n=this.getLayer();return super.isDrawableTile(e)&&(n.getRenderMode()==="vector"?tt(n)in e.executorGroups:e.hasContext(n))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){const n=this.getLayer().getRevision();return this.renderedLayerRevision_!==n&&(this.renderedLayerRevision_=n,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,n,r){const i=this.getLayer(),s=i.getRevision(),a=i.getRenderOrder()||null,o=e.wantedResolution,l=e.getReplayState(i);if(!l.dirty&&l.renderedResolution===o&&l.renderedRevision==s&&l.renderedRenderOrder==a)return;const c=i.getSource(),u=!!i.getDeclutter(),d=c.getTileGrid(),f=c.getTileGridForProjection(r).getTileCoordExtent(e.wrappedTileCoord),p=c.getSourceTiles(n,r,e),m=tt(i);delete e.hitDetectionImageData[m],e.executorGroups[m]=[],l.dirty=!1;for(let y=0,v=p.length;y<v;++y){const b=p[y];if(b.getState()!=Se.LOADED)continue;const g=b.tileCoord,_=d.getTileCoordExtent(g),w=Pa(f,_),E=Ma(w,i.getRenderBuffer()*o,this.tmpExtent),x=Tu(_,w)?null:E,S=new DI(0,w,o,n),T=v_(o,n),P=function(I,O){let M;const H=I.getStyleFunction()||i.getStyleFunction();if(H&&(M=H(I,o)),M){const Z=this.renderFeature(I,T,M,S,u,O);l.dirty=l.dirty||Z}},B=b.getFeatures();a&&a!==l.renderedRenderOrder&&B.sort(a);for(let I=0,O=B.length;I<O;++I){const M=B[I];(!x||hn(x,M.getGeometry().getExtent()))&&P.call(this,M,I)}const F=S.finish(),z=i.getRenderMode()!=="vector"&&u&&p.length===1?null:w,j=new OI(z,o,n,c.getOverlaps(),F,i.getRenderBuffer(),!0);e.executorGroups[m].push(j)}l.renderedRevision=s,l.renderedRenderOrder=a,l.renderedResolution=o}forEachFeatureAtCoordinate(e,n,r,i,s){const a=n.viewState.resolution,o=n.viewState.rotation;r=r??0;const l=this.getLayer(),u=l.getSource().getTileGridForProjection(n.viewState.projection),d=i_([e]);Ma(d,a*r,d);const h={},f=function(y,v,b){let g=y.getId();g===void 0&&(g=tt(y));const _=h[g];if(_){if(_!==!0&&b<_.distanceSq){if(b===0)return h[g]=!0,s.splice(s.lastIndexOf(_),1),i(y,l,v);_.geometry=v,_.distanceSq=b}}else{if(b===0)return h[g]=!0,i(y,l,v);s.push(h[g]={feature:y,layer:l,geometry:v,distanceSq:b,callback:i})}},p=this.renderedTiles;let m;for(let y=0,v=p.length;!m&&y<v;++y){const b=p[y],g=u.getTileCoordExtent(b.wrappedTileCoord);if(!hn(g,d))continue;const _=tt(l),w=[b.executorGroups[_]],E=l.getDeclutter();w.some(x=>{const S=E?n.declutter[E].all().map(T=>T.value):null;for(let T=0,P=x.length;T<P;++T)if(m=x[T].forEachFeatureAtCoordinate(e,a,o,r,f,S),m)return!0})}return m}getFeatures(e){return new Promise((n,r)=>{const i=this.getLayer(),s=tt(i),a=i.getSource(),o=this.renderedProjection,l=o.getExtent(),c=this.renderedResolution,u=a.getTileGridForProjection(o),d=yn(this.renderedPixelToCoordinateTransform_,e.slice()),h=u.getTileCoordForCoordAndResolution(d,c);let f;for(let g=0,_=this.renderedTiles.length;g<_;++g)if(h.toString()===this.renderedTiles[g].tileCoord.toString()){if(f=this.renderedTiles[g],f.getState()===Se.LOADED){const w=u.getTileCoordExtent(f.tileCoord);a.getWrapX()&&o.canWrapX()&&!Is(l,w)&&D0(d,o);break}f=void 0}if(!f||f.loadingSourceTiles>0){n([]);return}const p=u.getTileCoordExtent(f.wrappedTileCoord),m=oo(p),y=[(d[0]-m[0])/c,(m[1]-d[1])/c],v=f.getSourceTiles().reduce(function(g,_){return g.concat(_.getFeatures())},[]);let b=f.hitDetectionImageData[s];if(!b){const g=Cr(u.getTileSize(u.getZForResolution(c,a.zDirection))),_=this.renderedRotation_,w=[this.getRenderTransform(u.getTileCoordCenter(f.wrappedTileCoord),c,0,Xr,g[0]*Xr,g[1]*Xr,0)];b=LI(g,w,v,i.getStyleFunction(),u.getTileCoordExtent(f.wrappedTileCoord),f.getReplayState(i).renderedResolution,_),f.hitDetectionImageData[s]=b}n(FI(y,v,b))})}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,n){const r=this.context,i=r.globalAlpha;r.globalAlpha=n.opacity;const s=e.viewHints,a=!(s[Gt.ANIMATING]||s[Gt.INTERACTING]),o=this.renderedTiles;for(let l=0,c=o.length;l<c;++l){const u=o[l],d=u.executorGroups[tt(this.getLayer())],h=this.getLayer().getDeclutter();if(d)for(let f=d.length-1;f>=0;--f)d[f].execute(this.context,[this.context.canvas.width,this.context.canvas.height],this.getTileRenderTransform(u,e),e.viewState.rotation,a,ip,h?e.declutter[h]:void 0)}r.globalAlpha=i}renderDeferredInternal(e){const r=this.renderedTiles.reduce((o,l,c)=>(l.executorGroups[tt(this.getLayer())].forEach(u=>o.push({executorGroup:u,index:c})),o),[]),i=r.map(({executorGroup:o})=>o.getDeferredZIndexContexts()),s={};for(let o=0,l=r.length;o<l;++o){const c=r[o].executorGroup.getDeferredZIndexContexts();for(const u in c)s[u]=!0}Object.keys(s).sort(ns).map(Number).forEach(o=>{i.forEach((l,c)=>{l[o]&&(l[o].forEach(u=>{const{executorGroup:d,index:h}=r[c],f=d.getRenderedContext(),p=f.globalAlpha;f.globalAlpha=this.renderedOpacity_;const m=this.tileClipContexts_[h];m&&m.draw(f),u.draw(f),m&&f.restore(),f.globalAlpha=p,u.clear()}),l[o].length=0)})})}getTileRenderTransform(e,n){const r=n.pixelRatio,i=n.viewState,s=i.center,a=i.resolution,o=i.rotation,l=n.size,c=Math.round(l[0]*r),u=Math.round(l[1]*r),h=this.getLayer().getSource().getTileGridForProjection(n.viewState.projection),f=e.tileCoord,p=h.getTileCoordExtent(e.wrappedTileCoord),m=h.getTileCoordExtent(f,this.tmpExtent)[0]-p[0];return R0(Cg(this.inversePixelTransform.slice(),1/r,1/r),this.getRenderTransform(s,a,o,r,c,u,m))}postRender(e,n){const r=n.viewHints,i=!(r[Gt.ANIMATING]||r[Gt.INTERACTING]);this.renderedPixelToCoordinateTransform_=n.pixelToCoordinateTransform.slice(),this.renderedRotation_=n.viewState.rotation,this.renderedOpacity_=n.layerStatesArray[n.layerIndex].opacity;const s=this.getLayer(),a=s.getRenderMode(),o=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const l=s.getDeclutter(),c=l?VT[a].filter(_=>!ip.includes(_)):VT[a],u=n.viewState,d=u.rotation,h=s.getSource(),p=h.getTileGridForProjection(u.projection).getZForResolution(u.resolution,h.zDirection),m=this.renderedTiles,y=[],v=[],b=[];let g=!0;for(let _=m.length-1;_>=0;--_){const w=m[_];g=g&&!w.getReplayState(s).dirty;const E=w.executorGroups[tt(s)].filter(z=>z.hasExecutors(c));if(E.length===0)continue;const x=this.getTileRenderTransform(w,n),S=w.tileCoord[0];let T=!1;const P=E[0].getClipCoords(x);let B=e,F;if(P){F=new n1,B=F.getContext();for(let z=0,j=y.length;z<j;++z)if(p!==S&&S<v[z]){const I=y[z];hn([P[0],P[3],P[4],P[7]],[I[0],I[3],I[4],I[7]])&&(T||(B.save(),T=!0),B.beginPath(),B.moveTo(P[0],P[1]),B.lineTo(P[2],P[3]),B.lineTo(P[4],P[5]),B.lineTo(P[6],P[7]),B.moveTo(I[6],I[7]),B.lineTo(I[4],I[5]),B.lineTo(I[2],I[3]),B.lineTo(I[0],I[1]),B.clip())}y.push(P),v.push(S)}for(let z=0,j=E.length;z<j;++z)E[z].execute(e,[e.canvas.width,e.canvas.height],x,d,i,c,n.declutter?.[l]);T&&(B===e?B.restore():b[_]=F)}e.globalAlpha=o,this.ready=g,this.tileClipContexts_=b,n.declutter||this.renderDeferredInternal(n),super.postRender(e,n)}renderFeature(e,n,r,i,s,a){if(!r)return!1;let o=!1;if(Array.isArray(r))for(let l=0,c=r.length;l<c;++l)o=sp(i,e,r[l],n,this.boundHandleStyleImageChange_,void 0,s,a)||o;else o=sp(i,e,r,n,this.boundHandleStyleImageChange_,void 0,s,a);return o}tileImageNeedsRender_(e){const n=this.getLayer();if(n.getRenderMode()==="vector")return!1;const r=e.getReplayState(n),i=n.getRevision(),s=e.wantedResolution;return r.renderedTileResolution!==s||r.renderedTileRevision!==i}renderTileImage_(e,n){const r=this.getLayer(),i=e.getReplayState(r),s=r.getRevision(),a=e.executorGroups[tt(r)];i.renderedTileRevision=s;const o=e.wrappedTileCoord,l=o[0],c=r.getSource();let u=n.pixelRatio;const h=n.viewState.projection,f=c.getTileGridForProjection(h),p=f.getResolution(e.tileCoord[0]),m=n.pixelRatio/e.wantedResolution*p,y=f.getResolution(l),v=e.getContext(r);u=Math.round(Math.max(u,m/u));const b=c.getTilePixelSize(l,u,h);v.canvas.width=b[0],v.canvas.height=b[1];const g=u/m;if(g!==1){const x=yE(this.tmpTransform_);Cg(x,g,g),v.setTransform.apply(v,x)}const _=f.getTileCoordExtent(o,this.tmpExtent),w=m/y,E=yE(this.tmpTransform_);Cg(E,w,-w),s3(E,-_[0],-_[3]);for(let x=0,S=a.length;x<S;++x)a[x].execute(v,[v.canvas.width*g,v.canvas.height*g],E,0,!0,rY[r.getRenderMode()],null);i.renderedTileResolution=e.wantedResolution}}class pf extends _m{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un;const r=e.renderMode||"hybrid";yt(r=="hybrid"||r=="vector","`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new iY(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(Sa.PRELOAD)}getUseInterimTilesOnError(){return this.get(Sa.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(Sa.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(Sa.USE_INTERIM_TILES_ON_ERROR,e)}}class L1 extends ZU{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),r=yM(e)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(gM(i.tileCoord)),i.release())})}}const ty={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},Pl=[0,0,0],ca=5;class Om{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,yt(j$(this.resolutions_,(i,s)=>s-i),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,yt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=oo(r)),yt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,yt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:K0,yt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,s)=>{const a=new O1(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const o=this.getTileRangeForExtentAndZ(r,s);a.minX=Math.max(o.minX,a.minX),a.maxX=Math.min(o.maxX,a.maxX),a.minY=Math.max(o.minY,a.minY),a.maxY=Math.min(o.maxY,a.maxY)}return a}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,a=i.maxX;s<=a;++s)for(let o=i.minY,l=i.maxY;o<=l;++o)r([n,s,o])}forEachTileCoordParentTileRange(e,n,r,i){let s,a,o,l=null,c=e[0]-1;for(this.zoomFactor_===2?(a=e[1],o=e[2]):l=this.getTileCoordExtent(e,i);c>=this.minZoom;){if(a!==void 0&&o!==void 0?(a=Math.floor(a/2),o=Math.floor(o/2),s=Ml(a,a,o,o,r)):s=this.getTileRangeForExtentAndZ(l,c,r),n(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,a=e[2]*2;return Ml(s,s+1,a,a+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],a=e[2];if(n===i)return Ml(s,a,s,a,r);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-i),c=Math.floor(s*l),u=Math.floor(a*l);if(n<i)return Ml(c,c,u,u,r);const d=Math.floor(l*(s+1))-1,h=Math.floor(l*(a+1))-1;return Ml(c,d,u,h,r)}const o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,Pl);const i=Pl[1],s=Pl[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,Pl);const a=Pl[1],o=Pl[2];return Ml(i,a,s,o,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=Cr(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=Cr(this.getTileSize(e[0]),this.tmpSize_),a=r[0]+e[1]*s[0]*i,o=r[1]-(e[2]+1)*s[1]*i,l=a+s[0]*i,c=o+s[1]*i;return Gs(a,o,l,c,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const a=this.getZForResolution(r),o=r/this.getResolution(a),l=this.getOrigin(a),c=Cr(this.getTileSize(a),this.tmpSize_);let u=o*(e-l[0])/r/c[0],d=o*(l[1]-n)/r/c[1];return i?(u=Ph(u,ca)-1,d=Ph(d,ca)-1):(u=Mh(u,ca),d=Mh(d,ca)),BT(a,u,d,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const a=this.getOrigin(r),o=this.getResolution(r),l=Cr(this.getTileSize(r),this.tmpSize_);let c=(e-a[0])/o/l[0],u=(a[1]-n)/o/l[1];return i?(c=Ph(c,ca)-1,u=Ph(u,ca)-1):(c=Mh(c,ca),u=Mh(u,ca)),BT(r,c,u,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=C0(this.resolutions_,e,n||0);return fn(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return uI(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}function vM(t){let e=t.getDefaultTileGrid();return e||(e=oY(t),t.setDefaultTileGrid(e)),e}function sY(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=ih(n);if(!Zo(s,i)){const a=vt(s),o=Math.ceil((s[0]-i[0])/a);return i[0]+=a*o,t.getTileCoordForCoordAndZ(i,r)}return e}function aY(t,e,n,r){r=r!==void 0?r:"top-left";const i=bM(t,e,n);return new Om({extent:t,origin:c3(t,r),resolutions:i,tileSize:n})}function F1(t){const e=t||{},n=e.extent||tn("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:bM(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Om(r)}function bM(t,e,n,r){e=e!==void 0?e:bI,n=Cr(n!==void 0?n:K0);const i=jn(t),s=vt(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const a=e+1,o=new Array(a);for(let l=0;l<a;++l)o[l]=r/Math.pow(2,l);return o}function oY(t,e,n,r){const i=ih(t);return aY(i,e,n,r)}function ih(t){t=tn(t);let e=t.getExtent();if(!e){const n=180*xu.degrees/t.getMetersPerUnit();e=Gs(-n,-n,n,n)}return e}class lY extends jI{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&Cr(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new L1(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let a=!0,o,l,c;for(let u=r.minX;u<=r.maxX;++u)for(let d=r.minY;d<=r.maxY;++d)l=zu(n,u,d),c=!1,s.containsKey(l)&&(o=s.get(l),c=o.getState()===Se.LOADED,c&&(c=i(o)!==!1)),c||(a=!1);return a}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return We()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:vM(e)}getTileCacheForProjection(e){const n=this.getProjection();return yt(n===null||va(n,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),a=Cr(i.getTileSize(e),this.tmpSize);return s==1?a:T$(a,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=sY(r,e,n)),eY(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}}class uY extends Ws{constructor(e,n){super(e),this.tile=n}}function cY(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(a,o,l){if(a)return t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(i,a[2].toString()).replace(s,function(){const c=a[0],u=e.getFullTileRange(c);if(!u)throw new Error("The {-y} placeholder requires a tile grid with extent");return(u.getHeight()-a[2]-1).toString()})}}function wM(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=cY(t[i],e);return dY(r)}function dY(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=QU(e),s=nu(i,t.length);return t[s](e,n,r)}}function hY(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class Lm extends lY{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Lm.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=tt(n),i=n.getState();let s;i==Se.LOADING?(this.tileLoadingKeys_[r]=!0,s=ty.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==Se.ERROR?ty.TILELOADERROR:i==Se.LOADED?ty.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new uY(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=hY(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(wM(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=zu(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class EM extends Lm{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:fY,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:mM,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!va(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!va(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||va(n,e)))return this.tileGrid;const r=tt(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=vM(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||va(n,e))return this.tileCache;const r=tt(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new L1(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,a){const o=[e,n,r],l=this.getTileCoordForTileUrlFunction(o,s),c=l?this.tileUrlFunction(l,i,s):void 0,u=new this.tileClass(o,c!==void 0?Se.IDLE:Se.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(Ue.CHANGE,this.handleTileChange.bind(this)),u}getTile(e,n,r,i,s){const a=this.getProjection();if(!a||!s||va(a,s))return this.getTileInternal(e,n,r,i,a||s);const o=this.getTileCacheForProjection(s),l=[e,n,r];let c;const u=gM(l);o.containsKey(u)&&(c=o.get(u));const d=this.getKey();if(c&&c.key==d)return c;const h=this.getTileGridForProjection(a),f=this.getTileGridForProjection(s),p=this.getTileCoordForTileUrlFunction(l,s),m=new O_(a,h,s,f,l,p,this.getTilePixelRatio(i),this.getGutter(),(y,v,b,g)=>this.getTileInternal(y,v,b,g,a),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return m.key=d,c?(m.interimTile=c,m.refreshInterimChain(),o.replace(u,m)):o.set(u,m),m}getTileInternal(e,n,r,i,s){let a=null;const o=zu(e,n,r),l=this.getKey();if(!this.tileCache.containsKey(o))a=this.createTile_(e,n,r,i,s,l),this.tileCache.set(o,a);else if(a=this.tileCache.get(o),a.key!=l){const c=a;a=this.createTile_(e,n,r,i,s,l),c.getState()==Se.IDLE?a.interimTile=c.interimTile:a.interimTile=c,a.refreshInterimChain(),this.tileCache.replace(o,a)}return a}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=tn(e);if(r){const i=tt(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function fY(t,e){t.getImage().src=e}class pY extends EM{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:F1({extent:ih(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}function mY(t,e,n,r){const i=document.createElement("script"),s="olc_"+tt(e);function a(){delete window[s],i.parentNode.removeChild(i)}i.async=!0,i.src=t+(t.includes("?")?"&":"?")+"callback="+s;const o=setTimeout(function(){a(),n&&n()},1e4);window[s]=function(l){clearTimeout(o),a(),e(l)},document.head.appendChild(i)}let gY=class extends Dm{constructor(e,n,r,i,s,a){super(e,n,a),this.extent=null,this.format_=i,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=s,this.url_=r,this.key=r}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==Se.IDLE&&(this.setState(Se.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,n){this.setFeatures(e)}onError(){this.setState(Se.ERROR)}setFeatures(e){this.features_=e,this.setState(Se.LOADED)}setLoader(e){this.loader_=e}};const GT=[];class yY extends Dm{constructor(e,n,r,i){super(e,n,{transition:0}),this.context_={},this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=i.bind(void 0,this),this.wrappedTileCoord=r}getContext(e){const n=tt(e);return n in this.context_||(this.context_[n]=qn(1,1,GT)),this.context_[n]}hasContext(e){return tt(e)in this.context_}getImage(e){return this.hasContext(e)?this.getContext(e).canvas:null}getReplayState(e){const n=tt(e);return n in this.replayState_||(this.replayState_[n]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[n]}load(){this.getSourceTiles()}release(){for(const e in this.context_){const n=this.context_[e];jd(n),GT.push(n.canvas),delete this.context_[e]}super.release()}}class TM extends Lm{constructor(e){const n=e.projection||"EPSG:3857",r=e.extent||ih(n),i=e.tileGrid||F1({extent:r,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:n,state:e.state,tileGrid:i,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:xM,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.sourceTileCache=new L1(this.tileCache.highWaterMark),this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:gY,this.tileGrids_={}}getFeaturesInExtent(e){const n=[],r=this.tileCache;if(r.getCount()===0)return n;const i=yM(r.peekFirstKey())[0],s=this.tileGrid;return r.forEach(function(a){if(a.tileCoord[0]!==i||a.getState()!==Se.LOADED)return;const o=a.getSourceTiles();for(let l=0,c=o.length;l<c;++l){const u=o[l],d=u.tileCoord;if(hn(e,s.getTileCoordExtent(d))){const h=u.getFeatures();if(h)for(let f=0,p=h.length;f<p;++f){const m=h[f],y=m.getGeometry();hn(e,y.getExtent())&&n.push(m)}}}}),n}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(e,n){const r=this.getTileCacheForProjection(e),i=Object.keys(n).reduce((s,a)=>{const o=JU(a),l=r.peek(o);if(l){const c=l.sourceTiles;for(let u=0,d=c.length;u<d;++u)s[c[u].getKey()]=!0}return s},{});super.expireCache(e,n),this.sourceTileCache.expireCache(i)}getSourceTiles(e,n,r){if(r.getState()===Se.IDLE){r.setState(Se.LOADING);const i=r.wrappedTileCoord,s=this.getTileGridForProjection(n),a=s.getTileCoordExtent(i),o=i[0],l=s.getResolution(o);Ma(a,-l,a);const c=this.tileGrid,u=c.getExtent();u&&Pa(a,u,a);const d=c.getZForResolution(l,this.zDirection);c.forEachTileCoord(a,d,h=>{const f=this.tileUrlFunction(h,e,n),p=this.sourceTileCache.containsKey(f)?this.sourceTileCache.get(f):new this.tileClass(h,f?Se.IDLE:Se.EMPTY,f,this.format_,this.tileLoadFunction);r.sourceTiles.push(p);const m=p.getState();if(m<Se.LOADED){const y=v=>{this.handleTileChange(v);const b=p.getState();if(b===Se.LOADED||b===Se.ERROR){const g=p.getKey();g in r.errorTileKeys?p.getState()===Se.LOADED&&delete r.errorTileKeys[g]:r.loadingSourceTiles--,b===Se.ERROR?r.errorTileKeys[g]=!0:p.removeEventListener(Ue.CHANGE,y),r.loadingSourceTiles===0&&r.setState(za(r.errorTileKeys)?Se.LOADED:Se.ERROR)}};p.addEventListener(Ue.CHANGE,y),r.loadingSourceTiles++}m===Se.IDLE&&(p.extent=c.getTileCoordExtent(h),p.projection=n,p.resolution=c.getResolution(h[0]),this.sourceTileCache.set(f,p),p.load())}),r.loadingSourceTiles||r.setState(r.sourceTiles.some(h=>h.getState()===Se.ERROR)?Se.ERROR:Se.LOADED)}return r.sourceTiles}getTile(e,n,r,i,s){const a=zu(e,n,r),o=this.getKey();let l;if(this.tileCache.containsKey(a)&&(l=this.tileCache.get(a),l.key===o))return l;const c=[e,n,r];let u=this.getTileCoordForTileUrlFunction(c,s);const d=this.getTileGrid().getExtent(),h=this.getTileGridForProjection(s);if(u&&d){const m=h.getTileCoordExtent(u);Ma(m,-h.getResolution(e),m),hn(d,m)||(u=null)}let f=!0;if(u!==null){const m=this.tileGrid,y=h.getResolution(e),v=m.getZForResolution(y,1),b=h.getTileCoordExtent(u);Ma(b,-y,b),m.forEachTileCoord(b,v,g=>{f=f&&!this.tileUrlFunction(g,i,s)})}const p=new yY(c,f?Se.EMPTY:Se.IDLE,u,this.getSourceTiles.bind(this,i,s));return p.key=o,l?(p.interimTile=l,p.refreshInterimChain(),this.tileCache.replace(a,p)):this.tileCache.set(a,p),p}getTileGridForProjection(e){const n=e.getCode();let r=this.tileGrids_[n];if(!r){const i=this.tileGrid,s=i.getResolutions().slice(),a=s.map(function(c,u){return i.getOrigin(u)}),o=s.map(function(c,u){return i.getTileSize(u)}),l=bI+1;for(let c=s.length;c<l;++c)s.push(s[c-1]/2),a.push(a[c-1]),o.push(o[c-1]);r=new Om({extent:i.getExtent(),origins:a,resolutions:s,tileSizes:o}),this.tileGrids_[n]=r}return r}getTilePixelRatio(e){return e}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=Cr(i.getTileSize(e),this.tmpSize);return[Math.round(s[0]*n),Math.round(s[1]*n)]}updateCacheSize(e,n){super.updateCacheSize(e*2,n),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(n).highWaterMark}}function xM(t,e){t.setLoader(function(n,r,i){zI(e,t.getFormat(),n,r,i,t.onLoad.bind(t),t.onError.bind(t))})}const _Y='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class vY extends pY{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[_Y];const r=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",i=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}}const hp=1/0;class bY{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,zd(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){yt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=hp?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],a=r[e],o=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),u=c<i&&r[c]<r[l]?c:l;n[e]=n[u],r[e]=r[u],e=u}n[e]=s,r[e]=a,this.siftDown_(o,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],a=i[n];for(;n>e;){const o=this.getParentIndex_(n);if(i[o]>a)r[n]=r[o],i[n]=i[o],n=o;else break}r[n]=s,i[n]=a}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let a,o,l;for(o=0;o<s;++o)a=n[o],l=e(a),l==hp?delete this.queuedElements_[this.keyFunction_(a)]:(r[i]=l,n[i++]=a);n.length=i,r.length=i,this.heapify_()}}class wY extends bY{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(Ue.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===Se.LOADED||r===Se.ERROR||r===Se.EMPTY){r!==Se.ERROR&&n.removeEventListener(Ue.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0,i,s,a;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],a=s.getKey(),i=s.getState(),i===Se.IDLE&&!(a in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[a]=!0,++this.tilesLoading_,++r,s.load())}}function EY(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return hp;const s=t.viewState.center,a=r[0]-s[0],o=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(a*a+o*o)/i}class TY extends EM{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:tn("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)mY(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const n=new XMLHttpRequest;n.addEventListener("load",this.onXHRLoad_.bind(this)),n.addEventListener("error",this.onXHRError_.bind(this)),n.open("GET",e.url),n.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const n=e.target;if(!n.status||n.status>=200&&n.status<300){let r;try{r=JSON.parse(n.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(r)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const n=tn("EPSG:4326"),r=this.getProjection();let i;if(e.bounds!==void 0){const c=Wd(n,r);i=p3(e.bounds,c)}const s=ih(r),a=e.minzoom||0,o=e.maxzoom||22,l=F1({extent:s,maxZoom:o,minZoom:a,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=wM(e.tiles,l),e.attribution&&!this.getAttributions()){const c=i!==void 0?i:s;this.setAttributions(function(u){return hn(c,u.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}var N1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */N1.read=function(t,e,n,r,i){var s,a,o=i*8-r-1,l=(1<<o)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=t[e+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=o;u>0;s=s*256+t[e+d],d+=h,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=r;u>0;a=a*256+t[e+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(f?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-c}return(f?-1:1)*a*Math.pow(2,s-r)};N1.write=function(t,e,n,r,i,s){var a,o,l,c=s*8-i-1,u=(1<<c)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(a++,l/=2),a+d>=u?(o=0,a=u):a+d>=1?(o=(e*l-1)*Math.pow(2,i),a=a+d):(o=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[n+f]=o&255,f+=p,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;t[n+f]=a&255,f+=p,a/=256,c-=8);t[n+f-p]|=m*128};var xY=bt,Uh=N1;function bt(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}bt.Varint=0;bt.Fixed64=1;bt.Bytes=2;bt.Fixed32=5;var L_=65536*65536,jT=1/L_,CY=12,CM=typeof TextDecoder>"u"?null:new TextDecoder("utf8");bt.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,s=this.pos;this.type=r&7,t(i,e,this),this.pos===s&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Yh(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=UT(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Yh(this.buf,this.pos)+Yh(this.buf,this.pos+4)*L_;return this.pos+=8,t},readSFixed64:function(){var t=Yh(this.buf,this.pos)+UT(this.buf,this.pos+4)*L_;return this.pos+=8,t},readFloat:function(){var t=Uh.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Uh.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e=this.buf,n,r;return r=e[this.pos++],n=r&127,r<128||(r=e[this.pos++],n|=(r&127)<<7,r<128)||(r=e[this.pos++],n|=(r&127)<<14,r<128)||(r=e[this.pos++],n|=(r&127)<<21,r<128)?n:(r=e[this.pos],n|=(r&15)<<28,SY(n,t,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=CY&&CM?VY(this.buf,e,t):BY(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==bt.Bytes)return t.push(this.readVarint(e));var n=_s(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==bt.Bytes)return t.push(this.readSVarint());var e=_s(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==bt.Bytes)return t.push(this.readBoolean());var e=_s(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==bt.Bytes)return t.push(this.readFloat());var e=_s(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==bt.Bytes)return t.push(this.readDouble());var e=_s(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==bt.Bytes)return t.push(this.readFixed32());var e=_s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==bt.Bytes)return t.push(this.readSFixed32());var e=_s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==bt.Bytes)return t.push(this.readFixed64());var e=_s(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==bt.Bytes)return t.push(this.readSFixed64());var e=_s(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=t&7;if(e===bt.Varint)for(;this.buf[this.pos++]>127;);else if(e===bt.Bytes)this.pos=this.readVarint()+this.pos;else if(e===bt.Fixed32)this.pos+=4;else if(e===bt.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+e)},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Ol(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Ol(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Ol(this.buf,t&-1,this.pos),Ol(this.buf,Math.floor(t*jT),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Ol(this.buf,t&-1,this.pos),Ol(this.buf,Math.floor(t*jT),this.pos+4),this.pos+=8},writeVarint:function(t){if(t=+t||0,t>268435455||t<0){RY(t,this);return}this.realloc(4),this.buf[this.pos++]=t&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=t>>>7&127)))},writeSVarint:function(t){this.writeVarint(t<0?-t*2-1:t*2)},writeBoolean:function(t){this.writeVarint(!!t)},writeString:function(t){t=String(t),this.realloc(t.length*4),this.pos++;var e=this.pos;this.pos=GY(this.buf,t,this.pos);var n=this.pos-e;n>=128&&zT(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Uh.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Uh.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&zT(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,bt.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,AY,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,MY,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,OY,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,PY,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,DY,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,LY,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,FY,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,NY,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,$Y,e)},writeBytesField:function(t,e){this.writeTag(t,bt.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,bt.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,bt.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,bt.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,bt.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,bt.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,bt.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,bt.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,bt.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,bt.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,!!e)}};function SY(t,e,n){var r=n.buf,i,s;if(s=r[n.pos++],i=(s&112)>>4,s<128||(s=r[n.pos++],i|=(s&127)<<3,s<128)||(s=r[n.pos++],i|=(s&127)<<10,s<128)||(s=r[n.pos++],i|=(s&127)<<17,s<128)||(s=r[n.pos++],i|=(s&127)<<24,s<128)||(s=r[n.pos++],i|=(s&1)<<31,s<128))return Dl(t,i,e);throw new Error("Expected varint not more than 10 bytes")}function _s(t){return t.type===bt.Bytes?t.readVarint()+t.pos:t.pos+1}function Dl(t,e,n){return n?e*4294967296+(t>>>0):(e>>>0)*4294967296+(t>>>0)}function RY(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(n=~(-t%4294967296),r=~(-t/4294967296),n^4294967295?n=n+1|0:(n=0,r=r+1|0)),t>=18446744073709552e3||t<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),kY(n,r,e),IY(r,e)}function kY(t,e,n){n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos++]=t&127|128,t>>>=7,n.buf[n.pos]=t&127}function IY(t,e){var n=(t&7)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=t&127)))))}function zT(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function AY(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function MY(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function PY(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function DY(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function OY(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function LY(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function FY(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function NY(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function $Y(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function Yh(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+t[e+3]*16777216}function Ol(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function UT(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function BY(t,e,n){for(var r="",i=e;i<n;){var s=t[i],a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o>n)break;var l,c,u;o===1?s<128&&(a=s):o===2?(l=t[i+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=t[i+1],c=t[i+2],(l&192)===128&&(c&192)===128&&(a=(s&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=t[i+1],c=t[i+2],u=t[i+3],(l&192)===128&&(c&192)===128&&(u&192)===128&&(a=(s&15)<<18|(l&63)<<12|(c&63)<<6|u&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),r+=String.fromCharCode(a),i+=o}return r}function VY(t,e,n){return CM.decode(t.subarray(e,n))}function GY(t,e,n){for(var r=0,i,s;r<e.length;r++){if(i=e.charCodeAt(r),i>55295&&i<57344)if(s)if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,s=i;continue}else i=s-55296<<10|i-56320|65536,s=null;else{i>56319||r+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):s=i;continue}else s&&(t[n++]=239,t[n++]=191,t[n++]=189,s=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=i&63|128)}return n}const jY=Tp(xY);class SM extends gI{constructor(e){super(),e=e||{},this.dataProjection=new M0({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:Zn,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,n,r,i){e.pos=n.geometry;const s=e.readVarint()+e.pos;let a=1,o=0,l=0,c=0,u=0,d=0;for(;e.pos<s;){if(!o){const h=e.readVarint();a=h&7,o=h>>3}if(o--,a===1||a===2)l+=e.readSVarint(),c+=e.readSVarint(),a===1&&u>d&&(i.push(u),d=u),r.push(l,c),u+=2;else if(a===7)u>d&&(r.push(r[d],r[d+1]),u+=2);else throw new Error("Invalid command found in the PBF")}u>d&&(i.push(u),d=u)}createFeature_(e,n,r){const i=n.type;if(i===0)return null;let s;const a=n.properties;let o;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=n.id,a[this.layerName_]=n.layer.name;const l=[],c=[];this.readRawGeometry_(e,n,l,c);const u=WY(i,c.length);if(this.featureClass===Zn)s=new this.featureClass(u,l,c,2,a,o),s.transform(r.dataProjection);else{let d;if(u=="Polygon"){const p=pI(l,c);d=p.length>1?new md(l,"XY",p):new zs(l,"XY",c)}else d=u==="Point"?new js(l,"XY"):u==="LineString"?new Jo(l,"XY"):u==="MultiPoint"?new Kd(l,"XY"):u==="MultiLineString"?new pd(l,"XY",c):null;const h=this.featureClass;s=new h,this.geometryName_&&s.setGeometryName(this.geometryName_);const f=dm(d,!1,r);s.setGeometry(f),o!==void 0&&s.setId(o),s.setProperties(a,!0)}return s}getType(){return"arraybuffer"}readFeatures(e,n){const r=this.layers_;n=this.adaptOptions(n);const i=tn(n.dataProjection);i.setWorldExtent(n.extent),n.dataProjection=i;const s=new jY(e),a=s.readFields(zY,{}),o=[];for(const l in a){if(r&&!r.includes(l))continue;const c=a[l],u=c?[0,0,c.extent,c.extent]:null;i.setExtent(u);for(let d=0,h=c.length;d<h;++d){const f=HY(s,c,d),p=this.createFeature_(s,f,n);p!==null&&o.push(p)}}return o}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function zY(t,e,n){if(t===3){const r={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(UY,r,i),r.length=r.features.length,r.length&&(e[r.name]=r)}}function UY(t,e,n){if(t===15)e.version=n.readVarint();else if(t===1)e.name=n.readString();else if(t===5)e.extent=n.readVarint();else if(t===2)e.features.push(n.pos);else if(t===3)e.keys.push(n.readString());else if(t===4){let r=null;const i=n.readVarint()+n.pos;for(;n.pos<i;)t=n.readVarint()>>3,r=t===1?n.readString():t===2?n.readFloat():t===3?n.readDouble():t===4?n.readVarint64():t===5?n.readVarint():t===6?n.readSVarint():t===7?n.readBoolean():null;e.values.push(r)}}function YY(t,e,n){if(t==1)e.id=n.readVarint();else if(t==2){const r=n.readVarint()+n.pos;for(;n.pos<r;){const i=e.layer.keys[n.readVarint()],s=e.layer.values[n.readVarint()];e.properties[i]=s}}else t==3?e.type=n.readVarint():t==4&&(e.geometry=n.pos)}function HY(t,e,n){t.pos=e.features[n];const r=t.readVarint()+t.pos,i={layer:e,type:0,properties:{}};return t.readFields(YY,i,r),i}function WY(t,e){let n;return t===1?n=e===1?"Point":"MultiPoint":t===2?n=e===1?"LineString":"MultiLineString":t===3&&(n="Polygon"),n}class qY extends x0{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){We()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Fi(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Yk(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,a,o,l){let c;const u=n.viewState;function d(_,w,E,x){return s.call(a,w,_?E:null,x)}const h=u.projection,f=D0(e.slice(),h),p=[[0,0]];if(h.canWrapX()&&i){const _=h.getExtent(),w=vt(_);p.push([-w,0],[w,0])}const m=n.layerStatesArray,y=m.length,v=[],b=[];for(let _=0;_<p.length;_++)for(let w=y-1;w>=0;--w){const E=m[w],x=E.layer;if(x.hasRenderer()&&Q0(E,u)&&o.call(l,x)){const S=x.getRenderer(),T=x.getSource();if(S&&T){const P=T.getWrapX()?f:e,B=d.bind(null,E.managed);b[0]=P[0]+p[_][0],b[1]=P[1]+p[_][1],c=S.forEachFeatureAtCoordinate(b,n,r,B,v)}if(c)return c}}if(v.length===0)return;const g=1/v.length;return v.forEach((_,w)=>_.distanceSq+=w*g),v.sort((_,w)=>_.distanceSq-w.distanceSq),v.some(_=>c=_.callback(_.feature,_.layer,_.geometry)),c}hasFeatureAtCoordinate(e,n,r,i,s,a){return this.forEachFeatureAtCoordinate(e,n,r,i,ad,this,s,a)!==void 0}getMap(){return this.map_}renderFrame(e){We()}scheduleExpireIconCache(e){Zi.canExpireCache()&&e.postRenderFunctions.push(KY)}}function KY(t,e){Zi.expire()}class XY extends qY{constructor(e){super(e),this.fontChangeListenerKey_=ht(Ui,bu.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Xo+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new MI(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){$t(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(pi.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex});n.some(o=>o.layer instanceof _m&&o.layer.getDeclutter())&&(e.declutter={});const i=e.viewState;this.children_.length=0;const s=[];let a=null;for(let o=0,l=n.length;o<l;++o){const c=n[o];e.layerIndex=o;const u=c.layer,d=u.getSourceState();if(!Q0(c,i)||d!="ready"&&d!="undefined"){u.unrender();continue}const h=u.render(e,a);h&&(h!==a&&(this.children_.push(h),a=h),s.push(c))}this.declutter(e,s),$$(this.element_,this.children_),this.dispatchRenderEvent(pi.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let r=n.length-1;r>=0;--r){const i=n[r],s=i.layer;s.getDeclutter()&&s.renderDeclutter(e,i)}n.forEach(r=>r.layer.renderDeferred(e))}}}class zl extends Ws{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class ha extends zl{constructor(e,n,r,i,s,a){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=a}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const un={SINGLECLICK:"singleclick",CLICK:Ue.CLICK,DBLCLICK:Ue.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ba={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class ZY extends Ud{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=ht(r,ba.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ht(r,ba.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ue.TOUCHMOVE,this.boundHandleTouchMove_,Fk?{passive:!1}:!1)}emulateClick_(e){let n=new ha(un.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new ha(un.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new ha(un.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==un.POINTERUP||n.type==un.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==un.POINTERDOWN||n.type==un.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new ha(un.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach($t),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new ha(un.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ht(r,un.POINTERMOVE,this.handlePointerMove_,this),ht(r,un.POINTERUP,this.handlePointerUp_,this),ht(this.element_,un.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(ht(this.element_.getRootNode(),un.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new ha(un.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new ha(un.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&($t(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ue.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&($t(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach($t),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const lr={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};class sh extends Bi{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){Yf(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&Yf(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)$t(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==vu&&this.listenerKeys.push(ht(e,Ts.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class RM extends sh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"›",a=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=a):this.collapseLabel_=s;const o=e.label!==void 0?e.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Ue.CLICK,this.handleClick_.bind(this),!1);const c=n+" "+Xo+" "+nm+(this.collapsed_&&this.collapsible_?" "+pE:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(i=>Bk(()=>i))),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!ao(n,this.renderedAttributions_)){Nk(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const a=document.createElement("li");a.innerHTML=n[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(pE),this.collapsed_?hE(this.collapseLabel_,this.label_):hE(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class JY extends sh{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"⇧",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",a=document.createElement("button");a.className=n+"-reset",a.setAttribute("type","button"),a.title=s,a.appendChild(this.label_),a.addEventListener(Ue.CLICK,this.handleClick_.bind(this),!1);const o=n+" "+Xo+" "+nm,l=this.element;l.className=o,l.appendChild(a),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Dh)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:pl}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(Dh);!s&&r===0?this.element.classList.add(Dh):s&&r!==0&&this.element.classList.remove(Dh)}this.label_.style.transform=i}this.rotation_=r}}class kM extends sh{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",a=e.zoomInLabel!==void 0?e.zoomInLabel:"+",o=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof a=="string"?document.createTextNode(a):a),u.addEventListener(Ue.CLICK,this.handleClick_.bind(this,r),!1);const d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof o=="string"?document.createTextNode(o):o),d.addEventListener(Ue.CLICK,this.handleClick_.bind(this,-r),!1);const h=n+" "+Xo+" "+nm,f=this.element;f.className=h,f.appendChild(u),f.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:pl})):r.setZoom(s)}}}function QY(t){t=t||{};const e=new Qi;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new kM(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new JY(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new RM(t.attributionOptions)),e}const YT={ACTIVE:"active"};class ah extends Bi{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(YT.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(YT.ACTIVE,e)}setMap(e){this.map_=e}}function eH(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:w5,center:t.getConstrainedCenter(i)})}}function $1(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:r!==void 0?r:250,easing:pl})}class tH extends ah{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==un.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,a=r.shiftKey?-this.delta_:this.delta_,o=i.getView();$1(o,a,s,this.duration_),r.preventDefault(),n=!0}return!n}}class oh extends ah{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==un.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==un.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==un.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==un.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function B1(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}function F_(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const nH=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},rH=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},IM=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?rH(t):!0},iH=ad,AM=function(t){const e=t.originalEvent;return e.button==0&&!(L$&&Pk&&e.ctrlKey)},MM=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},sH=function(t){const e=t.originalEvent;return Pk?e.metaKey:e.ctrlKey},aH=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},PM=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},ny=function(t){const e=t.originalEvent;return yt(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},oH=function(t){const e=t.originalEvent;return yt(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class lH extends oh{constructor(e){super({stopDown:tm}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:F_(MM,oH);this.condition_=e.onFocusOnly?F_(IM,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(B1(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=e.map.getView();C3(s,o.getResolution()),P0(s,o.getRotation()),o.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=r.getCenterInternal(),o=n.getPixelFromCoordinateInternal(a),l=n.getCoordinateFromPixelInternal([o[0]-i*Math.cos(s),o[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:pl})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class uH extends oh{constructor(e){e=e||{},super({stopDown:tm}),this.condition_=e.condition?e.condition:nH,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!ny(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===J0)return;const i=n.getSize(),s=e.pixel,a=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const o=a-this.lastAngle_;r.adjustRotationInternal(-o)}this.lastAngle_=a}handleUpEvent(e){return ny(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return ny(e)&&AM(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class cH extends x0{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new zs([i])}getGeometry(){return this.geometry_}}const mc={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Hh extends Ws{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class dH extends oh{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new cH(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:AM,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Hh(mc.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Hh(n?mc.BOXEND:mc.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Hh(mc.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Hh(mc.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}}class hH extends dH{constructor(e){e=e||{};const n=e.condition?e.condition:aH;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),a=r.getResolutionForExtentInternal(s),o=r.getResolution()/a;i=i.clone(),i.scale(o*o)}r.fitInternal(i,{duration:this.duration_,easing:pl})}}const yo={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class fH extends ah{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return MM(n)&&PM(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==Ue.KEYDOWN){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==yo.DOWN||i==yo.LEFT||i==yo.RIGHT||i==yo.UP)){const a=e.map.getView(),o=a.getResolution()*this.pixelDelta_;let l=0,c=0;i==yo.DOWN?c=-o:i==yo.LEFT?l=-o:i==yo.RIGHT?l=o:c=o;const u=[l,c];P0(u,a.getRotation()),eH(a,u,this.duration_),r.preventDefault(),n=!0}}return!n}}class pH extends ah{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!sH(n)&&PM(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==Ue.KEYDOWN||e.type==Ue.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,a=i==="+"?this.delta_:-this.delta_,o=s.getView();$1(o,a,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}class mH{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],a=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(a,s),this.initialVelocity_=Math.sqrt(s*s+a*a)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class gH extends ah{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:iH;this.condition_=e.onFocusOnly?F_(IM,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==Ue.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==Ue.WHEEL&&(s=i.deltaY,D$&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=Dk),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const a=Date.now();this.startTime_===void 0&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const o=r.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-fn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),$1(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class yH extends oh{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=tm),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;const a=e.map,o=a.getView();o.getConstraints().rotation!==J0&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(B1(this.targetPointers))),this.rotating_&&(a.render(),o.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class _H extends oh{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=tm),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,a=r.clientY-i.clientY,o=Math.sqrt(s*s+a*a);this.lastDistance_!==void 0&&(n=this.lastDistance_/o),this.lastDistance_=o;const l=e.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(B1(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function vH(t){t=t||{};const e=new Qi,n=new mH(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new uH),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new tH({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new lH({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new yH),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new _H({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new fH),e.push(new pH({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new gH({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new hH({duration:t.zoomDuration})),e}function DM(t){if(t instanceof fm){t.setMapInternal(null);return}t instanceof ju&&t.getLayers().forEach(DM)}function OM(t,e){if(t instanceof fm){t.setMapInternal(e);return}if(t instanceof ju){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)OM(n[r],e)}}let bH=class extends Bi{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=wH(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Dk,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=ei(),this.pixelToCoordinateTransform_=ei(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||QY(),this.interactions=n.interactions||vH({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new wY(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(lr.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(lr.VIEW,this.handleViewChanged_),this.addChangeListener(lr.SIZE,this.handleSizeChanged_),this.addChangeListener(lr.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof Hi)&&e.view.then(function(i){r.setView(new Hi(i))}),this.controls.addEventListener(Lr.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(Lr.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(Lr.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(Lr.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(Lr.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(Lr.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){OM(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,a=r.layerFilter!==void 0?r.layerFilter:ad,o=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,o,n,null,a,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof ju?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:ad,s=n.hitTolerance!==void 0?n.hitTolerance:0,a=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,a,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],a=r.height/i[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-r.left)/s,(o.clientY-r.top)/a]}getTarget(){return this.get(lr.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return h_(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?yn(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(lr.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Qi){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const a=i.layer.getSource();if(a&&a.loading)return!0}return!1}getPixelFromCoordinate(e){const n=ws(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?yn(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(lr.SIZE)}getView(){return this.get(lr.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return EY(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new ha(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===ba.POINTERDOWN||r===Ue.WHEEL||r===Ue.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,a=n.target;if(this.overlayContainerStopEvent_.contains(a)||!(s===i?i.documentElement:s).contains(a))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const a=i[s];if(a.getMap()!==this||!a.getActive()||!this.getTargetElement())continue;if(!a.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const a=e.viewHints;if(a[Gt.ANIMATING]||a[Gt.INTERACTING]){const o=Date.now()-e.time>8;i=o?0:8,s=o?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(pi.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(pi.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new zl(Ts.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new zl(Ts.LOADSTART,this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)$t(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ue.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ue.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Yf(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new XY(this)),this.mapBrowserEventHandler_=new ZY(this,this.moveTolerance_);for(const s in un)this.mapBrowserEventHandler_.addEventListener(un[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ue.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ue.WHEEL,this.boundHandleBrowserEvent_,Fk?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[ht(r,Ue.KEYDOWN,this.handleBrowserEvent,this),ht(r,Ue.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&($t(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&($t(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ht(e,bu.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ht(e,Ue.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach($t),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new _a("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ht(e,bu.PROPERTYCHANGE,this.render,this),ht(e,Ue.CHANGE,this.render,this),ht(e,"addlayer",this.handleLayerAdd_,this),ht(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){DM(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&lE(n)&&r&&r.isDef()){const a=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:o_(o.center,o.resolution,o.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:a,wantedTiles:{},mapId:tt(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const l=isNaN(o.nextRotation)?o.rotation:o.nextRotation;s.nextExtent=o_(o.nextCenter,o.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!dl(this.previousExtent_)&&!Tu(s.extent,this.previousExtent_))&&(this.dispatchEvent(new zl(Ts.MOVESTART,this,i)),this.previousExtent_=Fu(this.previousExtent_)),this.previousExtent_&&!s.viewHints[Gt.ANIMATING]&&!s.viewHints[Gt.INTERACTING]&&!Tu(s.extent,this.previousExtent_)&&(this.dispatchEvent(new zl(Ts.MOVEEND,this,s)),Hk(s.extent,this.previousExtent_))),this.dispatchEvent(new zl(Ts.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Ts.LOADSTART)||this.hasListener(Ts.LOADEND)||this.hasListener(pi.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new _a("removelayer",n)),this.set(lr.LAYERGROUP,e)}setSize(e){this.set(lr.SIZE,e)}setTarget(e){this.set(lr.TARGET,e)}setView(e){if(!e||e instanceof Hi){this.set(lr.VIEW,e);return}this.set(lr.VIEW,new Hi);const n=this;e.then(function(r){n.setView(new Hi(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(a)&&(n=[s,a],!lE(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Qk("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!ao(n,r))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function wH(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new ju({layers:t.layers});n[lr.LAYERGROUP]=r,n[lr.TARGET]=t.target,n[lr.VIEW]=t.view instanceof Hi?t.view:new Hi;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new Qi(t.controls.slice()):(yt(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new Qi(t.interactions.slice()):(yt(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let a;return t.overlays!==void 0?Array.isArray(t.overlays)?a=new Qi(t.overlays.slice()):(yt(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),a=t.overlays):a=new Qi,{controls:i,interactions:s,keyboardEventTarget:e,overlays:a,values:n}}var EH={},LM,HT={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Nc(t){return t=Math.round(t),t<0?0:t>255?255:t}function WT(t){return t<0?0:t>1?1:t}function ry(t){return t[t.length-1]==="%"?Nc(parseFloat(t)/100*255):Nc(parseInt(t))}function Wh(t){return t[t.length-1]==="%"?WT(parseFloat(t)/100):WT(parseFloat(t))}function iy(t,e,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?t+(e-t)*n*6:n*2<1?e:n*3<2?t+(e-t)*(2/3-n)*6:t}function TH(t){var e=t.replace(/ /g,"").toLowerCase();if(e in HT)return HT[e].slice();if(e[0]==="#"){if(e.length===4){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(n&3840)>>4|(n&3840)>>8,n&240|(n&240)>>4,n&15|(n&15)<<4,1]:null}else if(e.length===7){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(n&16711680)>>16,(n&65280)>>8,n&255,1]:null}return null}var r=e.indexOf("("),i=e.indexOf(")");if(r!==-1&&i+1===e.length){var s=e.substr(0,r),a=e.substr(r+1,i-(r+1)).split(","),o=1;switch(s){case"rgba":if(a.length!==4)return null;o=Wh(a.pop());case"rgb":return a.length!==3?null:[ry(a[0]),ry(a[1]),ry(a[2]),o];case"hsla":if(a.length!==4)return null;o=Wh(a.pop());case"hsl":if(a.length!==3)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=Wh(a[1]),u=Wh(a[2]),d=u<=.5?u*(c+1):u+c-u*c,h=u*2-d;return[Nc(iy(h,d,l+1/3)*255),Nc(iy(h,d,l)*255),Nc(iy(h,d,l-1/3)*255),o];default:return null}}return null}try{LM=EH.parseCSSColor=TH}catch{}var kt=function(e,n,r,i){i===void 0&&(i=1),this.r=e,this.g=n,this.b=r,this.a=i};kt.parse=function(e){if(e){if(e instanceof kt)return e;if(typeof e=="string"){var n=LM(e);if(n)return new kt(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3])}}};kt.prototype.toString=function(){var e=this.toArray(),n=e[0],r=e[1],i=e[2],s=e[3];return"rgba("+Math.round(n)+","+Math.round(r)+","+Math.round(i)+","+s+")"};kt.prototype.toArray=function(){var e=this,n=e.r,r=e.g,i=e.b,s=e.a;return s===0?[0,0,0,0]:[n*255/s,r*255/s,i*255/s,s]};kt.prototype.toArray01=function(){var e=this,n=e.r,r=e.g,i=e.b,s=e.a;return s===0?[0,0,0,0]:[n/s,r/s,i/s,s]};kt.prototype.toArray01PremultipliedAlpha=function(){var e=this,n=e.r,r=e.g,i=e.b,s=e.a;return[n,r,i,s]};kt.black=new kt(0,0,0,1);kt.white=new kt(1,1,1,1);kt.transparent=new kt(0,0,0,0);kt.red=new kt(1,0,0,1);kt.blue=new kt(0,0,1,1);function Td(t){return typeof t=="object"?["literal",t]:t}function xH(t,e){var n=t.stops;if(!n)return CH(t,e);var r=n&&typeof n[0][0]=="object",i=r||t.property!==void 0,s=r||!i;return n=n.map(function(a){return!i&&e.tokens&&typeof a[1]=="string"?[a[0],IH(a[1])]:[a[0],Td(a[1])]}),r?SH(t,e,n):s?kH(t,e,n):N_(t,e,n)}function CH(t,e){var n=["get",t.property];if(t.default===void 0)return e.type==="string"?["string",n]:n;if(e.type==="enum")return["match",n,Object.keys(e.values),n,t.default];var r=[e.type==="color"?"to-color":e.type,n,Td(t.default)];return e.type==="array"&&r.splice(1,0,e.value,e.length||null),r}function V1(t){switch(t.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function SH(t,e,n){for(var r={},i={},s=[],a=0;a<n.length;a++){var o=n[a],l=o[0].zoom;r[l]===void 0&&(r[l]={zoom:l,type:t.type,property:t.property,default:t.default},i[l]=[],s.push(l)),i[l].push([o[0].value,o[1]])}var c=j1({},e);if(c==="exponential"){for(var u=[V1(t),["linear"],["zoom"]],d=0,h=s;d<h.length;d+=1){var f=h[d],p=N_(r[f],e,i[f]);su(u,f,p,!1)}return u}else{for(var m=["step",["zoom"]],y=0,v=s;y<v.length;y+=1){var b=v[y],g=N_(r[b],e,i[b]);su(m,b,g,!0)}return G1(m),m}}function RH(t,e){if(t!==void 0)return t;if(e!==void 0)return e}function qT(t,e){var n=Td(RH(t.default,e.default));return n===void 0&&e.type==="resolvedImage"?"":n}function N_(t,e,n){var r=j1(t,e),i=["get",t.property];if(r==="categorical"&&typeof n[0][0]=="boolean"){for(var s=["case"],a=0,o=n;a<o.length;a+=1){var l=o[a];s.push(["==",i,l[0]],l[1])}return s.push(qT(t,e)),s}else if(r==="categorical"){for(var c=["match",i],u=0,d=n;u<d.length;u+=1){var h=d[u];su(c,h[0],h[1],!1)}return c.push(qT(t,e)),c}else if(r==="interval"){for(var f=["step",["number",i]],p=0,m=n;p<m.length;p+=1){var y=m[p];su(f,y[0],y[1],!0)}return G1(f),t.default===void 0?f:["case",["==",["typeof",i],"number"],f,Td(t.default)]}else if(r==="exponential"){for(var v=t.base!==void 0?t.base:1,b=[V1(t),v===1?["linear"]:["exponential",v],["number",i]],g=0,_=n;g<_.length;g+=1){var w=_[g];su(b,w[0],w[1],!1)}return t.default===void 0?b:["case",["==",["typeof",i],"number"],b,Td(t.default)]}else throw new Error("Unknown property function type "+r)}function kH(t,e,n,r){r===void 0&&(r=["zoom"]);var i=j1(t,e),s,a=!1;if(i==="interval")s=["step",r],a=!0;else if(i==="exponential"){var o=t.base!==void 0?t.base:1;s=[V1(t),o===1?["linear"]:["exponential",o],r]}else throw new Error('Unknown zoom function type "'+i+'"');for(var l=0,c=n;l<c.length;l+=1){var u=c[l];su(s,u[0],u[1],a)}return G1(s),s}function G1(t){t[0]==="step"&&t.length===3&&(t.push(0),t.push(t[3]))}function su(t,e,n,r){t.length>3&&e===t[t.length-2]||(r&&t.length===2||t.push(e),t.push(n))}function j1(t,e){return t.type?t.type:e.expression.interpolated?"exponential":"interval"}function IH(t){for(var e=["concat"],n=/{([^{}]+)}/g,r=0,i=n.exec(t);i!==null;i=n.exec(t)){var s=t.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,s.length>0&&e.push(s),e.push(["get",i[1]])}if(e.length===1)return t;if(r<t.length)e.push(t.slice(r));else if(e.length===2)return["to-string",e[1]];return e}var Ki=function(t){function e(n,r){t.call(this,r),this.message=r,this.key=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),xd=function(e,n){n===void 0&&(n=[]),this.parent=e,this.bindings={};for(var r=0,i=n;r<i.length;r+=1){var s=i[r],a=s[0],o=s[1];this.bindings[a]=o}};xd.prototype.concat=function(e){return new xd(this,e)};xd.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")};xd.prototype.has=function(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1};var Fm={kind:"null"},xe={kind:"number"},ot={kind:"string"},nt={kind:"boolean"},Ns={kind:"color"},au={kind:"object"},rt={kind:"value"},AH={kind:"error"},Nm={kind:"collator"},$m={kind:"formatted"},lh={kind:"resolvedImage"};function hi(t,e){return{kind:"array",itemType:t,N:e}}function Zt(t){if(t.kind==="array"){var e=Zt(t.itemType);return typeof t.N=="number"?"array<"+e+", "+t.N+">":t.itemType.kind==="value"?"array":"array<"+e+">"}else return t.kind}var MH=[Fm,xe,ot,nt,Ns,$m,au,hi(rt),lh];function Cd(t,e){if(e.kind==="error")return null;if(t.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!Cd(t.itemType,e.itemType))&&(typeof t.N!="number"||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if(t.kind==="value")for(var n=0,r=MH;n<r.length;n+=1){var i=r[n];if(!Cd(i,e))return null}}return"Expected "+Zt(t)+" but found "+Zt(e)+" instead."}function z1(t,e){return e.some(function(n){return n.kind===t.kind})}function Sd(t,e){return e.some(function(n){return n==="null"?t===null:n==="array"?Array.isArray(t):n==="object"?t&&!Array.isArray(t)&&typeof t=="object":n===typeof t})}var uh=function(e,n,r){e?this.sensitivity=n?"variant":"case":this.sensitivity=n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};uh.prototype.compare=function(e,n){return this.collator.compare(e,n)};uh.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var $_=function(e,n,r,i,s){this.text=e.normalize?e.normalize():e,this.image=n,this.scale=r,this.fontStack=i,this.textColor=s},Ur=function(e){this.sections=e};Ur.fromString=function(e){return new Ur([new $_(e,null,null,null,null)])};Ur.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(e){return e.text.length!==0||e.image&&e.image.name.length!==0})};Ur.factory=function(e){return e instanceof Ur?e:Ur.fromString(e)};Ur.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(e){return e.text}).join("")};Ur.prototype.serialize=function(){for(var e=["format"],n=0,r=this.sections;n<r.length;n+=1){var i=r[n];if(i.image){e.push(["image",i.image.name]);continue}e.push(i.text);var s={};i.fontStack&&(s["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(s["font-scale"]=i.scale),i.textColor&&(s["text-color"]=["rgba"].concat(i.textColor.toArray())),e.push(s)}return e};var ls=function(e){this.name=e.name,this.available=e.available};ls.prototype.toString=function(){return this.name};ls.fromString=function(e){return e?new ls({name:e,available:!1}):null};ls.prototype.serialize=function(){return["image",this.name]};function FM(t,e,n,r){if(!(typeof t=="number"&&t>=0&&t<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof n=="number"&&n>=0&&n<=255)){var i=typeof r=="number"?[t,e,n,r]:[t,e,n];return"Invalid rgba value ["+i.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof r>"u"||typeof r=="number"&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1."}function fp(t){if(t===null)return!0;if(typeof t=="string")return!0;if(typeof t=="boolean")return!0;if(typeof t=="number")return!0;if(t instanceof kt)return!0;if(t instanceof uh)return!0;if(t instanceof Ur)return!0;if(t instanceof ls)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!fp(r))return!1}return!0}else if(typeof t=="object"){for(var i in t)if(!fp(t[i]))return!1;return!0}else return!1}function Fn(t){if(t===null)return Fm;if(typeof t=="string")return ot;if(typeof t=="boolean")return nt;if(typeof t=="number")return xe;if(t instanceof kt)return Ns;if(t instanceof uh)return Nm;if(t instanceof Ur)return $m;if(t instanceof ls)return lh;if(Array.isArray(t)){for(var e=t.length,n,r=0,i=t;r<i.length;r+=1){var s=i[r],a=Fn(s);if(!n)n=a;else{if(n===a)continue;n=rt;break}}return hi(n||rt,e)}else return au}function $c(t){var e=typeof t;return t===null?"":e==="string"||e==="number"||e==="boolean"?String(t):t instanceof kt||t instanceof Ur||t instanceof ls?t.toString():JSON.stringify(t)}var us=function(e,n){this.type=e,this.value=n};us.parse=function(e,n){if(e.length!==2)return n.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!fp(e[1]))return n.error("invalid value");var r=e[1],i=Fn(r),s=n.expectedType;return i.kind==="array"&&i.N===0&&s&&s.kind==="array"&&(typeof s.N!="number"||s.N===0)&&(i=s),new us(i,r)};us.prototype.evaluate=function(){return this.value};us.prototype.eachChild=function(){};us.prototype.outputDefined=function(){return!0};us.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof kt?["rgba"].concat(this.value.toArray()):this.value instanceof Ur?this.value.serialize():this.value};var Yn=function(e){this.name="ExpressionEvaluationError",this.message=e};Yn.prototype.toJSON=function(){return this.message};var sy={string:ot,number:xe,boolean:nt,object:au},xr=function(e,n){this.type=e,this.args=n};xr.parse=function(e,n){if(e.length<2)return n.error("Expected at least one argument.");var r=1,i,s=e[0];if(s==="array"){var a;if(e.length>2){var o=e[1];if(typeof o!="string"||!(o in sy)||o==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);a=sy[o],r++}else a=rt;var l;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return n.error('The length argument to "array" must be a positive integer literal',2);l=e[2],r++}i=hi(a,l)}else i=sy[s];for(var c=[];r<e.length;r++){var u=n.parse(e[r],r,rt);if(!u)return null;c.push(u)}return new xr(i,c)};xr.prototype.evaluate=function(e){for(var n=0;n<this.args.length;n++){var r=this.args[n].evaluate(e),i=Cd(this.type,Fn(r));if(i){if(n===this.args.length-1)throw new Yn("Expected value to be of type "+Zt(this.type)+", but found "+Zt(Fn(r))+" instead.")}else return r}return null};xr.prototype.eachChild=function(e){this.args.forEach(e)};xr.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})};xr.prototype.serialize=function(){var e=this.type,n=[e.kind];if(e.kind==="array"){var r=e.itemType;if(r.kind==="string"||r.kind==="number"||r.kind==="boolean"){n.push(r.kind);var i=e.N;(typeof i=="number"||this.args.length>1)&&n.push(i)}}return n.concat(this.args.map(function(s){return s.serialize()}))};var Ha=function(e){this.type=$m,this.sections=e};Ha.parse=function(e,n){if(e.length<2)return n.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&typeof r=="object")return n.error("First argument must be an image or text section.");for(var i=[],s=!1,a=1;a<=e.length-1;++a){var o=e[a];if(s&&typeof o=="object"&&!Array.isArray(o)){s=!1;var l=null;if(o["font-scale"]&&(l=n.parse(o["font-scale"],1,xe),!l))return null;var c=null;if(o["text-font"]&&(c=n.parse(o["text-font"],1,hi(ot)),!c))return null;var u=null;if(o["text-color"]&&(u=n.parse(o["text-color"],1,Ns),!u))return null;var d=i[i.length-1];d.scale=l,d.font=c,d.textColor=u}else{var h=n.parse(e[a],1,rt);if(!h)return null;var f=h.type.kind;if(f!=="string"&&f!=="value"&&f!=="null"&&f!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");s=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new Ha(i)};Ha.prototype.evaluate=function(e){var n=function(r){var i=r.content.evaluate(e);return Fn(i)===lh?new $_("",i,null,null,null):new $_($c(i),null,r.scale?r.scale.evaluate(e):null,r.font?r.font.evaluate(e).join(","):null,r.textColor?r.textColor.evaluate(e):null)};return new Ur(this.sections.map(n))};Ha.prototype.eachChild=function(e){for(var n=0,r=this.sections;n<r.length;n+=1){var i=r[n];e(i.content),i.scale&&e(i.scale),i.font&&e(i.font),i.textColor&&e(i.textColor)}};Ha.prototype.outputDefined=function(){return!1};Ha.prototype.serialize=function(){for(var e=["format"],n=0,r=this.sections;n<r.length;n+=1){var i=r[n];e.push(i.content.serialize());var s={};i.scale&&(s["font-scale"]=i.scale.serialize()),i.font&&(s["text-font"]=i.font.serialize()),i.textColor&&(s["text-color"]=i.textColor.serialize()),e.push(s)}return e};var Wa=function(e){this.type=lh,this.input=e};Wa.parse=function(e,n){if(e.length!==2)return n.error("Expected two arguments.");var r=n.parse(e[1],1,ot);return r?new Wa(r):n.error("No image name provided.")};Wa.prototype.evaluate=function(e){var n=this.input.evaluate(e),r=ls.fromString(n);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(n)>-1),r};Wa.prototype.eachChild=function(e){e(this.input)};Wa.prototype.outputDefined=function(){return!1};Wa.prototype.serialize=function(){return["image",this.input.serialize()]};var PH={"to-boolean":nt,"to-color":Ns,"to-number":xe,"to-string":ot},mi=function(e,n){this.type=e,this.args=n};mi.parse=function(e,n){if(e.length<2)return n.error("Expected at least one argument.");var r=e[0];if((r==="to-boolean"||r==="to-string")&&e.length!==2)return n.error("Expected one argument.");for(var i=PH[r],s=[],a=1;a<e.length;a++){var o=n.parse(e[a],a,rt);if(!o)return null;s.push(o)}return new mi(i,s)};mi.prototype.evaluate=function(e){if(this.type.kind==="boolean")return!!this.args[0].evaluate(e);if(this.type.kind==="color"){for(var n,r,i=0,s=this.args;i<s.length;i+=1){var a=s[i];if(n=a.evaluate(e),r=null,n instanceof kt)return n;if(typeof n=="string"){var o=e.parseColor(n);if(o)return o}else if(Array.isArray(n)&&(n.length<3||n.length>4?r="Invalid rbga value "+JSON.stringify(n)+": expected an array containing either three or four numeric values.":r=FM(n[0],n[1],n[2],n[3]),!r))return new kt(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new Yn(r||"Could not parse color from value '"+(typeof n=="string"?n:String(JSON.stringify(n)))+"'")}else if(this.type.kind==="number"){for(var l=null,c=0,u=this.args;c<u.length;c+=1){var d=u[c];if(l=d.evaluate(e),l===null)return 0;var h=Number(l);if(!isNaN(h))return h}throw new Yn("Could not convert "+JSON.stringify(l)+" to number.")}else return this.type.kind==="formatted"?Ur.fromString($c(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?ls.fromString($c(this.args[0].evaluate(e))):$c(this.args[0].evaluate(e))};mi.prototype.eachChild=function(e){this.args.forEach(e)};mi.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})};mi.prototype.serialize=function(){if(this.type.kind==="formatted")return new Ha([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Wa(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild(function(n){e.push(n.serialize())}),e};var DH=["Unknown","Point","LineString","Polygon"],Ks=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null};Ks.prototype.id=function(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null};Ks.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?DH[this.feature.type]:this.feature.type:null};Ks.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null};Ks.prototype.canonicalID=function(){return this.canonical};Ks.prototype.properties=function(){return this.feature&&this.feature.properties||{}};Ks.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,n=this.featureDistanceData.scale,r=this.featureTileCoord,i=r.x,s=r.y,a=i*n-e[0],o=s*n-e[1],l=this.featureDistanceData.bearing[0],c=this.featureDistanceData.bearing[1],u=l*a+c*o;return u}return 0};Ks.prototype.parseColor=function(e){var n=this._parseColorCache[e];return n||(n=this._parseColorCache[e]=kt.parse(e)),n};var gr=function(e,n,r,i){this.name=e,this.type=n,this._evaluate=r,this.args=i};gr.prototype.evaluate=function(e){return this._evaluate(e,this.args)};gr.prototype.eachChild=function(e){this.args.forEach(e)};gr.prototype.outputDefined=function(){return!1};gr.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))};gr.parse=function(e,n){var r,i=e[0],s=gr.definitions[i];if(!s)return n.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(s)?s[0]:s.type,o=Array.isArray(s)?[[s[1],s[2]]]:s.overloads,l=o.filter(function(z){var j=z[0];return!Array.isArray(j)||j.length===e.length-1}),c=null,u=0,d=l;u<d.length;u+=1){var h=d[u],f=h[0],p=h[1];c=new Xa(n.registry,n.path,null,n.scope);for(var m=[],y=!1,v=1;v<e.length;v++){var b=e[v],g=Array.isArray(f)?f[v-1]:f.type,_=c.parse(b,1+m.length,g);if(!_){y=!0;break}m.push(_)}if(!y){if(Array.isArray(f)&&f.length!==m.length){c.error("Expected "+f.length+" arguments, but found "+m.length+" instead.");continue}for(var w=0;w<m.length;w++){var E=Array.isArray(f)?f[w]:f.type,x=m[w];c.concat(w+1).checkSubtype(E,x.type)}if(c.errors.length===0)return new gr(i,a,p,m)}}if(l.length===1)(r=n.errors).push.apply(r,c.errors);else{for(var S=l.length?l:o,T=S.map(function(z){var j=z[0];return OH(j)}).join(" | "),P=[],B=1;B<e.length;B++){var F=n.parse(e[B],1+P.length);if(!F)return null;P.push(Zt(F.type))}n.error("Expected arguments of type "+T+", but found ("+P.join(", ")+") instead.")}return null};gr.register=function(e,n){gr.definitions=n;for(var r in n)e[r]=gr};function OH(t){return Array.isArray(t)?"("+t.map(Zt).join(", ")+")":"("+Zt(t.type)+"...)"}var qa=function(e,n,r){this.type=Nm,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=n};qa.parse=function(e,n){if(e.length!==2)return n.error("Expected one argument.");var r=e[1];if(typeof r!="object"||Array.isArray(r))return n.error("Collator options argument must be an object.");var i=n.parse(r["case-sensitive"]===void 0?!1:r["case-sensitive"],1,nt);if(!i)return null;var s=n.parse(r["diacritic-sensitive"]===void 0?!1:r["diacritic-sensitive"],1,nt);if(!s)return null;var a=null;return r.locale&&(a=n.parse(r.locale,1,ot),!a)?null:new qa(i,s,a)};qa.prototype.evaluate=function(e){return new uh(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)};qa.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)};qa.prototype.outputDefined=function(){return!1};qa.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Fa=8192;function U1(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function LH(t){return(180+t)/360}function FH(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function pp(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function NH(t,e){var n=LH(t[0]),r=FH(t[1]),i=Math.pow(2,e.z);return[Math.round(n*i*Fa),Math.round(r*i*Fa)]}function $H(t,e,n){var r=t[0]-e[0],i=t[1]-e[1],s=t[0]-n[0],a=t[1]-n[1];return r*a-s*i===0&&r*s<=0&&i*a<=0}function BH(t,e,n){return e[1]>t[1]!=n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function Y1(t,e){for(var n=!1,r=0,i=e.length;r<i;r++)for(var s=e[r],a=0,o=s.length;a<o-1;a++){if($H(t,s[a],s[a+1]))return!1;BH(t,s[a],s[a+1])&&(n=!n)}return n}function VH(t,e){for(var n=0;n<e.length;n++)if(Y1(t,e[n]))return!0;return!1}function GH(t,e){return t[0]*e[1]-t[1]*e[0]}function KT(t,e,n,r){var i=t[0]-n[0],s=t[1]-n[1],a=e[0]-n[0],o=e[1]-n[1],l=r[0]-n[0],c=r[1]-n[1],u=i*c-l*s,d=a*c-l*o;return u>0&&d<0||u<0&&d>0}function jH(t,e,n,r){var i=[e[0]-t[0],e[1]-t[1]],s=[r[0]-n[0],r[1]-n[1]];return GH(s,i)===0?!1:!!(KT(t,e,n,r)&&KT(n,r,t,e))}function zH(t,e,n){for(var r=0,i=n;r<i.length;r+=1)for(var s=i[r],a=0;a<s.length-1;++a)if(jH(t,e,s[a],s[a+1]))return!0;return!1}function NM(t,e){for(var n=0;n<t.length;++n)if(!Y1(t[n],e))return!1;for(var r=0;r<t.length-1;++r)if(zH(t[r],t[r+1],e))return!1;return!0}function UH(t,e){for(var n=0;n<e.length;n++)if(NM(t,e[n]))return!0;return!1}function H1(t,e,n){for(var r=[],i=0;i<t.length;i++){for(var s=[],a=0;a<t[i].length;a++){var o=NH(t[i][a],n);U1(e,o),s.push(o)}r.push(s)}return r}function $M(t,e,n){for(var r=[],i=0;i<t.length;i++){var s=H1(t[i],e,n);r.push(s)}return r}function BM(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){var i=r*.5,s=t[0]-n[0]>i?-r:n[0]-t[0]>i?r:0;s===0&&(s=t[0]-n[2]>i?-r:n[2]-t[0]>i?r:0),t[0]+=s}U1(e,t)}function YH(t){t[0]=t[1]=1/0,t[2]=t[3]=-1/0}function XT(t,e,n,r){var i=Math.pow(2,r.z)*Fa,s=[r.x*Fa,r.y*Fa],a=[];if(!t)return a;for(var o=0,l=t;o<l.length;o+=1)for(var c=l[o],u=0,d=c;u<d.length;u+=1){var h=d[u],f=[h.x+s[0],h.y+s[1]];BM(f,e,n,i),a.push(f)}return a}function ZT(t,e,n,r){var i=Math.pow(2,r.z)*Fa,s=[r.x*Fa,r.y*Fa],a=[];if(!t)return a;for(var o=0,l=t;o<l.length;o+=1){for(var c=l[o],u=[],d=0,h=c;d<h.length;d+=1){var f=h[d],p=[f.x+s[0],f.y+s[1]];U1(e,p),u.push(p)}a.push(u)}if(e[2]-e[0]<=i/2){YH(e);for(var m=0,y=a;m<y.length;m+=1)for(var v=y[m],b=0,g=v;b<g.length;b+=1){var _=g[b];BM(_,e,n,i)}}return a}function HH(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return!1;if(e.type==="Polygon"){var s=H1(e.coordinates,r,i),a=XT(t.geometry(),n,r,i);if(!pp(n,r))return!1;for(var o=0,l=a;o<l.length;o+=1){var c=l[o];if(!Y1(c,s))return!1}}if(e.type==="MultiPolygon"){var u=$M(e.coordinates,r,i),d=XT(t.geometry(),n,r,i);if(!pp(n,r))return!1;for(var h=0,f=d;h<f.length;h+=1){var p=f[h];if(!VH(p,u))return!1}}return!0}function WH(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return!1;if(e.type==="Polygon"){var s=H1(e.coordinates,r,i),a=ZT(t.geometry(),n,r,i);if(!pp(n,r))return!1;for(var o=0,l=a;o<l.length;o+=1){var c=l[o];if(!NM(c,s))return!1}}if(e.type==="MultiPolygon"){var u=$M(e.coordinates,r,i),d=ZT(t.geometry(),n,r,i);if(!pp(n,r))return!1;for(var h=0,f=d;h<f.length;h+=1){var p=f[h];if(!UH(p,u))return!1}}return!0}var Mi=function(e,n){this.type=nt,this.geojson=e,this.geometries=n};Mi.parse=function(e,n){if(e.length!==2)return n.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(fp(e[1])){var r=e[1];if(r.type==="FeatureCollection")for(var i=0;i<r.features.length;++i){var s=r.features[i].geometry.type;if(s==="Polygon"||s==="MultiPolygon")return new Mi(r,r.features[i].geometry)}else if(r.type==="Feature"){var a=r.geometry.type;if(a==="Polygon"||a==="MultiPolygon")return new Mi(r,r.geometry)}else if(r.type==="Polygon"||r.type==="MultiPolygon")return new Mi(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")};Mi.prototype.evaluate=function(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return HH(e,this.geometries);if(e.geometryType()==="LineString")return WH(e,this.geometries)}return!1};Mi.prototype.eachChild=function(){};Mi.prototype.outputDefined=function(){return!0};Mi.prototype.serialize=function(){return["within",this.geojson]};function Bm(t){if(t instanceof gr){if(t.name==="get"&&t.args.length===1)return!1;if(t.name==="feature-state")return!1;if(t.name==="has"&&t.args.length===1)return!1;if(t.name==="properties"||t.name==="geometry-type"||t.name==="id")return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Mi)return!1;var e=!0;return t.eachChild(function(n){e&&!Bm(n)&&(e=!1)}),e}function W1(t){if(t instanceof gr&&t.name==="feature-state")return!1;var e=!0;return t.eachChild(function(n){e&&!W1(n)&&(e=!1)}),e}function q1(t,e){if(t instanceof gr&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild(function(r){n&&!q1(r,e)&&(n=!1)}),n}var Ka=function(e,n){this.type=n.type,this.name=e,this.boundExpression=n};Ka.parse=function(e,n){if(e.length!==2||typeof e[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");var r=e[1];return n.scope.has(r)?new Ka(r,n.scope.get(r)):n.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)};Ka.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)};Ka.prototype.eachChild=function(){};Ka.prototype.outputDefined=function(){return!1};Ka.prototype.serialize=function(){return["var",this.name]};var Xa=function(e,n,r,i,s){n===void 0&&(n=[]),i===void 0&&(i=new xd),s===void 0&&(s=[]),this.registry=e,this.path=n,this.key=n.map(function(a){return"["+a+"]"}).join(""),this.scope=i,this.errors=s,this.expectedType=r};Xa.prototype.parse=function(e,n,r,i,s){return s===void 0&&(s={}),n?this.concat(n,r,i)._parse(e,s):this._parse(e,s)};Xa.prototype._parse=function(e,n){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function r(u,d,h){return h==="assert"?new xr(d,[u]):h==="coerce"?new mi(d,[u]):u}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=e[0];if(typeof i!="string")return this.error("Expression name must be a string, but found "+typeof i+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var s=this.registry[i];if(s){var a=s.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,l=a.type;if((o.kind==="string"||o.kind==="number"||o.kind==="boolean"||o.kind==="object"||o.kind==="array")&&l.kind==="value")a=r(a,o,n.typeAnnotation||"assert");else if((o.kind==="color"||o.kind==="formatted"||o.kind==="resolvedImage")&&(l.kind==="value"||l.kind==="string"))a=r(a,o,n.typeAnnotation||"coerce");else if(this.checkSubtype(o,l))return null}if(!(a instanceof us)&&a.type.kind!=="resolvedImage"&&B_(a)){var c=new Ks;try{a=new us(a.type,a.evaluate(c))}catch(u){return this.error(u.message),null}}return a}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")};Xa.prototype.concat=function(e,n,r){var i=typeof e=="number"?this.path.concat(e):this.path,s=r?this.scope.concat(r):this.scope;return new Xa(this.registry,i,n||null,s,this.errors)};Xa.prototype.error=function(e){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var i=""+this.key+n.map(function(s){return"["+s+"]"}).join("");this.errors.push(new Ki(i,e))};Xa.prototype.checkSubtype=function(e,n){var r=Cd(e,n);return r&&this.error(r),r};function B_(t){if(t instanceof Ka)return B_(t.boundExpression);if(t instanceof gr&&t.name==="error")return!1;if(t instanceof qa)return!1;if(t instanceof Mi)return!1;var e=t instanceof mi||t instanceof xr,n=!0;return t.eachChild(function(r){e?n=n&&B_(r):n=n&&r instanceof us}),n?Bm(t)&&q1(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function VM(t,e){for(var n=t.length-1,r=0,i=n,s=0,a,o;r<=i;)if(s=Math.floor((r+i)/2),a=t[s],o=t[s+1],a<=e){if(s===n||e<o)return s;r=s+1}else if(a>e)i=s-1;else throw new Yn("Input is not a number.");return 0}var Za=function(e,n,r){this.type=e,this.input=n,this.labels=[],this.outputs=[];for(var i=0,s=r;i<s.length;i+=1){var a=s[i],o=a[0],l=a[1];this.labels.push(o),this.outputs.push(l)}};Za.parse=function(e,n){if(e.length-1<4)return n.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!==0)return n.error("Expected an even number of arguments.");var r=n.parse(e[1],1,xe);if(!r)return null;var i=[],s=null;n.expectedType&&n.expectedType.kind!=="value"&&(s=n.expectedType);for(var a=1;a<e.length;a+=2){var o=a===1?-1/0:e[a],l=e[a+1],c=a,u=a+1;if(typeof o!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(i.length&&i[i.length-1][0]>=o)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);var d=n.parse(l,u,s);if(!d)return null;s=s||d.type,i.push([o,d])}return new Za(s,r,i)};Za.prototype.evaluate=function(e){var n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(e);var i=this.input.evaluate(e);if(i<=n[0])return r[0].evaluate(e);var s=n.length;if(i>=n[s-1])return r[s-1].evaluate(e);var a=VM(n,i);return r[a].evaluate(e)};Za.prototype.eachChild=function(e){e(this.input);for(var n=0,r=this.outputs;n<r.length;n+=1){var i=r[n];e(i)}};Za.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})};Za.prototype.serialize=function(){for(var e=["step",this.input.serialize()],n=0;n<this.labels.length;n++)n>0&&e.push(this.labels[n]),e.push(this.outputs[n].serialize());return e};var qH=Uu;function Uu(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}Uu.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t};Uu.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t};Uu.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx};Uu.prototype.solveCurveX=function(t,e){typeof e>"u"&&(e=1e-6);var n,r,i,s,a;for(i=t,a=0;a<8;a++){if(s=this.sampleCurveX(i)-t,Math.abs(s)<e)return i;var o=this.sampleCurveDerivativeX(i);if(Math.abs(o)<1e-6)break;i=i-s/o}if(n=0,r=1,i=t,i<n)return n;if(i>r)return r;for(;n<r;){if(s=this.sampleCurveX(i),Math.abs(s-t)<e)return i;t>s?n=i:r=i,i=(r-n)*.5+n}return i};Uu.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};function Qr(t,e,n){return t*(1-n)+e*n}function KH(t,e,n){return new kt(Qr(t.r,e.r,n),Qr(t.g,e.g,n),Qr(t.b,e.b,n),Qr(t.a,e.a,n))}function XH(t,e,n){return t.map(function(r,i){return Qr(r,e[i],n)})}var ZH=Object.freeze({__proto__:null,number:Qr,color:KH,array:XH}),GM=.95047,jM=1,zM=1.08883,UM=4/29,ou=6/29,YM=3*ou*ou,JH=ou*ou*ou,QH=Math.PI/180,eW=180/Math.PI;function ay(t){return t>JH?Math.pow(t,1/3):t/YM+UM}function oy(t){return t>ou?t*t*t:YM*(t-UM)}function ly(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function uy(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function HM(t){var e=uy(t.r),n=uy(t.g),r=uy(t.b),i=ay((.4124564*e+.3575761*n+.1804375*r)/GM),s=ay((.2126729*e+.7151522*n+.072175*r)/jM),a=ay((.0193339*e+.119192*n+.9503041*r)/zM);return{l:116*s-16,a:500*(i-s),b:200*(s-a),alpha:t.a}}function WM(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=jM*oy(e),n=GM*oy(n),r=zM*oy(r),new kt(ly(3.2404542*n-1.5371385*e-.4985314*r),ly(-.969266*n+1.8760108*e+.041556*r),ly(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function tW(t,e,n){return{l:Qr(t.l,e.l,n),a:Qr(t.a,e.a,n),b:Qr(t.b,e.b,n),alpha:Qr(t.alpha,e.alpha,n)}}function nW(t){var e=HM(t),n=e.l,r=e.a,i=e.b,s=Math.atan2(i,r)*eW;return{h:s<0?s+360:s,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}}function rW(t){var e=t.h*QH,n=t.c,r=t.l;return WM({l:r,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})}function iW(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}function sW(t,e,n){return{h:iW(t.h,e.h,n),c:Qr(t.c,e.c,n),l:Qr(t.l,e.l,n),alpha:Qr(t.alpha,e.alpha,n)}}var qh={forward:HM,reverse:WM,interpolate:tW},Kh={forward:nW,reverse:rW,interpolate:sW},Sr=function(e,n,r,i,s){this.type=e,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(var a=0,o=s;a<o.length;a+=1){var l=o[a],c=l[0],u=l[1];this.labels.push(c),this.outputs.push(u)}};Sr.interpolationFactor=function(e,n,r,i){var s=0;if(e.name==="exponential")s=cy(n,e.base,r,i);else if(e.name==="linear")s=cy(n,1,r,i);else if(e.name==="cubic-bezier"){var a=e.controlPoints,o=new qH(a[0],a[1],a[2],a[3]);s=o.solve(cy(n,1,r,i))}return s};Sr.parse=function(e,n){var r=e[0],i=e[1],s=e[2],a=e.slice(3);if(!Array.isArray(i)||i.length===0)return n.error("Expected an interpolation type expression.",1);if(i[0]==="linear")i={name:"linear"};else if(i[0]==="exponential"){var o=i[1];if(typeof o!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:o}}else if(i[0]==="cubic-bezier"){var l=i.slice(1);if(l.length!==4||l.some(function(v){return typeof v!="number"||v<0||v>1}))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:l}}else return n.error("Unknown interpolation type "+String(i[0]),1,0);if(e.length-1<4)return n.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!==0)return n.error("Expected an even number of arguments.");if(s=n.parse(s,2,xe),!s)return null;var c=[],u=null;r==="interpolate-hcl"||r==="interpolate-lab"?u=Ns:n.expectedType&&n.expectedType.kind!=="value"&&(u=n.expectedType);for(var d=0;d<a.length;d+=2){var h=a[d],f=a[d+1],p=d+3,m=d+4;if(typeof h!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(c.length&&c[c.length-1][0]>=h)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',p);var y=n.parse(f,m,u);if(!y)return null;u=u||y.type,c.push([h,y])}return u.kind!=="number"&&u.kind!=="color"&&!(u.kind==="array"&&u.itemType.kind==="number"&&typeof u.N=="number")?n.error("Type "+Zt(u)+" is not interpolatable."):new Sr(u,r,i,s,c)};Sr.prototype.evaluate=function(e){var n=this.labels,r=this.outputs;if(n.length===1)return r[0].evaluate(e);var i=this.input.evaluate(e);if(i<=n[0])return r[0].evaluate(e);var s=n.length;if(i>=n[s-1])return r[s-1].evaluate(e);var a=VM(n,i),o=n[a],l=n[a+1],c=Sr.interpolationFactor(this.interpolation,i,o,l),u=r[a].evaluate(e),d=r[a+1].evaluate(e);return this.operator==="interpolate"?ZH[this.type.kind.toLowerCase()](u,d,c):this.operator==="interpolate-hcl"?Kh.reverse(Kh.interpolate(Kh.forward(u),Kh.forward(d),c)):qh.reverse(qh.interpolate(qh.forward(u),qh.forward(d),c))};Sr.prototype.eachChild=function(e){e(this.input);for(var n=0,r=this.outputs;n<r.length;n+=1){var i=r[n];e(i)}};Sr.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})};Sr.prototype.serialize=function(){var e;this.interpolation.name==="linear"?e=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?e=["linear"]:e=["exponential",this.interpolation.base]:e=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var n=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)n.push(this.labels[r],this.outputs[r].serialize());return n};function cy(t,e,n,r){var i=r-n,s=t-n;return i===0?0:e===1?s/i:(Math.pow(e,s)-1)/(Math.pow(e,i)-1)}var $s=function(e,n){this.type=e,this.args=n};$s.parse=function(e,n){if(e.length<2)return n.error("Expectected at least one argument.");var r=null,i=n.expectedType;i&&i.kind!=="value"&&(r=i);for(var s=[],a=0,o=e.slice(1);a<o.length;a+=1){var l=o[a],c=n.parse(l,1+s.length,r,void 0,{typeAnnotation:"omit"});if(!c)return null;r=r||c.type,s.push(c)}var u=i&&s.some(function(d){return Cd(i,d.type)});return u?new $s(rt,s):new $s(r,s)};$s.prototype.evaluate=function(e){for(var n=null,r=0,i,s=0,a=this.args;s<a.length;s+=1){var o=a[s];if(r++,n=o.evaluate(e),n&&n instanceof ls&&!n.available&&(i||(i=n),n=null,r===this.args.length))return i;if(n!==null)break}return n};$s.prototype.eachChild=function(e){this.args.forEach(e)};$s.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})};$s.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(n){e.push(n.serialize())}),e};var Ja=function(e,n){this.type=n.type,this.bindings=[].concat(e),this.result=n};Ja.prototype.evaluate=function(e){return this.result.evaluate(e)};Ja.prototype.eachChild=function(e){for(var n=0,r=this.bindings;n<r.length;n+=1){var i=r[n];e(i[1])}e(this.result)};Ja.parse=function(e,n){if(e.length<4)return n.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],i=1;i<e.length-1;i+=2){var s=e[i];if(typeof s!="string")return n.error("Expected string, but found "+typeof s+" instead.",i);if(/[^a-zA-Z0-9_]/.test(s))return n.error("Variable names must contain only alphanumeric characters or '_'.",i);var a=n.parse(e[i+1],i+1);if(!a)return null;r.push([s,a])}var o=n.parse(e[e.length-1],e.length-1,n.expectedType,r);return o?new Ja(r,o):null};Ja.prototype.outputDefined=function(){return this.result.outputDefined()};Ja.prototype.serialize=function(){for(var e=["let"],n=0,r=this.bindings;n<r.length;n+=1){var i=r[n],s=i[0],a=i[1];e.push(s,a.serialize())}return e.push(this.result.serialize()),e};var el=function(e,n,r){this.type=e,this.index=n,this.input=r};el.parse=function(e,n){if(e.length!==3)return n.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=n.parse(e[1],1,xe),i=n.parse(e[2],2,hi(n.expectedType||rt));if(!r||!i)return null;var s=i.type;return new el(s.itemType,r,i)};el.prototype.evaluate=function(e){var n=this.index.evaluate(e),r=this.input.evaluate(e);if(n<0)throw new Yn("Array index out of bounds: "+n+" < 0.");if(n>=r.length)throw new Yn("Array index out of bounds: "+n+" > "+(r.length-1)+".");if(n!==Math.floor(n))throw new Yn("Array index must be an integer, but found "+n+" instead.");return r[n]};el.prototype.eachChild=function(e){e(this.index),e(this.input)};el.prototype.outputDefined=function(){return!1};el.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var tl=function(e,n){this.type=nt,this.needle=e,this.haystack=n};tl.parse=function(e,n){if(e.length!==3)return n.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=n.parse(e[1],1,rt),i=n.parse(e[2],2,rt);return!r||!i?null:z1(r.type,[nt,ot,xe,Fm,rt])?new tl(r,i):n.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(r.type)+" instead")};tl.prototype.evaluate=function(e){var n=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(r==null)return!1;if(!Sd(n,["boolean","string","number","null"]))throw new Yn("Expected first argument to be of type boolean, string, number or null, but found "+Zt(Fn(n))+" instead.");if(!Sd(r,["string","array"]))throw new Yn("Expected second argument to be of type array or string, but found "+Zt(Fn(r))+" instead.");return r.indexOf(n)>=0};tl.prototype.eachChild=function(e){e(this.needle),e(this.haystack)};tl.prototype.outputDefined=function(){return!0};tl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Na=function(e,n,r){this.type=xe,this.needle=e,this.haystack=n,this.fromIndex=r};Na.parse=function(e,n){if(e.length<=2||e.length>=5)return n.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=n.parse(e[1],1,rt),i=n.parse(e[2],2,rt);if(!r||!i)return null;if(!z1(r.type,[nt,ot,xe,Fm,rt]))return n.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(r.type)+" instead");if(e.length===4){var s=n.parse(e[3],3,xe);return s?new Na(r,i,s):null}else return new Na(r,i)};Na.prototype.evaluate=function(e){var n=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!Sd(n,["boolean","string","number","null"]))throw new Yn("Expected first argument to be of type boolean, string, number or null, but found "+Zt(Fn(n))+" instead.");if(!Sd(r,["string","array"]))throw new Yn("Expected second argument to be of type array or string, but found "+Zt(Fn(r))+" instead.");if(this.fromIndex){var i=this.fromIndex.evaluate(e);return r.indexOf(n,i)}return r.indexOf(n)};Na.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)};Na.prototype.outputDefined=function(){return!1};Na.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var nl=function(e,n,r,i,s,a){this.inputType=e,this.type=n,this.input=r,this.cases=i,this.outputs=s,this.otherwise=a};nl.parse=function(e,n){if(e.length<5)return n.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!==1)return n.error("Expected an even number of arguments.");var r,i;n.expectedType&&n.expectedType.kind!=="value"&&(i=n.expectedType);for(var s={},a=[],o=2;o<e.length-1;o+=2){var l=e[o],c=e[o+1];Array.isArray(l)||(l=[l]);var u=n.concat(o);if(l.length===0)return u.error("Expected at least one branch label.");for(var d=0,h=l;d<h.length;d+=1){var f=h[d];if(typeof f!="number"&&typeof f!="string")return u.error("Branch labels must be numbers or strings.");if(typeof f=="number"&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof f=="number"&&Math.floor(f)!==f)return u.error("Numeric branch labels must be integer values.");if(!r)r=Fn(f);else if(u.checkSubtype(r,Fn(f)))return null;if(typeof s[String(f)]<"u")return u.error("Branch labels must be unique.");s[String(f)]=a.length}var p=n.parse(c,o,i);if(!p)return null;i=i||p.type,a.push(p)}var m=n.parse(e[1],1,rt);if(!m)return null;var y=n.parse(e[e.length-1],e.length-1,i);return!y||m.type.kind!=="value"&&n.concat(1).checkSubtype(r,m.type)?null:new nl(r,i,m,s,a,y)};nl.prototype.evaluate=function(e){var n=this.input.evaluate(e),r=Fn(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise;return r.evaluate(e)};nl.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)};nl.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})&&this.otherwise.outputDefined()};nl.prototype.serialize=function(){for(var e=this,n=["match",this.input.serialize()],r=Object.keys(this.cases).sort(),i=[],s={},a=0,o=r;a<o.length;a+=1){var l=o[a],c=s[this.cases[l]];c===void 0?(s[this.cases[l]]=i.length,i.push([this.cases[l],[l]])):i[c][1].push(l)}for(var u=function(m){return e.inputType.kind==="number"?Number(m):m},d=0,h=i;d<h.length;d+=1){var f=h[d],c=f[0],p=f[1];p.length===1?n.push(u(p[0])):n.push(p.map(u)),n.push(this.outputs[outputIndex$1].serialize())}return n.push(this.otherwise.serialize()),n};var rl=function(e,n,r){this.type=e,this.branches=n,this.otherwise=r};rl.parse=function(e,n){if(e.length<4)return n.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!==0)return n.error("Expected an odd number of arguments.");var r;n.expectedType&&n.expectedType.kind!=="value"&&(r=n.expectedType);for(var i=[],s=1;s<e.length-1;s+=2){var a=n.parse(e[s],s,nt);if(!a)return null;var o=n.parse(e[s+1],s+1,r);if(!o)return null;i.push([a,o]),r=r||o.type}var l=n.parse(e[e.length-1],e.length-1,r);return l?new rl(r,i,l):null};rl.prototype.evaluate=function(e){for(var n=0,r=this.branches;n<r.length;n+=1){var i=r[n],s=i[0],a=i[1];if(s.evaluate(e))return a.evaluate(e)}return this.otherwise.evaluate(e)};rl.prototype.eachChild=function(e){for(var n=0,r=this.branches;n<r.length;n+=1){var i=r[n],s=i[0],a=i[1];e(s),e(a)}e(this.otherwise)};rl.prototype.outputDefined=function(){return this.branches.every(function(e){e[0];var n=e[1];return n.outputDefined()})&&this.otherwise.outputDefined()};rl.prototype.serialize=function(){var e=["case"];return this.eachChild(function(n){e.push(n.serialize())}),e};var $a=function(e,n,r,i){this.type=e,this.input=n,this.beginIndex=r,this.endIndex=i};$a.parse=function(e,n){if(e.length<=2||e.length>=5)return n.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=n.parse(e[1],1,rt),i=n.parse(e[2],2,xe);if(!r||!i)return null;if(!z1(r.type,[hi(rt),ot,rt]))return n.error("Expected first argument to be of type array or string, but found "+Zt(r.type)+" instead");if(e.length===4){var s=n.parse(e[3],3,xe);return s?new $a(r.type,r,i,s):null}else return new $a(r.type,r,i)};$a.prototype.evaluate=function(e){var n=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!Sd(n,["string","array"]))throw new Yn("Expected first argument to be of type array or string, but found "+Zt(Fn(n))+" instead.");if(this.endIndex){var i=this.endIndex.evaluate(e);return n.slice(r,i)}return n.slice(r)};$a.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)};$a.prototype.outputDefined=function(){return!1};$a.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function JT(t,e){return t==="=="||t==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function aW(t,e,n){return e===n}function oW(t,e,n){return e!==n}function lW(t,e,n){return e<n}function uW(t,e,n){return e>n}function cW(t,e,n){return e<=n}function dW(t,e,n){return e>=n}function qM(t,e,n,r){return r.compare(e,n)===0}function hW(t,e,n,r){return!qM(t,e,n,r)}function fW(t,e,n,r){return r.compare(e,n)<0}function pW(t,e,n,r){return r.compare(e,n)>0}function mW(t,e,n,r){return r.compare(e,n)<=0}function gW(t,e,n,r){return r.compare(e,n)>=0}function Yu(t,e,n){var r=t!=="=="&&t!=="!=";return function(){function i(s,a,o){this.type=nt,this.lhs=s,this.rhs=a,this.collator=o,this.hasUntypedArgument=s.type.kind==="value"||a.type.kind==="value"}return i.parse=function(a,o){if(a.length!==3&&a.length!==4)return o.error("Expected two or three arguments.");var l=a[0],c=o.parse(a[1],1,rt);if(!c)return null;if(!JT(l,c.type))return o.concat(1).error('"'+l+`" comparisons are not supported for type '`+Zt(c.type)+"'.");var u=o.parse(a[2],2,rt);if(!u)return null;if(!JT(l,u.type))return o.concat(2).error('"'+l+`" comparisons are not supported for type '`+Zt(u.type)+"'.");if(c.type.kind!==u.type.kind&&c.type.kind!=="value"&&u.type.kind!=="value")return o.error("Cannot compare types '"+Zt(c.type)+"' and '"+Zt(u.type)+"'.");r&&(c.type.kind==="value"&&u.type.kind!=="value"?c=new xr(u.type,[c]):c.type.kind!=="value"&&u.type.kind==="value"&&(u=new xr(c.type,[u])));var d=null;if(a.length===4){if(c.type.kind!=="string"&&u.type.kind!=="string"&&c.type.kind!=="value"&&u.type.kind!=="value")return o.error("Cannot use collator to compare non-string types.");if(d=o.parse(a[3],3,Nm),!d)return null}return new i(c,u,d)},i.prototype.evaluate=function(a){var o=this.lhs.evaluate(a),l=this.rhs.evaluate(a);if(r&&this.hasUntypedArgument){var c=Fn(o),u=Fn(l);if(c.kind!==u.kind||!(c.kind==="string"||c.kind==="number"))throw new Yn('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+c.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var d=Fn(o),h=Fn(l);if(d.kind!=="string"||h.kind!=="string")return e(a,o,l)}return this.collator?n(a,o,l,this.collator.evaluate(a)):e(a,o,l)},i.prototype.eachChild=function(a){a(this.lhs),a(this.rhs),this.collator&&a(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var a=[t];return this.eachChild(function(o){a.push(o.serialize())}),a},i}()}var yW=Yu("==",aW,qM),_W=Yu("!=",oW,hW),vW=Yu("<",lW,fW),bW=Yu(">",uW,pW),wW=Yu("<=",cW,mW),EW=Yu(">=",dW,gW),il=function(e,n,r,i,s){this.type=ot,this.number=e,this.locale=n,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=s};il.parse=function(e,n){if(e.length!==3)return n.error("Expected two arguments.");var r=n.parse(e[1],1,xe);if(!r)return null;var i=e[2];if(typeof i!="object"||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");var s=null;if(i.locale&&(s=n.parse(i.locale,1,ot),!s))return null;var a=null;if(i.currency&&(a=n.parse(i.currency,1,ot),!a))return null;var o=null;if(i["min-fraction-digits"]&&(o=n.parse(i["min-fraction-digits"],1,xe),!o))return null;var l=null;return i["max-fraction-digits"]&&(l=n.parse(i["max-fraction-digits"],1,xe),!l)?null:new il(r,s,a,o,l)};il.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))};il.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)};il.prototype.outputDefined=function(){return!1};il.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var sl=function(e){this.type=xe,this.input=e};sl.parse=function(e,n){if(e.length!==2)return n.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=n.parse(e[1],1);return r?r.type.kind!=="array"&&r.type.kind!=="string"&&r.type.kind!=="value"?n.error("Expected argument of type string or array, but found "+Zt(r.type)+" instead."):new sl(r):null};sl.prototype.evaluate=function(e){var n=this.input.evaluate(e);if(typeof n=="string")return n.length;if(Array.isArray(n))return n.length;throw new Yn("Expected value to be of type string or array, but found "+Zt(Fn(n))+" instead.")};sl.prototype.eachChild=function(e){e(this.input)};sl.prototype.outputDefined=function(){return!1};sl.prototype.serialize=function(){var e=["length"];return this.eachChild(function(n){e.push(n.serialize())}),e};var K1={"==":yW,"!=":_W,">":bW,"<":vW,">=":EW,"<=":wW,array:xr,at:el,boolean:xr,case:rl,coalesce:$s,collator:qa,format:Ha,image:Wa,in:tl,"index-of":Na,interpolate:Sr,"interpolate-hcl":Sr,"interpolate-lab":Sr,length:sl,let:Ja,literal:us,match:nl,number:xr,"number-format":il,object:xr,slice:$a,step:Za,string:xr,"to-boolean":mi,"to-color":mi,"to-number":mi,"to-string":mi,var:Ka,within:Mi};function QT(t,e){var n=e[0],r=e[1],i=e[2],s=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=s?s.evaluate(t):1,o=FM(n,r,i,a);if(o)throw new Yn(o);return new kt(n/255*a,r/255*a,i/255*a,a)}function ex(t,e){return t in e}function dy(t,e){var n=e[t];return typeof n>"u"?null:n}function TW(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}function _o(t){return{type:t}}gr.register(K1,{error:[AH,[ot],function(t,e){var n=e[0];throw new Yn(n.evaluate(t))}],typeof:[ot,[rt],function(t,e){var n=e[0];return Zt(Fn(n.evaluate(t)))}],"to-rgba":[hi(xe,4),[Ns],function(t,e){var n=e[0];return n.evaluate(t).toArray()}],rgb:[Ns,[xe,xe,xe],QT],rgba:[Ns,[xe,xe,xe,xe],QT],has:{type:nt,overloads:[[[ot],function(t,e){var n=e[0];return ex(n.evaluate(t),t.properties())}],[[ot,au],function(t,e){var n=e[0],r=e[1];return ex(n.evaluate(t),r.evaluate(t))}]]},get:{type:rt,overloads:[[[ot],function(t,e){var n=e[0];return dy(n.evaluate(t),t.properties())}],[[ot,au],function(t,e){var n=e[0],r=e[1];return dy(n.evaluate(t),r.evaluate(t))}]]},"feature-state":[rt,[ot],function(t,e){var n=e[0];return dy(n.evaluate(t),t.featureState||{})}],properties:[au,[],function(t){return t.properties()}],"geometry-type":[ot,[],function(t){return t.geometryType()}],id:[rt,[],function(t){return t.id()}],zoom:[xe,[],function(t){return t.globals.zoom}],pitch:[xe,[],function(t){return t.globals.pitch||0}],"distance-from-center":[xe,[],function(t){return t.distanceFromCenter()}],"heatmap-density":[xe,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[xe,[],function(t){return t.globals.lineProgress||0}],"sky-radial-progress":[xe,[],function(t){return t.globals.skyRadialProgress||0}],accumulated:[rt,[],function(t){return t.globals.accumulated===void 0?null:t.globals.accumulated}],"+":[xe,_o(xe),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1){var s=i[r];n+=s.evaluate(t)}return n}],"*":[xe,_o(xe),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1){var s=i[r];n*=s.evaluate(t)}return n}],"-":{type:xe,overloads:[[[xe,xe],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[xe],function(t,e){var n=e[0];return-n.evaluate(t)}]]},"/":[xe,[xe,xe],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[xe,[xe,xe],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[xe,[],function(){return Math.LN2}],pi:[xe,[],function(){return Math.PI}],e:[xe,[],function(){return Math.E}],"^":[xe,[xe,xe],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[xe,[xe],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[xe,[xe],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN10}],ln:[xe,[xe],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[xe,[xe],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN2}],sin:[xe,[xe],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[xe,[xe],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[xe,[xe],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[xe,[xe],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[xe,[xe],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[xe,[xe],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[xe,_o(xe),function(t,e){return Math.min.apply(Math,e.map(function(n){return n.evaluate(t)}))}],max:[xe,_o(xe),function(t,e){return Math.max.apply(Math,e.map(function(n){return n.evaluate(t)}))}],abs:[xe,[xe],function(t,e){var n=e[0];return Math.abs(n.evaluate(t))}],round:[xe,[xe],function(t,e){var n=e[0],r=n.evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[xe,[xe],function(t,e){var n=e[0];return Math.floor(n.evaluate(t))}],ceil:[xe,[xe],function(t,e){var n=e[0];return Math.ceil(n.evaluate(t))}],"filter-==":[nt,[ot,rt],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[nt,[rt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[nt,[ot],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[nt,[ot,rt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],s=r.value;return typeof i==typeof s&&i<s}],"filter-id-<":[nt,[rt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[nt,[ot,rt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],s=r.value;return typeof i==typeof s&&i>s}],"filter-id->":[nt,[rt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[nt,[ot,rt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],s=r.value;return typeof i==typeof s&&i<=s}],"filter-id-<=":[nt,[rt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[nt,[ot,rt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],s=r.value;return typeof i==typeof s&&i>=s}],"filter-id->=":[nt,[rt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[nt,[rt],function(t,e){var n=e[0];return n.value in t.properties()}],"filter-has-id":[nt,[],function(t){return t.id()!==null&&t.id()!==void 0}],"filter-type-in":[nt,[hi(ot)],function(t,e){var n=e[0];return n.value.indexOf(t.geometryType())>=0}],"filter-id-in":[nt,[hi(rt)],function(t,e){var n=e[0];return n.value.indexOf(t.id())>=0}],"filter-in-small":[nt,[ot,hi(rt)],function(t,e){var n=e[0],r=e[1];return r.value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[nt,[ot,hi(rt)],function(t,e){var n=e[0],r=e[1];return TW(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:nt,overloads:[[[nt,nt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[_o(nt),function(t,e){for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(!i.evaluate(t))return!1}return!0}]]},any:{type:nt,overloads:[[[nt,nt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[_o(nt),function(t,e){for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(i.evaluate(t))return!0}return!1}]]},"!":[nt,[nt],function(t,e){var n=e[0];return!n.evaluate(t)}],"is-supported-script":[nt,[ot],function(t,e){var n=e[0],r=t.globals&&t.globals.isSupportedScript;return r?r(n.evaluate(t)):!0}],upcase:[ot,[ot],function(t,e){var n=e[0];return n.evaluate(t).toUpperCase()}],downcase:[ot,[ot],function(t,e){var n=e[0];return n.evaluate(t).toLowerCase()}],concat:[ot,_o(rt),function(t,e){return e.map(function(n){return $c(n.evaluate(t))}).join("")}],"resolved-locale":[ot,[Nm],function(t,e){var n=e[0];return n.evaluate(t).resolvedLocale()}]});function V_(t){return{result:"success",value:t}}function Ul(t){return{result:"error",value:t}}function xW(t){return t["property-type"]==="data-driven"||t["property-type"]==="cross-faded-data-driven"}function CW(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function SW(t){return!!t.expression&&t.expression.interpolated}function KM(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var X1=function(e,n){this.expression=e,this._warningHistory={},this._evaluator=new Ks,this._defaultValue=n?AW(n):null,this._enumValues=n&&n.type==="enum"?n.values:null};X1.prototype.evaluateWithoutErrorHandling=function(e,n,r,i,s,a,o,l){return this._evaluator.globals=e,this._evaluator.feature=n,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=l||null,this.expression.evaluate(this._evaluator)};X1.prototype.evaluate=function(e,n,r,i,s,a,o,l){this._evaluator.globals=e,this._evaluator.feature=n||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=l||null;try{var c=this.expression.evaluate(this._evaluator);if(c==null||typeof c=="number"&&c!==c)return this._defaultValue;if(this._enumValues&&!(c in this._enumValues))throw new Yn("Expected value to be one of "+Object.keys(this._enumValues).map(function(u){return JSON.stringify(u)}).join(", ")+", but found "+JSON.stringify(c)+" instead.");return c}catch(u){return this._warningHistory[u.message]||(this._warningHistory[u.message]=!0,typeof console<"u"&&console.warn(u.message)),this._defaultValue}};function RW(t){return Array.isArray(t)&&t.length>0&&typeof t[0]=="string"&&t[0]in K1}function G_(t,e){var n=new Xa(K1,[],e?IW(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return r?V_(new X1(r,e)):Ul(n.errors)}var mp=function(e,n){this.kind=e,this._styleExpression=n,this.isStateDependent=e!=="constant"&&!W1(n.expression)};mp.prototype.evaluateWithoutErrorHandling=function(e,n,r,i,s,a){return this._styleExpression.evaluateWithoutErrorHandling(e,n,r,i,s,a)};mp.prototype.evaluate=function(e,n,r,i,s,a){return this._styleExpression.evaluate(e,n,r,i,s,a)};var Rd=function(e,n,r,i){this.kind=e,this.zoomStops=r,this._styleExpression=n,this.isStateDependent=e!=="camera"&&!W1(n.expression),this.interpolationType=i};Rd.prototype.evaluateWithoutErrorHandling=function(e,n,r,i,s,a){return this._styleExpression.evaluateWithoutErrorHandling(e,n,r,i,s,a)};Rd.prototype.evaluate=function(e,n,r,i,s,a){return this._styleExpression.evaluate(e,n,r,i,s,a)};Rd.prototype.interpolationFactor=function(e,n,r){return this.interpolationType?Sr.interpolationFactor(this.interpolationType,e,n,r):0};function kW(t,e){if(t=G_(t,e),t.result==="error")return t;var n=t.value.expression,r=Bm(n);if(!r&&!xW(e))return Ul([new Ki("","data expressions not supported")]);var i=q1(n,["zoom","pitch","distance-from-center"]);if(!i&&!CW(e))return Ul([new Ki("","zoom expressions not supported")]);var s=mf(n);if(!s&&!i)return Ul([new Ki("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof Ki)return Ul([s]);if(s instanceof Sr&&!SW(e))return Ul([new Ki("",'"interpolate" expressions cannot be used with this property')]);if(!s)return V_(r?new mp("constant",t.value):new mp("source",t.value));var a=s instanceof Sr?s.interpolation:void 0;return V_(r?new Rd("camera",t.value,s.labels,a):new Rd("composite",t.value,s.labels,a))}function mf(t){var e=null;if(t instanceof Ja)e=mf(t.result);else if(t instanceof $s)for(var n=0,r=t.args;n<r.length;n+=1){var i=r[n];if(e=mf(i),e)break}else(t instanceof Za||t instanceof Sr)&&t.input instanceof gr&&t.input.name==="zoom"&&(e=t);return e instanceof Ki||t.eachChild(function(s){var a=mf(s);a instanceof Ki?e=a:!e&&a?e=new Ki("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&a&&e!==a&&(e=new Ki("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function IW(t){var e={color:Ns,string:ot,number:xe,enum:ot,boolean:nt,formatted:$m,resolvedImage:lh};return t.type==="array"?hi(e[t.value]||rt,t.length):e[t.type]}function AW(t){return t.type==="color"&&(KM(t.default)||Array.isArray(t.default))?new kt(0,0,0,0):t.type==="color"?kt.parse(t.default)||null:t.default===void 0?null:t.default}function MW(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function j_(t){if(Array.isArray(t))return t.map(j_);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=j_(t[n]);return e}return MW(t)}var XM={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function ZM(t){if(t===!0||t===!1)return!0;if(!Array.isArray(t)||t.length===0)return!1;switch(t[0]){case"has":return t.length>=2&&t[1]!=="$id"&&t[1]!=="$type";case"in":return t.length>=3&&(typeof t[1]!="string"||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return t.length!==3||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!ZM(r)&&typeof r!="boolean")return!1}return!0;default:return!0}}function PW(t,e){if(e===void 0&&(e="fill"),t==null)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};ZM(t)||(t=gp(t));var n=t,r=!0;try{r=DW(n)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
`+JSON.stringify(n,null,2)+`
        `)}var i=XM["filter_"+e],s=G_(r,i),a=null;if(s.result==="error")throw new Error(s.value.map(function(d){return d.key+": "+d.message}).join(", "));a=function(d,h,f){return s.value.evaluate(d,h,{},f)};var o=null,l=null;if(r!==n){var c=G_(n,i);if(c.result==="error")throw new Error(c.value.map(function(d){return d.key+": "+d.message}).join(", "));o=function(d,h,f,p,m){return c.value.evaluate(d,h,{},f,void 0,void 0,p,m)},l=!Bm(c.value.expression)}a=a;var u=eP(r);return{filter:a,dynamicFilter:o||void 0,needGeometry:u,needFeature:!!l}}function DW(t){if(!lu(t))return t;var e=j_(t);return QM(e),e=JM(e),e}function JM(t){if(!Array.isArray(t))return t;var e=FW(t);return e===!0?e:e.map(function(n){return JM(n)})}function QM(t){var e=!1,n=[];if(t[0]==="case"){for(var r=1;r<t.length-1;r+=2)e=e||lu(t[r]),n.push(t[r+1]);n.push(t[t.length-1])}else if(t[0]==="match"){e=e||lu(t[1]);for(var i=2;i<t.length-1;i+=2)n.push(t[i+1]);n.push(t[t.length-1])}else if(t[0]==="step"){e=e||lu(t[1]);for(var s=1;s<t.length-1;s+=2)n.push(t[s+1])}e&&(t.length=0,t.push.apply(t,["any"].concat(n)));for(var a=1;a<t.length;a++)QM(t[a])}function lu(t){if(!Array.isArray(t))return!1;if(OW(t[0]))return!0;for(var e=1;e<t.length;e++){var n=t[e];if(lu(n))return!0}return!1}function OW(t){return t==="pitch"||t==="distance-from-center"}var LW=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function FW(t){if(LW.has(t[0]))for(var e=1;e<t.length;e++){var n=t[e];if(lu(n))return!0}return t}function NW(t,e){return t<e?-1:t>e?1:0}function eP(t){if(!Array.isArray(t))return!1;if(t[0]==="within")return!0;for(var e=1;e<t.length;e++)if(eP(t[e]))return!0;return!1}function gp(t){if(!t)return!0;var e=t[0];if(t.length<=1)return e!=="any";var n=e==="=="?hy(t[1],t[2],"=="):e==="!="?Xh(hy(t[1],t[2],"==")):e==="<"||e===">"||e==="<="||e===">="?hy(t[1],t[2],e):e==="any"?$W(t.slice(1)):e==="all"?["all"].concat(t.slice(1).map(gp)):e==="none"?["all"].concat(t.slice(1).map(gp).map(Xh)):e==="in"?tx(t[1],t.slice(2)):e==="!in"?Xh(tx(t[1],t.slice(2))):e==="has"?nx(t[1]):e==="!has"?Xh(nx(t[1])):e==="within"?t:!0;return n}function hy(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function $W(t){return["any"].concat(t.map(gp))}function tx(t,e){if(e.length===0)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(n){return typeof n!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(NW)]]:["filter-in-small",t,["literal",e]]}}function nx(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Xh(t){return["!",t]}var BW=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function VW(t,e){var n={};for(var r in t)r!=="ref"&&(n[r]=t[r]);return BW.forEach(function(i){i in e&&(n[i]=e[i])}),n}function GW(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=VW(t[r],e[t[r].ref]));return t}var rx={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},gc=" ",ix=/(italic|oblique)$/i,sx={},z_=function(t,e,n){var r=sx[t];if(!r){Array.isArray(t)||(t=[t]);for(var i=400,s="normal",a=[],o,l,c=0,u=t.length;c<u;++c){var d=t[c],h=d.split(" "),f=h[h.length-1].toLowerCase();f=="normal"||f=="italic"||f=="oblique"?(s=l?s:f,h.pop(),f=h[h.length-1].toLowerCase()):ix.test(f)&&(f=f.replace(ix,""),s=l?s:h[h.length-1].replace(f,""));for(var p in rx){var m=h.length>1?h[h.length-2].toLowerCase():"";if(f==p||f==p.replace("-","")||m+"-"+f==p){i=o?i:rx[p],h.pop(),m&&p.startsWith(m)&&h.pop();break}}!o&&typeof f=="number"&&(i=f);var y=h.join(gc).replace("Klokantech Noto Sans","Noto Sans");y.indexOf(gc)!==-1&&(y='"'+y+'"'),a.push(y)}r=sx[t]=[s,i,a]}return r[0]+gc+r[1]+gc+e+"px"+(n?"/"+n:"")+gc+r[2]},tP="https://api.mapbox.com";function Z1(t){var e="mapbox://";return t.indexOf(e)!==0?"":t.slice(e.length)}function jW(t,e,n){var r=Z1(t);if(!r)return decodeURI(new URL(t,n).href);var i="sprites/";if(r.indexOf(i)!==0)throw new Error("unexpected sprites url: "+t);var s=r.slice(i.length);return tP+"/styles/v1/"+s+"/sprite?access_token="+e}function nP(t,e){var n=Z1(t);if(!n)return decodeURI(new URL(t,location.href).href);var r="styles/";if(n.indexOf(r)!==0)throw new Error("unexpected style url: "+t);var i=n.slice(r.length);return tP+"/styles/v1/"+i+"?&access_token="+e}function gf(t,e,n,r){var i=new URL(t,r),s=Z1(t);return s?"https://{a-d}.tiles.mapbox.com/v4/"+s+"/{z}/{x}/{y}.vector.pbf?access_token="+e:(e&&i.searchParams.set(n,e),decodeURI(i.href))}function fy(t){return t*Math.PI/180}var rP=function(){for(var t=[],e=78271.51696402048;t.length<=24;e/=2)t.push(e);return t}();function iP(t,e){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(t,e);var n=document.createElement("canvas");return n.width=t,n.height=e,n}function zW(t,e){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(i<t&&n+1<r){var s=e[n]/e[n+1];return n+Math.log(e[n]/t)/Math.log(s)}}return r-1}var yc={};function yp(t,e,n){if(n===void 0&&(n={}),e in yc)return yc[e];var r=n.transformRequest?n.transformRequest(e,t)||new Request(e):new Request(e);r.headers.get("Accept")||r.headers.set("Accept","application/json");var i=fetch(r).then(function(s){return delete yc[e],s.ok?s.json():Promise.reject(new Error("Error fetching source "+e))}).catch(function(s){return delete yc[e],Promise.reject(new Error("Error fetching source "+e))});return yc[e]=i,i}function UW(t,e){if(typeof t=="string")if(t.trim().startsWith("{"))try{var n=JSON.parse(t);return Promise.resolve(n)}catch(r){return Promise.reject(r)}else return t=nP(t,e.accessToken),yp("Style",t,e);else return Promise.resolve(t)}var ax={};function YW(t,e,n){n===void 0&&(n={});var r=[e,JSON.stringify(t)].toString(),i=ax[r];if(!i||n.transformRequest){var s=t.url;if(s&&!t.tiles){var a=gf(s,n.accessToken,n.accessTokenParam||"access_token",e||location.href);s.startsWith("mapbox://")?i=Promise.resolve(Object.assign({},t,{url:void 0,tiles:a})):i=yp("Source",a,n).then(function(o){for(var l=0,c=o.tiles.length;l<c;++l){var u=o.tiles[l];if(n.transformRequest){var d=n.transformRequest(a,"Source");d&&(a=d.url)}var h=gf(u,n.accessToken,n.accessTokenParam||"access_token",a);if(n.transformRequest){var f=n.transformRequest(h,"Tiles");f instanceof Request&&(h=decodeURI(f.url))}o.tiles[l]=h}return Promise.resolve(o)})}else t=Object.assign({},t,{tiles:t.tiles.map(function(o){return gf(o,n.accessToken,n.accessTokenParam||"access_token",e||location.href)})}),i=Promise.resolve(Object.assign({},t));ax[r]=i}return i}var HW=Array(256).join(" ");function U_(t,e){if(e>=.05){for(var n="",r=t.split(`
`),i=HW.slice(0,Math.round(e/.1)),s=0,a=r.length;s<a;++s)s>0&&(n+=`
`),n+=r[s].split("").join(i);return n}return t}var py;function sP(){return py||(py=iP(1,1).getContext("2d")),py}function vo(t,e){return sP().measureText(t).width+(t.length-1)*e}var ox={};function Y_(t,e,n,r){if(t.indexOf(`
`)!==-1){for(var i=t.split(`
`),s=[],a=0,o=i.length;a<o;++a)s.push(Y_(i[a],e,n,r));return s.join(`
`)}var l=n+","+e+","+t+","+r,c=ox[l];if(!c){var u=t.split(" ");if(u.length>1){var d=sP();d.font=e;for(var h=d.measureText("M").width,f=h*n,p="",m=[],y=0,v=u.length;y<v;++y){var b=u[y],g=p+(p?" ":"")+b;vo(g,r)<=f?p=g:(p&&m.push(p),p=b)}p&&m.push(p);for(var _=0,w=m.length;_<w&&w>1;++_){var E=m[_];if(vo(E,r)<f*.35){var x=_>0?vo(m[_-1],r):1/0,S=_<w-1?vo(m[_+1],r):1/0;m.splice(_,1),w-=1,x<S?(m[_-1]+=" "+E,_-=1):m[_]=E+" "+m[_]}}for(var T=0,P=m.length-1;T<P;++T){var B=m[T],F=m[T+1];if(vo(B,r)>f*.7&&vo(F,r)<f*.6){var z=B.split(" "),j=z.pop();vo(j,r)<f*.2&&(m[T]=z.join(" "),m[T+1]=j+" "+F),P-=1}}c=m.join(`
`)}else c=t;c=U_(c,r),ox[l]=c}return c}var WW=/font-family: ?([^;]*);/,qW=/("|')/g,Zh;function KW(t){if(!Zh){Zh={};for(var e=document.styleSheets,n=0,r=e.length;n<r;++n){var i=e[n];try{var s=i.rules||i.cssRules;if(s)for(var a=0,o=s.length;a<o;++a){var l=s[a];if(l.type==5){var c=l.cssText.match(WW);Zh[c[1].replace(qW,"")]=!0}}}catch{}}}return t in Zh}var my={};function XW(t){var e=t.toString();if(e in my)return my[e];for(var n=[],r=0,i=t.length;r<i;++r){t[r]=t[r].replace("Arial Unicode MS","Arial");var s=t[r],a=z_(s,1);jk(a);var o=a.split(" ");n.push([o.slice(3).join(" ").replace(/"/g,""),o[1],o[0]])}for(var l=0,c=n.length;l<c;++l){var u=n[l],d=u[0];if(!KW(d)&&Ui.get(u[2]+`
`+u[1]+` 
`+d)!==100){var h="https://fonts.googleapis.com/css?family="+d.replace(/ /g,"+")+":"+u[1]+u[2];if(!document.querySelector('link[href="'+h+'"]')){var f=document.createElement("link");f.href=h,f.rel="stylesheet",document.head.appendChild(f)}}}return my[e]=t,t}var ZW={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},JW={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},QW=function(t,e){var n=kW(t,e);if(n.result==="error")throw new Error(n.value.map(function(r){return r.key+": "+r.message}).join(", "));return n.value},H_={},_p={zoom:0},Jh,gy;function Ke(t,e,n,r,i,s,a){var o=t.id;s||(s={},console.warn("No functionCache provided to getValue()")),s[o]||(s[o]={});var l=s[o];if(!l[n]){var c=(t[e]||H_)[n],u=XM[e+"_"+t.type][n];c===void 0&&(c=u.default);var d=RW(c);if(!d&&KM(c)&&(c=xH(c,u),d=!0),d){var h=QW(c,u);l[n]=h.evaluate.bind(h)}else u.type=="color"&&(c=kt.parse(c)),l[n]=function(){return c}}return _p.zoom=r,l[n](_p,i,a)}function e7(t,e,n,r){var i=Ke(t,"layout","icon-allow-overlap",e,n,r);if(!i)return"declutter";var s=Ke(t,"layout","icon-ignore-placement",e,n,r);return s?"none":"obstacle"}function t7(t,e,n,r,i){return i||console.warn("No filterCache provided to evaluateFilter()"),t in i||(i[t]=PW(e).filter),_p.zoom=r,i[t](_p,n)}function bo(t,e){if(t){if(t.a===0||e===0)return;var n=t.a;return e=e===void 0?1:e,n===0?"transparent":"rgba("+Math.round(t.r*255/n)+","+Math.round(t.g*255/n)+","+Math.round(t.b*255/n)+","+n*e+")"}return t}var n7=/\{[^{}}]*\}/g;function yy(t,e){return t.replace(n7,function(n){return e[n.slice(1,-1)]||""})}function r7(t,e,n,r,i,s,a){if(r===void 0&&(r=rP),i===void 0&&(i=void 0),s===void 0&&(s=void 0),a===void 0&&(a=void 0),typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");var o,l;if(s){if(typeof Image<"u"){var c=new Image;c.crossOrigin="anonymous",c.onload=function(){o=c,l=[c.width,c.height],t.changed(),c.onload=null},c.src=s}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){var u=self;u.postMessage({action:"loadImage",src:s}),u.addEventListener("message",function(O){O.data.action==="imageLoaded"&&O.data.src===s&&(o=O.data.image,l=[o.width,o.height])})}}for(var d=GW(e.layers),h={},f=[],p={},m={},y={},v={},b,g=0,_=d.length;g<_;++g){var w=d[g],E=w.id;if(typeof n=="string"&&w.source==n||n.indexOf(E)!==-1){var x=w["source-layer"];if(b){if(w.source!==b)throw new Error('Layer "'+E+'" does not use source "'+b)}else{b=w.source;var S=e.sources[b];if(!S)throw new Error('Source "'+b+'" is not defined');var T=S.type;if(T!=="vector"&&T!=="geojson")throw new Error('Source "'+b+'" is not of type "vector" or "geojson", but "'+T+'"')}var P=h[x];P||(P=[],h[x]=P),P.push({layer:w,index:g}),f.push(E)}}var B=new Ea,F=new Ai,z=[],j=function(I,O){var M=I.getProperties(),H=h[M.layer];if(H){var Z=r.indexOf(O);Z==-1&&(Z=zW(O,r));for(var le=ZW[I.getGeometry().getType()],ie={properties:M,type:le},N=t.get("mapbox-featurestate")[I.getId()],te=-1,A=0,se=H.length;A<se;++A){var pe=H[A],L=pe.layer,ve=L.id,Pe=L.layout||H_,ne=L.paint||H_;if(!(Pe.visibility==="none"||"minzoom"in L&&Z<L.minzoom||"maxzoom"in L&&Z>=L.maxzoom)){var De=L.filter;if(!De||t7(ve,De,ie,Z,v)){var G=void 0,k=void 0,C=void 0,$=void 0,U=void 0,W=void 0,V=pe.index;if(le==3&&(L.type=="fill"||L.type=="fill-extrusion"))if(k=Ke(L,"paint",L.type+"-opacity",Z,ie,y,N),L.type+"-pattern"in ne){var ee=Ke(L,"paint",L.type+"-pattern",Z,ie,y,N);if(ee){var R=typeof ee=="string"?yy(ee,M):ee.toString();if(o&&i&&i[R]){++te,W=z[te],(!W||!W.getFill()||W.getStroke()||W.getText())&&(W=new di({fill:new Ai}),z[te]=W),C=W.getFill(),W.setZIndex(V);var D=R+"."+k,Y=m[D];if(!Y){var J=i[R],he=iP(J.width,J.height),ce=he.getContext("2d");ce.globalAlpha=k,ce.drawImage(o,J.x,J.y,J.width,J.height,0,0,J.width,J.height),Y=ce.createPattern(he,"repeat"),m[D]=Y}C.setColor(Y)}}}else G=bo(Ke(L,"paint",L.type+"-color",Z,ie,y,N),k),L.type+"-outline-color"in ne&&(U=bo(Ke(L,"paint",L.type+"-outline-color",Z,ie,y,N),k)),U||(U=G),(G||U)&&(++te,W=z[te],(!W||G&&!W.getFill()||!G&&W.getFill()||U&&!W.getStroke()||!U&&W.getStroke()||W.getText())&&(W=new di({fill:G?new Ai:void 0,stroke:U?new Ea:void 0}),z[te]=W),G&&(C=W.getFill(),C.setColor(G)),U&&($=W.getStroke(),$.setColor(U),$.setWidth(.5)),W.setZIndex(V));if(le!=1&&L.type=="line"){G=!("line-pattern"in ne)&&"line-color"in ne?bo(Ke(L,"paint","line-color",Z,ie,y,N),Ke(L,"paint","line-opacity",Z,ie,y,N)):void 0;var X=Ke(L,"paint","line-width",Z,ie,y,N);G&&X>0&&(++te,W=z[te],(!W||!W.getStroke()||W.getFill()||W.getText())&&(W=new di({stroke:new Ea}),z[te]=W),$=W.getStroke(),$.setLineCap(Ke(L,"layout","line-cap",Z,ie,y,N)),$.setLineJoin(Ke(L,"layout","line-join",Z,ie,y,N)),$.setMiterLimit(Ke(L,"layout","line-miter-limit",Z,ie,y,N)),$.setColor(G),$.setWidth(X),$.setLineDash(ne["line-dasharray"]?Ke(L,"paint","line-dasharray",Z,ie,y,N).map(function(rr){return rr*X}):null),W.setZIndex(V))}var re=!1,Te=null,Re=0,mt=void 0,et=void 0,It=void 0;if((le==1||le==2)&&"icon-image"in Pe){var Ot=Ke(L,"layout","icon-image",Z,ie,y,N);if(Ot){mt=typeof Ot=="string"?yy(Ot,M):Ot.toString();var nr=void 0;if(o&&i&&i[mt]){var vi=Ke(L,"layout","icon-rotation-alignment",Z,ie,y,N);if(le==2){var At=I.getGeometry();if(At.getFlatMidpoint||At.getFlatMidpoints){var Q=At.getExtent(),be=Math.sqrt(Math.max(Math.pow((Q[2]-Q[0])/O,2),Math.pow((Q[3]-Q[1])/O,2)));if(be>150){var oe=At.getType()==="MultiLineString"?At.getFlatMidpoints():At.getFlatMidpoint();gy||(Jh=[NaN,NaN],gy=new Zn("Point",Jh,[],{},null)),nr=gy,Jh[0]=oe[0],Jh[1]=oe[1];var Ee=Ke(L,"layout","symbol-placement",Z,ie,y,N);if(Ee==="line"&&vi==="map")for(var Ce=At.getStride(),Lt=At.getFlatCoordinates(),jt=0,ai=Lt.length-Ce;jt<ai;jt+=Ce){var bi=Lt[jt],on=Lt[jt+1],xn=Lt[jt+Ce],Cn=Lt[jt+Ce+1],kr=Math.min(bi,xn),Ir=Math.min(on,Cn),wi=Math.max(bi,xn),Ei=Math.max(on,Cn);if(oe[0]>=kr&&oe[0]<=wi&&oe[1]>=Ir&&oe[1]<=Ei){Re=Math.atan2(on-Cn,xn-bi);break}}}}}if(le!==2||nr){var zt=Ke(L,"layout","icon-size",Z,ie,y,N),Ut=ne["icon-color"]!==void 0?Ke(L,"paint","icon-color",Z,ie,y,N):null;if(!Ut||Ut.a!==0){var Hr=mt+"."+zt;if(Ut!==null&&(Hr+="."+Ut),et=p[Hr],!et){var Xs=i[mt],FP=e7(L,Z,ie,y);et=new Xd({color:Ut?[Ut.r*255,Ut.g*255,Ut.b*255,Ut.a]:void 0,img:o,imgSize:l,size:[Xs.width,Xs.height],offset:[Xs.x,Xs.y],rotateWithView:vi==="map",scale:zt/Xs.pixelRatio,displacement:"icon-offset"in Pe?Ke(L,"layout","icon-offset",Z,ie,y,N).map(function(rr){return-rr*Xs.pixelRatio}):void 0,declutterMode:FP}),p[Hr]=et}}et&&(++te,W=z[te],(!W||!W.getImage()||W.getFill()||W.getStroke())&&(W=new di,z[te]=W),W.setGeometry(nr),et.setRotation(Re+fy(Ke(L,"layout","icon-rotate",Z,ie,y,N))),et.setOpacity(Ke(L,"paint","icon-opacity",Z,ie,y,N)),et.setAnchor(JW[Ke(L,"layout","icon-anchor",Z,ie,y,N)]),W.setImage(et),Te=W.getText(),W.setText(void 0),W.setZIndex(V),re=!0,It=!1)}else It=!0}}}if(le==1&&L.type==="circle"){++te,W=z[te],(!W||!W.getImage()||W.getFill()||W.getStroke())&&(W=new di,z[te]=W);var cb="circle-radius"in ne?Ke(L,"paint","circle-radius",Z,ie,y,N):5,qm=bo(Ke(L,"paint","circle-stroke-color",Z,ie,y,N),Ke(L,"paint","circle-stroke-opacity",Z,ie,y,N)),Km=bo(Ke(L,"paint","circle-color",Z,ie,y,N),Ke(L,"paint","circle-opacity",Z,ie,y,N)),Xm=Ke(L,"paint","circle-stroke-width",Z,ie,y,N),db=cb+"."+qm+"."+Km+"."+Xm;et=p[db],et||(et=new ul({radius:cb,stroke:qm&&Xm>0?new Ea({width:Xm,color:qm}):void 0,fill:Km?new Ai({color:Km}):void 0,declutterMode:"none"}),p[db]=et),W.setImage(et),Te=W.getText(),W.setText(void 0),W.setGeometry(void 0),W.setZIndex(V),re=!0}var Kn=void 0,Ju=void 0,Qu=void 0,Zs=void 0,ec=void 0,Zm=void 0;if("text-field"in Pe){Zs=Math.round(Ke(L,"layout","text-size",Z,ie,y,N));var Jm=Ke(L,"layout","text-font",Z,ie,y,N);Qu=Ke(L,"layout","text-line-height",Z,ie,y,N),Ju=z_(a?a(Jm):Jm,Zs,Qu),Ju.includes("sans-serif")||(Ju+=",sans-serif"),ec=Ke(L,"layout","text-letter-spacing",Z,ie,y,N),Zm=Ke(L,"layout","text-max-width",Z,ie,y,N);var vl=Ke(L,"layout","text-field",Z,ie,y,N);typeof vl=="object"&&vl.sections?vl.sections.length===1?Kn=vl.toString():Kn=vl.sections.reduce(function(rr,Js,qne){var _b=Js.fontStack?Js.fontStack.split(","):Jm,ig=z_(a?a(_b):_b,Zs*(Js.scale||1),Qu),bl=Js.text;if(bl===`
`)return rr.push(`
`,""),rr;if(le==2){rr.push(U_(bl,ec),ig);return}bl=Y_(bl,ig,Zm,ec).split(`
`);for(var fh=0,$P=bl.length;fh<$P;++fh)fh>0&&rr.push(`
`,""),rr.push(bl[fh],ig);return rr},[]):Kn=yy(vl,M).trim(),k=Ke(L,"paint","text-opacity",Z,ie,y,N)}if(Kn&&k&&!It){re||(++te,W=z[te],(!W||!W.getText()||W.getFill()||W.getStroke())&&(W=new di,z[te]=W),W.setImage(void 0),W.setGeometry(void 0)),W.getText()||W.setText(Te||new pm({padding:[2,2,2,2]})),Te=W.getText();var hb=Pe["text-transform"];hb=="uppercase"?Kn=Array.isArray(Kn)?Kn.map(function(rr,Js){return Js%2?rr:rr.toUpperCase()}):Kn.toUpperCase():hb=="lowercase"&&(Kn=Array.isArray(Kn)?Kn.map(function(rr,Js){return Js%2?rr:rr.toLowerCase()}):Kn.toLowerCase());var fb=Array.isArray(Kn)?Kn:le==2?U_(Kn,ec):Y_(Kn,Ju,Zm,ec);Te.setText(fb),Te.setFont(Ju),Te.setRotation(fy(Ke(L,"layout","text-rotate",Z,ie,y,N)));var hh=Ke(L,"layout","text-anchor",Z,ie,y,N),Qm=re||le==1?"point":Ke(L,"layout","symbol-placement",Z,ie,y,N);Te.setPlacement(Qm),Te.setOverflow(Qm==="point");var co=Ke(L,"paint","text-halo-width",Z,ie,y,N),pb=Ke(L,"layout","text-offset",Z,ie,y,N),mb=Ke(L,"paint","text-translate",Z,ie,y,N),eg=0,tg=0;if(Qm=="point"){var ng="center";hh.indexOf("left")!==-1?(ng="left",tg=co):hh.indexOf("right")!==-1&&(ng="right",tg=-co),Te.setTextAlign(ng);var NP=Ke(L,"layout","text-rotation-alignment",Z,ie,y,N);Te.setRotateWithView(NP=="map")}else Te.setMaxAngle(fy(Ke(L,"layout","text-max-angle",Z,ie,y,N))*Kn.length/fb.length),Te.setTextAlign(),Te.setRotateWithView(!1);var rg="middle";hh.indexOf("bottom")==0?(rg="bottom",eg=-co-.5*(Qu-1)*Zs):hh.indexOf("top")==0&&(rg="top",eg=co+.5*(Qu-1)*Zs),Te.setTextBaseline(rg),Te.setOffsetX(pb[0]*Zs+tg+mb[0]),Te.setOffsetY(pb[1]*Zs+eg+mb[1]),F.setColor(bo(Ke(L,"paint","text-color",Z,ie,y,N),k)),Te.setFill(F);var gb=bo(Ke(L,"paint","text-halo-color",Z,ie,y,N),k);if(gb){B.setColor(gb),co*=2;var yb=.5*Zs;B.setWidth(co<=yb?co:yb),Te.setStroke(B)}else Te.setStroke(void 0);var tc=Ke(L,"layout","text-padding",Z,ie,y,N),nc=Te.getPadding();tc!==nc[0]&&(nc[0]=tc,nc[1]=tc,nc[2]=tc,nc[3]=tc),W.setZIndex(V)}}}}if(te>-1)return z.length=te+1,z}};return t.setStyle(j),t.set("mapbox-source",b),t.set("mapbox-layers",f),t.set("mapbox-featurestate",{}),j}function i7(t,e){if(!e.accessToken){e=Object.assign({},e);var n=new URL(t).searchParams;n.forEach(function(r,i){e.accessToken=r,e.accessTokenParam=i})}return e}function s7(t,e,n,r,i){n===void 0&&(n=""),r===void 0&&(r={}),i===void 0&&(i=void 0);var s,a,o;return typeof r=="string"?(s=r,o={}):(s=r.styleUrl,o=r),i||(i=o.resolutions),!s&&typeof e=="string"&&!e.trim().startsWith("{")&&(s=e),s&&(s=s.startsWith("data:")?location.href:nP(s,o.accessToken),o=i7(s,o)),new Promise(function(l,c){UW(e,o).then(function(u){if(u.version!=8)return c(new Error("glStyle version 8 required."));if(!(t instanceof zU||t instanceof pf))return c(new Error("Can only apply to VectorLayer or VectorTileLayer"));var d=t instanceof pf?"vector":"geojson";if(n?Array.isArray(n)?a=u.layers.find(function(w){return w.id===n[0]}).source:a=n:(a=Object.keys(u.sources).find(function(w){return u.sources[w].type===d}),n=a),!a)return c(new Error("No "+d+" source found in the glStyle."));function h(){if(t instanceof pf)return o7(u.sources[a],s,o).then(function(S){var T=t.getSource();if(T?S!==T&&(T.setTileUrlFunction(S.getTileUrlFunction()),T.format_||(T.format_=S.format_),T.getAttributions()||T.setAttributions(S.getAttributions()),T.getTileLoadFunction()===xM&&T.setTileLoadFunction(S.getTileLoadFunction()),va(T.getProjection(),S.getProjection())&&(T.tileGrid=S.getTileGrid())):t.setSource(S),!isFinite(t.getMaxResolution())&&!isFinite(t.getMinZoom())){var P=t.getSource().getTileGrid();t.setMaxResolution(P.getResolution(P.getMinZoom()))}});var w=u.sources[a],E=t.getSource();(!E||E.get("mapbox-source")!==w)&&(E=l7(w,s,o));var x=t.getSource();return x?E!==x&&(x.getAttributions()||x.setAttributions(E.getAttributions()),x.format_||(x.format_=E.getFormat()),x.url_=E.getUrl()):t.setSource(E),Promise.resolve()}var f,p,m,y;function v(){!y&&(!u.sprite||p)?(y=r7(t,u,n,i,p,m,XW),t.getStyle()?h().then(l).catch(c):c(new Error("Nothing to show for source ["+a+"]"))):y?(t.setStyle(y),h().then(l).catch(c)):c(new Error("Something went wrong trying to apply style."))}if(u.sprite){var b=new URL(jW(u.sprite,o.accessToken,s||location.href));f=window.devicePixelRatio>=1.5?.5:1;var g=f==.5?"@2x":"",_=b.origin+b.pathname+g+".json"+b.search;new Promise(function(w,E){yp("Sprite",_,o).then(w).catch(function(x){_=b.origin+b.pathname+".json"+b.search,yp("Sprite",_,o).then(w).catch(E)})}).then(function(w){if(w===void 0&&c(new Error("No sprites found.")),p=w,m=b.origin+b.pathname+g+".png"+b.search,o.transformRequest){var E=o.transformRequest(m,"SpriteImage");E instanceof Request&&(m=encodeURI(E.url))}v()}).catch(function(w){c(new Error("Sprites cannot be loaded: "+_+": "+w.message))})}else v()}).catch(c)})}function a7(t){var e=t.bounds;if(e){var n=d_([e[0],e[1]]),r=d_([e[2],e[3]]);return[n[0],n[1],r[0],r[1]]}}function o7(t,e,n){return new Promise(function(r,i){YW(t,e,n).then(function(s){var a=new TY({tileJSON:s}),o=a.getTileJSON(),l=a.getTileGrid(),c=a7(o),u=o.minzoom||0,d=o.maxzoom||22,h={attributions:a.getAttributions(),format:new SM,tileGrid:new Om({origin:l.getOrigin(0),extent:c||l.getExtent(),minZoom:u,resolutions:rP.slice(0,d+1),tileSize:512})};Array.isArray(o.tiles)?h.urls=o.tiles:h.url=o.tiles,s.olSourceOptions&&Object.assign(h,s.olSourceOptions),r(new TM(h))}).catch(i)})}var lx=new W0;function l7(t,e,n){var r=t.data,i={};if(typeof r=="string"){var s=gf(r,n.accessToken,n.accessTokenParam||"access_token",e||location.href);if(n.transformRequest){var a=n.transformRequest(s,"GeoJSON");a instanceof Request&&(s=encodeURI(a.url))}i.url=s}else i.features=lx.readFeatures(r,{featureProjection:"EPSG:3857"});var o=new i1(Object.assign({attributions:t.attribution,format:lx},i));return o.set("mapbox-source",t),o}let aP,oP;const lP="c0a6b9b5-8480-4e47-963c-05b85d4b4500",u7=new nY({source:new vY({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),preload:100}),c7=!0;aP=new pf({source:new TM({format:new SM,url:`https://avoin-karttakuva.maanmittauslaitos.fi/vectortiles/taustakartta/wmts/1.0.0/taustakartta/default/v20/WGS84_Pseudo-Mercator/{z}/{y}/{x}.pbf?api-key=${lP}`}),preload:100,declutter:!0});oP=t=>{fetch(`https://avoin-karttakuva.maanmittauslaitos.fi/vectortiles/stylejson/v20/backgroundmap.json?TileMatrixSet=WGS84_Pseudo-Mercator&api-key=${lP}`).then(e=>e.json()).then(e=>{s7(t,e)}).catch(e=>{console.log("Error fetching style JSON:",e)})};const d7={name:"FieldBackgroundMap",components:{SettingsPanelSection:Pm},props:{settings:{type:Object,required:!0}},data(){return{customMapsEnabled:c7}}};function h7(t,e,n,r,i,s){const a=Ie("base-radio-button"),o=Ie("settings-panel-section");return K(),Fe(o,{title:t.$t("settings.backgroundMap")},{default:qe(()=>[we(a,{key:"default",modelValue:n.settings.backgroundMap,"onUpdate:modelValue":e[0]||(e[0]=l=>n.settings.backgroundMap=l),"model-value":n.settings.backgroundMap,"own-value":"default",label:t.$t("settings.backgroundMapDefault"),class:"radio-button"},null,8,["modelValue","model-value","label"]),i.customMapsEnabled?(K(),Fe(a,{key:"custom",modelValue:n.settings.backgroundMap,"onUpdate:modelValue":e[1]||(e[1]=l=>n.settings.backgroundMap=l),"model-value":n.settings.backgroundMap,"own-value":"custom",label:t.$t("settings.backgroundMapCustom"),class:"radio-button"},null,8,["modelValue","model-value","label"])):me("",!0)]),_:1},8,["title"])}const f7=je(d7,[["render",h7],["__scopeId","data-v-e2e045d7"]]),p7={name:"BaseBackdrop",emits:["click"]};function m7(t,e,n,r,i,s){return K(),ae("div",{class:"backdrop",onClick:e[0]||(e[0]=a=>t.$emit("click"))})}const Vm=je(p7,[["render",m7],["__scopeId","data-v-6e4e4d03"]]),g7={name:"AppVersion",computed:{appVersion(){return"v3.0.0"}}},y7={class:"row justify-content-center mt-3 app-version"};function _7(t,e,n,r,i,s){return K(),ae("div",y7,[ye("span",null,Ye(s.appVersion),1)])}const v7=je(g7,[["render",_7]]);function b7(){this.__data__=[],this.size=0}var w7=b7;function E7(t,e){return t===e||t!==t&&e!==e}var uP=E7,T7=uP;function x7(t,e){for(var n=t.length;n--;)if(T7(t[n][0],e))return n;return-1}var Gm=x7,C7=Gm,S7=Array.prototype,R7=S7.splice;function k7(t){var e=this.__data__,n=C7(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():R7.call(e,n,1),--this.size,!0}var I7=k7,A7=Gm;function M7(t){var e=this.__data__,n=A7(e,t);return n<0?void 0:e[n][1]}var P7=M7,D7=Gm;function O7(t){return D7(this.__data__,t)>-1}var L7=O7,F7=Gm;function N7(t,e){var n=this.__data__,r=F7(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var $7=N7,B7=w7,V7=I7,G7=P7,j7=L7,z7=$7;function Hu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hu.prototype.clear=B7;Hu.prototype.delete=V7;Hu.prototype.get=G7;Hu.prototype.has=j7;Hu.prototype.set=z7;var jm=Hu,U7=jm;function Y7(){this.__data__=new U7,this.size=0}var H7=Y7;function W7(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var q7=W7;function K7(t){return this.__data__.get(t)}var X7=K7;function Z7(t){return this.__data__.has(t)}var J7=Z7,Qh={},Q7=typeof Qh=="object"&&Qh&&Qh.Object===Object&&Qh,cP=Q7,eq=cP,tq=typeof self=="object"&&self&&self.Object===Object&&self,nq=eq||tq||Function("return this")(),ds=nq,rq=ds,iq=rq.Symbol,J1=iq,ux=J1,dP=Object.prototype,sq=dP.hasOwnProperty,aq=dP.toString,_c=ux?ux.toStringTag:void 0;function oq(t){var e=sq.call(t,_c),n=t[_c];try{t[_c]=void 0;var r=!0}catch{}var i=aq.call(t);return r&&(e?t[_c]=n:delete t[_c]),i}var lq=oq,uq=Object.prototype,cq=uq.toString;function dq(t){return cq.call(t)}var hq=dq,cx=J1,fq=lq,pq=hq,mq="[object Null]",gq="[object Undefined]",dx=cx?cx.toStringTag:void 0;function yq(t){return t==null?t===void 0?gq:mq:dx&&dx in Object(t)?fq(t):pq(t)}var zm=yq;function _q(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ch=_q,vq=zm,bq=ch,wq="[object AsyncFunction]",Eq="[object Function]",Tq="[object GeneratorFunction]",xq="[object Proxy]";function Cq(t){if(!bq(t))return!1;var e=vq(t);return e==Eq||e==Tq||e==wq||e==xq}var hP=Cq,Sq=ds,Rq=Sq["__core-js_shared__"],kq=Rq,_y=kq,hx=function(){var t=/[^.]+$/.exec(_y&&_y.keys&&_y.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Iq(t){return!!hx&&hx in t}var Aq=Iq,Mq=Function.prototype,Pq=Mq.toString;function Dq(t){if(t!=null){try{return Pq.call(t)}catch{}try{return t+""}catch{}}return""}var fP=Dq,Oq=hP,Lq=Aq,Fq=ch,Nq=fP,$q=/[\\^$.*+?()[\]{}|]/g,Bq=/^\[object .+?Constructor\]$/,Vq=Function.prototype,Gq=Object.prototype,jq=Vq.toString,zq=Gq.hasOwnProperty,Uq=RegExp("^"+jq.call(zq).replace($q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yq(t){if(!Fq(t)||Lq(t))return!1;var e=Oq(t)?Uq:Bq;return e.test(Nq(t))}var Hq=Yq;function Wq(t,e){return t?.[e]}var qq=Wq,Kq=Hq,Xq=qq;function Zq(t,e){var n=Xq(t,e);return Kq(n)?n:void 0}var _l=Zq,Jq=_l,Qq=ds,eK=Jq(Qq,"Map"),Q1=eK,tK=_l,nK=tK(Object,"create"),Um=nK,fx=Um;function rK(){this.__data__=fx?fx(null):{},this.size=0}var iK=rK;function sK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aK=sK,oK=Um,lK="__lodash_hash_undefined__",uK=Object.prototype,cK=uK.hasOwnProperty;function dK(t){var e=this.__data__;if(oK){var n=e[t];return n===lK?void 0:n}return cK.call(e,t)?e[t]:void 0}var hK=dK,fK=Um,pK=Object.prototype,mK=pK.hasOwnProperty;function gK(t){var e=this.__data__;return fK?e[t]!==void 0:mK.call(e,t)}var yK=gK,_K=Um,vK="__lodash_hash_undefined__";function bK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_K&&e===void 0?vK:e,this}var wK=bK,EK=iK,TK=aK,xK=hK,CK=yK,SK=wK;function Wu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wu.prototype.clear=EK;Wu.prototype.delete=TK;Wu.prototype.get=xK;Wu.prototype.has=CK;Wu.prototype.set=SK;var RK=Wu,px=RK,kK=jm,IK=Q1;function AK(){this.size=0,this.__data__={hash:new px,map:new(IK||kK),string:new px}}var MK=AK;function PK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var DK=PK,OK=DK;function LK(t,e){var n=t.__data__;return OK(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ym=LK,FK=Ym;function NK(t){var e=FK(this,t).delete(t);return this.size-=e?1:0,e}var $K=NK,BK=Ym;function VK(t){return BK(this,t).get(t)}var GK=VK,jK=Ym;function zK(t){return jK(this,t).has(t)}var UK=zK,YK=Ym;function HK(t,e){var n=YK(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var WK=HK,qK=MK,KK=$K,XK=GK,ZK=UK,JK=WK;function qu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qu.prototype.clear=qK;qu.prototype.delete=KK;qu.prototype.get=XK;qu.prototype.has=ZK;qu.prototype.set=JK;var QK=qu,eX=jm,tX=Q1,nX=QK,rX=200;function iX(t,e){var n=this.__data__;if(n instanceof eX){var r=n.__data__;if(!tX||r.length<rX-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nX(r)}return n.set(t,e),this.size=n.size,this}var sX=iX,aX=jm,oX=H7,lX=q7,uX=X7,cX=J7,dX=sX;function Ku(t){var e=this.__data__=new aX(t);this.size=e.size}Ku.prototype.clear=oX;Ku.prototype.delete=lX;Ku.prototype.get=uX;Ku.prototype.has=cX;Ku.prototype.set=dX;var hX=Ku;function fX(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var pX=fX,mX=_l,gX=function(){try{var t=mX(Object,"defineProperty");return t({},"",{}),t}catch{}}(),yX=gX,mx=yX;function _X(t,e,n){e=="__proto__"&&mx?mx(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var pP=_X,vX=pP,bX=uP,wX=Object.prototype,EX=wX.hasOwnProperty;function TX(t,e,n){var r=t[e];(!(EX.call(t,e)&&bX(r,n))||n===void 0&&!(e in t))&&vX(t,e,n)}var mP=TX,xX=mP,CX=pP;function SX(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=r?r(n[o],t[o],o,n,t):void 0;l===void 0&&(l=t[o]),i?CX(n,o,l):xX(n,o,l)}return n}var Hm=SX;function RX(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var kX=RX;function IX(t){return t!=null&&typeof t=="object"}var dh=IX,AX=zm,MX=dh,PX="[object Arguments]";function DX(t){return MX(t)&&AX(t)==PX}var OX=DX,gx=OX,LX=dh,gP=Object.prototype,FX=gP.hasOwnProperty,NX=gP.propertyIsEnumerable,$X=gx(function(){return arguments}())?gx:function(t){return LX(t)&&FX.call(t,"callee")&&!NX.call(t,"callee")},BX=$X,VX=Array.isArray,eb=VX,vp={exports:{}};function GX(){return!1}var jX=GX;vp.exports;(function(t,e){var n=ds,r=jX,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(vp,vp.exports);var yP=vp.exports,zX=9007199254740991,UX=/^(?:0|[1-9]\d*)$/;function YX(t,e){var n=typeof t;return e=e??zX,!!e&&(n=="number"||n!="symbol"&&UX.test(t))&&t>-1&&t%1==0&&t<e}var HX=YX,WX=9007199254740991;function qX(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=WX}var _P=qX,KX=zm,XX=_P,ZX=dh,JX="[object Arguments]",QX="[object Array]",e9="[object Boolean]",t9="[object Date]",n9="[object Error]",r9="[object Function]",i9="[object Map]",s9="[object Number]",a9="[object Object]",o9="[object RegExp]",l9="[object Set]",u9="[object String]",c9="[object WeakMap]",d9="[object ArrayBuffer]",h9="[object DataView]",f9="[object Float32Array]",p9="[object Float64Array]",m9="[object Int8Array]",g9="[object Int16Array]",y9="[object Int32Array]",_9="[object Uint8Array]",v9="[object Uint8ClampedArray]",b9="[object Uint16Array]",w9="[object Uint32Array]",Ht={};Ht[f9]=Ht[p9]=Ht[m9]=Ht[g9]=Ht[y9]=Ht[_9]=Ht[v9]=Ht[b9]=Ht[w9]=!0;Ht[JX]=Ht[QX]=Ht[d9]=Ht[e9]=Ht[h9]=Ht[t9]=Ht[n9]=Ht[r9]=Ht[i9]=Ht[s9]=Ht[a9]=Ht[o9]=Ht[l9]=Ht[u9]=Ht[c9]=!1;function E9(t){return ZX(t)&&XX(t.length)&&!!Ht[KX(t)]}var T9=E9;function x9(t){return function(e){return t(e)}}var tb=x9,bp={exports:{}};bp.exports;(function(t,e){var n=cP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(bp,bp.exports);var nb=bp.exports,C9=T9,S9=tb,yx=nb,_x=yx&&yx.isTypedArray,R9=_x?S9(_x):C9,k9=R9,I9=kX,A9=BX,M9=eb,P9=yP,D9=HX,O9=k9,L9=Object.prototype,F9=L9.hasOwnProperty;function N9(t,e){var n=M9(t),r=!n&&A9(t),i=!n&&!r&&P9(t),s=!n&&!r&&!i&&O9(t),a=n||r||i||s,o=a?I9(t.length,String):[],l=o.length;for(var c in t)(e||F9.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||D9(c,l)))&&o.push(c);return o}var vP=N9,$9=Object.prototype;function B9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$9;return t===n}var rb=B9;function V9(t,e){return function(n){return t(e(n))}}var bP=V9,G9=bP,j9=G9(Object.keys,Object),z9=j9,U9=rb,Y9=z9,H9=Object.prototype,W9=H9.hasOwnProperty;function q9(t){if(!U9(t))return Y9(t);var e=[];for(var n in Object(t))W9.call(t,n)&&n!="constructor"&&e.push(n);return e}var K9=q9,X9=hP,Z9=_P;function J9(t){return t!=null&&Z9(t.length)&&!X9(t)}var wP=J9,Q9=vP,eZ=K9,tZ=wP;function nZ(t){return tZ(t)?Q9(t):eZ(t)}var ib=nZ,rZ=Hm,iZ=ib;function sZ(t,e){return t&&rZ(e,iZ(e),t)}var aZ=sZ;function oZ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var lZ=oZ,uZ=ch,cZ=rb,dZ=lZ,hZ=Object.prototype,fZ=hZ.hasOwnProperty;function pZ(t){if(!uZ(t))return dZ(t);var e=cZ(t),n=[];for(var r in t)r=="constructor"&&(e||!fZ.call(t,r))||n.push(r);return n}var mZ=pZ,gZ=vP,yZ=mZ,_Z=wP;function vZ(t){return _Z(t)?gZ(t,!0):yZ(t)}var sb=vZ,bZ=Hm,wZ=sb;function EZ(t,e){return t&&bZ(e,wZ(e),t)}var TZ=EZ,wp={exports:{}};wp.exports;(function(t,e){var n=ds,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,h=o?o(d):new c.constructor(d);return c.copy(h),h}t.exports=l})(wp,wp.exports);var xZ=wp.exports;function CZ(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var SZ=CZ;function RZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var kZ=RZ;function IZ(){return[]}var EP=IZ,AZ=kZ,MZ=EP,PZ=Object.prototype,DZ=PZ.propertyIsEnumerable,vx=Object.getOwnPropertySymbols,OZ=vx?function(t){return t==null?[]:(t=Object(t),AZ(vx(t),function(e){return DZ.call(t,e)}))}:MZ,ab=OZ,LZ=Hm,FZ=ab;function NZ(t,e){return LZ(t,FZ(t),e)}var $Z=NZ;function BZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var TP=BZ,VZ=bP,GZ=VZ(Object.getPrototypeOf,Object),xP=GZ,jZ=TP,zZ=xP,UZ=ab,YZ=EP,HZ=Object.getOwnPropertySymbols,WZ=HZ?function(t){for(var e=[];t;)jZ(e,UZ(t)),t=zZ(t);return e}:YZ,CP=WZ,qZ=Hm,KZ=CP;function XZ(t,e){return qZ(t,KZ(t),e)}var ZZ=XZ,JZ=TP,QZ=eb;function eJ(t,e,n){var r=e(t);return QZ(t)?r:JZ(r,n(t))}var SP=eJ,tJ=SP,nJ=ab,rJ=ib;function iJ(t){return tJ(t,rJ,nJ)}var sJ=iJ,aJ=SP,oJ=CP,lJ=sb;function uJ(t){return aJ(t,lJ,oJ)}var cJ=uJ,dJ=_l,hJ=ds,fJ=dJ(hJ,"DataView"),pJ=fJ,mJ=_l,gJ=ds,yJ=mJ(gJ,"Promise"),_J=yJ,vJ=_l,bJ=ds,wJ=vJ(bJ,"Set"),EJ=wJ,TJ=_l,xJ=ds,CJ=TJ(xJ,"WeakMap"),SJ=CJ,W_=pJ,q_=Q1,K_=_J,X_=EJ,Z_=SJ,RP=zm,Xu=fP,bx="[object Map]",RJ="[object Object]",wx="[object Promise]",Ex="[object Set]",Tx="[object WeakMap]",xx="[object DataView]",kJ=Xu(W_),IJ=Xu(q_),AJ=Xu(K_),MJ=Xu(X_),PJ=Xu(Z_),Co=RP;(W_&&Co(new W_(new ArrayBuffer(1)))!=xx||q_&&Co(new q_)!=bx||K_&&Co(K_.resolve())!=wx||X_&&Co(new X_)!=Ex||Z_&&Co(new Z_)!=Tx)&&(Co=function(t){var e=RP(t),n=e==RJ?t.constructor:void 0,r=n?Xu(n):"";if(r)switch(r){case kJ:return xx;case IJ:return bx;case AJ:return wx;case MJ:return Ex;case PJ:return Tx}return e});var ob=Co,DJ=Object.prototype,OJ=DJ.hasOwnProperty;function LJ(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&OJ.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var FJ=LJ,NJ=ds,$J=NJ.Uint8Array,BJ=$J,Cx=BJ;function VJ(t){var e=new t.constructor(t.byteLength);return new Cx(e).set(new Cx(t)),e}var lb=VJ,GJ=lb;function jJ(t,e){var n=e?GJ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var zJ=jJ,UJ=/\w*$/;function YJ(t){var e=new t.constructor(t.source,UJ.exec(t));return e.lastIndex=t.lastIndex,e}var HJ=YJ,Sx=J1,Rx=Sx?Sx.prototype:void 0,kx=Rx?Rx.valueOf:void 0;function WJ(t){return kx?Object(kx.call(t)):{}}var qJ=WJ,KJ=lb;function XJ(t,e){var n=e?KJ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var ZJ=XJ,JJ=lb,QJ=zJ,eQ=HJ,tQ=qJ,nQ=ZJ,rQ="[object Boolean]",iQ="[object Date]",sQ="[object Map]",aQ="[object Number]",oQ="[object RegExp]",lQ="[object Set]",uQ="[object String]",cQ="[object Symbol]",dQ="[object ArrayBuffer]",hQ="[object DataView]",fQ="[object Float32Array]",pQ="[object Float64Array]",mQ="[object Int8Array]",gQ="[object Int16Array]",yQ="[object Int32Array]",_Q="[object Uint8Array]",vQ="[object Uint8ClampedArray]",bQ="[object Uint16Array]",wQ="[object Uint32Array]";function EQ(t,e,n){var r=t.constructor;switch(e){case dQ:return JJ(t);case rQ:case iQ:return new r(+t);case hQ:return QJ(t,n);case fQ:case pQ:case mQ:case gQ:case yQ:case _Q:case vQ:case bQ:case wQ:return nQ(t,n);case sQ:return new r;case aQ:case uQ:return new r(t);case oQ:return eQ(t);case lQ:return new r;case cQ:return tQ(t)}}var TQ=EQ,xQ=ch,Ix=Object.create,CQ=function(){function t(){}return function(e){if(!xQ(e))return{};if(Ix)return Ix(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),SQ=CQ,RQ=SQ,kQ=xP,IQ=rb;function AQ(t){return typeof t.constructor=="function"&&!IQ(t)?RQ(kQ(t)):{}}var MQ=AQ,PQ=ob,DQ=dh,OQ="[object Map]";function LQ(t){return DQ(t)&&PQ(t)==OQ}var FQ=LQ,NQ=FQ,$Q=tb,Ax=nb,Mx=Ax&&Ax.isMap,BQ=Mx?$Q(Mx):NQ,VQ=BQ,GQ=ob,jQ=dh,zQ="[object Set]";function UQ(t){return jQ(t)&&GQ(t)==zQ}var YQ=UQ,HQ=YQ,WQ=tb,Px=nb,Dx=Px&&Px.isSet,qQ=Dx?WQ(Dx):HQ,KQ=qQ,XQ=hX,ZQ=pX,JQ=mP,QQ=aZ,eee=TZ,tee=xZ,nee=SZ,ree=$Z,iee=ZZ,see=sJ,aee=cJ,oee=ob,lee=FJ,uee=TQ,cee=MQ,dee=eb,hee=yP,fee=VQ,pee=ch,mee=KQ,gee=ib,yee=sb,_ee=1,vee=2,bee=4,kP="[object Arguments]",wee="[object Array]",Eee="[object Boolean]",Tee="[object Date]",xee="[object Error]",IP="[object Function]",Cee="[object GeneratorFunction]",See="[object Map]",Ree="[object Number]",AP="[object Object]",kee="[object RegExp]",Iee="[object Set]",Aee="[object String]",Mee="[object Symbol]",Pee="[object WeakMap]",Dee="[object ArrayBuffer]",Oee="[object DataView]",Lee="[object Float32Array]",Fee="[object Float64Array]",Nee="[object Int8Array]",$ee="[object Int16Array]",Bee="[object Int32Array]",Vee="[object Uint8Array]",Gee="[object Uint8ClampedArray]",jee="[object Uint16Array]",zee="[object Uint32Array]",Bt={};Bt[kP]=Bt[wee]=Bt[Dee]=Bt[Oee]=Bt[Eee]=Bt[Tee]=Bt[Lee]=Bt[Fee]=Bt[Nee]=Bt[$ee]=Bt[Bee]=Bt[See]=Bt[Ree]=Bt[AP]=Bt[kee]=Bt[Iee]=Bt[Aee]=Bt[Mee]=Bt[Vee]=Bt[Gee]=Bt[jee]=Bt[zee]=!0;Bt[xee]=Bt[IP]=Bt[Pee]=!1;function yf(t,e,n,r,i,s){var a,o=e&_ee,l=e&vee,c=e&bee;if(n&&(a=i?n(t,r,i,s):n(t)),a!==void 0)return a;if(!pee(t))return t;var u=dee(t);if(u){if(a=lee(t),!o)return nee(t,a)}else{var d=oee(t),h=d==IP||d==Cee;if(hee(t))return tee(t,o);if(d==AP||d==kP||h&&!i){if(a=l||h?{}:cee(t),!o)return l?iee(t,eee(a,t)):ree(t,QQ(a,t))}else{if(!Bt[d])return i?t:{};a=uee(t,d,o)}}s||(s=new XQ);var f=s.get(t);if(f)return f;s.set(t,a),mee(t)?t.forEach(function(y){a.add(yf(y,e,n,y,t,s))}):fee(t)&&t.forEach(function(y,v){a.set(v,yf(y,e,n,v,t,s))});var p=c?l?aee:see:l?yee:gee,m=u?void 0:p(t);return ZQ(m||t,function(y,v){m&&(v=y,y=t[v]),JQ(a,v,yf(y,e,n,v,t,s))}),a}var Uee=yf,Yee=Uee,Hee=1,Wee=4;function qee(t){return Yee(t,Hee|Wee)}var Kee=qee;const ef=Tp(Kee),Xee={name:"SettingsPanel",components:{SettingsPanelHeader:IU,FieldLanguage:FU,FieldDateFormat:BU,FieldTimeFormat:jU,FieldBackgroundMap:f7,BaseBackdrop:Vm,AppVersion:v7},emits:["settingsChanged"],data:function(){return{isEnabled:!1,settings:new yA}},watch:{settings:{deep:!0,handler(){this.saveSettings()}}},mounted(){Xe.$on("settings-panel-open",this.enable),Xe.$on("mode-changed",this.modeChange)},methods:{enable(){this.settings=ef(this.$store.state.settings.settings),this.isEnabled=!0,this.$nextTick(()=>{this.$refs.panelBody&&(this.$refs.panelBody.scrollTop=0)})},disable(){this.isEnabled=!1,this.saveSettings()},saveSettings(){this.$store.commit("setSettings",ef(this.settings)),Xe.$emit("settingsChanged")},modeChange(t){this.settings=ef(this.$store.state.settings.settings),this.settings.mode=t,this.$store.commit("setSettings",ef(this.settings))}}},Zee={class:"settings-panel"},Jee={ref:"panelBody",class:"settings-panel-body"};function Qee(t,e,n,r,i,s){const a=Ie("base-backdrop"),o=Ie("settings-panel-header"),l=Ie("field-language"),c=Ie("field-date-format"),u=Ie("field-time-format"),d=Ie("field-background-map"),h=Ie("app-version");return On((K(),ae("div",null,[we(a,{onClick:s.disable},null,8,["onClick"]),ye("div",Zee,[we(o,{onClose:s.disable},null,8,["onClose"]),ye("div",Jee,[we(l,{settings:t.settings},null,8,["settings"]),we(c,{settings:t.settings},null,8,["settings"]),we(u,{settings:t.settings},null,8,["settings"]),we(d,{settings:t.settings},null,8,["settings"]),we(h)],512)])],512)),[[Ln,t.isEnabled]])}const ete=je(Xee,[["render",Qee]]),tte={name:"InfoPanelHeader",emits:["close"]},nte={class:"info-panel-header opendata-row"};function rte(t,e,n,r,i,s){return K(),ae("div",nte,[ye("span",null,Ye(t.$t("info.title")),1),ye("span",{class:"close-button",onClick:e[0]||(e[0]=a=>t.$emit("close"))},"×")])}const ite=je(tte,[["render",rte],["__scopeId","data-v-f30c3c6d"]]),ste={name:"InfoPanel",components:{InfoPanelHeader:ite,BaseBackdrop:Vm},data:function(){return{isEnabled:!1}},mounted(){Xe.$on("info-panel-open",this.enable)},methods:{enable(){this.isEnabled=!0,this.$nextTick(()=>{this.$refs.panelBody&&(this.$refs.panelBody.scrollTop=0)})},disable(){this.isEnabled=!1}}},ate={class:"info-panel"},ote={class:"info-panel-body"},lte={href:"https://github.com/StukFi/opendata",target:"_blank"};function ute(t,e,n,r,i,s){const a=Ie("base-backdrop"),o=Ie("info-panel-header");return On((K(),ae("div",null,[we(a,{onClick:s.disable},null,8,["onClick"]),ye("div",ate,[we(o,{onClose:s.disable},null,8,["onClose"]),ye("div",ote,[ye("p",null,Ye(t.$t("info.p1")),1),ye("p",null,[tr(Ye(t.$t("info.p2"))+" ",1),ye("a",lte,Ye(t.$t("info.p3")),1),e[0]||(e[0]=tr(". "))])])])],512)),[[Ln,t.isEnabled]])}const cte=je(ste,[["render",ute]]),dte={name:"MediaControllerButton",props:{icon:{type:String,default:""},text:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["click"],computed:{style(){return this.icon?{backgroundImage:`url(/icons/${this.icon}.svg)`}:{}}}},hte=["disabled"];function fte(t,e,n,r,i,s){return K(),ae("button",{style:vn(s.style),disabled:n.disabled,onClick:e[0]||(e[0]=a=>t.$emit("click"))},Ye(n.text),13,hte)}const ub=je(dte,[["render",fte],["__scopeId","data-v-43287a41"]]),pte={name:"ButtonPlaybackState",components:{MediaControllerButton:ub},props:{mediaController:{type:Object,required:!0}},computed:{icon(){return this.mediaController.state.isPlaybackEnabled?"media-pause":"media-play"},disabled(){return this.mediaController.isPlaybackFinished()},title(){if(this.disabled){if(this.mediaController.state.playbackMode==="time")return this.$t("playback.title.disabled.time");if(this.mediaController.state.playbackMode==="date")return this.$t("playback.title.disabled.date")}else return this.mediaController.state.isPlaybackEnabled?this.$t("playback.title.stop"):this.$t("playback.title.start");return""}},methods:{handleClick(){this.mediaController.togglePlayback()}}};function mte(t,e,n,r,i,s){const a=Ie("media-controller-button");return K(),Fe(a,{icon:s.icon,disabled:s.disabled,title:s.title,onClick:s.handleClick},null,8,["icon","disabled","title","onClick"])}const gte=je(pte,[["render",mte]]),yte={name:"ButtonPlaybackMode",components:{MediaControllerButton:ub},props:{mediaController:{type:Object,required:!0}},computed:{icon(){return this.mediaController.state.playbackMode==="time"?"clock":"calendar"},title(){return this.mediaController.state.playbackMode==="time"?this.$t("playback.title.time"):this.$t("playback.title.date")}},methods:{handleClick(){this.mediaController.toggleMode()}}};function _te(t,e,n,r,i,s){const a=Ie("media-controller-button");return K(),Fe(a,{icon:s.icon,title:s.title,onClick:s.handleClick},null,8,["icon","title","onClick"])}const vte=je(yte,[["render",_te]]),bte={name:"ButtonPlaybackSpeed",components:{MediaControllerButton:ub},props:{mediaController:{type:Object,required:!0}},computed:{playbackSpeed(){return this.mediaController.state.playbackSpeed/1e3+" s"}},methods:{handleClick(){this.mediaController.toggleSpeed()}}};function wte(t,e,n,r,i,s){const a=Ie("media-controller-button");return K(),Fe(a,{text:s.playbackSpeed,title:t.$t("playback.title.speed"),onClick:s.handleClick},null,8,["text","title","onClick"])}const Ete=je(bte,[["render",wte]]);let Tte=class{constructor(){this.state=_i({isPlaybackEnabled:!1,playbackMode:"time",playbackSpeed:1e3,playbackSpeeds:[500,1e3,2e3],playbackTimeoutId:void 0})}play(){this.state.isPlaybackEnabled||(this.state.isPlaybackEnabled=!0,this.tick())}stop(){this.state.isPlaybackEnabled=!1,clearTimeout(this.state.playbackTimeoutId)}async tick(){if(this.state.isPlaybackEnabled){if(this.isPlaybackFinished()){this.stop();return}this.state.playbackMode==="date"?await Kl.dispatch("incrementDate"):this.state.playbackMode==="time"&&await Kl.dispatch("incrementTime"),this.state.playbackTimeoutId=setTimeout(()=>this.tick(),this.state.playbackSpeed)}}togglePlayback(){this.state.isPlaybackEnabled?this.stop():this.play()}toggleMode(){this.state.playbackMode=this.state.playbackMode==="date"?"time":"date"}toggleSpeed(){const e=this.state.playbackSpeeds.indexOf(this.state.playbackSpeed);this.state.playbackSpeed=e>=this.state.playbackSpeeds.length-1?this.state.playbackSpeeds[0]:this.state.playbackSpeeds[e+1]}isPlaybackFinished(){return this.state.playbackMode==="time"&&Kl.getters.isNewestTimeSelected||this.state.playbackMode==="date"&&Kl.getters.isNewestDateSelected}};function xte(){return new Tte}const Cte={name:"MediaController",components:{ButtonPlaybackState:gte,ButtonPlaybackMode:vte,ButtonPlaybackSpeed:Ete},data(){return{mediaController:xte()}}},Ste={class:"media-controller"};function Rte(t,e,n,r,i,s){const a=Ie("button-playback-mode"),o=Ie("button-playback-state"),l=Ie("button-playback-speed");return K(),ae("div",Ste,[we(a,{"media-controller":i.mediaController},null,8,["media-controller"]),we(o,{"media-controller":i.mediaController},null,8,["media-controller"]),we(l,{"media-controller":i.mediaController},null,8,["media-controller"])])}const kte=je(Cte,[["render",Rte]]),Ite={name:"SearchSuggestListItem",props:{suggestion:{type:String,required:!0}},emits:["click"]};function Ate(t,e,n,r,i,s){return K(),ae("p",{class:"search-suggest-list-item",onClick:e[0]||(e[0]=a=>t.$emit("click"))},Ye(n.suggestion),1)}const Mte=je(Ite,[["render",Ate]]),Pte={name:"SearchSuggestList",components:{SearchSuggestListItem:Mte},props:{searchTerm:{type:String,required:!0},sites:{type:Array,required:!0}},emits:["select"],data:function(){return{isEnabled:!1}},computed:{suggestions(){let t=[];return this.sites.forEach(e=>{e.toLowerCase().indexOf(this.searchTerm.toLowerCase())>=0&&(t.includes(e)||t.push(e))}),t.sort()}},methods:{show(){this.isEnabled=!0},hide(){this.isEnabled=!1}}},Dte={class:"search-suggest-list"},Ote={class:"list-container"};function Lte(t,e,n,r,i,s){const a=Ie("search-suggest-list-item");return On((K(),ae("div",Dte,[ye("div",Ote,[(K(!0),ae(Oe,null,xt(s.suggestions,o=>(K(),Fe(a,{key:o,suggestion:o,onClick:l=>t.$emit("select",o)},null,8,["suggestion","onClick"]))),128))])],512)),[[Ln,t.isEnabled&&s.suggestions.length>0]])}const Fte=je(Pte,[["render",Lte]]),MP=function(){return document.ontouchstart!==null?"click":"touchstart"},Ep="__vue_click_away__",PP=function(t,e,n){DP(t);let r=n.context,i=e.value,s=!1;setTimeout(function(){s=!0},0),t[Ep]=function(a){if((!t||!t.contains(a.target))&&i&&s&&typeof i=="function")return i.call(r,a)},document.addEventListener(MP(),t[Ep],!1)},DP=function(t){document.removeEventListener(MP(),t[Ep],!1),delete t[Ep]},Nte=function(t,e,n){e.value!==e.oldValue&&PP(t,e,n)},OP={install:function(t){t.directive("click-away",$te)}},$te={mounted:PP,updated:Nte,unmounted:DP},Bte={name:"SearchBar",components:{SearchSuggestList:Fte},mixins:[OP],emits:["featureSelectedViaSearch"],data(){return{searchTerm:"",features:[]}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRateMode(){return this.mode==="dose_rates"},isAirRadionuclidesMode(){return this.mode==="air_radionuclides"},sites(){let t=[];for(let e=0;e<this.features.length;++e){const n=this.features[e].get("site");t.includes(n)||t.push(n)}return t}},watch:{mode(t){(t==="dose_rates"||t==="air_radionuclides")&&this.updateFeatures()}},mounted(){this.isDoseRateMode?Xe.$on("doseRateLayerChanged",this.onDoseRateLayerChanged):this.isAirRadionuclidesMode&&Xe.$on("radionuclideLayerChanged",this.onRadionuclideLayerChanged)},methods:{updateFeatures(){this.features=[],this.isDoseRateMode?(Xe.$off("radionuclideLayerChanged",this.onRadionuclideLayerChanged),Xe.$on("doseRateLayerChanged",this.onDoseRateLayerChanged)):this.isAirRadionuclidesMode&&(Xe.$off("doseRateLayerChanged",this.onDoseRateLayerChanged),Xe.$on("radionuclideLayerChanged",this.onRadionuclideLayerChanged))},onDoseRateLayerChanged(t){this.features=t.getSource().getFeatures()},onRadionuclideLayerChanged(t){this.features=t.getSource().getFeatures()},onSuggestionSelected(t){this.searchTerm=t,this.search()},search(){if(this.searchTerm.length>0){const t=this.isDoseRateMode?"dose_rates":"air_radionuclides";for(let e=0;e<this.features.length;++e){const n=this.features[e].get("site");if(n.toLowerCase()===this.searchTerm.toLowerCase()){this.searchTerm=n,this.blur(),Xe.$emit("featureSelectedViaSearch",this.features[e],t);break}}}},showSuggestions(){this.$refs.searchSuggestList.show()},hideSuggestions(){this.$refs.searchSuggestList.hide()},blur(){this.$refs.searchBarInput.blur(),this.hideSuggestions()}}},Vte=["value"];function Gte(t,e,n,r,i,s){const a=Ie("search-suggest-list"),o=kv("click-away");return On((K(),ae("div",{class:Ge(["search-bar",{"dose-rate-mode":s.isDoseRateMode,"air-radionuclides-mode":s.isAirRadionuclidesMode}])},[ye("span",{class:"search-bar__icon",onClick:e[0]||(e[0]=l=>s.search())}),ye("input",{ref:"searchBarInput",value:i.searchTerm,type:"text",maxlength:"28",spellcheck:!1,class:"search-bar__input",onInput:e[1]||(e[1]=l=>i.searchTerm=l.target.value),onClick:e[2]||(e[2]=l=>s.showSuggestions()),onFocus:e[3]||(e[3]=l=>s.showSuggestions()),onKeyup:e[4]||(e[4]=qp(l=>s.search(),["enter"]))},null,40,Vte),we(a,{ref:"searchSuggestList","search-term":i.searchTerm,sites:s.sites,onSelect:s.onSuggestionSelected},null,8,["search-term","sites","onSelect"])],2)),[[o,s.blur]])}const jte=je(Bte,[["render",Gte]]),zte={name:"ButtonDateTime",props:{icon:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["click"],data(){return{iconStyle:{backgroundImage:"none"}}},watch:{icon:"updateStyle",disabled:"updateStyle"},mounted(){this.updateStyle()},methods:{async updateStyle(){if(this.disabled)this.iconStyle={backgroundImage:"none"};else try{const t=`/icons/${this.icon}.svg`;this.disabled||(this.iconStyle={backgroundImage:`url(${t})`})}catch{this.iconStyle={backgroundImage:"none"}}}}},Ute=["disabled"];function Yte(t,e,n,r,i,s){return K(),ae("button",{style:vn(i.iconStyle),disabled:n.disabled,onClick:e[0]||(e[0]=a=>t.$emit("click"))},null,12,Ute)}const Wm=je(zte,[["render",Yte],["__scopeId","data-v-8b41e01d"]]),Hte={name:"ButtonDecrementDate",components:{ButtonDateTime:Wm},computed:{isOldestDateSelected(){return this.$store.getters.isOldestDateSelected}},methods:{decrementDate(){this.$store.dispatch("decrementDate")}}};function Wte(t,e,n,r,i,s){const a=Ie("button-date-time");return K(),Fe(a,{icon:"caret-left",disabled:s.isOldestDateSelected,onClick:e[0]||(e[0]=o=>s.decrementDate())},null,8,["disabled"])}const qte=je(Hte,[["render",Wte],["__scopeId","data-v-fbb26811"]]),Kte={name:"ButtonIncrementDate",components:{ButtonDateTime:Wm},computed:{isNewestDateSelected(){return this.$store.getters.isNewestDateSelected}},methods:{incrementDate(){this.$store.dispatch("incrementDate")}}};function Xte(t,e,n,r,i,s){const a=Ie("button-date-time");return K(),Fe(a,{icon:"caret-right",disabled:s.isNewestDateSelected,onClick:e[0]||(e[0]=o=>s.incrementDate())},null,8,["disabled"])}const Zte=je(Kte,[["render",Xte],["__scopeId","data-v-3c041075"]]),Jte={name:"ButtonDatepicker",emits:["calendar-popup-open"],computed:{selectedDate(){const t=this.$store.state.datetime.selectedDate;if(t)switch(this.$store.state.settings.settings.dateFormat){case"fi":default:return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear();case"iso":return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}},methods:{openCalendar(){Xe.$emit("calendar-popup-open")}}};function Qte(t,e,n,r,i,s){return K(),ae("div",{class:"datepicker-button opendata-row",onClick:e[0]||(e[0]=(...a)=>s.openCalendar&&s.openCalendar(...a))},Ye(s.selectedDate),1)}const ene=je(Jte,[["render",Qte]]),tne={name:"DateWidget",components:{ButtonDecrementDate:qte,ButtonIncrementDate:Zte,ButtonDatepicker:ene}},nne={class:"date-widget"};function rne(t,e,n,r,i,s){const a=Ie("button-decrement-date"),o=Ie("button-datepicker"),l=Ie("button-increment-date");return K(),ae("div",nne,[we(a),we(o),we(l)])}const ine=je(tne,[["render",rne],["__scopeId","data-v-90531585"]]),sne={name:"ButtonDecrementTime",components:{ButtonDateTime:Wm},computed:{isOldestTimeSelected(){return this.$store.getters.isOldestTimeSelected}},methods:{decrementTime(){this.$store.dispatch("decrementTime")}}};function ane(t,e,n,r,i,s){const a=Ie("button-date-time");return K(),Fe(a,{icon:"caret-left",disabled:s.isOldestTimeSelected,onClick:e[0]||(e[0]=o=>s.decrementTime())},null,8,["disabled"])}const one=je(sne,[["render",ane],["__scopeId","data-v-d2bbd66d"]]),lne={name:"ButtonIncrementTime",components:{ButtonDateTime:Wm},computed:{isNewestTimeSelected(){return this.$store.getters.isNewestTimeSelected}},methods:{incrementTime(){this.$store.dispatch("incrementTime")}}};function une(t,e,n,r,i,s){const a=Ie("button-date-time");return K(),Fe(a,{icon:"caret-right",disabled:s.isNewestTimeSelected,onClick:e[0]||(e[0]=o=>s.incrementTime())},null,8,["disabled"])}const cne=je(lne,[["render",une],["__scopeId","data-v-719478c8"]]),dne={name:"Timepicker",emits:["timepicker-list-toggle"],computed:{formattedTime(){let t=this.$store.state.datetime.selectedTime;if(t)switch(t=t.slice(0,2)+":"+t.slice(2,4),this.$store.state.settings.settings.timeFormat){case"12h":return t=h1.convertTimeTo12HourClock(t),t.split(" ")[0]+"Z "+t.split(" ")[1];case"24h":default:return t+"Z"}}},methods:{toggleTimeList(){Xe.$emit("timepicker-list-toggle")}}},hne={class:"timepicker"};function fne(t,e,n,r,i,s){return K(),ae("div",hne,[ye("div",{class:"timepicker-button opendata-row",onClick:e[0]||(e[0]=(...a)=>s.toggleTimeList&&s.toggleTimeList(...a))},Ye(s.formattedTime),1)])}const pne=je(dne,[["render",fne]]),mne={name:"TimeWidget",components:{ButtonDecrementTime:one,ButtonIncrementTime:cne,Timepicker:pne}},gne={class:"time-widget"};function yne(t,e,n,r,i,s){const a=Ie("button-decrement-time"),o=Ie("timepicker"),l=Ie("button-increment-time");return K(),ae("div",gne,[we(a),we(o),we(l)])}const _ne=je(mne,[["render",yne],["__scopeId","data-v-41c67fbc"]]),vne={name:"TheHeader",components:{DateWidget:ine,TimeWidget:_ne}},bne={class:"header"};function wne(t,e,n,r,i,s){const a=Ie("date-widget"),o=Ie("time-widget");return K(),ae("div",bne,[we(a),we(o)])}const Ene=je(vne,[["render",wne],["__scopeId","data-v-a996c134"]]),Tne={name:"TimepickerListItem",props:{time:{type:String,default:""}},emits:["click"],computed:{selectedTime(){return this.$store.state.datetime.selectedTime},formattedTime(){let t=this.time.slice(0,2)+":"+this.time.slice(2,4);switch(this.$store.state.settings.settings.timeFormat){case"12h":return h1.convertTimeTo12HourClock(t);case"24h":default:return t}}},methods:{setTime(){this.$store.commit("setTime",this.time),this.$emit("click")}}};function xne(t,e,n,r,i,s){return K(),ae("li",{class:Ge({selected:n.time==s.selectedTime}),onClick:e[0]||(e[0]=(...a)=>s.setTime&&s.setTime(...a))},Ye(s.formattedTime),3)}const Cne=je(Tne,[["render",xne]]),Sne={name:"TimepickerList",components:{TimepickerListItem:Cne,BaseBackdrop:Vm},data:function(){return{isEnabled:!1}},computed:{availableTimesForSelectedDate(){return this.$store.getters.availableTimesForSelectedDate}},mounted(){Xe.$on("timepicker-list-toggle",this.toggle)},methods:{close(){this.isEnabled=!1},toggle(){this.isEnabled=!this.isEnabled}}},Rne={class:"timepicker-list"},kne={class:"list-container"};function Ine(t,e,n,r,i,s){const a=Ie("base-backdrop"),o=Ie("timepicker-list-item");return On((K(),ae("div",null,[we(a,{onClick:s.close},null,8,["onClick"]),ye("ul",Rne,[ye("div",kne,[(K(!0),ae(Oe,null,xt(s.availableTimesForSelectedDate.slice().reverse(),(l,c)=>(K(),Fe(o,{key:c,time:l,onClick:e[0]||(e[0]=u=>s.close())},null,8,["time"]))),128))])])],512)),[[Ln,t.isEnabled]])}const Ane=je(Sne,[["render",Ine],["__scopeId","data-v-bf2e8c75"]]),Mne={name:"DatepickerPopup",components:{VueDatePicker:Mm,BaseBackdrop:Vm},data:function(){return{isEnabled:!1,fi:"fi",en:"en"}},computed:{language:{get(){switch(this.$store.state.settings.settings.locale){case"en":default:return this.en;case"fi":return this.fi}}},date:{get(){return this.$store.state.datetime.selectedDate},set(t){this.$store.dispatch("setDate",t)}},allowedDates(){var t=this.$store.state.datetime.availableDatasets,e=[];return t.length===0||t.forEach(n=>{e.push(new Date(n.date))}),e}},mounted(){Xe.$on("calendar-popup-open",this.open)},methods:{formatDate(t){switch(this.$store.state.settings.settings.dateFormat){case"fi":default:return t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear();case"iso":return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},open(){this.isEnabled=!0},close(){this.isEnabled=!1}}};function Pne(t,e,n,r,i,s){const a=Ie("base-backdrop"),o=Ie("VueDatePicker");return On((K(),ae("div",null,[we(a,{onClick:s.close},null,8,["onClick"]),we(o,{modelValue:s.date,"onUpdate:modelValue":e[0]||(e[0]=l=>s.date=l),inline:!0,"menu-class-name":"dp-custom-menu",locale:s.language,"auto-apply":"","hide-offset-dates":"","allowed-dates":s.allowedDates,onDateUpdate:s.close},null,8,["modelValue","locale","allowed-dates","onDateUpdate"])],512)),[[Ln,t.isEnabled]])}const Dne=je(Mne,[["render",Pne]]),vy="units",One=[1,2,5],vc=25.4/.28;class Lne extends sh{constructor(e){e=e||{};const n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:e.render,target:e.target}),this.on,this.once,this.un;const r=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=r+"-inner",this.element.className=r+" "+Xo,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(vy,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(vy)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(vy,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=e.center,r=e.projection,i=this.getUnits(),s=i=="degrees"?"degrees":"m";let a=Zf(r,e.resolution,n,s);const o=this.minWidth_*(this.dpi_||vc)/vc,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||vc)/vc:void 0;let c=o*a,u="";if(i=="degrees"){const g=xu.degrees;c*=g,c<g/60?(u="″",a*=3600):c<g?(u="′",a*=60):u="°"}else if(i=="imperial")c<.9144?(u="in",a/=.0254):c<1609.344?(u="ft",a/=.3048):(u="mi",a/=1609.344);else if(i=="nautical")a/=1852,u="NM";else if(i=="metric")c<1e-6?(u="nm",a*=1e9):c<.001?(u="μm",a*=1e6):c<1?(u="mm",a*=1e3):c<1e3?u="m":(u="km",a/=1e3);else if(i=="us")c<.9144?(u="in",a*=39.37):c<1609.344?(u="ft",a/=.30480061):(u="mi",a/=1609.3472);else throw new Error("Invalid units");let d=3*Math.floor(Math.log(o*a)/Math.log(10)),h,f,p,m,y,v;for(;;){p=Math.floor(d/3);const g=Math.pow(10,p);if(h=One[(d%3+3)%3]*g,f=Math.round(h/a),isNaN(f)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&f>=l){h=m,f=y,p=v;break}else if(f>=o)break;m=h,y=f,v=p,++d}const b=this.scaleBar_?this.createScaleBar(f,h,u):h.toFixed(p<0?-p:0)+" "+u;this.renderedHTML_!=b&&(this.innerElement_.innerHTML=b,this.renderedHTML_=b),this.renderedWidth_!=f&&(this.innerElement_.style.width=f+"px",this.renderedWidth_=f),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,n,r){const i=this.getScaleForResolution(),s=i<1?Math.round(1/i).toLocaleString()+" : 1":"1 : "+Math.round(i).toLocaleString(),a=this.scaleBarSteps_,o=e/a,l=[this.createMarker("absolute")];for(let u=0;u<a;++u){const d=u%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${d}" style="width: ${o}px;"></div>`+this.createMarker("relative")+(u%2===0||a===2?this.createStepText(u,e,!1,n,r):"")+"</div>")}return l.push(this.createStepText(a,e,!0,n,r)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+s+"</div>":"")+l.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,n,r,i,s){const o=(e===0?0:Math.round(i/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+s),l=e===0?-3:n/this.scaleBarSteps_*-1,c=e===0?0:n/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${e===0?"left":"center"};min-width: ${c}px;left: ${r?n+"px":"unset"};">`+o+"</div>"}getScaleForResolution(){const e=Zf(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),n=this.dpi_||vc,r=1e3/25.4;return e*r*n}render(e){const n=e.frameState;n?this.viewState_=n.viewState:this.viewState_=null,this.updateElement_()}}const bc={VERTICAL:0,HORIZONTAL:1};class Fne extends sh{constructor(e){e=e||{},super({target:e.target,element:document.createElement("div"),render:e.render}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=bc.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.startX_,this.startY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=e.duration!==void 0?e.duration:200;const n=e.className!==void 0?e.className:"ol-zoomslider",r=document.createElement("button");r.setAttribute("type","button"),r.className=n+"-thumb "+Xo;const i=this.element;i.className=n+" "+Xo+" "+nm,i.appendChild(r),i.addEventListener(ba.POINTERDOWN,this.handleDraggerStart_.bind(this),!1),i.addEventListener(ba.POINTERMOVE,this.handleDraggerDrag_.bind(this),!1),i.addEventListener(ba.POINTERUP,this.handleDraggerEnd_.bind(this),!1),i.addEventListener(Ue.CLICK,this.handleContainerClick_.bind(this),!1),r.addEventListener(Ue.CLICK,B$,!1)}setMap(e){super.setMap(e),e&&e.render()}initSlider_(){const e=this.element;let n=e.offsetWidth,r=e.offsetHeight;if(n===0&&r===0)return this.sliderInitialized_=!1;const i=getComputedStyle(e);n-=parseFloat(i.paddingRight)+parseFloat(i.paddingLeft),r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom);const s=e.firstElementChild,a=getComputedStyle(s),o=s.offsetWidth+parseFloat(a.marginRight)+parseFloat(a.marginLeft),l=s.offsetHeight+parseFloat(a.marginTop)+parseFloat(a.marginBottom);return this.thumbSize_=[o,l],n>r?(this.direction_=bc.HORIZONTAL,this.widthLimit_=n-o):(this.direction_=bc.VERTICAL,this.heightLimit_=r-l),this.sliderInitialized_=!0}handleContainerClick_(e){const n=this.getMap().getView(),r=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),i=this.getResolutionForPosition_(r),s=n.getConstrainedZoom(n.getZoomForResolution(i));n.animateInternal({zoom:s,duration:this.duration_,easing:pl})}handleDraggerStart_(e){if(!this.dragging_&&e.target===this.element.firstElementChild){const n=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=e.clientX-parseFloat(n.style.left),this.startY_=e.clientY-parseFloat(n.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){const r=this.handleDraggerDrag_,i=this.handleDraggerEnd_,s=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(ht(s,ba.POINTERMOVE,r,this),ht(s,ba.POINTERUP,i,this))}}}handleDraggerDrag_(e){if(this.dragging_){const n=e.clientX-this.startX_,r=e.clientY-this.startY_,i=this.getRelativePosition_(n,r);this.currentResolution_=this.getResolutionForPosition_(i),this.getMap().getView().setResolution(this.currentResolution_)}}handleDraggerEnd_(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach($t),this.dragListenerKeys_.length=0)}setThumbPosition_(e){const n=this.getPositionForResolution_(e),r=this.element.firstElementChild;this.direction_==bc.HORIZONTAL?r.style.left=this.widthLimit_*n+"px":r.style.top=this.heightLimit_*n+"px"}getRelativePosition_(e,n){let r;return this.direction_===bc.HORIZONTAL?r=e/this.widthLimit_:r=n/this.heightLimit_,fn(r,0,1)}getResolutionForPosition_(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)}getPositionForResolution_(e){const n=this.getMap().getView().getValueForResolutionFunction();return fn(1-n(e),0,1)}render(e){if(!e.frameState||!this.sliderInitialized_&&!this.initSlider_())return;const n=e.frameState.viewState.resolution;this.currentResolution_=n,this.setThumbPosition_(n)}}const Nne={name:"TheMap",components:{DoseRateLayer:OV,RadionuclideLayer:NV,FeaturePopover:nG,FeaturePopup:fU,MapLegend:UV,SearchBar:jte,ButtonOpenSettings:yU,ButtonOpenInfo:wU,ButtonChangeMode:CU,SettingsPanel:ete,InfoPanel:cte,MediaController:kte,TheHeader:Ene,TimepickerList:Ane,DatepickerPopup:Dne},emits:["featureClicked","featureHovered","emptyMapLocationClicked","emptyMapLocationHovered"],data(){return{map:null,baseLayer:null,default:u7,custom:aP,customStyle:oP}},computed:{mode(){return this.$store.state.settings.settings.mode},isDoseRatesMode(){return this.mode==="dose_rates"},selectedBaseLayer(){return this.getBaseLayer()}},watch:{selectedBaseLayer(t){this.map&&this.map.getLayers().setAt(0,t)},mode(t){this.switchLayers(t==="dose_rates")}},mounted(){this.baseLayer=this.selectedBaseLayer,this.map=new bH({target:"map",layers:[this.baseLayer],controls:[new kM,new Fne,new Lne,new RM],view:new Hi({center:d_([25.75,65.75]),enableRotation:!1,minZoom:4,maxZoom:16,zoom:5})}),this.custom===void 0?this.custom=this.default:this.customStyle!==void 0&&this.customStyle(this.custom),this.map.on("click",this.onMapInteraction),this.map.on("pointermove",this.onMapInteraction),this.map.on("moveend",this.onZoomChange),Xe.$on("featurePopupOpened",this.centerViewOnFeaturePopup),this.$refs.featurePopover&&this.$refs.featurePopover.overlay&&this.map.addOverlay(this.$refs.featurePopover.overlay),this.$refs.featurePopup&&this.$refs.featurePopup.overlay&&this.map.addOverlay(this.$refs.featurePopup.overlay),this.switchLayers(this.mode==="dose_rates")},methods:{getBaseLayer(){switch(this.$store.state.settings.settings.backgroundMap){case"custom":return this.custom;case"default":return this.default;default:return this.default}},switchLayers(t){if(this.map){const e=this.$refs.doseRateLayer?this.$refs.doseRateLayer.vectorLayer:null,n=this.$refs.radionuclideLayer?this.$refs.radionuclideLayer.vectorLayer:null;t?(n&&this.map.removeLayer(n),e&&(this.map.addLayer(e),this.onZoomChange())):(e&&this.map.removeLayer(e),n&&(this.map.addLayer(n),this.onZoomChange()))}},onMapInteraction(t){var e=this.map.getEventPixel(t.originalEvent),n=this.map.getFeaturesAtPixel(e,{layerFilter:r=>r!==this.custom});n.length>0?t.type=="click"?Xe.$emit("featureClicked",n[0]):t.type=="pointermove"&&Xe.$emit("featureHovered",n[0]):t.type=="click"?Xe.$emit("emptyMapLocationClicked"):t.type=="pointermove"&&Xe.$emit("emptyMapLocationHovered")},onZoomChange(){const t=this.map.getView().getZoom();this.$refs.doseRateLayer.updateFeatureRadius(t),this.$refs.radionuclideLayer.updateFeatureRadius(t)},centerViewOnFeaturePopup(t){if(this.map&&this.$refs.featurePopup&&this.$refs.featurePopup.$el){const e=t.getGeometry().getCoordinates(),n=this.map.getPixelFromCoordinate(e);n[1]-=this.$refs.featurePopup.$el.clientHeight*.58;const r=this.map.getCoordinateFromPixel(n);this.map.getView().animate({center:r,duration:750})}}}},$ne={id:"map"};function Bne(t,e,n,r,i,s){const a=Ie("dose-rate-layer"),o=Ie("radionuclide-layer"),l=Ie("feature-popover"),c=Ie("feature-popup"),u=Ie("map-legend"),d=Ie("search-bar"),h=Ie("button-open-settings"),f=Ie("button-open-info"),p=Ie("button-change-mode"),m=Ie("settings-panel"),y=Ie("info-panel"),v=Ie("media-controller"),b=Ie("the-header"),g=Ie("timepicker-list"),_=Ie("datepicker-popup"),w=Ie("vue-progress-bar");return K(),ae("div",$ne,[we(a,{ref:"doseRateLayer"},null,512),we(o,{ref:"radionuclideLayer"},null,512),we(l,{ref:"featurePopover"},null,512),we(c,{ref:"featurePopup"},null,512),s.isDoseRatesMode?(K(),Fe(u,{key:0})):me("",!0),we(d),we(h),we(f),we(p),we(m),we(y),s.isDoseRatesMode?(K(),Fe(v,{key:1})):me("",!0),s.isDoseRatesMode?(K(),Fe(b,{key:2})):me("",!0),we(g),we(_),we(w)])}const Vne=je(Nne,[["render",Bne]]),Gne={name:"App",components:{TheMap:Vne},mounted(){this.$store.dispatch("initialize")}};function jne(t,e,n,r,i,s){const a=Ie("the-map");return K(),Fe(a)}const zne=je(Gne,[["render",jne]]);var LP={exports:{}};const Une=VP(LN);(function(t){t.exports=function(e){var n={};function r(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=n,r.d=function(i,s,a){r.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,s){if(s&1&&(i=r(i)),s&8||s&4&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),s&2&&typeof i!="string")for(var o in i)r.d(a,o,function(l){return i[l]}.bind(null,o));return a},r.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="",r(r.s="fb15")}({8875:function(e,n,r){var i,s,a;(function(o,l){s=[],i=l,a=typeof i=="function"?i.apply(n,s):i,a!==void 0&&(e.exports=a)})(typeof self<"u"?self:this,function(){function o(){var l=Object.getOwnPropertyDescriptor(document,"currentScript");if(!l&&"currentScript"in document&&document.currentScript||l&&l.get!==o&&document.currentScript)return document.currentScript;try{throw new Error}catch(_){var c=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,u=/@([^@]*):(\d+):(\d+)\s*$/ig,d=c.exec(_.stack)||u.exec(_.stack),h=d&&d[1]||!1,f=d&&d[2]||!1,p=document.location.href.replace(document.location.hash,""),m,y,v,b=document.getElementsByTagName("script");h===p&&(m=document.documentElement.outerHTML,y=new RegExp("(?:[^\\n]+?\\n){0,"+(f-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),v=m.replace(y,"$1").trim());for(var g=0;g<b.length;g++)if(b[g].readyState==="interactive"||b[g].src===h||h===p&&b[g].innerHTML&&b[g].innerHTML.trim()===v)return b[g];return null}}return o})},"8bbf":function(e,n){e.exports=Une},fb15:function(e,n,r){if(r.r(n),typeof window<"u"){var i=window.document.currentScript;{var s=r("8875");i=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s})}var a=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(r.p=a[1])}var o=r("8bbf");function l(p,m,y,v,b,g){return Object(o.openBlock)(),Object(o.createBlock)("div",{style:v.finalStyle},null,4)}var c=typeof window<"u",u={name:"VueProgress",serverCacheKey:function(){return"Progress"},setup:function(){var m=c?Object(o.inject)("RADON_LOADING_BAR"):{percent:0,options:{canSuccess:!0,show:!1,color:"rgb(19, 91, 55)",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},location:"top",autoRevert:!0,inverse:!1}},y=Object(o.computed)(function(){var v=m.options,b=!!v.show,g=v.location,_={"z-index":999999,"background-color":v.canSuccess?v.color:v.failedColor,opacity:v.show?1:0,position:v.position};return g==="top"||g==="bottom"?(g==="top"?_.top="0px":_.bottom="0px",v.inverse?_.right="0px":_.left="0px",_.width=m.percent+"%",_.height=v.thickness,_.transition=(b?"width "+v.transition.speed+", ":"")+"opacity "+v.transition.opacity):(g==="left"||g==="right")&&(g==="left"?_.left="0px":_.right="0px",v.inverse?_.top="0px":_.bottom="0px",_.height=m.percent+"%",_.width=v.thickness,_.transition=(b?"height "+v.transition.speed+", ":"")+"opacity "+v.transition.opacity),_});return{progress:m,finalStyle:y}}};u.render=l;var d=u;function h(p,m){for(var y=1,v,b;y<arguments.length;++y){b=arguments[y];for(v in b)Object.prototype.hasOwnProperty.call(b,v)&&(p[v]=b[v])}return p}var f={install:function(m,y){var v={canSuccess:!0,show:!1,color:"#73ccec",position:"fixed",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1,autoFinish:!0},b=h(v,y),g=Object(o.reactive)({percent:0,options:b});m.provide("RADON_LOADING_BAR",g);var _={state:{tFailColor:"",tColor:"",timer:null,cut:0},start:function(E){var x=this;E||(E=3e3),g.percent=0,g.options.show=!0,g.options.canSuccess=!0,this.state.cut=1e4/Math.floor(E),clearInterval(this.state.timer),this.state.timer=setInterval(function(){x.increase(x.state.cut*Math.random()),g.percent>95&&g.options.autoFinish&&x.finish()},100)},set:function(E){g.options.show=!0,g.options.canSuccess=!0,g.percent=Math.floor(E)},get:function(){return Math.floor(g.percent)},increase:function(E){g.percent=Math.min(99,g.percent+Math.floor(E))},decrease:function(E){g.percent=g.percent-Math.floor(E)},hide:function(){var E=this;clearInterval(this.state.timer),this.state.timer=null,setTimeout(function(){g.options.show=!1,Object(o.nextTick)(function(){setTimeout(function(){g.percent=0},100),g.options.autoRevert&&setTimeout(function(){E.revert()},300)})},g.options.transition.termination)},pause:function(){clearInterval(this.state.timer)},finish:function(){g.percent=100,this.hide()},fail:function(){g.options.canSuccess=!1,g.percent=100,this.hide()},setFailColor:function(E){g.options.failedColor=E},setColor:function(E){g.options.color=E},setLocation:function(E){g.options.location=E},setTransition:function(E){g.options.transition=E},tempFailColor:function(E){this.state.tFailColor=g.options.failedColor,g.options.failedColor=E},tempColor:function(E){this.state.tColor=g.options.color,g.options.color=E},tempLocation:function(E){this.state.tLocation=g.options.location,g.options.location=E},tempTransition:function(E){this.state.tTransition=g.options.transition,g.options.transition=E},revertColor:function(){g.options.color=this.state.tColor,this.state.tColor=""},revertFailColor:function(){g.options.failedColor=this.state.tFailColor,this.state.tFailColor=""},revertLocation:function(){g.options.location=this.state.tLocation,this.state.tLocation=""},revertTransition:function(){g.options.transition=this.state.tTransition,this.state.tTransition={}},revert:function(){g.options.autoRevert&&(this.state.tColor&&this.revertColor(),this.state.tFailColor&&this.revertFailColor(),this.state.tLocation&&this.revertLocation(),this.state.tTransition&&(this.state.tTransition.speed!==void 0||this.state.tTransition.opacity!==void 0)&&this.revertTransition())},parseMeta:function(E){for(var x in E.func){var S=E.func[x];switch(S.call){case"color":switch(S.modifier){case"set":this.setColor(S.argument);break;case"temp":this.tempColor(S.argument);break}break;case"fail":switch(S.modifier){case"set":this.setFailColor(S.argument);break;case"temp":this.tempFailColor(S.argument);break}break;case"location":switch(S.modifier){case"set":this.setLocation(S.argument);break;case"temp":this.tempLocation(S.argument);break}break;case"transition":switch(S.modifier){case"set":this.setTransition(S.argument);break;case"temp":this.tempTransition(S.argument);break}break}}}};m.component("vue-progress-bar",d),m.config.globalProperties.$Progress=_}};n.default=f}})})(LP);var Yne=LP.exports;const Hne=Tp(Yne),Wne={color:"white",failedColor:"#e95024",thickness:"0.25em"},Zu=Xc(zne);Zu.use(Kl);Zu.use(t_);Zu.use(Hne,Wne);Zu.use(OP);Zu.use(w$);Zu.mount("#app");
